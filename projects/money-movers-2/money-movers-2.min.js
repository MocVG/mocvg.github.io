!function(e){function i(){for(var e=0;e<w.length;e++)w[e][0](w[e][1]);y=!(w=[])}function n(e,t){w.push([e,t]),y||(y=!0,b(i,0))}function t(e,t){function i(e){p(t,e)}try{e(function(e){a(t,e)},i)}catch(e){i(e)}}function r(t){var e=(i=t.owner).state_,i=i.data_,n=t[e];if(t=t.then,"function"==typeof n){e=v;try{i=n(i)}catch(e){p(t,e)}}o(t,i)||(e===v&&a(t,i),e===z&&p(t,i))}function o(t,i){var n;try{if(t===i)throw new TypeError("A promises callback cannot return that same promise.");if(i&&("function"==typeof i||"object"==typeof i)){var e=i.then;if("function"==typeof e)return e.call(i,function(e){n||(n=!0,(i!==e?a:s)(t,e))},function(e){n||(n=!0,p(t,e))}),1}}catch(e){return n||p(t,e),1}}function a(e,t){e!==t&&o(e,t)||s(e,t)}function s(e,t){e.state_===f&&(e.state_=g,e.data_=t,n(h,e))}function p(e,t){e.state_===f&&(e.state_=g,e.data_=t,n(u,e))}function l(e){var t=e.then_;for(e.then_=void 0,e=0;e<t.length;e++)r(t[e])}function h(e){e.state_=v,l(e)}function u(e){e.state_=z,l(e)}function d(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(!1==this instanceof d)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],t(e,this)}function c(){}var m,y,_=e.Promise,x=_&&"resolve"in _&&"reject"in _&&"all"in _&&"race"in _&&(new _(function(e){m=e}),"function"==typeof m),f=("undefined"!=typeof exports&&exports?(exports.Promise=x?_:d,exports.Polyfill=d):"function"==typeof define&&define.amd?define(function(){return x?_:d}):x||(e.Promise=d),"pending"),g="sealed",v="fulfilled",z="rejected",b="undefined"!=typeof setImmediate?setImmediate:setTimeout,w=[];d.prototype={constructor:d,state_:f,then_:null,data_:void 0,then:function(e,t){e={owner:this,then:new this.constructor(c),fulfilled:e,rejected:t};return this.state_===v||this.state_===z?n(r,e):this.then_.push(e),e.then},catch:function(e){return this.then(null,e)}},d.all=function(a){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("You must pass an array to Promise.all().");return new this(function(i,e){for(var t,n=[],r=0,o=0;o<a.length;o++)(t=a[o])&&"function"==typeof t.then?t.then(function(t){return r++,function(e){n[t]=e,--r||i(n)}}(o),e):n[o]=t;r||i(n)})},d.race=function(r){if("[object Array]"!==Object.prototype.toString.call(r))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,t){for(var i,n=0;n<r.length;n++)(i=r[n])&&"function"==typeof i.then?i.then(e,t):e(i)})},d.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},d.reject=function(i){return new this(function(e,t){t(i)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),function(e){var t;"object"==typeof exports?module.exports=e():("undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.p2=e())}(function(){return function n(r,o,a){function s(i,e){if(!o[i]){if(!r[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(p)return p(i,!0);throw new Error("Cannot find module '"+i+"'")}e=o[i]={exports:{}};r[i][0].call(e.exports,function(e){var t=r[i][1][e];return s(t||e)},e,e.exports,n,r,o,a)}return o[i].exports}for(var p="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,i){var l=e("./Scalar");function n(){}(t.exports=n).lineInt=function(e,t,i){var n=[0,0],r=e[1][1]-e[0][1],o=e[0][0]-e[1][0],e=r*e[0][0]+o*e[0][1],a=t[1][1]-t[0][1],s=t[0][0]-t[1][0],t=a*t[0][0]+s*t[0][1],p=r*s-a*o;return l.eq(p,0,i=i||0)||(n[0]=(s*e-o*t)/p,n[1]=(r*t-a*e)/p),n},n.segmentsIntersect=function(e,t,i,n){var r=t[0]-e[0],t=t[1]-e[1],o=n[0]-i[0],n=n[1]-i[1];if(o*t-n*r==0)return!1;var a=(r*(i[1]-e[1])+t*(e[0]-i[0]))/(o*t-n*r),i=(o*(e[1]-i[1])+n*(i[0]-e[0]))/(n*r-o*t);return 0<=a&&a<=1&&0<=i&&i<=1}},{"./Scalar":4}],2:[function(e,t,i){function s(){}(t.exports=s).area=function(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])},s.left=function(e,t,i){return 0<s.area(e,t,i)},s.leftOn=function(e,t,i){return 0<=s.area(e,t,i)},s.right=function(e,t,i){return s.area(e,t,i)<0},s.rightOn=function(e,t,i){return s.area(e,t,i)<=0};var p=[],l=[];s.collinear=function(e,t,i,n){var r,o,a;return n?(a=l,(o=p)[0]=t[0]-e[0],o[1]=t[1]-e[1],a[0]=i[0]-t[0],a[1]=i[1]-t[1],r=o[0]*a[0]+o[1]*a[1],o=Math.sqrt(o[0]*o[0]+o[1]*o[1]),a=Math.sqrt(a[0]*a[0]+a[1]*a[1]),Math.acos(r/(o*a))<n):0==s.area(e,t,i)},s.sqdist=function(e,t){var i=t[0]-e[0],t=t[1]-e[1];return i*i+t*t}},{}],3:[function(e,t,i){var s=e("./Line"),b=e("./Point"),p=e("./Scalar");function w(){this.vertices=[]}(t.exports=w).prototype.at=function(e){var t=this.vertices,i=t.length;return t[e<0?e%i+i:e%i]},w.prototype.first=function(){return this.vertices[0]},w.prototype.last=function(){return this.vertices[this.vertices.length-1]},w.prototype.clear=function(){this.vertices.length=0},w.prototype.append=function(e,t,i){if(void 0===t)throw new Error("From is not given!");if(void 0===i)throw new Error("To is not given!");if(i-1<t)throw new Error("lol1");if(i>e.vertices.length)throw new Error("lol2");if(t<0)throw new Error("lol3");for(var n=t;n<i;n++)this.vertices.push(e.vertices[n])},w.prototype.makeCCW=function(){for(var e=0,t=this.vertices,i=1;i<this.vertices.length;++i)(t[i][1]<t[e][1]||t[i][1]==t[e][1]&&t[i][0]>t[e][0])&&(e=i);b.left(this.at(e-1),this.at(e),this.at(e+1))||this.reverse()},w.prototype.reverse=function(){for(var e=[],t=0,i=this.vertices.length;t!==i;t++)e.push(this.vertices.pop());this.vertices=e},w.prototype.isReflex=function(e){return b.right(this.at(e-1),this.at(e),this.at(e+1))};var l=[],h=[];function S(e,t,i,n,r){var o=t[1]-e[1],t=e[0]-t[0],e=o*e[0]+t*e[1],a=n[1]-i[1],n=i[0]-n[0],i=a*i[0]+n*i[1],s=o*n-a*t;return p.eq(s,0,r=r||0)?[0,0]:[(n*e-t*i)/s,(o*i-a*e)/s]}w.prototype.canSee=function(e,t){var i,n=l,r=h;if(b.leftOn(this.at(e+1),this.at(e),this.at(t))&&b.rightOn(this.at(e-1),this.at(e),this.at(t)))return!1;for(var o=b.sqdist(this.at(e),this.at(t)),a=0;a!==this.vertices.length;++a)if((a+1)%this.vertices.length!==e&&a!==e&&b.leftOn(this.at(e),this.at(t),this.at(a+1))&&b.rightOn(this.at(e),this.at(t),this.at(a))&&(n[0]=this.at(e),n[1]=this.at(t),r[0]=this.at(a),r[1]=this.at(a+1),i=s.lineInt(n,r),b.sqdist(this.at(e),i)<o))return!1;return!0},w.prototype.copy=function(e,t,i){var n=i||new w;if(n.clear(),e<t)for(var r=e;r<=t;r++)n.vertices.push(this.vertices[r]);else{for(r=0;r<=t;r++)n.vertices.push(this.vertices[r]);for(r=e;r<this.vertices.length;r++)n.vertices.push(this.vertices[r])}return n},w.prototype.getCutEdges=function(){for(var e=[],t=[],i=new w,n=Number.MAX_VALUE,r=0;r<this.vertices.length;++r)if(this.isReflex(r))for(var o=0;o<this.vertices.length;++o)if(this.canSee(r,o)){for(var t=this.copy(r,o,i).getCutEdges(),a=this.copy(o,r,i).getCutEdges(),s=0;s<a.length;s++)t.push(a[s]);t.length<n&&(n=(e=t).length,e.push([this.at(r),this.at(o)]))}return e},w.prototype.decomp=function(){var e=this.getCutEdges();return 0<e.length?this.slice(e):[this]},w.prototype.slice=function(e){if(0==e.length)return[this];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2==e[0].length&&e[0][0]instanceof Array){for(var t=[this],i=0;i<e.length;i++)for(var n=e[i],r=0;r<t.length;r++){var o=t[r].slice(n);if(o){t.splice(r,1),t.push(o[0],o[1]);break}}return t}return i=this.vertices.indexOf((n=e)[0]),r=this.vertices.indexOf(n[1]),-1!=i&&-1!=r&&[this.copy(i,r),this.copy(r,i)]},w.prototype.isSimple=function(){for(var e=this.vertices,t=0;t<e.length-1;t++)for(var i=0;i<t-1;i++)if(s.segmentsIntersect(e[t],e[t+1],e[i],e[i+1]))return!1;for(t=1;t<e.length-2;t++)if(s.segmentsIntersect(e[0],e[e.length-1],e[t],e[t+1]))return!1;return!0},w.prototype.quickDecomp=function(e,t,i,n,r,o){r=r||100,o=o||0,n=n||25,e=void 0!==e?e:[],t=t||[],i=i||[];var a=[0,0],s=[0,0],p=[0,0],l=0,h=0,u=0,d=0,c=0,m=0,y=0,_=new w,x=new w,f=this,g=this.vertices;if(g.length<3)return e;if(r<++o)return e;for(var v=0;v<this.vertices.length;++v)if(f.isReflex(v)){t.push(f.vertices[v]);for(var l=h=Number.MAX_VALUE,z=0;z<this.vertices.length;++z)b.left(f.at(v-1),f.at(v),f.at(z))&&b.rightOn(f.at(v-1),f.at(v),f.at(z-1))&&(p=S(f.at(v-1),f.at(v),f.at(z),f.at(z-1)),b.right(f.at(v+1),f.at(v),p)&&(u=b.sqdist(f.vertices[v],p))<h&&(h=u,s=p,m=z)),b.left(f.at(v+1),f.at(v),f.at(z+1))&&b.rightOn(f.at(v+1),f.at(v),f.at(z))&&(p=S(f.at(v+1),f.at(v),f.at(z),f.at(z+1)),b.left(f.at(v-1),f.at(v),p)&&(u=b.sqdist(f.vertices[v],p))<l&&(l=u,a=p,c=z));if(m==(c+1)%this.vertices.length)p[0]=(s[0]+a[0])/2,p[1]=(s[1]+a[1])/2,i.push(p),v<c?(_.append(f,v,c+1),_.vertices.push(p),x.vertices.push(p),0!=m&&x.append(f,m,f.vertices.length),x.append(f,0,v+1)):(0!=v&&_.append(f,v,f.vertices.length),_.append(f,0,c+1),_.vertices.push(p),x.vertices.push(p),x.append(f,m,v+1));else{if(c<m&&(c+=this.vertices.length),d=Number.MAX_VALUE,c<m)return e;for(z=m;z<=c;++z)b.leftOn(f.at(v-1),f.at(v),f.at(z))&&b.rightOn(f.at(v+1),f.at(v),f.at(z))&&(u=b.sqdist(f.at(v),f.at(z)))<d&&(d=u,y=z%this.vertices.length);v<y?(_.append(f,v,y+1),0!=y&&x.append(f,y,g.length),x.append(f,0,v+1)):(0!=v&&_.append(f,v,g.length),_.append(f,0,y+1),x.append(f,y,v+1))}return _.vertices.length<x.vertices.length?(_.quickDecomp(e,t,i,n,r,o),x.quickDecomp(e,t,i,n,r,o)):(x.quickDecomp(e,t,i,n,r,o),_.quickDecomp(e,t,i,n,r,o)),e}return e.push(this),e},w.prototype.removeCollinearPoints=function(e){for(var t=0,i=this.vertices.length-1;3<this.vertices.length&&0<=i;--i)b.collinear(this.at(i-1),this.at(i),this.at(i+1),e)&&(this.vertices.splice(i%this.vertices.length,1),i--,t++);return t}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(e,t,i){function n(){}(t.exports=n).eq=function(e,t,i){return i=i||0,Math.abs(e-t)<i}},{}],5:[function(e,t,i){t.exports={Polygon:e("./Polygon"),Point:e("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(e,t,i){t.exports={name:"p2",version:"0.7.0",description:"A JavaScript 2D physics engine.",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.0"}}},{}],7:[function(e,t,i){var c=e("../math/vec2");e("../utils/Utils");function n(e){this.lowerBound=c.create(),e&&e.lowerBound&&c.copy(this.lowerBound,e.lowerBound),this.upperBound=c.create(),e&&e.upperBound&&c.copy(this.upperBound,e.upperBound)}t.exports=n;var m=c.create();n.prototype.setFromPoints=function(e,t,i,n){for(var r=this.lowerBound,o=this.upperBound,a=(0!==(i="number"!=typeof i?0:i)?c.rotate(r,e[0],i):c.copy(r,e[0]),c.copy(o,r),Math.cos(i)),s=Math.sin(i),p=1;p<e.length;p++){var l,h,u=e[p];0!==i&&(l=u[0],h=u[1],m[0]=a*l-s*h,m[1]=s*l+a*h,u=m);for(var d=0;d<2;d++)u[d]>o[d]&&(o[d]=u[d]),u[d]<r[d]&&(r[d]=u[d])}t&&(c.add(this.lowerBound,this.lowerBound,t),c.add(this.upperBound,this.upperBound,t)),n&&(this.lowerBound[0]-=n,this.lowerBound[1]-=n,this.upperBound[0]+=n,this.upperBound[1]+=n)},n.prototype.copy=function(e){c.copy(this.lowerBound,e.lowerBound),c.copy(this.upperBound,e.upperBound)},n.prototype.extend=function(e){for(var t=2;t--;){var i=e.lowerBound[t],i=(this.lowerBound[t]>i&&(this.lowerBound[t]=i),e.upperBound[t]);this.upperBound[t]<i&&(this.upperBound[t]=i)}},n.prototype.overlaps=function(e){var t=this.lowerBound,i=this.upperBound,n=e.lowerBound,e=e.upperBound;return(n[0]<=i[0]&&i[0]<=e[0]||t[0]<=e[0]&&e[0]<=i[0])&&(n[1]<=i[1]&&i[1]<=e[1]||t[1]<=e[1]&&e[1]<=i[1])},n.prototype.containsPoint=function(e){var t=this.lowerBound,i=this.upperBound;return t[0]<=e[0]&&e[0]<=i[0]&&t[1]<=e[1]&&e[1]<=i[1]},n.prototype.overlapsRay=function(e){var t=1/e.direction[0],i=1/e.direction[1],n=(this.lowerBound[0]-e.from[0])*t,t=(this.upperBound[0]-e.from[0])*t,r=(this.lowerBound[1]-e.from[1])*i,e=(this.upperBound[1]-e.from[1])*i,i=Math.max(Math.max(Math.min(n,t),Math.min(r,e))),n=Math.min(Math.min(Math.max(n,t),Math.max(r,e)));return n<0||n<i?-1:i}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(e,t,i){var n=e("../math/vec2"),r=e("../objects/Body");function o(e){this.type=e,this.result=[],this.world=null,this.boundingVolumeType=o.AABB}(t.exports=o).AABB=1,o.BOUNDING_CIRCLE=2,o.prototype.setWorld=function(e){this.world=e},o.prototype.getCollisionPairs=function(e){};var a=n.create();o.boundingRadiusCheck=function(e,t){n.sub(a,e.position,t.position);var i=n.squaredLength(a),e=e.boundingRadius+t.boundingRadius;return i<=e*e},o.aabbCheck=function(e,t){return e.getAABB().overlaps(t.getAABB())},o.prototype.boundingVolumeCheck=function(e,t){var i;switch(this.boundingVolumeType){case o.BOUNDING_CIRCLE:i=o.boundingRadiusCheck(e,t);break;case o.AABB:i=o.aabbCheck(e,t);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return i},o.canCollide=function(e,t){var i=r.KINEMATIC,n=r.STATIC;return(e.type!==n||t.type!==n)&&(!(e.type===i&&t.type===n||e.type===n&&t.type===i)&&((e.type!==i||t.type!==i)&&((e.sleepState!==r.SLEEPING||t.sleepState!==r.SLEEPING)&&!(e.sleepState===r.SLEEPING&&t.type===n||t.sleepState===r.SLEEPING&&e.type===n))))},o.NAIVE=1,o.SAP=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(e,t,i){e("../shapes/Circle"),e("../shapes/Plane"),e("../shapes/Shape"),e("../shapes/Particle");var p=e("../collision/Broadphase");e("../math/vec2");function n(){p.call(this,p.NAIVE)}(((t.exports=n).prototype=new p).constructor=n).prototype.getCollisionPairs=function(e){for(var t=e.bodies,i=this.result,n=i.length=0,r=t.length;n!==r;n++)for(var o=t[n],a=0;a<n;a++){var s=t[a];p.canCollide(o,s)&&this.boundingVolumeCheck(o,s)&&i.push(o,s)}return i},n.prototype.aabbQuery=function(e,t,i){i=i||[];for(var n=e.bodies,r=0;r<n.length;r++){var o=n[r];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(t)&&i.push(o)}return i}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(e,t,l){var F=e("../math/vec2"),N=F.sub,U=F.add,H=F.dot,i=(e("../utils/Utils"),e("../utils/ContactEquationPool")),n=e("../utils/FrictionEquationPool"),r=e("../utils/TupleDictionary"),o=e("../equations/Equation"),a=(e("../equations/ContactEquation"),e("../equations/FrictionEquation"),e("../shapes/Circle")),s=e("../shapes/Convex"),p=e("../shapes/Shape"),w=(e("../objects/Body"),e("../shapes/Box")),S=(t.exports=Q,F.fromValues(0,1)),V=F.fromValues(0,0),W=F.fromValues(0,0),q=F.fromValues(0,0),X=F.fromValues(0,0),Y=F.fromValues(0,0),T=F.fromValues(0,0),K=F.fromValues(0,0),Z=F.fromValues(0,0),J=F.fromValues(0,0),G=F.fromValues(0,0),A=F.fromValues(0,0),E=F.fromValues(0,0),I=F.fromValues(0,0),B=F.fromValues(0,0),O=F.fromValues(0,0),L=F.fromValues(0,0),k=F.fromValues(0,0),M=F.fromValues(0,0),D=[];function Q(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new i({size:32}),this.frictionEquationPool=new n({size:64}),this.restitution=0,this.stiffness=o.DEFAULT_STIFFNESS,this.relaxation=o.DEFAULT_RELAXATION,this.frictionStiffness=o.DEFAULT_STIFFNESS,this.frictionRelaxation=o.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new r,this.contactSkinSize=.01}var h=F.create(),u=F.create();function f(e,t){F.set(e.vertices[0],.5*-t.length,-t.radius),F.set(e.vertices[1],.5*t.length,-t.radius),F.set(e.vertices[2],.5*t.length,t.radius),F.set(e.vertices[3],.5*-t.length,t.radius)}Q.prototype.bodiesOverlap=function(e,t){for(var i=h,n=u,r=0,o=e.shapes.length;r!==o;r++){var a=e.shapes[r];e.toWorldFrame(i,a.position);for(var s=0,p=t.shapes.length;s!==p;s++){var l=t.shapes[s];if(t.toWorldFrame(n,l.position),this[a.type|l.type](e,a,i,a.angle+e.angle,t,l,n,l.angle+t.angle,!0))return!0}}return!1},Q.prototype.collidedLastStep=function(e,t){e=0|e.id,t=0|t.id;return!!this.collidingBodiesLastStep.get(e,t)},Q.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var e=this.contactEquations,t=e.length;t--;){var i=e[t],n=i.bodyA.id,i=i.bodyB.id;this.collidingBodiesLastStep.set(n,i,!0)}for(var r=this.contactEquations,o=this.frictionEquations,a=0;a<r.length;a++)this.contactEquationPool.release(r[a]);for(a=0;a<o.length;a++)this.frictionEquationPool.release(o[a]);this.contactEquations.length=this.frictionEquations.length=0},Q.prototype.createContactEquation=function(e,t,i,n){var r=this.contactEquationPool.get();return r.bodyA=e,r.bodyB=t,r.shapeA=i,r.shapeB=n,r.restitution=this.restitution,r.firstImpact=!this.collidedLastStep(e,t),r.stiffness=this.stiffness,r.relaxation=this.relaxation,r.needsUpdate=!0,r.enabled=this.enabledEquations,r.offset=this.contactSkinSize,r},Q.prototype.createFrictionEquation=function(e,t,i,n){var r=this.frictionEquationPool.get();return r.bodyA=e,r.bodyB=t,r.shapeA=i,r.shapeB=n,r.setSlipForce(this.slipForce),r.frictionCoefficient=this.frictionCoefficient,r.relativeVelocity=this.surfaceVelocity,r.enabled=this.enabledEquations,r.needsUpdate=!0,r.stiffness=this.frictionStiffness,r.relaxation=this.frictionRelaxation,r.contactEquations.length=0,r},Q.prototype.createFrictionFromContact=function(e){var t=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB);return F.copy(t.contactPointA,e.contactPointA),F.copy(t.contactPointB,e.contactPointB),F.rotate90cw(t.t,e.normalA),t.contactEquations.push(e),t},Q.prototype.createFrictionFromAverage=function(e){var t=this.contactEquations[this.contactEquations.length-1],i=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB),n=t.bodyA;t.bodyB;F.set(i.contactPointA,0,0),F.set(i.contactPointB,0,0),F.set(i.t,0,0);for(var r=0;r!==e;r++)(t=this.contactEquations[this.contactEquations.length-1-r]).bodyA===n?(F.add(i.t,i.t,t.normalA),F.add(i.contactPointA,i.contactPointA,t.contactPointA),F.add(i.contactPointB,i.contactPointB,t.contactPointB)):(F.sub(i.t,i.t,t.normalA),F.add(i.contactPointA,i.contactPointA,t.contactPointB),F.add(i.contactPointB,i.contactPointB,t.contactPointA)),i.contactEquations.push(t);var o=1/e;return F.scale(i.contactPointA,i.contactPointA,o),F.scale(i.contactPointB,i.contactPointB,o),F.normalize(i.t,i.t),F.rotate90cw(i.t,i.t),i},Q.prototype[p.LINE|p.CONVEX]=Q.prototype.convexLine=function(e,t,i,n,r,o,a,s,p){return!p&&0},Q.prototype[p.LINE|p.BOX]=Q.prototype.lineBox=function(e,t,i,n,r,o,a,s,p){return!p&&0};var d=new w({width:1,height:1}),c=F.create(),g=(Q.prototype[p.CAPSULE|p.CONVEX]=Q.prototype[p.CAPSULE|p.BOX]=Q.prototype.convexCapsule=function(e,t,i,n,r,o,a,s,p){var l=c,h=(F.set(l,o.length/2,0),F.rotate(l,l,s),F.add(l,l,a),this.circleConvex(r,o,l,s,e,t,i,n,p,o.radius)),l=(F.set(l,-o.length/2,0),F.rotate(l,l,s),F.add(l,l,a),this.circleConvex(r,o,l,s,e,t,i,n,p,o.radius));if(p&&(h||l))return!0;var u=d;return f(u,o),this.convexConvex(e,t,i,n,r,u,a,s,p)+h+l},Q.prototype[p.CAPSULE|p.LINE]=Q.prototype.lineCapsule=function(e,t,i,n,r,o,a,s,p){return!p&&0},F.create()),v=F.create(),z=new w({width:1,height:1}),m=(Q.prototype[p.CAPSULE|p.CAPSULE]=Q.prototype.capsuleCapsule=function(e,t,i,n,r,o,a,s,p){for(var l=g,h=v,u=0,d=0;d<2;d++){F.set(l,(0===d?-1:1)*t.length/2,0),F.rotate(l,l,n),F.add(l,l,i);for(var c=0;c<2;c++){F.set(h,(0===c?-1:1)*o.length/2,0),F.rotate(h,h,s),F.add(h,h,a),this.enableFrictionReduction&&(y=this.enableFriction,this.enableFriction=!1);var m=this.circleCircle(e,t,l,n,r,o,h,s,p,t.radius,o.radius);if(this.enableFrictionReduction&&(this.enableFriction=y),p&&m)return!0;u+=m}}this.enableFrictionReduction&&(y=this.enableFriction,this.enableFriction=!1);var y,_=z,x=(f(_,t),this.convexCapsule(e,_,i,n,r,o,a,s,p));if(this.enableFrictionReduction&&(this.enableFriction=y),p&&x)return!0;u+=x,this.enableFrictionReduction&&(y=this.enableFriction,this.enableFriction=!1),f(_,o);x=this.convexCapsule(r,_,a,s,e,t,i,n,p);return this.enableFrictionReduction&&(this.enableFriction=y),!(!p||!x)||(u+=x,this.enableFrictionReduction&&u&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(u)),u)},Q.prototype[p.LINE|p.LINE]=Q.prototype.lineLine=function(e,t,i,n,r,o,a,s,p){return!p&&0},Q.prototype[p.PLANE|p.LINE]=Q.prototype.planeLine=function(e,t,i,n,r,o,a,s,p){var l=V,h=W,u=q,d=X,c=Y,m=T,y=K,_=Z,x=J,f=D,g=0;F.set(l,-o.length/2,0),F.set(h,o.length/2,0),F.rotate(u,l,s),F.rotate(d,h,s),U(u,u,a),U(d,d,a),F.copy(l,u),F.copy(h,d),N(c,h,l),F.normalize(m,c),F.rotate90cw(x,m),F.rotate(_,S,n),f[0]=l,f[1]=h;for(var v=0;v<f.length;v++){var z=f[v],b=(N(y,z,i),H(y,_));if(b<0){if(p)return!0;var w=this.createContactEquation(e,r,t,o);g++,F.copy(w.normalA,_),F.normalize(w.normalA,w.normalA),F.scale(y,_,b),N(w.contactPointA,z,y),N(w.contactPointA,w.contactPointA,e.position),N(w.contactPointB,z,a),U(w.contactPointB,w.contactPointB,a),N(w.contactPointB,w.contactPointB,r.position),this.contactEquations.push(w),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(w))}}return!p&&(this.enableFrictionReduction||g&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(g)),g)},Q.prototype[p.PARTICLE|p.CAPSULE]=Q.prototype.particleCapsule=function(e,t,i,n,r,o,a,s,p){return this.circleLine(e,t,i,n,r,o,a,s,p,o.radius,0)},Q.prototype[p.CIRCLE|p.LINE]=Q.prototype.circleLine=function(e,t,i,n,r,o,a,s,p,l,h){var l=l||0,h=void 0!==h?h:t.radius,u=V,d=W,c=q,m=X,y=Y,_=T,x=K,f=Z,g=J,v=G,z=A,b=E,w=I,S=B,C=D,s=(F.set(f,-o.length/2,0),F.set(g,o.length/2,0),F.rotate(v,f,s),F.rotate(z,g,s),U(v,v,a),U(z,z,a),F.copy(f,v),F.copy(g,z),N(_,g,f),F.normalize(x,_),F.rotate90cw(y,x),N(b,i,f),H(b,y)),k=(N(m,f,a),N(w,i,a),h+l);if(Math.abs(s)<k){F.scale(u,y,s),N(c,i,u),F.scale(d,y,H(y,w)),F.normalize(d,d),F.scale(d,d,l),U(c,c,d);v=H(x,c),z=H(x,f),_=H(x,g);if(z<v&&v<_){if(p)return!0;var M=this.createContactEquation(e,r,t,o);return F.scale(M.normalA,u,-1),F.normalize(M.normalA,M.normalA),F.scale(M.contactPointA,M.normalA,h),U(M.contactPointA,M.contactPointA,i),N(M.contactPointA,M.contactPointA,e.position),N(M.contactPointB,c,a),U(M.contactPointB,M.contactPointB,a),N(M.contactPointB,M.contactPointB,r.position),this.contactEquations.push(M),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(M)),1}}C[0]=f,C[1]=g;for(var P=0;P<C.length;P++){var O=C[P];if(N(b,O,i),F.squaredLength(b)<Math.pow(k,2)){if(p)return!0;M=this.createContactEquation(e,r,t,o);return F.copy(M.normalA,b),F.normalize(M.normalA,M.normalA),F.scale(M.contactPointA,M.normalA,h),U(M.contactPointA,M.contactPointA,i),N(M.contactPointA,M.contactPointA,e.position),N(M.contactPointB,O,a),F.scale(S,M.normalA,-l),U(M.contactPointB,M.contactPointB,S),U(M.contactPointB,M.contactPointB,a),N(M.contactPointB,M.contactPointB,r.position),this.contactEquations.push(M),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(M)),1}}return 0},Q.prototype[p.CIRCLE|p.CAPSULE]=Q.prototype.circleCapsule=function(e,t,i,n,r,o,a,s,p){return this.circleLine(e,t,i,n,r,o,a,s,p,o.radius)},Q.prototype[p.CIRCLE|p.CONVEX]=Q.prototype[p.CIRCLE|p.BOX]=Q.prototype.circleConvex=function(e,t,i,n,r,o,a,s,p,l){for(var l="number"==typeof l?l:t.radius,h=V,u=W,d=q,c=X,m=Y,y=G,_=A,x=I,f=B,g=O,v=L,z=!1,b=Number.MAX_VALUE,w=o.vertices,S=0;S!==w.length+1;S++){var C=w[S%w.length],k=w[(S+1)%w.length];F.rotate(h,C,s),F.rotate(u,k,s),U(h,h,a),U(u,u,a),N(d,u,h),F.normalize(c,d),F.rotate90cw(m,c),F.scale(f,m,-t.radius),U(f,f,i),R(f,o,a,s)&&(F.sub(g,h,f),(C=Math.abs(F.dot(g,m)))<b&&(F.copy(v,f),F.scale(x,m,b=C),F.add(x,x,f),z=!0))}if(z){if(p)return!0;var M=this.createContactEquation(e,r,t,o);return F.sub(M.normalA,v,i),F.normalize(M.normalA,M.normalA),F.scale(M.contactPointA,M.normalA,l),U(M.contactPointA,M.contactPointA,i),N(M.contactPointA,M.contactPointA,e.position),N(M.contactPointB,x,a),U(M.contactPointB,M.contactPointB,a),N(M.contactPointB,M.contactPointB,r.position),this.contactEquations.push(M),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(M)),1}if(0<l)for(S=0;S<w.length;S++){var P=w[S];if(F.rotate(_,P,s),U(_,_,a),N(y,_,i),F.squaredLength(y)<Math.pow(l,2)){if(p)return!0;M=this.createContactEquation(e,r,t,o);return F.copy(M.normalA,y),F.normalize(M.normalA,M.normalA),F.scale(M.contactPointA,M.normalA,l),U(M.contactPointA,M.contactPointA,i),N(M.contactPointA,M.contactPointA,e.position),N(M.contactPointB,_,a),U(M.contactPointB,M.contactPointB,a),N(M.contactPointB,M.contactPointB,r.position),this.contactEquations.push(M),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(M)),1}}return 0},F.create()),y=F.create(),_=F.create(),x=F.create();function R(e,t,i,n){for(var r=m,o=y,a=_,s=x,p=e,l=t.vertices,h=null,u=0;u!==l.length+1;u++){var d=l[u%l.length],c=l[(u+1)%l.length],d=(F.rotate(r,d,n),F.rotate(o,c,n),U(r,r,i),U(o,o,i),N(a,r,p),N(s,o,p),F.crossLength(a,s));if(d*(h=null===h?d:h)<=0)return;h=d}return 1}Q.prototype[p.PARTICLE|p.CONVEX]=Q.prototype[p.PARTICLE|p.BOX]=Q.prototype.particleConvex=function(e,t,i,n,r,o,a,s,p){var l=V,h=W,u=q,d=X,c=Y,m=T,y=K,_=G,x=I,f=k,g=M,v=Number.MAX_VALUE,z=!1,b=o.vertices;if(!R(i,o,a,s))return 0;if(p)return!0;for(var w=0;w!==b.length+1;w++){var S=b[w%b.length],C=b[(w+1)%b.length],S=(F.rotate(l,S,s),F.rotate(h,C,s),U(l,l,a),U(h,h,a),N(u,h,l),F.normalize(d,u),F.rotate90cw(c,d),N(_,i,l),H(_,c),N(m,l,a),N(y,i,a),F.sub(f,l,i),Math.abs(F.dot(f,c)));S<v&&(F.scale(x,c,v=S),F.add(x,x,i),F.copy(g,c),z=!0)}return z?(p=this.createContactEquation(e,r,t,o),F.scale(p.normalA,g,-1),F.normalize(p.normalA,p.normalA),F.set(p.contactPointA,0,0),U(p.contactPointA,p.contactPointA,i),N(p.contactPointA,p.contactPointA,e.position),N(p.contactPointB,x,a),U(p.contactPointB,p.contactPointB,a),N(p.contactPointB,p.contactPointB,r.position),this.contactEquations.push(p),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(p)),1):0},Q.prototype[p.CIRCLE]=Q.prototype.circleCircle=function(e,t,i,n,r,o,a,s,p,l,h){var u=V,l=l||t.radius,h=h||o.radius,d=(N(u,i,a),l+h);if(F.squaredLength(u)>Math.pow(d,2))return 0;if(p)return!0;u=this.createContactEquation(e,r,t,o);return N(u.normalA,a,i),F.normalize(u.normalA,u.normalA),F.scale(u.contactPointA,u.normalA,l),F.scale(u.contactPointB,u.normalA,-h),U(u.contactPointA,u.contactPointA,i),N(u.contactPointA,u.contactPointA,e.position),U(u.contactPointB,u.contactPointB,a),N(u.contactPointB,u.contactPointB,r.position),this.contactEquations.push(u),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(u)),1},Q.prototype[p.PLANE|p.CONVEX]=Q.prototype[p.PLANE|p.BOX]=Q.prototype.planeConvex=function(e,t,i,n,r,o,a,s,p){var l=V,h=W,u=q,d=0;F.rotate(h,S,n);for(var c=0;c!==o.vertices.length;c++){var m=o.vertices[c];if(F.rotate(l,m,s),U(l,l,a),N(u,l,i),H(u,h)<=0){if(p)return!0;d++;var m=this.createContactEquation(e,r,t,o),y=(N(u,l,i),F.copy(m.normalA,h),H(u,m.normalA));F.scale(u,m.normalA,y),N(m.contactPointB,l,r.position),N(m.contactPointA,l,u),N(m.contactPointA,m.contactPointA,e.position),this.contactEquations.push(m),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(m))}}return this.enableFrictionReduction&&this.enableFriction&&d&&this.frictionEquations.push(this.createFrictionFromAverage(d)),d},Q.prototype[p.PARTICLE|p.PLANE]=Q.prototype.particlePlane=function(e,t,i,n,r,o,a,s,p){var l=V,h=W,a=(s=s||0,N(l,i,a),F.rotate(h,S,s),H(l,h));if(0<a)return 0;if(p)return!0;s=this.createContactEquation(r,e,o,t);return F.copy(s.normalA,h),F.scale(l,s.normalA,a),N(s.contactPointA,i,l),N(s.contactPointA,s.contactPointA,r.position),N(s.contactPointB,i,e.position),this.contactEquations.push(s),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(s)),1},Q.prototype[p.CIRCLE|p.PARTICLE]=Q.prototype.circleParticle=function(e,t,i,n,r,o,a,s,p){var l=V;if(N(l,a,i),F.squaredLength(l)>Math.pow(t.radius,2))return 0;if(p)return!0;p=this.createContactEquation(e,r,t,o);return F.copy(p.normalA,l),F.normalize(p.normalA,p.normalA),F.scale(p.contactPointA,p.normalA,t.radius),U(p.contactPointA,p.contactPointA,i),N(p.contactPointA,p.contactPointA,e.position),N(p.contactPointB,a,r.position),this.contactEquations.push(p),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(p)),1};var b=new a({radius:1}),C=F.create(),P=F.create(),j=(F.create(),Q.prototype[p.PLANE|p.CAPSULE]=Q.prototype.planeCapsule=function(e,t,i,n,r,o,a,s,p){var l,h=C,u=P,d=b,s=(F.set(h,-o.length/2,0),F.rotate(h,h,s),U(h,h,a),F.set(u,o.length/2,0),F.rotate(u,u,s),U(u,u,a),d.radius=o.radius,this.enableFrictionReduction&&(l=this.enableFriction,this.enableFriction=!1),this.circlePlane(r,d,h,0,e,t,i,n,p)),a=this.circlePlane(r,d,u,0,e,t,i,n,p);return this.enableFrictionReduction&&(this.enableFriction=l),p?s||a:(o=s+a,this.enableFrictionReduction&&o&&this.frictionEquations.push(this.createFrictionFromAverage(o)),o)},Q.prototype[p.CIRCLE|p.PLANE]=Q.prototype.circlePlane=function(e,t,i,n,r,o,a,s,p){var l=t,s=s||0,h=V,u=W,d=q,s=(N(h,i,a),F.rotate(u,S,s),H(u,h));if(s>l.radius)return 0;if(p)return!0;p=this.createContactEquation(r,e,o,t);return F.copy(p.normalA,u),F.scale(p.contactPointB,p.normalA,-l.radius),U(p.contactPointB,p.contactPointB,i),N(p.contactPointB,p.contactPointB,e.position),F.scale(d,p.normalA,s),N(p.contactPointA,h,d),U(p.contactPointA,p.contactPointA,a),N(p.contactPointA,p.contactPointA,r.position),this.contactEquations.push(p),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(p)),1},Q.prototype[p.CONVEX]=Q.prototype[p.CONVEX|p.BOX]=Q.prototype[p.BOX]=Q.prototype.convexConvex=function(L,e,t,i,D,n,r,o,R,a){var s=V,p=W,l=q,h=X,u=Y,d=K,c=Z,m=J,y=0,a="number"==typeof a?a:0;if(!Q.findSeparatingAxis(e,t,i,n,r,o,s))return 0;N(c,r,t),0<H(s,c)&&F.scale(s,s,-1);var _=Q.getClosestEdge(e,i,s,!0),x=Q.getClosestEdge(n,o,s);if(-1===_||-1===x)return 0;for(var f=0;f<2;f++){var g,v=_,z=x,b=e,w=n,S=t,C=r,k=i,M=o,P=L,O=D;0===f&&(g=v,v=z,z=g,g=b,b=w,w=g,g=S,S=C,C=g,g=k,k=o,M=g,g=P,P=O,O=g);for(var T=z;T<z+2;T++){for(var G=w.vertices[(T+w.vertices.length)%w.vertices.length],j=(F.rotate(p,G,M),U(p,p,C),0),A=v-1;A<v+2;A++){var E=b.vertices[(A+b.vertices.length)%b.vertices.length],I=b.vertices[(A+1+b.vertices.length)%b.vertices.length],B=(F.rotate(l,E,k),F.rotate(h,I,k),U(l,l,S),U(h,h,S),N(u,h,l),F.rotate90cw(m,u),F.normalize(m,m),N(c,p,l),H(m,c));(A===v&&B<=a||A!==v&&B<=0)&&j++}if(3<=j){if(R)return!0;G=this.createContactEquation(P,O,b,w),E=(y++,b.vertices[v%b.vertices.length]),I=b.vertices[(v+1)%b.vertices.length],B=(F.rotate(l,E,k),F.rotate(h,I,k),U(l,l,S),U(h,h,S),N(u,h,l),F.rotate90cw(G.normalA,u),F.normalize(G.normalA,G.normalA),N(c,p,l),H(G.normalA,c));F.scale(d,G.normalA,B),N(G.contactPointA,p,S),N(G.contactPointA,G.contactPointA,d),U(G.contactPointA,G.contactPointA,S),N(G.contactPointA,G.contactPointA,P.position),N(G.contactPointB,p,C),U(G.contactPointB,G.contactPointB,C),N(G.contactPointB,G.contactPointB,O.position),this.contactEquations.push(G),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(G))}}}return this.enableFrictionReduction&&this.enableFriction&&y&&this.frictionEquations.push(this.createFrictionFromAverage(y)),y},F.fromValues(0,0)),$=(Q.projectConvexOntoAxis=function(e,t,i,n,r){var o,a=null,s=null,p=j;F.rotate(p,n,-i);for(var l=0;l<e.vertices.length;l++)o=e.vertices[l],o=H(o,p),(null===a||a<o)&&(a=o),(null===s||o<s)&&(s=o);a<s&&(i=s,s=a,a=i);i=H(t,n);F.set(r,s+i,a+i)},F.fromValues(0,0)),ee=F.fromValues(0,0),te=F.fromValues(0,0),ie=F.fromValues(0,0),ne=F.fromValues(0,0),re=F.fromValues(0,0),oe=(Q.findSeparatingAxis=function(e,t,i,n,r,o,a){var s=null,p=!1,l=!1,h=$,u=ee,d=te,c=ie,m=ne,y=re;if(e instanceof w&&n instanceof w)for(var _=0;2!==_;_++){var x=e,f=i;1===_&&(x=n,f=o);for(var g=0;2!==g;g++){0===g?F.set(c,0,1):1===g&&F.set(c,1,0),0!==f&&F.rotate(c,c,f),Q.projectConvexOntoAxis(e,t,i,c,m),Q.projectConvexOntoAxis(n,r,o,c,y);var v=m,z=y;m[0]>y[0]&&(z=m,v=y,0);p=(b=z[0]-v[1])<=0;(null===s||s<b)&&(F.copy(a,c),s=b,l=p)}}else for(_=0;2!==_;_++){x=e,f=i;1===_&&(x=n,f=o);for(g=0;g!==x.vertices.length;g++){F.rotate(u,x.vertices[g],f),F.rotate(d,x.vertices[(g+1)%x.vertices.length],f),N(h,d,u),F.rotate90cw(c,h),F.normalize(c,c),Q.projectConvexOntoAxis(e,t,i,c,m),Q.projectConvexOntoAxis(n,r,o,c,y);var b,v=m,z=y;m[0]>y[0]&&(z=m,v=y,0),p=(b=z[0]-v[1])<=0,(null===s||s<b)&&(F.copy(a,c),s=b,l=p)}}return l},F.fromValues(0,0)),ae=F.fromValues(0,0),se=F.fromValues(0,0),pe=(Q.getClosestEdge=function(e,t,i,n){for(var r=oe,o=ae,a=se,s=(F.rotate(r,i,-t),n&&F.scale(r,r,-1),-1),p=e.vertices.length,l=-1,h=0;h!==p;h++){N(o,e.vertices[(h+1)%p],e.vertices[h%p]),F.rotate90cw(a,o),F.normalize(a,a);var u=H(a,r);(-1===s||l<u)&&(s=h%p,l=u)}return s},F.create()),le=F.create(),he=F.create(),ue=F.create(),de=F.create(),ce=F.create(),me=F.create(),ye=(Q.prototype[p.CIRCLE|p.HEIGHTFIELD]=Q.prototype.circleHeightfield=function(e,t,i,n,r,o,a,s,p,l){for(var h=o.heights,l=l||t.radius,u=o.elementWidth,d=le,c=pe,m=de,y=me,_=ce,x=he,f=ue,g=Math.floor((i[0]-l-a[0])/u),v=Math.ceil((i[0]+l-a[0])/u),z=(v>=h.length&&(v=h.length-1),h[g=g<0?0:g]),b=h[v],w=g;w<v;w++)h[w]<b&&(b=h[w]),h[w]>z&&(z=h[w]);if(i[1]-l>z)return!p&&0;for(var S=!1,w=g;w<v;w++){F.set(x,w*u,h[w]),F.set(f,(w+1)*u,h[w+1]),F.add(x,x,a),F.add(f,f,a),F.sub(_,f,x),F.rotate(_,_,Math.PI/2),F.normalize(_,_),F.scale(c,_,-l),F.add(c,c,i),F.sub(d,c,x);var C=F.dot(d,_);if(c[0]>=x[0]&&c[0]<f[0]&&C<=0){if(p)return!0;S=!0,F.scale(d,_,-C),F.add(m,c,d),F.copy(y,_);var k=this.createContactEquation(r,e,o,t);F.copy(k.normalA,y),F.scale(k.contactPointB,k.normalA,-l),U(k.contactPointB,k.contactPointB,i),N(k.contactPointB,k.contactPointB,e.position),F.copy(k.contactPointA,m),F.sub(k.contactPointA,k.contactPointA,r.position),this.contactEquations.push(k),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(k))}}if(S=!1,0<l)for(w=g;w<=v;w++)if(F.set(x,w*u,h[w]),F.add(x,x,a),F.sub(d,i,x),F.squaredLength(d)<Math.pow(l,2)){if(p)return!0;S=!0,k=this.createContactEquation(r,e,o,t);F.copy(k.normalA,d),F.normalize(k.normalA,k.normalA),F.scale(k.contactPointB,k.normalA,-l),U(k.contactPointB,k.contactPointB,i),N(k.contactPointB,k.contactPointB,e.position),N(k.contactPointA,x,a),U(k.contactPointA,k.contactPointA,a),N(k.contactPointA,k.contactPointA,r.position),this.contactEquations.push(k),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(k))}return S?1:0},F.create()),_e=F.create(),xe=F.create(),fe=new s({vertices:[F.create(),F.create(),F.create(),F.create()]});Q.prototype[p.BOX|p.HEIGHTFIELD]=Q.prototype[p.CONVEX|p.HEIGHTFIELD]=Q.prototype.convexHeightfield=function(e,t,i,n,r,o,a,s,p){for(var l=o.heights,h=o.elementWidth,u=ye,d=_e,c=xe,m=fe,o=Math.floor((e.aabb.lowerBound[0]-a[0])/h),y=Math.ceil((e.aabb.upperBound[0]-a[0])/h),_=(y>=l.length&&(y=l.length-1),l[o=o<0?0:o]),x=l[y],f=o;f<y;f++)l[f]<x&&(x=l[f]),l[f]>_&&(_=l[f]);if(e.aabb.lowerBound[1]>_)return!p&&0;for(var g=0,f=o;f<y;f++){F.set(u,f*h,l[f]),F.set(d,(f+1)*h,l[f+1]),F.add(u,u,a),F.add(d,d,a);F.set(c,.5*(d[0]+u[0]),.5*(d[1]+u[1]-100)),F.sub(m.vertices[0],d,c),F.sub(m.vertices[1],u,c),F.copy(m.vertices[2],m.vertices[1]),F.copy(m.vertices[3],m.vertices[0]),m.vertices[2][1]-=100,m.vertices[3][1]-=100,g+=this.convexConvex(e,t,i,n,r,m,c,0,p)}return g}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,"../utils/Utils":57}],11:[function(e,t,i){t.exports=a;var l=e("../math/vec2");e("../collision/RaycastResult"),e("../shapes/Shape"),e("../collision/AABB");function a(e){this.from=(e=e||{}).from?l.fromValues(e.from[0],e.from[1]):l.create(),this.to=e.to?l.fromValues(e.to[0],e.to[1]):l.create(),this.checkCollisionResponse=void 0===e.checkCollisionResponse||e.checkCollisionResponse,this.skipBackfaces=!!e.skipBackfaces,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:-1,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:-1,this.mode=void 0!==e.mode?e.mode:a.ANY,this.callback=e.callback||function(e){},this.direction=l.create(),this.length=1,this.update()}(a.prototype.constructor=a).CLOSEST=1,a.ANY=2,a.ALL=4,a.prototype.update=function(){var e=this.direction;l.sub(e,this.to,this.from),this.length=l.length(e),l.normalize(e,e)},a.prototype.intersectBodies=function(e,t){for(var i=0,n=t.length;!e.shouldStop(this)&&i<n;i++){var r=t[i],o=r.getAABB();(0<=o.overlapsRay(this)||o.containsPoint(this.from))&&this.intersectBody(e,r)}};var p=l.create(),h=(a.prototype.intersectBody=function(e,t){var i=this.checkCollisionResponse;if(!i||t.collisionResponse)for(var n=p,r=0,o=t.shapes.length;r<o;r++){var a=t.shapes[r];if((!i||a.collisionResponse)&&(0!=(this.collisionGroup&a.collisionMask)&&0!=(a.collisionGroup&this.collisionMask))){l.rotate(n,a.position,t.angle),l.add(n,n,t.position);var s=a.angle+t.angle;if(this.intersectShape(e,a,s,n,t),e.shouldStop(this))break}}},a.prototype.intersectShape=function(e,t,i,n,r){var o,a,s,p=this.from;p=p,o=this.direction,a=n,l.sub(h,a,p),s=l.dot(h,o),l.scale(u,o,s),l.add(u,u,p),l.squaredDistance(a,u)>t.boundingRadius*t.boundingRadius||(this._currentBody=r,(this._currentShape=t).raycast(e,this,n,i),this._currentBody=this._currentShape=null)},a.prototype.getAABB=function(e){var t=this.to,i=this.from;l.set(e.lowerBound,Math.min(t[0],i[0]),Math.min(t[1],i[1])),l.set(e.upperBound,Math.max(t[0],i[0]),Math.max(t[1],i[1]))},l.create(),a.prototype.reportIntersection=function(e,t,i,n){this.from,this.to;var r=this._currentShape,o=this._currentBody;if(!(this.skipBackfaces&&0<l.dot(i,this.direction)))switch(this.mode){case a.ALL:e.set(i,r,o,t,n),this.callback(e);break;case a.CLOSEST:(t<e.fraction||!e.hasHit())&&e.set(i,r,o,t,n);break;case a.ANY:e.set(i,r,o,t,n)}},l.create()),u=l.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(e,t,i){var o=e("../math/vec2"),n=e("../collision/Ray");function r(){this.normal=o.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}(t.exports=r).prototype.reset=function(){o.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},r.prototype.getHitDistance=function(e){return o.distance(e.from,e.to)*this.fraction},r.prototype.hasHit=function(){return-1!==this.fraction},r.prototype.getHitPoint=function(e,t){o.lerp(e,t.from,t.to,this.fraction)},r.prototype.stop=function(){this.isStopped=!0},r.prototype.shouldStop=function(e){return this.isStopped||-1!==this.fraction&&e.mode===n.ANY},r.prototype.set=function(e,t,i,n,r){o.copy(this.normal,e),this.shape=t,this.body=i,this.fraction=n,this.faceIndex=r}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(e,t,i){var n=e("../utils/Utils"),u=e("../collision/Broadphase");function r(){u.call(this,u.SAP),this.axisList=[],this.axisIndex=0;var t=this;this._addBodyHandler=function(e){t.axisList.push(e.body)},this._removeBodyHandler=function(e){e=t.axisList.indexOf(e.body);-1!==e&&t.axisList.splice(e,1)}}(((t.exports=r).prototype=new u).constructor=r).prototype.setWorld=function(e){this.axisList.length=0,n.appendArray(this.axisList,e.bodies),e.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),e.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=e},r.sortAxisList=function(e,t){t|=0;for(var i=1,n=e.length;i<n;i++){for(var r=e[i],o=i-1;0<=o&&!(e[o].aabb.lowerBound[t]<=r.aabb.lowerBound[t]);o--)e[o+1]=e[o];e[o+1]=r}return e},r.prototype.sortList=function(){var e=this.axisList,t=this.axisIndex;r.sortAxisList(e,t)},r.prototype.getCollisionPairs=function(e){for(var t=this.axisList,i=this.result,n=this.axisIndex,r=(i.length=0,t.length);r--;){var o=t[r];o.aabbNeedsUpdate&&o.updateAABB()}this.sortList();for(var a=0,s=0|t.length;a!==s;a++)for(var p=t[a],l=a+1;l<s;l++){var h=t[l];if(!(h.aabb.lowerBound[n]<=p.aabb.upperBound[n]))break;u.canCollide(p,h)&&this.boundingVolumeCheck(p,h)&&i.push(p,h)}return i},r.prototype.aabbQuery=function(e,t,i){i=i||[],this.sortList();for(var n=this.axisIndex,n=2===n?"z":1===n?"y":"x",r=this.axisList,o=(t.lowerBound[n],t.upperBound[n],0);o<r.length;o++){var a=r[o];a.aabbNeedsUpdate&&a.updateAABB(),a.aabb.overlaps(t)&&i.push(a)}return i}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(e,t,i){t.exports=n;var r=e("../utils/Utils");function n(e,t,i,n){this.type=i,n=r.defaults(n,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=e,this.bodyB=t,this.collideConnected=n.collideConnected,n.wakeUpBodies&&(e&&e.wakeUp(),t&&t.wakeUp())}n.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},n.DISTANCE=1,n.GEAR=2,n.LOCK=3,n.PRISMATIC=4,n.REVOLUTE=5,n.prototype.setStiffness=function(e){for(var t=this.equations,i=0;i!==t.length;i++){var n=t[i];n.stiffness=e,n.needsUpdate=!0}},n.prototype.setRelaxation=function(e){for(var t=this.equations,i=0;i!==t.length;i++){var n=t[i];n.relaxation=e,n.needsUpdate=!0}}},{"../utils/Utils":57}],15:[function(e,t,i){var u=e("./Constraint"),d=e("../equations/Equation"),c=e("../math/vec2"),m=e("../utils/Utils");function n(e,t,i){i=m.defaults(i,{localAnchorA:[0,0],localAnchorB:[0,0]}),u.call(this,e,t,u.DISTANCE,i),this.localAnchorA=c.fromValues(i.localAnchorA[0],i.localAnchorA[1]),this.localAnchorB=c.fromValues(i.localAnchorB[0],i.localAnchorB[1]);var n,r=this.localAnchorA,o=this.localAnchorB,a=(this.distance=0,"number"==typeof i.distance?this.distance=i.distance:(a=c.create(),n=c.create(),s=c.create(),c.rotate(a,r,e.angle),c.rotate(n,o,t.angle),c.add(s,t.position,n),c.sub(s,s,a),c.sub(s,s,e.position),this.distance=c.length(s)),n=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce,new d(e,t,-n,n)),s=(this.equations=[a],this.maxForce=n,c.create()),p=c.create(),l=c.create(),h=this;a.computeGq=function(){var e=this.bodyA,t=this.bodyB,i=e.position,n=t.position;return c.rotate(p,r,e.angle),c.rotate(l,o,t.angle),c.add(s,n,l),c.sub(s,s,p),c.sub(s,s,i),c.length(s)-h.distance},this.setMaxForce(n),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}((t.exports=n).prototype=new u).constructor=n;var a=c.create(),s=c.create(),p=c.create();n.prototype.update=function(){var e=this.equations[0],t=this.bodyA,i=this.bodyB,n=(this.distance,t.position),r=i.position,o=this.equations[0],e=e.G,t=(c.rotate(s,this.localAnchorA,t.angle),c.rotate(p,this.localAnchorB,i.angle),c.add(a,r,p),c.sub(a,a,s),c.sub(a,a,n),this.position=c.length(a),!1);this.upperLimitEnabled&&this.position>this.upperLimit&&(o.maxForce=0,o.minForce=-this.maxForce,this.distance=this.upperLimit,t=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(o.maxForce=this.maxForce,o.minForce=0,this.distance=this.lowerLimit,t=!0),!this.lowerLimitEnabled&&!this.upperLimitEnabled||t?(o.enabled=!0,c.normalize(a,a),i=c.crossLength(s,a),r=c.crossLength(p,a),e[0]=-a[0],e[1]=-a[1],e[2]=-i,e[3]=a[0],e[4]=a[1],e[5]=r):o.enabled=!1},n.prototype.setMaxForce=function(e){var t=this.equations[0];t.minForce=-e,t.maxForce=e},n.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(e,t,i){var n=e("./Constraint"),r=(e("../equations/Equation"),e("../equations/AngleLockEquation"));e("../math/vec2");function o(e,t,i){n.call(this,e,t,n.GEAR,i=i||{}),this.ratio=void 0!==i.ratio?i.ratio:1,this.angle=void 0!==i.angle?i.angle:t.angle-this.ratio*e.angle,i.angle=this.angle,i.ratio=this.ratio,this.equations=[new r(e,t,i)],void 0!==i.maxTorque&&this.setMaxTorque(i.maxTorque)}(((t.exports=o).prototype=new n).constructor=o).prototype.update=function(){var e=this.equations[0];e.ratio!==this.ratio&&e.setRatio(this.ratio),e.angle=this.angle},o.prototype.setMaxTorque=function(e){this.equations[0].setMaxTorque(e)},o.prototype.getMaxTorque=function(e){return this.equations[0].maxForce}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(e,t,i){var d=e("./Constraint"),c=e("../math/vec2"),m=e("../equations/Equation");function n(e,t,i){d.call(this,e,t,d.LOCK,i=i||{});var n=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce,r=(i.localAngleB,new m(e,t,-n,n)),o=new m(e,t,-n,n),a=new m(e,t,-n,n),s=c.create(),p=c.create(),l=this,h=(r.computeGq=function(){return c.rotate(s,l.localOffsetB,e.angle),c.sub(p,t.position,e.position),c.sub(p,p,s),p[0]},o.computeGq=function(){return c.rotate(s,l.localOffsetB,e.angle),c.sub(p,t.position,e.position),c.sub(p,p,s),p[1]},c.create()),u=c.create();a.computeGq=function(){return c.rotate(h,l.localOffsetB,t.angle-l.localAngleB),c.scale(h,h,-1),c.sub(p,e.position,t.position),c.add(p,p,h),c.rotate(u,h,-Math.PI/2),c.normalize(u,u),c.dot(p,u)},this.localOffsetB=c.create(),i.localOffsetB?c.copy(this.localOffsetB,i.localOffsetB):(c.sub(this.localOffsetB,t.position,e.position),c.rotate(this.localOffsetB,this.localOffsetB,-e.angle)),this.localAngleB=0,"number"==typeof i.localAngleB?this.localAngleB=i.localAngleB:this.localAngleB=t.angle-e.angle,this.equations.push(r,o,a),this.setMaxForce(n)}(((t.exports=n).prototype=new d).constructor=n).prototype.setMaxForce=function(e){for(var t=this.equations,i=0;i<this.equations.length;i++)t[i].maxForce=e,t[i].minForce=-e},n.prototype.getMaxForce=function(){return this.equations[0].maxForce};var o=c.create(),a=c.create(),s=c.create(),p=c.fromValues(1,0),l=c.fromValues(0,1);n.prototype.update=function(){var e=this.equations[0],t=this.equations[1],i=this.equations[2],n=this.bodyA,r=this.bodyB;c.rotate(o,this.localOffsetB,n.angle),c.rotate(a,this.localOffsetB,r.angle-this.localAngleB),c.scale(a,a,-1),c.rotate(s,a,Math.PI/2),c.normalize(s,s),e.G[0]=-1,e.G[1]=0,e.G[2]=-c.crossLength(o,p),e.G[3]=1,t.G[0]=0,t.G[1]=-1,t.G[2]=-c.crossLength(o,l),t.G[4]=1,i.G[0]=-s[0],i.G[1]=-s[1],i.G[3]=s[0],i.G[4]=s[1],i.G[5]=c.crossLength(a,s)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(e,t,i){var c=e("./Constraint"),m=e("../equations/ContactEquation"),y=e("../equations/Equation"),_=e("../math/vec2"),x=e("../equations/RotationalLockEquation");function n(n,r,e){c.call(this,n,r,c.PRISMATIC,e=e||{});var o=_.fromValues(0,0),a=_.fromValues(1,0),s=_.fromValues(0,0),t=(e.localAnchorA&&_.copy(o,e.localAnchorA),e.localAxisA&&_.copy(a,e.localAxisA),e.localAnchorB&&_.copy(s,e.localAnchorB),this.localAnchorA=o,this.localAnchorB=s,this.localAxisA=a,this.maxForce=void 0!==e.maxForce?e.maxForce:Number.MAX_VALUE),i=new y(n,r,-t,t),p=new _.create,l=new _.create,h=new _.create,u=new _.create,d=(i.computeGq=function(){return _.dot(h,u)},i.updateJacobian=function(){var e=this.G,t=n.position,i=r.position;_.rotate(p,o,n.angle),_.rotate(l,s,r.angle),_.add(h,i,l),_.sub(h,h,t),_.sub(h,h,p),_.rotate(u,a,n.angle+Math.PI/2),e[0]=-u[0],e[1]=-u[1],e[2]=-_.crossLength(p,u)+_.crossLength(u,h),e[3]=u[0],e[4]=u[1],e[5]=_.crossLength(l,u)},this.equations.push(i),e.disableRotationalLock||(i=new x(n,r,-t,t),this.equations.push(i)),this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==e.lowerLimit,this.upperLimitEnabled=void 0!==e.upperLimit,this.lowerLimit=void 0!==e.lowerLimit?e.lowerLimit:0,this.upperLimit=void 0!==e.upperLimit?e.upperLimit:1,this.upperLimitEquation=new m(n,r),this.lowerLimitEquation=new m(n,r),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=t,this.motorEquation=new y(n,r),this.motorEnabled=!1,this.motorSpeed=0,this),i=this.motorEquation;i.computeGW;i.computeGq=function(){return 0},i.computeGW=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.velocity,r=i.velocity,t=t.angularVelocity,i=i.angularVelocity;return this.gmult(e,n,t,r,i)+d.motorSpeed}}((t.exports=n).prototype=new c).constructor=n;var d=_.create(),f=_.create(),g=_.create(),v=_.create(),z=_.create(),b=_.create();n.prototype.update=function(){var e,t=this.equations,i=t[0],n=this.upperLimit,r=this.lowerLimit,o=this.upperLimitEquation,a=this.lowerLimitEquation,s=this.bodyA,p=this.bodyB,l=this.localAxisA,h=this.localAnchorA,u=this.localAnchorB,i=(i.updateJacobian(),_.rotate(d,l,s.angle),_.rotate(v,h,s.angle),_.add(f,v,s.position),_.rotate(z,u,p.angle),_.add(g,z,p.position),this.position=_.dot(g,d)-_.dot(f,d));this.motorEnabled&&((l=this.motorEquation.G)[0]=d[0],l[1]=d[1],l[2]=_.crossLength(d,z),l[3]=-d[0],l[4]=-d[1],l[5]=-_.crossLength(d,v)),this.upperLimitEnabled&&n<i?(_.scale(o.normalA,d,-1),_.sub(o.contactPointA,f,s.position),_.sub(o.contactPointB,g,p.position),_.scale(b,d,n),_.add(o.contactPointA,o.contactPointA,b),-1===t.indexOf(o)&&t.push(o)):-1!==(e=t.indexOf(o))&&t.splice(e,1),this.lowerLimitEnabled&&i<r?(_.scale(a.normalA,d,1),_.sub(a.contactPointA,f,s.position),_.sub(a.contactPointB,g,p.position),_.scale(b,d,r),_.sub(a.contactPointB,a.contactPointB,b),-1===t.indexOf(a)&&t.push(a)):-1!==(e=t.indexOf(a))&&t.splice(e,1)},n.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},n.prototype.disableMotor=function(){var e;this.motorEnabled&&(e=this.equations.indexOf(this.motorEquation),this.equations.splice(e,1),this.motorEnabled=!1)},n.prototype.setLimits=function(e,t){"number"==typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"==typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(e,t,i){var a=e("./Constraint"),s=e("../equations/Equation"),p=e("../equations/RotationalVelocityEquation"),l=e("../equations/RotationalLockEquation"),c=e("../math/vec2"),m=(t.exports=n,c.create()),y=c.create(),_=c.fromValues(1,0),x=c.fromValues(0,1),h=c.create();function n(e,t,i){a.call(this,e,t,a.REVOLUTE,i=i||{});var n=this.maxForce=void 0!==i.maxForce?i.maxForce:Number.MAX_VALUE,i=(this.pivotA=c.create(),this.pivotB=c.create(),i.worldPivot?(c.sub(this.pivotA,i.worldPivot,e.position),c.sub(this.pivotB,i.worldPivot,t.position),c.rotate(this.pivotA,this.pivotA,-e.angle),c.rotate(this.pivotB,this.pivotB,-t.angle)):(c.copy(this.pivotA,i.localPivotA),c.copy(this.pivotB,i.localPivotB)),this.equations=[new s(e,t,-n,n),new s(e,t,-n,n)]),r=i[0],i=i[1],o=this;r.computeGq=function(){return c.rotate(m,o.pivotA,e.angle),c.rotate(y,o.pivotB,t.angle),c.add(h,t.position,y),c.sub(h,h,e.position),c.sub(h,h,m),c.dot(h,_)},i.computeGq=function(){return c.rotate(m,o.pivotA,e.angle),c.rotate(y,o.pivotB,t.angle),c.add(h,t.position,y),c.sub(h,h,e.position),c.sub(h,h,m),c.dot(h,x)},i.minForce=r.minForce=-n,i.maxForce=r.maxForce=n,this.motorEquation=new p(e,t),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new l(e,t),this.lowerLimitEquation=new l(e,t),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}((n.prototype=new a).constructor=n).prototype.setLimits=function(e,t){"number"==typeof e?(this.lowerLimit=e,this.lowerLimitEnabled=!0):(this.lowerLimit=e,this.lowerLimitEnabled=!1),"number"==typeof t?(this.upperLimit=t,this.upperLimitEnabled=!0):(this.upperLimit=t,this.upperLimitEnabled=!1)},n.prototype.update=function(){var e,t=this.bodyA,i=this.bodyB,n=this.pivotA,r=this.pivotB,o=this.equations,a=(o[0],o[1],o[0]),s=o[1],p=this.upperLimit,l=this.lowerLimit,h=this.upperLimitEquation,u=this.lowerLimitEquation,d=this.angle=i.angle-t.angle;this.upperLimitEnabled&&p<d?(h.angle=p,-1===o.indexOf(h)&&o.push(h)):-1!==(e=o.indexOf(h))&&o.splice(e,1),this.lowerLimitEnabled&&d<l?(u.angle=l,-1===o.indexOf(u)&&o.push(u)):-1!==(e=o.indexOf(u))&&o.splice(e,1),c.rotate(m,n,t.angle),c.rotate(y,r,i.angle),a.G[0]=-1,a.G[1]=0,a.G[2]=-c.crossLength(m,_),a.G[3]=1,a.G[4]=0,a.G[5]=c.crossLength(y,_),s.G[0]=0,s.G[1]=-1,s.G[2]=-c.crossLength(m,x),s.G[3]=0,s.G[4]=1,s.G[5]=c.crossLength(y,x)},n.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},n.prototype.disableMotor=function(){var e;this.motorEnabled&&(e=this.equations.indexOf(this.motorEquation),this.equations.splice(e,1),this.motorEnabled=!1)},n.prototype.motorIsEnabled=function(){return!!this.motorEnabled},n.prototype.setMotorSpeed=function(e){var t;this.motorEnabled&&(t=this.equations.indexOf(this.motorEquation),this.equations[t].relativeVelocity=e)},n.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(e,t,i){var n=e("./Equation");e("../math/vec2");function r(e,t,i){i=i||{},n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0,this.ratio="number"==typeof i.ratio?i.ratio:1,this.setRatio(this.ratio)}(((t.exports=r).prototype=new n).constructor=r).prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},r.prototype.setRatio=function(e){var t=this.G;t[2]=e,t[5]=-1,this.ratio=e},r.prototype.setMaxTorque=function(e){this.maxForce=e,this.minForce=-e}},{"../math/vec2":30,"./Equation":22}],21:[function(e,t,i){var n=e("./Equation"),c=e("../math/vec2");function r(e,t){n.call(this,e,t,0,Number.MAX_VALUE),this.contactPointA=c.create(),this.penetrationVec=c.create(),this.contactPointB=c.create(),this.normalA=c.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}(((t.exports=r).prototype=new n).constructor=r).prototype.computeB=function(e,t,i){var n,r=this.bodyA,o=this.bodyB,a=this.contactPointA,s=this.contactPointB,r=r.position,o=o.position,p=this.penetrationVec,l=this.normalA,h=this.G,u=c.crossLength(a,l),d=c.crossLength(s,l),h=(h[0]=-l[0],h[1]=-l[1],h[2]=-u,h[3]=l[0],h[4]=l[1],h[5]=d,c.add(p,o,s),c.sub(p,p,r),c.sub(p,p,a),u=this.firstImpact&&0!==this.restitution?(n=0,1/t*(1+this.restitution)*this.computeGW()):(n=c.dot(l,p)+this.offset,this.computeGW()),this.computeGiMf());return-n*e-u*t-i*h}},{"../math/vec2":30,"./Equation":22}],22:[function(e,t,i){t.exports=a;var u=e("../math/vec2"),o=e("../utils/Utils");e("../objects/Body");function a(e,t,i,n){this.minForce=void 0===i?-Number.MAX_VALUE:i,this.maxForce=void 0===n?Number.MAX_VALUE:n,this.bodyA=e,this.bodyB=t,this.stiffness=a.DEFAULT_STIFFNESS,this.relaxation=a.DEFAULT_RELAXATION,this.G=new o.ARRAY_TYPE(6);for(var r=0;r<6;r++)this.G[r]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}(a.prototype.constructor=a).DEFAULT_STIFFNESS=1e6,a.DEFAULT_RELAXATION=4,a.prototype.update=function(){var e=this.stiffness,t=this.relaxation,i=this.timeStep;this.a=4/(i*(1+4*t)),this.b=4*t/(1+4*t),this.epsilon=4/(i*i*e*(1+4*t)),this.needsUpdate=!1},a.prototype.gmult=function(e,t,i,n,r){return e[0]*t[0]+e[1]*t[1]+e[2]*i+e[3]*n[0]+e[4]*n[1]+e[5]*r},a.prototype.computeB=function(e,t,i){var n=this.computeGW();return-this.computeGq()*e-n*t-this.computeGiMf()*i};var n=u.create(),r=u.create(),d=(a.prototype.computeGq=function(){var e=this.G,t=this.bodyA,i=this.bodyB,t=(t.position,i.position,t.angle),i=i.angle;return this.gmult(e,n,t,r,i)+this.offset},a.prototype.computeGW=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.velocity,r=i.velocity,t=t.angularVelocity,i=i.angularVelocity;return this.gmult(e,n,t,r,i)+this.relativeVelocity},a.prototype.computeGWlambda=function(){var e=this.G,t=this.bodyA,i=this.bodyB,n=t.vlambda,r=i.vlambda,t=t.wlambda,i=i.wlambda;return this.gmult(e,n,t,r,i)},u.create()),c=u.create(),m=(a.prototype.computeGiMf=function(){var e=this.bodyA,t=this.bodyB,i=e.force,n=e.angularForce,r=t.force,o=t.angularForce,a=e.invMassSolve,s=t.invMassSolve,p=e.invInertiaSolve,l=t.invInertiaSolve,h=this.G;return u.scale(d,i,a),u.multiply(d,e.massMultiplier,d),u.scale(c,r,s),u.multiply(c,t.massMultiplier,c),this.gmult(h,d,n*p,c,o*l)},a.prototype.computeGiMGt=function(){var e=this.bodyA,t=this.bodyB,i=e.invMassSolve,n=t.invMassSolve,r=e.invInertiaSolve,o=t.invInertiaSolve,a=this.G;return a[0]*a[0]*i*e.massMultiplier[0]+a[1]*a[1]*i*e.massMultiplier[1]+a[2]*a[2]*r+a[3]*a[3]*n*t.massMultiplier[0]+a[4]*a[4]*n*t.massMultiplier[1]+a[5]*a[5]*o},u.create()),y=u.create(),_=u.create();u.create(),u.create(),u.create();a.prototype.addToWlambda=function(e){var t=this.bodyA,i=this.bodyB,n=m,r=y,o=_,a=t.invMassSolve,s=i.invMassSolve,p=t.invInertiaSolve,l=i.invInertiaSolve,h=this.G;r[0]=h[0],r[1]=h[1],o[0]=h[3],o[1]=h[4],u.scale(n,r,a*e),u.multiply(n,n,t.massMultiplier),u.add(t.vlambda,t.vlambda,n),t.wlambda+=p*h[2]*e,u.scale(n,o,s*e),u.multiply(n,n,i.massMultiplier),u.add(i.vlambda,i.vlambda,n),i.wlambda+=l*h[5]*e},a.prototype.computeInvC=function(e){return 1/(this.computeGiMGt()+e)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(e,t,i){var s=e("../math/vec2"),n=e("./Equation");e("../utils/Utils");function r(e,t,i){n.call(this,e,t,-i,i),this.contactPointA=s.create(),this.contactPointB=s.create(),this.t=s.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}(((t.exports=r).prototype=new n).constructor=r).prototype.setSlipForce=function(e){this.maxForce=e,this.minForce=-e},r.prototype.getSlipForce=function(){return this.maxForce},r.prototype.computeB=function(e,t,i){this.bodyA,this.bodyB;var n=this.contactPointA,r=this.contactPointB,o=this.t,a=this.G;return a[0]=-o[0],a[1]=-o[1],a[2]=-s.crossLength(n,o),a[3]=o[0],a[4]=o[1],a[5]=s.crossLength(r,o),-this.computeGW()*t-i*this.computeGiMf()}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(e,t,i){var n=e("./Equation"),r=e("../math/vec2");function o(e,t,i){i=i||{},n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0;e=this.G;e[2]=1,e[5]=-1}((t.exports=o).prototype=new n).constructor=o;var a=r.create(),s=r.create(),p=r.fromValues(1,0),l=r.fromValues(0,1);o.prototype.computeGq=function(){return r.rotate(a,p,this.bodyA.angle+this.angle),r.rotate(s,l,this.bodyB.angle),r.dot(a,s)}},{"../math/vec2":30,"./Equation":22}],25:[function(e,t,i){var n=e("./Equation");e("../math/vec2");function r(e,t){n.call(this,e,t,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}(((t.exports=r).prototype=new n).constructor=r).prototype.computeB=function(e,t,i){var n=this.G,n=(n[2]=-1,n[5]=this.ratio,this.computeGiMf());return-this.computeGW()*t-i*n}},{"../math/vec2":30,"./Equation":22}],26:[function(e,t,i){function n(){}(t.exports=n).prototype={constructor:n,on:function(e,t,i){t.context=i||this,void 0===this._listeners&&(this._listeners={});i=this._listeners;return void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t),this},has:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;if(t){if(void 0!==i[e]&&-1!==i[e].indexOf(t))return!0}else if(void 0!==i[e])return!0;return!1},off:function(e,t){if(void 0===this._listeners)return this;var i=this._listeners,t=i[e].indexOf(t);return-1!==t&&i[e].splice(t,1),this},emit:function(e){if(void 0===this._listeners)return this;var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=0,n=t.length;i<n;i++){var r=t[i];r.call(r.context,e)}}return this}}},{}],27:[function(e,t,i){var n=e("./Material"),r=e("../equations/Equation");function o(e,t,i){if(i=i||{},!(e instanceof n&&t instanceof n))throw new Error("First two arguments must be Material instances.");this.id=o.idCounter++,this.materialA=e,this.materialB=t,this.friction=void 0!==i.friction?Number(i.friction):.3,this.restitution=void 0!==i.restitution?Number(i.restitution):0,this.stiffness=void 0!==i.stiffness?Number(i.stiffness):r.DEFAULT_STIFFNESS,this.relaxation=void 0!==i.relaxation?Number(i.relaxation):r.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==i.frictionStiffness?Number(i.frictionStiffness):r.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==i.frictionRelaxation?Number(i.frictionRelaxation):r.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==i.surfaceVelocity?Number(i.surfaceVelocity):0,this.contactSkinSize=.005}(t.exports=o).idCounter=0},{"../equations/Equation":22,"./Material":28}],28:[function(e,t,i){function n(e){this.id=e||n.idCounter++}(t.exports=n).idCounter=0},{}],29:[function(e,t,i){var f={GetArea:function(e){if(e.length<6)return 0;for(var t=e.length-2,i=0,n=0;n<t;n+=2)i+=(e[n+2]-e[n])*(e[n+1]+e[n+3]);return.5*-(i+=(e[0]-e[t])*(e[1+t]+e[1]))},Triangulate:function(e){var t=e.length>>1;if(t<3)return[];for(var i=[],n=[],r=0;r<t;r++)n.push(r);for(var r=0,o=t;3<o;){var a=n[(r+0)%o],s=n[(r+1)%o],p=n[(r+2)%o],l=e[2*a],h=e[2*a+1],u=e[2*s],d=e[2*s+1],c=e[2*p],m=e[2*p+1],y=!1;if(f._convex(l,h,u,d,c,m))for(var y=!0,_=0;_<o;_++){var x=n[_];if(x!=a&&x!=s&&x!=p&&f._PointInTriangle(e[2*x],e[2*x+1],l,h,u,d,c,m)){y=!1;break}}if(y)i.push(a,s,p),n.splice((r+1)%o,1),o--,r=0;else if(r++>3*o)break}return i.push(n[0],n[1],n[2]),i},_PointInTriangle:function(e,t,i,n,r,o,a,s){a-=i,s-=n,r-=i,o-=n,e-=i,i=t-n,t=a*a+s*s,n=a*r+s*o,a=a*e+s*i,s=r*r+o*o,r=r*e+o*i,e=1/(t*s-n*n),o=(s*a-n*r)*e,i=(t*r-n*a)*e;return 0<=o&&0<=i&&o+i<1},_convex:function(e,t,i,n,r,o){return 0<=(t-n)*(r-i)+(i-e)*(o-n)}};t.exports=f},{}],30:[function(e,t,i){var o=t.exports={},n=e("../utils/Utils");o.crossLength=function(e,t){return e[0]*t[1]-e[1]*t[0]},o.crossVZ=function(e,t,i){return o.rotate(e,t,-Math.PI/2),o.scale(e,e,i),e},o.crossZV=function(e,t,i){return o.rotate(e,i,Math.PI/2),o.scale(e,e,t),e},o.rotate=function(e,t,i){var n,r,o;0!==i?(n=Math.cos(i),i=Math.sin(i),r=t[0],o=t[1],e[0]=n*r-i*o,e[1]=i*r+n*o):(e[0]=t[0],e[1]=t[1])},o.rotate90cw=function(e,t){var i=t[0],t=t[1];e[0]=t,e[1]=-i},o.toLocalFrame=function(e,t,i,n){o.copy(e,t),o.sub(e,e,i),o.rotate(e,e,-n)},o.toGlobalFrame=function(e,t,i,n){o.copy(e,t),o.rotate(e,e,n),o.add(e,e,i)},o.vectorToLocalFrame=function(e,t,i){o.rotate(e,t,-i)},o.vectorToGlobalFrame=function(e,t,i){o.rotate(e,t,i)},o.centroid=function(e,t,i,n){return o.add(e,t,i),o.add(e,e,n),o.scale(e,e,1/3),e},o.create=function(){var e=new n.ARRAY_TYPE(2);return e[0]=0,e[1]=0,e},o.clone=function(e){var t=new n.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t},o.fromValues=function(e,t){var i=new n.ARRAY_TYPE(2);return i[0]=e,i[1]=t,i},o.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},o.set=function(e,t,i){return e[0]=t,e[1]=i,e},o.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e},o.subtract=function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e},o.sub=o.subtract,o.multiply=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e},o.mul=o.multiply,o.divide=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e},o.div=o.divide,o.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e},o.distance=function(e,t){var i=t[0]-e[0],t=t[1]-e[1];return Math.sqrt(i*i+t*t)},o.dist=o.distance,o.squaredDistance=function(e,t){var i=t[0]-e[0],t=t[1]-e[1];return i*i+t*t},o.sqrDist=o.squaredDistance,o.length=function(e){var t=e[0],e=e[1];return Math.sqrt(t*t+e*e)},o.len=o.length,o.squaredLength=function(e){var t=e[0],e=e[1];return t*t+e*e},o.sqrLen=o.squaredLength,o.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},o.normalize=function(e,t){var i=t[0],n=t[1],i=i*i+n*n;return 0<i&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e},o.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},o.str=function(e){return"vec2("+e[0]+", "+e[1]+")"},o.lerp=function(e,t,i,n){var r=t[0],t=t[1];return e[0]=r+n*(i[0]-r),e[1]=t+n*(i[1]-t),e},o.reflect=function(e,t,i){var n=t[0]*i[0]+t[1]*i[1];e[0]=t[0]-2*i[0]*n,e[1]=t[1]-2*i[1]*n},o.getLineSegmentsIntersection=function(e,t,i,n,r){n=o.getLineSegmentsIntersectionFraction(t,i,n,r);return!(n<0)&&(e[0]=t[0]+n*(i[0]-t[0]),e[1]=t[1]+n*(i[1]-t[1]),!0)},o.getLineSegmentsIntersectionFraction=function(e,t,i,n){var r=t[0]-e[0],t=t[1]-e[1],o=n[0]-i[0],n=n[1]-i[1],a=(-t*(e[0]-i[0])+r*(e[1]-i[1]))/(-o*t+r*n),e=(o*(e[1]-i[1])-n*(e[0]-i[0]))/(-o*t+r*n);return 0<=a&&a<=1&&0<=e&&e<=1?e:-1}},{"../utils/Utils":57}],31:[function(e,t,i){var u=e("../math/vec2"),l=e("poly-decomp"),h=e("../shapes/Convex"),n=e("../collision/RaycastResult"),r=e("../collision/Ray"),o=e("../collision/AABB"),a=e("../events/EventEmitter");function s(e){e=e||{},a.call(this),this.id=e.id||++s._idCounter,this.world=null,this.shapes=[],this.mass=e.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!e.fixedRotation,this.fixedX=!!e.fixedX,this.fixedY=!!e.fixedY,this.massMultiplier=u.create(),this.position=u.fromValues(0,0),e.position&&u.copy(this.position,e.position),this.interpolatedPosition=u.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=u.fromValues(0,0),this.previousAngle=0,this.velocity=u.fromValues(0,0),e.velocity&&u.copy(this.velocity,e.velocity),this.vlambda=u.fromValues(0,0),this.wlambda=0,this.angle=e.angle||0,this.angularVelocity=e.angularVelocity||0,this.force=u.create(),e.force&&u.copy(this.force,e.force),this.angularForce=e.angularForce||0,this.damping="number"==typeof e.damping?e.damping:.1,this.angularDamping="number"==typeof e.angularDamping?e.angularDamping:.1,this.type=s.STATIC,void 0!==e.type?this.type=e.type:e.mass?this.type=s.DYNAMIC:this.type=s.STATIC,this.boundingRadius=0,this.aabb=new o,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===e.allowSleep||e.allowSleep,this.wantsToSleep=!1,this.sleepState=s.AWAKE,this.sleepSpeedLimit=void 0!==e.sleepSpeedLimit?e.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==e.sleepTimeLimit?e.sleepTimeLimit:1,this.gravityScale=void 0!==e.gravityScale?e.gravityScale:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==e.ccdSpeedThreshold?e.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==e.ccdIterations?e.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}(((t.exports=s).prototype=new a).constructor=s)._idCounter=0,s.prototype.updateSolveMassProperties=function(){this.sleepState===s.SLEEPING||this.type===s.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},s.prototype.setDensity=function(e){var t=this.getArea();this.mass=t*e,this.updateMassProperties()},s.prototype.getArea=function(){for(var e=0,t=0;t<this.shapes.length;t++)e+=this.shapes[t].area;return e},s.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var p=new o,d=u.create(),c=(s.prototype.updateAABB=function(){for(var e=this.shapes,t=e.length,i=d,n=this.angle,r=0;r!==t;r++){var o=e[r],a=o.angle+n;u.rotate(i,o.position,n),u.add(i,i,this.position),o.computeAABB(p,i,a),0===r?this.aabb.copy(p):this.aabb.extend(p)}this.aabbNeedsUpdate=!1},s.prototype.updateBoundingRadius=function(){for(var e=this.shapes,t=e.length,i=0,n=0;n!==t;n++){var r=e[n],o=u.length(r.position),r=r.boundingRadius;i<o+r&&(i=o+r)}this.boundingRadius=i},s.prototype.addShape=function(e,t,i){if(e.body)throw new Error("A shape can only be added to one body.");e.body=this,t?u.copy(e.position,t):u.set(e.position,0,0),e.angle=i||0,this.shapes.push(e),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},s.prototype.removeShape=function(e){var t=this.shapes.indexOf(e);return-1!==t&&(this.shapes.splice(t,1),this.aabbNeedsUpdate=!0,!(e.body=null))},s.prototype.updateMassProperties=function(){if(this.type===s.STATIC||this.type===s.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var e=this.shapes,t=e.length,i=this.mass/t,n=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var r=0;r<t;r++){var o=e[r],a=u.squaredLength(o.position);n+=o.computeMomentOfInertia(i)+i*a}this.inertia=n,this.invInertia=0<n?1/n:0}this.invMass=1/this.mass,u.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}},u.create(),s.prototype.applyForce=function(e,t){u.add(this.force,this.force,e),t&&(t=u.crossLength(t,e),this.angularForce+=t)},u.create()),m=u.create(),y=u.create(),_=(s.prototype.applyForceLocal=function(e,t){t=t||y;var i=c,n=m;this.vectorToWorldFrame(i,e),this.vectorToWorldFrame(n,t),this.applyForce(i,n)},u.create()),x=(s.prototype.applyImpulse=function(e,t){var i;this.type===s.DYNAMIC&&(u.scale(i=_,e,this.invMass),u.multiply(i,this.massMultiplier,i),u.add(this.velocity,i,this.velocity),t&&(i=u.crossLength(t,e),i*=this.invInertia,this.angularVelocity+=i))},u.create()),f=u.create(),g=u.create(),v=(s.prototype.applyImpulseLocal=function(e,t){t=t||g;var i=x,n=f;this.vectorToWorldFrame(i,e),this.vectorToWorldFrame(n,t),this.applyImpulse(i,n)},s.prototype.toLocalFrame=function(e,t){u.toLocalFrame(e,t,this.position,this.angle)},s.prototype.toWorldFrame=function(e,t){u.toGlobalFrame(e,t,this.position,this.angle)},s.prototype.vectorToLocalFrame=function(e,t){u.vectorToLocalFrame(e,t,this.angle)},s.prototype.vectorToWorldFrame=function(e,t){u.vectorToGlobalFrame(e,t,this.angle)},s.prototype.fromPolygon=function(e,t){t=t||{};for(var i=this.shapes.length;0<=i;--i)this.removeShape(this.shapes[i]);var n=new l.Polygon;if(n.vertices=e,n.makeCCW(),"number"==typeof t.removeCollinearPoints&&n.removeCollinearPoints(t.removeCollinearPoints),void 0===t.skipSimpleCheck&&!n.isSimple())return!1;this.concavePath=n.vertices.slice(0);for(i=0;i<this.concavePath.length;i++){var r=[0,0];u.copy(r,this.concavePath[i]),this.concavePath[i]=r}for(var o=t.optimalDecomp?n.decomp():n.quickDecomp(),a=u.create(),i=0;i!==o.length;i++){for(var s=new h({vertices:o[i].vertices}),p=0;p!==s.vertices.length;p++){r=s.vertices[p];u.sub(r,r,s.centerOfMass)}u.scale(a,s.centerOfMass,1),s.updateTriangles(),s.updateCenterOfMass(),s.updateBoundingRadius(),this.addShape(s,a)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0},u.fromValues(0,0),u.fromValues(0,0)),z=u.fromValues(0,0),b=u.fromValues(0,0),w=(s.prototype.adjustCenterOfMass=function(){var e=v,t=z,i=b,n=0;u.set(t,0,0);for(var r=0;r!==this.shapes.length;r++){var o=this.shapes[r];u.scale(e,o.position,o.area),u.add(t,t,e),n+=o.area}u.scale(i,t,1/n);for(r=0;r!==this.shapes.length;r++){o=this.shapes[r];u.sub(o.position,o.position,i)}u.add(this.position,this.position,i);for(r=0;this.concavePath&&r<this.concavePath.length;r++)u.sub(this.concavePath[r],this.concavePath[r],i);this.updateMassProperties(),this.updateBoundingRadius()},s.prototype.setZeroForce=function(){u.set(this.force,0,0),this.angularForce=0},s.prototype.resetConstraintVelocity=function(){var e=this.vlambda;u.set(e,0,0),this.wlambda=0},s.prototype.addConstraintVelocity=function(){var e=this.velocity;u.add(e,e,this.vlambda),this.angularVelocity+=this.wlambda},s.prototype.applyDamping=function(e){var t;this.type===s.DYNAMIC&&(t=this.velocity,u.scale(t,t,Math.pow(1-this.damping,e)),this.angularVelocity*=Math.pow(1-this.angularDamping,e))},s.prototype.wakeUp=function(){var e=this.sleepState;this.sleepState=s.AWAKE,this.idleTime=0,e!==s.AWAKE&&this.emit(s.wakeUpEvent)},s.prototype.sleep=function(){this.sleepState=s.SLEEPING,this.angularVelocity=0,this.angularForce=0,u.set(this.velocity,0,0),u.set(this.force,0,0),this.emit(s.sleepEvent)},s.prototype.sleepTick=function(e,t,i){var n;this.allowSleep&&this.type!==s.SLEEPING&&(this.wantsToSleep=!1,this.sleepState,n=u.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2),Math.pow(this.sleepSpeedLimit,2)<=n?(this.idleTime=0,this.sleepState=s.AWAKE):(this.idleTime+=i,this.sleepState=s.SLEEPY),this.idleTime>this.sleepTimeLimit&&(t?this.wantsToSleep=!0:this.sleep()))},s.prototype.overlaps=function(e){return this.world.overlapKeeper.bodiesAreOverlapping(this,e)},u.create()),S=u.create(),C=(s.prototype.integrate=function(e){var t=this.invMass,i=this.force,n=this.position,r=this.velocity;u.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*e),u.scale(w,i,e*t),u.multiply(w,this.massMultiplier,w),u.add(r,w,r),this.integrateToTimeOfImpact(e)||(u.scale(S,r,e),u.add(n,n,S),this.fixedRotation||(this.angle+=this.angularVelocity*e)),this.aabbNeedsUpdate=!0},new n),k=new r({mode:r.ALL}),M=u.create(),P=u.create(),O=u.create(),T=u.create();s.prototype.integrateToTimeOfImpact=function(e){if(this.ccdSpeedThreshold<0||u.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;u.normalize(M,this.velocity),u.scale(P,this.velocity,e),u.add(P,P,this.position),u.sub(O,P,this.position);var t,i=this.angularVelocity*e,n=u.length(O),r=1,o=this;if(C.reset(),k.callback=function(e){e.body!==o&&(t=e.body,e.getHitPoint(P,k),u.sub(O,P,o.position),r=u.length(O)/n,e.stop())},u.copy(k.from,this.position),u.copy(k.to,P),k.update(),this.world.raycast(C,k),!t)return!1;for(var a=this.angle,s=(u.copy(T,this.position),0),p=0,l=0,h=r;p<=h&&s<this.ccdIterations;)s++,l=(h-p)/2,u.scale(S,O,r),u.add(this.position,T,S),this.angle=a+i*r,this.updateAABB(),this.aabb.overlaps(t.aabb)&&this.world.narrowphase.bodiesOverlap(this,t)?p=l:h=l;return r=l,u.copy(this.position,T),this.angle=a,u.scale(S,O,r),u.add(this.position,this.position,S),this.fixedRotation||(this.angle+=i*r),!0},s.prototype.getVelocityAtPoint=function(e,t){return u.crossVZ(e,t,this.angularVelocity),u.subtract(e,this.velocity,e),e},s.sleepyEvent={type:"sleepy"},s.sleepEvent={type:"sleep"},s.wakeUpEvent={type:"wakeup"},s.DYNAMIC=1,s.STATIC=2,s.KINEMATIC=4,s.AWAKE=0,s.SLEEPY=1,s.SLEEPING=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(e,t,i){var m=e("../math/vec2"),n=e("./Spring");e("../utils/Utils");function r(e,t,i){n.call(this,e,t,i=i||{}),this.localAnchorA=m.fromValues(0,0),this.localAnchorB=m.fromValues(0,0),i.localAnchorA&&m.copy(this.localAnchorA,i.localAnchorA),i.localAnchorB&&m.copy(this.localAnchorB,i.localAnchorB),i.worldAnchorA&&this.setWorldAnchorA(i.worldAnchorA),i.worldAnchorB&&this.setWorldAnchorB(i.worldAnchorB);e=m.create(),t=m.create(),this.getWorldAnchorA(e),this.getWorldAnchorB(t),e=m.distance(e,t);this.restLength="number"==typeof i.restLength?i.restLength:e}(((t.exports=r).prototype=new n).constructor=r).prototype.setWorldAnchorA=function(e){this.bodyA.toLocalFrame(this.localAnchorA,e)},r.prototype.setWorldAnchorB=function(e){this.bodyB.toLocalFrame(this.localAnchorB,e)},r.prototype.getWorldAnchorA=function(e){this.bodyA.toWorldFrame(e,this.localAnchorA)},r.prototype.getWorldAnchorB=function(e){this.bodyB.toWorldFrame(e,this.localAnchorB)};var y=m.create(),_=m.create(),x=m.create(),f=m.create(),g=m.create(),v=m.create(),z=m.create(),b=m.create(),w=m.create();r.prototype.applyForce=function(){var e=this.stiffness,t=this.damping,i=this.restLength,n=this.bodyA,r=this.bodyB,o=y,a=_,s=x,p=f,l=w,h=g,u=v,d=z,c=b,u=(this.getWorldAnchorA(h),this.getWorldAnchorB(u),m.sub(d,h,n.position),m.sub(c,u,r.position),m.sub(o,u,h),m.len(o)),h=(m.normalize(a,o),m.sub(s,r.velocity,n.velocity),m.crossZV(l,r.angularVelocity,c),m.add(s,s,l),m.crossZV(l,n.angularVelocity,d),m.sub(s,s,l),m.scale(p,a,-e*(u-i)-t*m.dot(s,a)),m.sub(n.force,n.force,p),m.add(r.force,r.force,p),m.crossLength(d,p)),o=m.crossLength(c,p);n.angularForce-=h,r.angularForce+=o}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(e,t,i){e("../math/vec2");var n=e("./Spring");function r(e,t,i){n.call(this,e,t,i=i||{}),this.restAngle="number"==typeof i.restAngle?i.restAngle:t.angle-e.angle}(((t.exports=r).prototype=new n).constructor=r).prototype.applyForce=function(){var e=this.stiffness,t=this.damping,i=this.restAngle,n=this.bodyA,r=this.bodyB,e=-e*(r.angle-n.angle-i)-t*(r.angularVelocity-n.angularVelocity)*0;n.angularForce-=e,r.angularForce+=e}},{"../math/vec2":30,"./Spring":34}],34:[function(e,t,i){e("../math/vec2");var n=e("../utils/Utils");function r(e,t,i){i=n.defaults(i,{stiffness:100,damping:1}),this.stiffness=i.stiffness,this.damping=i.damping,this.bodyA=e,this.bodyB=t}(t.exports=r).prototype.applyForce=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(e,t,i){var n=e("../math/vec2"),r=(e("../utils/Utils"),e("../constraints/Constraint")),o=e("../equations/FrictionEquation"),a=e("../objects/Body");function s(e,t){this.chassisBody=e,this.wheels=[],this.groundBody=new a({mass:0}),this.world=null;var i=this;this.preStepCallback=function(){i.update()}}function p(e,t){t=t||{},this.vehicle=e,this.forwardEquation=new o(e.chassisBody,e.groundBody),this.sideEquation=new o(e.chassisBody,e.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==t.sideFriction?t.sideFriction:5),this.localForwardVector=n.fromValues(0,1),t.localForwardVector&&n.copy(this.localForwardVector,t.localForwardVector),this.localPosition=n.fromValues(0,0),t.localPosition&&n.copy(this.localPosition,t.localPosition),r.apply(this,e.chassisBody,e.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}(t.exports=s).prototype.addToWorld=function(e){(this.world=e).addBody(this.groundBody),e.on("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var i=this.wheels[t];e.addConstraint(i)}},s.prototype.removeFromWorld=function(){var e=this.world;e.removeBody(this.groundBody),e.off("preStep",this.preStepCallback);for(var t=0;t<this.wheels.length;t++){var i=this.wheels[t];e.removeConstraint(i)}this.world=null},s.prototype.addWheel=function(e){e=new p(this,e);return this.wheels.push(e),e},s.prototype.update=function(){for(var e=0;e<this.wheels.length;e++)this.wheels[e].update()},(p.prototype=new r).setBrakeForce=function(e){this.forwardEquation.setSlipForce(e)},p.prototype.setSideFriction=function(e){this.sideEquation.setSlipForce(e)};var l=n.create(),h=n.create(),u=(p.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(h,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(l,h),n.dot(l,h)},n.create());p.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),n.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),n.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),n.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),n.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),n.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),n.normalize(u,this.forwardEquation.t),n.scale(u,u,this.engineForce),this.vehicle.chassisBody.applyForce(u,this.forwardEquation.contactPointA)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(e,t,i){t=t.exports={AABB:e("./collision/AABB"),AngleLockEquation:e("./equations/AngleLockEquation"),Body:e("./objects/Body"),Broadphase:e("./collision/Broadphase"),Capsule:e("./shapes/Capsule"),Circle:e("./shapes/Circle"),Constraint:e("./constraints/Constraint"),ContactEquation:e("./equations/ContactEquation"),ContactEquationPool:e("./utils/ContactEquationPool"),ContactMaterial:e("./material/ContactMaterial"),Convex:e("./shapes/Convex"),DistanceConstraint:e("./constraints/DistanceConstraint"),Equation:e("./equations/Equation"),EventEmitter:e("./events/EventEmitter"),FrictionEquation:e("./equations/FrictionEquation"),FrictionEquationPool:e("./utils/FrictionEquationPool"),GearConstraint:e("./constraints/GearConstraint"),GSSolver:e("./solver/GSSolver"),Heightfield:e("./shapes/Heightfield"),Line:e("./shapes/Line"),LockConstraint:e("./constraints/LockConstraint"),Material:e("./material/Material"),Narrowphase:e("./collision/Narrowphase"),NaiveBroadphase:e("./collision/NaiveBroadphase"),Particle:e("./shapes/Particle"),Plane:e("./shapes/Plane"),Pool:e("./utils/Pool"),RevoluteConstraint:e("./constraints/RevoluteConstraint"),PrismaticConstraint:e("./constraints/PrismaticConstraint"),Ray:e("./collision/Ray"),RaycastResult:e("./collision/RaycastResult"),Box:e("./shapes/Box"),RotationalVelocityEquation:e("./equations/RotationalVelocityEquation"),SAPBroadphase:e("./collision/SAPBroadphase"),Shape:e("./shapes/Shape"),Solver:e("./solver/Solver"),Spring:e("./objects/Spring"),TopDownVehicle:e("./objects/TopDownVehicle"),LinearSpring:e("./objects/LinearSpring"),RotationalSpring:e("./objects/RotationalSpring"),Utils:e("./utils/Utils"),World:e("./world/World"),vec2:e("./math/vec2"),version:e("../package.json").version};Object.defineProperty(t,"Rectangle",{get:function(){return this.Box}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(e,t,i){var n=e("../math/vec2"),r=e("./Shape"),o=e("./Convex");function a(e){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e={width:arguments[0],height:arguments[1]});var t=this.width=(e=e||{}).width||1,i=this.height=e.height||1,t=[n.fromValues(-t/2,-i/2),n.fromValues(t/2,-i/2),n.fromValues(t/2,i/2),n.fromValues(-t/2,i/2)],i=[n.fromValues(1,0),n.fromValues(0,1)];e.vertices=t,e.axes=i,e.type=r.BOX,o.call(this,e)}(((t.exports=a).prototype=new o).constructor=a).prototype.computeMomentOfInertia=function(e){var t=this.width,i=this.height;return e*(i*i+t*t)/12},a.prototype.updateBoundingRadius=function(){var e=this.width,t=this.height;this.boundingRadius=Math.sqrt(e*e+t*t)/2};n.create(),n.create(),n.create(),n.create();a.prototype.computeAABB=function(e,t,i){e.setFromPoints(this.vertices,t,i,0)},a.prototype.updateArea=function(){this.area=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(e,t,i){var n=e("./Shape"),g=e("../math/vec2");function r(e){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(e={length:arguments[0],radius:arguments[1]}),this.length=(e=e||{}).length||1,this.radius=e.radius||1,e.type=n.CAPSULE,n.call(this,e)}(((t.exports=r).prototype=new n).constructor=r).prototype.computeMomentOfInertia=function(e){var t=this.radius,i=this.length+t,t=2*t;return e*(t*t+i*i)/12},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},r.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var o=g.create(),v=(r.prototype.computeAABB=function(e,t,i){var n=this.radius;g.set(o,this.length/2,0),0!==i&&g.rotate(o,o,i),g.set(e.upperBound,Math.max(o[0]+n,-o[0]+n),Math.max(o[1]+n,-o[1]+n)),g.set(e.lowerBound,Math.min(o[0]-n,-o[0]-n),Math.min(o[1]-n,-o[1]-n)),g.add(e.lowerBound,e.lowerBound,t),g.add(e.upperBound,e.upperBound,t)},g.create()),z=g.create(),b=g.create(),w=g.create(),S=g.fromValues(0,1);r.prototype.raycast=function(e,t,i,n){for(var r=t.from,o=t.to,a=(t.direction,v),s=z,p=b,l=w,h=this.length/2,u=0;u<2;u++){var d=this.radius*(2*u-1),c=(g.set(p,-h,d),g.set(l,h,d),g.toGlobalFrame(p,p,i,n),g.toGlobalFrame(l,l,i,n),g.getLineSegmentsIntersectionFraction(r,o,p,l));if(0<=c&&(g.rotate(s,S,n),g.scale(s,s,2*u-1),t.reportIntersection(e,c,s,-1),e.shouldStop(t)))return}for(var m=Math.pow(this.radius,2)+Math.pow(h,2),u=0;u<2;u++){g.set(p,h*(2*u-1),0),g.toGlobalFrame(p,p,i,n);var y=Math.pow(o[0]-r[0],2)+Math.pow(o[1]-r[1],2),_=2*((o[0]-r[0])*(r[0]-p[0])+(o[1]-r[1])*(r[1]-p[1])),x=Math.pow(r[0]-p[0],2)+Math.pow(r[1]-p[1],2)-Math.pow(this.radius,2),c=Math.pow(_,2)-4*y*x;if(!(c<0))if(0===c){if(g.lerp(a,r,o,c),g.squaredDistance(a,i)>m&&(g.sub(s,a,p),g.normalize(s,s),t.reportIntersection(e,c,s,-1),e.shouldStop(t)))return}else{var x=Math.sqrt(c),y=1/(2*y),f=(-_-x)*y,_=(-_+x)*y;if(0<=f&&f<=1&&(g.lerp(a,r,o,f),g.squaredDistance(a,i)>m&&(g.sub(s,a,p),g.normalize(s,s),t.reportIntersection(e,f,s,-1),e.shouldStop(t))))return;if(0<=_&&_<=1&&(g.lerp(a,r,o,_),g.squaredDistance(a,i)>m&&(g.sub(s,a,p),g.normalize(s,s),t.reportIntersection(e,_,s,-1),e.shouldStop(t))))return}}}},{"../math/vec2":30,"./Shape":45}],39:[function(e,t,i){var n=e("./Shape"),d=e("../math/vec2");function r(e){"number"==typeof arguments[0]&&(e={radius:arguments[0]}),this.radius=(e=e||{}).radius||1,e.type=n.CIRCLE,n.call(this,e)}(((t.exports=r).prototype=new n).constructor=r).prototype.computeMomentOfInertia=function(e){var t=this.radius;return e*t*t/2},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},r.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},r.prototype.computeAABB=function(e,t,i){var n=this.radius;d.set(e.upperBound,n,n),d.set(e.lowerBound,-n,-n),t&&(d.add(e.lowerBound,e.lowerBound,t),d.add(e.upperBound,e.upperBound,t))};var c=d.create(),m=d.create();r.prototype.raycast=function(e,t,i,n){var r,o=t.from,a=t.to,s=this.radius,p=Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2),l=2*((a[0]-o[0])*(o[0]-i[0])+(a[1]-o[1])*(o[1]-i[1])),s=Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)-Math.pow(s,2),s=Math.pow(l,2)-4*p*s,h=c,u=m;s<0||(0==s?(d.lerp(h,o,a,s),d.sub(u,h,i),d.normalize(u,u),t.reportIntersection(e,s,u,-1)):(r=(-l+(s=Math.sqrt(s)))*(p=1/(2*p)),0<=(l=(-l-s)*p)&&l<=1&&(d.lerp(h,o,a,l),d.sub(u,h,i),d.normalize(u,u),t.reportIntersection(e,l,u,-1),e.shouldStop(t))||0<=r&&r<=1&&(d.lerp(h,o,a,r),d.sub(u,h,i),d.normalize(u,u),t.reportIntersection(e,r,u,-1))))}},{"../math/vec2":30,"./Shape":45}],40:[function(e,t,i){var p=e("./Shape"),c=e("../math/vec2"),s=e("../math/polyk");e("poly-decomp");function h(e){e=(e=Array.isArray(arguments[0])?{vertices:arguments[0],axes:arguments[1]}:e)||{},this.vertices=[];for(var t=void 0!==e.vertices?e.vertices:[],i=0;i<t.length;i++){var n=c.create();c.copy(n,t[i]),this.vertices.push(n)}if(this.axes=[],e.axes)for(i=0;i<e.axes.length;i++){var r=c.create();c.copy(r,e.axes[i]),this.axes.push(r)}else for(i=0;i<this.vertices.length;i++){var o=this.vertices[i],a=this.vertices[(i+1)%this.vertices.length],s=c.create();c.sub(s,a,o),c.rotate90cw(s,s),c.normalize(s,s),this.axes.push(s)}if(this.centerOfMass=c.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,e.type=p.CONVEX,p.call(this,e),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}((t.exports=h).prototype=new p).constructor=h;var l=c.create(),o=c.create(),u=(h.prototype.projectOntoLocalAxis=function(e,t){for(var i,n,r=null,o=null,e=l,a=0;a<this.vertices.length;a++)i=this.vertices[a],i=c.dot(i,e),(null===r||r<i)&&(r=i),(null===o||i<o)&&(o=i);r<o&&(n=o,o=r,r=n),c.set(t,o,r)},h.prototype.projectOntoWorldAxis=function(e,t,i,n){var r=o,i=(this.projectOntoLocalAxis(e,n),0!==i?c.rotate(r,e,i):r=e,c.dot(t,r));c.set(n,n[0]+i,n[1]+i)},h.prototype.updateTriangles=function(){for(var e=[],t=this.triangles.length=0;t<this.vertices.length;t++){var i=this.vertices[t];e.push(i[0],i[1])}for(var n=s.Triangulate(e),t=0;t<n.length;t+=3){var r=n[t],o=n[t+1],a=n[t+2];this.triangles.push([r,o,a])}},c.create()),d=c.create(),m=(c.create(),c.create(),c.create(),c.create(),c.create(),c.create(),c.create(),h.prototype.updateCenterOfMass=function(){for(var e=this.triangles,t=this.vertices,i=this.centerOfMass,n=u,r=d,o=(c.set(i,0,0),0),a=0;a!==e.length;a++){var s=e[a],p=t[s[0]],l=t[s[1]],s=t[s[2]],p=(c.centroid(n,p,l,s),h.triangleArea(p,l,s));o+=p,c.scale(r,n,p),c.add(i,i,r)}c.scale(i,i,1/o)},h.prototype.computeMomentOfInertia=function(e){for(var t=0,i=0,n=this.vertices.length,r=n-1,o=0;o<n;r=o,o++){var a=this.vertices[r],s=this.vertices[o],p=Math.abs(c.crossLength(a,s));t+=p*(c.dot(s,s)+c.dot(s,a)+c.dot(a,a)),i+=p}return e/6*(t/i)},h.prototype.updateBoundingRadius=function(){for(var e=this.vertices,t=0,i=0;i!==e.length;i++){var n=c.squaredLength(e[i]);t<n&&(t=n)}this.boundingRadius=Math.sqrt(t)},h.triangleArea=function(e,t,i){return.5*((t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1]))},h.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var e=this.triangles,t=this.vertices,i=0;i!==e.length;i++){var n=e[i],r=t[n[0]],o=t[n[1]],n=t[n[2]],r=h.triangleArea(r,o,n);this.area+=r}},h.prototype.computeAABB=function(e,t,i){e.setFromPoints(this.vertices,t,i,0)},c.create()),y=c.create(),_=c.create();h.prototype.raycast=function(e,t,i,n){for(var r=m,o=y,a=_,s=this.vertices,p=(c.toLocalFrame(r,t.from,i,n),c.toLocalFrame(o,t.to,i,n),s.length),l=0;l<p&&!e.shouldStop(t);l++){var h=s[l],u=s[(l+1)%p],d=c.getLineSegmentsIntersectionFraction(r,o,h,u);0<=d&&(c.sub(a,u,h),c.rotate(a,a,-Math.PI/2+n),c.normalize(a,a),t.reportIntersection(e,d,a,l))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(e,t,i){var n=e("./Shape"),c=e("../math/vec2");e("../utils/Utils");function r(e){if(Array.isArray(arguments[0])&&(e={heights:arguments[0]},"object"==typeof arguments[1]))for(var t in arguments[1])e[t]=arguments[1][t];this.heights=(e=e||{}).heights?e.heights.slice(0):[],this.maxValue=e.maxValue||null,this.minValue=e.minValue||null,this.elementWidth=e.elementWidth||.1,void 0!==e.maxValue&&void 0!==e.minValue||this.updateMaxMinValues(),e.type=n.HEIGHTFIELD,n.call(this,e)}(((t.exports=r).prototype=new n).constructor=r).prototype.updateMaxMinValues=function(){for(var e=this.heights,t=e[0],i=e[0],n=0;n!==e.length;n++){var r=e[n];t<r&&(t=r),r<i&&(i=r)}this.maxValue=t,this.minValue=i},r.prototype.computeMomentOfInertia=function(e){return Number.MAX_VALUE},r.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},r.prototype.updateArea=function(){for(var e=this.heights,t=0,i=0;i<e.length-1;i++)t+=(e[i]+e[i+1])/2*this.elementWidth;this.area=t};var o=[c.create(),c.create(),c.create(),c.create()],m=(r.prototype.computeAABB=function(e,t,i){c.set(o[0],0,this.maxValue),c.set(o[1],this.elementWidth*this.heights.length,this.maxValue),c.set(o[2],this.elementWidth*this.heights.length,this.minValue),c.set(o[3],0,this.minValue),e.setFromPoints(o,t,i)},r.prototype.getLineSegment=function(e,t,i){var n=this.heights,r=this.elementWidth;c.set(e,i*r,n[i]),c.set(t,(i+1)*r,n[i+1])},r.prototype.getSegmentIndex=function(e){return Math.floor(e[0]/this.elementWidth)},r.prototype.getClampedSegmentIndex=function(e){e=this.getSegmentIndex(e);return Math.min(this.heights.length,Math.max(e,0))},c.create(),c.create()),y=c.create(),_=c.create(),x=c.create(),f=c.create();c.fromValues(0,1);r.prototype.raycast=function(e,t,i,n){var r=t.from,o=t.to,a=(t.direction,m),s=y,p=_,l=x,h=f,r=(c.toLocalFrame(l,r,i,n),c.toLocalFrame(h,o,i,n),this.getClampedSegmentIndex(l)),o=this.getClampedSegmentIndex(h);o<r&&(i=r,r=o,o=i);for(var u=0;u<this.heights.length-1;u++){this.getLineSegment(s,p,u);var d=c.getLineSegmentsIntersectionFraction(l,h,s,p);if(0<=d&&(c.sub(a,p,s),c.rotate(a,a,n+Math.PI/2),c.normalize(a,a),t.reportIntersection(e,d,a,-1),e.shouldStop(t)))return}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(e,t,i){var n=e("./Shape"),l=e("../math/vec2");function r(e){"number"==typeof arguments[0]&&(e={length:arguments[0]}),this.length=(e=e||{}).length||1,e.type=n.LINE,n.call(this,e)}(((t.exports=r).prototype=new n).constructor=r).prototype.computeMomentOfInertia=function(e){return e*Math.pow(this.length,2)/12},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var o=[l.create(),l.create()],h=(r.prototype.computeAABB=function(e,t,i){var n=this.length/2;l.set(o[0],-n,0),l.set(o[1],n,0),e.setFromPoints(o,t,i,0)},l.create(),l.create()),u=l.create(),d=l.create(),c=l.fromValues(0,1);r.prototype.raycast=function(e,t,i,n){var r=t.from,o=t.to,a=u,s=d,p=this.length/2,p=(l.set(a,-p,0),l.set(s,p,0),l.toGlobalFrame(a,a,i,n),l.toGlobalFrame(s,s,i,n),l.getLineSegmentsIntersectionFraction(a,s,r,o));0<=p&&(l.rotate(i=h,c,n),t.reportIntersection(e,p,i,-1))}},{"../math/vec2":30,"./Shape":45}],43:[function(e,t,i){var n=e("./Shape"),r=e("../math/vec2");function o(e){(e=e||{}).type=n.PARTICLE,n.call(this,e)}(((t.exports=o).prototype=new n).constructor=o).prototype.computeMomentOfInertia=function(e){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=0},o.prototype.computeAABB=function(e,t,i){r.copy(e.lowerBound,t),r.copy(e.upperBound,t)}},{"../math/vec2":30,"./Shape":45}],44:[function(e,t,i){var n=e("./Shape"),h=e("../math/vec2");e("../utils/Utils");function r(e){(e=e||{}).type=n.PLANE,n.call(this,e)}(((t.exports=r).prototype=new n).constructor=r).prototype.computeMomentOfInertia=function(e){return 0},r.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},r.prototype.computeAABB=function(e,t,i){var i=i%(2*Math.PI),n=h.set,r=Number.MAX_VALUE,o=e.lowerBound,e=e.upperBound;0==i?(n(o,-r,-r),n(e,r,0)):i==Math.PI/2?(n(o,0,-r),n(e,r,r)):i===Math.PI?(n(o,-r,0),n(e,r,r)):i==3*Math.PI/2?(n(o,-r,-r),n(e,0,r)):(n(o,-r,-r),n(e,r,r)),h.add(o,o,t),h.add(e,e,t)},r.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var u=h.create(),d=(h.create(),h.create(),h.create()),c=h.create();r.prototype.raycast=function(e,t,i,n){var r=t.from,o=t.to,a=t.direction,s=u,p=d,l=c,n=(h.set(p,0,1),h.rotate(p,p,n),h.sub(l,r,i),h.dot(l,p));h.sub(l,o,i),0<n*h.dot(l,p)||h.squaredDistance(r,o)<n*n||(l=h.dot(p,a),h.sub(s,r,i),o=-h.dot(p,s)/l/t.length,t.reportIntersection(e,o,p,-1))}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(e,t,i){t.exports=r;var n=e("../math/vec2");function r(e){e=e||{},this.body=null,this.position=n.fromValues(0,0),e.position&&n.copy(this.position,e.position),this.angle=e.angle||0,this.type=e.type||0,this.id=r.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==e.collisionGroup?e.collisionGroup:1,this.collisionResponse=void 0===e.collisionResponse||e.collisionResponse,this.collisionMask=void 0!==e.collisionMask?e.collisionMask:1,this.material=e.material||null,this.area=0,this.sensor=void 0!==e.sensor&&e.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}r.idCounter=0,r.CIRCLE=1,r.PARTICLE=2,r.PLANE=4,r.CONVEX=8,r.LINE=16,r.BOX=32,Object.defineProperty(r,"RECTANGLE",{get:function(){return r.BOX}}),r.CAPSULE=64,r.HEIGHTFIELD=128,r.prototype.computeMomentOfInertia=function(e){},r.prototype.updateBoundingRadius=function(){},r.prototype.updateArea=function(){},r.prototype.computeAABB=function(e,t,i){},r.prototype.raycast=function(e,t,i,n){}},{"../math/vec2":30}],46:[function(e,t,i){var S=e("../math/vec2"),n=e("./Solver"),C=e("../utils/Utils"),k=e("../equations/FrictionEquation");function M(e){n.call(this,e,n.GS),this.iterations=(e=e||{}).iterations||10,this.tolerance=e.tolerance||1e-7,this.arrayStep=30,this.lambda=new C.ARRAY_TYPE(this.arrayStep),this.Bs=new C.ARRAY_TYPE(this.arrayStep),this.invCs=new C.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=0,this.usedIterations=0}(((t.exports=M).prototype=new n).constructor=M).prototype.solve=function(e,t){this.sortEquations();var i=0,n=this.iterations,r=this.frictionIterations,o=this.equations,a=o.length,s=Math.pow(this.tolerance*a,2),p=t.bodies,l=t.bodies.length,h=(S.add,S.set,this.useZeroRHS),u=this.lambda;if(this.usedIterations=0,a)for(var d=0;d!==l;d++)p[d].updateSolveMassProperties();u.length<a&&(u=this.lambda=new C.ARRAY_TYPE(a+this.arrayStep),this.Bs=new C.ARRAY_TYPE(a+this.arrayStep),this.invCs=new C.ARRAY_TYPE(a+this.arrayStep));for(var c=u,m=c.length;m--;)c[m]=0;for(var y,_,x,f=this.invCs,g=this.Bs,u=this.lambda,d=0;d!==o.length;d++)(y=o[d]).timeStep===e&&!y.needsUpdate||(y.timeStep=e,y.update()),g[d]=y.computeB(y.a,y.b,e),f[d]=y.computeInvC(y.epsilon);if(0!==a){for(d=0;d!==l;d++)p[d].resetConstraintVelocity();if(r){for(i=0;i!==r;i++){for(x=_=0;x!==a;x++){y=o[x];var v=M.iterateEquation(x,y,y.epsilon,g,f,u,h,e,i);_+=Math.abs(v)}if(this.usedIterations++,_*_<=s)break}for(M.updateMultipliers(o,u,1/e),x=0;x!==a;x++){var z=o[x];if(z instanceof k){for(var b=0,w=0;w!==z.contactEquations.length;w++)b+=z.contactEquations[w].multiplier;b*=z.frictionCoefficient/z.contactEquations.length,z.maxForce=b,z.minForce=-b}}}for(i=0;i!==n;i++){for(x=_=0;x!==a;x++){y=o[x];v=M.iterateEquation(x,y,y.epsilon,g,f,u,h,e,i);_+=Math.abs(v)}if(this.usedIterations++,_*_<=s)break}for(d=0;d!==l;d++)p[d].addConstraintVelocity();M.updateMultipliers(o,u,1/e)}},M.updateMultipliers=function(e,t,i){for(var n=e.length;n--;)e[n].multiplier=t[n]*i},M.iterateEquation=function(e,t,i,n,r,o,a,s,p){var n=n[e],r=r[e],l=o[e],h=t.computeGWlambda(),u=t.maxForce,d=t.minForce,r=r*((n=a?0:n)-h-i*l),a=l+r;return a<d*s?r=d*s-l:u*s<a&&(r=u*s-l),o[e]+=r,t.addToWlambda(r),r}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(e,t,i){e("../utils/Utils");var n=e("../events/EventEmitter");function r(e,t){e=e||{},n.call(this),this.type=t,this.equations=[],this.equationSortFunction=e.equationSortFunction||!1}(((t.exports=r).prototype=new n).constructor=r).prototype.solve=function(e,t){throw new Error("Solver.solve should be implemented by subclasses!")};var o={bodies:[]};r.prototype.solveIsland=function(e,t){this.removeAllEquations(),t.equations.length&&(this.addEquations(t.equations),o.bodies.length=0,t.getBodies(o.bodies),o.bodies.length&&this.solve(e,o))},r.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},r.prototype.addEquation=function(e){e.enabled&&this.equations.push(e)},r.prototype.addEquations=function(e){for(var t=0,i=e.length;t!==i;t++){var n=e[t];n.enabled&&this.equations.push(n)}},r.prototype.removeEquation=function(e){e=this.equations.indexOf(e);-1!==e&&this.equations.splice(e,1)},r.prototype.removeAllEquations=function(){this.equations.length=0},r.GS=1,r.ISLAND=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(e,t,i){var n=e("../equations/ContactEquation"),r=e("./Pool");function o(){r.apply(this,arguments)}(((t.exports=o).prototype=new r).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(e,t,i){var n=e("../equations/FrictionEquation"),r=e("./Pool");function o(){r.apply(this,arguments)}(((t.exports=o).prototype=new r).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.bodyA=e.bodyB=null,this}},{"../equations/FrictionEquation":23,"./Pool":55}],50:[function(e,t,i){var n=e("../world/IslandNode"),r=e("./Pool");function o(){r.apply(this,arguments)}(((t.exports=o).prototype=new r).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(e,t,i){var n=e("../world/Island"),r=e("./Pool");function o(){r.apply(this,arguments)}(((t.exports=o).prototype=new r).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(e,t,i){var n=e("./TupleDictionary"),r=(e("./OverlapKeeperRecord"),e("./OverlapKeeperRecordPool"));e("./Utils");function o(){this.overlappingShapesLastState=new n,this.overlappingShapesCurrentState=new n,this.recordPool=new r({size:16}),this.tmpDict=new n,this.tmpArray1=[]}(t.exports=o).prototype.tick=function(){for(var e=this.overlappingShapesLastState,t=this.overlappingShapesCurrentState,i=e.keys.length;i--;){var n=e.keys[i],r=e.getByKey(n);t.getByKey(n);r&&this.recordPool.release(r)}e.reset(),e.copy(t),t.reset()},o.prototype.setOverlapping=function(e,t,i,n){this.overlappingShapesLastState;var r,o=this.overlappingShapesCurrentState;o.get(t.id,n.id)||((r=this.recordPool.get()).set(e,t,i,n),o.set(t.id,n.id,r))},o.prototype.getNewOverlaps=function(e){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,e)},o.prototype.getEndOverlaps=function(e){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,e)},o.prototype.bodiesAreOverlapping=function(e,t){for(var i=this.overlappingShapesCurrentState,n=i.keys.length;n--;){var r=i.keys[n],r=i.data[r];if(r.bodyA===e&&r.bodyB===t||r.bodyA===t&&r.bodyB===e)return!0}return!1},o.prototype.getDiff=function(e,t,i){for(var n=e,r=t,o=((i=i||[]).length=0,r.keys.length);o--;){var a=r.keys[o],s=r.data[a];if(!s)throw new Error("Key "+a+" had no data!");n.data[a]||i.push(s)}return i},o.prototype.isNewOverlap=function(e,t){var e=0|e.id,t=0|t.id,i=this.overlappingShapesLastState,n=this.overlappingShapesCurrentState;return!i.get(e,t)&&!!n.get(e,t)},o.prototype.getNewBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},o.prototype.getEndBodyOverlaps=function(e){this.tmpArray1.length=0;var t=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(t,e)},o.prototype.getBodyDiff=function(e,t){t=t||[];for(var i=this.tmpDict,n=e.length;n--;){var r=e[n];i.set(0|r.bodyA.id,0|r.bodyB.id,r)}for(n=i.keys.length;n--;)(r=i.getByKey(i.keys[n]))&&t.push(r.bodyA,r.bodyB);return i.reset(),t}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(e,t,i){function r(e,t,i,n){this.shapeA=t,this.shapeB=n,this.bodyA=e,this.bodyB=i}(t.exports=r).prototype.set=function(e,t,i,n){r.call(this,e,t,i,n)}},{}],54:[function(e,t,i){var n=e("./OverlapKeeperRecord"),r=e("./Pool");function o(){r.apply(this,arguments)}(((t.exports=o).prototype=new r).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(e){return e.bodyA=e.bodyB=e.shapeA=e.shapeB=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(e,t,i){function n(e){e=e||{},this.objects=[],void 0!==e.size&&this.resize(e.size)}(t.exports=n).prototype.resize=function(e){for(var t=this.objects;t.length>e;)t.pop();for(;t.length<e;)t.push(this.create());return this},n.prototype.get=function(){var e=this.objects;return e.length?e.pop():this.create()},n.prototype.release=function(e){return this.destroy(e),this.objects.push(e),this}},{}],56:[function(e,t,i){var n=e("./Utils");function r(){this.data={},this.keys=[]}(t.exports=r).prototype.getKey=function(e,t){return(0|(e|=0))==(0|(t|=0))?-1:0|((0|t)<(0|e)?e<<16|65535&t:t<<16|65535&e)},r.prototype.getByKey=function(e){return this.data[e|=0]},r.prototype.get=function(e,t){return this.data[this.getKey(e,t)]},r.prototype.set=function(e,t,i){if(!i)throw new Error("No data!");e=this.getKey(e,t);return this.data[e]||this.keys.push(e),this.data[e]=i,e},r.prototype.reset=function(){for(var e=this.data,t=this.keys,i=t.length;i--;)delete e[t[i]];t.length=0},r.prototype.copy=function(e){this.reset(),n.appendArray(this.keys,e.keys);for(var t=e.keys.length;t--;){var i=e.keys[t];this.data[i]=e.data[i]}}},{"./Utils":57}],57:[function(e,t,i){function n(){}(t.exports=n).appendArray=function(e,t){if(t.length<15e4)e.push.apply(e,t);else for(var i=0,n=t.length;i!==n;++i)e.push(t[i])},n.splice=function(e,t,i){for(var n=t,r=e.length-(i=i||1);n<r;n++)e[n]=e[n+i];e.length=r},"undefined"!=typeof P2_ARRAY_TYPE?n.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?n.ARRAY_TYPE=Float32Array:n.ARRAY_TYPE=Array,n.extend=function(e,t){for(var i in t)e[i]=t[i]},n.defaults=function(e,t){for(var i in e=e||{},t)i in e||(e[i]=t[i]);return e}},{}],58:[function(e,t,i){var n=e("../objects/Body");function r(){this.equations=[],this.bodies=[]}(t.exports=r).prototype.reset=function(){this.equations.length=this.bodies.length=0};var o=[];r.prototype.getBodies=function(e){for(var t=e||[],i=this.equations,n=o.length=0;n!==i.length;n++){var r=i[n];-1===o.indexOf(r.bodyA.id)&&(t.push(r.bodyA),o.push(r.bodyA.id)),-1===o.indexOf(r.bodyB.id)&&(t.push(r.bodyB),o.push(r.bodyB.id))}return t},r.prototype.wantsToSleep=function(){for(var e=0;e<this.bodies.length;e++){var t=this.bodies[e];if(t.type===n.DYNAMIC&&!t.wantsToSleep)return!1}return!0},r.prototype.sleep=function(){for(var e=0;e<this.bodies.length;e++)this.bodies[e].sleep();return!0}},{"../objects/Body":31}],59:[function(e,t,i){e("../math/vec2"),e("./Island"),e("./IslandNode");var n=e("./../utils/IslandNodePool"),r=e("./../utils/IslandPool"),a=e("../objects/Body");function c(e){this.nodePool=new n({size:16}),this.islandPool=new r({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}(t.exports=c).getUnvisitedNode=function(e){for(var t=e.length,i=0;i!==t;i++){var n=e[i];if(!n.visited&&n.body.type===a.DYNAMIC)return n}return!1},c.prototype.visit=function(e,t,i){t.push(e.body);for(var n=e.equations.length,r=0;r!==n;r++){var o=e.equations[r];-1===i.indexOf(o)&&i.push(o)}},c.prototype.bfs=function(e,t,i){var n=this.queue;for(n.length=0,n.push(e),e.visited=!0,this.visit(e,t,i);n.length;)for(var r,o=n.pop();r=c.getUnvisitedNode(o.neighbors);)r.visited=!0,this.visit(r,t,i),r.body.type===a.DYNAMIC&&n.push(r)},c.prototype.split=function(e){for(var t=e.bodies,i=this.nodes,n=this.equations;i.length;)this.nodePool.release(i.pop());for(var r=0;r!==t.length;r++){var o=this.nodePool.get();o.body=t[r],i.push(o)}for(var a=0;a!==n.length;a++){var s=n[a],r=t.indexOf(s.bodyA),p=t.indexOf(s.bodyB),l=i[r],p=i[p];l.neighbors.push(p),p.neighbors.push(l),l.equations.push(s),p.equations.push(s)}for(var h,u=this.islands,r=0;r<u.length;r++)this.islandPool.release(u[r]);for(u.length=0;h=c.getUnvisitedNode(i);){var d=this.islandPool.get();this.bfs(h,d.bodies,d.equations),u.push(d)}return u}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(e,t,i){function n(e){this.body=e,this.neighbors=[],this.equations=[],this.visited=!1}(t.exports=n).prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],61:[function(e,t,i){var n=e("../solver/GSSolver"),V=(e("../solver/Solver"),e("../collision/Ray"),e("../math/vec2")),x=e("../shapes/Circle"),f=e("../shapes/Convex"),g=(e("../shapes/Line"),e("../shapes/Plane")),v=e("../shapes/Capsule"),z=e("../shapes/Particle"),r=e("../events/EventEmitter"),W=e("../objects/Body"),o=(e("../shapes/Shape"),e("../objects/LinearSpring"),e("../material/Material")),a=e("../material/ContactMaterial"),s=(e("../constraints/DistanceConstraint"),e("../constraints/Constraint"),e("../constraints/LockConstraint"),e("../constraints/RevoluteConstraint"),e("../constraints/PrismaticConstraint"),e("../constraints/GearConstraint"),e("../../package.json"),e("../collision/Broadphase"),e("../collision/AABB")),p=e("../collision/SAPBroadphase"),l=e("../collision/Narrowphase"),q=e("../utils/Utils"),h=e("../utils/OverlapKeeper"),u=e("./IslandManager");e("../objects/RotationalSpring");function X(e){r.apply(this),e=e||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=e.solver||new n,this.narrowphase=new l(this),this.islandManager=new u,this.gravity=V.fromValues(0,-9.78),e.gravity&&V.copy(this.gravity,e.gravity),this.frictionGravity=V.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=e.broadphase||new p,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new o,this.defaultContactMaterial=new a(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===e.islandSplit||!!e.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=X.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new h}(((t.exports=X).prototype=new Object(r.prototype)).constructor=X).NO_SLEEPING=1,X.BODY_SLEEPING=2,X.ISLAND_SLEEPING=4,X.prototype.addConstraint=function(e){this.constraints.push(e)},X.prototype.addContactMaterial=function(e){this.contactMaterials.push(e)},X.prototype.removeContactMaterial=function(e){e=this.contactMaterials.indexOf(e);-1!==e&&q.splice(this.contactMaterials,e,1)},X.prototype.getContactMaterial=function(e,t){for(var i=this.contactMaterials,n=0,r=i.length;n!==r;n++){var o=i[n];if(o.materialA.id===e.id&&o.materialB.id===t.id||o.materialA.id===t.id&&o.materialB.id===e.id)return o}return!1},X.prototype.removeConstraint=function(e){e=this.constraints.indexOf(e);-1!==e&&q.splice(this.constraints,e,1)};V.create(),V.create(),V.create(),V.create(),V.create(),V.create();var Y=V.create(),y=V.fromValues(0,0),_=V.fromValues(0,0),K=(V.fromValues(0,0),V.fromValues(0,0),X.prototype.step=function(e,t,i){if(i=i||10,0===(t=t||0))this.internalStep(e),this.time+=e;else{this.accumulator+=t;for(var n=0;this.accumulator>=e&&n<i;)this.internalStep(e),this.time+=e,this.accumulator-=e,n++;for(var r=this.accumulator%e/e,o=0;o!==this.bodies.length;o++){var a=this.bodies[o];V.lerp(a.interpolatedPosition,a.previousPosition,a.position,r),a.interpolatedAngle=a.previousAngle+r*(a.angle-a.previousAngle)}}},[]),b=(X.prototype.internalStep=function(e){this.stepping=!0;var t=this.springs.length,i=this.springs,n=this.bodies,r=this.gravity,o=this.solver,a=this.bodies.length,s=this.broadphase,p=this.narrowphase,l=this.constraints,h=Y,L=(V.scale,V.add),u=(V.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=e,!this.useWorldGravityAsFrictionGravity||0===(T=V.length(this.gravity))&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=T),this.applyGravity)for(var d=0;d!==a;d++){var c=(m=n[d]).force;m.type===W.DYNAMIC&&m.sleepState!==W.SLEEPING&&(V.scale(h,r,m.mass*m.gravityScale),L(c,c,h))}if(this.applySpringForces)for(d=0;d!==t;d++)i[d].applyForce();if(this.applyDamping)for(var m,d=0;d!==a;d++)(m=n[d]).type===W.DYNAMIC&&m.applyDamping(e);for(var y=s.getCollisionPairs(this),_=this.disabledBodyCollisionPairs,d=_.length-2;0<=d;d-=2)for(var x=y.length-2;0<=x;x-=2)(_[d]===y[x]&&_[d+1]===y[x+1]||_[d+1]===y[x]&&_[d]===y[x+1])&&y.splice(x,2);var f=l.length;for(d=0;d!==f;d++){var g=l[d];if(!g.collideConnected)for(x=y.length-2;0<=x;x-=2)(g.bodyA===y[x]&&g.bodyB===y[x+1]||g.bodyB===y[x]&&g.bodyA===y[x+1])&&y.splice(x,2)}this.postBroadphaseEvent.pairs=y,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,p.reset(this);for(var d=0,D=y.length;d!==D;d+=2)for(var v=y[d],z=y[d+1],b=0,R=v.shapes.length;b!==R;b++)for(var w=v.shapes[b],j=w.position,F=w.angle,S=0,N=z.shapes.length;S!==N;S++){var C,k=z.shapes[S],U=k.position,H=k.angle,M=this.defaultContactMaterial;w.material&&k.material&&((C=this.getContactMaterial(w.material,k.material))&&(M=C)),this.runNarrowphase(p,v,w,j,F,z,k,U,H,M,this.frictionGravity)}for(d=0;d!==a;d++)(G=n[d])._wakeUpAfterNarrowphase&&(G.wakeUp(),G._wakeUpAfterNarrowphase=!1);if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(K);for(var P=this.endContactEvent,S=K.length;S--;){var O=K[S];P.shapeA=O.shapeA,P.shapeB=O.shapeB,P.bodyA=O.bodyA,P.bodyB=O.bodyB,this.emit(P)}K.length=0}var T=this.preSolveEvent,f=(T.contactEquations=p.contactEquations,T.frictionEquations=p.frictionEquations,this.emit(T),T.contactEquations=T.frictionEquations=null,l.length);for(d=0;d!==f;d++)l[d].update();if(p.contactEquations.length||p.frictionEquations.length||f)if(this.islandSplit){for(u.equations.length=0,q.appendArray(u.equations,p.contactEquations),q.appendArray(u.equations,p.frictionEquations),d=0;d!==f;d++)q.appendArray(u.equations,l[d].equations);u.split(this);for(d=0;d!==u.islands.length;d++)(I=u.islands[d]).equations.length&&o.solveIsland(e,I)}else{for(o.addEquations(p.contactEquations),o.addEquations(p.frictionEquations),d=0;d!==f;d++)o.addEquations(l[d].equations);this.solveConstraints&&o.solve(e,this),o.removeAllEquations()}for(var G,d=0;d!==a;d++)(G=n[d]).integrate(e);for(d=0;d!==a;d++)n[d].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var A=this.impactEvent,d=0;d!==p.contactEquations.length;d++){var E=p.contactEquations[d];E.firstImpact&&(A.bodyA=E.bodyA,A.bodyB=E.bodyB,A.shapeA=E.shapeA,A.shapeB=E.shapeB,A.contactEquation=E,this.emit(A))}if(this.sleepMode===X.BODY_SLEEPING)for(d=0;d!==a;d++)n[d].sleepTick(this.time,!1,e);else if(this.sleepMode===X.ISLAND_SLEEPING&&this.islandSplit){for(d=0;d!==a;d++)n[d].sleepTick(this.time,!0,e);for(var I,d=0;d<this.islandManager.islands.length;d++)(I=this.islandManager.islands[d]).wantsToSleep()&&I.sleep()}this.stepping=!1;for(var B=this.bodiesToBeRemoved,d=0;d!==B.length;d++)this.removeBody(B[d]);B.length=0,this.emit(this.postStepEvent)},X.prototype.runNarrowphase=function(e,t,i,n,r,o,a,s,p,l,h){if(0!=(i.collisionGroup&a.collisionMask)&&0!=(a.collisionGroup&i.collisionMask)){V.rotate(y,n,t.angle),V.rotate(_,s,o.angle),V.add(y,y,t.position),V.add(_,_,o.position);n=r+t.angle,s=p+o.angle,p=(e.enableFriction=0<l.friction,e.frictionCoefficient=l.friction,r=t.type===W.STATIC||t.type===W.KINEMATIC?o.mass:o.type===W.STATIC||o.type===W.KINEMATIC?t.mass:t.mass*o.mass/(t.mass+o.mass),e.slipForce=l.friction*h*r,e.restitution=l.restitution,e.surfaceVelocity=l.surfaceVelocity,e.frictionStiffness=l.frictionStiffness,e.frictionRelaxation=l.frictionRelaxation,e.stiffness=l.stiffness,e.relaxation=l.relaxation,e.contactSkinSize=l.contactSkinSize,e.enabledEquations=t.collisionResponse&&o.collisionResponse&&i.collisionResponse&&a.collisionResponse,e[i.type|a.type]),h=0;if(p){var r=i.sensor||a.sensor,l=e.frictionEquations.length,h=i.type<a.type?p.call(e,t,i,y,n,o,a,_,s,r):p.call(e,o,a,_,s,t,i,y,n,r),u=e.frictionEquations.length-l;if(h){if(t.allowSleep&&t.type===W.DYNAMIC&&t.sleepState===W.SLEEPING&&o.sleepState===W.AWAKE&&o.type!==W.STATIC&&(p=V.squaredLength(o.velocity)+Math.pow(o.angularVelocity,2),2*Math.pow(o.sleepSpeedLimit,2)<=p&&(t._wakeUpAfterNarrowphase=!0)),o.allowSleep&&o.type===W.DYNAMIC&&o.sleepState===W.SLEEPING&&t.sleepState===W.AWAKE&&t.type!==W.STATIC&&(s=V.squaredLength(t.velocity)+Math.pow(t.angularVelocity,2),2*Math.pow(t.sleepSpeedLimit,2)<=s&&(o._wakeUpAfterNarrowphase=!0)),this.overlapKeeper.setOverlapping(t,i,o,a),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(i,a)){var d=this.beginContactEvent;if(d.shapeA=i,d.shapeB=a,d.bodyA=t,d.bodyB=o,d.contactEquations.length=0,"number"==typeof h)for(var c=e.contactEquations.length-h;c<e.contactEquations.length;c++)d.contactEquations.push(e.contactEquations[c]);this.emit(d)}if("number"==typeof h&&1<u)for(c=e.frictionEquations.length-u;c<e.frictionEquations.length;c++){var m=e.frictionEquations[c];m.setSlipForce(m.getSlipForce()/u)}}}}},X.prototype.addSpring=function(e){this.springs.push(e);var t=this.addSpringEvent;t.spring=e,this.emit(t),t.spring=null},X.prototype.removeSpring=function(e){e=this.springs.indexOf(e);-1!==e&&q.splice(this.springs,e,1)},X.prototype.addBody=function(e){var t;-1===this.bodies.indexOf(e)&&(this.bodies.push(e),(t=(e.world=this).addBodyEvent).body=e,this.emit(t),t.body=null)},X.prototype.removeBody=function(e){var t;this.stepping?this.bodiesToBeRemoved.push(e):(e.world=null,-1!==(t=this.bodies.indexOf(e))&&(q.splice(this.bodies,t,1),(this.removeBodyEvent.body=e).resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null))},X.prototype.getBodyById=function(e){for(var t=this.bodies,i=0;i<t.length;i++){var n=t[i];if(n.id===e)return n}return!1},X.prototype.disableBodyCollision=function(e,t){this.disabledBodyCollisionPairs.push(e,t)},X.prototype.enableBodyCollision=function(e,t){for(var i=this.disabledBodyCollisionPairs,n=0;n<i.length;n+=2)if(i[n]===e&&i[n+1]===t||i[n+1]===e&&i[n]===t)return void i.splice(n,2)},X.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var e=this.constraints,t=e.length-1;0<=t;t--)this.removeConstraint(e[t]);for(var i=this.bodies,t=i.length-1;0<=t;t--)this.removeBody(i[t]);for(var n=this.springs,t=n.length-1;0<=t;t--)this.removeSpring(n[t]);for(var r=this.contactMaterials,t=r.length-1;0<=t;t--)this.removeContactMaterial(r[t]);X.apply(this)},V.create()),w=(V.fromValues(0,0),V.fromValues(0,0)),d=(X.prototype.hitTest=function(e,t,i){i=i||0;for(var n=new W({position:e}),r=new z,o=e,a=b,s=w,p=(n.addShape(r),this.narrowphase),l=[],h=0,u=t.length;h!==u;h++)for(var d=t[h],c=0,m=d.shapes.length;c!==m;c++){var y=d.shapes[c],_=(V.rotate(a,y.position,d.angle),V.add(a,a,d.position),y.angle+d.angle);(y instanceof x&&p.circleParticle(d,y,a,_,n,r,o,0,!0)||y instanceof f&&p.particleConvex(n,r,o,0,d,y,a,_,!0)||y instanceof g&&p.particlePlane(n,r,o,0,d,y,a,_,!0)||y instanceof v&&p.particleCapsule(n,r,o,0,d,y,a,_,!0)||y instanceof z&&V.squaredLength(V.sub(s,a,e))<i*i)&&l.push(d)}return l},X.prototype.setGlobalStiffness=function(e){for(var t=this.constraints,i=0;i!==t.length;i++)for(var n=t[i],r=0;r!==n.equations.length;r++){var o=n.equations[r];o.stiffness=e,o.needsUpdate=!0}for(var a=this.contactMaterials,i=0;i!==a.length;i++)(n=a[i]).stiffness=n.frictionStiffness=e;(n=this.defaultContactMaterial).stiffness=n.frictionStiffness=e},X.prototype.setGlobalRelaxation=function(e){for(var t=0;t!==this.constraints.length;t++)for(var i=this.constraints[t],n=0;n!==i.equations.length;n++){var r=i.equations[n];r.relaxation=e,r.needsUpdate=!0}for(t=0;t!==this.contactMaterials.length;t++)(i=this.contactMaterials[t]).relaxation=i.frictionRelaxation=e;(i=this.defaultContactMaterial).relaxation=i.frictionRelaxation=e},new s),c=[];X.prototype.raycast=function(e,t){return t.getAABB(d),this.broadphase.aabbQuery(this,d,c),t.intersectBodies(e,c),c.length=0,e.hasHit()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)}),function(){var e=this,k={game:null,WEBGL_RENDERER:0,CANVAS_RENDERER:1,VERSION:"v2.2.9",_UID:0};return"undefined"!=typeof Float32Array?(k.Float32Array=Float32Array,k.Uint16Array=Uint16Array,k.Uint32Array=Uint32Array,k.ArrayBuffer=ArrayBuffer):(k.Float32Array=Array,k.Uint16Array=Array),k.PI_2=2*Math.PI,k.RAD_TO_DEG=180/Math.PI,k.DEG_TO_RAD=Math.PI/180,k.RETINA_PREFIX="@2x",k.DisplayObject=function(){this.position=new k.Point(0,0),this.scale=new k.Point(1,1),this.pivot=new k.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.renderable=!1,this.parent=null,this.worldAlpha=1,this.worldTransform=new k.Matrix,this.worldPosition=new k.Point(0,0),this.worldScale=new k.Point(1,1),this.worldRotation=0,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new k.Rectangle(0,0,0,0),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},k.DisplayObject.prototype.constructor=k.DisplayObject,k.DisplayObject.prototype={destroy:function(){if(this.children){for(var e=this.children.length;e--;)this.children[e].destroy();this.children=[]}this.hitArea=null,this.parent=null,this.worldTransform=null,this.filterArea=null,this.renderable=!1,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite()},updateTransform:function(e){if(!e&&!this.parent&&!this.game)return this;var t,i,n,r,o,a,s=this.parent,e=(e?s=e:this.parent||(s=this.game.world),s.worldTransform),p=this.worldTransform;return this.rotation%k.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,i=this._sr*this.scale.x,n=-this._sr*this.scale.y,r=this._cr*this.scale.y,o=this.position.x,a=this.position.y,(this.pivot.x||this.pivot.y)&&(o-=this.pivot.x*t+this.pivot.y*n,a-=this.pivot.x*i+this.pivot.y*r),p.a=t*e.a+i*e.c,p.b=t*e.b+i*e.d,p.c=n*e.a+r*e.c,p.d=n*e.b+r*e.d):(t=this.scale.x,r=this.scale.y,o=this.position.x-this.pivot.x*t,a=this.position.y-this.pivot.y*r,p.a=t*e.a,p.b=t*e.b,p.c=r*e.c,p.d=r*e.d),p.tx=o*e.a+a*e.c+e.tx,p.ty=o*e.b+a*e.d+e.ty,this.worldAlpha=this.alpha*s.worldAlpha,this.worldPosition.set(p.tx,p.ty),this.worldScale.set(this.scale.x*Math.sqrt(p.a*p.a+p.c*p.c),this.scale.y*Math.sqrt(p.b*p.b+p.d*p.d)),this.worldRotation=Math.atan2(-p.c,p.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,p,e),this},preUpdate:function(){},generateTexture:function(e,t,i){var n=this.getLocalBounds(),i=new k.RenderTexture(0|n.width,0|n.height,i,t,e);return k.DisplayObject._tempMatrix.tx=-n.x,k.DisplayObject._tempMatrix.ty=-n.y,i.render(this,k.DisplayObject._tempMatrix),i},updateCache:function(){return this._generateCachedSprite(),this},toGlobal:function(e){return this.updateTransform(),this.worldTransform.apply(e)},toLocal:function(e,t){return t&&(e=t.toGlobal(e)),this.updateTransform(),this.worldTransform.applyInverse(e)},_renderCachedSprite:function(e){this._cachedSprite.worldAlpha=this.worldAlpha,(e.gl?k.Sprite.prototype._renderWebGL:k.Sprite.prototype._renderCanvas).call(this._cachedSprite,e)},_generateCachedSprite:function(){this._cacheAsBitmap=!1;var e=this.getLocalBounds(),t=(e.width=Math.max(1,Math.ceil(e.width)),e.height=Math.max(1,Math.ceil(e.height)),this.updateTransform(),this._cachedSprite?this._cachedSprite.texture.resize(e.width,e.height):(t=new k.RenderTexture(e.width,e.height),this._cachedSprite=new k.Sprite(t),this._cachedSprite.worldTransform=this.worldTransform),this._filters);this._filters=null,this._cachedSprite.filters=t,k.DisplayObject._tempMatrix.tx=-e.x,k.DisplayObject._tempMatrix.ty=-e.y,this._cachedSprite.texture.render(this,k.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this._filters=t,this._cacheAsBitmap=!0},_destroyCachedSprite:function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)}},k.DisplayObject.prototype.displayObjectUpdateTransform=k.DisplayObject.prototype.updateTransform,Object.defineProperties(k.DisplayObject.prototype,{x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},worldVisible:{get:function(){if(this.visible){var e=this.parent;if(!e)return this.visible;do{if(!e.visible)return!1}while(e=e.parent);return!0}return!1}},mask:{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.isMask=!1),(this._mask=e)&&(this._mask.isMask=!0)}},filters:{get:function(){return this._filters},set:function(e){if(Array.isArray(e)){for(var t=[],i=0;i<e.length;i++)for(var n=e[i].passes,r=0;r<n.length;r++)t.push(n[r]);this._filterBlock={target:this,filterPasses:t}}this._filters=e,this.blendMode&&this.blendMode===k.blendModes.MULTIPLY&&(this.blendMode=k.blendModes.NORMAL)}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(e?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=e)}}}),k.DisplayObjectContainer=function(){k.DisplayObject.call(this),this.children=[],this.ignoreChildInput=!1},k.DisplayObjectContainer.prototype=Object.create(k.DisplayObject.prototype),k.DisplayObjectContainer.prototype.constructor=k.DisplayObjectContainer,k.DisplayObjectContainer.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},k.DisplayObjectContainer.prototype.addChildAt=function(e,t){if(0<=t&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),(e.parent=this).children.splice(t,0,e),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},k.DisplayObjectContainer.prototype.swapChildren=function(e,t){if(e!==t){var i=this.getChildIndex(e),n=this.getChildIndex(t);if(i<0||n<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[i]=t,this.children[n]=e}},k.DisplayObjectContainer.prototype.getChildIndex=function(e){e=this.children.indexOf(e);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},k.DisplayObjectContainer.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(e);this.children.splice(i,1),this.children.splice(t,0,e)},k.DisplayObjectContainer.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[e]},k.DisplayObjectContainer.prototype.removeChild=function(e){e=this.children.indexOf(e);if(-1!==e)return this.removeChildAt(e)},k.DisplayObjectContainer.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t&&(t.parent=void 0,this.children.splice(e,1)),t},k.DisplayObjectContainer.prototype.removeChildren=function(e,t){e=(t=void 0===t?this.children.length:t)-(e=void 0===e?0:e);if(0<e&&e<=t){for(var i=this.children.splice(begin,e),n=0;n<i.length;n++)i[n].parent=void 0;return i}if(0==e&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},k.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var e=0;e<this.children.length;e++)this.children[e].updateTransform()},k.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=k.DisplayObjectContainer.prototype.updateTransform,k.DisplayObjectContainer.prototype.getBounds=function(e){var t=e&&e instanceof k.DisplayObject,i=!0;if(t?i=e instanceof k.DisplayObjectContainer&&e.contains(this):e=this,t){var n=e.worldTransform;for(e.worldTransform=k.identityMatrix,u=0;u<e.children.length;u++)e.children[u].updateTransform()}for(var r,o,a=1/0,s=1/0,p=-1/0,l=-1/0,h=!1,u=0;u<this.children.length;u++)this.children[u].visible&&(h=!0,a=a<(r=this.children[u].getBounds()).x?a:r.x,s=s<r.y?s:r.y,p=(o=r.width+r.x)<p?p:o,l=(o=r.height+r.y)<l?l:o);var d,c,m,y,_,x,f,g,v,z,b,w,S,C=this._bounds;if(h||(x=(C=new k.Rectangle).x,d=C.width+C.x,g=C.y,c=C.height+C.y,_=(z=this.worldTransform).a,m=z.b,y=z.c,S=z.d,a=(b=_*d+y*g+(w=z.tx))<(a=(v=_*x+y*g+w)<(a=(f=_*x+y*c+w)<(a=_=_*d+y*c+w)?f:a)?v:a)?b:a,s=(w=S*g+m*d+(y=z.ty))<(s=(z=S*g+m*x+y)<(s=(g=S*c+m*x+y)<(s=x=S*c+m*d+y)?g:s)?z:s)?w:s,p=(p=(p=(p=_)<f?f:p)<v?v:p)<b?b:p,l=(l=(l=(l=x)<g?g:l)<z?z:l)<w?w:l),C.x=a,C.y=s,C.width=p-a,C.height=l-s,t)for(e.worldTransform=n,u=0;u<e.children.length;u++)e.children[u].updateTransform();return i||(S=e.getBounds(),C.x-=S.x,C.y-=S.y),C},k.DisplayObjectContainer.prototype.getLocalBounds=function(){return this.getBounds(this)},k.DisplayObjectContainer.prototype.contains=function(e){return!!e&&(e===this||this.contains(e.parent))},k.DisplayObjectContainer.prototype._renderWebGL=function(e){var t;if(this.visible&&!(this.alpha<=0))if(this._cacheAsBitmap)this._renderCachedSprite(e);else if(this._mask||this._filters){for(this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),t=0;t<this.children.length;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),e.spriteBatch.start()}else for(t=0;t<this.children.length;t++)this.children[t]._renderWebGL(e)},k.DisplayObjectContainer.prototype._renderCanvas=function(e){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(e);else{this._mask&&e.maskManager.pushMask(this._mask,e);for(var t=0;t<this.children.length;t++)this.children[t]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},Object.defineProperty(k.DisplayObjectContainer.prototype,"width",{get:function(){return this.getLocalBounds().width*this.scale.x},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}}),Object.defineProperty(k.DisplayObjectContainer.prototype,"height",{get:function(){return this.getLocalBounds().height*this.scale.y},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}),k.Sprite=function(e){k.DisplayObjectContainer.call(this),this.anchor=new k.Point,this.texture=e||k.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.cachedTint=-1,this.tintedTexture=null,this.blendMode=k.blendModes.NORMAL,this.shader=null,this.exists=!0,this.texture.baseTexture.hasLoaded&&this.onTextureUpdate(),this.renderable=!0},k.Sprite.prototype=Object.create(k.DisplayObjectContainer.prototype),k.Sprite.prototype.constructor=k.Sprite,Object.defineProperty(k.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(k.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),k.Sprite.prototype.setTexture=function(e,t){void 0!==t&&this.texture.baseTexture.destroy(),this.texture.baseTexture.skipRender=!1,this.texture=e,this.texture.valid=!0,this.cachedTint=-1},k.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},k.Sprite.prototype.getBounds=function(e){var t,i,n,r=this.texture.frame.width,o=this.texture.frame.height,a=r*(1-this.anchor.x),r=r*-this.anchor.x,s=o*(1-this.anchor.y),o=o*-this.anchor.y,e=e||this.worldTransform,p=e.a,l=e.b,h=e.c,u=e.d,d=e.tx,e=e.ty,c=-1/0,m=-1/0,y=1/0,_=1/0,m=0===l&&0===h?(p<0&&(p*=-1,n=a,a=-r,r=-n),u<0&&(u*=-1,n=s,s=-o,o=-n),y=p*r+d,c=p*a+d,_=u*o+e,u*s+e):(y=(n=p*r+h*s+d)<(y=(i=p*a+h*s+d)<(y=(t=p*a+h*o+d)<(y=(p=p*r+h*o+d)<y?p:y)?t:y)?i:y)?n:y,_=(h=u*s+l*r+e)<(_=(d=u*s+l*a+e)<(_=(s=u*o+l*a+e)<(_=(a=u*o+l*r+e)<_?a:_)?s:_)?d:_)?h:_,c=(c=(c=(c=c<p?p:c)<t?t:c)<i?i:c)<n?n:c,(m=(m=(m=m<a?a:m)<s?s:m)<d?d:m)<h?h:m),u=this._bounds;return u.x=y,u.width=c-y,u.y=_,u.height=m-_,this._currentBounds=u},k.Sprite.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=k.identityMatrix;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform();var i=this.getBounds();for(this.worldTransform=e,t=0;t<this.children.length;t++)this.children[t].updateTransform();return i},k.Sprite.prototype._renderWebGL=function(e,t){if(this.visible&&!(this.alpha<=0)&&this.renderable){var i=this.worldTransform;if(t&&(i=t),this._mask||this._filters){t=e.spriteBatch;this._filters&&(t.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(t.stop(),e.maskManager.pushMask(this.mask,e),t.start()),t.render(this);for(var n=0;n<this.children.length;n++)this.children[n]._renderWebGL(e);t.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),t.start()}else{e.spriteBatch.render(this);for(n=0;n<this.children.length;n++)this.children[n]._renderWebGL(e,i)}}},k.Sprite.prototype._renderCanvas=function(e,t){if(!(!this.visible||0===this.alpha||!this.renderable||this.texture.crop.width<=0||this.texture.crop.height<=0)){var i,n,r,o,a,s=this.worldTransform;t&&(s=t),this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,e.context.globalCompositeOperation=k.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e),this.texture.valid&&(t=this.texture.baseTexture.resolution/e.resolution,e.context.globalAlpha=this.worldAlpha,e.smoothProperty&&e.scaleMode!==this.texture.baseTexture.scaleMode&&(e.scaleMode=this.texture.baseTexture.scaleMode,e.context[e.smoothProperty]=e.scaleMode===k.scaleModes.LINEAR),i=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,n=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height,r=s.tx*e.resolution+e.shakeX,o=s.ty*e.resolution+e.shakeY,e.roundPixels?(e.context.setTransform(s.a,s.b,s.c,s.d,0|r,0|o),i|=0,n|=0):e.context.setTransform(s.a,s.b,s.c,s.d,r,o),s=this.texture.crop.width,r=this.texture.crop.height,i/=t,n/=t,16777215!==this.tint?(!this.texture.requiresReTint&&this.cachedTint===this.tint||(this.tintedTexture=k.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1),e.context.drawImage(this.tintedTexture,0,0,s,r,i,n,s/t,r/t)):(o=this.texture.crop.x,a=this.texture.crop.y,e.context.drawImage(this.texture.baseTexture.source,o,a,s,r,i,n,s/t,r/t)));for(var p=0;p<this.children.length;p++)this.children[p]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},k.SpriteBatch=function(e){k.DisplayObjectContainer.call(this),this.textureThing=e,this.ready=!1},k.SpriteBatch.prototype=Object.create(k.DisplayObjectContainer.prototype),k.SpriteBatch.prototype.constructor=k.SpriteBatch,k.SpriteBatch.prototype.initWebGL=function(e){this.fastSpriteBatch=new k.WebGLFastSpriteBatch(e),this.ready=!0},k.SpriteBatch.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},k.SpriteBatch.prototype._renderWebGL=function(e){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(e.gl),this.fastSpriteBatch.gl!==e.gl&&this.fastSpriteBatch.setContext(e.gl),e.spriteBatch.stop(),e.shaderManager.setShader(e.shaderManager.fastShader),this.fastSpriteBatch.begin(this,e),this.fastSpriteBatch.render(this),e.spriteBatch.start())},k.SpriteBatch.prototype._renderCanvas=function(e){if(this.visible&&!(this.alpha<=0)&&this.children.length)for(var t=e.context,i=(t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform(),this.worldTransform),n=!0,r=0;r<this.children.length;r++){var o,a,s,p,l,h=this.children[r];h.visible&&(a=(o=h.texture).frame,t.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0?(n&&(t.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),n=!1),t.drawImage(o.baseTexture.source,a.x,a.y,a.width,a.height,h.anchor.x*(-a.width*h.scale.x)+h.position.x+.5+e.shakeX|0,h.anchor.y*(-a.height*h.scale.y)+h.position.y+.5+e.shakeY|0,a.width*h.scale.x,a.height*h.scale.y)):(n=n||!0,h.displayObjectUpdateTransform(),p=(s=h.worldTransform).tx*e.resolution+e.shakeX,l=s.ty*e.resolution+e.shakeY,e.roundPixels?t.setTransform(s.a,s.b,s.c,s.d,0|p,0|l):t.setTransform(s.a,s.b,s.c,s.d,p,l),t.drawImage(o.baseTexture.source,a.x,a.y,a.width,a.height,h.anchor.x*-a.width+.5|0,h.anchor.y*-a.height+.5|0,a.width,a.height)))}},k.hex2rgb=function(e){return[(e>>16&255)/255,(e>>8&255)/255,(255&e)/255]},k.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]},k.canUseNewCanvasBlendModes=function(){if(void 0===document)return!1;var e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",t="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image,n=(i.src=e+"AP804Oa6"+t,new Image);n.src=e+"/wCKxvRF"+t;e=k.CanvasPool.create(this,6,1).getContext("2d");if(e.globalCompositeOperation="multiply",e.drawImage(i,0,0),e.drawImage(n,2,0),!e.getImageData(2,0,1,1))return!1;t=e.getImageData(2,0,1,1).data;return k.CanvasPool.remove(this),255===t[0]&&0===t[1]&&0===t[2]},k.getNextPowerOfTwo=function(e){if(0<e&&0==(e&e-1))return e;for(var t=1;t<e;)t<<=1;return t},k.isPowerOfTwo=function(e,t){return 0<e&&0==(e&e-1)&&0<t&&0==(t&t-1)},k.CanvasPool={create:function(e,t,i){var n=k.CanvasPool.getFirst(),r=-1===n?(r={parent:e,canvas:document.createElement("canvas")},k.CanvasPool.pool.push(r),r.canvas):(k.CanvasPool.pool[n].parent=e,k.CanvasPool.pool[n].canvas);return void 0!==t&&(r.width=t,r.height=i),r},getFirst:function(){for(var e=k.CanvasPool.pool,t=0;t<e.length;t++)if(!e[t].parent)return t;return-1},remove:function(e){for(var t=k.CanvasPool.pool,i=0;i<t.length;i++)t[i].parent===e&&(t[i].parent=null,t[i].canvas.width=1,t[i].canvas.height=1)},removeByCanvas:function(e){for(var t=k.CanvasPool.pool,i=0;i<t.length;i++)t[i].canvas===e&&(t[i].parent=null,t[i].canvas.width=1,t[i].canvas.height=1)},getTotal:function(){for(var e=k.CanvasPool.pool,t=0,i=0;i<e.length;i++)e[i].parent&&t++;return t},getFree:function(){for(var e=k.CanvasPool.pool,t=0,i=0;i<e.length;i++)e[i].parent||t++;return t}},k.CanvasPool.pool=[],k.initDefaultShaders=function(){},k.CompileVertexShader=function(e,t){return k._CompileShader(e,t,e.VERTEX_SHADER)},k.CompileFragmentShader=function(e,t){return k._CompileShader(e,t,e.FRAGMENT_SHADER)},k._CompileShader=function(e,t,i){var n=t,t=(Array.isArray(t)&&(n=t.join("\n")),e.createShader(i));return e.shaderSource(t,n),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)?t:(window.console.log(e.getShaderInfoLog(t)),null)},k.compileProgram=function(e,t,i){var i=k.CompileFragmentShader(e,i),t=k.CompileVertexShader(e,t),n=e.createProgram();return e.attachShader(n,t),e.attachShader(n,i),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)||(window.console.log(e.getProgramInfoLog(n)),window.console.log("Could not initialise shaders")),n},k.PixiShader=function(e){this._UID=k._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},k.PixiShader.prototype.constructor=k.PixiShader,k.PixiShader.prototype.init=function(){var e,t=this.gl,i=k.compileProgram(t,this.vertexSrc||k.PixiShader.defaultVertexSrc,this.fragmentSrc);for(e in t.useProgram(i),this.uSampler=t.getUniformLocation(i,"uSampler"),this.projectionVector=t.getUniformLocation(i,"projectionVector"),this.offsetVector=t.getUniformLocation(i,"offsetVector"),this.dimensions=t.getUniformLocation(i,"dimensions"),this.aVertexPosition=t.getAttribLocation(i,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(i,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(i,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute],this.uniforms)this.uniforms[e].uniformLocation=t.getUniformLocation(i,e);this.initUniforms(),this.program=i},k.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var e,t=this.gl;for(e in this.uniforms){var i,n=(i=this.uniforms[e]).type;"sampler2D"===n?(i._init=!1,null!==i.value&&this.initSampler2D(i)):"mat2"===n||"mat3"===n||"mat4"===n?(i.glMatrix=!0,i.glValueLength=1,"mat2"===n?i.glFunc=t.uniformMatrix2fv:"mat3"===n?i.glFunc=t.uniformMatrix3fv:"mat4"===n&&(i.glFunc=t.uniformMatrix4fv)):(i.glFunc=t["uniform"+n],i.glValueLength="2f"===n||"2i"===n?2:"3f"===n||"3i"===n?3:"4f"===n||"4i"===n?4:1)}},k.PixiShader.prototype.initSampler2D=function(e){var t,i,n,r,o,a,s,p,l;e.value&&e.value.baseTexture&&e.value.baseTexture.hasLoaded&&((t=this.gl).activeTexture(t["TEXTURE"+this.textureCount]),t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),e.textureData&&(i=(l=e.textureData).magFilter||t.LINEAR,n=l.minFilter||t.LINEAR,r=l.wrapS||t.CLAMP_TO_EDGE,o=l.wrapT||t.CLAMP_TO_EDGE,a=l.luminance?t.LUMINANCE:t.RGBA,l.repeat&&(r=t.REPEAT,o=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!l.flipY),l.width?(s=l.width||512,p=l.height||2,l=l.border||0,t.texImage2D(t.TEXTURE_2D,0,a,s,p,l,a,t.UNSIGNED_BYTE,null)):t.texImage2D(t.TEXTURE_2D,0,a,t.RGBA,t.UNSIGNED_BYTE,e.value.baseTexture.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,o)),t.uniform1i(e.uniformLocation,this.textureCount),e._init=!0,this.textureCount++)},k.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var e,t,i=this.gl;for(t in this.uniforms)1===(e=this.uniforms[t]).glValueLength?!0===e.glMatrix?e.glFunc.call(i,e.uniformLocation,e.transpose,e.value):e.glFunc.call(i,e.uniformLocation,e.value):2===e.glValueLength?e.glFunc.call(i,e.uniformLocation,e.value.x,e.value.y):3===e.glValueLength?e.glFunc.call(i,e.uniformLocation,e.value.x,e.value.y,e.value.z):4===e.glValueLength?e.glFunc.call(i,e.uniformLocation,e.value.x,e.value.y,e.value.z,e.value.w):"sampler2D"===e.type&&(e._init?(i.activeTexture(i["TEXTURE"+this.textureCount]),e.value.baseTexture._dirty[i.id]?k.instances[i.id].updateTexture(e.value.baseTexture):i.bindTexture(i.TEXTURE_2D,e.value.baseTexture._glTextures[i.id]),i.uniform1i(e.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(e))},k.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},k.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"],k.PixiFastShader=function(e){this._UID=k._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},k.PixiFastShader.prototype.constructor=k.PixiFastShader,k.PixiFastShader.prototype.init=function(){var e=this.gl,t=k.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.uMatrix=e.getUniformLocation(t,"uMatrix"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aPositionCoord=e.getAttribLocation(t,"aPositionCoord"),this.aScale=e.getAttribLocation(t,"aScale"),this.aRotation=e.getAttribLocation(t,"aRotation"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=t},k.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},k.StripShader=function(e){this._UID=k._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},k.StripShader.prototype.constructor=k.StripShader,k.StripShader.prototype.init=function(){var e=this.gl,t=k.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},k.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},k.PrimitiveShader=function(e){this._UID=k._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},k.PrimitiveShader.prototype.constructor=k.PrimitiveShader,k.PrimitiveShader.prototype.init=function(){var e=this.gl,t=k.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},k.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},k.ComplexPrimitiveShader=function(e){this._UID=k._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},k.ComplexPrimitiveShader.prototype.constructor=k.ComplexPrimitiveShader,k.ComplexPrimitiveShader.prototype.init=function(){var e=this.gl,t=k.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.color=e.getUniformLocation(t,"color"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},k.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},k.glContexts=[],k.instances=[],k.WebGLRenderer=function(e){this.game=e,k.defaultRenderer||(k.defaultRenderer=this),this.type=k.WEBGL_RENDERER,this.resolution=e.resolution,this.transparent=e.transparent,this.autoResize=!1,this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.clearBeforeRender=e.clearBeforeRender,this.width=e.width,this.height=e.height,this.view=e.canvas,this._contextOptions={alpha:this.transparent,antialias:e.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:this.preserveDrawingBuffer},this.projection=new k.Point,this.offset=new k.Point,this.shaderManager=new k.WebGLShaderManager,this.spriteBatch=new k.WebGLSpriteBatch,this.maskManager=new k.WebGLMaskManager,this.filterManager=new k.WebGLFilterManager,this.stencilManager=new k.WebGLStencilManager,this.blendModeManager=new k.WebGLBlendModeManager,this.renderSession={},this.renderSession.game=this.game,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,(this.renderSession.renderer=this).renderSession.resolution=this.resolution,this.initContext(),this.mapBlendModes()},k.WebGLRenderer.prototype.constructor=k.WebGLRenderer,k.WebGLRenderer.prototype.initContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(!(this.gl=e))throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=e.id=k.WebGLRenderer.glContextId++,k.glContexts[this.glContextId]=e,k.instances[this.glContextId]=this,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.shaderManager.setContext(e),this.spriteBatch.setContext(e),this.maskManager.setContext(e),this.filterManager.setContext(e),this.blendModeManager.setContext(e),this.stencilManager.setContext(e),this.renderSession.gl=this.gl,this.resize(this.width,this.height)},k.WebGLRenderer.prototype.render=function(e){var t;this.contextLost||((t=this.gl).viewport(0,0,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,null),this.game.clearBeforeRender&&(t.clearColor(e._bgColor.r,e._bgColor.g,e._bgColor.b,e._bgColor.a),t.clear(t.COLOR_BUFFER_BIT)),this.offset.x=this.game.camera._shake.x,this.offset.y=this.game.camera._shake.y,this.renderDisplayObject(e,this.projection))},k.WebGLRenderer.prototype.renderDisplayObject=function(e,t,i,n){this.renderSession.blendModeManager.setBlendMode(k.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=i?-1:1,this.renderSession.projection=t,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,i),e._renderWebGL(this.renderSession,n),this.spriteBatch.end()},k.WebGLRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},k.WebGLRenderer.prototype.updateTexture=function(e){if(!e.hasLoaded)return!1;var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===k.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&k.isPowerOfTwo(e.width,e.height)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===k.scaleModes.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===k.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),!(e._dirty[t.id]=!1)},k.WebGLRenderer.prototype.destroy=function(){k.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null,k.CanvasPool.remove(this),k.instances[this.glContextId]=null,k.WebGLRenderer.glContextId--},k.WebGLRenderer.prototype.mapBlendModes=function(){var e,t,i=this.gl;k.blendModesWebGL||((e=[])[(t=k.blendModes).NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.ADD]=[i.SRC_ALPHA,i.DST_ALPHA],e[t.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA],e[t.SCREEN]=[i.SRC_ALPHA,i.ONE],e[t.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],e[t.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],k.blendModesWebGL=e)},k.WebGLRenderer.glContextId=0,k.WebGLBlendModeManager=function(){this.currentBlendMode=99999},k.WebGLBlendModeManager.prototype.constructor=k.WebGLBlendModeManager,k.WebGLBlendModeManager.prototype.setContext=function(e){this.gl=e},k.WebGLBlendModeManager.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;e=k.blendModesWebGL[this.currentBlendMode];return e&&this.gl.blendFunc(e[0],e[1]),!0},k.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},k.WebGLMaskManager=function(){},k.WebGLMaskManager.prototype.constructor=k.WebGLMaskManager,k.WebGLMaskManager.prototype.setContext=function(e){this.gl=e},k.WebGLMaskManager.prototype.pushMask=function(e,t){var i=t.gl;e.dirty&&k.WebGLGraphics.updateGraphics(e,i),void 0!==e._webGL[i.id]&&void 0!==e._webGL[i.id].data&&0!==e._webGL[i.id].data.length&&t.stencilManager.pushStencil(e,e._webGL[i.id].data[0],t)},k.WebGLMaskManager.prototype.popMask=function(e,t){var i=this.gl;void 0!==e._webGL[i.id]&&void 0!==e._webGL[i.id].data&&0!==e._webGL[i.id].data.length&&t.stencilManager.popStencil(e,e._webGL[i.id].data[0],t)},k.WebGLMaskManager.prototype.destroy=function(){this.gl=null},k.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},k.WebGLStencilManager.prototype.setContext=function(e){this.gl=e},k.WebGLStencilManager.prototype.pushStencil=function(e,t,i){var n=this.gl,e=(this.bindGraphics(e,t,i),0===this.stencilStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(t),this.count);n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),1===t.mode?(n.drawElements(n.TRIANGLE_FAN,t.indices.length-4,n.UNSIGNED_SHORT,0),this.reverse?(n.stencilFunc(n.EQUAL,255-e,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,e,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(t.indices.length-4)),this.reverse?n.stencilFunc(n.EQUAL,255-(e+1),255):n.stencilFunc(n.EQUAL,e+1,255),this.reverse=!this.reverse):(this.reverse?(n.stencilFunc(n.EQUAL,e,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,255-e,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_STRIP,t.indices.length,n.UNSIGNED_SHORT,0),this.reverse?n.stencilFunc(n.EQUAL,e+1,255):n.stencilFunc(n.EQUAL,255-(e+1),255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.count++},k.WebGLStencilManager.prototype.bindGraphics=function(e,t,i){this._currentGraphics=e;var n,r=this.gl,o=i.projection,a=i.offset;1===t.mode?(n=i.shaderManager.complexPrimitiveShader,i.shaderManager.setShader(n),r.uniform1f(n.flipY,i.flipY),r.uniformMatrix3fv(n.translationMatrix,!1,e.worldTransform.toArray(!0)),r.uniform2f(n.projectionVector,o.x,-o.y),r.uniform2f(n.offsetVector,-a.x,-a.y),r.uniform3fv(n.tintColor,k.hex2rgb(e.tint)),r.uniform3fv(n.color,t.color),r.uniform1f(n.alpha,e.worldAlpha*t.alpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(n.aVertexPosition,2,r.FLOAT,!1,8,0)):(n=i.shaderManager.primitiveShader,i.shaderManager.setShader(n),r.uniformMatrix3fv(n.translationMatrix,!1,e.worldTransform.toArray(!0)),r.uniform1f(n.flipY,i.flipY),r.uniform2f(n.projectionVector,o.x,-o.y),r.uniform2f(n.offsetVector,-a.x,-a.y),r.uniform3fv(n.tintColor,k.hex2rgb(e.tint)),r.uniform1f(n.alpha,e.worldAlpha),r.bindBuffer(r.ARRAY_BUFFER,t.buffer),r.vertexAttribPointer(n.aVertexPosition,2,r.FLOAT,!1,24,0),r.vertexAttribPointer(n.colorAttribute,4,r.FLOAT,!1,24,8)),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer)},k.WebGLStencilManager.prototype.popStencil=function(e,t,i){var n,r=this.gl;this.stencilStack.pop(),this.count--,0===this.stencilStack.length?r.disable(r.STENCIL_TEST):(n=this.count,this.bindGraphics(e,t,i),r.colorMask(!1,!1,!1,!1),1===t.mode?(this.reverse=!this.reverse,this.reverse?(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)):(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)),r.drawElements(r.TRIANGLE_FAN,4,r.UNSIGNED_SHORT,2*(t.indices.length-4)),r.stencilFunc(r.ALWAYS,0,255),r.stencilOp(r.KEEP,r.KEEP,r.INVERT),r.drawElements(r.TRIANGLE_FAN,t.indices.length-4,r.UNSIGNED_SHORT,0)):(this.reverse?(r.stencilFunc(r.EQUAL,n+1,255),r.stencilOp(r.KEEP,r.KEEP,r.DECR)):(r.stencilFunc(r.EQUAL,255-(n+1),255),r.stencilOp(r.KEEP,r.KEEP,r.INCR)),r.drawElements(r.TRIANGLE_STRIP,t.indices.length,r.UNSIGNED_SHORT,0)),this.reverse?r.stencilFunc(r.EQUAL,n,255):r.stencilFunc(r.EQUAL,255-n,255),r.colorMask(!0,!0,!0,!0),r.stencilOp(r.KEEP,r.KEEP,r.KEEP))},k.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},k.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[]},k.WebGLShaderManager.prototype.constructor=k.WebGLShaderManager,k.WebGLShaderManager.prototype.setContext=function(e){this.gl=e,this.primitiveShader=new k.PrimitiveShader(e),this.complexPrimitiveShader=new k.ComplexPrimitiveShader(e),this.defaultShader=new k.PixiShader(e),this.fastShader=new k.PixiFastShader(e),this.stripShader=new k.StripShader(e),this.setShader(this.defaultShader)},k.WebGLShaderManager.prototype.setAttribs=function(e){for(var t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(t=0;t<e.length;t++){var i=e[t];this.tempAttribState[i]=!0}var n=this.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.tempAttribState[t]?n.enableVertexAttribArray(t):n.disableVertexAttribArray(t))},k.WebGLShaderManager.prototype.setShader=function(e){return this._currentId!==e._UID&&(this._currentId=e._UID,this.currentShader=e,this.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},k.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},k.WebGLSpriteBatch=function(){this.vertSize=5,this.size=2e3;var e=4*this.size*4*this.vertSize,t=6*this.size;this.vertices=new k.ArrayBuffer(e),this.positions=new k.Float32Array(this.vertices),this.colors=new k.Uint32Array(this.vertices),this.indices=new k.Uint16Array(t);for(var i=this.lastIndexCount=0,n=0;i<t;i+=6,n+=4)this.indices[i+0]=n+0,this.indices[i+1]=n+1,this.indices[i+2]=n+2,this.indices[i+3]=n+0,this.indices[i+4]=n+2,this.indices[i+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=new k.AbstractFilter(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},k.WebGLSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999;var t=new k.PixiShader(e);t.fragmentSrc=this.defaultShader.fragmentSrc,t.uniforms={},t.init(),this.defaultShader.shaders[e.id]=t},k.WebGLSpriteBatch.prototype.begin=function(e){this.renderSession=e,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},k.WebGLSpriteBatch.prototype.end=function(){this.flush()},k.WebGLSpriteBatch.prototype.render=function(e,t){var i,n,r,o,a,s,p,l,h,u,d,c=e.texture,m=e.worldTransform,t=(t&&(m=t),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=c.baseTexture),c._uvs);t&&(o=e.anchor.x,p=e.anchor.y,c.trim?(n=(i=(d=c.trim).x-o*d.width)+c.crop.width,r=(d=d.y-p*d.height)+c.crop.height):(n=c.frame.width*(1-o),i=c.frame.width*-o,r=c.frame.height*(1-p),d=c.frame.height*-p),o=4*this.currentBatchSize*this.vertSize,p=c.baseTexture.resolution,c=m.a/p,a=m.b/p,s=m.c/p,p=m.d/p,l=m.tx,m=m.ty,h=this.colors,u=this.positions,this.renderSession.roundPixels?(u[o]=c*i+s*d+l|0,u[1+o]=p*d+a*i+m|0,u[5+o]=c*n+s*d+l|0,u[6+o]=p*d+a*n+m|0,u[10+o]=c*n+s*r+l|0,u[11+o]=p*r+a*n+m|0,u[15+o]=c*i+s*r+l|0,u[16+o]=p*r+a*i+m|0):(u[o]=c*i+s*d+l,u[1+o]=p*d+a*i+m,u[5+o]=c*n+s*d+l,u[6+o]=p*d+a*n+m,u[10+o]=c*n+s*r+l,u[11+o]=p*r+a*n+m,u[15+o]=c*i+s*r+l,u[16+o]=p*r+a*i+m),u[2+o]=t.x0,u[3+o]=t.y0,u[7+o]=t.x1,u[8+o]=t.y1,u[12+o]=t.x2,u[13+o]=t.y2,u[17+o]=t.x3,u[18+o]=t.y3,d=e.tint,h[4+o]=h[9+o]=h[14+o]=h[19+o]=(d>>16)+(65280&d)+((255&d)<<16)+(255*e.worldAlpha<<24),this.sprites[this.currentBatchSize++]=e)},k.WebGLSpriteBatch.prototype.renderTilingSprite=function(e){var t=e.tilingTexture,i=(this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=t.baseTexture),e._uvs||(e._uvs=new k.TextureUvs),e._uvs),n=t.baseTexture.width,r=t.baseTexture.height,o=(e.tilePosition.x%=n*e.tileScaleOffset.x,e.tilePosition.y%=r*e.tileScaleOffset.y,e.tilePosition.x/(n*e.tileScaleOffset.x)),a=e.tilePosition.y/(r*e.tileScaleOffset.y),n=e.width/n/(e.tileScale.x*e.tileScaleOffset.x),r=e.height/r/(e.tileScale.y*e.tileScaleOffset.y),n=(i.x0=0-o,i.y0=0-a,i.x1=n-o,i.y1=0-a,i.x2=n-o,i.y2=r-a,i.x3=0-o,i.y3=r-a,e.tint),o=(n>>16)+(65280&n)+((255&n)<<16)+(255*e.worldAlpha<<24),r=this.positions,a=this.colors,n=e.width,s=e.height,p=e.anchor.x,l=e.anchor.y,h=n*(1-p),n=n*-p,p=s*(1-l),s=s*-l,l=4*this.currentBatchSize*this.vertSize,t=t.baseTexture.resolution,u=e.worldTransform,d=u.a/t,c=u.b/t,m=u.c/t,t=u.d/t,y=u.tx,u=u.ty;r[l++]=d*n+m*s+y,r[l++]=t*s+c*n+u,r[l++]=i.x0,r[l++]=i.y0,a[l++]=o,r[l++]=d*h+m*s+y,r[l++]=t*s+c*h+u,r[l++]=i.x1,r[l++]=i.y1,a[l++]=o,r[l++]=d*h+m*p+y,r[l++]=t*p+c*h+u,r[l++]=i.x2,r[l++]=i.y2,a[l++]=o,r[l++]=d*n+m*p+y,r[l++]=t*p+c*n+u,r[l++]=i.x3,r[l++]=i.y3,a[+l]=o,this.sprites[this.currentBatchSize++]=e},k.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){for(var e,t,i=this.gl,n=(this.dirty&&(this.dirty=!1,i.activeTexture(i.TEXTURE0),i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e=this.defaultShader.shaders[i.id],t=4*this.vertSize,i.vertexAttribPointer(e.aVertexPosition,2,i.FLOAT,!1,t,0),i.vertexAttribPointer(e.aTextureCoord,2,i.FLOAT,!1,t,8),i.vertexAttribPointer(e.colorAttribute,4,i.UNSIGNED_BYTE,!0,t,16)),this.currentBatchSize>.5*this.size?i.bufferSubData(i.ARRAY_BUFFER,0,this.vertices):(t=this.positions.subarray(0,4*this.currentBatchSize*this.vertSize),i.bufferSubData(i.ARRAY_BUFFER,0,t)),0),r=0,o=null,a=this.renderSession.blendModeManager.currentBlendMode,s=null,p=0,l=this.currentBatchSize;p<l;p++){var h,u,d,c=((d=this.sprites[p]).tilingTexture||d.texture).baseTexture,m=a!==(h=d.blendMode),y=s!==(u=d.shader||this.defaultShader),_=c.skipRender;_&&0<d.children.length&&(_=!1),(o!==c&&!_||m||y)&&(this.renderBatch(o,n,r),r=p,n=0,o=c,m&&this.renderSession.blendModeManager.setBlendMode(a=h),y&&((e=(s=u).shaders[i.id])||((e=new k.PixiShader(i)).fragmentSrc=s.fragmentSrc,e.uniforms=s.uniforms,e.init(),s.shaders[i.id]=e),this.renderSession.shaderManager.setShader(e),e.dirty&&e.syncUniforms(),d=this.renderSession.projection,i.uniform2f(e.projectionVector,d.x,d.y),_=this.renderSession.offset,i.uniform2f(e.offsetVector,_.x,_.y))),n++}this.renderBatch(o,n,r),this.currentBatchSize=0}},k.WebGLSpriteBatch.prototype.renderBatch=function(e,t,i){if(0!==t){var n=this.gl;if(e._dirty[n.id]){if(!this.renderSession.renderer.updateTexture(e))return}else n.bindTexture(n.TEXTURE_2D,e._glTextures[n.id]);n.drawElements(n.TRIANGLES,6*t,n.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},k.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},k.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},k.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},k.WebGLFastSpriteBatch=function(e){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var t=4*this.size*this.vertSize,i=6*this.maxSize;this.vertices=new k.Float32Array(t),this.indices=new k.Uint16Array(i),this.vertexBuffer=null,this.indexBuffer=null;for(var n=this.lastIndexCount=0,r=0;n<i;n+=6,r+=4)this.indices[n+0]=r+0,this.indices[n+1]=r+1,this.indices[n+2]=r+2,this.indices[n+3]=r+0,this.indices[n+4]=r+2,this.indices[n+5]=r+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(e)},k.WebGLFastSpriteBatch.prototype.constructor=k.WebGLFastSpriteBatch,k.WebGLFastSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)},k.WebGLFastSpriteBatch.prototype.begin=function(e,t){this.renderSession=t,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=e.worldTransform.toArray(!0),this.start()},k.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},k.WebGLFastSpriteBatch.prototype.render=function(e){var t=e.children,e=t[0];if(e.texture._uvs){this.currentBaseTexture=e.texture.baseTexture,e.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(e.blendMode));for(var i=0,n=t.length;i<n;i++)this.renderSprite(t[i]);this.flush()}},k.WebGLFastSpriteBatch.prototype.renderSprite=function(e){var t,i,n,r,o,a,s;e.visible&&(e.texture.baseTexture===this.currentBaseTexture||e.texture.baseTexture.skipRender||(this.flush(),this.currentBaseTexture=e.texture.baseTexture,e.texture._uvs))&&(t=this.vertices,s=e.texture._uvs,e.texture.frame.width,e.texture.frame.height,e.texture.trim?(r=(n=(o=e.texture.trim).x-e.anchor.x*o.width)+e.texture.crop.width,a=(o=o.y-e.anchor.y*o.height)+e.texture.crop.height):(r=e.texture.frame.width*(1-e.anchor.x),n=e.texture.frame.width*-e.anchor.x,a=e.texture.frame.height*(1-e.anchor.y),o=e.texture.frame.height*-e.anchor.y),i=4*this.currentBatchSize*this.vertSize,t[i++]=n,t[i++]=o,t[i++]=e.position.x,t[i++]=e.position.y,t[i++]=e.scale.x,t[i++]=e.scale.y,t[i++]=e.rotation,t[i++]=s.x0,t[i++]=s.y1,t[i++]=e.alpha,t[i++]=r,t[i++]=o,t[i++]=e.position.x,t[i++]=e.position.y,t[i++]=e.scale.x,t[i++]=e.scale.y,t[i++]=e.rotation,t[i++]=s.x1,t[i++]=s.y1,t[i++]=e.alpha,t[i++]=r,t[i++]=a,t[i++]=e.position.x,t[i++]=e.position.y,t[i++]=e.scale.x,t[i++]=e.scale.y,t[i++]=e.rotation,t[i++]=s.x2,t[i++]=s.y2,t[i++]=e.alpha,t[i++]=n,t[i++]=a,t[i++]=e.position.x,t[i++]=e.position.y,t[i++]=e.scale.x,t[i++]=e.scale.y,t[i++]=e.rotation,t[i++]=s.x3,t[i++]=s.y3,t[+i]=e.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush())},k.WebGLFastSpriteBatch.prototype.flush=function(){var e,t;0!==this.currentBatchSize&&(e=this.gl,this.currentBaseTexture._glTextures[e.id]||this.renderSession.renderer.updateTexture(this.currentBaseTexture,e),e.bindTexture(e.TEXTURE_2D,this.currentBaseTexture._glTextures[e.id]),this.currentBatchSize>.5*this.size?e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices):(t=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize),e.bufferSubData(e.ARRAY_BUFFER,0,t)),e.drawElements(e.TRIANGLES,6*this.currentBatchSize,e.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++)},k.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},k.WebGLFastSpriteBatch.prototype.start=function(){var e=this.gl,t=(e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.renderSession.projection),t=(e.uniform2f(this.shader.projectionVector,t.x,t.y),e.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix),4*this.vertSize);e.vertexAttribPointer(this.shader.aVertexPosition,2,e.FLOAT,!1,t,0),e.vertexAttribPointer(this.shader.aPositionCoord,2,e.FLOAT,!1,t,8),e.vertexAttribPointer(this.shader.aScale,2,e.FLOAT,!1,t,16),e.vertexAttribPointer(this.shader.aRotation,1,e.FLOAT,!1,t,24),e.vertexAttribPointer(this.shader.aTextureCoord,2,e.FLOAT,!1,t,28),e.vertexAttribPointer(this.shader.colorAttribute,1,e.FLOAT,!1,t,36)},k.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},k.WebGLFilterManager.prototype.constructor=k.WebGLFilterManager,k.WebGLFilterManager.prototype.setContext=function(e){this.gl=e,this.texturePool=[],this.initShaderBuffers()},k.WebGLFilterManager.prototype.begin=function(e,t){this.renderSession=e,this.defaultShader=e.shaderManager.defaultShader;e=this.renderSession.projection;this.width=2*e.x,this.height=2*-e.y,this.buffer=t},k.WebGLFilterManager.prototype.pushFilter=function(e){var t=this.gl,i=this.renderSession.projection,n=this.renderSession.offset,r=(e._filterArea=e.target.filterArea||e.target.getBounds(),e._previous_stencil_mgr=this.renderSession.stencilManager,this.renderSession.stencilManager=new k.WebGLStencilManager,this.renderSession.stencilManager.setContext(t),t.disable(t.STENCIL_TEST),this.filterStack.push(e),e.filterPasses[0]),o=(this.offsetX+=e._filterArea.x,this.offsetY+=e._filterArea.y,this.texturePool.pop()),a=(o?o.resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution):o=new k.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),t.bindTexture(t.TEXTURE_2D,o.texture),e._filterArea),r=r.padding;a.x-=r,a.y-=r,a.width+=2*r,a.height+=2*r,a.x<0&&(a.x=0),a.width>this.width&&(a.width=this.width),a.y<0&&(a.y=0),a.height>this.height&&(a.height=this.height),t.bindFramebuffer(t.FRAMEBUFFER,o.frameBuffer),t.viewport(0,0,a.width*this.renderSession.resolution,a.height*this.renderSession.resolution),i.x=a.width/2,i.y=-a.height/2,n.x=-a.x,n.y=-a.y,t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e._glFilterTexture=o},k.WebGLFilterManager.prototype.popFilter=function(){var e=this.gl,t=this.filterStack.pop(),i=t._filterArea,n=t._glFilterTexture,r=this.renderSession.projection,o=this.renderSession.offset;if(1<t.filterPasses.length){e.viewport(0,0,i.width*this.renderSession.resolution,i.height*this.renderSession.resolution),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=i.height,this.vertexArray[2]=i.width,this.vertexArray[3]=i.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=i.width,this.vertexArray[7]=0,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray);var a=n;(l=(l=this.texturePool.pop())||new k.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution)).resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),e.bindFramebuffer(e.FRAMEBUFFER,l.frameBuffer),e.clear(e.COLOR_BUFFER_BIT),e.disable(e.BLEND);for(var s=0;s<t.filterPasses.length-1;s++)var p=t.filterPasses[s],p=(e.bindFramebuffer(e.FRAMEBUFFER,l.frameBuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a.texture),this.applyFilterPass(p,i,i.width,i.height),a),a=l,l=p;e.enable(e.BLEND),n=a,this.texturePool.push(l)}var h=t.filterPasses[t.filterPasses.length-1],u=(this.offsetX-=i.x,this.offsetY-=i.y,this.width),d=this.height,c=0,m=0,y=this.buffer,_=(0===this.filterStack.length?e.colorMask(!0,!0,!0,!0):(u=(i=(_=this.filterStack[this.filterStack.length-1])._filterArea).width,d=i.height,c=i.x,m=i.y,y=_._glFilterTexture.frameBuffer),r.x=u/2,r.y=-d/2,o.x=c,o.y=m,(i=t._filterArea).x-c),r=i.y-m;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=_,this.vertexArray[1]=r+i.height,this.vertexArray[2]=_+i.width,this.vertexArray[3]=r+i.height,this.vertexArray[4]=_,this.vertexArray[5]=r,this.vertexArray[6]=_+i.width,this.vertexArray[7]=r,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray),e.viewport(0,0,u*this.renderSession.resolution,d*this.renderSession.resolution),e.bindFramebuffer(e.FRAMEBUFFER,y),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.texture),this.renderSession.stencilManager&&this.renderSession.stencilManager.destroy(),this.renderSession.stencilManager=t._previous_stencil_mgr,t._previous_stencil_mgr=null,0<this.renderSession.stencilManager.count?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.applyFilterPass(h,i,u,d),this.texturePool.push(n),t._glFilterTexture=null},k.WebGLFilterManager.prototype.applyFilterPass=function(e,t,i,n){var r=this.gl,o=e.shaders[r.id];o||((o=new k.PixiShader(r)).fragmentSrc=e.fragmentSrc,o.uniforms=e.uniforms,o.init(),e.shaders[r.id]=o),this.renderSession.shaderManager.setShader(o),r.uniform2f(o.projectionVector,i/2,-n/2),r.uniform2f(o.offsetVector,0,0),e.uniforms.dimensions&&(e.uniforms.dimensions.value[0]=this.width,e.uniforms.dimensions.value[1]=this.height,e.uniforms.dimensions.value[2]=this.vertexArray[0],e.uniforms.dimensions.value[3]=this.vertexArray[5]),o.syncUniforms(),r.bindBuffer(r.ARRAY_BUFFER,this.vertexBuffer),r.vertexAttribPointer(o.aVertexPosition,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this.uvBuffer),r.vertexAttribPointer(o.aTextureCoord,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ARRAY_BUFFER,this.colorBuffer),r.vertexAttribPointer(o.colorAttribute,2,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.indexBuffer),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),this.renderSession.drawCount++},k.WebGLFilterManager.prototype.initShaderBuffers=function(){var e=this.gl;this.vertexBuffer=e.createBuffer(),this.uvBuffer=e.createBuffer(),this.colorBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.vertexArray=new k.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertexArray,e.STATIC_DRAW),this.uvArray=new k.Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvArray,e.STATIC_DRAW),this.colorArray=new k.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colorArray,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),e.STATIC_DRAW)},k.WebGLFilterManager.prototype.destroy=function(){var e=this.gl;this.filterStack=null,this.offsetX=0;for(var t=this.offsetY=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null,e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.uvBuffer),e.deleteBuffer(this.colorBuffer),e.deleteBuffer(this.indexBuffer)},k.FilterTexture=function(e,t,i,n){this.gl=e,this.frameBuffer=e.createFramebuffer(),this.texture=e.createTexture(),n=n||k.scaleModes.DEFAULT,e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n===k.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n===k.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture,0),this.renderBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.renderBuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.renderBuffer),this.resize(t,i)},k.FilterTexture.prototype.constructor=k.FilterTexture,k.FilterTexture.prototype.clear=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},k.FilterTexture.prototype.resize=function(e,t){var i;this.width===e&&this.height===t||(this.width=e,this.height=t,(i=this.gl).bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,t,0,i.RGBA,i.UNSIGNED_BYTE,null),i.bindRenderbuffer(i.RENDERBUFFER,this.renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e,t))},k.FilterTexture.prototype.destroy=function(){var e=this.gl;e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},k.CanvasBuffer=function(e,t){this.width=e,this.height=t,this.canvas=k.CanvasPool.create(this,this.width,this.height),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t},k.CanvasBuffer.prototype.constructor=k.CanvasBuffer,k.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},k.CanvasBuffer.prototype.resize=function(e,t){this.width=this.canvas.width=e,this.height=this.canvas.height=t},k.CanvasBuffer.prototype.destroy=function(){k.CanvasPool.remove(this)},k.CanvasMaskManager=function(){},k.CanvasMaskManager.prototype.constructor=k.CanvasMaskManager,k.CanvasMaskManager.prototype.pushMask=function(e,t){var i=t.context,n=(i.save(),e.alpha),r=e.worldTransform,t=t.resolution;i.setTransform(r.a*t,r.b*t,r.c*t,r.d*t,r.tx*t,r.ty*t),k.CanvasGraphics.renderGraphicsMask(e,i),i.clip(),e.worldAlpha=n},k.CanvasMaskManager.prototype.popMask=function(e){e.context.restore()},k.CanvasTinter=function(){},k.CanvasTinter.getTintedTexture=function(e,t){var i=e.tintedTexture||k.CanvasPool.create(this);return k.CanvasTinter.tintMethod(e.texture,t,i),i},k.CanvasTinter.tintWithMultiply=function(e,t,i){var n=i.getContext("2d"),r=e.crop;i.width===r.width&&i.height===r.height||(i.width=r.width,i.height=r.height),n.clearRect(0,0,r.width,r.height),n.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="multiply",n.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},k.CanvasTinter.tintWithPerPixel=function(e,t,i){for(var n,r=i.getContext("2d"),o=e.crop,i=(i.width=o.width,i.height=o.height,r.globalCompositeOperation="copy",r.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),k.hex2rgb(t)),a=i[0],s=i[1],p=i[2],e=r.getImageData(0,0,o.width,o.height),l=e.data,h=0;h<l.length;h+=4)l[h+0]*=a,l[h+1]*=s,l[h+2]*=p,k.CanvasTinter.canHandleAlpha||(n=l[h+3],l[h+0]/=255/n,l[h+1]/=255/n,l[h+2]/=255/n);r.putImageData(e,0,0)},k.CanvasTinter.checkInverseAlpha=function(){var e=new k.CanvasBuffer(2,1),t=(e.context.fillStyle="rgba(10, 20, 30, 0.5)",e.context.fillRect(0,0,1,1),e.context.getImageData(0,0,1,1));if(null===t)return!1;e.context.putImageData(t,1,0);e=e.context.getImageData(1,0,1,1);return e.data[0]===t.data[0]&&e.data[1]===t.data[1]&&e.data[2]===t.data[2]&&e.data[3]===t.data[3]},k.CanvasTinter.canHandleAlpha=k.CanvasTinter.checkInverseAlpha(),k.CanvasTinter.canUseMultiply=k.canUseNewCanvasBlendModes(),k.CanvasTinter.tintMethod=k.CanvasTinter.canUseMultiply?k.CanvasTinter.tintWithMultiply:k.CanvasTinter.tintWithPerPixel,k.CanvasRenderer=function(e){this.game=e,k.defaultRenderer||(k.defaultRenderer=this),this.type=k.CANVAS_RENDERER,this.resolution=e.resolution,this.clearBeforeRender=e.clearBeforeRender,this.transparent=e.transparent,this.autoResize=!1,this.width=e.width*this.resolution,this.height=e.height*this.resolution,this.view=e.canvas,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.count=0,this.maskManager=new k.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:Phaser.Canvas.getSmoothingPrefix(this.context),roundPixels:!1},this.mapBlendModes(),this.resize(this.width,this.height)},k.CanvasRenderer.prototype.constructor=k.CanvasRenderer,k.CanvasRenderer.prototype.render=function(e){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=0,this.renderSession.shakeX=this.game.camera._shake.x,this.renderSession.shakeY=this.game.camera._shake.y,this.context.globalCompositeOperation="source-over",navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):e._bgColor&&(this.context.fillStyle=e._bgColor.rgba,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e)},k.CanvasRenderer.prototype.destroy=function(e){(e=void 0===e?!0:e)&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},k.CanvasRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.renderSession.smoothProperty&&(this.context[this.renderSession.smoothProperty]=this.renderSession.scaleMode===k.scaleModes.LINEAR)},k.CanvasRenderer.prototype.renderDisplayObject=function(e,t,i){this.renderSession.context=t||this.context,this.renderSession.resolution=this.resolution,e._renderCanvas(this.renderSession,i)},k.CanvasRenderer.prototype.mapBlendModes=function(){var e,t,i;k.blendModesCanvas||(e=[],t=k.blendModes,i=k.canUseNewCanvasBlendModes(),e[t.NORMAL]="source-over",e[t.ADD]="lighter",e[t.MULTIPLY]=i?"multiply":"source-over",e[t.SCREEN]=i?"screen":"source-over",e[t.OVERLAY]=i?"overlay":"source-over",e[t.DARKEN]=i?"darken":"source-over",e[t.LIGHTEN]=i?"lighten":"source-over",e[t.COLOR_DODGE]=i?"color-dodge":"source-over",e[t.COLOR_BURN]=i?"color-burn":"source-over",e[t.HARD_LIGHT]=i?"hard-light":"source-over",e[t.SOFT_LIGHT]=i?"soft-light":"source-over",e[t.DIFFERENCE]=i?"difference":"source-over",e[t.EXCLUSION]=i?"exclusion":"source-over",e[t.HUE]=i?"hue":"source-over",e[t.SATURATION]=i?"saturation":"source-over",e[t.COLOR]=i?"color":"source-over",e[t.LUMINOSITY]=i?"luminosity":"source-over",k.blendModesCanvas=e)},k.BaseTexture=function(e,t){this.resolution=1,this.width=100,this.height=100,this.scaleMode=t||k.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=e,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this._dirty=[!0,!0,!0,!0],e&&((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height&&(this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty()),this.skipRender=!1,this._powerOf2=!1)},k.BaseTexture.prototype.constructor=k.BaseTexture,k.BaseTexture.prototype.forceLoaded=function(e,t){this.hasLoaded=!0,this.width=e,this.height=t,this.dirty()},k.BaseTexture.prototype.destroy=function(){this.source&&k.CanvasPool.removeByCanvas(this.source),this.source=null,this.unloadFromGPU()},k.BaseTexture.prototype.updateSourceImage=function(e){},k.BaseTexture.prototype.dirty=function(){for(var e=0;e<this._glTextures.length;e++)this._dirty[e]=!0},k.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var e=this._glTextures.length-1;0<=e;e--){var t=this._glTextures[e],i=k.glContexts[e];i&&t&&i.deleteTexture(t)}this._glTextures.length=0,this.dirty()},k.BaseTexture.fromCanvas=function(e,t){return 0===e.width&&(e.width=1),0===e.height&&(e.height=1),new k.BaseTexture(e,t)},k.TextureSilentFail=!1,k.Texture=function(e,t,i,n){this.noFrame=!1,t||(this.noFrame=!0,t=new k.Rectangle(0,0,1,1)),e instanceof k.Texture&&(e=e.baseTexture),this.baseTexture=e,this.frame=t,this.trim=n,this.valid=!1,this.isTiling=!1,this.requiresUpdate=!1,this.requiresReTint=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||new k.Rectangle(0,0,1,1),e.hasLoaded&&(this.noFrame&&(t=new k.Rectangle(0,0,e.width,e.height)),this.setFrame(t))},k.Texture.prototype.constructor=k.Texture,k.Texture.prototype.onBaseTextureLoaded=function(){var e=this.baseTexture;this.noFrame&&(this.frame=new k.Rectangle(0,0,e.width,e.height)),this.setFrame(this.frame)},k.Texture.prototype.destroy=function(e){e&&this.baseTexture.destroy(),this.valid=!1},k.Texture.prototype.setFrame=function(e){if(this.noFrame=!1,this.frame=e,this.width=e.width,this.height=e.height,this.crop.x=e.x,this.crop.y=e.y,this.crop.width=e.width,this.crop.height=e.height,!this.trim&&(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height)){if(k.TextureSilentFail)return void(this.valid=!1);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this)}this.valid=e&&e.width&&e.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs()},k.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new k.TextureUvs);var e=this.crop,t=this.baseTexture.width,i=this.baseTexture.height;this._uvs.x0=e.x/t,this._uvs.y0=e.y/i,this._uvs.x1=(e.x+e.width)/t,this._uvs.y1=e.y/i,this._uvs.x2=(e.x+e.width)/t,this._uvs.y2=(e.y+e.height)/i,this._uvs.x3=e.x/t,this._uvs.y3=(e.y+e.height)/i},k.Texture.fromCanvas=function(e,t){e=k.BaseTexture.fromCanvas(e,t);return new k.Texture(e)},k.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},k.RenderTexture=function(e,t,i,n,r){this.width=e||100,this.height=t||100,this.resolution=r||1,this.frame=new k.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new k.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new k.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=n||k.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,k.Texture.call(this,this.baseTexture,new k.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution)),this.renderer=i||k.defaultRenderer,this.renderer.type===k.WEBGL_RENDERER?(e=this.renderer.gl,this.baseTexture._dirty[e.id]=!1,this.textureBuffer=new k.FilterTexture(e,this.width,this.height,this.baseTexture.scaleMode),this.baseTexture._glTextures[e.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new k.Point(.5*this.width,.5*-this.height)):(this.render=this.renderCanvas,this.textureBuffer=new k.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas),this.valid=!0,this.tempMatrix=new Phaser.Matrix,this._updateUvs()},k.RenderTexture.prototype=Object.create(k.Texture.prototype),k.RenderTexture.prototype.constructor=k.RenderTexture,k.RenderTexture.prototype.resize=function(e,t,i){e===this.width&&t===this.height||(this.valid=0<e&&0<t,this.width=e,this.height=t,this.frame.width=this.crop.width=e*this.resolution,this.frame.height=this.crop.height=t*this.resolution,i&&(this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution),this.renderer.type===k.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width,this.height))},k.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===k.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},k.RenderTexture.prototype.renderWebGL=function(e,t,i){if(this.valid&&0!==e.alpha){var n=e.worldTransform;n.identity(),n.translate(0,2*this.projection.y),t&&n.append(t),n.scale(1,-1);for(var r=0;r<e.children.length;r++)e.children[r].updateTransform();n=this.renderer.gl;n.viewport(0,0,this.width*this.resolution,this.height*this.resolution),n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),i&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(e,this.projection,this.textureBuffer.frameBuffer,t),this.renderer.spriteBatch.dirty=!0}},k.RenderTexture.prototype.renderCanvas=function(e,t,i){if(this.valid&&0!==e.alpha){var n=e.worldTransform;n.identity(),t&&n.append(t);for(var r=0;r<e.children.length;r++)e.children[r].updateTransform();i&&this.textureBuffer.clear();n=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(e,this.textureBuffer.context,t),this.renderer.resolution=n}},k.RenderTexture.prototype.getImage=function(){var e=new Image;return e.src=this.getBase64(),e},k.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},k.RenderTexture.prototype.getCanvas=function(){var e,t,i,n;return this.renderer.type===k.WEBGL_RENDERER?(i=this.renderer.gl,n=this.textureBuffer.width,e=this.textureBuffer.height,t=new Uint8Array(4*n*e),i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(0,0,n,e,i.RGBA,i.UNSIGNED_BYTE,t),i.bindFramebuffer(i.FRAMEBUFFER,null),(n=(i=new k.CanvasBuffer(n,e)).context.getImageData(0,0,n,e)).data.set(t),i.context.putImageData(n,0,0),i.canvas):this.textureBuffer.canvas},k.AbstractFilter=function(e,t){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=t||{},this.fragmentSrc=e||[]},k.AbstractFilter.prototype.constructor=k.AbstractFilter,k.AbstractFilter.prototype.syncUniforms=function(){for(var e=0,t=this.shaders.length;e<t;e++)this.shaders[e].dirty=!0},k.Strip=function(e){k.DisplayObjectContainer.call(this),this.texture=e,this.uvs=new k.Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new k.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new k.Float32Array([1,1,1,1]),this.indices=new k.Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=k.blendModes.NORMAL,this.canvasPadding=0,this.drawMode=k.Strip.DrawModes.TRIANGLE_STRIP},k.Strip.prototype=Object.create(k.DisplayObjectContainer.prototype),k.Strip.prototype.constructor=k.Strip,k.Strip.prototype._renderWebGL=function(e){!this.visible||this.alpha<=0||(e.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(e),e.shaderManager.setShader(e.shaderManager.stripShader),this._renderStrip(e),e.spriteBatch.start())},k.Strip.prototype._initWebGL=function(e){e=e.gl;this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),this._uvBuffer=e.createBuffer(),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)},k.Strip.prototype._renderStrip=function(e){var t=e.gl,i=e.projection,n=e.offset,r=e.shaderManager.stripShader,o=this.drawMode===k.Strip.DrawModes.TRIANGLE_STRIP?t.TRIANGLE_STRIP:t.TRIANGLES;e.blendModeManager.setBlendMode(this.blendMode),t.uniformMatrix3fv(r.translationMatrix,!1,this.worldTransform.toArray(!0)),t.uniform2f(r.projectionVector,i.x,-i.y),t.uniform2f(r.offsetVector,-n.x,-n.y),t.uniform1f(r.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.STATIC_DRAW),t.vertexAttribPointer(r.aVertexPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.STATIC_DRAW),t.vertexAttribPointer(r.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),this.texture.baseTexture._dirty[t.id]?e.renderer.updateTexture(this.texture.baseTexture):t.bindTexture(t.TEXTURE_2D,this.texture.baseTexture._glTextures[t.id]),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)):(t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.vertexAttribPointer(r.aVertexPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.vertexAttribPointer(r.aTextureCoord,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),this.texture.baseTexture._dirty[t.id]?e.renderer.updateTexture(this.texture.baseTexture):t.bindTexture(t.TEXTURE_2D,this.texture.baseTexture._glTextures[t.id]),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),t.drawElements(o,this.indices.length,t.UNSIGNED_SHORT,0)},k.Strip.prototype._renderCanvas=function(e){var t=e.context,i=this.worldTransform,n=i.tx*e.resolution+e.shakeX,r=i.ty*e.resolution+e.shakeY;e.roundPixels?t.setTransform(i.a,i.b,i.c,i.d,0|n,0|r):t.setTransform(i.a,i.b,i.c,i.d,n,r),this.drawMode===k.Strip.DrawModes.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(t):this._renderCanvasTriangles(t)},k.Strip.prototype._renderCanvasTriangleStrip=function(e){var t=this.vertices,i=this.uvs,n=t.length/2;this.count++;for(var r=0;r<n-2;r++){var o=2*r;this._renderCanvasDrawTriangle(e,t,i,o,2+o,4+o)}},k.Strip.prototype._renderCanvasTriangles=function(e){var t=this.vertices,i=this.uvs,n=this.indices,r=n.length;this.count++;for(var o=0;o<r;o+=3){var a=2*n[o],s=2*n[o+1],p=2*n[o+2];this._renderCanvasDrawTriangle(e,t,i,a,s,p)}},k.Strip.prototype._renderCanvasDrawTriangle=function(e,t,i,n,r,o){var a,s,p,l,h=this.texture.baseTexture.source,u=this.texture.width,d=this.texture.height,c=t[n],m=t[r],y=t[o],_=t[n+1],x=t[r+1],t=t[o+1],f=i[n]*u,g=i[r]*u,u=i[o]*u,n=i[n+1]*d,r=i[r+1]*d,i=i[o+1]*d,v=(0<this.canvasPadding&&(o=this.canvasPadding/this.worldTransform.a,d=this.canvasPadding/this.worldTransform.d,p=_-(a=(_+x+t)/3),c=(v=(c+m+y)/3)+(s=c-v)/(l=Math.sqrt(s*s+p*p))*(l+o),_=a+p/l*(l+d),p=x-a,m=v+(s=m-v)/(l=Math.sqrt(s*s+p*p))*(l+o),x=a+p/l*(l+d),p=t-a,y=v+(s=y-v)/(l=Math.sqrt(s*s+p*p))*(l+o),t=a+p/l*(l+d)),e.save(),e.beginPath(),e.moveTo(c,_),e.lineTo(m,x),e.lineTo(y,t),e.closePath(),e.clip(),f*r+n*u+g*i-r*u-n*g-f*i);e.transform((c*r+n*y+m*i-r*y-n*m-c*i)/v,(_*r+n*t+x*i-r*t-n*x-_*i)/v,(f*m+c*u+g*y-m*u-c*g-f*y)/v,(f*x+_*u+g*t-x*u-_*g-f*t)/v,(f*r*y+n*m*u+c*g*i-c*r*u-n*g*y-f*m*i)/v,(f*r*t+n*x*u+_*g*i-_*r*u-n*g*t-f*x*i)/v),e.drawImage(h,0,0),e.restore()},k.Strip.prototype.renderStripFlat=function(e){var t=this.context,i=e.vertices,n=i.length/2;this.count++,t.beginPath();for(var r=1;r<n-2;r++){var o=2*r,a=i[o],s=i[2+o],p=i[4+o],l=i[1+o],h=i[3+o],o=i[5+o];t.moveTo(a,l),t.lineTo(s,h),t.lineTo(p,o)}t.fillStyle="#FF0000",t.fill(),t.closePath()},k.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},k.Strip.prototype.getBounds=function(e){for(var e=e||this.worldTransform,t=e.a,i=e.b,n=e.c,r=e.d,o=e.tx,a=e.ty,s=-1/0,p=-1/0,l=1/0,h=1/0,u=this.vertices,d=0,c=u.length;d<c;d+=2)var m=u[d],y=u[d+1],_=t*m+n*y+o,y=r*y+i*m+a,l=_<l?_:l,h=y<h?y:h,s=s<_?_:s,p=p<y?y:p;if(l===-1/0||p===1/0)return k.EmptyRectangle;e=this._bounds;return e.x=l,e.width=s-l,e.y=h,e.height=p-h,this._currentBounds=e},k.Strip.DrawModes={TRIANGLE_STRIP:0,TRIANGLES:1},k.Rope=function(e,t){k.Strip.call(this,e),this.points=t,this.vertices=new k.Float32Array(4*t.length),this.uvs=new k.Float32Array(4*t.length),this.colors=new k.Float32Array(2*t.length),this.indices=new k.Uint16Array(2*t.length),this.refresh()},k.Rope.prototype=Object.create(k.Strip.prototype),k.Rope.prototype.constructor=k.Rope,k.Rope.prototype.refresh=function(){var e=this.points;if(!(e.length<1))for(var t,i,n=this.uvs,r=(e[0],this.indices),o=this.colors,a=(this.count-=.2,n[0]=0,n[1]=0,n[2]=0,n[3]=1,o[0]=1,o[1]=1,r[0]=0,r[1]=1,e.length),s=1;s<a;s++)e[s],n[t=4*s]=i=s/(a-1),n[t+1]=0,n[t+2]=i,n[t+3]=1,o[t=2*s]=1,o[t+1]=1,r[t=2*s]=t,r[t+1]=t+1,0},k.Rope.prototype.updateTransform=function(){var e=this.points;if(!(e.length<1)){for(var t,i,n,r,o=e[0],a={x:0,y:0},s=(this.count-=.2,this.vertices),p=e.length,l=0;l<p;l++)t=e[l],i=4*l,n=l<e.length-1?e[l+1]:t,a.y=-(n.x-o.x),a.x=n.y-o.y,n=Math.sqrt(a.x*a.x+a.y*a.y),r=this.texture.height/2,a.x/=n,a.y/=n,a.x*=r,a.y*=r,s[i]=t.x+a.x,s[1+i]=t.y+a.y,s[2+i]=t.x-a.x,s[3+i]=t.y-a.y,o=t;k.DisplayObjectContainer.prototype.updateTransform.call(this)}},k.Rope.prototype.setTexture=function(e){this.texture=e},k.TilingSprite=function(e,t,i){k.Sprite.call(this,e),this._width=t||128,this._height=i||128,this.tileScale=new k.Point(1,1),this.tileScaleOffset=new k.Point(1,1),this.tilePosition=new k.Point,this.renderable=!0,this.tint=16777215,this.textureDebug=!1,this.blendMode=k.blendModes.NORMAL,this.canvasBuffer=null,this.tilingTexture=null,this.tilePattern=null,this.refreshTexture=!0,this.frameWidth=0,this.frameHeight=0},k.TilingSprite.prototype=Object.create(k.Sprite.prototype),k.TilingSprite.prototype.constructor=k.TilingSprite,k.TilingSprite.prototype.setTexture=function(e){this.texture!==e&&(this.texture=e,this.refreshTexture=!0,this.cachedTint=16777215)},k.TilingSprite.prototype._renderWebGL=function(e){if(this.visible&&this.renderable&&0!==this.alpha){if(this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),this.refreshTexture){if(this.generateTilingTexture(!0,e),!this.tilingTexture)return;this.tilingTexture.needsUpdate&&(e.renderer.updateTexture(this.tilingTexture.baseTexture),this.tilingTexture.needsUpdate=!1)}e.spriteBatch.renderTilingSprite(this);for(var t=0;t<this.children.length;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this._mask,e),e.spriteBatch.start()}},k.TilingSprite.prototype._renderCanvas=function(e){if(this.visible&&this.renderable&&0!==this.alpha){var t=e.context,i=(this._mask&&e.maskManager.pushMask(this._mask,e),t.globalAlpha=this.worldAlpha,this.worldTransform),n=e.resolution,r=i.tx*n+e.shakeX,o=i.ty*n+e.shakeY;if(t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,r,o),this.refreshTexture){if(this.generateTilingTexture(!1,e),!this.tilingTexture)return;this.tilePattern=t.createPattern(this.tilingTexture.baseTexture.source,"repeat")}var i=e.currentBlendMode,n=(this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,t.globalCompositeOperation=k.blendModesCanvas[e.currentBlendMode]),this.tilePosition),a=this.tileScale,r=(n.x%=this.tilingTexture.baseTexture.width,n.y%=this.tilingTexture.baseTexture.height,t.scale(a.x,a.y),t.translate(n.x+this.anchor.x*-this._width,n.y+this.anchor.y*-this._height),t.fillStyle=this.tilePattern,-n.x),o=-n.y,s=this._width/a.x,p=this._height/a.y;e.roundPixels&&(r|=0,o|=0,s|=0,p|=0),t.fillRect(r,o,s,p),t.scale(1/a.x,1/a.y),t.translate(-n.x+this.anchor.x*this._width,-n.y+this.anchor.y*this._height),this._mask&&e.maskManager.popMask(e);for(var l=0;l<this.children.length;l++)this.children[l]._renderCanvas(e);i!==this.blendMode&&(e.currentBlendMode=i,t.globalCompositeOperation=k.blendModesCanvas[i])}},k.TilingSprite.prototype.onTextureUpdate=function(){},k.TilingSprite.prototype.generateTilingTexture=function(e,t){var i,n,r,o,a,s,p;this.texture.baseTexture.hasLoaded&&(n=(i=this.texture).frame,r=this._frame.sourceSizeW||this._frame.width,o=this._frame.sourceSizeH||this._frame.height,s=a=0,this._frame.trimmed&&(a=this._frame.spriteSourceSizeX,s=this._frame.spriteSourceSizeY),e&&(r=k.getNextPowerOfTwo(r),o=k.getNextPowerOfTwo(o)),this.canvasBuffer?(this.canvasBuffer.resize(r,o),this.tilingTexture.baseTexture.width=r,this.tilingTexture.baseTexture.height=o):(this.canvasBuffer=new k.CanvasBuffer(r,o),this.tilingTexture=k.Texture.fromCanvas(this.canvasBuffer.canvas),this.tilingTexture.isTiling=!0),this.tilingTexture.needsUpdate=!0,this.textureDebug&&(this.canvasBuffer.context.strokeStyle="#00ff00",this.canvasBuffer.context.strokeRect(0,0,r,o)),e=i.crop.width,p=i.crop.height,e===r&&p===o||(e=r,p=o),this.canvasBuffer.context.drawImage(i.baseTexture.source,i.crop.x,i.crop.y,i.crop.width,i.crop.height,a,s,e,p),this.tileScaleOffset.x=n.width/r,this.tileScaleOffset.y=n.height/o,this.refreshTexture=!1,this.tilingTexture.baseTexture._powerOf2=!0)},k.TilingSprite.prototype.getBounds=function(){var e=this._width,t=this._height,i=e*(1-this.anchor.x),e=e*-this.anchor.x,n=t*(1-this.anchor.y),t=t*-this.anchor.y,r=this.worldTransform,o=r.a,a=r.b,s=r.c,p=r.d,l=r.tx,r=r.ty,h=o*e+s*t+l,u=p*t+a*e+r,d=o*i+s*t+l,t=p*t+a*i+r,c=o*i+s*n+l,i=p*n+a*i+r,o=o*e+s*n+l,s=p*n+a*e+r,l=h<(l=1/0)?h:l,p=s<(p=i<(p=t<(p=u<(p=1/0)?u:p)?t:p)?i:p)?s:p,n=(n=(n=(n=(n=-1/0)<h?h:n)<d?d:n)<c?c:n)<o?o:n,a=(a=(a=(a=(a=-1/0)<u?u:a)<t?t:a)<i?i:a)<s?s:a,e=this._bounds;return e.x=l=o<(l=c<(l=d<l?d:l)?c:l)?o:l,e.width=n-l,e.y=p,e.height=a-p,this._currentBounds=e},k.TilingSprite.prototype.destroy=function(){k.Sprite.prototype.destroy.call(this),this.canvasBuffer&&(this.canvasBuffer.destroy(),this.canvasBuffer=null),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture&&(this.tilingTexture.destroy(!0),this.tilingTexture=null)},Object.defineProperty(k.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e}}),Object.defineProperty(k.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e}}),"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=k:exports).PIXI=k:"undefined"!=typeof define&&define.amd?define("PIXI",e.PIXI=k):e.PIXI=k,k}.call(this),function(){var o,e,t,i,n=this,U={VERSION:"2.6.2",GAMES:[],AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,NONE:0,LEFT:1,RIGHT:2,UP:3,DOWN:4,SPRITE:0,BUTTON:1,IMAGE:2,GRAPHICS:3,TEXT:4,TILESPRITE:5,BITMAPTEXT:6,GROUP:7,RENDERTEXTURE:8,TILEMAP:9,TILEMAPLAYER:10,EMITTER:11,POLYGON:12,BITMAPDATA:13,CANVAS_FILTER:14,WEBGL_FILTER:15,ELLIPSE:16,SPRITEBATCH:17,RETROFONT:18,POINTER:19,ROPE:20,CIRCLE:21,RECTANGLE:22,LINE:23,MATRIX:24,POINT:25,ROUNDEDRECTANGLE:26,CREATURE:27,VIDEO:28,PENDING_ATLAS:-1,HORIZONTAL:0,VERTICAL:1,LANDSCAPE:0,PORTRAIT:1,ANGLE_UP:270,ANGLE_DOWN:90,ANGLE_LEFT:180,ANGLE_RIGHT:0,ANGLE_NORTH_EAST:315,ANGLE_NORTH_WEST:225,ANGLE_SOUTH_EAST:45,ANGLE_SOUTH_WEST:135,TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12,blendModes:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},scaleModes:{DEFAULT:0,LINEAR:0,NEAREST:1},PIXI:PIXI||{}};function r(e,t){this._scaleFactor=e,this._deltaMode=t,this.originalEvent=null}for(t in Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Function.prototype.bind||(Function.prototype.bind=(o=Array.prototype.slice,function(t){var i=this,n=o.call(arguments,1);if("function"!=typeof i)throw new TypeError;function r(){var e=n.concat(o.call(arguments));i.apply(this instanceof r?this:t,e)}return r.prototype=function e(t){if(t&&(e.prototype=t),!(this instanceof e))return new e}(i.prototype),r})),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=2<=arguments.length?arguments[1]:void 0,r=0;r<i;r++)r in t&&e.call(n,t[r],r,t)}),"function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array&&((e=function(e){var t=new Array;window[e]=function(e){if("number"==typeof e){Array.call(this,e),this.length=e;for(var t=0;t<this.length;t++)this[t]=0}else{Array.call(this,e.length),this.length=e.length;for(t=0;t<this.length;t++)this[t]=e[t]}},window[e].prototype=t,window[e].constructor=window[e]})("Uint32Array"),e("Int16Array")),window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){}),U.Utils={reverseString:function(e){return e.split("").reverse().join("")},getProperty:function(e,t){for(var i=t.split("."),t=i.pop(),n=i.length,r=1,o=i[0];r<n&&(e=e[o]);)o=i[r],r++;return e?e[t]:null},setProperty:function(e,t,i){for(var n=t.split("."),t=n.pop(),r=n.length,o=1,a=n[0];o<r&&(e=e[a]);)a=n[o],o++;return e&&(e[t]=i),e},chanceRoll:function(e){return 0<(e=void 0===e?50:e)&&100*Math.random()<=e},randomChoice:function(e,t){return Math.random()<.5?e:t},parseDimension:function(e,t){var i;return"string"==typeof e?"%"===e.substr(-1)?(i=parseInt(e,10)/100,0===t?window.innerWidth*i:window.innerHeight*i):parseInt(e,10):e},pad:function(e,t,i,n){var r;void 0===i&&(i=" "),void 0===n&&(n=3);if((t=void 0===t?0:t)+1>=(e=e.toString()).length)switch(n){case 1:e=new Array(t+1-e.length).join(i)+e;break;case 3:var o=Math.ceil((r=t-e.length)/2);e=new Array(1+(r-o)).join(i)+e+new Array(o+1).join(i);break;default:e+=new Array(t+1-e.length).join(i)}return e},isPlainObject:function(e){if("object"!=typeof e||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},extend:function(){var e,t,i,n,r,o=arguments[0]||{},a=1,s=arguments.length,p=!1;for("boolean"==typeof o&&(p=o,o=arguments[1]||{},a=2),s===a&&(o=this,--a);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],o!==(i=e[t])&&(p&&i&&(U.Utils.isPlainObject(i)||(n=Array.isArray(i)))?(r=n?(n=!1,r&&Array.isArray(r)?r:[]):r&&U.Utils.isPlainObject(r)?r:{},o[t]=U.Utils.extend(p,r,i)):void 0!==i&&(o[t]=i));return o},mixinPrototype:function(e,t,i){void 0===i&&(i=!1);for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r],a=t[o];!i&&o in e||(!a||"function"!=typeof a.get&&"function"!=typeof a.set?e[o]=a:"function"==typeof a.clone?e[o]=a.clone():Object.defineProperty(e,o,a))}},mixin:function(e,t){if(!e||"object"!=typeof e)return t;for(var i in e){var n,r=e[i];r.childNodes||r.cloneNode||(n=typeof e[i],e[i]&&"object"==n?typeof t[i]==n?t[i]=U.Utils.mixin(e[i],t[i]):t[i]=U.Utils.mixin(e[i],new r.constructor):t[i]=e[i])}return t}},U.Circle=function(e,t,i){t=t||0,i=i||0,this.x=e=e||0,this.y=t,this._diameter=i,(this._radius=0)<i&&(this._radius=.5*i),this.type=U.CIRCLE},U.Circle.prototype={circumference:function(){return Math.PI*this._radius*2},random:function(e){void 0===e&&(e=new U.Point);var t=2*Math.PI*Math.random(),i=Math.random()+Math.random(),i=1<i?2-i:i,n=i*Math.cos(t),i=i*Math.sin(t);return e.x=this.x+n*this.radius,e.y=this.y+i*this.radius,e},getBounds:function(){return new U.Rectangle(this.x-this.radius,this.y-this.radius,this.diameter,this.diameter)},setTo:function(e,t,i){return this.x=e,this.y=t,this._diameter=i,this._radius=.5*i,this},copyFrom:function(e){return this.setTo(e.x,e.y,e.diameter)},copyTo:function(e){return e.x=this.x,e.y=this.y,e.diameter=this._diameter,e},distance:function(e,t){e=U.Math.distance(this.x,this.y,e.x,e.y);return t?Math.round(e):e},clone:function(e){return null==e?e=new U.Circle(this.x,this.y,this.diameter):e.setTo(this.x,this.y,this.diameter),e},contains:function(e,t){return U.Circle.contains(this,e,t)},circumferencePoint:function(e,t,i){return U.Circle.circumferencePoint(this,e,t,i)},offset:function(e,t){return this.x+=e,this.y+=t,this},offsetPoint:function(e){return this.offset(e.x,e.y)},toString:function(){return"[{Phaser.Circle (x="+this.x+" y="+this.y+" diameter="+this.diameter+" radius="+this.radius+")}]"}},U.Circle.prototype.constructor=U.Circle,Object.defineProperty(U.Circle.prototype,"diameter",{get:function(){return this._diameter},set:function(e){0<e&&(this._diameter=e,this._radius=.5*e)}}),Object.defineProperty(U.Circle.prototype,"radius",{get:function(){return this._radius},set:function(e){0<e&&(this._radius=e,this._diameter=2*e)}}),Object.defineProperty(U.Circle.prototype,"left",{get:function(){return this.x-this._radius},set:function(e){e>this.x?(this._radius=0,this._diameter=0):this.radius=this.x-e}}),Object.defineProperty(U.Circle.prototype,"right",{get:function(){return this.x+this._radius},set:function(e){e<this.x?(this._radius=0,this._diameter=0):this.radius=e-this.x}}),Object.defineProperty(U.Circle.prototype,"top",{get:function(){return this.y-this._radius},set:function(e){e>this.y?(this._radius=0,this._diameter=0):this.radius=this.y-e}}),Object.defineProperty(U.Circle.prototype,"bottom",{get:function(){return this.y+this._radius},set:function(e){e<this.y?(this._radius=0,this._diameter=0):this.radius=e-this.y}}),Object.defineProperty(U.Circle.prototype,"area",{get:function(){return 0<this._radius?Math.PI*this._radius*this._radius:0}}),Object.defineProperty(U.Circle.prototype,"empty",{get:function(){return 0===this._diameter},set:function(e){!0===e&&this.setTo(0,0,0)}}),U.Circle.contains=function(e,t,i){return 0<e.radius&&t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom&&(e.x-t)*(e.x-t)+(e.y-i)*(e.y-i)<=e.radius*e.radius},U.Circle.equals=function(e,t){return e.x===t.x&&e.y===t.y&&e.diameter===t.diameter},U.Circle.intersects=function(e,t){return U.Math.distance(e.x,e.y,t.x,t.y)<=e.radius+t.radius},U.Circle.circumferencePoint=function(e,t,i,n){return void 0===i&&(i=!1),void 0===n&&(n=new U.Point),!0===i&&(t=U.Math.degToRad(t)),n.x=e.x+e.radius*Math.cos(t),n.y=e.y+e.radius*Math.sin(t),n},U.Circle.intersectsRectangle=function(e,t){var i=Math.abs(e.x-t.x-t.halfWidth);if(t.halfWidth+e.radius<i)return!1;var n=Math.abs(e.y-t.y-t.halfHeight);if(t.halfHeight+e.radius<n)return!1;if(i<=t.halfWidth||n<=t.halfHeight)return!0;i-=t.halfWidth,n-=t.halfHeight;return i*i+n*n<=e.radius*e.radius},PIXI.Circle=U.Circle,U.Ellipse=function(e,t,i,n){t=t||0,i=i||0,n=n||0,this.x=e=e||0,this.y=t,this.width=i,this.height=n,this.type=U.ELLIPSE},U.Ellipse.prototype={setTo:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},getBounds:function(){return new U.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},copyFrom:function(e){return this.setTo(e.x,e.y,e.width,e.height)},copyTo:function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},clone:function(e){return null==e?e=new U.Ellipse(this.x,this.y,this.width,this.height):e.setTo(this.x,this.y,this.width,this.height),e},contains:function(e,t){return U.Ellipse.contains(this,e,t)},random:function(e){void 0===e&&(e=new U.Point);var t=Math.random()*Math.PI*2,i=Math.random();return e.x=Math.sqrt(i)*Math.cos(t),e.y=Math.sqrt(i)*Math.sin(t),e.x=this.x+e.x*this.width/2,e.y=this.y+e.y*this.height/2,e},toString:function(){return"[{Phaser.Ellipse (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")}]"}},U.Ellipse.prototype.constructor=U.Ellipse,Object.defineProperty(U.Ellipse.prototype,"left",{get:function(){return this.x},set:function(e){this.x=e}}),Object.defineProperty(U.Ellipse.prototype,"right",{get:function(){return this.x+this.width},set:function(e){e<this.x?this.width=0:this.width=e-this.x}}),Object.defineProperty(U.Ellipse.prototype,"top",{get:function(){return this.y},set:function(e){this.y=e}}),Object.defineProperty(U.Ellipse.prototype,"bottom",{get:function(){return this.y+this.height},set:function(e){e<this.y?this.height=0:this.height=e-this.y}}),Object.defineProperty(U.Ellipse.prototype,"empty",{get:function(){return 0===this.width||0===this.height},set:function(e){!0===e&&this.setTo(0,0,0,0)}}),U.Ellipse.contains=function(e,t,i){if(e.width<=0||e.height<=0)return!1;t=(t-e.x)/e.width-.5,i=(i-e.y)/e.height-.5;return(t*=t)+(i*=i)<.25},PIXI.Ellipse=U.Ellipse,U.Line=function(e,t,i,n){i=i||0,n=n||0,this.start=new U.Point(e=e||0,t=t||0),this.end=new U.Point(i,n),this.type=U.LINE},U.Line.prototype={setTo:function(e,t,i,n){return this.start.setTo(e,t),this.end.setTo(i,n),this},fromSprite:function(e,t,i){return(i=void 0!==i&&i)?this.setTo(e.center.x,e.center.y,t.center.x,t.center.y):this.setTo(e.x,e.y,t.x,t.y)},fromAngle:function(e,t,i,n){return this.start.setTo(e,t),this.end.setTo(e+Math.cos(i)*n,t+Math.sin(i)*n),this},rotate:function(e,t){var i=(this.start.x+this.end.x)/2,n=(this.start.y+this.end.y)/2;return this.start.rotate(i,n,e,t),this.end.rotate(i,n,e,t),this},rotateAround:function(e,t,i,n){return this.start.rotate(e,t,i,n),this.end.rotate(e,t,i,n),this},intersects:function(e,t,i){return U.Line.intersectsPoints(this.start,this.end,e.start,e.end,t,i)},reflect:function(e){return U.Line.reflect(this,e)},midPoint:function(e){return(e=void 0===e?new U.Point:e).x=(this.start.x+this.end.x)/2,e.y=(this.start.y+this.end.y)/2,e},centerOn:function(e,t){e-=(this.start.x+this.end.x)/2,t-=(this.start.y+this.end.y)/2;this.start.add(e,t),this.end.add(e,t)},pointOnLine:function(e,t){return(e-this.start.x)*(this.end.y-this.start.y)==(this.end.x-this.start.x)*(t-this.start.y)},pointOnSegment:function(e,t){var i=Math.min(this.start.x,this.end.x),n=Math.max(this.start.x,this.end.x),r=Math.min(this.start.y,this.end.y),o=Math.max(this.start.y,this.end.y);return this.pointOnLine(e,t)&&i<=e&&e<=n&&r<=t&&t<=o},random:function(e){void 0===e&&(e=new U.Point);var t=Math.random();return e.x=this.start.x+t*(this.end.x-this.start.x),e.y=this.start.y+t*(this.end.y-this.start.y),e},coordinatesOnLine:function(e,t){void 0===e&&(e=1),void 0===t&&(t=[]);for(var i=Math.round(this.start.x),n=Math.round(this.start.y),r=Math.round(this.end.x),o=Math.round(this.end.y),a=Math.abs(r-i),s=Math.abs(o-n),p=i<r?1:-1,l=n<o?1:-1,h=a-s,u=(t.push([i,n]),1);i!==r||n!==o;){var d=h<<1;-s<d&&(h-=s,i+=p),d<a&&(h+=a,n+=l),u%e==0&&t.push([i,n]),u++}return t},clone:function(e){return null==e?e=new U.Line(this.start.x,this.start.y,this.end.x,this.end.y):e.setTo(this.start.x,this.start.y,this.end.x,this.end.y),e}},Object.defineProperty(U.Line.prototype,"length",{get:function(){return Math.sqrt((this.end.x-this.start.x)*(this.end.x-this.start.x)+(this.end.y-this.start.y)*(this.end.y-this.start.y))}}),Object.defineProperty(U.Line.prototype,"angle",{get:function(){return Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)}}),Object.defineProperty(U.Line.prototype,"slope",{get:function(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}}),Object.defineProperty(U.Line.prototype,"perpSlope",{get:function(){return-((this.end.x-this.start.x)/(this.end.y-this.start.y))}}),Object.defineProperty(U.Line.prototype,"x",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(U.Line.prototype,"y",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(U.Line.prototype,"left",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(U.Line.prototype,"right",{get:function(){return Math.max(this.start.x,this.end.x)}}),Object.defineProperty(U.Line.prototype,"top",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(U.Line.prototype,"bottom",{get:function(){return Math.max(this.start.y,this.end.y)}}),Object.defineProperty(U.Line.prototype,"width",{get:function(){return Math.abs(this.start.x-this.end.x)}}),Object.defineProperty(U.Line.prototype,"height",{get:function(){return Math.abs(this.start.y-this.end.y)}}),Object.defineProperty(U.Line.prototype,"normalX",{get:function(){return Math.cos(this.angle-1.5707963267948966)}}),Object.defineProperty(U.Line.prototype,"normalY",{get:function(){return Math.sin(this.angle-1.5707963267948966)}}),Object.defineProperty(U.Line.prototype,"normalAngle",{get:function(){return U.Math.wrap(this.angle-1.5707963267948966,-Math.PI,Math.PI)}}),U.Line.intersectsPoints=function(e,t,i,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=new U.Point);var a=t.y-e.y,s=n.y-i.y,p=e.x-t.x,l=i.x-n.x,h=t.x*e.y-e.x*t.y,u=n.x*i.y-i.x*n.y,d=a*l-s*p;return 0==d?null:(o.x=(p*u-l*h)/d,o.y=(s*h-a*u)/d,r?(p=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y),l=((n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x))/p,s=((t.x-e.x)*(e.y-i.y)-(t.y-e.y)*(e.x-i.x))/p,0<=l&&l<=1&&0<=s&&s<=1?o:null):o)},U.Line.intersects=function(e,t,i,n){return U.Line.intersectsPoints(e.start,e.end,t.start,t.end,i,n)},U.Line.intersectsRectangle=function(e,t){if(!U.Rectangle.intersects(e,t))return!1;var i=e.start.x,n=e.start.y,r=e.end.x,e=e.end.y,o=t.x,a=t.y,s=t.right,t=t.bottom,p=0;if(o<=i&&i<=s&&a<=n&&n<=t||o<=r&&r<=s&&a<=e&&e<=t)return!0;if(i<o&&o<=r){if(a<(p=n+(e-n)*(o-i)/(r-i))&&p<=t)return!0}else if(s<i&&r<=s&&a<=(p=n+(e-n)*(s-i)/(r-i))&&p<=t)return!0;if(n<a&&a<=e){if(o<=(p=i+(r-i)*(a-n)/(e-n))&&p<=s)return!0}else if(t<n&&e<=t&&o<=(p=i+(r-i)*(t-n)/(e-n))&&p<=s)return!0;return!1},U.Line.reflect=function(e,t){return 2*t.normalAngle-3.141592653589793-e.angle},U.Matrix=function(e,t,i,n,r,o){null==t&&(t=0),null==i&&(i=0),null==n&&(n=1),null==r&&(r=0),null==o&&(o=0),this.a=e=null==e?1:e,this.b=t,this.c=i,this.d=n,this.tx=r,this.ty=o,this.type=U.MATRIX},U.Matrix.prototype={fromArray:function(e){return this.setTo(e[0],e[1],e[3],e[4],e[2],e[5])},setTo:function(e,t,i,n,r,o){return this.a=e,this.b=t,this.c=i,this.d=n,this.tx=r,this.ty=o,this},clone:function(e){return null==e?e=new U.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty):(e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty),e},copyTo:function(e){return e.copyFrom(this),e},copyFrom:function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},toArray:function(e,t){return void 0===t&&(t=new PIXI.Float32Array(9)),e?(t[0]=this.a,t[1]=this.b,t[2]=0,t[3]=this.c,t[4]=this.d,t[5]=0,t[6]=this.tx,t[7]=this.ty):(t[0]=this.a,t[1]=this.c,t[2]=this.tx,t[3]=this.b,t[4]=this.d,t[5]=this.ty,t[6]=0,t[7]=0),t[8]=1,t},apply:function(e,t){return(t=void 0===t?new U.Point:t).x=this.a*e.x+this.c*e.y+this.tx,t.y=this.b*e.x+this.d*e.y+this.ty,t},applyInverse:function(e,t){void 0===t&&(t=new U.Point);var i=1/(this.a*this.d+this.c*-this.b),n=e.x,e=e.y;return t.x=this.d*i*n+-this.c*i*e+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*e+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,t},translate:function(e,t){return this.tx+=e,this.ty+=t,this},scale:function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},rotate:function(e){var t=Math.cos(e),e=Math.sin(e),i=this.a,n=this.c,r=this.tx;return this.a=i*t-this.b*e,this.b=i*e+this.b*t,this.c=n*t-this.d*e,this.d=n*e+this.d*t,this.tx=r*t-this.ty*e,this.ty=r*e+this.ty*t,this},append:function(e){var t=this.a,i=this.b,n=this.c,r=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*i+e.b*r,this.c=e.c*t+e.d*n,this.d=e.c*i+e.d*r,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*r+this.ty,this},identity:function(){return this.setTo(1,0,0,1,0,0)}},U.identityMatrix=new U.Matrix,PIXI.Matrix=U.Matrix,PIXI.identityMatrix=U.identityMatrix,U.Point=function(e,t){t=t||0,this.x=e=e||0,this.y=t,this.type=U.POINT},U.Point.prototype={copyFrom:function(e){return this.setTo(e.x,e.y)},invert:function(){return this.setTo(this.y,this.x)},setTo:function(e,t){return this.x=e||0,this.y=t||(0!==t?this.x:0),this},set:function(e,t){return this.x=e||0,this.y=t||(0!==t?this.x:0),this},add:function(e,t){return this.x+=e,this.y+=t,this},subtract:function(e,t){return this.x-=e,this.y-=t,this},multiply:function(e,t){return this.x*=e,this.y*=t,this},divide:function(e,t){return this.x/=e,this.y/=t,this},clampX:function(e,t){return this.x=U.Math.clamp(this.x,e,t),this},clampY:function(e,t){return this.y=U.Math.clamp(this.y,e,t),this},clamp:function(e,t){return this.x=U.Math.clamp(this.x,e,t),this.y=U.Math.clamp(this.y,e,t),this},clone:function(e){return null==e?e=new U.Point(this.x,this.y):e.setTo(this.x,this.y),e},copyTo:function(e){return e.x=this.x,e.y=this.y,e},distance:function(e,t){return U.Point.distance(this,e,t)},equals:function(e){return e.x===this.x&&e.y===this.y},angle:function(e,t){return(t=void 0===t?!1:t)?U.Math.radToDeg(Math.atan2(e.y-this.y,e.x-this.x)):Math.atan2(e.y-this.y,e.x-this.x)},rotate:function(e,t,i,n,r){return U.Point.rotate(this,e,t,i,n,r)},getMagnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getMagnitudeSq:function(){return this.x*this.x+this.y*this.y},setMagnitude:function(e){return this.normalize().multiply(e,e)},normalize:function(){var e;return this.isZero()||(e=this.getMagnitude(),this.x/=e,this.y/=e),this},isZero:function(){return 0===this.x&&0===this.y},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},perp:function(){return this.setTo(-this.y,this.x)},rperp:function(){return this.setTo(this.y,-this.x)},normalRightHand:function(){return this.setTo(-1*this.y,this.x)},floor:function(){return this.setTo(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return this.setTo(Math.ceil(this.x),Math.ceil(this.y))},toString:function(){return"[{Point (x="+this.x+" y="+this.y+")}]"}},U.Point.prototype.constructor=U.Point,U.Point.add=function(e,t,i){return(i=void 0===i?new U.Point:i).x=e.x+t.x,i.y=e.y+t.y,i},U.Point.subtract=function(e,t,i){return(i=void 0===i?new U.Point:i).x=e.x-t.x,i.y=e.y-t.y,i},U.Point.multiply=function(e,t,i){return(i=void 0===i?new U.Point:i).x=e.x*t.x,i.y=e.y*t.y,i},U.Point.divide=function(e,t,i){return(i=void 0===i?new U.Point:i).x=e.x/t.x,i.y=e.y/t.y,i},U.Point.equals=function(e,t){return e.x===t.x&&e.y===t.y},U.Point.angle=function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)},U.Point.negative=function(e,t){return(t=void 0===t?new U.Point:t).setTo(-e.x,-e.y)},U.Point.multiplyAdd=function(e,t,i,n){return(n=void 0===n?new U.Point:n).setTo(e.x+t.x*i,e.y+t.y*i)},U.Point.interpolate=function(e,t,i,n){return(n=void 0===n?new U.Point:n).setTo(e.x+(t.x-e.x)*i,e.y+(t.y-e.y)*i)},U.Point.perp=function(e,t){return(t=void 0===t?new U.Point:t).setTo(-e.y,e.x)},U.Point.rperp=function(e,t){return(t=void 0===t?new U.Point:t).setTo(e.y,-e.x)},U.Point.distance=function(e,t,i){e=U.Math.distance(e.x,e.y,t.x,t.y);return i?Math.round(e):e},U.Point.project=function(e,t,i){void 0===i&&(i=new U.Point);e=e.dot(t)/t.getMagnitudeSq();return 0!=e&&i.setTo(e*t.x,e*t.y),i},U.Point.projectUnit=function(e,t,i){void 0===i&&(i=new U.Point);e=e.dot(t);return 0!==e&&i.setTo(e*t.x,e*t.y),i},U.Point.normalRightHand=function(e,t){return(t=void 0===t?new U.Point:t).setTo(-1*e.y,e.x)},U.Point.normalize=function(e,t){void 0===t&&(t=new U.Point);var i=e.getMagnitude();return 0!==i&&t.setTo(e.x/i,e.y/i),t},U.Point.rotate=function(e,t,i,n,r,o){var a,s;return r&&(n=U.Math.degToRad(n)),void 0===o?(e.subtract(t,i),r=Math.sin(n),a=(s=Math.cos(n))*e.x-r*e.y,r=r*e.x+s*e.y,e.x=a+t,e.y=r+i):(s=n+Math.atan2(e.y-i,e.x-t),e.x=t+o*Math.cos(s),e.y=i+o*Math.sin(s)),e},U.Point.centroid=function(e,t){if(void 0===t&&(t=new U.Point),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("Phaser.Point. Parameter 'points' must be an array");var i=e.length;if(i<1)throw new Error("Phaser.Point. Parameter 'points' array must not be empty");if(1===i)return t.copyFrom(e[0]),t;for(var n=0;n<i;n++)U.Point.add(t,e[n],t);return t.divide(i,i),t},U.Point.parse=function(e,t,i){t=t||"x",i=i||"y";var n=new U.Point;return e[t]&&(n.x=parseInt(e[t],10)),e[i]&&(n.y=parseInt(e[i],10)),n},PIXI.Point=U.Point,U.Polygon=function(){this.area=0,this._points=[],0<arguments.length&&this.setTo.apply(this,arguments),this.closed=!0,this.flattened=!1,this.type=U.POLYGON},U.Polygon.prototype={toNumberArray:function(e){void 0===e&&(e=[]);for(var t=0;t<this._points.length;t++)"number"==typeof this._points[t]?(e.push(this._points[t]),e.push(this._points[t+1]),t++):(e.push(this._points[t].x),e.push(this._points[t].y));return e},flatten:function(){return this._points=this.toNumberArray(),this.flattened=!0,this},clone:function(e){var t=this._points.slice();return null==e?e=new U.Polygon(t):e.setTo(t),e},contains:function(e,t){var i=!1;if(this.flattened)for(var n=-2,r=this._points.length-2;(n+=2)<this._points.length;r=n){var o=this._points[n],a=this._points[n+1],s=this._points[r],p=this._points[r+1];(a<=t&&t<p||p<=t&&t<a)&&e<(s-o)*(t-a)/(p-a)+o&&(i=!i)}else for(n=-1,r=this._points.length-1;++n<this._points.length;r=n){o=this._points[n].x,a=this._points[n].y,s=this._points[r].x,p=this._points[r].y;(a<=t&&t<p||p<=t&&t<a)&&e<(s-o)*(t-a)/(p-a)+o&&(i=!i)}return i},setTo:function(e){if(this.area=0,this._points=[],0<arguments.length){Array.isArray(e)||(e=Array.prototype.slice.call(arguments));for(var t,i=Number.MAX_VALUE,n=0,r=e.length;n<r;n++)"number"==typeof e[n]?(t=new PIXI.Point(e[n],e[n+1]),n++):t=Array.isArray(e[n])?new PIXI.Point(e[n][0],e[n][1]):new PIXI.Point(e[n].x,e[n].y),this._points.push(t),t.y<i&&(i=t.y);this.calculateArea(i)}return this},calculateArea:function(e){for(var t,i,n,r=0,o=this._points.length;r<o;r++)n=this._points[r],t=r===o-1?this._points[0]:this._points[r+1],i=(n.y-e+(t.y-e))/2,n=n.x-t.x,this.area+=i*n;return this.area}},U.Polygon.prototype.constructor=U.Polygon,Object.defineProperty(U.Polygon.prototype,"points",{get:function(){return this._points},set:function(e){null!=e?this.setTo(e):this.setTo()}}),PIXI.Polygon=U.Polygon,U.Rectangle=function(e,t,i,n){t=t||0,i=i||0,n=n||0,this.x=e=e||0,this.y=t,this.width=i,this.height=n,this.type=U.RECTANGLE},U.Rectangle.prototype={offset:function(e,t){return this.x+=e,this.y+=t,this},offsetPoint:function(e){return this.offset(e.x,e.y)},setTo:function(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this},scale:function(e,t){return void 0===t&&(t=e),this.width*=e,this.height*=t,this},centerOn:function(e,t){return this.centerX=e,this.centerY=t,this},floor:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y)},floorAll:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height)},ceil:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y)},ceilAll:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height)},copyFrom:function(e){return this.setTo(e.x,e.y,e.width,e.height)},copyTo:function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},inflate:function(e,t){return U.Rectangle.inflate(this,e,t)},size:function(e){return U.Rectangle.size(this,e)},resize:function(e,t){return this.width=e,this.height=t,this},clone:function(e){return U.Rectangle.clone(this,e)},contains:function(e,t){return U.Rectangle.contains(this,e,t)},containsRect:function(e){return U.Rectangle.containsRect(e,this)},equals:function(e){return U.Rectangle.equals(this,e)},intersection:function(e,t){return U.Rectangle.intersection(this,e,t)},intersects:function(e){return U.Rectangle.intersects(this,e)},intersectsRaw:function(e,t,i,n,r){return U.Rectangle.intersectsRaw(this,e,t,i,n,r)},union:function(e,t){return U.Rectangle.union(this,e,t)},random:function(e){return(e=void 0===e?new U.Point:e).x=this.randomX,e.y=this.randomY,e},getPoint:function(e,t){switch(void 0===t&&(t=new U.Point),e){default:case U.TOP_LEFT:return t.set(this.x,this.y);case U.TOP_CENTER:return t.set(this.centerX,this.y);case U.TOP_RIGHT:return t.set(this.right,this.y);case U.LEFT_CENTER:return t.set(this.x,this.centerY);case U.CENTER:return t.set(this.centerX,this.centerY);case U.RIGHT_CENTER:return t.set(this.right,this.centerY);case U.BOTTOM_LEFT:return t.set(this.x,this.bottom);case U.BOTTOM_CENTER:return t.set(this.centerX,this.bottom);case U.BOTTOM_RIGHT:return t.set(this.right,this.bottom)}},toString:function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+" empty="+this.empty+")}]"}},Object.defineProperty(U.Rectangle.prototype,"halfWidth",{get:function(){return Math.round(this.width/2)}}),Object.defineProperty(U.Rectangle.prototype,"halfHeight",{get:function(){return Math.round(this.height/2)}}),Object.defineProperty(U.Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},set:function(e){e<=this.y?this.height=0:this.height=e-this.y}}),Object.defineProperty(U.Rectangle.prototype,"bottomLeft",{get:function(){return new U.Point(this.x,this.bottom)},set:function(e){this.x=e.x,this.bottom=e.y}}),Object.defineProperty(U.Rectangle.prototype,"bottomRight",{get:function(){return new U.Point(this.right,this.bottom)},set:function(e){this.right=e.x,this.bottom=e.y}}),Object.defineProperty(U.Rectangle.prototype,"left",{get:function(){return this.x},set:function(e){e>=this.right?this.width=0:this.width=this.right-e,this.x=e}}),Object.defineProperty(U.Rectangle.prototype,"right",{get:function(){return this.x+this.width},set:function(e){e<=this.x?this.width=0:this.width=e-this.x}}),Object.defineProperty(U.Rectangle.prototype,"volume",{get:function(){return this.width*this.height}}),Object.defineProperty(U.Rectangle.prototype,"perimeter",{get:function(){return 2*this.width+2*this.height}}),Object.defineProperty(U.Rectangle.prototype,"centerX",{get:function(){return this.x+this.halfWidth},set:function(e){this.x=e-this.halfWidth}}),Object.defineProperty(U.Rectangle.prototype,"centerY",{get:function(){return this.y+this.halfHeight},set:function(e){this.y=e-this.halfHeight}}),Object.defineProperty(U.Rectangle.prototype,"randomX",{get:function(){return this.x+Math.random()*this.width}}),Object.defineProperty(U.Rectangle.prototype,"randomY",{get:function(){return this.y+Math.random()*this.height}}),Object.defineProperty(U.Rectangle.prototype,"top",{get:function(){return this.y},set:function(e){e>=this.bottom?(this.height=0,this.y=e):this.height=this.bottom-e}}),Object.defineProperty(U.Rectangle.prototype,"topLeft",{get:function(){return new U.Point(this.x,this.y)},set:function(e){this.x=e.x,this.y=e.y}}),Object.defineProperty(U.Rectangle.prototype,"topRight",{get:function(){return new U.Point(this.x+this.width,this.y)},set:function(e){this.right=e.x,this.y=e.y}}),Object.defineProperty(U.Rectangle.prototype,"empty",{get:function(){return!this.width||!this.height},set:function(e){!0===e&&this.setTo(0,0,0,0)}}),U.Rectangle.prototype.constructor=U.Rectangle,U.Rectangle.inflate=function(e,t,i){return e.x-=t,e.width+=2*t,e.y-=i,e.height+=2*i,e},U.Rectangle.inflatePoint=function(e,t){return U.Rectangle.inflate(e,t.x,t.y)},U.Rectangle.size=function(e,t){return null==t?t=new U.Point(e.width,e.height):t.setTo(e.width,e.height),t},U.Rectangle.clone=function(e,t){return null==t?t=new U.Rectangle(e.x,e.y,e.width,e.height):t.setTo(e.x,e.y,e.width,e.height),t},U.Rectangle.contains=function(e,t,i){return!(e.width<=0||e.height<=0)&&(t>=e.x&&t<e.right&&i>=e.y&&i<e.bottom)},U.Rectangle.containsRaw=function(e,t,i,n,r,o){return e<=r&&r<e+i&&t<=o&&o<t+n},U.Rectangle.containsPoint=function(e,t){return U.Rectangle.contains(e,t.x,t.y)},U.Rectangle.containsRect=function(e,t){return!(e.volume>t.volume)&&(e.x>=t.x&&e.y>=t.y&&e.right<t.right&&e.bottom<t.bottom)},U.Rectangle.equals=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},U.Rectangle.sameDimensions=function(e,t){return e.width===t.width&&e.height===t.height},U.Rectangle.intersection=function(e,t,i){return void 0===i&&(i=new U.Rectangle),U.Rectangle.intersects(e,t)&&(i.x=Math.max(e.x,t.x),i.y=Math.max(e.y,t.y),i.width=Math.min(e.right,t.right)-i.x,i.height=Math.min(e.bottom,t.bottom)-i.y),i},U.Rectangle.intersects=function(e,t){return!(e.width<=0||e.height<=0||t.width<=0||t.height<=0)&&!(e.right<t.x||e.bottom<t.y||e.x>t.right||e.y>t.bottom)},U.Rectangle.intersectsRaw=function(e,t,i,n,r,o){return!(t>e.right+(o=void 0===o?0:o)||i<e.left-o||n>e.bottom+o||r<e.top-o)},U.Rectangle.union=function(e,t,i){return(i=void 0===i?new U.Rectangle:i).setTo(Math.min(e.x,t.x),Math.min(e.y,t.y),Math.max(e.right,t.right)-Math.min(e.left,t.left),Math.max(e.bottom,t.bottom)-Math.min(e.top,t.top))},U.Rectangle.aabb=function(e,t){void 0===t&&(t=new U.Rectangle);var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return e.forEach(function(e){e.x>i&&(i=e.x),e.x<n&&(n=e.x),e.y>r&&(r=e.y),e.y<o&&(o=e.y)}),t.setTo(n,o,i-n,r-o),t},PIXI.Rectangle=U.Rectangle,PIXI.EmptyRectangle=new U.Rectangle(0,0,0,0),U.RoundedRectangle=function(e,t,i,n,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=20),this.x=e=void 0===e?0:e,this.y=t,this.width=i,this.height=n,this.radius=r||20,this.type=U.ROUNDEDRECTANGLE},U.RoundedRectangle.prototype={clone:function(){return new U.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},contains:function(e,t){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(i<=e&&e<=i+this.width){e=this.y;if(e<=t&&t<=e+this.height)return!0}return!1}},U.RoundedRectangle.prototype.constructor=U.RoundedRectangle,PIXI.RoundedRectangle=U.RoundedRectangle,U.Camera=function(e,t,i,n,r,o){this.game=e,this.world=e.world,this.id=0,this.view=new U.Rectangle(i,n,r,o),this.bounds=new U.Rectangle(i,n,r,o),this.deadzone=null,this.visible=!0,this.roundPx=!0,this.atLimit={x:!1,y:!1},this.target=null,this.displayObject=null,this.scale=null,this.totalInView=0,this.lerp=new U.Point(1,1),this.onShakeComplete=new U.Signal,this.onFlashComplete=new U.Signal,this.onFadeComplete=new U.Signal,this.fx=null,this._targetPosition=new U.Point,this._edge=0,this._position=new U.Point,this._shake={intensity:0,duration:0,horizontal:!1,vertical:!1,shakeBounds:!0,x:0,y:0},this._fxDuration=0,this._fxType=0},U.Camera.FOLLOW_LOCKON=0,U.Camera.FOLLOW_PLATFORMER=1,U.Camera.FOLLOW_TOPDOWN=2,U.Camera.FOLLOW_TOPDOWN_TIGHT=3,U.Camera.SHAKE_BOTH=4,U.Camera.SHAKE_HORIZONTAL=5,U.Camera.SHAKE_VERTICAL=6,U.Camera.ENABLE_FX=!0,U.Camera.prototype={boot:function(){this.displayObject=this.game.world,this.scale=this.game.world.scale,this.game.camera=this,U.Graphics&&U.Camera.ENABLE_FX&&(this.fx=new U.Graphics(this.game),this.game.stage.addChild(this.fx))},preUpdate:function(){this.totalInView=0},follow:function(e,t,i,n){var r;switch(void 0===t&&(t=U.Camera.FOLLOW_LOCKON),void 0===i&&(i=1),void 0===n&&(n=1),this.target=e,this.lerp.set(i,n),t){case U.Camera.FOLLOW_PLATFORMER:var o=this.width/8,a=this.height/3;this.deadzone=new U.Rectangle((this.width-o)/2,(this.height-a)/2-.25*a,o,a);break;case U.Camera.FOLLOW_TOPDOWN:r=Math.max(this.width,this.height)/4,this.deadzone=new U.Rectangle((this.width-r)/2,(this.height-r)/2,r,r);break;case U.Camera.FOLLOW_TOPDOWN_TIGHT:r=Math.max(this.width,this.height)/8,this.deadzone=new U.Rectangle((this.width-r)/2,(this.height-r)/2,r,r);break;default:U.Camera.FOLLOW_LOCKON;this.deadzone=null}},unfollow:function(){this.target=null},focusOn:function(e){this.setPosition(Math.round(e.x-this.view.halfWidth),Math.round(e.y-this.view.halfHeight))},focusOnXY:function(e,t){this.setPosition(Math.round(e-this.view.halfWidth),Math.round(t-this.view.halfHeight))},shake:function(e,t,i,n,r){return void 0===t&&(t=500),void 0===n&&(n=U.Camera.SHAKE_BOTH),void 0===r&&(r=!0),!(!(i=void 0===i||i)&&0<this._shake.duration)&&(this._shake.intensity=e=void 0===e?.05:e,this._shake.duration=t,this._shake.shakeBounds=r,this._shake.x=0,this._shake.y=0,this._shake.horizontal=n===U.Camera.SHAKE_BOTH||n===U.Camera.SHAKE_HORIZONTAL,this._shake.vertical=n===U.Camera.SHAKE_BOTH||n===U.Camera.SHAKE_VERTICAL,!0)},flash:function(e,t,i){return void 0===e&&(e=16777215),void 0===t&&(t=500),void 0===i&&(i=!1),!(!this.fx||!i&&0<this._fxDuration)&&(this.fx.clear(),this.fx.beginFill(e),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=1,this._fxDuration=t,!(this._fxType=0))},fade:function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=500),void 0===i&&(i=!1),!(!this.fx||!i&&0<this._fxDuration)&&(this.fx.clear(),this.fx.beginFill(e),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=0,this._fxDuration=t,this._fxType=1,!0)},update:function(){0<this._fxDuration&&this.updateFX(),0<this._shake.duration&&this.updateShake(),this.bounds&&this.checkBounds(),this.roundPx&&(this.view.floor(),this._shake.x=Math.floor(this._shake.x),this._shake.y=Math.floor(this._shake.y)),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},updateFX:function(){0===this._fxType?(this.fx.alpha-=this.game.time.elapsedMS/this._fxDuration,this.fx.alpha<=0&&(this._fxDuration=0,this.fx.alpha=0,this.onFlashComplete.dispatch())):(this.fx.alpha+=this.game.time.elapsedMS/this._fxDuration,1<=this.fx.alpha&&(this._fxDuration=0,this.fx.alpha=1,this.onFadeComplete.dispatch()))},updateShake:function(){this._shake.duration-=this.game.time.elapsedMS,this._shake.duration<=0?(this.onShakeComplete.dispatch(),this._shake.x=0,this._shake.y=0):(this._shake.horizontal&&(this._shake.x=this.game.rnd.frac()*this._shake.intensity*this.view.width*2-this._shake.intensity*this.view.width),this._shake.vertical&&(this._shake.y=this.game.rnd.frac()*this._shake.intensity*this.view.height*2-this._shake.intensity*this.view.height))},updateTarget:function(){this._targetPosition.x=this.view.x+this.target.worldPosition.x,this._targetPosition.y=this.view.y+this.target.worldPosition.y,this.deadzone?(this._edge=this._targetPosition.x-this.view.x,this._edge<this.deadzone.left?this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.left,this.lerp.x):this._edge>this.deadzone.right&&(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.right,this.lerp.x)),this._edge=this._targetPosition.y-this.view.y,this._edge<this.deadzone.top?this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.top,this.lerp.y):this._edge>this.deadzone.bottom&&(this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.bottom,this.lerp.y))):(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.view.halfWidth,this.lerp.x),this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.view.halfHeight,this.lerp.y)),this.bounds&&this.checkBounds(),this.roundPx&&this.view.floor(),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},setBoundsToWorld:function(){this.bounds&&this.bounds.copyFrom(this.game.world.bounds)},checkBounds:function(){this.atLimit.x=!1,this.atLimit.y=!1;var e=this.view.x+this._shake.x,t=this.view.right+this._shake.x,i=this.view.y+this._shake.y,n=this.view.bottom+this._shake.y;e<=this.bounds.x*this.scale.x&&(this.atLimit.x=!0,this.view.x=this.bounds.x*this.scale.x,this._shake.shakeBounds||(this._shake.x=0)),t>=this.bounds.right*this.scale.x&&(this.atLimit.x=!0,this.view.x=this.bounds.right*this.scale.x-this.width,this._shake.shakeBounds||(this._shake.x=0)),i<=this.bounds.top*this.scale.y&&(this.atLimit.y=!0,this.view.y=this.bounds.top*this.scale.y,this._shake.shakeBounds||(this._shake.y=0)),n>=this.bounds.bottom*this.scale.y&&(this.atLimit.y=!0,this.view.y=this.bounds.bottom*this.scale.y-this.height,this._shake.shakeBounds||(this._shake.y=0))},setPosition:function(e,t){this.view.x=e,this.view.y=t,this.bounds&&this.checkBounds()},setSize:function(e,t){this.view.width=e,this.view.height=t},reset:function(){this.target=null,this.view.x=0,this.view.y=0,this._shake.duration=0,this.resetFX()},resetFX:function(){this.fx.clear(),this.fx.alpha=0,this._fxDuration=0}},U.Camera.prototype.constructor=U.Camera,Object.defineProperty(U.Camera.prototype,"x",{get:function(){return this.view.x},set:function(e){this.view.x=e,this.bounds&&this.checkBounds()}}),Object.defineProperty(U.Camera.prototype,"y",{get:function(){return this.view.y},set:function(e){this.view.y=e,this.bounds&&this.checkBounds()}}),Object.defineProperty(U.Camera.prototype,"position",{get:function(){return this._position.set(this.view.x,this.view.y),this._position},set:function(e){void 0!==e.x&&(this.view.x=e.x),void 0!==e.y&&(this.view.y=e.y),this.bounds&&this.checkBounds()}}),Object.defineProperty(U.Camera.prototype,"width",{get:function(){return this.view.width},set:function(e){this.view.width=e}}),Object.defineProperty(U.Camera.prototype,"height",{get:function(){return this.view.height},set:function(e){this.view.height=e}}),Object.defineProperty(U.Camera.prototype,"shakeIntensity",{get:function(){return this._shake.intensity},set:function(e){this._shake.intensity=e}}),U.State=function(){this.game=null,this.key="",this.add=null,this.make=null,this.camera=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.sound=null,this.scale=null,this.stage=null,this.state=null,this.time=null,this.tweens=null,this.world=null,this.particles=null,this.physics=null,this.rnd=null},U.State.prototype={init:function(){},preload:function(){},loadUpdate:function(){},loadRender:function(){},create:function(){},update:function(){},preRender:function(){},render:function(){},resize:function(){},paused:function(){},resumed:function(){},pauseUpdate:function(){},shutdown:function(){}},U.State.prototype.constructor=U.State,U.StateManager=function(e,t){this.game=e,this.states={},(this._pendingState=null)!=t&&(this._pendingState=t),this._clearWorld=!1,this._clearCache=!1,this._created=!1,this._args=[],this.current="",this.onStateChange=new U.Signal,this.onInitCallback=null,this.onPreloadCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPreRenderCallback=null,this.onLoadUpdateCallback=null,this.onLoadRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.onShutDownCallback=null},U.StateManager.prototype={boot:function(){this.game.onPause.add(this.pause,this),this.game.onResume.add(this.resume,this),null!==this._pendingState&&"string"!=typeof this._pendingState&&this.add("default",this._pendingState,!0)},add:function(e,t,i){var n;return void 0===i&&(i=!1),t instanceof U.State?n=t:"object"==typeof t?(n=t).game=this.game:"function"==typeof t&&(n=new t(this.game)),this.states[e]=n,i&&(this.game.isBooted?this.start(e):this._pendingState=e),n},remove:function(e){this.current===e&&(this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onPreRenderCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null),delete this.states[e]},start:function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1),this.checkState(e)&&(this._pendingState=e,this._clearWorld=t,this._clearCache=i,3<arguments.length&&(this._args=Array.prototype.splice.call(arguments,3)))},restart:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1),this._pendingState=this.current,this._clearWorld=e,this._clearCache=t,2<arguments.length&&(this._args=Array.prototype.slice.call(arguments,2))},dummy:function(){},preUpdate:function(){var e;this._pendingState&&this.game.isBooted&&(e=this.current,this.clearCurrentState(),this.setCurrentState(this._pendingState),this.onStateChange.dispatch(this.current,e),this.current===this._pendingState&&(this._pendingState=null,this.onPreloadCallback?(this.game.load.reset(!0),this.onPreloadCallback.call(this.callbackContext,this.game),0===this.game.load.totalQueuedFiles()&&0===this.game.load.totalQueuedPacks()?this.loadComplete():this.game.load.start()):this.loadComplete()))},clearCurrentState:function(){this.current&&(this.onShutDownCallback&&this.onShutDownCallback.call(this.callbackContext,this.game),this.game.tweens.removeAll(),this.game.camera.reset(),this.game.input.reset(!0),this.game.physics.clear(),this.game.time.removeAll(),this.game.scale.reset(this._clearWorld),this.game.debug&&this.game.debug.reset(),this._clearWorld&&(this.game.world.shutdown(),this._clearCache&&this.game.cache.destroy()))},checkState:function(e){return!!this.states[e]&&!!(this.states[e].preload||this.states[e].create||this.states[e].update||this.states[e].render)},link:function(e){this.states[e].game=this.game,this.states[e].add=this.game.add,this.states[e].make=this.game.make,this.states[e].camera=this.game.camera,this.states[e].cache=this.game.cache,this.states[e].input=this.game.input,this.states[e].load=this.game.load,this.states[e].math=this.game.math,this.states[e].sound=this.game.sound,this.states[e].scale=this.game.scale,(this.states[e].state=this).states[e].stage=this.game.stage,this.states[e].time=this.game.time,this.states[e].tweens=this.game.tweens,this.states[e].world=this.game.world,this.states[e].particles=this.game.particles,this.states[e].rnd=this.game.rnd,this.states[e].physics=this.game.physics,this.states[e].key=e},unlink:function(e){this.states[e]&&(this.states[e].game=null,this.states[e].add=null,this.states[e].make=null,this.states[e].camera=null,this.states[e].cache=null,this.states[e].input=null,this.states[e].load=null,this.states[e].math=null,this.states[e].sound=null,this.states[e].scale=null,this.states[e].state=null,this.states[e].stage=null,this.states[e].time=null,this.states[e].tweens=null,this.states[e].world=null,this.states[e].particles=null,this.states[e].rnd=null,this.states[e].physics=null)},setCurrentState:function(e){this.callbackContext=this.states[e],this.link(e),this.onInitCallback=this.states[e].init||this.dummy,this.onPreloadCallback=this.states[e].preload||null,this.onLoadRenderCallback=this.states[e].loadRender||null,this.onLoadUpdateCallback=this.states[e].loadUpdate||null,this.onCreateCallback=this.states[e].create||null,this.onUpdateCallback=this.states[e].update||null,this.onPreRenderCallback=this.states[e].preRender||null,this.onRenderCallback=this.states[e].render||null,this.onResizeCallback=this.states[e].resize||null,this.onPausedCallback=this.states[e].paused||null,this.onResumedCallback=this.states[e].resumed||null,this.onPauseUpdateCallback=this.states[e].pauseUpdate||null,this.onShutDownCallback=this.states[e].shutdown||this.dummy,""!==this.current&&this.game.physics.reset(),this.current=e,this._created=!1,this.onInitCallback.apply(this.callbackContext,this._args),e===this._pendingState&&(this._args=[]),this.game._kickstart=!0},getCurrentState:function(){return this.states[this.current]},loadComplete:function(){!1===this._created&&this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game),!1===this._created&&this.onCreateCallback?(this._created=!0,this.onCreateCallback.call(this.callbackContext,this.game)):this._created=!0},pause:function(){this._created&&this.onPausedCallback&&this.onPausedCallback.call(this.callbackContext,this.game)},resume:function(){this._created&&this.onResumedCallback&&this.onResumedCallback.call(this.callbackContext,this.game)},update:function(){this._created?this.onUpdateCallback&&this.onUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},pauseUpdate:function(){this._created?this.onPauseUpdateCallback&&this.onPauseUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},preRender:function(e){this._created&&this.onPreRenderCallback&&this.onPreRenderCallback.call(this.callbackContext,this.game,e)},resize:function(e,t){this.onResizeCallback&&this.onResizeCallback.call(this.callbackContext,e,t)},render:function(){this._created?this.onRenderCallback&&(this.game.renderType===U.CANVAS?(this.game.context.save(),this.game.context.setTransform(1,0,0,1,0,0),this.onRenderCallback.call(this.callbackContext,this.game),this.game.context.restore()):this.onRenderCallback.call(this.callbackContext,this.game)):this.onLoadRenderCallback&&this.onLoadRenderCallback.call(this.callbackContext,this.game)},destroy:function(){this._clearWorld=!0,this._clearCache=!0,this.clearCurrentState(),this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.game=null,this.states={},this._pendingState=null,this.current=""}},U.StateManager.prototype.constructor=U.StateManager,Object.defineProperty(U.StateManager.prototype,"created",{get:function(){return this._created}}),U.Signal=function(){},U.Signal.prototype={_bindings:null,_prevParams:null,memorize:!1,_shouldPropagate:!0,active:!0,_boundDispatch:!1,validateListener:function(e,t){if("function"!=typeof e)throw new Error("Phaser.Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))},_registerListener:function(e,t,i,n,r){var o,a=this._indexOfListener(e,i);if(-1!==a){if((o=this._bindings[a]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else o=new U.SignalBinding(this,e,t,i,n,r),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){this._bindings||(this._bindings=[]);for(var t=this._bindings.length;this._bindings[--t]&&e._priority<=this._bindings[t]._priority;);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){if(!this._bindings)return-1;void 0===t&&(t=null);for(var i,n=this._bindings.length;n--;)if((i=this._bindings[n])._listener===e&&i.context===t)return n;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){this.validateListener(e,"add");var n=[];if(3<arguments.length)for(var r=3;r<arguments.length;r++)n.push(arguments[r]);return this._registerListener(e,!1,t,i,n)},addOnce:function(e,t,i){this.validateListener(e,"addOnce");var n=[];if(3<arguments.length)for(var r=3;r<arguments.length;r++)n.push(arguments[r]);return this._registerListener(e,!0,t,i,n)},remove:function(e,t){this.validateListener(e,"remove");t=this._indexOfListener(e,t);return-1!==t&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)),e},removeAll:function(e){if(void 0===e&&(e=null),this._bindings){for(var t=this._bindings.length;t--;)e?this._bindings[t].context===e&&(this._bindings[t]._destroy(),this._bindings.splice(t,1)):this._bindings[t]._destroy();e||(this._bindings.length=0)}},getNumListeners:function(){return this._bindings?this._bindings.length:0},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active&&this._bindings){var e,t=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=t),i)for(e=this._bindings.slice(),this._shouldPropagate=!0;e[--i]&&this._shouldPropagate&&!1!==e[i].execute(t););}},forget:function(){this._prevParams&&(this._prevParams=null)},dispose:function(){this.removeAll(),this._bindings=null,this._prevParams&&(this._prevParams=null)},toString:function(){return"[Phaser.Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},Object.defineProperty(U.Signal.prototype,"boundDispatch",{get:function(){var e=this;return this._boundDispatch||(this._boundDispatch=function(){return e.dispatch.apply(e,arguments)})}}),U.Signal.prototype.constructor=U.Signal,U.SignalBinding=function(e,t,i,n,r,o){this._listener=t,i&&(this._isOnce=!0),null!=n&&(this.context=n),this._signal=e,r&&(this._priority=r),o&&o.length&&(this._args=o)},U.SignalBinding.prototype={context:null,_isOnce:!1,_priority:0,_args:null,callCount:0,active:!0,params:null,execute:function(e){var t;return this.active&&this._listener&&(e=this.params?this.params.concat(e):e,this._args&&(e=e.concat(this._args)),t=this._listener.apply(this.context,e),this.callCount++,this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[Phaser.SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},U.SignalBinding.prototype.constructor=U.SignalBinding,U.Filter=function(e,t,i){this.game=e,this.type=U.WEBGL_FILTER,this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.prevPoint=new U.Point;e=new Date;if(this.uniforms={resolution:{type:"2f",value:{x:256,y:256}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:0,y:0}},date:{type:"4fv",value:[e.getFullYear(),e.getMonth(),e.getDate(),60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}},t)for(var n in t)this.uniforms[n]=t[n];this.fragmentSrc=i||""},U.Filter.prototype={init:function(){},setResolution:function(e,t){this.uniforms.resolution.value.x=e,this.uniforms.resolution.value.y=t},update:function(e){var t;void 0!==e&&(t=e.x/this.game.width,e=1-e.y/this.game.height,t===this.prevPoint.x&&e===this.prevPoint.y||(this.uniforms.mouse.value.x=t.toFixed(2),this.uniforms.mouse.value.y=e.toFixed(2),this.prevPoint.set(t,e))),this.uniforms.time.value=this.game.time.totalElapsedSeconds()},addToWorld:function(e,t,i,n,r,o){void 0===r&&(r=0),void 0===o&&(o=0),null!=i?this.width=i:i=this.width,null!=n?this.height=n:n=this.height;e=this.game.add.image(e,t,"__default");return e.width=i,e.height=n,e.anchor.set(r,o),e.filters=[this],e},destroy:function(){this.game=null}},U.Filter.prototype.constructor=U.Filter,Object.defineProperty(U.Filter.prototype,"width",{get:function(){return this.uniforms.resolution.value.x},set:function(e){this.uniforms.resolution.value.x=e}}),Object.defineProperty(U.Filter.prototype,"height",{get:function(){return this.uniforms.resolution.value.y},set:function(e){this.uniforms.resolution.value.y=e}}),U.Plugin=function(e,t){void 0===t&&(t=null),this.game=e,this.parent=t,this.active=!1,this.visible=!1,this.hasPreUpdate=!1,this.hasUpdate=!1,this.hasPostUpdate=!1,this.hasRender=!1,this.hasPostRender=!1},U.Plugin.prototype={preUpdate:function(){},update:function(){},render:function(){},postRender:function(){},destroy:function(){this.game=null,this.parent=null,this.active=!1,this.visible=!1}},U.Plugin.prototype.constructor=U.Plugin,U.PluginManager=function(e){this.game=e,this.plugins=[],this._len=0,this._i=0},U.PluginManager.prototype={add:function(e){var t=Array.prototype.slice.call(arguments,1),i=!1;return"function"==typeof e?e=new e(this.game,this):(e.game=this.game,e.parent=this),"function"==typeof e.preUpdate&&(i=e.hasPreUpdate=!0),"function"==typeof e.update&&(i=e.hasUpdate=!0),"function"==typeof e.postUpdate&&(i=e.hasPostUpdate=!0),"function"==typeof e.render&&(i=e.hasRender=!0),(i="function"==typeof e.postRender?e.hasPostRender=!0:i)?((e.hasPreUpdate||e.hasUpdate||e.hasPostUpdate)&&(e.active=!0),(e.hasRender||e.hasPostRender)&&(e.visible=!0),this._len=this.plugins.push(e),"function"==typeof e.init&&e.init.apply(e,t),e):null},remove:function(e,t){for(void 0===t&&(t=!0),this._i=this._len;this._i--;)if(this.plugins[this._i]===e)return t&&e.destroy(),this.plugins.splice(this._i,1),void this._len--},removeAll:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].destroy();this.plugins.length=0,this._len=0},preUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPreUpdate&&this.plugins[this._i].preUpdate()},update:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasUpdate&&this.plugins[this._i].update()},postUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPostUpdate&&this.plugins[this._i].postUpdate()},render:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasRender&&this.plugins[this._i].render()},postRender:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasPostRender&&this.plugins[this._i].postRender()},destroy:function(){this.removeAll(),this.game=null}},U.PluginManager.prototype.constructor=U.PluginManager,U.Stage=function(e){this.game=e,PIXI.DisplayObjectContainer.call(this),this.name="_stage_root",this.disableVisibilityChange=!1,this.exists=!0,this.worldTransform=new PIXI.Matrix,(this.stage=this).currentRenderOrderID=0,this._hiddenVar="hidden",this._onChange=null,this._bgColor={r:0,g:0,b:0,a:0,color:0,rgba:"#000000"},this.game.transparent||(this._bgColor.a=1),e.config&&this.parseConfig(e.config)},U.Stage.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),U.Stage.prototype.constructor=U.Stage,U.Stage.prototype.parseConfig=function(e){e.disableVisibilityChange&&(this.disableVisibilityChange=e.disableVisibilityChange),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor)},U.Stage.prototype.boot=function(){U.DOM.getOffset(this.game.canvas,this.offset),U.Canvas.setUserSelect(this.game.canvas,"none"),U.Canvas.setTouchAction(this.game.canvas,"none"),this.checkVisibility()},U.Stage.prototype.preUpdate=function(){for(var e=this.currentRenderOrderID=0;e<this.children.length;e++)this.children[e].preUpdate()},U.Stage.prototype.update=function(){for(var e=this.children.length;e--;)this.children[e].update()},U.Stage.prototype.postUpdate=function(){this.game.camera.update(),this.game.camera.target&&(this.game.camera.target.postUpdate(),this.updateTransform(),this.game.camera.updateTarget());for(var e=0;e<this.children.length;e++)this.children[e].postUpdate();this.updateTransform()},U.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var e=0;e<this.children.length;e++)this.children[e].updateTransform()},U.Stage.prototype.checkVisibility=function(){void 0!==document.hidden?this._hiddenVar="visibilitychange":void 0!==document.webkitHidden?this._hiddenVar="webkitvisibilitychange":void 0!==document.mozHidden?this._hiddenVar="mozvisibilitychange":void 0!==document.msHidden?this._hiddenVar="msvisibilitychange":this._hiddenVar=null;var t=this;this._onChange=function(e){return t.visibilityChange(e)},this._hiddenVar&&document.addEventListener(this._hiddenVar,this._onChange,!1),window.onblur=this._onChange,window.onfocus=this._onChange,window.onpagehide=this._onChange,window.onpageshow=this._onChange,this.game.device.cocoonJSApp&&(CocoonJS.App.onSuspended.addEventListener(function(){U.Stage.prototype.visibilityChange.call(t,{type:"pause"})}),CocoonJS.App.onActivated.addEventListener(function(){U.Stage.prototype.visibilityChange.call(t,{type:"resume"})}))},U.Stage.prototype.visibilityChange=function(e){"pagehide"===e.type||"blur"===e.type||"pageshow"===e.type||"focus"===e.type?"pagehide"===e.type||"blur"===e.type?this.game.focusLoss(e):"pageshow"!==e.type&&"focus"!==e.type||this.game.focusGain(e):this.disableVisibilityChange||(document.hidden||document.mozHidden||document.msHidden||document.webkitHidden||"pause"===e.type?this.game.gamePaused(e):this.game.gameResumed(e))},U.Stage.prototype.setBackgroundColor=function(e){this.game.transparent||(U.Color.valueToColor(e,this._bgColor),U.Color.updateColor(this._bgColor),this._bgColor.r/=255,this._bgColor.g/=255,this._bgColor.b/=255,this._bgColor.a=1)},U.Stage.prototype.destroy=function(){this._hiddenVar&&document.removeEventListener(this._hiddenVar,this._onChange,!1),window.onpagehide=null,window.onpageshow=null,window.onblur=null,window.onfocus=null},Object.defineProperty(U.Stage.prototype,"backgroundColor",{get:function(){return this._bgColor.color},set:function(e){this.setBackgroundColor(e)}}),Object.defineProperty(U.Stage.prototype,"smoothed",{get:function(){return PIXI.scaleModes.DEFAULT===PIXI.scaleModes.LINEAR},set:function(e){PIXI.scaleModes.DEFAULT=e?PIXI.scaleModes.LINEAR:PIXI.scaleModes.NEAREST}}),U.Group=function(e,t,i,n,r,o){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=U.Physics.ARCADE),this.game=e,void 0===t&&(t=e.world),this.name=i||"group",this.z=0,PIXI.DisplayObjectContainer.call(this),n?(this.game.stage.addChild(this),this.z=this.game.stage.children.length):t&&(t.addChild(this),this.z=t.children.length),this.type=U.GROUP,this.physicsType=U.GROUP,this.alive=!0,this.exists=!0,this.ignoreDestroy=!1,this.pendingDestroy=!1,this.classType=U.Sprite,this.cursor=null,this.inputEnableChildren=!1,this.onChildInputDown=new U.Signal,this.onChildInputUp=new U.Signal,this.onChildInputOver=new U.Signal,this.onChildInputOut=new U.Signal,this.enableBody=r,this.enableBodyDebug=!1,this.physicsBodyType=o,this.physicsSortDirection=null,this.onDestroy=new U.Signal,this.cursorIndex=0,this.fixedToCamera=!1,this.cameraOffset=new U.Point,this.hash=[],this._sortProperty="z"},U.Group.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),U.Group.prototype.constructor=U.Group,U.Group.RETURN_NONE=0,U.Group.RETURN_TOTAL=1,U.Group.RETURN_CHILD=2,U.Group.RETURN_ALL=3,U.Group.SORT_ASCENDING=-1,U.Group.SORT_DESCENDING=1,U.Group.prototype.add=function(e,t,i){return void 0===t&&(t=!1),e.parent===this||(e.body&&e.parent&&e.parent.hash&&e.parent.removeFromHash(e),void 0===i?(e.z=this.children.length,this.addChild(e)):(this.addChildAt(e,i),this.updateZ()),this.enableBody&&e.hasOwnProperty("body")&&null===e.body?this.game.physics.enable(e,this.physicsBodyType):e.body&&this.addToHash(e),!this.inputEnableChildren||e.input&&!e.inputEnabled||(e.inputEnabled=!0),!t&&e.events&&e.events.onAddedToGroup$dispatch(e,this),null===this.cursor&&(this.cursor=e)),e},U.Group.prototype.addAt=function(e,t,i){this.add(e,i,t)},U.Group.prototype.addToHash=function(e){if(e.parent===this&&-1===this.hash.indexOf(e))return this.hash.push(e),!0;return!1},U.Group.prototype.removeFromHash=function(e){if(e){e=this.hash.indexOf(e);if(-1!==e)return this.hash.splice(e,1),!0}return!1},U.Group.prototype.addMultiple=function(e,t){if(e instanceof U.Group)e.moveAll(this,t);else if(Array.isArray(e))for(var i=0;i<e.length;i++)this.add(e[i],t);return e},U.Group.prototype.getAt=function(e){return e<0||e>=this.children.length?-1:this.getChildAt(e)},U.Group.prototype.create=function(e,t,i,n,r,o){void 0===r&&(r=!0);e=new this.classType(this.game,e,t,i,n);return e.exists=r,e.visible=r,e.alive=r,this.add(e,!1,o)},U.Group.prototype.createMultiple=function(n,e,t,r){void 0===t&&(t=0),void 0===r&&(r=!1),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);var o=this,a=[];return e.forEach(function(i){t.forEach(function(e){for(var t=0;t<n;t++)a.push(o.create(0,0,i,e,r))})}),a},U.Group.prototype.updateZ=function(){for(var e=this.children.length;e--;)this.children[e].z=e},U.Group.prototype.align=function(e,t,i,n,r,o){if(void 0===r&&(r=U.TOP_LEFT),void 0===o&&(o=0),0===this.children.length||o>this.children.length||-1===e&&-1===t)return!1;for(var a=new U.Rectangle(0,0,i,n),s=e*i,p=t*n,l=o;l<this.children.length;l++){var h=this.children[l];if(h.alignIn)if(h.alignIn(a,r),-1===e)a.y+=n,a.y===p&&(a.x+=i,a.y=0);else if(-1===t)a.x+=i,a.x===s&&(a.x=0,a.y+=n);else if(a.x+=i,a.x===s&&(a.x=0,a.y+=n,a.y===p))return!0}return!0},U.Group.prototype.resetCursor=function(e){if((e=void 0===e?0:e)>this.children.length-1&&(e=0),this.cursor)return this.cursorIndex=e,this.cursor=this.children[this.cursorIndex],this.cursor},U.Group.prototype.next=function(){if(this.cursor)return this.cursorIndex>=this.children.length-1?this.cursorIndex=0:this.cursorIndex++,this.cursor=this.children[this.cursorIndex],this.cursor},U.Group.prototype.previous=function(){if(this.cursor)return 0===this.cursorIndex?this.cursorIndex=this.children.length-1:this.cursorIndex--,this.cursor=this.children[this.cursorIndex],this.cursor},U.Group.prototype.swap=function(e,t){this.swapChildren(e,t),this.updateZ()},U.Group.prototype.bringToTop=function(e){return e.parent===this&&this.getIndex(e)<this.children.length&&(this.remove(e,!1,!0),this.add(e,!0)),e},U.Group.prototype.sendToBack=function(e){return e.parent===this&&0<this.getIndex(e)&&(this.remove(e,!1,!0),this.addAt(e,0,!0)),e},U.Group.prototype.moveUp=function(e){var t;return e.parent===this&&this.getIndex(e)<this.children.length-1&&(t=this.getIndex(e),(t=this.getAt(t+1))&&this.swap(e,t)),e},U.Group.prototype.moveDown=function(e){var t;return e.parent===this&&0<this.getIndex(e)&&(t=this.getIndex(e),(t=this.getAt(t-1))&&this.swap(e,t)),e},U.Group.prototype.xy=function(e,t,i){if(e<0||e>this.children.length)return-1;this.getChildAt(e).x=t,this.getChildAt(e).y=i},U.Group.prototype.reverse=function(){this.children.reverse(),this.updateZ()},U.Group.prototype.getIndex=function(e){return this.children.indexOf(e)},U.Group.prototype.getByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null},U.Group.prototype.replace=function(e,t){var i=this.getIndex(e);if(-1!==i)return t.parent&&(t.parent instanceof U.Group?t.parent.remove(t):t.parent.removeChild(t)),this.remove(e),this.addAt(t,i),e},U.Group.prototype.hasProperty=function(e,t){var i=t.length;return 1===i&&t[0]in e||(2===i&&t[0]in e&&t[1]in e[t[0]]||(3===i&&t[0]in e&&t[1]in e[t[0]]&&t[2]in e[t[0]][t[1]]||4===i&&t[0]in e&&t[1]in e[t[0]]&&t[2]in e[t[0]][t[1]]&&t[3]in e[t[0]][t[1]][t[2]]))},U.Group.prototype.setProperty=function(e,t,i,n,r){if(void 0===r&&(r=!1),n=n||0,!this.hasProperty(e,t)&&(!r||0<n))return!1;r=t.length;return 1===r?0===n?e[t[0]]=i:1===n?e[t[0]]+=i:2===n?e[t[0]]-=i:3===n?e[t[0]]*=i:4===n&&(e[t[0]]/=i):2===r?0===n?e[t[0]][t[1]]=i:1===n?e[t[0]][t[1]]+=i:2===n?e[t[0]][t[1]]-=i:3===n?e[t[0]][t[1]]*=i:4===n&&(e[t[0]][t[1]]/=i):3===r?0===n?e[t[0]][t[1]][t[2]]=i:1===n?e[t[0]][t[1]][t[2]]+=i:2===n?e[t[0]][t[1]][t[2]]-=i:3===n?e[t[0]][t[1]][t[2]]*=i:4===n&&(e[t[0]][t[1]][t[2]]/=i):4===r&&(0===n?e[t[0]][t[1]][t[2]][t[3]]=i:1===n?e[t[0]][t[1]][t[2]][t[3]]+=i:2===n?e[t[0]][t[1]][t[2]][t[3]]-=i:3===n?e[t[0]][t[1]][t[2]][t[3]]*=i:4===n&&(e[t[0]][t[1]][t[2]][t[3]]/=i)),!0},U.Group.prototype.checkProperty=function(e,t,i,n){return void 0===n&&(n=!1),!(!U.Utils.getProperty(e,t)&&n)&&U.Utils.getProperty(e,t)===i},U.Group.prototype.set=function(e,t,i,n,r,o,a){if(void 0===a&&(a=!1),t=t.split("."),void 0===r&&(r=!1),(!1===(n=void 0===n?!1:n)||n&&e.alive)&&(!1===r||r&&e.visible))return this.setProperty(e,t,i,o,a)},U.Group.prototype.setAll=function(e,t,i,n,r,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),e=e.split("."),r=r||0;for(var a=0;a<this.children.length;a++)i&&!this.children[a].alive||n&&!this.children[a].visible||this.setProperty(this.children[a],e,t,r,o)},U.Group.prototype.setAllChildren=function(e,t,i,n,r,o){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),r=r||0;for(var a=0;a<this.children.length;a++)i&&!this.children[a].alive||n&&!this.children[a].visible||(this.children[a]instanceof U.Group?this.children[a].setAllChildren(e,t,i,n,r,o):this.setProperty(this.children[a],e.split("."),t,r,o))},U.Group.prototype.checkAll=function(e,t,i,n,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=!1);for(var o=0;o<this.children.length;o++)if((!i||this.children[o].alive)&&(!n||this.children[o].visible)&&!this.checkProperty(this.children[o],e,t,r))return!1;return!0},U.Group.prototype.addAll=function(e,t,i,n){this.setAll(e,t,i,n,1)},U.Group.prototype.subAll=function(e,t,i,n){this.setAll(e,t,i,n,2)},U.Group.prototype.multiplyAll=function(e,t,i,n){this.setAll(e,t,i,n,3)},U.Group.prototype.divideAll=function(e,t,i,n){this.setAll(e,t,i,n,4)},U.Group.prototype.callAllExists=function(e,t){if(2<arguments.length)for(var i=[],n=2;n<arguments.length;n++)i.push(arguments[n]);for(n=0;n<this.children.length;n++)this.children[n].exists===t&&this.children[n][e]&&this.children[n][e].apply(this.children[n],i)},U.Group.prototype.callbackFromArray=function(e,t,i){if(1===i){if(e[t[0]])return e[t[0]]}else if(2===i){if(e[t[0]][t[1]])return e[t[0]][t[1]]}else if(3===i){if(e[t[0]][t[1]][t[2]])return e[t[0]][t[1]][t[2]]}else if(4===i){if(e[t[0]][t[1]][t[2]][t[3]])return e[t[0]][t[1]][t[2]][t[3]]}else if(e[t])return e[t];return!1},U.Group.prototype.callAll=function(e,t){if(void 0!==e){var i,n=(e=e.split(".")).length;if(null==t||""===t?t=null:"string"==typeof t&&(i=(t=t.split(".")).length),2<arguments.length)for(var r=[],o=2;o<arguments.length;o++)r.push(arguments[o]);for(var a,s=null,o=0;o<this.children.length;o++)s=this.callbackFromArray(this.children[o],e,n),t&&s?(a=this.callbackFromArray(this.children[o],t,i),s&&s.apply(a,r)):s&&s.apply(this.children[o],r)}},U.Group.prototype.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(!this.exists||!this.parent.exists)return!(this.renderOrderID=-1);for(var e=0;e<this.children.length;e++)this.children[e].preUpdate();return!0},U.Group.prototype.update=function(){for(var e=this.children.length;e--;)this.children[e].update()},U.Group.prototype.postUpdate=function(){this.fixedToCamera&&(this.x=this.game.camera.view.x+this.cameraOffset.x,this.y=this.game.camera.view.y+this.cameraOffset.y);for(var e=0;e<this.children.length;e++)this.children[e].postUpdate()},U.Group.prototype.filter=function(e,t){for(var i=-1,n=this.children.length,r=[];++i<n;){var o=this.children[i];t&&!o.exists||e(o,i,this.children)&&r.push(o)}return new U.ArraySet(r)},U.Group.prototype.forEach=function(e,t,i){if(void 0===i&&(i=!1),arguments.length<=3)for(var n=0;n<this.children.length;n++)i&&!this.children[n].exists||e.call(t,this.children[n]);else{for(var r=[null],n=3;n<arguments.length;n++)r.push(arguments[n]);for(n=0;n<this.children.length;n++)i&&!this.children[n].exists||(r[0]=this.children[n],e.apply(t,r))}},U.Group.prototype.forEachExists=function(e,t){if(2<arguments.length)for(var i=[null],n=2;n<arguments.length;n++)i.push(arguments[n]);this.iterate("exists",!0,U.Group.RETURN_TOTAL,e,t,i)},U.Group.prototype.forEachAlive=function(e,t){if(2<arguments.length)for(var i=[null],n=2;n<arguments.length;n++)i.push(arguments[n]);this.iterate("alive",!0,U.Group.RETURN_TOTAL,e,t,i)},U.Group.prototype.forEachDead=function(e,t){if(2<arguments.length)for(var i=[null],n=2;n<arguments.length;n++)i.push(arguments[n]);this.iterate("alive",!1,U.Group.RETURN_TOTAL,e,t,i)},U.Group.prototype.sort=function(e,t){this.children.length<2||(void 0===t&&(t=U.Group.SORT_ASCENDING),this._sortProperty=e=void 0===e?"z":e,t===U.Group.SORT_ASCENDING?this.children.sort(this.ascendingSortHandler.bind(this)):this.children.sort(this.descendingSortHandler.bind(this)),this.updateZ())},U.Group.prototype.customSort=function(e,t){this.children.length<2||(this.children.sort(e.bind(t)),this.updateZ())},U.Group.prototype.ascendingSortHandler=function(e,t){return e[this._sortProperty]<t[this._sortProperty]||!(e[this._sortProperty]>t[this._sortProperty])&&e.z<t.z?-1:1},U.Group.prototype.descendingSortHandler=function(e,t){return e[this._sortProperty]<t[this._sortProperty]?1:e[this._sortProperty]>t[this._sortProperty]?-1:0},U.Group.prototype.iterate=function(e,t,i,n,r,o){if(0===this.children.length){if(i===U.Group.RETURN_TOTAL)return 0;if(i===U.Group.RETURN_ALL)return[]}var a,s=0;i===U.Group.RETURN_ALL&&(a=[]);for(var p=0;p<this.children.length;p++)if(this.children[p][e]===t){if(s++,n&&(o?(o[0]=this.children[p],n.apply(r,o)):n.call(r,this.children[p])),i===U.Group.RETURN_CHILD)return this.children[p];i===U.Group.RETURN_ALL&&a.push(this.children[p])}return i===U.Group.RETURN_TOTAL?s:i===U.Group.RETURN_ALL?a:null},U.Group.prototype.getFirstExists=function(e,t,i,n,r,o){void 0===t&&(t=!1);e=this.iterate("exists",e="boolean"!=typeof e?!0:e,U.Group.RETURN_CHILD);return null===e&&t?this.create(i,n,r,o):this.resetChild(e,i,n,r,o)},U.Group.prototype.getFirstAlive=function(e,t,i,n,r){void 0===e&&(e=!1);var o=this.iterate("alive",!0,U.Group.RETURN_CHILD);return null===o&&e?this.create(t,i,n,r):this.resetChild(o,t,i,n,r)},U.Group.prototype.getFirstDead=function(e,t,i,n,r){void 0===e&&(e=!1);var o=this.iterate("alive",!1,U.Group.RETURN_CHILD);return null===o&&e?this.create(t,i,n,r):this.resetChild(o,t,i,n,r)},U.Group.prototype.resetChild=function(e,t,i,n,r){return null===e?null:(void 0===i&&(i=null),null!==(t=void 0===t?null:t)&&null!==i&&e.reset(t,i),void 0!==n&&e.loadTexture(n,r),e)},U.Group.prototype.getTop=function(){if(0<this.children.length)return this.children[this.children.length-1]},U.Group.prototype.getBottom=function(){if(0<this.children.length)return this.children[0]},U.Group.prototype.getClosestTo=function(e,t,i){for(var n,r=Number.MAX_VALUE,o=null,a=0;a<this.children.length;a++){var s=this.children[a];s.exists&&(n=Math.abs(U.Point.distance(e,s)))<r&&(!t||t.call(i,s,n))&&(r=n,o=s)}return o},U.Group.prototype.getFurthestFrom=function(e,t,i){for(var n,r=0,o=null,a=0;a<this.children.length;a++){var s=this.children[a];s.exists&&r<(n=Math.abs(U.Point.distance(e,s)))&&(!t||t.call(i,s,n))&&(r=n,o=s)}return o},U.Group.prototype.countLiving=function(){return this.iterate("alive",!0,U.Group.RETURN_TOTAL)},U.Group.prototype.countDead=function(){return this.iterate("alive",!1,U.Group.RETURN_TOTAL)},U.Group.prototype.getRandom=function(e,t){return void 0===e&&(e=0),0===(t=void 0===t?this.children.length:t)?null:U.ArrayUtils.getRandomItem(this.children,e,t)},U.Group.prototype.getRandomExists=function(e,t){e=this.getAll("exists",!0,e,t);return this.game.rnd.pick(e)},U.Group.prototype.getAll=function(e,t,i,n){void 0===n&&(n=this.children.length);for(var r=[],o=i=void 0===i?0:i;o<n;o++){var a=this.children[o];e&&a[e]===t&&r.push(a)}return r},U.Group.prototype.remove=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),0===this.children.length||-1===this.children.indexOf(e))return!1;i||!e.events||e.destroyPhase||e.events.onRemovedFromGroup$dispatch(e,this);i=this.removeChild(e);return this.removeFromHash(e),this.updateZ(),this.cursor===e&&this.next(),t&&i&&i.destroy(!0),!0},U.Group.prototype.moveAll=function(e,t){if(void 0===t&&(t=!1),0<this.children.length&&e instanceof U.Group){for(;e.add(this.children[0],t),0<this.children.length;);this.hash=[],this.cursor=null}return e},U.Group.prototype.removeAll=function(e,t,i){if(void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===i&&(i=!1),0!==this.children.length){do{!t&&this.children[0].events&&this.children[0].events.onRemovedFromGroup$dispatch(this.children[0],this);var n=this.removeChild(this.children[0])}while(this.removeFromHash(n),e&&n&&n.destroy(!0,i),0<this.children.length);this.hash=[],this.cursor=null}},U.Group.prototype.removeBetween=function(e,t,i,n){if(void 0===t&&(t=this.children.length-1),void 0===i&&(i=!1),void 0===n&&(n=!1),0!==this.children.length){if(t<e||e<0||t>this.children.length)return!1;for(var r=t;e<=r;){!n&&this.children[r].events&&this.children[r].events.onRemovedFromGroup$dispatch(this.children[r],this);var o=this.removeChild(this.children[r]);this.removeFromHash(o),i&&o&&o.destroy(!0),this.cursor===this.children[r]&&(this.cursor=null),r--}this.updateZ()}},U.Group.prototype.destroy=function(e,t){null===this.game||this.ignoreDestroy||(this.onDestroy.dispatch(this,e=void 0===e?!0:e,t=void 0===t?!1:t),this.removeAll(e),this.cursor=null,this.filters=null,this.pendingDestroy=!1,t||(this.parent&&this.parent.removeChild(this),this.game=null,this.exists=!1))},Object.defineProperty(U.Group.prototype,"total",{get:function(){return this.iterate("exists",!0,U.Group.RETURN_TOTAL)}}),Object.defineProperty(U.Group.prototype,"length",{get:function(){return this.children.length}}),Object.defineProperty(U.Group.prototype,"angle",{get:function(){return U.Math.radToDeg(this.rotation)},set:function(e){this.rotation=U.Math.degToRad(e)}}),Object.defineProperty(U.Group.prototype,"centerX",{get:function(){return this.getBounds(this.parent).centerX},set:function(e){var t=this.getBounds(this.parent),i=this.x-t.x;this.x=e+i-t.halfWidth}}),Object.defineProperty(U.Group.prototype,"centerY",{get:function(){return this.getBounds(this.parent).centerY},set:function(e){var t=this.getBounds(this.parent),i=this.y-t.y;this.y=e+i-t.halfHeight}}),Object.defineProperty(U.Group.prototype,"left",{get:function(){return this.getBounds(this.parent).left},set:function(e){var t=this.getBounds(this.parent),t=this.x-t.x;this.x=e+t}}),Object.defineProperty(U.Group.prototype,"right",{get:function(){return this.getBounds(this.parent).right},set:function(e){var t=this.getBounds(this.parent),i=this.x-t.x;this.x=e+i-t.width}}),Object.defineProperty(U.Group.prototype,"top",{get:function(){return this.getBounds(this.parent).top},set:function(e){var t=this.getBounds(this.parent),t=this.y-t.y;this.y=e+t}}),Object.defineProperty(U.Group.prototype,"bottom",{get:function(){return this.getBounds(this.parent).bottom},set:function(e){var t=this.getBounds(this.parent),i=this.y-t.y;this.y=e+i-t.height}}),U.World=function(e){U.Group.call(this,e,null,"__world",!1),this.bounds=new U.Rectangle(0,0,e.width,e.height),this.camera=null,this._definedSize=!1,this._width=e.width,this._height=e.height,this.game.state.onStateChange.add(this.stateChange,this)},U.World.prototype=Object.create(U.Group.prototype),U.World.prototype.constructor=U.World,U.World.prototype.boot=function(){this.camera=new U.Camera(this.game,0,0,0,this.game.width,this.game.height),this.game.stage.addChild(this),this.camera.boot()},U.World.prototype.stateChange=function(){this.x=0,this.y=0,this.camera.reset()},U.World.prototype.setBounds=function(e,t,i,n){this._definedSize=!0,this._width=i,this._height=n,this.bounds.setTo(e,t,i,n),this.x=e,this.y=t,this.camera.bounds&&this.camera.bounds.setTo(e,t,Math.max(i,this.game.width),Math.max(n,this.game.height)),this.game.physics.setBoundsToWorld()},U.World.prototype.resize=function(e,t){this._definedSize&&(e<this._width&&(e=this._width),t<this._height&&(t=this._height)),this.bounds.width=e,this.bounds.height=t,this.game.camera.setBoundsToWorld(),this.game.physics.setBoundsToWorld()},U.World.prototype.shutdown=function(){this.destroy(!0,!0)},U.World.prototype.wrap=function(e,t,i,n,r){void 0===t&&(t=0),void 0===n&&(n=!0),void 0===r&&(r=!0),(i=void 0===i?!1:i)?(e.getBounds(),n&&(e.x+e._currentBounds.width<this.bounds.x?e.x=this.bounds.right:e.x>this.bounds.right&&(e.x=this.bounds.left)),r&&(e.y+e._currentBounds.height<this.bounds.top?e.y=this.bounds.bottom:e.y>this.bounds.bottom&&(e.y=this.bounds.top))):(n&&e.x+t<this.bounds.x?e.x=this.bounds.right+t:n&&e.x-t>this.bounds.right&&(e.x=this.bounds.left-t),r&&e.y+t<this.bounds.top?e.y=this.bounds.bottom+t:r&&e.y-t>this.bounds.bottom&&(e.y=this.bounds.top-t))},Object.defineProperty(U.World.prototype,"width",{get:function(){return this.bounds.width},set:function(e){e<this.game.width&&(e=this.game.width),this.bounds.width=e,this._width=e,this._definedSize=!0}}),Object.defineProperty(U.World.prototype,"height",{get:function(){return this.bounds.height},set:function(e){e<this.game.height&&(e=this.game.height),this.bounds.height=e,this._height=e,this._definedSize=!0}}),Object.defineProperty(U.World.prototype,"centerX",{get:function(){return this.bounds.halfWidth+this.bounds.x}}),Object.defineProperty(U.World.prototype,"centerY",{get:function(){return this.bounds.halfHeight+this.bounds.y}}),Object.defineProperty(U.World.prototype,"randomX",{get:function(){return this.bounds.x<0?this.game.rnd.between(this.bounds.x,this.bounds.width-Math.abs(this.bounds.x)):this.game.rnd.between(this.bounds.x,this.bounds.width)}}),Object.defineProperty(U.World.prototype,"randomY",{get:function(){return this.bounds.y<0?this.game.rnd.between(this.bounds.y,this.bounds.height-Math.abs(this.bounds.y)):this.game.rnd.between(this.bounds.y,this.bounds.height)}}),U.Game=function(e,t,i,n,r,o,a,s){return this.id=U.GAMES.push(this)-1,this.config=null,this.physicsConfig=s,this.parent="",this.width=800,this.height=600,this.resolution=1,this._width=800,this._height=600,this.transparent=!1,this.antialias=!0,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!0,this.renderer=null,this.renderType=U.AUTO,this.state=null,this.isBooted=!1,this.isRunning=!1,this.raf=null,this.add=null,this.make=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.net=null,this.scale=null,this.sound=null,this.stage=null,this.time=null,this.tweens=null,this.world=null,this.physics=null,this.plugins=null,this.rnd=null,this.device=U.Device,this.camera=null,this.canvas=null,this.context=null,this.debug=null,this.particles=null,this.create=null,this.lockRender=!1,this.stepping=!1,this.pendingStep=!1,this.stepCount=0,this.onPause=null,this.onResume=null,this.onBlur=null,this.onFocus=null,this._paused=!1,this._codePaused=!1,this.currentUpdateID=0,this.updatesThisFrame=1,this._deltaTime=0,this._lastCount=0,this._spiraling=0,this._kickstart=!0,this.fpsProblemNotifier=new U.Signal,this.forceSingleUpdate=!0,this._nextFpsNotification=0,1===arguments.length&&"object"==typeof e?this.parseConfig(e):(this.config={enableDebug:!0},void 0!==e&&(this._width=e),void 0!==t&&(this._height=t),void 0!==i&&(this.renderType=i),void 0!==n&&(this.parent=n),void 0!==o&&(this.transparent=o),void 0!==a&&(this.antialias=a),this.rnd=new U.RandomDataGenerator([(Date.now()*Math.random()).toString()]),this.state=new U.StateManager(this,r)),this.device.whenReady(this.boot,this),this},U.Game.prototype={parseConfig:function(e){void 0===(this.config=e).enableDebug&&(this.config.enableDebug=!0),e.width&&(this._width=e.width),e.height&&(this._height=e.height),e.renderer&&(this.renderType=e.renderer),e.parent&&(this.parent=e.parent),void 0!==e.transparent&&(this.transparent=e.transparent),void 0!==e.antialias&&(this.antialias=e.antialias),e.resolution&&(this.resolution=e.resolution),void 0!==e.preserveDrawingBuffer&&(this.preserveDrawingBuffer=e.preserveDrawingBuffer),e.physicsConfig&&(this.physicsConfig=e.physicsConfig);var t=[(Date.now()*Math.random()).toString()],t=(e.seed&&(t=e.seed),this.rnd=new U.RandomDataGenerator(t),null);e.state&&(t=e.state),this.state=new U.StateManager(this,t)},boot:function(){this.isBooted||(this.onPause=new U.Signal,this.onResume=new U.Signal,this.onBlur=new U.Signal,this.onFocus=new U.Signal,this.isBooted=!0,(PIXI.game=this).math=U.Math,this.scale=new U.ScaleManager(this,this._width,this._height),this.stage=new U.Stage(this),this.setUpRenderer(),this.world=new U.World(this),this.add=new U.GameObjectFactory(this),this.make=new U.GameObjectCreator(this),this.cache=new U.Cache(this),this.load=new U.Loader(this),this.time=new U.Time(this),this.tweens=new U.TweenManager(this),this.input=new U.Input(this),this.sound=new U.SoundManager(this),this.physics=new U.Physics(this,this.physicsConfig),this.particles=new U.Particles(this),this.create=new U.Create(this),this.plugins=new U.PluginManager(this),this.net=new U.Net(this),this.time.boot(),this.stage.boot(),this.world.boot(),this.scale.boot(),this.input.boot(),this.sound.boot(),this.state.boot(),this.config.enableDebug?(this.debug=new U.Utils.Debug(this),this.debug.boot()):this.debug={preUpdate:function(){},update:function(){},reset:function(){}},this.showDebugHeader(),this.isRunning=!0,this.config&&this.config.forceSetTimeOut?this.raf=new U.RequestAnimationFrame(this,this.config.forceSetTimeOut):this.raf=new U.RequestAnimationFrame(this,!1),this._kickstart=!0,window.focus&&(!window.PhaserGlobal||window.PhaserGlobal&&!window.PhaserGlobal.stopFocus)&&window.focus(),this.raf.start())},showDebugHeader:function(){if(!window.PhaserGlobal||!window.PhaserGlobal.hideBanner){var e=U.VERSION,t="Canvas",i="HTML Audio",n=1;if(this.renderType===U.WEBGL?(t="WebGL",n++):this.renderType===U.HEADLESS&&(t="Headless"),this.device.webAudio&&(i="WebAudio",n++),this.device.chrome)for(var r=["%c %c %c Phaser v"+e+" | Pixi.js | "+t+" | "+i+"  %c %c %c http://phaser.io %c♥%c♥%c♥","background: #fb8cb3","background: #d44a52","color: #ffffff; background: #871905;","background: #d44a52","background: #fb8cb3","background: #ffffff"],o=0;o<3;o++)o<n?r.push("color: #ff2424; background: #fff"):r.push("color: #959595; background: #fff");else window.console}},setUpRenderer:function(){if(this.config.canvas?this.canvas=this.config.canvas:this.canvas=U.Canvas.create(this,this.width,this.height,this.config.canvasID,!0),this.config.canvasStyle?this.canvas.style=this.config.canvasStyle:this.canvas.style["-webkit-full-screen"]="width: 100%; height: 100%",this.renderType===U.HEADLESS||this.renderType===U.CANVAS||this.renderType===U.AUTO&&!this.device.webGL){if(!this.device.canvas)throw new Error("Phaser.Game - Cannot create Canvas or WebGL context, aborting.");this.renderType=U.CANVAS,this.renderer=new PIXI.CanvasRenderer(this),this.context=this.renderer.context}else this.renderType=U.WEBGL,this.renderer=new PIXI.WebGLRenderer(this),this.context=null,this.canvas.addEventListener("webglcontextlost",this.contextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestored.bind(this),!1);this.device.cocoonJS&&(this.canvas.screencanvas=this.renderType===U.CANVAS),this.renderType!==U.HEADLESS&&(this.stage.smoothed=this.antialias,U.Canvas.addToDOM(this.canvas,this.parent,!1),U.Canvas.setTouchAction(this.canvas))},contextLost:function(e){e.preventDefault(),this.renderer.contextLost=!0},contextRestored:function(){this.renderer.initContext(),this.cache.clearGLTextures(),this.renderer.contextLost=!1},update:function(e){if(this.time.update(e),this._kickstart)return this.updateLogic(this.time.desiredFpsMult),this.updateRender(this.time.slowMotion*this.time.desiredFps),void(this._kickstart=!1);if(1<this._spiraling&&!this.forceSingleUpdate)this.time.time>this._nextFpsNotification&&(this._nextFpsNotification=this.time.time+1e4,this.fpsProblemNotifier.dispatch()),this._deltaTime=0,this._spiraling=0,this.updateRender(this.time.slowMotion*this.time.desiredFps);else{var t=1e3*this.time.slowMotion/this.time.desiredFps,i=(this._deltaTime+=Math.max(Math.min(3*t,this.time.elapsed),0),0);for(this.updatesThisFrame=Math.floor(this._deltaTime/t),this.forceSingleUpdate&&(this.updatesThisFrame=Math.min(1,this.updatesThisFrame));this._deltaTime>=t&&(this._deltaTime-=t,this.currentUpdateID=i,this.updateLogic(this.time.desiredFpsMult),i++,!this.forceSingleUpdate||1!==i);)this.time.refresh();i>this._lastCount?this._spiraling++:i<this._lastCount&&(this._spiraling=0),this._lastCount=i,this.updateRender(this._deltaTime/t)}},updateLogic:function(e){this._paused||this.pendingStep?(this.scale.pauseUpdate(),this.state.pauseUpdate(),this.debug.preUpdate()):(this.stepping&&(this.pendingStep=!0),this.scale.preUpdate(),this.debug.preUpdate(),this.camera.preUpdate(),this.physics.preUpdate(),this.state.preUpdate(e),this.plugins.preUpdate(e),this.stage.preUpdate(),this.state.update(),this.stage.update(),this.tweens.update(),this.sound.update(),this.input.update(),this.physics.update(),this.particles.update(),this.plugins.update(),this.stage.postUpdate(),this.plugins.postUpdate()),this.stage.updateTransform()},updateRender:function(e){this.lockRender||(this.state.preRender(e),this.renderType!==U.HEADLESS&&(this.renderer.render(this.stage),this.plugins.render(e),this.state.render(e)),this.plugins.postRender(e))},enableStep:function(){this.stepping=!0,this.pendingStep=!1,this.stepCount=0},disableStep:function(){this.stepping=!1,this.pendingStep=!1},step:function(){this.pendingStep=!1,this.stepCount++},destroy:function(){this.raf.stop(),this.state.destroy(),this.sound.destroy(),this.scale.destroy(),this.stage.destroy(),this.input.destroy(),this.physics.destroy(),this.plugins.destroy(),this.state=null,this.sound=null,this.scale=null,this.stage=null,this.input=null,this.physics=null,this.plugins=null,this.cache=null,this.load=null,this.time=null,this.world=null,this.isBooted=!1,this.renderer.destroy(!1),U.Canvas.removeFromDOM(this.canvas),PIXI.defaultRenderer=null,U.GAMES[this.id]=null},gamePaused:function(e){this._paused||(this._paused=!0,this.time.gamePaused(),this.sound.muteOnPause&&this.sound.setMute(),this.onPause.dispatch(e),this.device.cordova&&this.device.iOS&&(this.lockRender=!0))},gameResumed:function(e){this._paused&&!this._codePaused&&(this._paused=!1,this.time.gameResumed(),this.input.reset(),this.sound.muteOnPause&&this.sound.unsetMute(),this.onResume.dispatch(e),this.device.cordova&&this.device.iOS&&(this.lockRender=!1))},focusLoss:function(e){this.onBlur.dispatch(e),this.stage.disableVisibilityChange||this.gamePaused(e)},focusGain:function(e){this.onFocus.dispatch(e),this.stage.disableVisibilityChange||this.gameResumed(e)}},U.Game.prototype.constructor=U.Game,Object.defineProperty(U.Game.prototype,"paused",{get:function(){return this._paused},set:function(e){!0===e?(!1===this._paused&&(this._paused=!0,this.sound.setMute(),this.time.gamePaused(),this.onPause.dispatch(this)),this._codePaused=!0):(this._paused&&(this._paused=!1,this.input.reset(),this.sound.unsetMute(),this.time.gameResumed(),this.onResume.dispatch(this)),this._codePaused=!1)}}),U.Input=function(e){this.game=e,this.hitCanvas=null,this.hitContext=null,this.moveCallbacks=[],this.customCandidateHandler=null,this.customCandidateHandlerContext=null,this.pollRate=0,this.enabled=!0,this.multiInputOverride=U.Input.MOUSE_TOUCH_COMBINE,this.position=null,this.speed=null,this.circle=null,this.scale=null,this.maxPointers=-1,this.tapRate=200,this.doubleTapRate=300,this.holdRate=2e3,this.justPressedRate=200,this.justReleasedRate=200,this.recordPointerHistory=!1,this.recordRate=100,this.recordLimit=100,this.pointer1=null,this.pointer2=null,this.pointer3=null,this.pointer4=null,this.pointer5=null,this.pointer6=null,this.pointer7=null,this.pointer8=null,this.pointer9=null,this.pointer10=null,this.pointers=[],this.activePointer=null,this.mousePointer=null,this.mouse=null,this.keyboard=null,this.touch=null,this.mspointer=null,this.gamepad=null,this.resetLocked=!1,this.onDown=null,this.onUp=null,this.onTap=null,this.onHold=null,this.minPriorityID=0,this.interactiveItems=new U.ArraySet,this._localPoint=new U.Point,this._pollCounter=0,this._oldPosition=null,this._x=0,this._y=0},U.Input.MOUSE_OVERRIDES_TOUCH=0,U.Input.TOUCH_OVERRIDES_MOUSE=1,U.Input.MOUSE_TOUCH_COMBINE=2,U.Input.MAX_POINTERS=10,U.Input.prototype={boot:function(){this.mousePointer=new U.Pointer(this.game,0,U.PointerMode.CURSOR),this.addPointer(),this.addPointer(),this.mouse=new U.Mouse(this.game),this.touch=new U.Touch(this.game),this.mspointer=new U.MSPointer(this.game),U.Keyboard&&(this.keyboard=new U.Keyboard(this.game)),U.Gamepad&&(this.gamepad=new U.Gamepad(this.game)),this.onDown=new U.Signal,this.onUp=new U.Signal,this.onTap=new U.Signal,this.onHold=new U.Signal,this.scale=new U.Point(1,1),this.speed=new U.Point,this.position=new U.Point,this._oldPosition=new U.Point,this.circle=new U.Circle(0,0,44),this.activePointer=this.mousePointer,this.hitCanvas=PIXI.CanvasPool.create(this,1,1),this.hitContext=this.hitCanvas.getContext("2d"),this.mouse.start(),this.touch.start(),this.mspointer.start(),this.mousePointer.active=!0,this.keyboard&&this.keyboard.start();var t=this;this._onClickTrampoline=function(e){t.onClickTrampoline(e)},this.game.canvas.addEventListener("click",this._onClickTrampoline,!1)},destroy:function(){this.mouse.stop(),this.touch.stop(),this.mspointer.stop(),this.keyboard&&this.keyboard.stop(),this.gamepad&&this.gamepad.stop(),this.moveCallbacks=[],PIXI.CanvasPool.remove(this),this.game.canvas.removeEventListener("click",this._onClickTrampoline)},setInteractiveCandidateHandler:function(e,t){this.customCandidateHandler=e,this.customCandidateHandlerContext=t},addMoveCallback:function(e,t){this.moveCallbacks.push({callback:e,context:t})},deleteMoveCallback:function(e,t){for(var i=this.moveCallbacks.length;i--;)if(this.moveCallbacks[i].callback===e&&this.moveCallbacks[i].context===t)return void this.moveCallbacks.splice(i,1)},addPointer:function(){if(this.pointers.length>=U.Input.MAX_POINTERS)return null;var e=this.pointers.length+1,t=new U.Pointer(this.game,e,U.PointerMode.TOUCH);return this.pointers.push(t),this["pointer"+e]=t},update:function(){if(this.keyboard&&this.keyboard.update(),0<this.pollRate&&this._pollCounter<this.pollRate)this._pollCounter++;else{this.speed.x=this.position.x-this._oldPosition.x,this.speed.y=this.position.y-this._oldPosition.y,this._oldPosition.copyFrom(this.position),this.mousePointer.update(),this.gamepad&&this.gamepad.active&&this.gamepad.update();for(var e=0;e<this.pointers.length;e++)this.pointers[e].update();this._pollCounter=0}},reset:function(e){if(this.game.isBooted&&!this.resetLocked){void 0===e&&(e=!1),this.mousePointer.reset(),this.keyboard&&this.keyboard.reset(e),this.gamepad&&this.gamepad.reset();for(var t=0;t<this.pointers.length;t++)this.pointers[t].reset();"none"!==this.game.canvas.style.cursor&&(this.game.canvas.style.cursor="inherit"),e&&(this.onDown.dispose(),this.onUp.dispose(),this.onTap.dispose(),this.onHold.dispose(),this.onDown=new U.Signal,this.onUp=new U.Signal,this.onTap=new U.Signal,this.onHold=new U.Signal,this.moveCallbacks=[]),this._pollCounter=0}},resetSpeed:function(e,t){this._oldPosition.setTo(e,t),this.speed.setTo(0,0)},startPointer:function(e){if(0<=this.maxPointers&&this.countActivePointers(this.maxPointers)>=this.maxPointers)return null;if(!this.pointer1.active)return this.pointer1.start(e);if(!this.pointer2.active)return this.pointer2.start(e);for(var t=2;t<this.pointers.length;t++){var i=this.pointers[t];if(!i.active)return i.start(e)}return null},updatePointer:function(e){if(this.pointer1.active&&this.pointer1.identifier===e.identifier)return this.pointer1.move(e);if(this.pointer2.active&&this.pointer2.identifier===e.identifier)return this.pointer2.move(e);for(var t=2;t<this.pointers.length;t++){var i=this.pointers[t];if(i.active&&i.identifier===e.identifier)return i.move(e)}return null},stopPointer:function(e){if(this.pointer1.active&&this.pointer1.identifier===e.identifier)return this.pointer1.stop(e);if(this.pointer2.active&&this.pointer2.identifier===e.identifier)return this.pointer2.stop(e);for(var t=2;t<this.pointers.length;t++){var i=this.pointers[t];if(i.active&&i.identifier===e.identifier)return i.stop(e)}return null},countActivePointers:function(e){for(var t=e=void 0===e?this.pointers.length:e,i=0;i<this.pointers.length&&0<t;i++)this.pointers[i].active&&t--;return e-t},getPointer:function(e){void 0===e&&(e=!1);for(var t=0;t<this.pointers.length;t++){var i=this.pointers[t];if(i.active===e)return i}return null},getPointerFromIdentifier:function(e){for(var t=0;t<this.pointers.length;t++){var i=this.pointers[t];if(i.identifier===e)return i}return null},getPointerFromId:function(e){for(var t=0;t<this.pointers.length;t++){var i=this.pointers[t];if(i.pointerId===e)return i}return null},getLocalPosition:function(e,t,i){void 0===i&&(i=new U.Point);var e=e.worldTransform,n=1/(e.a*e.d+e.c*-e.b);return i.setTo(e.d*n*t.x+-e.c*n*t.y+(e.ty*e.c-e.tx*e.d)*n,e.a*n*t.y+-e.b*n*t.x+(-e.ty*e.a+e.tx*e.b)*n)},hitTest:function(e,t,i){if(!e.worldVisible)return!1;if(this.getLocalPosition(e,t,this._localPoint),i.copyFrom(this._localPoint),e.hitArea&&e.hitArea.contains)return e.hitArea.contains(this._localPoint.x,this._localPoint.y);if(e instanceof U.TileSprite){var n=e.width,r=e.height,o=-n*e.anchor.x;if(this._localPoint.x>=o&&this._localPoint.x<o+n){var a=-r*e.anchor.y;if(this._localPoint.y>=a&&this._localPoint.y<a+r)return!0}}else if(e instanceof PIXI.Sprite){n=e.texture.frame.width,r=e.texture.frame.height,o=-n*e.anchor.x;if(this._localPoint.x>=o&&this._localPoint.x<o+n){a=-r*e.anchor.y;if(this._localPoint.y>=a&&this._localPoint.y<a+r)return!0}}else if(e instanceof U.Graphics)for(var s=0;s<e.graphicsData.length;s++){var p=e.graphicsData[s];if(p.fill&&(p.shape&&p.shape.contains(this._localPoint.x,this._localPoint.y)))return!0}for(s=0;s<e.children.length;s++)if(this.hitTest(e.children[s],t,i))return!0;return!1},onClickTrampoline:function(){this.activePointer.processClickTrampolines()}},U.Input.prototype.constructor=U.Input,Object.defineProperty(U.Input.prototype,"x",{get:function(){return this._x},set:function(e){this._x=Math.floor(e)}}),Object.defineProperty(U.Input.prototype,"y",{get:function(){return this._y},set:function(e){this._y=Math.floor(e)}}),Object.defineProperty(U.Input.prototype,"pollLocked",{get:function(){return 0<this.pollRate&&this._pollCounter<this.pollRate}}),Object.defineProperty(U.Input.prototype,"totalInactivePointers",{get:function(){return this.pointers.length-this.countActivePointers()}}),Object.defineProperty(U.Input.prototype,"totalActivePointers",{get:function(){return this.countActivePointers()}}),Object.defineProperty(U.Input.prototype,"worldX",{get:function(){return this.game.camera.view.x+this.x}}),Object.defineProperty(U.Input.prototype,"worldY",{get:function(){return this.game.camera.view.y+this.y}}),U.Mouse=function(e){this.game=e,this.input=e.input,this.callbackContext=this.game,this.mouseDownCallback=null,this.mouseUpCallback=null,this.mouseOutCallback=null,this.mouseOverCallback=null,this.mouseWheelCallback=null,this.capture=!1,this.button=-1,this.wheelDelta=0,this.enabled=!0,this.locked=!1,this.stopOnGameOut=!1,this.pointerLock=new U.Signal,this.event=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this._onMouseOut=null,this._onMouseOver=null,this._onMouseWheel=null,this._wheelEvent=null},U.Mouse.NO_BUTTON=-1,U.Mouse.LEFT_BUTTON=0,U.Mouse.MIDDLE_BUTTON=1,U.Mouse.RIGHT_BUTTON=2,U.Mouse.BACK_BUTTON=3,U.Mouse.FORWARD_BUTTON=4,U.Mouse.WHEEL_UP=1,U.Mouse.WHEEL_DOWN=-1,U.Mouse.prototype={start:function(){var t,e,i;this.game.device.android&&!1===this.game.device.chrome||null===this._onMouseDown&&((t=this)._onMouseDown=function(e){return t.onMouseDown(e)},this._onMouseMove=function(e){return t.onMouseMove(e)},this._onMouseUp=function(e){return t.onMouseUp(e)},this._onMouseUpGlobal=function(e){return t.onMouseUpGlobal(e)},this._onMouseOutGlobal=function(e){return t.onMouseOutGlobal(e)},this._onMouseOut=function(e){return t.onMouseOut(e)},this._onMouseOver=function(e){return t.onMouseOver(e)},this._onMouseWheel=function(e){return t.onMouseWheel(e)},(e=this.game.canvas).addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("mousemove",this._onMouseMove,!0),e.addEventListener("mouseup",this._onMouseUp,!0),this.game.device.cocoonJS||(window.addEventListener("mouseup",this._onMouseUpGlobal,!0),window.addEventListener("mouseout",this._onMouseOutGlobal,!0),e.addEventListener("mouseover",this._onMouseOver,!0),e.addEventListener("mouseout",this._onMouseOut,!0)),(i=this.game.device.wheelEvent)&&(e.addEventListener(i,this._onMouseWheel,!0),"mousewheel"===i?this._wheelEvent=new r(-.025,1):"DOMMouseScroll"===i&&(this._wheelEvent=new r(1,1))))},onMouseDown:function(e){this.event=e,this.capture&&e.preventDefault(),this.mouseDownCallback&&this.mouseDownCallback.call(this.callbackContext,e),this.input.enabled&&this.enabled&&(e.identifier=0,this.input.mousePointer.start(e))},onMouseMove:function(e){this.event=e,this.capture&&e.preventDefault(),this.mouseMoveCallback&&this.mouseMoveCallback.call(this.callbackContext,e),this.input.enabled&&this.enabled&&(e.identifier=0,this.input.mousePointer.move(e))},onMouseUp:function(e){this.event=e,this.capture&&e.preventDefault(),this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,e),this.input.enabled&&this.enabled&&(e.identifier=0,this.input.mousePointer.stop(e))},onMouseUpGlobal:function(e){this.input.mousePointer.withinGame||(this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,e),e.identifier=0,this.input.mousePointer.stop(e))},onMouseOutGlobal:function(e){this.event=e,this.capture&&e.preventDefault(),this.input.mousePointer.withinGame=!1,this.input.enabled&&this.enabled&&(this.input.mousePointer.stop(e),this.input.mousePointer.leftButton.stop(e),this.input.mousePointer.rightButton.stop(e))},onMouseOut:function(e){this.event=e,this.capture&&e.preventDefault(),this.input.mousePointer.withinGame=!1,this.mouseOutCallback&&this.mouseOutCallback.call(this.callbackContext,e),this.input.enabled&&this.enabled&&this.stopOnGameOut&&(e.identifier=0,this.input.mousePointer.stop(e))},onMouseOver:function(e){this.event=e,this.capture&&e.preventDefault(),this.input.mousePointer.withinGame=!0,this.mouseOverCallback&&this.mouseOverCallback.call(this.callbackContext,e)},onMouseWheel:function(e){this._wheelEvent&&(e=this._wheelEvent.bindEvent(e)),this.event=e,this.capture&&e.preventDefault(),this.wheelDelta=U.Math.clamp(-e.deltaY,-1,1),this.mouseWheelCallback&&this.mouseWheelCallback.call(this.callbackContext,e)},requestPointerLock:function(){var e,t;this.game.device.pointerLock&&((e=this.game.canvas).requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock(),(t=this)._pointerLockChange=function(e){return t.pointerLockChange(e)},document.addEventListener("pointerlockchange",this._pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this._pointerLockChange,!0))},pointerLockChange:function(e){var t=this.game.canvas;document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t?(this.locked=!0,this.pointerLock.dispatch(!0,e)):(this.locked=!1,this.pointerLock.dispatch(!1,e))},releasePointerLock:function(){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock(),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)},stop:function(){var e=this.game.canvas,t=(e.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("mousemove",this._onMouseMove,!0),e.removeEventListener("mouseup",this._onMouseUp,!0),e.removeEventListener("mouseover",this._onMouseOver,!0),e.removeEventListener("mouseout",this._onMouseOut,!0),this.game.device.wheelEvent);t&&e.removeEventListener(t,this._onMouseWheel,!0),window.removeEventListener("mouseup",this._onMouseUpGlobal,!0),window.removeEventListener("mouseout",this._onMouseOutGlobal,!0),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)}},U.Mouse.prototype.constructor=U.Mouse,((r.prototype={}).constructor=r).prototype.bindEvent=function(e){if(!r._stubsGenerated&&e){for(var t in e)t in r.prototype||Object.defineProperty(r.prototype,t,{get:function(t){return function(){var e=this.originalEvent[t];return"function"!=typeof e?e:e.bind(this.originalEvent)}}(t)});r._stubsGenerated=!0}return this.originalEvent=e,this},Object.defineProperties(r.prototype,{type:{value:"wheel"},deltaMode:{get:function(){return this._deltaMode}},deltaY:{get:function(){return this._scaleFactor*(this.originalEvent.wheelDelta||this.originalEvent.detail)||0}},deltaX:{get:function(){return this._scaleFactor*this.originalEvent.wheelDeltaX||0}},deltaZ:{value:0}}),U.MSPointer=function(e){this.game=e,this.input=e.input,this.callbackContext=this.game,this.pointerDownCallback=null,this.pointerMoveCallback=null,this.pointerUpCallback=null,this.capture=!0,this.button=-1,this.event=null,this.enabled=!0,this._onMSPointerDown=null,this._onMSPointerMove=null,this._onMSPointerUp=null,this._onMSPointerUpGlobal=null,this._onMSPointerOut=null,this._onMSPointerOver=null},U.MSPointer.prototype={start:function(){var t,e;null===this._onMSPointerDown&&(t=this).game.device.mspointer&&(this._onMSPointerDown=function(e){return t.onPointerDown(e)},this._onMSPointerMove=function(e){return t.onPointerMove(e)},this._onMSPointerUp=function(e){return t.onPointerUp(e)},this._onMSPointerUpGlobal=function(e){return t.onPointerUpGlobal(e)},this._onMSPointerOut=function(e){return t.onPointerOut(e)},this._onMSPointerOver=function(e){return t.onPointerOver(e)},(e=this.game.canvas).addEventListener("MSPointerDown",this._onMSPointerDown,!1),e.addEventListener("MSPointerMove",this._onMSPointerMove,!1),e.addEventListener("MSPointerUp",this._onMSPointerUp,!1),e.addEventListener("pointerdown",this._onMSPointerDown,!1),e.addEventListener("pointermove",this._onMSPointerMove,!1),e.addEventListener("pointerup",this._onMSPointerUp,!1),e.style["-ms-content-zooming"]="none",e.style["-ms-touch-action"]="none",this.game.device.cocoonJS||(window.addEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),e.addEventListener("MSPointerOver",this._onMSPointerOver,!0),e.addEventListener("MSPointerOut",this._onMSPointerOut,!0),window.addEventListener("pointerup",this._onMSPointerUpGlobal,!0),e.addEventListener("pointerover",this._onMSPointerOver,!0),e.addEventListener("pointerout",this._onMSPointerOut,!0)))},onPointerDown:function(e){this.event=e,this.capture&&e.preventDefault(),this.pointerDownCallback&&this.pointerDownCallback.call(this.callbackContext,e),this.input.enabled&&this.enabled&&(e.identifier=e.pointerId,"mouse"===e.pointerType||4===e.pointerType?this.input.mousePointer.start(e):this.input.startPointer(e))},onPointerMove:function(e){this.event=e,this.capture&&e.preventDefault(),this.pointerMoveCallback&&this.pointerMoveCallback.call(this.callbackContext,e),this.input.enabled&&this.enabled&&(e.identifier=e.pointerId,"mouse"===e.pointerType||4===e.pointerType?this.input.mousePointer.move(e):this.input.updatePointer(e))},onPointerUp:function(e){this.event=e,this.capture&&e.preventDefault(),this.pointerUpCallback&&this.pointerUpCallback.call(this.callbackContext,e),this.input.enabled&&this.enabled&&(e.identifier=e.pointerId,"mouse"===e.pointerType||4===e.pointerType?this.input.mousePointer.stop(e):this.input.stopPointer(e))},onPointerUpGlobal:function(e){var t;(!("mouse"!==e.pointerType&&4!==e.pointerType||this.input.mousePointer.withinGame)||(t=this.input.getPointerFromIdentifier(e.identifier))&&t.withinGame)&&this.onPointerUp(e)},onPointerOut:function(e){var t;this.event=e,this.capture&&e.preventDefault(),"mouse"===e.pointerType||4===e.pointerType?this.input.mousePointer.withinGame=!1:(t=this.input.getPointerFromIdentifier(e.identifier))&&(t.withinGame=!1),this.input.mouse.mouseOutCallback&&this.input.mouse.mouseOutCallback.call(this.input.mouse.callbackContext,e),this.input.enabled&&this.enabled&&this.input.mouse.stopOnGameOut&&(e.identifier=0,(t||this.input.mousePointer).stop(e))},onPointerOver:function(e){var t;this.event=e,this.capture&&e.preventDefault(),"mouse"===e.pointerType||4===e.pointerType?this.input.mousePointer.withinGame=!0:(t=this.input.getPointerFromIdentifier(e.identifier))&&(t.withinGame=!0),this.input.mouse.mouseOverCallback&&this.input.mouse.mouseOverCallback.call(this.input.mouse.callbackContext,e)},stop:function(){var e=this.game.canvas;e.removeEventListener("MSPointerDown",this._onMSPointerDown,!1),e.removeEventListener("MSPointerMove",this._onMSPointerMove,!1),e.removeEventListener("MSPointerUp",this._onMSPointerUp,!1),e.removeEventListener("pointerdown",this._onMSPointerDown,!1),e.removeEventListener("pointermove",this._onMSPointerMove,!1),e.removeEventListener("pointerup",this._onMSPointerUp,!1),window.removeEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),e.removeEventListener("MSPointerOver",this._onMSPointerOver,!0),e.removeEventListener("MSPointerOut",this._onMSPointerOut,!0),window.removeEventListener("pointerup",this._onMSPointerUpGlobal,!0),e.removeEventListener("pointerover",this._onMSPointerOver,!0),e.removeEventListener("pointerout",this._onMSPointerOut,!0)}},U.MSPointer.prototype.constructor=U.MSPointer,U.DeviceButton=function(e,t){this.parent=e,this.game=e.game,this.event=null,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1,this.value=0,this.buttonCode=t,this.onDown=new U.Signal,this.onUp=new U.Signal,this.onFloat=new U.Signal},U.DeviceButton.prototype={start:function(e,t){this.isDown||(this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.repeats=0,this.event=e,this.value=t,e&&(this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.ctrlKey=e.ctrlKey),this.onDown.dispatch(this,t))},stop:function(e,t){this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.event=e,this.value=t,e&&(this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.ctrlKey=e.ctrlKey),this.onUp.dispatch(this,t))},padFloat:function(e){this.value=e,this.onFloat.dispatch(this,e)},justPressed:function(e){return e=e||250,this.isDown&&this.timeDown+e>this.game.time.time},justReleased:function(e){return e=e||250,this.isUp&&this.timeUp+e>this.game.time.time},reset:function(){this.isDown=!1,this.isUp=!0,this.timeDown=this.game.time.time,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1},destroy:function(){this.onDown.dispose(),this.onUp.dispose(),this.onFloat.dispose(),this.parent=null,this.game=null}},U.DeviceButton.prototype.constructor=U.DeviceButton,Object.defineProperty(U.DeviceButton.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),U.Pointer=function(e,t,i){this.game=e,this.id=t,this.type=U.POINTER,this.exists=!0,this.identifier=0,this.pointerId=null,this.pointerMode=i||U.PointerMode.CURSOR|U.PointerMode.CONTACT,this.target=null,this.button=null,this.leftButton=new U.DeviceButton(this,U.Pointer.LEFT_BUTTON),this.middleButton=new U.DeviceButton(this,U.Pointer.MIDDLE_BUTTON),this.rightButton=new U.DeviceButton(this,U.Pointer.RIGHT_BUTTON),this.backButton=new U.DeviceButton(this,U.Pointer.BACK_BUTTON),this.forwardButton=new U.DeviceButton(this,U.Pointer.FORWARD_BUTTON),this.eraserButton=new U.DeviceButton(this,U.Pointer.ERASER_BUTTON),this._holdSent=!1,this._history=[],this._nextDrop=0,this._stateReset=!1,this.withinGame=!1,this.clientX=-1,this.clientY=-1,this.pageX=-1,this.pageY=-1,this.screenX=-1,this.screenY=-1,this.rawMovementX=0,this.rawMovementY=0,this.movementX=0,this.movementY=0,this.x=-1,this.y=-1,this.isMouse=0===t,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.previousTapTime=0,this.totalTouches=0,this.msSinceLastClick=Number.MAX_VALUE,this.targetObject=null,this.interactiveCandidates=[],this.active=!1,this.dirty=!1,this.position=new U.Point,this.positionDown=new U.Point,this.positionUp=new U.Point,this.circle=new U.Circle(0,0,44),this._clickTrampolines=null,this._trampolineTargetObject=null},U.Pointer.NO_BUTTON=0,U.Pointer.LEFT_BUTTON=1,U.Pointer.RIGHT_BUTTON=2,U.Pointer.MIDDLE_BUTTON=4,U.Pointer.BACK_BUTTON=8,U.Pointer.FORWARD_BUTTON=16,U.Pointer.ERASER_BUTTON=32,U.Pointer.prototype={resetButtons:function(){this.isDown=!1,this.isUp=!0,this.isMouse&&(this.leftButton.reset(),this.middleButton.reset(),this.rightButton.reset(),this.backButton.reset(),this.forwardButton.reset(),this.eraserButton.reset())},processButtonsDown:function(e,t){U.Pointer.LEFT_BUTTON&e&&this.leftButton.start(t),U.Pointer.RIGHT_BUTTON&e&&this.rightButton.start(t),U.Pointer.MIDDLE_BUTTON&e&&this.middleButton.start(t),U.Pointer.BACK_BUTTON&e&&this.backButton.start(t),U.Pointer.FORWARD_BUTTON&e&&this.forwardButton.start(t),U.Pointer.ERASER_BUTTON&e&&this.eraserButton.start(t)},processButtonsUp:function(e,t){e===U.Mouse.LEFT_BUTTON&&this.leftButton.stop(t),e===U.Mouse.RIGHT_BUTTON&&this.rightButton.stop(t),e===U.Mouse.MIDDLE_BUTTON&&this.middleButton.stop(t),e===U.Mouse.BACK_BUTTON&&this.backButton.stop(t),e===U.Mouse.FORWARD_BUTTON&&this.forwardButton.stop(t),5===e&&this.eraserButton.stop(t)},updateButtons:function(e){this.button=e.button;var t="down"===e.type.toLowerCase().substr(-4);void 0!==e.buttons?t?this.processButtonsDown(e.buttons,e):this.processButtonsUp(e.button,e):t?this.leftButton.start(e):(this.leftButton.stop(e),this.rightButton.stop(e)),1===e.buttons&&e.ctrlKey&&this.leftButton.isDown&&(this.leftButton.stop(e),this.rightButton.start(e)),this.isUp=!0,this.isDown=!1,(this.leftButton.isDown||this.rightButton.isDown||this.middleButton.isDown||this.backButton.isDown||this.forwardButton.isDown||this.eraserButton.isDown)&&(this.isUp=!1,this.isDown=!0)},start:function(e){var t=this.game.input;return e.pointerId&&(this.pointerId=e.pointerId),this.identifier=e.identifier,this.target=e.target,this.isMouse?this.updateButtons(e):(this.isDown=!0,this.isUp=!1),this.active=!0,this.withinGame=!0,this.dirty=!1,this._history=[],this._clickTrampolines=null,this._trampolineTargetObject=null,this.msSinceLastClick=this.game.time.time-this.timeDown,this.timeDown=this.game.time.time,this._holdSent=!1,this.move(e,!0),this.positionDown.setTo(this.x,this.y),(t.multiInputOverride===U.Input.MOUSE_OVERRIDES_TOUCH||t.multiInputOverride===U.Input.MOUSE_TOUCH_COMBINE||t.multiInputOverride===U.Input.TOUCH_OVERRIDES_MOUSE&&0===t.totalActivePointers)&&(t.x=this.x,t.y=this.y,t.position.setTo(this.x,this.y),t.onDown.dispatch(this,e),t.resetSpeed(this.x,this.y)),this._stateReset=!1,this.totalTouches++,null!==this.targetObject&&this.targetObject._touchedHandler(this),this},update:function(){var e=this.game.input;this.active&&(this.dirty&&(0<e.interactiveItems.total&&this.processInteractiveObjects(!1),this.dirty=!1),!1===this._holdSent&&this.duration>=e.holdRate&&((e.multiInputOverride===U.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===U.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===U.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&e.onHold.dispatch(this),this._holdSent=!0),e.recordPointerHistory&&this.game.time.time>=this._nextDrop&&(this._nextDrop=this.game.time.time+e.recordRate,this._history.push({x:this.position.x,y:this.position.y}),this._history.length>e.recordLimit&&this._history.shift()))},move:function(e,t){var i=this.game.input;if(!i.pollLocked){if(void 0===t&&(t=!1),void 0!==e.button&&(this.button=e.button),t&&this.isMouse&&this.updateButtons(e),this.clientX=e.clientX,this.clientY=e.clientY,this.pageX=e.pageX,this.pageY=e.pageY,this.screenX=e.screenX,this.screenY=e.screenY,this.isMouse&&i.mouse.locked&&!t&&(this.rawMovementX=e.movementX||e.mozMovementX||e.webkitMovementX||0,this.rawMovementY=e.movementY||e.mozMovementY||e.webkitMovementY||0,this.movementX+=this.rawMovementX,this.movementY+=this.rawMovementY),this.x=(this.pageX-this.game.scale.offset.x)*i.scale.x,this.y=(this.pageY-this.game.scale.offset.y)*i.scale.y,this.position.setTo(this.x,this.y),this.circle.x=this.x,this.circle.y=this.y,(i.multiInputOverride===U.Input.MOUSE_OVERRIDES_TOUCH||i.multiInputOverride===U.Input.MOUSE_TOUCH_COMBINE||i.multiInputOverride===U.Input.TOUCH_OVERRIDES_MOUSE&&0===i.totalActivePointers)&&(i.activePointer=this,i.x=this.x,i.y=this.y,i.position.setTo(i.x,i.y),i.circle.x=i.x,i.circle.y=i.y),this.withinGame=this.game.scale.bounds.contains(this.pageX,this.pageY),this.game.paused)return this;for(var n=i.moveCallbacks.length;n--;)i.moveCallbacks[n].callback.call(i.moveCallbacks[n].context,this,this.x,this.y,t);return null!==this.targetObject&&!0===this.targetObject.isDragged?!1===this.targetObject.update(this)&&(this.targetObject=null):0<i.interactiveItems.total&&this.processInteractiveObjects(t),this}},processInteractiveObjects:function(e){var t=0,i=-1,n=null,r=this.game.input.interactiveItems.first;for(this.interactiveCandidates=[];r;)r.checked=!1,r.validForInput(i,t,!1)&&(r.checked=!0,(e&&r.checkPointerDown(this,!0)||!e&&r.checkPointerOver(this,!0))&&(t=r.sprite.renderOrderID,i=r.priorityID,n=r,this.interactiveCandidates.push(r))),r=this.game.input.interactiveItems.next;for(r=this.game.input.interactiveItems.first;r;)!r.checked&&r.validForInput(i,t,!0)&&(e&&r.checkPointerDown(this,!1)||!e&&r.checkPointerOver(this,!1))&&(t=r.sprite.renderOrderID,i=r.priorityID,n=r,this.interactiveCandidates.push(r)),r=this.game.input.interactiveItems.next;return this.game.input.customCandidateHandler&&(n=this.game.input.customCandidateHandler.call(this.game.input.customCandidateHandlerContext,this,this.interactiveCandidates,n)),this.swapTarget(n,!1),null!==this.targetObject},swapTarget:function(e,t){void 0===t&&(t=!1),null===e?this.targetObject&&(this.targetObject._pointerOutHandler(this,t),this.targetObject=null):null===this.targetObject?(this.targetObject=e)._pointerOverHandler(this,t):this.targetObject===e?!1===e.update(this)&&(this.targetObject=null):(this.targetObject._pointerOutHandler(this,t),this.targetObject=e,this.targetObject._pointerOverHandler(this,t))},leave:function(e){this.withinGame=!1,this.move(e,!1)},stop:function(e){var t=this.game.input;if(!this._stateReset||!this.withinGame)return this.timeUp=this.game.time.time,(t.multiInputOverride===U.Input.MOUSE_OVERRIDES_TOUCH||t.multiInputOverride===U.Input.MOUSE_TOUCH_COMBINE||t.multiInputOverride===U.Input.TOUCH_OVERRIDES_MOUSE&&0===t.totalActivePointers)&&(t.onUp.dispatch(this,e),0<=this.duration&&this.duration<=t.tapRate&&(this.timeUp-this.previousTapTime<t.doubleTapRate?t.onTap.dispatch(this,!0):t.onTap.dispatch(this,!1),this.previousTapTime=this.timeUp)),this.isMouse?this.updateButtons(e):(this.isDown=!1,this.isUp=!0),0<this.id&&(this.active=!1),this.withinGame=this.game.scale.bounds.contains(e.pageX,e.pageY),this.pointerId=null,this.identifier=null,this.positionUp.setTo(this.x,this.y),!1===this.isMouse&&t.currentPointers--,t.interactiveItems.callAll("_releasedHandler",this),this._clickTrampolines&&(this._trampolineTargetObject=this.targetObject),this.targetObject=null,this;e.preventDefault()},justPressed:function(e){return e=e||this.game.input.justPressedRate,!0===this.isDown&&this.timeDown+e>this.game.time.time},justReleased:function(e){return e=e||this.game.input.justReleasedRate,this.isUp&&this.timeUp+e>this.game.time.time},addClickTrampoline:function(e,t,i,n){if(this.isDown){for(var r=this._clickTrampolines=this._clickTrampolines||[],o=0;o<r.length;o++)if(r[o].name===e){r.splice(o,1);break}r.push({name:e,targetObject:this.targetObject,callback:t,callbackContext:i,callbackArgs:n})}},processClickTrampolines:function(){var e=this._clickTrampolines;if(e){for(var t=0;t<e.length;t++){var i=e[t];i.targetObject===this._trampolineTargetObject&&i.callback.apply(i.callbackContext,i.callbackArgs)}this._clickTrampolines=null,this._trampolineTargetObject=null}},reset:function(){!1===this.isMouse&&(this.active=!1),this.pointerId=null,this.identifier=null,this.dirty=!1,this.totalTouches=0,this._holdSent=!1,this._history.length=0,this._stateReset=!0,this.resetButtons(),this.targetObject&&this.targetObject._releasedHandler(this),this.targetObject=null},resetMovement:function(){this.movementX=0,this.movementY=0}},U.Pointer.prototype.constructor=U.Pointer,Object.defineProperty(U.Pointer.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),Object.defineProperty(U.Pointer.prototype,"worldX",{get:function(){return this.game.world.camera.x+this.x}}),Object.defineProperty(U.Pointer.prototype,"worldY",{get:function(){return this.game.world.camera.y+this.y}}),U.PointerMode={CURSOR:1,CONTACT:2},U.Touch=function(e){this.game=e,this.enabled=!0,this.touchLockCallbacks=[],this.callbackContext=this.game,this.touchStartCallback=null,this.touchMoveCallback=null,this.touchEndCallback=null,this.touchEnterCallback=null,this.touchLeaveCallback=null,this.touchCancelCallback=null,this.preventDefault=!0,this.event=null,this._onTouchStart=null,this._onTouchMove=null,this._onTouchEnd=null,this._onTouchEnter=null,this._onTouchLeave=null,this._onTouchCancel=null,this._onTouchMove=null},U.Touch.prototype={start:function(){var t;null===this._onTouchStart&&(t=this).game.device.touch&&(this._onTouchStart=function(e){return t.onTouchStart(e)},this._onTouchMove=function(e){return t.onTouchMove(e)},this._onTouchEnd=function(e){return t.onTouchEnd(e)},this._onTouchEnter=function(e){return t.onTouchEnter(e)},this._onTouchLeave=function(e){return t.onTouchLeave(e)},this._onTouchCancel=function(e){return t.onTouchCancel(e)},this.game.canvas.addEventListener("touchstart",this._onTouchStart,!1),this.game.canvas.addEventListener("touchmove",this._onTouchMove,!1),this.game.canvas.addEventListener("touchend",this._onTouchEnd,!1),this.game.canvas.addEventListener("touchcancel",this._onTouchCancel,!1),this.game.device.cocoonJS||(this.game.canvas.addEventListener("touchenter",this._onTouchEnter,!1),this.game.canvas.addEventListener("touchleave",this._onTouchLeave,!1)))},consumeDocumentTouches:function(){this._documentTouchMove=function(e){e.preventDefault()},document.addEventListener("touchmove",this._documentTouchMove,!1)},addTouchLockCallback:function(e,t,i){this.touchLockCallbacks.push({callback:e,context:t,onEnd:i=void 0===i?!1:i})},removeTouchLockCallback:function(e,t){for(var i=this.touchLockCallbacks.length;i--;)if(this.touchLockCallbacks[i].callback===e&&this.touchLockCallbacks[i].context===t)return this.touchLockCallbacks.splice(i,1),!0;return!1},onTouchStart:function(e){for(var t=this.touchLockCallbacks.length;t--;){var i=this.touchLockCallbacks[t];!i.onEnd&&i.callback.call(i.context,this,e)&&this.touchLockCallbacks.splice(t,1)}if(this.event=e,this.game.input.enabled&&this.enabled){this.touchStartCallback&&this.touchStartCallback.call(this.callbackContext,e),this.preventDefault&&e.preventDefault();for(t=0;t<e.changedTouches.length;t++)this.game.input.startPointer(e.changedTouches[t])}},onTouchCancel:function(e){if(this.event=e,this.touchCancelCallback&&this.touchCancelCallback.call(this.callbackContext,e),this.game.input.enabled&&this.enabled){this.preventDefault&&e.preventDefault();for(var t=0;t<e.changedTouches.length;t++)this.game.input.stopPointer(e.changedTouches[t])}},onTouchEnter:function(e){this.event=e,this.touchEnterCallback&&this.touchEnterCallback.call(this.callbackContext,e),this.game.input.enabled&&this.enabled&&this.preventDefault&&e.preventDefault()},onTouchLeave:function(e){this.event=e,this.touchLeaveCallback&&this.touchLeaveCallback.call(this.callbackContext,e),this.preventDefault&&e.preventDefault()},onTouchMove:function(e){this.event=e,this.touchMoveCallback&&this.touchMoveCallback.call(this.callbackContext,e),this.preventDefault&&e.preventDefault();for(var t=0;t<e.changedTouches.length;t++)this.game.input.updatePointer(e.changedTouches[t])},onTouchEnd:function(e){for(var t=this.touchLockCallbacks.length;t--;){var i=this.touchLockCallbacks[t];i.onEnd&&i.callback.call(i.context,this,e)&&this.touchLockCallbacks.splice(t,1)}this.event=e,this.touchEndCallback&&this.touchEndCallback.call(this.callbackContext,e),this.preventDefault&&e.preventDefault();for(t=0;t<e.changedTouches.length;t++)this.game.input.stopPointer(e.changedTouches[t])},stop:function(){this.game.device.touch&&(this.game.canvas.removeEventListener("touchstart",this._onTouchStart),this.game.canvas.removeEventListener("touchmove",this._onTouchMove),this.game.canvas.removeEventListener("touchend",this._onTouchEnd),this.game.canvas.removeEventListener("touchenter",this._onTouchEnter),this.game.canvas.removeEventListener("touchleave",this._onTouchLeave),this.game.canvas.removeEventListener("touchcancel",this._onTouchCancel))}},U.Touch.prototype.constructor=U.Touch,U.InputHandler=function(e){this.sprite=e,this.game=e.game,this.enabled=!1,this.checked=!1,this.priorityID=0,this.useHandCursor=!1,this._setHandCursor=!1,this.isDragged=!1,this.allowHorizontalDrag=!0,this.allowVerticalDrag=!0,this.bringToTop=!1,this.snapOffset=null,this.snapOnDrag=!1,this.snapOnRelease=!1,this.snapX=0,this.snapY=0,this.snapOffsetX=0,this.snapOffsetY=0,this.pixelPerfectOver=!1,this.pixelPerfectClick=!1,this.pixelPerfectAlpha=255,this.draggable=!1,this.boundsRect=null,this.boundsSprite=null,this.scaleLayer=!1,this.dragOffset=new U.Point,this.dragFromCenter=!1,this.dragStopBlocksInputUp=!1,this.dragStartPoint=new U.Point,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this.downPoint=new U.Point,this.snapPoint=new U.Point,this._dragPoint=new U.Point,this._dragPhase=!1,this._pendingDrag=!1,this._dragTimePass=!1,this._dragDistancePass=!1,this._wasEnabled=!1,this._tempPoint=new U.Point,this._pointerData=[],this._pointerData.push({id:0,x:0,y:0,camX:0,camY:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1})},U.InputHandler.prototype={start:function(e,t){if(e=e||0,void 0===t&&(t=!1),!1===this.enabled){this.game.input.interactiveItems.add(this),this.useHandCursor=t,this.priorityID=e;for(var i=0;i<10;i++)this._pointerData[i]={id:i,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1};this.snapOffset=new U.Point,this.enabled=!0,this._wasEnabled=!0}return this.sprite.events.onAddedToGroup.add(this.addedToGroup,this),this.sprite.events.onRemovedFromGroup.add(this.removedFromGroup,this),this.sprite},addedToGroup:function(){this._dragPhase||this._wasEnabled&&!this.enabled&&this.start()},removedFromGroup:function(){this._dragPhase||(this.enabled?(this._wasEnabled=!0,this.stop()):this._wasEnabled=!1)},reset:function(){this.enabled=!1;for(var e=0;e<10;e++)this._pointerData[e]={id:e,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1}},stop:function(){!1!==this.enabled&&(this.enabled=!1,this.game.input.interactiveItems.remove(this))},destroy:function(){this.sprite&&(this._setHandCursor&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),this.enabled=!1,this.game.input.interactiveItems.remove(this),this._pointerData.length=0,this.boundsRect=null,this.boundsSprite=null,this.sprite=null)},validForInput:function(e,t,i){return!(!this.enabled||0===this.sprite.scale.x||0===this.sprite.scale.y||this.priorityID<this.game.input.minPriorityID||this.sprite.parent&&this.sprite.parent.ignoreChildInput)&&(!(!(i=void 0===i||i)&&(this.pixelPerfectClick||this.pixelPerfectOver))&&(this.priorityID>e||this.priorityID===e&&this.sprite.renderOrderID>t))},isPixelPerfect:function(){return this.pixelPerfectClick||this.pixelPerfectOver},pointerX:function(e){return this._pointerData[e=e||0].x},pointerY:function(e){return this._pointerData[e=e||0].y},pointerDown:function(e){return this._pointerData[e=e||0].isDown},pointerUp:function(e){return this._pointerData[e=e||0].isUp},pointerTimeDown:function(e){return this._pointerData[e=e||0].timeDown},pointerTimeUp:function(e){return this._pointerData[e=e||0].timeUp},pointerOver:function(e){if(!this.enabled)return!1;if(void 0!==e)return this._pointerData[e].isOver;for(var t=0;t<10;t++)if(this._pointerData[t].isOver)return!0;return!1},pointerOut:function(e){if(!this.enabled)return!1;if(void 0!==e)return this._pointerData[e].isOut;for(var t=0;t<10;t++)if(this._pointerData[t].isOut)return!0},pointerTimeOver:function(e){return this._pointerData[e=e||0].timeOver},pointerTimeOut:function(e){return this._pointerData[e=e||0].timeOut},pointerDragged:function(e){return this._pointerData[e=e||0].isDragged},checkPointerDown:function(e,t){return!!(e.isDown&&this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&(!!this.game.input.hitTest(this.sprite,e,this._tempPoint)&&(!(!(t=void 0===t?!1:t)&&this.pixelPerfectClick)||this.checkPixel(this._tempPoint.x,this._tempPoint.y)))},checkPointerOver:function(e,t){return!!(this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&(!!this.game.input.hitTest(this.sprite,e,this._tempPoint)&&(!(!(t=void 0===t?!1:t)&&this.pixelPerfectOver)||this.checkPixel(this._tempPoint.x,this._tempPoint.y)))},checkPixel:function(e,t,i){if(this.sprite.texture.baseTexture.source){if(null===e&&null===t&&(this.game.input.getLocalPosition(this.sprite,i,this._tempPoint),e=this._tempPoint.x,t=this._tempPoint.y),0!==this.sprite.anchor.x&&(e-=-this.sprite.texture.frame.width*this.sprite.anchor.x),0!==this.sprite.anchor.y&&(t-=-this.sprite.texture.frame.height*this.sprite.anchor.y),e+=this.sprite.texture.frame.x,t+=this.sprite.texture.frame.y,this.sprite.texture.trim&&(e-=this.sprite.texture.trim.x,t-=this.sprite.texture.trim.y,e<this.sprite.texture.crop.x||e>this.sprite.texture.crop.right||t<this.sprite.texture.crop.y||t>this.sprite.texture.crop.bottom))return this._dx=e,this._dy=t,!1;if(this._dx=e,this._dy=t,this.game.input.hitContext.clearRect(0,0,1,1),this.game.input.hitContext.drawImage(this.sprite.texture.baseTexture.source,e,t,1,1,0,0,1,1),this.game.input.hitContext.getImageData(0,0,1,1).data[3]>=this.pixelPerfectAlpha)return!0}return!1},update:function(e){if(null!==this.sprite&&void 0!==this.sprite.parent)return this.enabled&&this.sprite.visible&&this.sprite.parent.visible?this._pendingDrag?(this._dragDistancePass||(this._dragDistancePass=U.Math.distance(e.x,e.y,this.downPoint.x,this.downPoint.y)>=this.dragDistanceThreshold),this._dragDistancePass&&this._dragTimePass&&this.startDrag(e),!0):this.draggable&&this._draggedPointerID===e.id?this.updateDrag(e,!1):this._pointerData[e.id].isOver?this.checkPointerOver(e)?(this._pointerData[e.id].x=e.x-this.sprite.x,this._pointerData[e.id].y=e.y-this.sprite.y,!0):(this._pointerOutHandler(e),!1):void 0:(this._pointerOutHandler(e),!1)},_pointerOverHandler:function(e,t){var i,n;null===this.sprite||!1!==(i=this._pointerData[e.id]).isOver&&!e.dirty||(n=!1===i.isOver,i.isOver=!0,i.isOut=!1,i.timeOver=this.game.time.time,i.x=e.x-this.sprite.x,i.y=e.y-this.sprite.y,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="pointer",this._setHandCursor=!0),!t&&n&&this.sprite&&this.sprite.events&&this.sprite.events.onInputOver$dispatch(this.sprite,e),this.sprite.parent&&this.sprite.parent.type===U.GROUP&&this.sprite.parent.onChildInputOver.dispatch(this.sprite,e))},_pointerOutHandler:function(e,t){var i;null!==this.sprite&&((i=this._pointerData[e.id]).isOver=!1,i.isOut=!0,i.timeOut=this.game.time.time,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),!t&&this.sprite&&this.sprite.events&&(this.sprite.events.onInputOut$dispatch(this.sprite,e),this.sprite&&this.sprite.parent&&this.sprite.parent.type===U.GROUP&&this.sprite.parent.onChildInputOut.dispatch(this.sprite,e)))},_touchedHandler:function(e){var t;null===this.sprite||(t=this._pointerData[e.id]).isDown||!t.isOver||this.pixelPerfectClick&&!this.checkPixel(null,null,e)||(t.isDown=!0,t.isUp=!1,t.timeDown=this.game.time.time,this.downPoint.set(e.x,e.y),e.dirty=!0,this.sprite&&this.sprite.events&&(this.sprite.events.onInputDown$dispatch(this.sprite,e),this.sprite&&this.sprite.parent&&this.sprite.parent.type===U.GROUP&&this.sprite.parent.onChildInputDown.dispatch(this.sprite,e),null===this.sprite)||(this.draggable&&!1===this.isDragged&&(0===this.dragTimeThreshold&&0===this.dragDistanceThreshold?this.startDrag(e):(this._pendingDrag=!0,this._dragDistancePass=0===this.dragDistanceThreshold,0<this.dragTimeThreshold?(this._dragTimePass=!1,this.game.time.events.add(this.dragTimeThreshold,this.dragTimeElapsed,this,e)):this._dragTimePass=!0)),this.bringToTop&&this.sprite.bringToTop()))},dragTimeElapsed:function(e){this._dragTimePass=!0,this._pendingDrag&&this.sprite&&this._dragDistancePass&&this.startDrag(e)},_releasedHandler:function(e){var t,i;null!==this.sprite&&(t=this._pointerData[e.id]).isDown&&e.isUp&&(t.isDown=!1,t.isUp=!0,t.timeUp=this.game.time.time,t.downDuration=t.timeUp-t.timeDown,i=this.checkPointerOver(e),this.sprite&&this.sprite.events&&(this.dragStopBlocksInputUp&&(!this.dragStopBlocksInputUp||this.draggable&&this.isDragged&&this._draggedPointerID===e.id)||this.sprite.events.onInputUp$dispatch(this.sprite,e,i),this.sprite&&this.sprite.parent&&this.sprite.parent.type===U.GROUP&&this.sprite.parent.onChildInputUp.dispatch(this.sprite,e,i),i=i&&this.checkPointerOver(e)),!(t.isOver=i)&&this.useHandCursor&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),e.dirty=!0,this._pendingDrag=!1,this.draggable&&this.isDragged&&this._draggedPointerID===e.id&&this.stopDrag(e))},updateDrag:function(e,t){if(void 0===t&&(t=!1),e.isUp)return this.stopDrag(e),!1;var i,n,r=this.globalToLocalX(e.x)+this._dragPoint.x+this.dragOffset.x,o=this.globalToLocalY(e.y)+this._dragPoint.y+this.dragOffset.y;return this.sprite.fixedToCamera?(this.allowHorizontalDrag&&(this.sprite.cameraOffset.x=r),this.allowVerticalDrag&&(this.sprite.cameraOffset.y=o),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.cameraOffset.x,this.sprite.cameraOffset.y))):(i=this.game.camera.x-this._pointerData[e.id].camX,n=this.game.camera.y-this._pointerData[e.id].camY,this.allowHorizontalDrag&&(this.sprite.x=r+i),this.allowVerticalDrag&&(this.sprite.y=o+n),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.x,this.sprite.y))),this.sprite.events.onDragUpdate.dispatch(this.sprite,e,r,o,this.snapPoint,t),!0},justOver:function(e,t){return t=t||500,this._pointerData[e=e||0].isOver&&this.overDuration(e)<t},justOut:function(e,t){return t=t||500,this._pointerData[e=e||0].isOut&&this.game.time.time-this._pointerData[e].timeOut<t},justPressed:function(e,t){return t=t||500,this._pointerData[e=e||0].isDown&&this.downDuration(e)<t},justReleased:function(e,t){return t=t||500,this._pointerData[e=e||0].isUp&&this.game.time.time-this._pointerData[e].timeUp<t},overDuration:function(e){return this._pointerData[e=e||0].isOver?this.game.time.time-this._pointerData[e].timeOver:-1},downDuration:function(e){return this._pointerData[e=e||0].isDown?this.game.time.time-this._pointerData[e].timeDown:-1},enableDrag:function(e,t,i,n,r,o){void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=255),void 0===r&&(r=null),void 0===o&&(o=null),this._dragPoint=new U.Point,this.draggable=!0,this.bringToTop=t,this.dragOffset=new U.Point,this.dragFromCenter=e,this.pixelPerfectClick=i,this.pixelPerfectAlpha=n,r&&(this.boundsRect=r),o&&(this.boundsSprite=o)},disableDrag:function(){if(this._pointerData)for(var e=0;e<10;e++)this._pointerData[e].isDragged=!1;this.draggable=!1,this.isDragged=!1,this._draggedPointerID=-1,this._pendingDrag=!1},startDrag:function(e){var t,i=this.sprite.x,n=this.sprite.y;this.isDragged=!0,this._draggedPointerID=e.id,this._pointerData[e.id].camX=this.game.camera.x,this._pointerData[e.id].camY=this.game.camera.y,this._pointerData[e.id].isDragged=!0,this.sprite.fixedToCamera?(this.dragFromCenter&&(t=this.sprite.getBounds(),this.sprite.cameraOffset.x=this.globalToLocalX(e.x)+(this.sprite.cameraOffset.x-t.centerX),this.sprite.cameraOffset.y=this.globalToLocalY(e.y)+(this.sprite.cameraOffset.y-t.centerY)),this._dragPoint.setTo(this.sprite.cameraOffset.x-e.x,this.sprite.cameraOffset.y-e.y)):(this.dragFromCenter&&(t=this.sprite.getBounds(),this.sprite.x=this.globalToLocalX(e.x)+(this.sprite.x-t.centerX),this.sprite.y=this.globalToLocalY(e.y)+(this.sprite.y-t.centerY)),this._dragPoint.setTo(this.sprite.x-this.globalToLocalX(e.x),this.sprite.y-this.globalToLocalY(e.y))),this.updateDrag(e,!0),this.bringToTop&&(this._dragPhase=!0,this.sprite.bringToTop()),this.dragStartPoint.set(i,n),this.sprite.events.onDragStart$dispatch(this.sprite,e,i,n),this._pendingDrag=!1},globalToLocalX:function(e){return e=this.scaleLayer?(e-=this.game.scale.grid.boundsFluid.x)*this.game.scale.grid.scaleFluidInversed.x:e},globalToLocalY:function(e){return e=this.scaleLayer?(e-=this.game.scale.grid.boundsFluid.y)*this.game.scale.grid.scaleFluidInversed.y:e},stopDrag:function(e){this.isDragged=!1,this._draggedPointerID=-1,this._pointerData[e.id].isDragged=!1,this._dragPhase=!1,this._pendingDrag=!1,this.snapOnRelease&&(this.sprite.fixedToCamera?(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY):(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY)),this.sprite.events.onDragStop$dispatch(this.sprite,e),!1===this.checkPointerOver(e)&&this._pointerOutHandler(e)},setDragLock:function(e,t){void 0===t&&(t=!0),this.allowHorizontalDrag=e=void 0===e?!0:e,this.allowVerticalDrag=t},enableSnap:function(e,t,i,n,r,o){void 0===i&&(i=!0),void 0===n&&(n=!1),void 0===r&&(r=0),void 0===o&&(o=0),this.snapX=e,this.snapY=t,this.snapOffsetX=r,this.snapOffsetY=o,this.snapOnDrag=i,this.snapOnRelease=n},disableSnap:function(){this.snapOnDrag=!1,this.snapOnRelease=!1},checkBoundsRect:function(){this.sprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsRect.left?this.sprite.cameraOffset.x=this.boundsRect.left:this.sprite.cameraOffset.x+this.sprite.width>this.boundsRect.right&&(this.sprite.cameraOffset.x=this.boundsRect.right-this.sprite.width),this.sprite.cameraOffset.y<this.boundsRect.top?this.sprite.cameraOffset.y=this.boundsRect.top:this.sprite.cameraOffset.y+this.sprite.height>this.boundsRect.bottom&&(this.sprite.cameraOffset.y=this.boundsRect.bottom-this.sprite.height)):(this.sprite.left<this.boundsRect.left?this.sprite.x=this.boundsRect.x+this.sprite.offsetX:this.sprite.right>this.boundsRect.right&&(this.sprite.x=this.boundsRect.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsRect.top?this.sprite.y=this.boundsRect.top+this.sprite.offsetY:this.sprite.bottom>this.boundsRect.bottom&&(this.sprite.y=this.boundsRect.bottom-(this.sprite.height-this.sprite.offsetY)))},checkBoundsSprite:function(){this.sprite.fixedToCamera&&this.boundsSprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsSprite.cameraOffset.x?this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x:this.sprite.cameraOffset.x+this.sprite.width>this.boundsSprite.cameraOffset.x+this.boundsSprite.width&&(this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x+this.boundsSprite.width-this.sprite.width),this.sprite.cameraOffset.y<this.boundsSprite.cameraOffset.y?this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y:this.sprite.cameraOffset.y+this.sprite.height>this.boundsSprite.cameraOffset.y+this.boundsSprite.height&&(this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y+this.boundsSprite.height-this.sprite.height)):(this.sprite.left<this.boundsSprite.left?this.sprite.x=this.boundsSprite.left+this.sprite.offsetX:this.sprite.right>this.boundsSprite.right&&(this.sprite.x=this.boundsSprite.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsSprite.top?this.sprite.y=this.boundsSprite.top+this.sprite.offsetY:this.sprite.bottom>this.boundsSprite.bottom&&(this.sprite.y=this.boundsSprite.bottom-(this.sprite.height-this.sprite.offsetY)))}},U.InputHandler.prototype.constructor=U.InputHandler,U.Gamepad=function(e){this.game=e,this._gamepadIndexMap={},this._rawPads=[],this._active=!1,this.enabled=!0,this._gamepadSupportAvailable=!!navigator.webkitGetGamepads||!!navigator.webkitGamepads||-1!==navigator.userAgent.indexOf("Firefox/")||!!navigator.getGamepads,this._prevRawGamepadTypes=[],this._prevTimestamps=[],(this.callbackContext=this).onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this._ongamepadconnected=null,this._gamepaddisconnected=null,this._gamepads=[new U.SinglePad(e,this),new U.SinglePad(e,this),new U.SinglePad(e,this),new U.SinglePad(e,this)]},U.Gamepad.prototype={addCallbacks:function(e,t){void 0!==t&&(this.onConnectCallback="function"==typeof t.onConnect?t.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof t.onDisconnect?t.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof t.onDown?t.onDown:this.onDownCallback,this.onUpCallback="function"==typeof t.onUp?t.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof t.onAxis?t.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof t.onFloat?t.onFloat:this.onFloatCallback,this.callbackContext=e)},start:function(){var t;this._active||(this._active=!0,(t=this)._onGamepadConnected=function(e){return t.onGamepadConnected(e)},this._onGamepadDisconnected=function(e){return t.onGamepadDisconnected(e)},window.addEventListener("gamepadconnected",this._onGamepadConnected,!1),window.addEventListener("gamepaddisconnected",this._onGamepadDisconnected,!1))},onGamepadConnected:function(e){e=e.gamepad;this._rawPads.push(e),this._gamepads[e.index].connect(e)},onGamepadDisconnected:function(e){var t,i=e.gamepad;for(t in this._rawPads)this._rawPads[t].index===i.index&&this._rawPads.splice(t,1);this._gamepads[i.index].disconnect()},update:function(){this._pollGamepads(),this.pad1.pollStatus(),this.pad2.pollStatus(),this.pad3.pollStatus(),this.pad4.pollStatus()},_pollGamepads:function(){var e;if(this._active&&(navigator.getGamepads?e=navigator.getGamepads():navigator.webkitGetGamepads?e=navigator.webkitGetGamepads():navigator.webkitGamepads&&(e=navigator.webkitGamepads()),e)){for(var t=!(this._rawPads=[]),i=0;i<e.length&&(typeof e[i]!==this._prevRawGamepadTypes[i]&&(t=!0,this._prevRawGamepadTypes[i]=typeof e[i]),e[i]&&this._rawPads.push(e[i]),3!==i);i++);for(var n=0;n<this._gamepads.length;n++)this._gamepads[n]._rawPad=this._rawPads[n];if(t){for(var r,o={rawIndices:{},padIndices:{}},a=0;a<this._gamepads.length;a++)if((r=this._gamepads[a]).connected)for(var s=0;s<this._rawPads.length;s++)this._rawPads[s].index===r.index&&(o.rawIndices[r.index]=!0,o.padIndices[a]=!0);for(var p=0;p<this._gamepads.length;p++)if(r=this._gamepads[p],!o.padIndices[p]){this._rawPads.length<1&&r.disconnect();for(var l=0;l<this._rawPads.length&&!o.padIndices[p];l++){var h=this._rawPads[l];!h||o.rawIndices[h.index]?r.disconnect():(r.connect(h),o.rawIndices[h.index]=!0,o.padIndices[p]=!0)}}}}},setDeadZones:function(e){for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].deadZone=e},stop:function(){this._active=!1,window.removeEventListener("gamepadconnected",this._onGamepadConnected),window.removeEventListener("gamepaddisconnected",this._onGamepadDisconnected)},reset:function(){this.update();for(var e=0;e<this._gamepads.length;e++)this._gamepads[e].reset()},justPressed:function(e,t){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justPressed(e,t))return!0;return!1},justReleased:function(e,t){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justReleased(e,t))return!0;return!1},isDown:function(e){for(var t=0;t<this._gamepads.length;t++)if(!0===this._gamepads[t].isDown(e))return!0;return!1},destroy:function(){this.stop();for(var e=0;e<this._gamepads.length;e++)this._gamepads[e].destroy()}},U.Gamepad.prototype.constructor=U.Gamepad,Object.defineProperty(U.Gamepad.prototype,"active",{get:function(){return this._active}}),Object.defineProperty(U.Gamepad.prototype,"supported",{get:function(){return this._gamepadSupportAvailable}}),Object.defineProperty(U.Gamepad.prototype,"padsConnected",{get:function(){return this._rawPads.length}}),Object.defineProperty(U.Gamepad.prototype,"pad1",{get:function(){return this._gamepads[0]}}),Object.defineProperty(U.Gamepad.prototype,"pad2",{get:function(){return this._gamepads[1]}}),Object.defineProperty(U.Gamepad.prototype,"pad3",{get:function(){return this._gamepads[2]}}),Object.defineProperty(U.Gamepad.prototype,"pad4",{get:function(){return this._gamepads[3]}}),U.Gamepad.BUTTON_0=0,U.Gamepad.BUTTON_1=1,U.Gamepad.BUTTON_2=2,U.Gamepad.BUTTON_3=3,U.Gamepad.BUTTON_4=4,U.Gamepad.BUTTON_5=5,U.Gamepad.BUTTON_6=6,U.Gamepad.BUTTON_7=7,U.Gamepad.BUTTON_8=8,U.Gamepad.BUTTON_9=9,U.Gamepad.BUTTON_10=10,U.Gamepad.BUTTON_11=11,U.Gamepad.BUTTON_12=12,U.Gamepad.BUTTON_13=13,U.Gamepad.BUTTON_14=14,U.Gamepad.BUTTON_15=15,U.Gamepad.AXIS_0=0,U.Gamepad.AXIS_1=1,U.Gamepad.AXIS_2=2,U.Gamepad.AXIS_3=3,U.Gamepad.AXIS_4=4,U.Gamepad.AXIS_5=5,U.Gamepad.AXIS_6=6,U.Gamepad.AXIS_7=7,U.Gamepad.AXIS_8=8,U.Gamepad.AXIS_9=9,U.Gamepad.XBOX360_A=0,U.Gamepad.XBOX360_B=1,U.Gamepad.XBOX360_X=2,U.Gamepad.XBOX360_Y=3,U.Gamepad.XBOX360_LEFT_BUMPER=4,U.Gamepad.XBOX360_RIGHT_BUMPER=5,U.Gamepad.XBOX360_LEFT_TRIGGER=6,U.Gamepad.XBOX360_RIGHT_TRIGGER=7,U.Gamepad.XBOX360_BACK=8,U.Gamepad.XBOX360_START=9,U.Gamepad.XBOX360_STICK_LEFT_BUTTON=10,U.Gamepad.XBOX360_STICK_RIGHT_BUTTON=11,U.Gamepad.XBOX360_DPAD_LEFT=14,U.Gamepad.XBOX360_DPAD_RIGHT=15,U.Gamepad.XBOX360_DPAD_UP=12,U.Gamepad.XBOX360_DPAD_DOWN=13,U.Gamepad.XBOX360_STICK_LEFT_X=0,U.Gamepad.XBOX360_STICK_LEFT_Y=1,U.Gamepad.XBOX360_STICK_RIGHT_X=2,U.Gamepad.XBOX360_STICK_RIGHT_Y=3,U.Gamepad.PS3XC_X=0,U.Gamepad.PS3XC_CIRCLE=1,U.Gamepad.PS3XC_SQUARE=2,U.Gamepad.PS3XC_TRIANGLE=3,U.Gamepad.PS3XC_L1=4,U.Gamepad.PS3XC_R1=5,U.Gamepad.PS3XC_L2=6,U.Gamepad.PS3XC_R2=7,U.Gamepad.PS3XC_SELECT=8,U.Gamepad.PS3XC_START=9,U.Gamepad.PS3XC_STICK_LEFT_BUTTON=10,U.Gamepad.PS3XC_STICK_RIGHT_BUTTON=11,U.Gamepad.PS3XC_DPAD_UP=12,U.Gamepad.PS3XC_DPAD_DOWN=13,U.Gamepad.PS3XC_DPAD_LEFT=14,U.Gamepad.PS3XC_DPAD_RIGHT=15,U.Gamepad.PS3XC_STICK_LEFT_X=0,U.Gamepad.PS3XC_STICK_LEFT_Y=1,U.Gamepad.PS3XC_STICK_RIGHT_X=2,U.Gamepad.PS3XC_STICK_RIGHT_Y=3,U.SinglePad=function(e,t){this.game=e,this.index=null,this.connected=!1,(this.callbackContext=this).onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this.deadZone=.26,this._padParent=t,this._rawPad=null,this._prevTimestamp=null,this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0},U.SinglePad.prototype={addCallbacks:function(e,t){void 0!==t&&(this.onConnectCallback="function"==typeof t.onConnect?t.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof t.onDisconnect?t.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof t.onDown?t.onDown:this.onDownCallback,this.onUpCallback="function"==typeof t.onUp?t.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof t.onAxis?t.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof t.onFloat?t.onFloat:this.onFloatCallback,this.callbackContext=e)},getButton:function(e){return this._buttons[e]||null},pollStatus:function(){if(this.connected&&this.game.input.enabled&&this.game.input.gamepad.enabled&&(!this._rawPad.timestamp||this._rawPad.timestamp!==this._prevTimestamp)){for(var e=0;e<this._buttonsLen;e++){var t=isNaN(this._rawPad.buttons[e])?this._rawPad.buttons[e].value:this._rawPad.buttons[e];t!==this._buttons[e].value&&(1===t?this.processButtonDown(e,t):0===t?this.processButtonUp(e,t):this.processButtonFloat(e,t))}for(var i=0;i<this._axesLen;i++){var n=this._rawPad.axes[i];0<n&&n>this.deadZone||n<0&&n<-this.deadZone?this.processAxisChange(i,n):this.processAxisChange(i,0)}this._prevTimestamp=this._rawPad.timestamp}},connect:function(e){var t=!this.connected;this.connected=!0,this.index=e.index,this._rawPad=e,this._buttons=[],this._buttonsLen=e.buttons.length,this._axes=[],this._axesLen=e.axes.length;for(var i,n=0;n<this._axesLen;n++)this._axes[n]=e.axes[n];for(i in e.buttons)i=parseInt(i,10),this._buttons[i]=new U.DeviceButton(this,i);t&&this._padParent.onConnectCallback&&this._padParent.onConnectCallback.call(this._padParent.callbackContext,this.index),t&&this.onConnectCallback&&this.onConnectCallback.call(this.callbackContext)},disconnect:function(){var e=this.connected,t=this.index;this.connected=!1,this.index=null,this._rawPad=void 0;for(var i=0;i<this._buttonsLen;i++)this._buttons[i].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,e&&this._padParent.onDisconnectCallback&&this._padParent.onDisconnectCallback.call(this._padParent.callbackContext,t),e&&this.onDisconnectCallback&&this.onDisconnectCallback.call(this.callbackContext)},destroy:function(){this._rawPad=void 0;for(var e=0;e<this._buttonsLen;e++)this._buttons[e].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null},processAxisChange:function(e,t){this._axes[e]!==t&&(this._axes[e]=t,this._padParent.onAxisCallback&&this._padParent.onAxisCallback.call(this._padParent.callbackContext,this,e,t),this.onAxisCallback&&this.onAxisCallback.call(this.callbackContext,this,e,t))},processButtonDown:function(e,t){this._buttons[e]&&this._buttons[e].start(null,t),this._padParent.onDownCallback&&this._padParent.onDownCallback.call(this._padParent.callbackContext,e,t,this.index),this.onDownCallback&&this.onDownCallback.call(this.callbackContext,e,t)},processButtonUp:function(e,t){this._padParent.onUpCallback&&this._padParent.onUpCallback.call(this._padParent.callbackContext,e,t,this.index),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,e,t),this._buttons[e]&&this._buttons[e].stop(null,t)},processButtonFloat:function(e,t){this._padParent.onFloatCallback&&this._padParent.onFloatCallback.call(this._padParent.callbackContext,e,t,this.index),this.onFloatCallback&&this.onFloatCallback.call(this.callbackContext,e,t),this._buttons[e]&&this._buttons[e].padFloat(t)},axis:function(e){return this._axes[e]||!1},isDown:function(e){return!!this._buttons[e]&&this._buttons[e].isDown},isUp:function(e){return!!this._buttons[e]&&this._buttons[e].isUp},justReleased:function(e,t){if(this._buttons[e])return this._buttons[e].justReleased(t)},justPressed:function(e,t){if(this._buttons[e])return this._buttons[e].justPressed(t)},buttonValue:function(e){return this._buttons[e]?this._buttons[e].value:null},reset:function(){for(var e=0;e<this._axes.length;e++)this._axes[e]=0}},U.SinglePad.prototype.constructor=U.SinglePad,U.Key=function(e,t){this.game=e,this._enabled=!0,this.event=null,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=-2500,this.repeats=0,this.keyCode=t,this.onDown=new U.Signal,this.onHoldCallback=null,this.onHoldContext=null,this.onUp=new U.Signal,this._justDown=!1,this._justUp=!1},U.Key.prototype={update:function(){this._enabled&&this.isDown&&(this.duration=this.game.time.time-this.timeDown,this.repeats++,this.onHoldCallback&&this.onHoldCallback.call(this.onHoldContext,this))},processKeyDown:function(e){this._enabled&&(this.event=e,this.isDown||(this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.duration=0,this.repeats=0,this._justDown=!0,this.onDown.dispatch(this)))},processKeyUp:function(e){this._enabled&&(this.event=e,this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=this.game.time.time-this.timeDown,this._justUp=!0,this.onUp.dispatch(this)))},reset:function(e){void 0===e&&(e=!0),this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=0,this._enabled=!0,this._justDown=!1,this._justUp=!1,e&&(this.onDown.removeAll(),this.onUp.removeAll(),this.onHoldCallback=null,this.onHoldContext=null)},downDuration:function(e){return void 0===e&&(e=50),this.isDown&&this.duration<e},upDuration:function(e){return void 0===e&&(e=50),!this.isDown&&this.game.time.time-this.timeUp<e}},Object.defineProperty(U.Key.prototype,"justDown",{get:function(){var e=this._justDown;return this._justDown=!1,e}}),Object.defineProperty(U.Key.prototype,"justUp",{get:function(){var e=this._justUp;return this._justUp=!1,e}}),Object.defineProperty(U.Key.prototype,"enabled",{get:function(){return this._enabled},set:function(e){(e=!!e)!==this._enabled&&(e||this.reset(!1),this._enabled=e)}}),U.Key.prototype.constructor=U.Key,U.Keyboard=function(e){this.game=e,this.enabled=!0,this.event=null,this.pressEvent=null,(this.callbackContext=this).onDownCallback=null,this.onPressCallback=null,this.onUpCallback=null,this._keys=[],this._capture=[],this._onKeyDown=null,this._onKeyPress=null,this._onKeyUp=null,this._i=0,this._k=0},U.Keyboard.prototype={addCallbacks:function(e,t,i,n){this.callbackContext=e,null!=t&&(this.onDownCallback=t),null!=i&&(this.onUpCallback=i),null!=n&&(this.onPressCallback=n)},addKey:function(e){return this._keys[e]||(this._keys[e]=new U.Key(this.game,e),this.addKeyCapture(e)),this._keys[e]},addKeys:function(e){var t,i={};for(t in e)i[t]=this.addKey(e[t]);return i},removeKey:function(e){this._keys[e]&&(this._keys[e]=null,this.removeKeyCapture(e))},createCursorKeys:function(){return this.addKeys({up:U.KeyCode.UP,down:U.KeyCode.DOWN,left:U.KeyCode.LEFT,right:U.KeyCode.RIGHT})},start:function(){var t;this.game.device.cocoonJS||null===this._onKeyDown&&((t=this)._onKeyDown=function(e){return t.processKeyDown(e)},this._onKeyUp=function(e){return t.processKeyUp(e)},this._onKeyPress=function(e){return t.processKeyPress(e)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1),window.addEventListener("keypress",this._onKeyPress,!1))},stop:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("keypress",this._onKeyPress),this._onKeyDown=null,this._onKeyUp=null,this._onKeyPress=null},destroy:function(){this.stop(),this.clearCaptures(),this._keys.length=0,this._i=0},addKeyCapture:function(e){if("object"==typeof e)for(var t in e)this._capture[e[t]]=!0;else this._capture[e]=!0},removeKeyCapture:function(e){delete this._capture[e]},clearCaptures:function(){this._capture={}},update:function(){for(this._i=this._keys.length;this._i--;)this._keys[this._i]&&this._keys[this._i].update()},processKeyDown:function(e){var t;this.event=e,this.game.input.enabled&&this.enabled&&(t=e.keyCode,this._capture[t]&&e.preventDefault(),this._keys[t]||(this._keys[t]=new U.Key(this.game,t)),this._keys[t].processKeyDown(e),this._k=t,this.onDownCallback&&this.onDownCallback.call(this.callbackContext,e))},processKeyPress:function(e){this.pressEvent=e,this.game.input.enabled&&this.enabled&&this.onPressCallback&&this.onPressCallback.call(this.callbackContext,String.fromCharCode(e.charCode),e)},processKeyUp:function(e){var t;this.event=e,this.game.input.enabled&&this.enabled&&(t=e.keyCode,this._capture[t]&&e.preventDefault(),this._keys[t]||(this._keys[t]=new U.Key(this.game,t)),this._keys[t].processKeyUp(e),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,e))},reset:function(e){void 0===e&&(e=!0),this.event=null;for(var t=this._keys.length;t--;)this._keys[t]&&this._keys[t].reset(e)},downDuration:function(e,t){return this._keys[e]?this._keys[e].downDuration(t):null},upDuration:function(e,t){return this._keys[e]?this._keys[e].upDuration(t):null},isDown:function(e){return this._keys[e]?this._keys[e].isDown:null}},Object.defineProperty(U.Keyboard.prototype,"lastChar",{get:function(){return 32===this.event.charCode?"":String.fromCharCode(this.pressEvent.charCode)}}),Object.defineProperty(U.Keyboard.prototype,"lastKey",{get:function(){return this._keys[this._k]}}),U.Keyboard.prototype.constructor=U.Keyboard,U.KeyCode={A:"A".charCodeAt(0),B:"B".charCodeAt(0),C:"C".charCodeAt(0),D:"D".charCodeAt(0),E:"E".charCodeAt(0),F:"F".charCodeAt(0),G:"G".charCodeAt(0),H:"H".charCodeAt(0),I:"I".charCodeAt(0),J:"J".charCodeAt(0),K:"K".charCodeAt(0),L:"L".charCodeAt(0),M:"M".charCodeAt(0),N:"N".charCodeAt(0),O:"O".charCodeAt(0),P:"P".charCodeAt(0),Q:"Q".charCodeAt(0),R:"R".charCodeAt(0),S:"S".charCodeAt(0),T:"T".charCodeAt(0),U:"U".charCodeAt(0),V:"V".charCodeAt(0),W:"W".charCodeAt(0),X:"X".charCodeAt(0),Y:"Y".charCodeAt(0),Z:"Z".charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,COMMA:188,UNDERSCORE:189,PERIOD:190,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS:43,MINUS:44,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144},U.KeyCode)U.KeyCode.hasOwnProperty(t)&&!t.match(/[a-z]/)&&(U.Keyboard[t]=U.KeyCode[t]);for(i in U.Component=function(){},U.Component.Angle=function(){},U.Component.Angle.prototype={angle:{get:function(){return U.Math.wrapAngle(U.Math.radToDeg(this.rotation))},set:function(e){this.rotation=U.Math.degToRad(U.Math.wrapAngle(e))}}},U.Component.Animation=function(){},U.Component.Animation.prototype={play:function(e,t,i,n){if(this.animations)return this.animations.play(e,t,i,n)}},U.Component.AutoCull=function(){},U.Component.AutoCull.prototype={autoCull:!1,inCamera:{get:function(){return this.autoCull||this.checkWorldBounds||(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y),this.game.world.camera.view.intersects(this._bounds)}}},U.Component.Bounds=function(){},U.Component.Bounds.prototype={offsetX:{get:function(){return this.anchor.x*this.width}},offsetY:{get:function(){return this.anchor.y*this.height}},centerX:{get:function(){return this.x-this.offsetX+.5*this.width},set:function(e){this.x=e+this.offsetX-.5*this.width}},centerY:{get:function(){return this.y-this.offsetY+.5*this.height},set:function(e){this.y=e+this.offsetY-.5*this.height}},left:{get:function(){return this.x-this.offsetX},set:function(e){this.x=e+this.offsetX}},right:{get:function(){return this.x+this.width-this.offsetX},set:function(e){this.x=e-this.width+this.offsetX}},top:{get:function(){return this.y-this.offsetY},set:function(e){this.y=e+this.offsetY}},bottom:{get:function(){return this.y+this.height-this.offsetY},set:function(e){this.y=e-this.height+this.offsetY}},alignIn:function(e,t,i,n){switch(void 0===i&&(i=0),void 0===n&&(n=0),t){default:case U.TOP_LEFT:this.left=e.left-i,this.top=e.top-n;break;case U.TOP_CENTER:this.centerX=e.centerX+i,this.top=e.top-n;break;case U.TOP_RIGHT:this.right=e.right+i,this.top=e.top-n;break;case U.LEFT_CENTER:this.left=e.left-i,this.centerY=e.centerY+n;break;case U.CENTER:this.centerX=e.centerX+i,this.centerY=e.centerY+n;break;case U.RIGHT_CENTER:this.right=e.right+i,this.centerY=e.centerY+n;break;case U.BOTTOM_LEFT:this.left=e.left-i,this.bottom=e.bottom+n;break;case U.BOTTOM_CENTER:this.centerX=e.centerX+i,this.bottom=e.bottom+n;break;case U.BOTTOM_RIGHT:this.right=e.right+i,this.bottom=e.bottom+n}return this},alignTo:function(e,t,i,n){switch(void 0===i&&(i=0),void 0===n&&(n=0),t){default:case U.TOP_LEFT:this.left=e.left-i,this.bottom=e.top-n;break;case U.TOP_CENTER:this.centerX=e.centerX+i,this.bottom=e.top-n;break;case U.TOP_RIGHT:this.right=e.right+i,this.bottom=e.top-n;break;case U.LEFT_TOP:this.right=e.left-i,this.top=e.top-n;break;case U.LEFT_CENTER:this.right=e.left-i,this.centerY=e.centerY+n;break;case U.LEFT_BOTTOM:this.right=e.left-i,this.bottom=e.bottom+n;break;case U.RIGHT_TOP:this.left=e.right+i,this.top=e.top-n;break;case U.RIGHT_CENTER:this.left=e.right+i,this.centerY=e.centerY+n;break;case U.RIGHT_BOTTOM:this.left=e.right+i,this.bottom=e.bottom+n;break;case U.BOTTOM_LEFT:this.left=e.left-i,this.top=e.bottom+n;break;case U.BOTTOM_CENTER:this.centerX=e.centerX+i,this.top=e.bottom+n;break;case U.BOTTOM_RIGHT:this.right=e.right+i,this.top=e.bottom+n}return this}},U.Group.prototype.alignIn=U.Component.Bounds.prototype.alignIn,U.Group.prototype.alignTo=U.Component.Bounds.prototype.alignTo,U.Component.BringToTop=function(){},U.Component.BringToTop.prototype.bringToTop=function(){return this.parent&&this.parent.bringToTop(this),this},U.Component.BringToTop.prototype.sendToBack=function(){return this.parent&&this.parent.sendToBack(this),this},U.Component.BringToTop.prototype.moveUp=function(){return this.parent&&this.parent.moveUp(this),this},U.Component.BringToTop.prototype.moveDown=function(){return this.parent&&this.parent.moveDown(this),this},U.Component.Core=function(){},U.Component.Core.install=function(e){U.Utils.mixinPrototype(this,U.Component.Core.prototype),this.components={};for(var t=0;t<e.length;t++){var i=e[t],n="Destroy"===i?!0:!1;U.Utils.mixinPrototype(this,U.Component[i].prototype,n),this.components[i]=!0}},U.Component.Core.init=function(e,t,i,n,r){this.game=e,this.key=n,this.data={},this.position.set(t,i),this.world=new U.Point(t,i),this.previousPosition=new U.Point(t,i),this.events=new U.Events(this),this._bounds=new U.Rectangle,this.components.PhysicsBody&&(this.body=this.body),this.components.Animation&&(this.animations=new U.AnimationManager(this)),this.components.LoadTexture&&null!==n&&this.loadTexture(n,r),this.components.FixedToCamera&&(this.cameraOffset=new U.Point(t,i))},U.Component.Core.preUpdate=function(){if(!this.pendingDestroy){if(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,!this.exists||!this.parent.exists)return!(this.renderOrderID=-1);this.world.setTo(this.game.camera.x+this.worldTransform.tx,this.game.camera.y+this.worldTransform.ty),this.visible&&(this.renderOrderID=this.game.stage.currentRenderOrderID++),this.animations&&this.animations.update(),this.body&&this.body.preUpdate();for(var e=0;e<this.children.length;e++)this.children[e].preUpdate();return!0}this.destroy()},U.Component.Core.prototype={game:null,name:"",data:{},components:{},z:0,events:void 0,animations:void 0,key:"",world:null,debug:!1,previousPosition:null,previousRotation:0,renderOrderID:0,fresh:!0,pendingDestroy:!1,_bounds:null,_exists:!0,exists:{get:function(){return this._exists},set:function(e){e?(this._exists=!0,this.body&&this.body.type===U.Physics.P2JS&&this.body.addToWorld(),this.visible=!0):(this._exists=!1,this.body&&this.body.type===U.Physics.P2JS&&this.body.removeFromWorld(),this.visible=!1)}},update:function(){},postUpdate:function(){this.customRender&&this.key.render(),this.components.PhysicsBody&&U.Component.PhysicsBody.postUpdate.call(this),this.components.FixedToCamera&&U.Component.FixedToCamera.postUpdate.call(this);for(var e=0;e<this.children.length;e++)this.children[e].postUpdate()}},U.Component.Crop=function(){},U.Component.Crop.prototype={cropRect:null,_crop:null,crop:function(e,t){void 0===t&&(t=!1),e?(t&&null!==this.cropRect?this.cropRect.setTo(e.x,e.y,e.width,e.height):t&&null===this.cropRect?this.cropRect=new U.Rectangle(e.x,e.y,e.width,e.height):this.cropRect=e,this.updateCrop()):(this._crop=null,this.cropRect=null,this.resetFrame())},updateCrop:function(){var e,t,i,n,r,o,a,s;this.cropRect&&(e=this.texture.crop.x,t=this.texture.crop.y,i=this.texture.crop.width,n=this.texture.crop.height,this._crop=U.Rectangle.clone(this.cropRect,this._crop),this._crop.x+=this._frame.x,this._crop.y+=this._frame.y,r=Math.max(this._frame.x,this._crop.x),o=Math.max(this._frame.y,this._crop.y),a=Math.min(this._frame.right,this._crop.right)-r,s=Math.min(this._frame.bottom,this._crop.bottom)-o,this.texture.crop.x=r,this.texture.crop.y=o,this.texture.crop.width=a,this.texture.crop.height=s,this.texture.frame.width=Math.min(a,this.cropRect.width),this.texture.frame.height=Math.min(s,this.cropRect.height),this.texture.width=this.texture.frame.width,this.texture.height=this.texture.frame.height,this.texture._updateUvs(),16777215===this.tint||e===r&&t===o&&i===a&&n===s||(this.texture.requiresReTint=!0))}},U.Component.Delta=function(){},U.Component.Delta.prototype={deltaX:{get:function(){return this.world.x-this.previousPosition.x}},deltaY:{get:function(){return this.world.y-this.previousPosition.y}},deltaZ:{get:function(){return this.rotation-this.previousRotation}}},U.Component.Destroy=function(){},U.Component.Destroy.prototype={destroyPhase:!1,destroy:function(e,t){if(null!==this.game&&!this.destroyPhase){void 0===e&&(e=!0),void 0===t&&(t=!1),this.destroyPhase=!0,this.events&&this.events.onDestroy$dispatch(this),this.parent&&(this.parent instanceof U.Group?this.parent.remove(this):this.parent.removeChild(this)),this.input&&this.input.destroy(),this.animations&&this.animations.destroy(),this.body&&this.body.destroy(),this.events&&this.events.destroy(),this.game.tweens.removeFrom(this);var i=this.children.length;if(e)for(;i--;)this.children[i].destroy(e);else for(;i--;)this.removeChild(this.children[i]);this._crop&&(this._crop=null,this.cropRect=null),this._frame&&(this._frame=null),U.Video&&this.key instanceof U.Video&&this.key.onChangeSource.remove(this.resizeFrame,this),U.BitmapText&&this._glyphs&&(this._glyphs=[]),this.alive=!1,this.exists=!1,this.visible=!1,this.filters=null,this.mask=null,this.game=null,this.data={},this.renderable=!1,this.transformCallback&&(this.transformCallback=null,this.transformCallbackContext=null),this.hitArea=null,this.parent=null,this.stage=null,this.worldTransform=null,this.filterArea=null,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite(),t&&this.texture.destroy(!0),this.destroyPhase=!1,this.pendingDestroy=!1}}},U.Events=function(e){this.parent=e},U.Events.prototype={destroy:function(){this._parent=null,this._onDestroy&&this._onDestroy.dispose(),this._onAddedToGroup&&this._onAddedToGroup.dispose(),this._onRemovedFromGroup&&this._onRemovedFromGroup.dispose(),this._onRemovedFromWorld&&this._onRemovedFromWorld.dispose(),this._onKilled&&this._onKilled.dispose(),this._onRevived&&this._onRevived.dispose(),this._onEnterBounds&&this._onEnterBounds.dispose(),this._onOutOfBounds&&this._onOutOfBounds.dispose(),this._onInputOver&&this._onInputOver.dispose(),this._onInputOut&&this._onInputOut.dispose(),this._onInputDown&&this._onInputDown.dispose(),this._onInputUp&&this._onInputUp.dispose(),this._onDragStart&&this._onDragStart.dispose(),this._onDragUpdate&&this._onDragUpdate.dispose(),this._onDragStop&&this._onDragStop.dispose(),this._onAnimationStart&&this._onAnimationStart.dispose(),this._onAnimationComplete&&this._onAnimationComplete.dispose(),this._onAnimationLoop&&this._onAnimationLoop.dispose()},onAddedToGroup:null,onRemovedFromGroup:null,onRemovedFromWorld:null,onDestroy:null,onKilled:null,onRevived:null,onOutOfBounds:null,onEnterBounds:null,onInputOver:null,onInputOut:null,onInputDown:null,onInputUp:null,onDragStart:null,onDragUpdate:null,onDragStop:null,onAnimationStart:null,onAnimationComplete:null,onAnimationLoop:null},U.Events.prototype.constructor=U.Events,U.Events.prototype)U.Events.prototype.hasOwnProperty(i)&&0===i.indexOf("on")&&null===U.Events.prototype[i]&&!function(e,t){"use strict";Object.defineProperty(U.Events.prototype,e,{get:function(){return this[t]||(this[t]=new U.Signal)}}),U.Events.prototype[e+"$dispatch"]=function(){return this[t]?this[t].dispatch.apply(this[t],arguments):null}}(i,"_"+i);U.Component.FixedToCamera=function(){},U.Component.FixedToCamera.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y)},U.Component.FixedToCamera.prototype={_fixedToCamera:!1,fixedToCamera:{get:function(){return this._fixedToCamera},set:function(e){e?(this._fixedToCamera=!0,this.cameraOffset.set(this.x,this.y)):this._fixedToCamera=!1}},cameraOffset:new U.Point},U.Component.Health=function(){},U.Component.Health.prototype={health:1,maxHealth:100,damage:function(e){return this.alive&&(this.health-=e,this.health<=0&&this.kill()),this},setHealth:function(e){return this.health=e,this.health>this.maxHealth&&(this.health=this.maxHealth),this},heal:function(e){return this.alive&&(this.health+=e,this.health>this.maxHealth&&(this.health=this.maxHealth)),this}},U.Component.InCamera=function(){},U.Component.InCamera.prototype={inCamera:{get:function(){return this.game.world.camera.view.intersects(this._bounds)}}},U.Component.InputEnabled=function(){},U.Component.InputEnabled.prototype={input:null,inputEnabled:{get:function(){return this.input&&this.input.enabled},set:function(e){e?null===this.input?(this.input=new U.InputHandler(this),this.input.start()):this.input&&!this.input.enabled&&this.input.start():this.input&&this.input.enabled&&this.input.stop()}}},U.Component.InWorld=function(){},U.Component.InWorld.preUpdate=function(){if(this.autoCull||this.checkWorldBounds){if(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y,this.autoCull)if(this.game.world.camera.view.intersects(this._bounds))this.renderable=!0,this.game.world.camera.totalInView++;else if(this.renderable=!1,this.outOfCameraBoundsKill)return this.kill(),!1;if(this.checkWorldBounds)if(this._outOfBoundsFired&&this.game.world.bounds.intersects(this._bounds))this._outOfBoundsFired=!1,this.events.onEnterBounds$dispatch(this);else if(!this._outOfBoundsFired&&!this.game.world.bounds.intersects(this._bounds)&&(this._outOfBoundsFired=!0,this.events.onOutOfBounds$dispatch(this),this.outOfBoundsKill))return this.kill(),!1}return!0},U.Component.InWorld.prototype={checkWorldBounds:!1,outOfBoundsKill:!1,outOfCameraBoundsKill:!1,_outOfBoundsFired:!1,inWorld:{get:function(){return this.game.world.bounds.intersects(this.getBounds())}}},U.Component.LifeSpan=function(){},U.Component.LifeSpan.preUpdate=function(){return!(0<this.lifespan&&(this.lifespan-=this.game.time.physicsElapsedMS,this.lifespan<=0))||(this.kill(),!1)},U.Component.LifeSpan.prototype={alive:!0,lifespan:0,revive:function(e){return void 0===e&&(e=100),this.alive=!0,this.exists=!0,this.visible=!0,"function"==typeof this.setHealth&&this.setHealth(e),this.events&&this.events.onRevived$dispatch(this),this},kill:function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.events&&this.events.onKilled$dispatch(this),this}},U.Component.LoadTexture=function(){},U.Component.LoadTexture.prototype={customRender:!1,_frame:null,loadTexture:function(e,t,i){t=e===U.PENDING_ATLAS?(e=t,0):t||0,(i||void 0===i)&&this.animations&&this.animations.stop(),this.key=e,this.customRender=!1;var n,i=this.game.cache,r=!0,o=!this.texture.baseTexture.scaleMode;U.RenderTexture&&e instanceof U.RenderTexture?(this.key=e.key,this.setTexture(e)):U.BitmapData&&e instanceof U.BitmapData?(this.customRender=!0,this.setTexture(e.texture),r=i.hasFrameData(e.key,U.Cache.BITMAPDATA)?!this.animations.loadFrameData(i.getFrameData(e.key,U.Cache.BITMAPDATA),t):!this.animations.loadFrameData(e.frameData,0)):U.Video&&e instanceof U.Video?(this.customRender=!0,n=e.texture.valid,this.setTexture(e.texture),this.setFrame(e.texture.frame.clone()),e.onChangeSource.add(this.resizeFrame,this),this.texture.valid=n):U.Tilemap&&e instanceof U.TilemapLayer?this.setTexture(PIXI.Texture.fromCanvas(e.canvas)):e instanceof PIXI.Texture?this.setTexture(e):(n=i.getImage(e,!0),this.key=n.key,this.setTexture(new PIXI.Texture(n.base)),this.texture.baseTexture.skipRender="__default"===e,r=!this.animations.loadFrameData(n.frameData,t)),r&&(this._frame=U.Rectangle.clone(this.texture.frame)),o||(this.texture.baseTexture.scaleMode=1)},setFrame:function(e){this._frame=e,this.texture.frame.x=e.x,this.texture.frame.y=e.y,this.texture.frame.width=e.width,this.texture.frame.height=e.height,this.texture.crop.x=e.x,this.texture.crop.y=e.y,this.texture.crop.width=e.width,this.texture.crop.height=e.height,e.trimmed?(this.texture.trim?(this.texture.trim.x=e.spriteSourceSizeX,this.texture.trim.y=e.spriteSourceSizeY,this.texture.trim.width=e.sourceSizeW,this.texture.trim.height=e.sourceSizeH):this.texture.trim={x:e.spriteSourceSizeX,y:e.spriteSourceSizeY,width:e.sourceSizeW,height:e.sourceSizeH},this.texture.width=e.sourceSizeW,this.texture.height=e.sourceSizeH,this.texture.frame.width=e.sourceSizeW,this.texture.frame.height=e.sourceSizeH):!e.trimmed&&this.texture.trim&&(this.texture.trim=null),this.cropRect&&this.updateCrop(),this.texture.requiresReTint=!0,this.texture._updateUvs(),this.tilingTexture&&(this.refreshTexture=!0)},resizeFrame:function(e,t,i){this.texture.frame.resize(t,i),this.texture.setFrame(this.texture.frame)},resetFrame:function(){this._frame&&this.setFrame(this._frame)},frame:{get:function(){return this.animations.frame},set:function(e){this.animations.frame=e}},frameName:{get:function(){return this.animations.frameName},set:function(e){this.animations.frameName=e}}},U.Component.Overlap=function(){},U.Component.Overlap.prototype={overlap:function(e){return U.Rectangle.intersects(this.getBounds(),e.getBounds())}},U.Component.PhysicsBody=function(){},U.Component.PhysicsBody.preUpdate=function(){return this.fresh&&this.exists?(this.world.setTo(this.parent.position.x+this.position.x,this.parent.position.y+this.position.y),this.worldTransform.tx=this.world.x,this.worldTransform.ty=this.world.y,this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.body&&this.body.preUpdate(),this.fresh=!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,!(!this._exists||!this.parent.exists)||!(this.renderOrderID=-1))},U.Component.PhysicsBody.postUpdate=function(){this.exists&&this.body&&this.body.postUpdate()},U.Component.PhysicsBody.prototype={body:null,x:{get:function(){return this.position.x},set:function(e){this.position.x=e,this.body&&!this.body.dirty&&(this.body._reset=!0)}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e,this.body&&!this.body.dirty&&(this.body._reset=!0)}}},U.Component.Reset=function(){},U.Component.Reset.prototype.reset=function(e,t,i){return void 0===i&&(i=1),this.world.set(e,t),this.position.set(e,t),this.fresh=!0,this.exists=!0,this.visible=!0,this.renderable=!0,this.components.InWorld&&(this._outOfBoundsFired=!1),this.components.LifeSpan&&(this.alive=!0,this.health=i),this.components.PhysicsBody&&this.body&&this.body.reset(e,t,!1,!1),this},U.Component.ScaleMinMax=function(){},U.Component.ScaleMinMax.prototype={transformCallback:null,transformCallbackContext:this,scaleMin:null,scaleMax:null,checkTransform:function(e){this.scaleMin&&(e.a<this.scaleMin.x&&(e.a=this.scaleMin.x),e.d<this.scaleMin.y&&(e.d=this.scaleMin.y)),this.scaleMax&&(e.a>this.scaleMax.x&&(e.a=this.scaleMax.x),e.d>this.scaleMax.y&&(e.d=this.scaleMax.y))},setScaleMinMax:function(e,t,i,n){void 0===t?t=i=n=e:void 0===i&&(i=n=t,t=e),null===e?this.scaleMin=null:this.scaleMin?this.scaleMin.set(e,t):this.scaleMin=new U.Point(e,t),null===i?this.scaleMax=null:this.scaleMax?this.scaleMax.set(i,n):this.scaleMax=new U.Point(i,n),null===this.scaleMin?this.transformCallback=null:(this.transformCallback=this.checkTransform,this.transformCallbackContext=this)}},U.Component.Smoothed=function(){},U.Component.Smoothed.prototype={smoothed:{get:function(){return!this.texture.baseTexture.scaleMode},set:function(e){e?this.texture&&(this.texture.baseTexture.scaleMode=0):this.texture&&(this.texture.baseTexture.scaleMode=1)}}},U.GameObjectFactory=function(e){this.game=e,this.world=this.game.world},U.GameObjectFactory.prototype={existing:function(e){return this.world.add(e)},weapon:function(e,t,i,n){var r=this.game.plugins.add(U.Weapon);return r.createBullets(e,t,i,n),r},image:function(e,t,i,n,r){return(r=void 0===r?this.world:r).add(new U.Image(this.game,e,t,i,n))},sprite:function(e,t,i,n,r){return(r=void 0===r?this.world:r).create(e,t,i,n)},creature:function(e,t,i,n,r){void 0===r&&(r=this.world);e=new U.Creature(this.game,e,t,i,n);return r.add(e),e},tween:function(e){return this.game.tweens.create(e)},group:function(e,t,i,n,r){return new U.Group(this.game,e,t,i,n,r)},physicsGroup:function(e,t,i,n){return new U.Group(this.game,t,i,n,!0,e)},spriteBatch:function(e,t,i){return new U.SpriteBatch(this.game,e=void 0===e?null:e,t=void 0===t?"group":t,i=void 0===i?!1:i)},audio:function(e,t,i,n){return this.game.sound.add(e,t,i,n)},sound:function(e,t,i,n){return this.game.sound.add(e,t,i,n)},audioSprite:function(e){return this.game.sound.addSprite(e)},tileSprite:function(e,t,i,n,r,o,a){return(a=void 0===a?this.world:a).add(new U.TileSprite(this.game,e,t,i,n,r,o))},rope:function(e,t,i,n,r,o){return(o=void 0===o?this.world:o).add(new U.Rope(this.game,e,t,i,n,r))},text:function(e,t,i,n,r){return(r=void 0===r?this.world:r).add(new U.Text(this.game,e,t,i,n))},button:function(e,t,i,n,r,o,a,s,p,l){return(l=void 0===l?this.world:l).add(new U.Button(this.game,e,t,i,n,r,o,a,s,p))},graphics:function(e,t,i){return(i=void 0===i?this.world:i).add(new U.Graphics(this.game,e,t))},emitter:function(e,t,i){return this.game.particles.add(new U.Particles.Arcade.Emitter(this.game,e,t,i))},retroFont:function(e,t,i,n,r,o,a,s,p){return new U.RetroFont(this.game,e,t,i,n,r,o,a,s,p)},bitmapText:function(e,t,i,n,r,o){return(o=void 0===o?this.world:o).add(new U.BitmapText(this.game,e,t,i,n,r))},tilemap:function(e,t,i,n,r){return new U.Tilemap(this.game,e,t,i,n,r)},renderTexture:function(e,t,i,n){void 0!==i&&""!==i||(i=this.game.rnd.uuid()),void 0===n&&(n=!1);e=new U.RenderTexture(this.game,e,t,i);return n&&this.game.cache.addRenderTexture(i,e),e},video:function(e,t){return new U.Video(this.game,e,t)},bitmapData:function(e,t,i,n){void 0===n&&(n=!1),void 0!==i&&""!==i||(i=this.game.rnd.uuid());e=new U.BitmapData(this.game,i,e,t);return n&&this.game.cache.addBitmapData(i,e),e},filter:function(e){var t=Array.prototype.slice.call(arguments,1),e=new U.Filter[e](this.game);return e.init.apply(e,t),e},plugin:function(e){return this.game.plugins.add(e)}},U.GameObjectFactory.prototype.constructor=U.GameObjectFactory,U.GameObjectCreator=function(e){this.game=e,this.world=this.game.world},U.GameObjectCreator.prototype={image:function(e,t,i,n){return new U.Image(this.game,e,t,i,n)},sprite:function(e,t,i,n){return new U.Sprite(this.game,e,t,i,n)},tween:function(e){return new U.Tween(e,this.game,this.game.tweens)},group:function(e,t,i,n,r){return new U.Group(this.game,e,t,i,n,r)},spriteBatch:function(e,t,i){return new U.SpriteBatch(this.game,e,t=void 0===t?"group":t,i=void 0===i?!1:i)},audio:function(e,t,i,n){return this.game.sound.add(e,t,i,n)},audioSprite:function(e){return this.game.sound.addSprite(e)},sound:function(e,t,i,n){return this.game.sound.add(e,t,i,n)},tileSprite:function(e,t,i,n,r,o){return new U.TileSprite(this.game,e,t,i,n,r,o)},rope:function(e,t,i,n,r){return new U.Rope(this.game,e,t,i,n,r)},text:function(e,t,i,n){return new U.Text(this.game,e,t,i,n)},button:function(e,t,i,n,r,o,a,s,p){return new U.Button(this.game,e,t,i,n,r,o,a,s,p)},graphics:function(e,t){return new U.Graphics(this.game,e,t)},emitter:function(e,t,i){return new U.Particles.Arcade.Emitter(this.game,e,t,i)},retroFont:function(e,t,i,n,r,o,a,s,p){return new U.RetroFont(this.game,e,t,i,n,r,o,a,s,p)},bitmapText:function(e,t,i,n,r,o){return new U.BitmapText(this.game,e,t,i,n,r,o)},tilemap:function(e,t,i,n,r){return new U.Tilemap(this.game,e,t,i,n,r)},renderTexture:function(e,t,i,n){void 0!==i&&""!==i||(i=this.game.rnd.uuid()),void 0===n&&(n=!1);e=new U.RenderTexture(this.game,e,t,i);return n&&this.game.cache.addRenderTexture(i,e),e},bitmapData:function(e,t,i,n){void 0===n&&(n=!1),void 0!==i&&""!==i||(i=this.game.rnd.uuid());e=new U.BitmapData(this.game,i,e,t);return n&&this.game.cache.addBitmapData(i,e),e},filter:function(e){var t=Array.prototype.slice.call(arguments,1),e=new U.Filter[e](this.game);return e.init.apply(e,t),e}},U.GameObjectCreator.prototype.constructor=U.GameObjectCreator,U.Sprite=function(e,t,i,n,r){t=t||0,i=i||0,n=n||null,r=r||null,this.type=U.SPRITE,this.physicsType=U.SPRITE,PIXI.Sprite.call(this,U.Cache.DEFAULT),U.Component.Core.init.call(this,e,t,i,n,r)},U.Sprite.prototype=Object.create(PIXI.Sprite.prototype),U.Sprite.prototype.constructor=U.Sprite,U.Component.Core.install.call(U.Sprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),U.Sprite.prototype.preUpdatePhysics=U.Component.PhysicsBody.preUpdate,U.Sprite.prototype.preUpdateLifeSpan=U.Component.LifeSpan.preUpdate,U.Sprite.prototype.preUpdateInWorld=U.Component.InWorld.preUpdate,U.Sprite.prototype.preUpdateCore=U.Component.Core.preUpdate,U.Sprite.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},U.Image=function(e,t,i,n,r){t=t||0,i=i||0,n=n||null,r=r||null,this.type=U.IMAGE,PIXI.Sprite.call(this,U.Cache.DEFAULT),U.Component.Core.init.call(this,e,t,i,n,r)},U.Image.prototype=Object.create(PIXI.Sprite.prototype),U.Image.prototype.constructor=U.Image,U.Component.Core.install.call(U.Image.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Destroy","FixedToCamera","InputEnabled","LifeSpan","LoadTexture","Overlap","Reset","ScaleMinMax","Smoothed"]),U.Image.prototype.preUpdateInWorld=U.Component.InWorld.preUpdate,U.Image.prototype.preUpdateCore=U.Component.Core.preUpdate,U.Image.prototype.preUpdate=function(){return!!this.preUpdateInWorld()&&this.preUpdateCore()},U.Button=function(e,t,i,n,r,o,a,s,p,l){r=r||null,o=o||this,U.Image.call(this,e,t=t||0,i=i||0,n=n||null,s),this.type=U.BUTTON,this.physicsType=U.SPRITE,this._onOverFrame=null,this._onOutFrame=null,this._onDownFrame=null,this._onUpFrame=null,this.onOverSound=null,this.onOutSound=null,this.onDownSound=null,this.onUpSound=null,this.onOverSoundMarker="",this.onOutSoundMarker="",this.onDownSoundMarker="",this.onUpSoundMarker="",this.onInputOver=new U.Signal,this.onInputOut=new U.Signal,this.onInputDown=new U.Signal,this.onInputUp=new U.Signal,this.onOverMouseOnly=!0,this.justReleasedPreventsOver=U.PointerMode.TOUCH,this.freezeFrames=!1,this.forceOut=!1,this.inputEnabled=!0,this.input.start(0,!0),this.input.useHandCursor=!0,this.setFrames(a,s,p,l),null!==r&&this.onInputUp.add(r,o),this.events.onInputOver.add(this.onInputOverHandler,this),this.events.onInputOut.add(this.onInputOutHandler,this),this.events.onInputDown.add(this.onInputDownHandler,this),this.events.onInputUp.add(this.onInputUpHandler,this),this.events.onRemovedFromWorld.add(this.removedFromWorld,this)},U.Button.prototype=Object.create(U.Image.prototype),U.Button.prototype.constructor=U.Button;var p="Over",l="Out",h="Down",a=(U.Button.prototype.clearFrames=function(){this.setFrames(null,null,null,null)},U.Button.prototype.removedFromWorld=function(){this.inputEnabled=!1},U.Button.prototype.setStateFrame=function(e,t,i){var n="_on"+e+"Frame";null!==t?(this[n]=t,i&&this.changeStateFrame(e)):this[n]=null},U.Button.prototype.changeStateFrame=function(e){if(this.freezeFrames)return!1;e=this["_on"+e+"Frame"];return"string"==typeof e?(this.frameName=e,!0):"number"==typeof e&&(this.frame=e,!0)},U.Button.prototype.setFrames=function(e,t,i,n){this.setStateFrame(p,e,this.input.pointerOver()),this.setStateFrame(l,t,!this.input.pointerOver()),this.setStateFrame(h,i,this.input.pointerDown()),this.setStateFrame("Up",n,this.input.pointerUp())},U.Button.prototype.setStateSound=function(e,t,i){var n="on"+e+"Sound",e="on"+e+"SoundMarker";t instanceof U.Sound||t instanceof U.AudioSprite?(this[n]=t,this[e]="string"==typeof i?i:""):(this[n]=null,this[e]="")},U.Button.prototype.playStateSound=function(e){var t=this["on"+e+"Sound"];return!!t&&(e=this["on"+e+"SoundMarker"],t.play(e),!0)},U.Button.prototype.setSounds=function(e,t,i,n,r,o,a,s){this.setStateSound(p,e,t),this.setStateSound(l,r,o),this.setStateSound(h,i,n),this.setStateSound("Up",a,s)},U.Button.prototype.setOverSound=function(e,t){this.setStateSound(p,e,t)},U.Button.prototype.setOutSound=function(e,t){this.setStateSound(l,e,t)},U.Button.prototype.setDownSound=function(e,t){this.setStateSound(h,e,t)},U.Button.prototype.setUpSound=function(e,t){this.setStateSound("Up",e,t)},U.Button.prototype.onInputOverHandler=function(e,t){t.justReleased()&&(this.justReleasedPreventsOver&t.pointerMode)===t.pointerMode||(this.changeStateFrame(p),this.onOverMouseOnly&&!t.isMouse||(this.playStateSound(p),this.onInputOver&&this.onInputOver.dispatch(this,t)))},U.Button.prototype.onInputOutHandler=function(e,t){this.changeStateFrame(l),this.playStateSound(l),this.onInputOut&&this.onInputOut.dispatch(this,t)},U.Button.prototype.onInputDownHandler=function(e,t){this.changeStateFrame(h),this.playStateSound(h),this.onInputDown&&this.onInputDown.dispatch(this,t)},U.Button.prototype.onInputUpHandler=function(e,t,i){this.playStateSound("Up"),this.onInputUp&&this.onInputUp.dispatch(this,t,i),this.freezeFrames||(!0===this.forceOut||(this.forceOut&t.pointerMode)===t.pointerMode?this.changeStateFrame(l):this.changeStateFrame("Up")||(i?this.changeStateFrame(p):this.changeStateFrame(l)))},U.SpriteBatch=function(e,t,i,n){null==t&&(t=e.world),PIXI.SpriteBatch.call(this),U.Group.call(this,e,t,i,n),this.type=U.SPRITEBATCH},U.SpriteBatch.prototype=U.Utils.extend(!0,U.SpriteBatch.prototype,PIXI.SpriteBatch.prototype,U.Group.prototype),U.SpriteBatch.prototype.constructor=U.SpriteBatch,U.BitmapData=function(e,t,i,n,r){void 0!==i&&0!==i||(i=256),void 0!==n&&0!==n||(n=256),void 0===r&&(r=!1),this.game=e,this.key=t,this.width=i,this.height=n,this.canvas=U.Canvas.create(this,i,n,null,r),this.context=this.canvas.getContext("2d",{alpha:!0}),this.ctx=this.context,this.smoothProperty=e.renderType===U.CANVAS?e.renderer.renderSession.smoothProperty:U.Canvas.getSmoothingPrefix(this.context),this.imageData=this.context.getImageData(0,0,i,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data),this.baseTexture=new PIXI.BaseTexture(this.canvas),this.texture=new PIXI.Texture(this.baseTexture),this.frameData=new U.FrameData,this.textureFrame=this.frameData.addFrame(new U.Frame(0,0,0,i,n,"bitmapData")),this.texture.frame=this.textureFrame,this.type=U.BITMAPDATA,this.disableTextureUpload=!1,this.dirty=!1,this.cls=this.clear,this._image=null,this._pos=new U.Point,this._size=new U.Point,this._scale=new U.Point,this._rotate=0,this._alpha={prev:1,current:1},this._anchor=new U.Point,this._tempR=0,this._tempG=0,this._tempB=0,this._circle=new U.Circle,this._swapCanvas=void 0},U.BitmapData.prototype={move:function(e,t,i){return 0!==e&&this.moveH(e,i),0!==t&&this.moveV(t,i),this},moveH:function(e,t){void 0===t&&(t=!0),void 0===this._swapCanvas&&(this._swapCanvas=PIXI.CanvasPool.create(this,this.width,this.height));var i,n=this._swapCanvas.getContext("2d"),r=this.height,o=this.canvas;return n.clearRect(0,0,this.width,this.height),e<0?(e=Math.abs(e),i=this.width-e,t&&n.drawImage(o,0,0,e,r,i,0,e,r),n.drawImage(o,e,0,i,r,0,0,i,r)):(i=this.width-e,t&&n.drawImage(o,i,0,e,r,0,0,e,r),n.drawImage(o,0,0,i,r,e,0,i,r)),this.clear(),this.copy(this._swapCanvas)},moveV:function(e,t){void 0===t&&(t=!0),void 0===this._swapCanvas&&(this._swapCanvas=PIXI.CanvasPool.create(this,this.width,this.height));var i,n=this._swapCanvas.getContext("2d"),r=this.width,o=this.canvas;return n.clearRect(0,0,this.width,this.height),e<0?(e=Math.abs(e),i=this.height-e,t&&n.drawImage(o,0,0,r,e,0,i,r,e),n.drawImage(o,0,e,r,i,0,0,r,i)):(i=this.height-e,t&&n.drawImage(o,0,i,r,e,0,0,r,e),n.drawImage(o,0,0,r,i,0,e,r,i)),this.clear(),this.copy(this._swapCanvas)},add:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t].loadTexture&&e[t].loadTexture(this);else e.loadTexture(this);return this},load:function(e){if(e="string"==typeof e?this.game.cache.getImage(e):e)return this.resize(e.width,e.height),this.cls(),this.draw(e),this.update(),this},clear:function(e,t,i,n){return void 0===i&&(i=this.width),void 0===n&&(n=this.height),this.context.clearRect(e=void 0===e?0:e,t=void 0===t?0:t,i,n),this.dirty=!0,this},fill:function(e,t,i,n){return this.context.fillStyle="rgba("+e+","+t+","+i+","+(n=void 0===n?1:n)+")",this.context.fillRect(0,0,this.width,this.height),this.dirty=!0,this},generateTexture:function(e){var t=new Image,e=(t.src=this.canvas.toDataURL("image/png"),this.game.cache.addImage(e,"",t));return new PIXI.Texture(e.base)},resize:function(e,t){return e===this.width&&t===this.height||(this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t,void 0!==this._swapCanvas&&(this._swapCanvas.width=e,this._swapCanvas.height=t),this.baseTexture.width=e,this.baseTexture.height=t,this.textureFrame.width=e,this.textureFrame.height=t,this.texture.width=e,this.texture.height=t,this.texture.crop.width=e,this.texture.crop.height=t,this.update(),this.dirty=!0),this},update:function(e,t,i,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=Math.max(1,this.width)),void 0===n&&(n=Math.max(1,this.height)),this.imageData=this.context.getImageData(e,t,i,n),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this},processPixelRGB:function(e,t,i,n,r,o){for(var a,s=(i=void 0===i?0:i)+(r=void 0===r?this.width:r),p=(n=void 0===n?0:n)+(o=void 0===o?this.height:o),l=U.Color.createColor(),h=!1,u=n;u<p;u++)for(var d=i;d<s;d++)U.Color.unpackPixel(this.getPixel32(d,u),l),!1!==(a=e.call(t,l,d,u))&&null!=a&&(this.setPixel32(d,u,a.r,a.g,a.b,a.a,!1),h=!0);return h&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},processPixel:function(e,t,i,n,r,o){for(var a,s,p=(i=void 0===i?0:i)+(r=void 0===r?this.width:r),l=(n=void 0===n?0:n)+(o=void 0===o?this.height:o),h=!1,u=n;u<l;u++)for(var d=i;d<p;d++)a=this.getPixel32(d,u),(s=e.call(t,a,d,u))!==a&&(this.pixels[u*this.width+d]=s,h=!0);return h&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},replaceRGB:function(e,t,i,n,r,o,a,s,p){var l=0,h=0,u=this.width,d=this.height,c=U.Color.packPixel(e,t,i,n);void 0!==p&&p instanceof U.Rectangle&&(l=p.x,h=p.y,u=p.width,d=p.height);for(var m=0;m<d;m++)for(var y=0;y<u;y++)this.getPixel32(l+y,h+m)===c&&this.setPixel32(l+y,h+m,r,o,a,s,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this},setHSL:function(e,t,i,n){var r=e||0===e,o=t||0===t,a=i||0===i;if(r||o||a){void 0===n&&(n=new U.Rectangle(0,0,this.width,this.height));for(var s=U.Color.createColor(),p=n.y;p<n.bottom;p++)for(var l=n.x;l<n.right;l++)U.Color.unpackPixel(this.getPixel32(l,p),s,!0),r&&(s.h=e),o&&(s.s=t),a&&(s.l=i),U.Color.HSLtoRGB(s.h,s.s,s.l,s),this.setPixel32(l,p,s.r,s.g,s.b,s.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},shiftHSL:function(e,t,i,n){if(null==t&&(t=!1),null==i&&(i=!1),(e=null==e?!1:e)||t||i){void 0===n&&(n=new U.Rectangle(0,0,this.width,this.height));for(var r=U.Color.createColor(),o=n.y;o<n.bottom;o++)for(var a=n.x;a<n.right;a++)U.Color.unpackPixel(this.getPixel32(a,o),r,!0),e&&(r.h=this.game.math.wrap(r.h+e,0,1)),t&&(r.s=this.game.math.clamp(r.s+t,0,1)),i&&(r.l=this.game.math.clamp(r.l+i,0,1)),U.Color.HSLtoRGB(r.h,r.s,r.l,r),this.setPixel32(a,o,r.r,r.g,r.b,r.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},setPixel32:function(e,t,i,n,r,o,a){return void 0===a&&(a=!0),0<=e&&e<=this.width&&0<=t&&t<=this.height&&(U.Device.LITTLE_ENDIAN?this.pixels[t*this.width+e]=o<<24|r<<16|n<<8|i:this.pixels[t*this.width+e]=i<<24|n<<16|r<<8|o,a&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0)),this},setPixel:function(e,t,i,n,r,o){return this.setPixel32(e,t,i,n,r,255,o)},getPixel:function(e,t,i){i=i||U.Color.createColor();e=~~(e+t*this.width);return i.r=this.data[e*=4],i.g=this.data[++e],i.b=this.data[++e],i.a=this.data[++e],i},getPixel32:function(e,t){if(0<=e&&e<=this.width&&0<=t&&t<=this.height)return this.pixels[t*this.width+e]},getPixelRGB:function(e,t,i,n,r){return U.Color.unpackPixel(this.getPixel32(e,t),i,n,r)},getPixels:function(e){return this.context.getImageData(e.x,e.y,e.width,e.height)},getFirstPixel:function(e){void 0===e&&(e=0);var t=U.Color.createColor(),i=0,n=0,r=1,o=!1;for(1===e?(r=-1,n=this.height):3===e&&(r=-1,i=this.width);U.Color.unpackPixel(this.getPixel32(i,n),t),0===e||1===e?++i===this.width&&(i=0,((n+=r)>=this.height||n<=0)&&(o=!0)):2!==e&&3!==e||++n===this.height&&(n=0,((i+=r)>=this.width||i<=0)&&(o=!0)),0===t.a&&!o;);return t.x=i,t.y=n,t},getBounds:function(e){return(e=void 0===e?new U.Rectangle:e).x=this.getFirstPixel(2).x,e.x===this.width?e.setTo(0,0,0,0):(e.y=this.getFirstPixel(0).y,e.width=this.getFirstPixel(3).x-e.x+1,e.height=this.getFirstPixel(1).y-e.y+1,e)},addToWorld:function(e,t,i,n,r,o){r=r||1,o=o||1;e=this.game.add.image(e,t,this);return e.anchor.set(i,n),e.scale.set(r,o),e},copy:function(e,t,i,n,r,o,a,s,p,l,h,u,d,c,m,y,_){if(((e=null==e?this:e)instanceof U.RenderTexture||e instanceof PIXI.RenderTexture)&&(e=e.getCanvas()),(this._image=e)instanceof U.Sprite||e instanceof U.Image||e instanceof U.Text||e instanceof PIXI.Sprite)this._pos.set(e.texture.crop.x,e.texture.crop.y),this._size.set(e.texture.crop.width,e.texture.crop.height),this._scale.set(e.scale.x,e.scale.y),this._anchor.set(e.anchor.x,e.anchor.y),this._rotate=e.rotation,this._alpha.current=e.alpha,e.texture instanceof U.RenderTexture||e.texture instanceof PIXI.RenderTexture?this._image=e.texture.getCanvas():this._image=e.texture.baseTexture.source,null==o&&(o=e.x),null==a&&(a=e.y),e.texture.trim&&(o+=e.texture.trim.x-e.anchor.x*e.texture.trim.width,a+=e.texture.trim.y-e.anchor.y*e.texture.trim.height),16777215!==e.tint&&(e.cachedTint!==e.tint&&(e.cachedTint=e.tint,e.tintedTexture=PIXI.CanvasTinter.getTintedTexture(e,e.tint)),this._image=e.tintedTexture,this._pos.set(0));else{if(this._pos.set(0),this._scale.set(1),this._anchor.set(0),this._rotate=0,this._alpha.current=1,e instanceof U.BitmapData)this._image=e.canvas;else if("string"==typeof e){if(null===(e=this.game.cache.getImage(e)))return;this._image=e}this._size.set(this._image.width,this._image.height)}if(null==t&&(t=0),null==i&&(i=0),n&&(this._size.x=n),r&&(this._size.y=r),null==o&&(o=t),null==a&&(a=i),null==s&&(s=this._size.x),null==p&&(p=this._size.y),"number"==typeof l&&(this._rotate=l),"number"==typeof h&&(this._anchor.x=h),"number"==typeof u&&(this._anchor.y=u),"number"==typeof d&&(this._scale.x=d),"number"==typeof c&&(this._scale.y=c),"number"==typeof m&&(this._alpha.current=m),void 0===y&&(y=null),void 0===_&&(_=!1),!(this._alpha.current<=0||0===this._scale.x||0===this._scale.y||0===this._size.x||0===this._size.y))return e=this.context,this._alpha.prev=e.globalAlpha,e.save(),e.globalAlpha=this._alpha.current,y&&(this.op=y),_&&(o|=0,a|=0),e.translate(o,a),e.scale(this._scale.x,this._scale.y),e.rotate(this._rotate),e.drawImage(this._image,this._pos.x+t,this._pos.y+i,this._size.x,this._size.y,-s*this._anchor.x,-p*this._anchor.y,s,p),e.restore(),e.globalAlpha=this._alpha.prev,this.dirty=!0,this},copyTransform:function(e,t,i){if(void 0===t&&(t=null),void 0===i&&(i=!1),!e.hasOwnProperty("worldTransform")||!e.worldVisible||0===e.worldAlpha)return this;var n=e.worldTransform;if(this._pos.set(e.texture.crop.x,e.texture.crop.y),this._size.set(e.texture.crop.width,e.texture.crop.height),0===n.a||0===n.d||0===this._size.x||0===this._size.y)return this;e.texture instanceof U.RenderTexture||e.texture instanceof PIXI.RenderTexture?this._image=e.texture.getCanvas():this._image=e.texture.baseTexture.source;var r=n.tx,o=n.ty,i=(e.texture.trim&&(r+=e.texture.trim.x-e.anchor.x*e.texture.trim.width,o+=e.texture.trim.y-e.anchor.y*e.texture.trim.height),16777215!==e.tint&&(e.cachedTint!==e.tint&&(e.cachedTint=e.tint,e.tintedTexture=PIXI.CanvasTinter.getTintedTexture(e,e.tint)),this._image=e.tintedTexture,this._pos.set(0)),i&&(r|=0,o|=0),this.context);return this._alpha.prev=i.globalAlpha,i.save(),i.globalAlpha=this._alpha.current,t&&(this.op=t),i[this.smoothProperty]=e.texture.baseTexture.scaleMode===PIXI.scaleModes.LINEAR,i.setTransform(n.a,n.b,n.c,n.d,r,o),i.drawImage(this._image,this._pos.x,this._pos.y,this._size.x,this._size.y,-this._size.x*e.anchor.x,-this._size.y*e.anchor.y,this._size.x,this._size.y),i.restore(),i.globalAlpha=this._alpha.prev,this.dirty=!0,this},copyRect:function(e,t,i,n,r,o,a){return this.copy(e,t.x,t.y,t.width,t.height,i,n,t.width,t.height,0,0,0,1,1,r,o,a)},draw:function(e,t,i,n,r,o,a){return this.copy(e,null,null,null,null,t,i,n,r,null,null,null,null,null,null,o,a)},drawGroup:function(e,t,i){return 0<e.total&&e.forEachExists(this.drawGroupProxy,this,t,i),this},drawGroupProxy:function(e,t,i){if(e.hasOwnProperty("texture")&&this.copyTransform(e,t,i),e.type===U.GROUP&&e.exists)this.drawGroup(e,t,i);else if(e.hasOwnProperty("children")&&0<e.children.length)for(var n=0;n<e.children.length;n++)e.children[n].exists&&this.copyTransform(e.children[n],t,i)},drawFull:function(e,t,i){if(!1===e.worldVisible||0===e.worldAlpha||e.hasOwnProperty("exists")&&!1===e.exists)return this;var n;if(e.type!==U.GROUP&&e.type!==U.EMITTER&&e.type!==U.BITMAPTEXT&&(e.type===U.GRAPHICS?(n=e.getBounds(),this.ctx.save(),this.ctx.translate(n.x,n.y),PIXI.CanvasGraphics.renderGraphics(e,this.ctx),this.ctx.restore()):this.copy(e,null,null,null,null,e.worldPosition.x,e.worldPosition.y,null,null,e.worldRotation,null,null,e.worldScale.x,e.worldScale.y,e.worldAlpha,t,i)),e.children)for(var r=0;r<e.children.length;r++)this.drawFull(e.children[r],t,i);return this},shadow:function(e,t,i,n){var r=this.context;return null==e?r.shadowColor="rgba(0,0,0,0)":(r.shadowColor=e,r.shadowBlur=t||5,r.shadowOffsetX=i||10,r.shadowOffsetY=n||10),this},alphaMask:function(e,t,i,n){return(null==n?this.draw(t):this.draw(t,n.x,n.y,n.width,n.height)).blendSourceAtop(),(null==i?this.draw(e):this.draw(e,i.x,i.y,i.width,i.height)).blendReset(),this},extract:function(n,r,o,a,s,e,p,l,h){return void 0===s&&(s=255),void 0===p&&(p=r),void 0===l&&(l=o),void 0===h&&(h=a),(e=void 0===e?!1:e)&&n.resize(this.width,this.height),this.processPixelRGB(function(e,t,i){return e.r===r&&e.g===o&&e.b===a&&n.setPixel32(t,i,p,l,h,s,!1),!1},this),n.context.putImageData(n.imageData,0,0),n.dirty=!0,n},rect:function(e,t,i,n,r){return void 0!==r&&(this.context.fillStyle=r),this.context.fillRect(e,t,i,n),this},text:function(e,t,i,n,r,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r="rgb(255,255,255)"),void 0===o&&(o=!0);var a=this.context,s=a.font;return a.font=n=void 0===n?"14px Courier":n,o&&(a.fillStyle="rgb(0,0,0)",a.fillText(e,t+1,i+1)),a.fillStyle=r,a.fillText(e,t,i),a.font=s,this},circle:function(e,t,i,n){var r=this.context;return void 0!==n&&(r.fillStyle=n),r.beginPath(),r.arc(e,t,i,0,2*Math.PI,!1),r.closePath(),r.fill(),this},line:function(e,t,i,n,r,o){void 0===r&&(r="#fff"),void 0===o&&(o=1);var a=this.context;return a.beginPath(),a.moveTo(e,t),a.lineTo(i,n),a.lineWidth=o,a.strokeStyle=r,a.stroke(),a.closePath(),this},textureLine:function(e,t,i){var n,r;if(void 0===i&&(i="repeat-x"),"string"!=typeof t||(t=this.game.cache.getImage(t)))return n=e.length,"no-repeat"===i&&n>t.width&&(n=t.width),r=this.context,r.fillStyle=r.createPattern(t,i),this._circle=new U.Circle(e.start.x,e.start.y,t.height),this._circle.circumferencePoint(e.angle-1.5707963267948966,!1,this._pos),r.save(),r.translate(this._pos.x,this._pos.y),r.rotate(e.angle),r.fillRect(0,0,n,t.height),r.restore(),this.dirty=!0,this},render:function(){return!this.disableTextureUpload&&this.dirty&&(this.baseTexture.dirty(),this.dirty=!1),this},destroy:function(){this.frameData.destroy(),this.texture.destroy(!0),PIXI.CanvasPool.remove(this)},blendReset:function(){return this.op="source-over",this},blendSourceOver:function(){return this.op="source-over",this},blendSourceIn:function(){return this.op="source-in",this},blendSourceOut:function(){return this.op="source-out",this},blendSourceAtop:function(){return this.op="source-atop",this},blendDestinationOver:function(){return this.op="destination-over",this},blendDestinationIn:function(){return this.op="destination-in",this},blendDestinationOut:function(){return this.op="destination-out",this},blendDestinationAtop:function(){return this.op="destination-atop",this},blendXor:function(){return this.op="xor",this},blendAdd:function(){return this.op="lighter",this},blendMultiply:function(){return this.op="multiply",this},blendScreen:function(){return this.op="screen",this},blendOverlay:function(){return this.op="overlay",this},blendDarken:function(){return this.op="darken",this},blendLighten:function(){return this.op="lighten",this},blendColorDodge:function(){return this.op="color-dodge",this},blendColorBurn:function(){return this.op="color-burn",this},blendHardLight:function(){return this.op="hard-light",this},blendSoftLight:function(){return this.op="soft-light",this},blendDifference:function(){return this.op="difference",this},blendExclusion:function(){return this.op="exclusion",this},blendHue:function(){return this.op="hue",this},blendSaturation:function(){return this.op="saturation",this},blendColor:function(){return this.op="color",this},blendLuminosity:function(){return this.op="luminosity",this}},Object.defineProperty(U.BitmapData.prototype,"smoothed",{get:function(){U.Canvas.getSmoothingEnabled(this.context)},set:function(e){U.Canvas.setSmoothingEnabled(this.context,e)}}),Object.defineProperty(U.BitmapData.prototype,"op",{get:function(){return this.context.globalCompositeOperation},set:function(e){this.context.globalCompositeOperation=e}}),U.BitmapData.getTransform=function(e,t,i,n,r,o){return{sx:i="number"!=typeof i?1:i,sy:n="number"!=typeof n?1:n,scaleX:i,scaleY:n,skewX:r="number"!=typeof r?0:r,skewY:o="number"!=typeof o?0:o,translateX:e="number"!=typeof e?0:e,translateY:t="number"!=typeof t?0:t,tx:e,ty:t}},U.BitmapData.prototype.constructor=U.BitmapData,PIXI.Graphics=function(){PIXI.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=PIXI.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new PIXI.Rectangle(0,0,1,1),this.dirty=!0,this._boundsDirty=!1,this.webGLDirty=!1,this.cachedSpriteDirty=!1},PIXI.Graphics.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),PIXI.Graphics.prototype.constructor=PIXI.Graphics,PIXI.Graphics.prototype.lineStyle=function(e,t,i){return this.lineWidth=e||0,this.lineColor=t||0,this.lineAlpha=void 0===i?1:i,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new PIXI.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},PIXI.Graphics.prototype.moveTo=function(e,t){return this.drawShape(new PIXI.Polygon([e,t])),this},PIXI.Graphics.prototype.lineTo=function(e,t){return this.currentPath||this.moveTo(0,0),this.currentPath.shape.points.push(e,t),this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.quadraticCurveTo=function(e,t,i,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var r,o,a=this.currentPath.shape.points,s=(0===a.length&&this.moveTo(0,0),a[a.length-2]),p=a[a.length-1],l=1;l<=20;++l)a.push((r=s+(e-s)*(o=l/20))+(e+(i-e)*o-r)*o,(r=p+(t-p)*o)+(t+(n-t)*o-r)*o);return this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.bezierCurveTo=function(e,t,i,n,r,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var a,s,p,l,h,u,d=this.currentPath.shape.points,c=d[d.length-2],m=d[d.length-1],y=1;y<=20;++y)d.push((p=(s=(a=1-(u=y/20))*a)*a)*c+3*s*u*e+3*a*(l=u*u)*i+(h=l*u)*r,p*m+3*s*u*t+3*a*l*n+h*o);return this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.arcTo=function(e,t,i,n,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var o,a,s,p,l,h=this.currentPath.shape.points,u=h[h.length-2],d=h[h.length-1]-t,u=u-e,n=n-t,i=i-e,c=Math.abs(d*i-u*n);return c<1e-8||0===r?h[h.length-2]===e&&h[h.length-1]===t||h.push(e,t):(h=d*d+u*u,s=n*n+i*i,l=d*n+u*i,h=(p=r*Math.sqrt(h)/c)*l/h,o=p*i+(c=r*Math.sqrt(s)/c)*u,a=p*n+c*d,s=i*(p+(l=c*l/s)),p=n*(p+l),l=Math.atan2(d*(c+h)-a,u*(c+h)-o),c=Math.atan2(p-a,s-o),this.arc(o+e,a+t,r,l,c,i*d<u*n)),this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.arc=function(e,t,i,n,r,o,a){if(n===r)return this;void 0===a&&(a=40),!(o=void 0===o?!1:o)&&r<=n?r+=2*Math.PI:o&&n<=r&&(n+=2*Math.PI);r=o?-1*(n-r):r-n,a=Math.ceil(Math.abs(r)/(2*Math.PI))*a;if(0==r)return this;for(var s=e+Math.cos(n)*i,p=t+Math.sin(n)*i,l=(o&&this.filling?this.moveTo(e,t):this.moveTo(s,p),this.currentPath.shape.points),h=r/(2*a),u=2*h,d=Math.cos(h),c=Math.sin(h),m=a-1,y=m%1/m,_=0;_<=m;_++){var x=h+n+u*(_+y*_),f=Math.cos(x),x=-Math.sin(x);l.push((d*f+c*x)*i+e,(d*-x+c*f)*i+t)}return this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.beginFill=function(e,t){return this.filling=!0,this.fillColor=e||0,this.fillAlpha=void 0===t?1:t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},PIXI.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},PIXI.Graphics.prototype.drawRect=function(e,t,i,n){return this.drawShape(new PIXI.Rectangle(e,t,i,n)),this},PIXI.Graphics.prototype.drawRoundedRect=function(e,t,i,n,r){return this.drawShape(new PIXI.RoundedRectangle(e,t,i,n,r)),this},PIXI.Graphics.prototype.drawCircle=function(e,t,i){return this.drawShape(new PIXI.Circle(e,t,i)),this},PIXI.Graphics.prototype.drawEllipse=function(e,t,i,n){return this.drawShape(new PIXI.Ellipse(e,t,i,n)),this},PIXI.Graphics.prototype.drawPolygon=function(e){var t=e=e instanceof U.Polygon||e instanceof PIXI.Polygon?e.points:e;if(!Array.isArray(t))for(var t=new Array(arguments.length),i=0;i<t.length;++i)t[i]=arguments[i];return this.drawShape(new U.Polygon(t)),this},PIXI.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this._boundsDirty=!0,this.clearDirty=!0,this.graphicsData=[],this.updateLocalBounds(),this},PIXI.Graphics.prototype.generateTexture=function(e,t,i){void 0===e&&(e=1),void 0===t&&(t=PIXI.scaleModes.DEFAULT),void 0===i&&(i=0);var n=this.getBounds(),i=(n.width+=i,n.height+=i,new PIXI.CanvasBuffer(n.width*e,n.height*e)),t=PIXI.Texture.fromCanvas(i.canvas,t);return t.baseTexture.resolution=e,i.context.scale(e,e),i.context.translate(-n.x,-n.y),PIXI.CanvasGraphics.renderGraphics(this,i.context),t},PIXI.Graphics.prototype._renderWebGL=function(e){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask)if(this._cacheAsBitmap)(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,PIXI.Sprite.prototype._renderWebGL.call(this._cachedSprite,e);else{var t;if(e.spriteBatch.stop(),e.blendModeManager.setBlendMode(this.blendMode),this._mask&&e.maskManager.pushMask(this._mask,e),this._filters&&e.filterManager.pushFilter(this._filterBlock),this.blendMode!==e.spriteBatch.currentBlendMode&&(e.spriteBatch.currentBlendMode=this.blendMode,t=PIXI.blendModesWebGL[e.spriteBatch.currentBlendMode],e.spriteBatch.gl.blendFunc(t[0],t[1])),this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),PIXI.WebGLGraphics.renderGraphics(this,e),this.children.length){e.spriteBatch.start();for(var i=0;i<this.children.length;i++)this.children[i]._renderWebGL(e);e.spriteBatch.stop()}this._filters&&e.filterManager.popFilter(),this._mask&&e.maskManager.popMask(this.mask,e),e.drawCount++,e.spriteBatch.start()}},PIXI.Graphics.prototype._renderCanvas=function(e){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask)if(this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint),this._cacheAsBitmap)(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,PIXI.Sprite.prototype._renderCanvas.call(this._cachedSprite,e);else{var t=e.context,i=this.worldTransform,n=(this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,t.globalCompositeOperation=PIXI.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e),e.resolution),r=i.tx*e.resolution+e.shakeX,o=i.ty*e.resolution+e.shakeY;t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,r,o),PIXI.CanvasGraphics.renderGraphics(this,t);for(var a=0;a<this.children.length;a++)this.children[a]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},PIXI.Graphics.prototype.getBounds=function(e){if(!this._currentBounds){if(!this.renderable)return PIXI.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var t=this._localBounds,i=t.x,n=t.width+t.x,r=t.y,t=t.height+t.y,e=e||this.worldTransform,o=e.a,a=e.b,s=e.c,p=e.d,l=e.tx,e=e.ty,h=o*n+s*t+l,u=p*t+a*n+e,d=o*i+s*t+l,t=p*t+a*i+e,c=o*i+s*r+l,i=p*r+a*i+e,o=o*n+s*r+l,s=p*r+a*n+e,l=d<(l=h)?d:l,p=s<(p=i<(p=t<(p=u)?t:p)?i:p)?s:p,r=(r=(r=(r=h)<d?d:r)<c?c:r)<o?o:r,a=(a=(a=(a=u)<t?t:a)<i?i:a)<s?s:a;this._bounds.x=l=o<(l=c<l?c:l)?o:l,this._bounds.width=r-l,this._bounds.y=p,this._bounds.height=a-p,this._currentBounds=this._bounds}return this._currentBounds},PIXI.Graphics.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=PIXI.identityMatrix;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform();var i=this.getBounds();for(this.worldTransform=e,t=0;t<this.children.length;t++)this.children[t].updateTransform();return i},PIXI.Graphics.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint);for(var t=this.graphicsData,i=0;i<t.length;i++){var n=t[i];if(n.fill&&(n.shape&&n.shape.contains(tempPoint.x,tempPoint.y)))return!0}return!1},PIXI.Graphics.prototype.updateLocalBounds=function(){var e=1/0,t=-1/0,i=1/0,n=-1/0;if(this.graphicsData.length)for(var r,o,a,s,p=0;p<this.graphicsData.length;p++){var l=this.graphicsData[p],h=l.type,u=l.lineWidth,l=l.shape;if(h===PIXI.Graphics.RECT||h===PIXI.Graphics.RREC)r=l.x-u/2,o=l.y-u/2,e=r<e?r:e,t=t<r+(a=l.width+u)?r+a:t,i=o<i?o:i,n=n<o+(s=l.height+u)?o+s:n;else if(h===PIXI.Graphics.CIRC)r=l.x,o=l.y,e=r-(a=l.radius+u/2)<e?r-a:e,t=t<r+a?r+a:t,i=o-(s=l.radius+u/2)<i?o-s:i,n=n<o+s?o+s:n;else if(h===PIXI.Graphics.ELIP)r=l.x,o=l.y,e=r-(a=l.width+u/2)<e?r-a:e,t=t<r+a?r+a:t,i=o-(s=l.height+u/2)<i?o-s:i,n=n<o+s?o+s:n;else for(var d=l.points,c=0;c<d.length;c++)d[c]instanceof U.Point?(r=d[c].x,o=d[c].y):(r=d[c],o=d[c+1],c<d.length-1&&c++),e=r-u<e?r-u:e,t=t<r+u?r+u:t,i=o-u<i?o-u:i,n=n<o+u?o+u:n}else n=i=t=e=0;var m=this.boundsPadding;this._localBounds.x=e-m,this._localBounds.width=t-e+2*m,this._localBounds.y=i-m,this._localBounds.height=n-i+2*m},PIXI.Graphics.prototype._generateCachedSprite=function(){var e,t,i=this.getLocalBounds();this._cachedSprite?this._cachedSprite.buffer.resize(i.width,i.height):(e=new PIXI.CanvasBuffer(i.width,i.height),t=PIXI.Texture.fromCanvas(e.canvas),this._cachedSprite=new PIXI.Sprite(t),this._cachedSprite.buffer=e,this._cachedSprite.worldTransform=this.worldTransform),this._cachedSprite.anchor.x=-(i.x/i.width),this._cachedSprite.anchor.y=-(i.y/i.height),this._cachedSprite.buffer.context.translate(-i.x,-i.y),this.worldAlpha=1,PIXI.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},PIXI.Graphics.prototype.updateCachedSpriteTexture=function(){var e=this._cachedSprite,t=e.texture,i=e.buffer.canvas;t.baseTexture.width=i.width,t.baseTexture.height=i.height,t.crop.width=t.frame.width=i.width,t.crop.height=t.frame.height=i.height,e._width=i.width,e._height=i.height,t.baseTexture.dirty()},PIXI.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},PIXI.Graphics.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null,e instanceof U.Polygon&&(e=e.clone()).flatten();e=new PIXI.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(e),e.type===PIXI.Graphics.POLY&&(e.shape.closed=this.filling,this.currentPath=e),this.dirty=!0,this._boundsDirty=!0,e},Object.defineProperty(PIXI.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap=e,this._cacheAsBitmap?this._generateCachedSprite():this.destroyCachedSprite(),this.dirty=!0,this.webGLDirty=!0}}),PIXI.GraphicsData=function(e,t,i,n,r,o,a){this.lineWidth=e,this.lineColor=t,this.lineAlpha=i,this._lineTint=t,this.fillColor=n,this.fillAlpha=r,this._fillTint=n,this.fill=o,this.shape=a,this.type=a.type},PIXI.GraphicsData.prototype.constructor=PIXI.GraphicsData,PIXI.GraphicsData.prototype.clone=function(){return new GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},PIXI.EarCut={},PIXI.EarCut.Triangulate=function(e,t,i){i=i||2;var n,r,o,a,s,p=t&&t.length,l=p?t[0]*i:e.length,h=PIXI.EarCut.linkedList(e,0,l,i,!0),u=[];if(!h)return u;if(p&&(h=PIXI.EarCut.eliminateHoles(e,t,h,i)),e.length>80*i){for(var d=n=e[0],c=r=e[1],m=i;m<l;m+=i)(o=e[m])<d&&(d=o),(a=e[m+1])<c&&(c=a),n<o&&(n=o),r<a&&(r=a);s=Math.max(n-d,r-c)}return PIXI.EarCut.earcutLinked(h,u,i,d,c,s),u},PIXI.EarCut.linkedList=function(e,t,i,n,r){for(var o,a=0,s=t,p=i-n;s<i;s+=n)a+=(e[p]-e[s])*(e[s+1]+e[p+1]),p=s;if(r===0<a)for(s=t;s<i;s+=n)o=PIXI.EarCut.insertNode(s,e[s],e[s+1],o);else for(s=i-n;t<=s;s-=n)o=PIXI.EarCut.insertNode(s,e[s],e[s+1],o);return o},PIXI.EarCut.filterPoints=function(e,t){if(!e)return e;t=t||e;var i,n=e;do{if(i=!1,n.steiner||!PIXI.EarCut.equals(n,n.next)&&0!==PIXI.EarCut.area(n.prev,n,n.next))n=n.next;else{if(PIXI.EarCut.removeNode(n),(n=t=n.prev)===n.next)return null;i=!0}}while(i||n!==t);return t},PIXI.EarCut.earcutLinked=function(e,t,i,n,r,o,a){if(e){!a&&o&&PIXI.EarCut.indexCurve(e,n,r,o);for(var s,p,l=e;e.prev!==e.next;)if(s=e.prev,p=e.next,o?PIXI.EarCut.isEarHashed(e,n,r,o):PIXI.EarCut.isEar(e))t.push(s.i/i),t.push(e.i/i),t.push(p.i/i),PIXI.EarCut.removeNode(e),e=p.next,l=p.next;else if((e=p)===l){a?1===a?(e=PIXI.EarCut.cureLocalIntersections(e,t,i),PIXI.EarCut.earcutLinked(e,t,i,n,r,o,2)):2===a&&PIXI.EarCut.splitEarcut(e,t,i,n,r,o):PIXI.EarCut.earcutLinked(PIXI.EarCut.filterPoints(e),t,i,n,r,o,1);break}}},PIXI.EarCut.isEar=function(e){var t=e.prev,i=e,n=e.next;if(0<=PIXI.EarCut.area(t,i,n))return!1;for(var r=e.next.next;r!==e.prev;){if(PIXI.EarCut.pointInTriangle(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&0<=PIXI.EarCut.area(r.prev,r,r.next))return!1;r=r.next}return!0},PIXI.EarCut.isEarHashed=function(e,t,i,n){var r=e.prev,o=e,a=e.next;if(0<=PIXI.EarCut.area(r,o,a))return!1;for(var s=(r.x<o.x?r.x<a.x?r:a:o.x<a.x?o:a).x,p=(r.y<o.y?r.y<a.y?r:a:o.y<a.y?o:a).y,l=(r.x>o.x?r.x>a.x?r:a:o.x>a.x?o:a).x,h=(r.y>o.y?r.y>a.y?r:a:o.y>a.y?o:a).y,u=PIXI.EarCut.zOrder(s,p,t,i,n),d=PIXI.EarCut.zOrder(l,h,t,i,n),c=e.nextZ;c&&c.z<=d;){if(c!==e.prev&&c!==e.next&&PIXI.EarCut.pointInTriangle(r.x,r.y,o.x,o.y,a.x,a.y,c.x,c.y)&&0<=PIXI.EarCut.area(c.prev,c,c.next))return!1;c=c.nextZ}for(c=e.prevZ;c&&c.z>=u;){if(c!==e.prev&&c!==e.next&&PIXI.EarCut.pointInTriangle(r.x,r.y,o.x,o.y,a.x,a.y,c.x,c.y)&&0<=PIXI.EarCut.area(c.prev,c,c.next))return!1;c=c.prevZ}return!0},PIXI.EarCut.cureLocalIntersections=function(e,t,i){var n=e;do{var r=n.prev,o=n.next.next}while(PIXI.EarCut.intersects(r,n,n.next,o)&&PIXI.EarCut.locallyInside(r,o)&&PIXI.EarCut.locallyInside(o,r)&&(t.push(r.i/i),t.push(n.i/i),t.push(o.i/i),PIXI.EarCut.removeNode(n),PIXI.EarCut.removeNode(n.next),n=e=o),(n=n.next)!==e);return n},PIXI.EarCut.splitEarcut=function(e,t,i,n,r,o){var a=e;do{for(var s,p=a.next.next;p!==a.prev;){if(a.i!==p.i&&PIXI.EarCut.isValidDiagonal(a,p))return s=PIXI.EarCut.splitPolygon(a,p),a=PIXI.EarCut.filterPoints(a,a.next),s=PIXI.EarCut.filterPoints(s,s.next),PIXI.EarCut.earcutLinked(a,t,i,n,r,o),void PIXI.EarCut.earcutLinked(s,t,i,n,r,o);p=p.next}}while((a=a.next)!==e)},PIXI.EarCut.eliminateHoles=function(e,t,i,n){for(var r,o,a=[],s=0,p=t.length;s<p;s++)o=t[s]*n,r=s<p-1?t[s+1]*n:e.length,(o=PIXI.EarCut.linkedList(e,o,r,n,!1))===o.next&&(o.steiner=!0),a.push(PIXI.EarCut.getLeftmost(o));for(a.sort(compareX),s=0;s<a.length;s++)PIXI.EarCut.eliminateHole(a[s],i),i=PIXI.EarCut.filterPoints(i,i.next);return i},PIXI.EarCut.compareX=function(e,t){return e.x-t.x},PIXI.EarCut.eliminateHole=function(e,t){(t=PIXI.EarCut.findHoleBridge(e,t))&&(t=PIXI.EarCut.splitPolygon(t,e),PIXI.EarCut.filterPoints(t,t.next))},PIXI.EarCut.findHoleBridge=function(e,t){var i,n,r=t,o=e.x,a=e.y,s=-1/0;do{}while(a<=r.y&&a>=r.next.y&&((n=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y))<=o&&s<n&&(s=n,i=r.x<r.next.x?r:r.next)),(r=r.next)!==t);if(!i)return null;if(e.x===i.x)return i.prev;for(var p,l=i,h=1/0,r=i.next;r!==l;)o>=r.x&&r.x>=i.x&&PIXI.EarCut.pointInTriangle(a<i.y?o:s,a,i.x,i.y,a<i.y?s:o,a,r.x,r.y)&&((p=Math.abs(a-r.y)/(o-r.x))<h||p===h&&r.x>i.x)&&PIXI.EarCut.locallyInside(r,e)&&(i=r,h=p),r=r.next;return i},PIXI.EarCut.indexCurve=function(e,t,i,n){for(var r=e;null===r.z&&(r.z=PIXI.EarCut.zOrder(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,(r=r.next)!==e;);r.prevZ.nextZ=null,r.prevZ=null,PIXI.EarCut.sortLinked(r)},PIXI.EarCut.sortLinked=function(e){var t,i,n,r,o,a,s,p,l=1;do{for(i=e,o=e=null,a=0;i;){for(a++,n=i,t=s=0;t<l&&(s++,n=n.nextZ);t++);for(p=l;0<s||0<p&&n;)0!==s&&(0===p||!n||i.z<=n.z)?(i=(r=i).nextZ,s--):(n=(r=n).nextZ,p--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;i=n}}while(o.nextZ=null,l*=2,1<a);return e},PIXI.EarCut.zOrder=function(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)/r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)/r)|t<<8))|t<<4))|t<<2))|t<<1))<<1},PIXI.EarCut.getLeftmost=function(e){for(var t=e,i=e;t.x<i.x&&(i=t),(t=t.next)!==e;);return i},PIXI.EarCut.pointInTriangle=function(e,t,i,n,r,o,a,s){return 0<=(r-a)*(t-s)-(e-a)*(o-s)&&0<=(e-a)*(n-s)-(i-a)*(t-s)&&0<=(i-a)*(o-s)-(r-a)*(n-s)},PIXI.EarCut.isValidDiagonal=function(e,t){return PIXI.EarCut.equals(e,t)||e.next.i!==t.i&&e.prev.i!==t.i&&!PIXI.EarCut.intersectsPolygon(e,t)&&PIXI.EarCut.locallyInside(e,t)&&PIXI.EarCut.locallyInside(t,e)&&PIXI.EarCut.middleInside(e,t)},PIXI.EarCut.area=function(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)},PIXI.EarCut.equals=function(e,t){return e.x===t.x&&e.y===t.y},PIXI.EarCut.intersects=function(e,t,i,n){return 0<PIXI.EarCut.area(e,t,i)!=0<PIXI.EarCut.area(e,t,n)&&0<PIXI.EarCut.area(i,n,e)!=0<PIXI.EarCut.area(i,n,t)},PIXI.EarCut.intersectsPolygon=function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&PIXI.EarCut.intersects(i,i.next,e,t))return!0}while((i=i.next)!==e);return!1},PIXI.EarCut.locallyInside=function(e,t){return PIXI.EarCut.area(e.prev,e,e.next)<0?0<=PIXI.EarCut.area(e,t,e.next)&&0<=PIXI.EarCut.area(e,e.prev,t):PIXI.EarCut.area(e,t,e.prev)<0||PIXI.EarCut.area(e,e.next,t)<0},PIXI.EarCut.middleInside=function(e,t){for(var i=e,n=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;i.y>o!=i.next.y>o&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),(i=i.next)!==e;);return n},PIXI.EarCut.splitPolygon=function(e,t){var i=new PIXI.EarCut.Node(e.i,e.x,e.y),n=new PIXI.EarCut.Node(t.i,t.x,t.y),r=e.next,o=t.prev;return(e.next=t).prev=e,(i.next=r).prev=i,(n.next=i).prev=n,(o.next=n).prev=o,n},PIXI.EarCut.insertNode=function(e,t,i,n){e=new PIXI.EarCut.Node(e,t,i);return n?(e.next=n.next,(e.prev=n).next.prev=e,n.next=e):(e.prev=e).next=e,e},PIXI.EarCut.removeNode=function(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)},PIXI.EarCut.Node=function(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1},PIXI.WebGLGraphics=function(){},PIXI.WebGLGraphics.stencilBufferLimit=6,PIXI.WebGLGraphics.renderGraphics=function(e,t){for(var i,n=t.gl,r=t.projection,o=t.offset,a=t.shaderManager.primitiveShader,s=(e.dirty&&PIXI.WebGLGraphics.updateGraphics(e,n),e._webGL[n.id]),p=0;p<s.data.length;p++)1===s.data[p].mode?(i=s.data[p],t.stencilManager.pushStencil(e,i,t),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(i.indices.length-4)),t.stencilManager.popStencil(e,i,t)):(i=s.data[p],t.shaderManager.setShader(a),a=t.shaderManager.primitiveShader,n.uniformMatrix3fv(a.translationMatrix,!1,e.worldTransform.toArray(!0)),n.uniform1f(a.flipY,1),n.uniform2f(a.projectionVector,r.x,-r.y),n.uniform2f(a.offsetVector,-o.x,-o.y),n.uniform3fv(a.tintColor,PIXI.hex2rgb(e.tint)),n.uniform1f(a.alpha,e.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,i.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(a.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,i.indices.length,n.UNSIGNED_SHORT,0))},PIXI.WebGLGraphics.updateGraphics=function(e,t){var i,n=(n=e._webGL[t.id])||(e._webGL[t.id]={lastIndex:0,data:[],gl:t});if(e.dirty=!1,e.clearDirty){for(e.clearDirty=!1,i=0;i<n.data.length;i++){var r=n.data[i];r.reset(),PIXI.WebGLGraphics.graphicsDataPool.push(r)}n.data=[],n.lastIndex=0}for(i=n.lastIndex;i<e.graphicsData.length;i++){var o,a=e.graphicsData[i];a.type===PIXI.Graphics.POLY?(a.points=a.shape.points.slice(),!a.shape.closed||a.points[0]===a.points[a.points.length-2]&&a.points[1]===a.points[a.points.length-1]||a.points.push(a.points[0],a.points[1]),a.fill&&a.points.length>=PIXI.WebGLGraphics.stencilBufferLimit&&(a.points.length<2*PIXI.WebGLGraphics.stencilBufferLimit?(o=PIXI.WebGLGraphics.switchMode(n,0),PIXI.WebGLGraphics.buildPoly(a,o)||(o=PIXI.WebGLGraphics.switchMode(n,1),PIXI.WebGLGraphics.buildComplexPoly(a,o))):(o=PIXI.WebGLGraphics.switchMode(n,1),PIXI.WebGLGraphics.buildComplexPoly(a,o))),0<a.lineWidth&&(o=PIXI.WebGLGraphics.switchMode(n,0),PIXI.WebGLGraphics.buildLine(a,o))):(o=PIXI.WebGLGraphics.switchMode(n,0),a.type===PIXI.Graphics.RECT?PIXI.WebGLGraphics.buildRectangle(a,o):a.type===PIXI.Graphics.CIRC||a.type===PIXI.Graphics.ELIP?PIXI.WebGLGraphics.buildCircle(a,o):a.type===PIXI.Graphics.RREC&&PIXI.WebGLGraphics.buildRoundedRectangle(a,o)),n.lastIndex++}for(i=0;i<n.data.length;i++)(o=n.data[i]).dirty&&o.upload()},PIXI.WebGLGraphics.switchMode=function(e,t){var i;return e.data.length&&(i=e.data[e.data.length-1]).mode===t&&1!==t||((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(e.gl)).mode=t,e.data.push(i)),i.dirty=!0,i},PIXI.WebGLGraphics.buildRectangle=function(e,t){var i,n,r,o,a,s,p,l=e.shape,h=l.x,u=l.y,d=l.width,l=l.height;e.fill&&(o=PIXI.hex2rgb(e.fillColor),i=e.fillAlpha,n=o[0]*i,r=o[1]*i,o=o[2]*i,p=t.points,a=t.indices,s=p.length/6,p.push(h,u),p.push(n,r,o,i),p.push(h+d,u),p.push(n,r,o,i),p.push(h,u+l),p.push(n,r,o,i),p.push(h+d,u+l),p.push(n,r,o,i),a.push(s,s,1+s,2+s,3+s,3+s)),e.lineWidth&&(p=e.points,e.points=[h,u,h+d,u,h+d,u+l,h,u+l,h,u],PIXI.WebGLGraphics.buildLine(e,t),e.points=p)},PIXI.WebGLGraphics.buildRoundedRectangle=function(e,t){var i=e.shape,n=i.x,r=i.y,o=i.width,a=i.height,i=i.radius,s=[];if(s.push(n,r+i),s=(s=(s=(s=s.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n,r+a-i,n,r+a,n+i,r+a))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+o-i,r+a,n+o,r+a,n+o,r+a-i))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+o,r+i,n+o,r,n+o-i,r))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+i,r,n,r,n,r+i)),e.fill){for(var a=PIXI.hex2rgb(e.fillColor),p=e.fillAlpha,l=a[0]*p,h=a[1]*p,u=a[2]*p,d=t.points,c=t.indices,m=d.length/6,y=PIXI.EarCut.Triangulate(s,null,2),_=0,_=0;_<y.length;_+=3)c.push(y[_]+m),c.push(y[_]+m),c.push(y[_+1]+m),c.push(y[_+2]+m),c.push(y[_+2]+m);for(_=0;_<s.length;_++)d.push(s[_],s[++_],l,h,u,p)}e.lineWidth&&(o=e.points,e.points=s,PIXI.WebGLGraphics.buildLine(e,t),e.points=o)},PIXI.WebGLGraphics.quadraticBezierCurve=function(e,t,i,n,r,o){var a,s,p,l,h=[];function u(e,t,i){return e+(t-e)*i}for(var d,c=0;c<=20;c++)p=u(e,i,d=c/20),a=u(t,n,d),l=u(i,r,d),s=u(n,o,d),p=u(p,l,d),l=u(a,s,d),h.push(p,l);return h},PIXI.WebGLGraphics.buildCircle=function(e,t){var i,n=e.shape,r=n.x,o=n.y,a=e.type===PIXI.Graphics.CIRC?(i=n.radius,n.radius):(i=n.width,n.height),s=2*Math.PI/40,p=0;if(e.fill){var n=PIXI.hex2rgb(e.fillColor),l=e.fillAlpha,h=n[0]*l,u=n[1]*l,d=n[2]*l,c=t.points,m=t.indices,y=c.length/6;for(m.push(y),p=0;p<41;p++)c.push(r,o,h,u,d,l),c.push(r+Math.sin(s*p)*i,o+Math.cos(s*p)*a,h,u,d,l),m.push(y++,y++);m.push(y-1)}if(e.lineWidth){n=e.points;for(e.points=[],p=0;p<41;p++)e.points.push(r+Math.sin(s*p)*i,o+Math.cos(s*p)*a);PIXI.WebGLGraphics.buildLine(e,t),e.points=n}},PIXI.WebGLGraphics.buildLine=function(e,t){var i=0,n=e.points;if(0!==n.length){if(e.lineWidth%2)for(i=0;i<n.length;i++)n[i]+=.5;var r,o,a,s,p,l,h,u,d,c,m=new PIXI.Point(n[0],n[1]),y=new PIXI.Point(n[n.length-2],n[n.length-1]),_=(m.x===y.x&&m.y===y.y&&((n=n.slice()).pop(),n.pop(),r=(y=new PIXI.Point(n[n.length-2],n[n.length-1])).x+.5*(m.x-y.x),m=y.y+.5*(m.y-y.y),n.unshift(r,m),n.push(r,m)),t.points),x=t.indices,f=n.length/2,g=n.length,v=_.length/6,z=e.lineWidth/2,y=PIXI.hex2rgb(e.lineColor),b=e.lineAlpha,w=y[0]*b,S=y[1]*b,C=y[2]*b,k=n[0],M=n[1],P=n[2],O=n[3],T=-(M-O),G=k-P,A=Math.sqrt(T*T+G*G);for(_.push(k-(T=T/A*z),M-(G=G/A*z),w,S,C,b),_.push(k+T,M+G,w,S,C,b),i=1;i<f-1;i++)k=n[2*(i-1)],M=n[2*(i-1)+1],P=n[2*i],O=n[2*i+1],u=n[2*(i+1)],h=n[2*(i+1)+1],G=k-P,a=P-u,l=(-(T=(T=-(M-O))/(A=Math.sqrt(T*T+G*G))*z)+k)*(-(G=G/A*z)+O)-(-T+P)*(-G+M),d=(-(o=(o=-(O-h))/(A=Math.sqrt(o*o+a*a))*z)+u)*(-(a=a/A*z)+O)-(-o+P)*(-a+h),c=(s=-G+M-(-G+O))*(u=-o+P-(-o+u))-(h=-a+h-(-a+O))*(p=-T+P-(-T+k)),Math.abs(c)<.1?(c+=10.1,_.push(P-T,O-G,w,S,C,b),_.push(P+T,O+G,w,S,C,b)):19600<((p=(p*d-u*l)/c)-P)*(p-P)+((u=(h*l-s*d)/c)-O)+(u-O)?(h=G-a,l=(l=T-o)/(A=Math.sqrt(l*l+h*h))*z,_.push(P-l,O-(h=h/A*z)),_.push(w,S,C,b),_.push(P+l,O+h),_.push(w,S,C,b),_.push(P-l,O-h),_.push(w,S,C,b),g++):(_.push(p,u),_.push(w,S,C,b),_.push(P-(p-P),O-(u-O)),_.push(w,S,C,b));for(k=n[2*(f-2)],M=n[2*(f-2)+1],P=n[2*(f-1)],T=-(M-(O=n[2*(f-1)+1])),G=k-P,A=Math.sqrt(T*T+G*G),_.push(P-(T=T/A*z),O-(G=G/A*z)),_.push(w,S,C,b),_.push(P+T,O+G),_.push(w,S,C,b),x.push(v),i=0;i<g;i++)x.push(v++);x.push(v-1)}},PIXI.WebGLGraphics.buildComplexPoly=function(e,t){var i=e.points.slice();if(!(i.length<6)){for(var n,r=t.indices,o=(t.points=i,t.alpha=e.fillAlpha,t.color=PIXI.hex2rgb(e.fillColor),1/0),a=-1/0,s=1/0,p=-1/0,l=0;l<i.length;l+=2)o=(n=i[l])<o?n:o,a=a<n?n:a,s=(n=i[l+1])<s?n:s,p=p<n?n:p;i.push(o,s,a,s,a,p,o,p);for(var h=i.length/2,l=0;l<h;l++)r.push(l)}},PIXI.WebGLGraphics.buildPoly=function(e,t){var i=e.points;if(!(i.length<6)){var n=t.points,r=t.indices,o=i.length/2,t=PIXI.hex2rgb(e.fillColor),a=e.fillAlpha,s=t[0]*a,p=t[1]*a,l=t[2]*a,h=PIXI.EarCut.Triangulate(i,null,2);if(!h)return!1;for(var u=n.length/6,d=0,d=0;d<h.length;d+=3)r.push(h[d]+u),r.push(h[d]+u),r.push(h[d+1]+u),r.push(h[d+2]+u),r.push(h[d+2]+u);for(d=0;d<o;d++)n.push(i[2*d],i[2*d+1],s,p,l,a);return!0}},PIXI.WebGLGraphics.graphicsDataPool=[],PIXI.WebGLGraphicsData=function(e){this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},PIXI.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},PIXI.WebGLGraphicsData.prototype.upload=function(){var e=this.gl;this.glPoints=new PIXI.Float32Array(this.points),e.bindBuffer(e.ARRAY_BUFFER,this.buffer),e.bufferData(e.ARRAY_BUFFER,this.glPoints,e.STATIC_DRAW),this.glIndicies=new PIXI.Uint16Array(this.indices),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.glIndicies,e.STATIC_DRAW),this.dirty=!1},PIXI.CanvasGraphics=function(){},PIXI.CanvasGraphics.renderGraphics=function(e,t){var i=e.worldAlpha;e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1);for(var n=0;n<e.graphicsData.length;n++){var r,o,a,s,p,l,h,u,d=e.graphicsData[n],c=d.shape,m=d._fillTint,y=d._lineTint;if(t.lineWidth=d.lineWidth,d.type===PIXI.Graphics.POLY){t.beginPath();var _=c.points;t.moveTo(_[0],_[1]);for(var x=1;x<_.length/2;x++)t.lineTo(_[2*x],_[2*x+1]);c.closed&&t.lineTo(_[0],_[1]),_[0]===_[_.length-2]&&_[1]===_[_.length-1]&&t.closePath(),d.fill&&(t.globalAlpha=d.fillAlpha*i,t.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),t.fill()),d.lineWidth&&(t.globalAlpha=d.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|y).toString(16)).substr(-6),t.stroke())}else d.type===PIXI.Graphics.RECT?(!d.fillColor&&0!==d.fillColor||(t.globalAlpha=d.fillAlpha*i,t.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),t.fillRect(c.x,c.y,c.width,c.height)),d.lineWidth&&(t.globalAlpha=d.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|y).toString(16)).substr(-6),t.strokeRect(c.x,c.y,c.width,c.height))):d.type===PIXI.Graphics.CIRC?(t.beginPath(),t.arc(c.x,c.y,c.radius,0,2*Math.PI),t.closePath(),d.fill&&(t.globalAlpha=d.fillAlpha*i,t.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),t.fill()),d.lineWidth&&(t.globalAlpha=d.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|y).toString(16)).substr(-6),t.stroke())):d.type===PIXI.Graphics.ELIP?(p=2*c.width,o=2*c.height,r=c.x-p/2,a=c.y-o/2,t.beginPath(),l=p/2*.5522848,h=o/2*.5522848,s=r+p,u=a+o,p=r+p/2,t.moveTo(r,o=a+o/2),t.bezierCurveTo(r,o-h,p-l,a,p,a),t.bezierCurveTo(p+l,a,s,o-h,s,o),t.bezierCurveTo(s,o+h,p+l,u,p,u),t.bezierCurveTo(p-l,u,r,o+h,r,o),t.closePath(),d.fill&&(t.globalAlpha=d.fillAlpha*i,t.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),t.fill()),d.lineWidth&&(t.globalAlpha=d.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|y).toString(16)).substr(-6),t.stroke())):d.type===PIXI.Graphics.RREC&&(a=c.x,s=c.y,p=c.width,l=c.height,u=c.radius,u=(h=Math.min(p,l)/2|0)<u?h:u,t.beginPath(),t.moveTo(a,s+u),t.lineTo(a,s+l-u),t.quadraticCurveTo(a,s+l,a+u,s+l),t.lineTo(a+p-u,s+l),t.quadraticCurveTo(a+p,s+l,a+p,s+l-u),t.lineTo(a+p,s+u),t.quadraticCurveTo(a+p,s,a+p-u,s),t.lineTo(a+u,s),t.quadraticCurveTo(a,s,a,s+u),t.closePath(),!d.fillColor&&0!==d.fillColor||(t.globalAlpha=d.fillAlpha*i,t.fillStyle="#"+("00000"+(0|m).toString(16)).substr(-6),t.fill()),d.lineWidth&&(t.globalAlpha=d.lineAlpha*i,t.strokeStyle="#"+("00000"+(0|y).toString(16)).substr(-6),t.stroke()))}},PIXI.CanvasGraphics.renderGraphicsMask=function(e,t){var i=e.graphicsData.length;if(0!==i){t.beginPath();for(var n=0;n<i;n++){var r,o,a,s,p,l,h,u,d=e.graphicsData[n],c=d.shape;if(d.type===PIXI.Graphics.POLY){var m=c.points;t.moveTo(m[0],m[1]);for(var y=1;y<m.length/2;y++)t.lineTo(m[2*y],m[2*y+1]);m[0]===m[m.length-2]&&m[1]===m[m.length-1]&&t.closePath()}else d.type===PIXI.Graphics.RECT?(t.rect(c.x,c.y,c.width,c.height),t.closePath()):d.type===PIXI.Graphics.CIRC?(t.arc(c.x,c.y,c.radius,0,2*Math.PI),t.closePath()):d.type===PIXI.Graphics.ELIP?(l=(p=2*c.width)/2*.5522848,h=(o=2*c.height)/2*.5522848,s=(r=c.x-p/2)+p,u=(a=c.y-o/2)+o,p=r+p/2,t.moveTo(r,o=a+o/2),t.bezierCurveTo(r,o-h,p-l,a,p,a),t.bezierCurveTo(p+l,a,s,o-h,s,o),t.bezierCurveTo(s,o+h,p+l,u,p,u),t.bezierCurveTo(p-l,u,r,o+h,r,o),t.closePath()):d.type===PIXI.Graphics.RREC&&(a=c.x,s=c.y,p=c.width,l=c.height,u=c.radius,h=Math.min(p,l)/2|0,t.moveTo(a,s+(u=h<u?h:u)),t.lineTo(a,s+l-u),t.quadraticCurveTo(a,s+l,a+u,s+l),t.lineTo(a+p-u,s+l),t.quadraticCurveTo(a+p,s+l,a+p,s+l-u),t.lineTo(a+p,s+u),t.quadraticCurveTo(a+p,s,a+p-u,s),t.lineTo(a+u,s),t.quadraticCurveTo(a,s,a,s+u),t.closePath())}}},PIXI.CanvasGraphics.updateGraphicsTint=function(e){if(16777215!==e.tint)for(var t=(e.tint>>16&255)/255,i=(e.tint>>8&255)/255,n=(255&e.tint)/255,r=0;r<e.graphicsData.length;r++){var o=e.graphicsData[r],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*t*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*n*255,o._lineTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*n*255}},U.Graphics=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.type=U.GRAPHICS,this.physicsType=U.SPRITE,this.anchor=new U.Point,PIXI.Graphics.call(this),U.Component.Core.init.call(this,e,t,i,"",null)},U.Graphics.prototype=Object.create(PIXI.Graphics.prototype),U.Graphics.prototype.constructor=U.Graphics,U.Component.Core.install.call(U.Graphics.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),U.Graphics.prototype.preUpdatePhysics=U.Component.PhysicsBody.preUpdate,U.Graphics.prototype.preUpdateLifeSpan=U.Component.LifeSpan.preUpdate,U.Graphics.prototype.preUpdateInWorld=U.Component.InWorld.preUpdate,U.Graphics.prototype.preUpdateCore=U.Component.Core.preUpdate,U.Graphics.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},U.Graphics.prototype.postUpdate=function(){U.Component.PhysicsBody.postUpdate.call(this),U.Component.FixedToCamera.postUpdate.call(this),this._boundsDirty&&(this.updateLocalBounds(),this._boundsDirty=!1);for(var e=0;e<this.children.length;e++)this.children[e].postUpdate()},U.Graphics.prototype.destroy=function(e){this.clear(),U.Component.Destroy.prototype.destroy.call(this,e)},U.Graphics.prototype.drawTriangle=function(e,t){void 0===t&&(t=!1);var i,n=new U.Polygon(e);t?(t=new U.Point(this.game.camera.x-e[0].x,this.game.camera.y-e[0].y),i=new U.Point(e[1].x-e[0].x,e[1].y-e[0].y),e=new U.Point(e[1].x-e[2].x,e[1].y-e[2].y).cross(i),0<t.dot(e)&&this.drawPolygon(n)):this.drawPolygon(n)},U.Graphics.prototype.drawTriangles=function(e,t,i){void 0===i&&(i=!1);var n,r=new U.Point,o=new U.Point,a=new U.Point,s=[];if(t)if(e[0]instanceof U.Point)for(n=0;n<t.length/3;n++)s.push(e[t[3*n]]),s.push(e[t[3*n+1]]),s.push(e[t[3*n+2]]),3===s.length&&(this.drawTriangle(s,i),s=[]);else for(n=0;n<t.length;n++)r.x=e[2*t[n]],r.y=e[2*t[n]+1],s.push(r.copyTo({})),3===s.length&&(this.drawTriangle(s,i),s=[]);else if(e[0]instanceof U.Point)for(n=0;n<e.length/3;n++)this.drawTriangle([e[3*n],e[3*n+1],e[3*n+2]],i);else for(n=0;n<e.length/6;n++)r.x=e[6*n+0],r.y=e[6*n+1],o.x=e[6*n+2],o.y=e[6*n+3],a.x=e[6*n+4],a.y=e[6*n+5],this.drawTriangle([r,o,a],i)},U.RenderTexture=function(e,t,i,n,r,o){void 0===n&&(n=""),void 0===r&&(r=U.scaleModes.DEFAULT),void 0===o&&(o=1),this.game=e,this.key=n,this.type=U.RENDERTEXTURE,this._tempMatrix=new PIXI.Matrix,PIXI.RenderTexture.call(this,t,i,this.game.renderer,r,o),this.render=U.RenderTexture.prototype.render},U.RenderTexture.prototype=Object.create(PIXI.RenderTexture.prototype),U.RenderTexture.prototype.constructor=U.RenderTexture,U.RenderTexture.prototype.renderXY=function(e,t,i,n){e.updateTransform(),this._tempMatrix.copyFrom(e.worldTransform),this._tempMatrix.tx=t,this._tempMatrix.ty=i,this.renderer.type===PIXI.WEBGL_RENDERER?this.renderWebGL(e,this._tempMatrix,n):this.renderCanvas(e,this._tempMatrix,n)},U.RenderTexture.prototype.renderRawXY=function(e,t,i,n){this._tempMatrix.identity().translate(t,i),this.renderer.type===PIXI.WEBGL_RENDERER?this.renderWebGL(e,this._tempMatrix,n):this.renderCanvas(e,this._tempMatrix,n)},U.RenderTexture.prototype.render=function(e,t,i){null==t?this._tempMatrix.copyFrom(e.worldTransform):this._tempMatrix.copyFrom(t),this.renderer.type===PIXI.WEBGL_RENDERER?this.renderWebGL(e,this._tempMatrix,i):this.renderCanvas(e,this._tempMatrix,i)},U.Text=function(e,t,i,n,r){t=t||0,i=i||0,n=null==n?"":n.toString(),r=U.Utils.extend({},r),this.type=U.TEXT,this.physicsType=U.SPRITE,this.padding=new U.Point,this.textBounds=null,this.canvas=PIXI.CanvasPool.create(this),this.context=this.canvas.getContext("2d"),this.colors=[],this.strokeColors=[],this.fontStyles=[],this.fontWeights=[],this.autoRound=!1,this.useAdvancedWrap=!1,this._res=e.renderer.resolution,this._text=n,this._fontComponents=null,this._lineSpacing=0,this._charCount=0,this._width=0,this._height=0,U.Sprite.call(this,e,t,i,PIXI.Texture.fromCanvas(this.canvas)),this.setStyle(r),""!==n&&this.updateText()},U.Text.prototype=Object.create(U.Sprite.prototype),U.Text.prototype.constructor=U.Text,U.Text.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},U.Text.prototype.update=function(){},U.Text.prototype.destroy=function(e){this.texture.destroy(!0),U.Component.Destroy.prototype.destroy.call(this,e)},U.Text.prototype.setShadow=function(e,t,i,n,r,o){return void 0===t&&(t=0),void 0===i&&(i="rgba(0, 0, 0, 1)"),void 0===n&&(n=0),void 0===r&&(r=!0),void 0===o&&(o=!0),this.style.shadowOffsetX=e=void 0===e?0:e,this.style.shadowOffsetY=t,this.style.shadowColor=i,this.style.shadowBlur=n,this.style.shadowStroke=r,this.style.shadowFill=o,this.dirty=!0,this},U.Text.prototype.setStyle=function(e,t){void 0===t&&(t=!1),(e=e||{}).font=e.font||"bold 20pt Arial",e.backgroundColor=e.backgroundColor||null,e.fill=e.fill||"black",e.align=e.align||"left",e.boundsAlignH=e.boundsAlignH||"left",e.boundsAlignV=e.boundsAlignV||"top",e.stroke=e.stroke||"black",e.strokeThickness=e.strokeThickness||0,e.wordWrap=e.wordWrap||!1,e.wordWrapWidth=e.wordWrapWidth||100,e.maxLines=e.maxLines||0,e.shadowOffsetX=e.shadowOffsetX||0,e.shadowOffsetY=e.shadowOffsetY||0,e.shadowColor=e.shadowColor||"rgba(0,0,0,0)",e.shadowBlur=e.shadowBlur||0,e.tabs=e.tabs||0;var i=this.fontToComponents(e.font);return e.fontStyle&&(i.fontStyle=e.fontStyle),e.fontVariant&&(i.fontVariant=e.fontVariant),e.fontWeight&&(i.fontWeight=e.fontWeight),e.fontSize&&("number"==typeof e.fontSize&&(e.fontSize=e.fontSize+"px"),i.fontSize=e.fontSize),this._fontComponents=i,e.font=this.componentsToFont(this._fontComponents),this.style=e,this.dirty=!0,t&&this.updateText(),this},U.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font;var e=this.text,t=(e=this.style.wordWrap?this.runWordWrap(this.text):e).split(/(?:\r\n|\r|\n)/),i=this.style.tabs,n=[],r=0,o=this.determineFontProperties(this.style.font),a=t.length;0<this.style.maxLines&&this.style.maxLines<t.length&&(a=this.style.maxLines);for(var s=this._charCount=0;s<a;s++){if(0===i){var p=this.style.strokeThickness+this.padding.x;0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?p+=this.measureLine(t[s]):p+=this.context.measureText(t[s]).width,this.style.wordWrap&&(p-=this.context.measureText(" ").width)}else{var l=t[s].split(/(?:\t)/),p=this.padding.x+this.style.strokeThickness;if(Array.isArray(i))for(var h=0,u=0;u<l.length;u++){var d=0,d=0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.measureLine(l[u]):Math.ceil(this.context.measureText(l[u]).width);0<u&&(h+=i[u-1]),p=h+d}else for(u=0;u<l.length;u++)0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?p+=this.measureLine(l[u]):p+=Math.ceil(this.context.measureText(l[u]).width),p+=this.game.math.snapToCeil(p,i)-p}n[s]=Math.ceil(p),r=Math.max(r,n[s])}this.canvas.width=r*this._res;var c,m,y=o.fontSize+this.style.strokeThickness+this.padding.y,e=y*a,_=this._lineSpacing;for(0!==(_=_<0&&Math.abs(_)>y?-y:_)&&(e+=0<_?_*t.length:_*(t.length-1)),this.canvas.height=e*this._res,this.context.scale(this._res,this._res),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.style.backgroundColor&&(this.context.fillStyle=this.style.backgroundColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)),this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.textBaseline="alphabetic",this.context.lineWidth=this.style.strokeThickness,this.context.lineCap="round",this.context.lineJoin="round",s=this._charCount=0;s<a;s++)c=this.style.strokeThickness/2,m=this.style.strokeThickness/2+s*y+o.ascent,0<s&&(m+=_*s),"right"===this.style.align?c+=r-n[s]:"center"===this.style.align&&(c+=(r-n[s])/2),this.autoRound&&(c=Math.round(c),m=Math.round(m)),0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.updateLine(t[s],c,m):(this.style.stroke&&this.style.strokeThickness&&(this.updateShadow(this.style.shadowStroke),0===i?this.context.strokeText(t[s],c,m):this.renderTabLine(t[s],c,m,!1)),this.style.fill&&(this.updateShadow(this.style.shadowFill),0===i?this.context.fillText(t[s],c,m):this.renderTabLine(t[s],c,m,!0)));this.updateTexture(),this.dirty=!1},U.Text.prototype.renderTabLine=function(e,t,i,n){var r=e.split(/(?:\t)/),o=this.style.tabs,a=0;if(Array.isArray(o))for(var s=0,p=0;p<r.length;p++)0<p&&(s+=o[p-1]),a=t+s,n?this.context.fillText(r[p],a,i):this.context.strokeText(r[p],a,i);else for(p=0;p<r.length;p++){var l=Math.ceil(this.context.measureText(r[p]).width),a=this.game.math.snapToCeil(t,o);n?this.context.fillText(r[p],a,i):this.context.strokeText(r[p],a,i),t=a+l}},U.Text.prototype.updateShadow=function(e){e?(this.context.shadowOffsetX=this.style.shadowOffsetX,this.context.shadowOffsetY=this.style.shadowOffsetY,this.context.shadowColor=this.style.shadowColor,this.context.shadowBlur=this.style.shadowBlur):(this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowColor=0,this.context.shadowBlur=0)},U.Text.prototype.measureLine=function(e){for(var t=0,i=0;i<e.length;i++){var n,r=e[i];(0<this.fontWeights.length||0<this.fontStyles.length)&&(n=this.fontToComponents(this.context.font),this.fontStyles[this._charCount]&&(n.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(n.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(n)),this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill)),t+=this.context.measureText(r).width,this._charCount++}return Math.ceil(t)},U.Text.prototype.updateLine=function(e,t,i){for(var n=0;n<e.length;n++){var r,o=e[n];(0<this.fontWeights.length||0<this.fontStyles.length)&&(r=this.fontToComponents(this.context.font),this.fontStyles[this._charCount]&&(r.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(r.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(r)),this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke),this.context.strokeText(o,t,i)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill),this.context.fillText(o,t,i)),t+=this.context.measureText(o).width,this._charCount++}},U.Text.prototype.clearColors=function(){return this.colors=[],this.strokeColors=[],this.dirty=!0,this},U.Text.prototype.clearFontValues=function(){return this.fontStyles=[],this.fontWeights=[],this.dirty=!0,this},U.Text.prototype.addColor=function(e,t){return this.colors[t]=e,this.dirty=!0,this},U.Text.prototype.addStrokeColor=function(e,t){return this.strokeColors[t]=e,this.dirty=!0,this},U.Text.prototype.addFontStyle=function(e,t){return this.fontStyles[t]=e,this.dirty=!0,this},U.Text.prototype.addFontWeight=function(e,t){return this.fontWeights[t]=e,this.dirty=!0,this},U.Text.prototype.precalculateWordWrap=function(e){return this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font,this.runWordWrap(e).split(/(?:\r\n|\r|\n)/)},U.Text.prototype.runWordWrap=function(e){return this.useAdvancedWrap?this.advancedWordWrap(e):this.basicWordWrap(e)},U.Text.prototype.advancedWordWrap=function(e){for(var t=this.context,i=this.style.wordWrapWidth,n="",r=e.replace(/ +/gi," ").split(/\r?\n/gi),o=r.length,a=0;a<o;a++){var s="",p=(p=r[a]).replace(/^ *|\s*$/gi,"");if(t.measureText(p).width<i)n+=p+"\n";else{for(var l=i,h=p.split(" "),u=0;u<h.length;u++){var d=h[u],c=d+" ",m=t.measureText(c).width;if(l<m){if(0===u){for(var y=c;y.length&&(y=y.slice(0,-1),!((m=t.measureText(y).width)<=l)););if(!y.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");d=d.substr(y.length);h[u]=d,s+=y}d=h[u].length?u:u+1,d=h.slice(d).join(" ").replace(/[ \n]*$/gi,"");r[a+1]=d+" "+(r[a+1]||""),o=r.length;break}s+=c,l-=m}n+=s.replace(/[ \n]*$/gi,"")+"\n"}}return n=n.replace(/[\s|\n]*$/gi,"")},U.Text.prototype.basicWordWrap=function(e){for(var t="",i=e.split("\n"),n=0;n<i.length;n++){for(var r=this.style.wordWrapWidth,o=i[n].split(" "),a=0;a<o.length;a++){var s=this.context.measureText(o[a]).width,p=s+this.context.measureText(" ").width;r<p?(0<a&&(t+="\n"),t+=o[a]+" ",r=this.style.wordWrapWidth-s):(r-=p,t+=o[a]+" ")}n<i.length-1&&(t+="\n")}return t},U.Text.prototype.updateFont=function(e){e=this.componentsToFont(e);this.style.font!==e&&(this.style.font=e,this.dirty=!0,this.parent&&this.updateTransform())},U.Text.prototype.fontToComponents=function(e){var t,i=e.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);return i?(t=i[5].trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(t)||/['",]/.exec(t)||(t="'"+t+"'"),{font:e,fontStyle:i[1]||"normal",fontVariant:i[2]||"normal",fontWeight:i[3]||"normal",fontSize:i[4]||"medium",fontFamily:t}):{font:e}},U.Text.prototype.componentsToFont=function(e){var t=[],i=e.fontStyle;return i&&"normal"!==i&&t.push(i),(i=e.fontVariant)&&"normal"!==i&&t.push(i),(i=e.fontWeight)&&"normal"!==i&&t.push(i),(i=e.fontSize)&&"medium"!==i&&t.push(i),(i=e.fontFamily)&&t.push(i),t.length||t.push(e.font),t.join(" ")},U.Text.prototype.setText=function(e,t){return void 0===t&&(t=!1),this.text=e.toString()||"",t?this.updateText():this.dirty=!0,this},U.Text.prototype.parseList=function(e){if(!Array.isArray(e))return this;for(var t="",i=0;i<e.length;i++)Array.isArray(e[i])?(t+=e[i].join("\t"),i<e.length-1&&(t+="\n")):(t+=e[i],i<e.length-1&&(t+="\t"));return this.text=t,this.dirty=!0,this},U.Text.prototype.setTextBounds=function(e,t,i,n){return void 0===e?this.textBounds=null:(this.textBounds?this.textBounds.setTo(e,t,i,n):this.textBounds=new U.Rectangle(e,t,i,n),this.style.wordWrapWidth>i&&(this.style.wordWrapWidth=i)),this.updateTexture(),this},U.Text.prototype.updateTexture=function(){var e=this.texture.baseTexture,t=this.texture.crop,i=this.texture.frame,n=this.canvas.width,r=this.canvas.height;e.width=n,e.height=r,t.width=n,t.height=r,i.width=n,i.height=r,this.texture.width=n,this.texture.height=r,this._width=n,this._height=r,this.textBounds&&(e=this.textBounds.x,t=this.textBounds.y,"right"===this.style.boundsAlignH?e+=this.textBounds.width-this.canvas.width/this.resolution:"center"===this.style.boundsAlignH&&(e+=this.textBounds.halfWidth-this.canvas.width/this.resolution/2),"bottom"===this.style.boundsAlignV?t+=this.textBounds.height-this.canvas.height/this.resolution:"middle"===this.style.boundsAlignV&&(t+=this.textBounds.halfHeight-this.canvas.height/this.resolution/2),this.pivot.x=-e,this.pivot.y=-t),this.renderable=0!==n&&0!==r,this.texture.requiresReTint=!0,this.texture.baseTexture.dirty()},U.Text.prototype._renderWebGL=function(e){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderWebGL.call(this,e)},U.Text.prototype._renderCanvas=function(e){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderCanvas.call(this,e)},U.Text.prototype.determineFontProperties=function(e){if(!(t=U.Text.fontPropertiesCache[e])){var t={},i=U.Text.fontPropertiesCanvas,n=U.Text.fontPropertiesContext,r=(n.font=e,Math.ceil(n.measureText("|MÉq").width)),o=2*(a=Math.ceil(n.measureText("|MÉq").width)),a=1.4*a|0;if(i.width=r,i.height=o,n.fillStyle="#f00",n.fillRect(0,0,r,o),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,a),!n.getImageData(0,0,r,o))return t.ascent=a,t.descent=6+a,t.fontSize=t.ascent+t.descent,U.Text.fontPropertiesCache[e]=t;for(var s,p=n.getImageData(0,0,r,o).data,i=p.length,l=4*r,h=0,u=!1,d=0;d<a;d++){for(s=0;s<l;s+=4)if(255!==p[h+s]){u=!0;break}if(u)break;h+=l}for(t.ascent=a-d,h=i-l,u=!1,d=o;a<d;d--){for(s=0;s<l;s+=4)if(255!==p[h+s]){u=!0;break}if(u)break;h-=l}t.descent=d-a,t.descent+=6,t.fontSize=t.ascent+t.descent,U.Text.fontPropertiesCache[e]=t}return t},U.Text.prototype.getBounds=function(e){return this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype.getBounds.call(this,e)},Object.defineProperty(U.Text.prototype,"text",{get:function(){return this._text},set:function(e){e!==this._text&&(this._text=e.toString()||"",this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(U.Text.prototype,"cssFont",{get:function(){return this.componentsToFont(this._fontComponents)},set:function(e){this._fontComponents=this.fontToComponents(e=e||"bold 20pt Arial"),this.updateFont(this._fontComponents)}}),Object.defineProperty(U.Text.prototype,"font",{get:function(){return this._fontComponents.fontFamily},set:function(e){e=(e=e||"Arial").trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(e)||/['",]/.exec(e)||(e="'"+e+"'"),this._fontComponents.fontFamily=e,this.updateFont(this._fontComponents)}}),Object.defineProperty(U.Text.prototype,"fontSize",{get:function(){var e=this._fontComponents.fontSize;return e&&/(?:^0$|px$)/.exec(e)?parseInt(e,10):e},set:function(e){"number"==typeof(e=e||"0")&&(e+="px"),this._fontComponents.fontSize=e,this.updateFont(this._fontComponents)}}),Object.defineProperty(U.Text.prototype,"fontWeight",{get:function(){return this._fontComponents.fontWeight||"normal"},set:function(e){this._fontComponents.fontWeight=e=e||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(U.Text.prototype,"fontStyle",{get:function(){return this._fontComponents.fontStyle||"normal"},set:function(e){this._fontComponents.fontStyle=e=e||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(U.Text.prototype,"fontVariant",{get:function(){return this._fontComponents.fontVariant||"normal"},set:function(e){this._fontComponents.fontVariant=e=e||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(U.Text.prototype,"fill",{get:function(){return this.style.fill},set:function(e){e!==this.style.fill&&(this.style.fill=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"align",{get:function(){return this.style.align},set:function(e){e!==this.style.align&&(this.style.align=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"resolution",{get:function(){return this._res},set:function(e){e!==this._res&&(this._res=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"tabs",{get:function(){return this.style.tabs},set:function(e){e!==this.style.tabs&&(this.style.tabs=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"boundsAlignH",{get:function(){return this.style.boundsAlignH},set:function(e){e!==this.style.boundsAlignH&&(this.style.boundsAlignH=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"boundsAlignV",{get:function(){return this.style.boundsAlignV},set:function(e){e!==this.style.boundsAlignV&&(this.style.boundsAlignV=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"stroke",{get:function(){return this.style.stroke},set:function(e){e!==this.style.stroke&&(this.style.stroke=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"strokeThickness",{get:function(){return this.style.strokeThickness},set:function(e){e!==this.style.strokeThickness&&(this.style.strokeThickness=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"wordWrap",{get:function(){return this.style.wordWrap},set:function(e){e!==this.style.wordWrap&&(this.style.wordWrap=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"wordWrapWidth",{get:function(){return this.style.wordWrapWidth},set:function(e){e!==this.style.wordWrapWidth&&(this.style.wordWrapWidth=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(e){e!==this._lineSpacing&&(this._lineSpacing=parseFloat(e),this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(U.Text.prototype,"shadowOffsetX",{get:function(){return this.style.shadowOffsetX},set:function(e){e!==this.style.shadowOffsetX&&(this.style.shadowOffsetX=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"shadowOffsetY",{get:function(){return this.style.shadowOffsetY},set:function(e){e!==this.style.shadowOffsetY&&(this.style.shadowOffsetY=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"shadowColor",{get:function(){return this.style.shadowColor},set:function(e){e!==this.style.shadowColor&&(this.style.shadowColor=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"shadowBlur",{get:function(){return this.style.shadowBlur},set:function(e){e!==this.style.shadowBlur&&(this.style.shadowBlur=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"shadowStroke",{get:function(){return this.style.shadowStroke},set:function(e){e!==this.style.shadowStroke&&(this.style.shadowStroke=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"shadowFill",{get:function(){return this.style.shadowFill},set:function(e){e!==this.style.shadowFill&&(this.style.shadowFill=e,this.dirty=!0)}}),Object.defineProperty(U.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(U.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),U.Text.fontPropertiesCache={},U.Text.fontPropertiesCanvas=document.createElement("canvas"),U.Text.fontPropertiesContext=U.Text.fontPropertiesCanvas.getContext("2d"),U.BitmapText=function(e,t,i,n,r,o,a){t=t||0,i=i||0,n=n||"",r=r||"",o=o||32,a=a||"left",PIXI.DisplayObjectContainer.call(this),this.type=U.BITMAPTEXT,this.physicsType=U.SPRITE,this.textWidth=0,this.textHeight=0,this.anchor=new U.Point,this._prevAnchor=new U.Point,this._glyphs=[],this._maxWidth=0,this._text=r.toString()||"",this._data=e.cache.getBitmapFont(n),this._font=n,this._fontSize=o,this._align=a,this._tint=16777215,this.updateText(),this.dirty=!1,U.Component.Core.init.call(this,e,t,i,"",null)},U.BitmapText.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),U.BitmapText.prototype.constructor=U.BitmapText,U.Component.Core.install.call(U.BitmapText.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),U.BitmapText.prototype.preUpdatePhysics=U.Component.PhysicsBody.preUpdate,U.BitmapText.prototype.preUpdateLifeSpan=U.Component.LifeSpan.preUpdate,U.BitmapText.prototype.preUpdateInWorld=U.Component.InWorld.preUpdate,U.BitmapText.prototype.preUpdateCore=U.Component.Core.preUpdate,U.BitmapText.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},U.BitmapText.prototype.postUpdate=function(){U.Component.PhysicsBody.postUpdate.call(this),U.Component.FixedToCamera.postUpdate.call(this),!this.body||this.body.type!==U.Physics.ARCADE||this.textWidth===this.body.sourceWidth&&this.textHeight===this.body.sourceHeight||this.body.setSize(this.textWidth,this.textHeight)},U.BitmapText.prototype.setText=function(e){this.text=e},U.BitmapText.prototype.scanLine=function(e,t,i){for(var n=0,r=0,o=-1,a=0,s=null,p=0<this._maxWidth?this._maxWidth:null,l=[],h=0;h<i.length;h++){var u=h===i.length-1;if(/(?:\r\n|\r|\n)/.test(i.charAt(h)))return{width:r,text:i.substr(0,h),end:u,chars:l};var d,c=i.charCodeAt(h),m=e.chars[c],y=(void 0===m&&(m=e.chars[c=32]),s&&m.kerning[s]?m.kerning[s]:0);if(/(\s)/.test(i.charAt(h))&&(o=h,a=r),d=(y+m.texture.width+m.xOffset)*t,p&&p<=r+d&&-1<o)return{width:a||r,text:i.substr(0,h-(h-o)),end:u,chars:l};r+=(m.xAdvance+y)*t,l.push(n+(m.xOffset+y)*t),n+=(m.xAdvance+y)*t,s=c}return{width:r,text:i,end:u,chars:l}},U.BitmapText.prototype.cleanText=function(e,t){void 0===t&&(t="");var i=this._data.font;if(!i)return"";for(var n=e.replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),r=0;r<n.length;r++){for(var o="",a=n[r],s=0;s<a.length;s++)o=i.chars[a.charCodeAt(s)]?o.concat(a[s]):o.concat(t);n[r]=o}return n.join("\n")},U.BitmapText.prototype.updateText=function(){var e=this._data.font;if(e){var t=this.text,i=this._fontSize/e.size,n=[],r=0;this.textWidth=0;do{}while((h=this.scanLine(e,i,t)).y=r,n.push(h),h.width>this.textWidth&&(this.textWidth=h.width),r+=e.lineHeight*i,t=t.substr(h.text.length+1),!1===h.end);this.textHeight=r;for(var o=0,a=0,s=this.textWidth*this.anchor.x,p=this.textHeight*this.anchor.y,l=0;l<n.length;l++){var h=n[l];"right"===this._align?a=this.textWidth-h.width:"center"===this._align&&(a=(this.textWidth-h.width)/2);for(var u=0;u<h.text.length;u++){var d=h.text.charCodeAt(u),d=e.chars[d],c=(void 0===d&&(d=e.chars[32]),this._glyphs[o]);c?c.texture=d.texture:((c=new PIXI.Sprite(d.texture)).name=h.text[u],this._glyphs.push(c)),c.position.x=h.chars[u]+a-s,c.position.y=h.y+d.yOffset*i-p,c.scale.set(i),c.tint=this.tint,c.texture.requiresReTint=!0,c.parent||this.addChild(c),o++}}for(l=o;l<this._glyphs.length;l++)this.removeChild(this._glyphs[l])}},U.BitmapText.prototype.purgeGlyphs=function(){for(var e=this._glyphs.length,t=[],i=0;i<this._glyphs.length;i++)this._glyphs[i].parent!==this?this._glyphs[i].destroy():t.push(this._glyphs[i]);return this._glyphs=[],this._glyphs=t,this.updateText(),e-t.length},U.BitmapText.prototype.updateTransform=function(){!this.dirty&&this.anchor.equals(this._prevAnchor)||(this.updateText(),this.dirty=!1,this._prevAnchor.copyFrom(this.anchor)),PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)},Object.defineProperty(U.BitmapText.prototype,"align",{get:function(){return this._align},set:function(e){e===this._align||"left"!==e&&"center"!==e&&"right"!==e||(this._align=e,this.updateText())}}),Object.defineProperty(U.BitmapText.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this.updateText())}}),Object.defineProperty(U.BitmapText.prototype,"font",{get:function(){return this._font},set:function(e){e!==this._font&&(this._font=e.trim(),this._data=this.game.cache.getBitmapFont(this._font),this.updateText())}}),Object.defineProperty(U.BitmapText.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){(e=parseInt(e,10))!==this._fontSize&&0<e&&(this._fontSize=e,this.updateText())}}),Object.defineProperty(U.BitmapText.prototype,"text",{get:function(){return this._text},set:function(e){e!==this._text&&(this._text=e.toString()||"",this.updateText())}}),Object.defineProperty(U.BitmapText.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){e!==this._maxWidth&&(this._maxWidth=e,this.updateText())}}),Object.defineProperty(U.BitmapText.prototype,"smoothed",{get:function(){return!this._data.base.scaleMode},set:function(e){this._data.base.scaleMode=e?0:1}}),U.RetroFont=function(e,t,i,n,r,o,a,s,p,l){if(!e.cache.checkImageKey(t))return!1;null==o&&(o=e.cache.getImage(t).width/i),this.characterWidth=i,this.characterHeight=n,this.characterSpacingX=a||0,this.characterSpacingY=s||0,this.characterPerRow=o,this.offsetX=p||0,this.offsetY=l||0,this.align="left",this.multiLine=!1,this.autoUpperCase=!0,this.customSpacingX=0,this.customSpacingY=0,this.fixedWidth=0,this.fontSet=e.cache.getImage(t),this._text="",this.grabData=[],this.frameData=new U.FrameData;for(var h=this.offsetX,u=this.offsetY,d=0,c=0;c<r.length;c++){var m=this.frameData.addFrame(new U.Frame(c,h,u,this.characterWidth,this.characterHeight));this.grabData[r.charCodeAt(c)]=m.index,++d===this.characterPerRow?(d=0,h=this.offsetX,u+=this.characterHeight+this.characterSpacingY):h+=this.characterWidth+this.characterSpacingX}e.cache.updateFrameData(t,this.frameData),this.stamp=new U.Image(e,0,0,t,0),U.RenderTexture.call(this,e,100,100,"",U.scaleModes.NEAREST),this.type=U.RETROFONT},U.RetroFont.prototype=Object.create(U.RenderTexture.prototype),U.RetroFont.prototype.constructor=U.RetroFont,U.RetroFont.ALIGN_LEFT="left",U.RetroFont.ALIGN_RIGHT="right",U.RetroFont.ALIGN_CENTER="center",U.RetroFont.TEXT_SET1=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",U.RetroFont.TEXT_SET2=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",U.RetroFont.TEXT_SET3="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",U.RetroFont.TEXT_SET4="ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",U.RetroFont.TEXT_SET5="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",U.RetroFont.TEXT_SET6="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",U.RetroFont.TEXT_SET7="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",U.RetroFont.TEXT_SET8="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",U.RetroFont.TEXT_SET9="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",U.RetroFont.TEXT_SET10="ABCDEFGHIJKLMNOPQRSTUVWXYZ",U.RetroFont.TEXT_SET11="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789",U.RetroFont.prototype.setFixedWidth=function(e,t){void 0===t&&(t="left"),this.fixedWidth=e,this.align=t},U.RetroFont.prototype.setText=function(e,t,i,n,r,o){this.multiLine=t||!1,this.customSpacingX=i||0,this.customSpacingY=n||0,this.align=r||"left",this.autoUpperCase=!o,0<e.length&&(this.text=e)},U.RetroFont.prototype.buildRetroFontText=function(){var e=0,t=0;if(this.clear(),this.multiLine){var i=this._text.split("\n");0<this.fixedWidth?this.resize(this.fixedWidth,i.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0):this.resize(this.getLongestLine()*(this.characterWidth+this.customSpacingX),i.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0);for(var n=0;n<i.length;n++)e=0,this.align===U.RetroFont.ALIGN_RIGHT?e=this.width-i[n].length*(this.characterWidth+this.customSpacingX):this.align===U.RetroFont.ALIGN_CENTER&&(e=this.width/2-i[n].length*(this.characterWidth+this.customSpacingX)/2,e+=this.customSpacingX/2),this.pasteLine(i[n],e=e<0?0:e,t,this.customSpacingX),t+=this.characterHeight+this.customSpacingY}else 0<this.fixedWidth?this.resize(this.fixedWidth,this.characterHeight,!0):this.resize(this._text.length*(this.characterWidth+this.customSpacingX),this.characterHeight,!0),e=0,this.align===U.RetroFont.ALIGN_RIGHT?e=this.width-this._text.length*(this.characterWidth+this.customSpacingX):this.align===U.RetroFont.ALIGN_CENTER&&(e=this.width/2-this._text.length*(this.characterWidth+this.customSpacingX)/2,e+=this.customSpacingX/2),this.pasteLine(this._text,e=e<0?0:e,0,this.customSpacingX);this.requiresReTint=!0},U.RetroFont.prototype.pasteLine=function(e,t,i,n){for(var r=0;r<e.length;r++)if(" "===e.charAt(r))t+=this.characterWidth+n;else if(0<=this.grabData[e.charCodeAt(r)]&&(this.stamp.frame=this.grabData[e.charCodeAt(r)],this.renderXY(this.stamp,t,i,!1),(t+=this.characterWidth+n)>this.width))break},U.RetroFont.prototype.getLongestLine=function(){var e=0;if(0<this._text.length)for(var t=this._text.split("\n"),i=0;i<t.length;i++)t[i].length>e&&(e=t[i].length);return e},U.RetroFont.prototype.removeUnsupportedCharacters=function(e){for(var t="",i=0;i<this._text.length;i++){var n=this._text[i],r=n.charCodeAt(0);(0<=this.grabData[r]||!e&&"\n"===n)&&(t=t.concat(n))}return t},U.RetroFont.prototype.updateOffset=function(e,t){if(this.offsetX!==e||this.offsetY!==t){for(var i=e-this.offsetX,n=t-this.offsetY,r=this.game.cache.getFrameData(this.stamp.key).getFrames(),o=r.length;o--;)r[o].x+=i,r[o].y+=n;this.buildRetroFontText()}},Object.defineProperty(U.RetroFont.prototype,"text",{get:function(){return this._text},set:function(e){e=this.autoUpperCase?e.toUpperCase():e;e!==this._text&&(this._text=e,this.removeUnsupportedCharacters(this.multiLine),this.buildRetroFontText())}}),Object.defineProperty(U.RetroFont.prototype,"smoothed",{get:function(){return this.stamp.smoothed},set:function(e){this.stamp.smoothed=e,this.buildRetroFontText()}}),U.Rope=function(e,t,i,n,r,o){this.points=[],this.points=o,this._hasUpdateAnimation=!1,this._updateAnimationCallback=null,t=t||0,i=i||0,n=n||null,r=r||null,this.type=U.ROPE,PIXI.Rope.call(this,U.Cache.DEFAULT,this.points),U.Component.Core.init.call(this,e,t,i,n,r)},U.Rope.prototype=Object.create(PIXI.Rope.prototype),U.Rope.prototype.constructor=U.Rope,U.Component.Core.install.call(U.Rope.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),U.Rope.prototype.preUpdatePhysics=U.Component.PhysicsBody.preUpdate,U.Rope.prototype.preUpdateLifeSpan=U.Component.LifeSpan.preUpdate,U.Rope.prototype.preUpdateInWorld=U.Component.InWorld.preUpdate,U.Rope.prototype.preUpdateCore=U.Component.Core.preUpdate,U.Rope.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},U.Rope.prototype.update=function(){this._hasUpdateAnimation&&this.updateAnimation.call(this)},U.Rope.prototype.reset=function(e,t){return U.Component.Reset.prototype.reset.call(this,e,t),this},Object.defineProperty(U.Rope.prototype,"updateAnimation",{get:function(){return this._updateAnimation},set:function(e){e&&"function"==typeof e?(this._hasUpdateAnimation=!0,this._updateAnimation=e):(this._hasUpdateAnimation=!1,this._updateAnimation=null)}}),Object.defineProperty(U.Rope.prototype,"segments",{get:function(){for(var e,t,i,n,r=[],o=0;o<this.points.length;o++)n=this.vertices[i=4*o]*this.scale.x,e=this.vertices[1+i]*this.scale.y,t=this.vertices[4+i]*this.scale.x,i=this.vertices[3+i]*this.scale.y,t=U.Math.difference(n,t),i=U.Math.difference(e,i),n+=this.world.x,e+=this.world.y,n=new U.Rectangle(n,e,t,i),r.push(n);return r}}),U.TileSprite=function(e,t,i,n,r,o,a){t=t||0,i=i||0,n=n||256,r=r||256,o=o||null,a=a||null,this.type=U.TILESPRITE,this.physicsType=U.SPRITE,this._scroll=new U.Point;var s=e.cache.getImage("__default",!0);PIXI.TilingSprite.call(this,new PIXI.Texture(s.base),n,r),U.Component.Core.init.call(this,e,t,i,o,a)},U.TileSprite.prototype=Object.create(PIXI.TilingSprite.prototype),U.TileSprite.prototype.constructor=U.TileSprite,U.Component.Core.install.call(U.TileSprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","Smoothed"]),U.TileSprite.prototype.preUpdatePhysics=U.Component.PhysicsBody.preUpdate,U.TileSprite.prototype.preUpdateLifeSpan=U.Component.LifeSpan.preUpdate,U.TileSprite.prototype.preUpdateInWorld=U.Component.InWorld.preUpdate,U.TileSprite.prototype.preUpdateCore=U.Component.Core.preUpdate,U.TileSprite.prototype.preUpdate=function(){return 0!==this._scroll.x&&(this.tilePosition.x+=this._scroll.x*this.game.time.physicsElapsed),0!==this._scroll.y&&(this.tilePosition.y+=this._scroll.y*this.game.time.physicsElapsed),!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},U.TileSprite.prototype.autoScroll=function(e,t){this._scroll.set(e,t)},U.TileSprite.prototype.stopScroll=function(){this._scroll.set(0,0)},U.TileSprite.prototype.destroy=function(e){U.Component.Destroy.prototype.destroy.call(this,e),PIXI.TilingSprite.prototype.destroy.call(this)},U.TileSprite.prototype.reset=function(e,t){return U.Component.Reset.prototype.reset.call(this,e,t),this.tilePosition.x=0,this.tilePosition.y=0,this},U.Device=function(){this.deviceReadyAt=0,this.initialized=!1,this.desktop=!1,this.iOS=!1,this.iOSVersion=0,this.cocoonJS=!1,this.cocoonJSApp=!1,this.cordova=!1,this.node=!1,this.nodeWebkit=!1,this.electron=!1,this.ejecta=!1,this.crosswalk=!1,this.android=!1,this.chromeOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.windowsPhone=!1,this.canvas=!1,this.canvasBitBltShift=null,this.webGL=!1,this.file=!1,this.fileSystem=!1,this.localStorage=!1,this.worker=!1,this.css3D=!1,this.pointerLock=!1,this.typedArray=!1,this.vibration=!1,this.getUserMedia=!0,this.quirksMode=!1,this.touch=!1,this.mspointer=!1,this.wheelEvent=null,this.arora=!1,this.chrome=!1,this.chromeVersion=0,this.epiphany=!1,this.firefox=!1,this.firefoxVersion=0,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.edge=!1,this.mobileSafari=!1,this.midori=!1,this.opera=!1,this.safari=!1,this.safariVersion=0,this.webApp=!1,this.silk=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1,this.dolby=!1,this.oggVideo=!1,this.h264Video=!1,this.mp4Video=!1,this.webmVideo=!1,this.vp9Video=!1,this.hlsVideo=!1,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.pixelRatio=0,this.littleEndian=!1,this.LITTLE_ENDIAN=!1,this.support32bit=!1,this.fullscreen=!1,this.requestFullscreen="",this.cancelFullscreen="",this.fullscreenKeyboard=!1},U.Device=new U.Device,U.Device.onInitialized=new U.Signal,U.Device.whenReady=function(e,t,i){var n=this._readyCheck;this.deviceReadyAt||!n?e.call(t,this):n._monitor||i?(n._queue=n._queue||[],n._queue.push([e,t])):(n._monitor=n.bind(this),n._queue=n._queue||[],n._queue.push([e,t]),i=void 0!==window.cordova,e=navigator.isCocoonJS,"complete"===document.readyState||"interactive"===document.readyState?window.setTimeout(n._monitor,0):i&&!e?document.addEventListener("deviceready",n._monitor,!1):(document.addEventListener("DOMContentLoaded",n._monitor,!1),window.addEventListener("load",n._monitor,!1)))},U.Device._readyCheck=function(){var e=this._readyCheck;if(document.body){if(!this.deviceReadyAt){for(this.deviceReadyAt=Date.now(),document.removeEventListener("deviceready",e._monitor),document.removeEventListener("DOMContentLoaded",e._monitor),window.removeEventListener("load",e._monitor),this._initialize(),this.initialized=!0,this.onInitialized.dispatch(this);i=e._queue.shift();){var t=i[0],i=i[1];t.call(i,this)}this._readyCheck=null,this._initialize=null,this.onInitialized=null}}else window.setTimeout(e._monitor,20)},U.Device._initialize=function(){var t=this;r=navigator.userAgent,/Playstation Vita/.test(r)?t.vita=!0:/Kindle/.test(r)||/\bKF[A-Z][A-Z]+/.test(r)||/Silk.*Mobile Safari/.test(r)?t.kindle=!0:/Android/.test(r)?t.android=!0:/CrOS/.test(r)?t.chromeOS=!0:/iP[ao]d|iPhone/i.test(r)?(t.iOS=!0,navigator.appVersion.match(/OS (\d+)/),t.iOSVersion=parseInt(RegExp.$1,10)):/Linux/.test(r)?t.linux=!0:/Mac OS/.test(r)?t.macOS=!0:/Windows/.test(r)&&(t.windows=!0),(/Windows Phone/i.test(r)||/IEMobile/i.test(r))&&(t.android=!1,t.iOS=!1,t.macOS=!1,t.windows=!0,t.windowsPhone=!0),e=/Silk/.test(r),(t.windows||t.macOS||t.linux&&!e||t.chromeOS)&&(t.desktop=!0),(t.windowsPhone||/Windows NT/i.test(r)&&/Touch/i.test(r))&&(t.desktop=!1);var e=navigator.userAgent;if(/Arora/.test(e)?t.arora=!0:/Edge\/\d+/.test(e)?t.edge=!0:/Chrome\/(\d+)/.test(e)&&!t.windowsPhone?(t.chrome=!0,t.chromeVersion=parseInt(RegExp.$1,10)):/Epiphany/.test(e)?t.epiphany=!0:/Firefox\D+(\d+)/.test(e)?(t.firefox=!0,t.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(e)&&t.iOS?t.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(e)?(t.ie=!0,t.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(e)?t.midori=!0:/Opera/.test(e)?t.opera=!0:/Safari\/(\d+)/.test(e)&&!t.windowsPhone?(t.safari=!0,/Version\/(\d+)\./.test(e)&&(t.safariVersion=parseInt(RegExp.$1,10))):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(e)&&(t.ie=!0,t.trident=!0,t.tridentVersion=parseInt(RegExp.$1,10),t.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(e)&&(t.silk=!0),navigator.standalone&&(t.webApp=!0),void 0!==window.cordova&&(t.cordova=!0),"undefined"!=typeof process&&"undefined"!=typeof require&&(t.node=!0),t.node&&"object"==typeof process.versions&&(t.nodeWebkit=!!process.versions["node-webkit"],t.electron=!!process.versions.electron),navigator.isCocoonJS&&(t.cocoonJS=!0),t.cocoonJS)try{t.cocoonJSApp="undefined"!=typeof CocoonJS}catch(e){t.cocoonJSApp=!1}void 0!==window.ejecta&&(t.ejecta=!0),/Crosswalk/.test(e)&&(t.crosswalk=!0),t.audioData=!!window.Audio,t.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var i,n,r=document.createElement("audio");try{!!r.canPlayType&&(r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(t.ogg=!0),(r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||r.canPlayType("audio/opus;").replace(/^no$/,""))&&(t.opus=!0),r.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(t.mp3=!0),r.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(t.wav=!0),(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/aac;").replace(/^no$/,""))&&(t.m4a=!0),r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(t.webm=!0),""!==r.canPlayType('audio/mp4;codecs="ec-3"')&&(t.edge?t.dolby=!0:t.safari&&9<=t.safariVersion&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)&&(i=parseInt(RegExp.$1,10),n=parseInt(RegExp.$2,10),(10===i&&11<=n||10<i)&&(t.dolby=!0))))}catch(e){}e=document.createElement("video");try{!!e.canPlayType&&(e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.oggVideo=!0),e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264Video=!0,t.mp4Video=!0),e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webmVideo=!0),e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9Video=!0),e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hlsVideo=!0))}catch(e){}var o,a,s=document.createElement("p"),p={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(a in document.body.insertBefore(s,null),p)void 0!==s.style[a]&&(s.style[a]="translate3d(1px,1px,1px)",o=window.getComputedStyle(s).getPropertyValue(p[a]));document.body.removeChild(s),t.css3D=void 0!==o&&0<o.length&&"none"!==o,t.pixelRatio=window.devicePixelRatio||1,t.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),t.iPhone4=2===t.pixelRatio&&t.iPhone,t.iPad=-1!==navigator.userAgent.toLowerCase().indexOf("ipad"),"undefined"!=typeof Int8Array?t.typedArray=!0:t.typedArray=!1,"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(t.littleEndian=(r=new ArrayBuffer(4),n=new Uint8Array(r),r=new Uint32Array(r),n[0]=161,n[1]=178,n[2]=195,n[3]=212,3569595041===r[0]||2712847316!==r[0]&&null),t.LITTLE_ENDIAN=t.littleEndian),t.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==t.littleEndian&&function(){if(void 0===Uint8ClampedArray)return!1;var e=PIXI.CanvasPool.create(this,1,1).getContext("2d");return!!e&&(e=e.createImageData(1,1),PIXI.CanvasPool.remove(this),e.data instanceof Uint8ClampedArray)}(),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(t.vibration=!0),t.canvas=!!window.CanvasRenderingContext2D||t.cocoonJS;try{t.localStorage=!!localStorage.getItem}catch(e){t.localStorage=!1}t.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),t.fileSystem=!!window.requestFileSystem,t.webGL=function(){try{var e=document.createElement("canvas");return e.screencanvas=!1,!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}(),t.webGL=!!t.webGL,t.worker=!!window.Worker,t.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,t.quirksMode="CSS1Compat"!==document.compatMode,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,t.getUserMedia=t.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,t.firefox&&t.firefoxVersion<21&&(t.getUserMedia=!1),!t.iOS&&(t.ie||t.firefox||t.chrome)&&(t.canvasBitBltShift=!0),(t.safari||t.mobileSafari)&&(t.canvasBitBltShift=!1);for(var l=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],h=document.createElement("div"),u=0;u<l.length;u++)if(h[l[u]]){t.fullscreen=!0,t.requestFullscreen=l[u];break}var d=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(t.fullscreen)for(u=0;u<d.length;u++)if(document[d[u]]){t.cancelFullscreen=d[u];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(t.fullscreenKeyboard=!0),("ontouchstart"in document.documentElement||window.navigator.maxTouchPoints&&1<=window.navigator.maxTouchPoints)&&(t.touch=!0),(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(t.mspointer=!0),t.cocoonJS||("onwheel"in window||t.ie&&"WheelEvent"in window?t.wheelEvent="wheel":"onmousewheel"in window?t.wheelEvent="mousewheel":t.firefox&&"MouseScrollEvent"in window&&(t.wheelEvent="DOMMouseScroll"))},U.Device.canPlayAudio=function(e){return!("mp3"!==e||!this.mp3)||(!("ogg"!==e||!this.ogg&&!this.opus)||(!("m4a"!==e||!this.m4a)||(!("opus"!==e||!this.opus)||(!("wav"!==e||!this.wav)||(!("webm"!==e||!this.webm)||!("mp4"!==e||!this.dolby))))))},U.Device.canPlayVideo=function(e){return!("webm"!==e||!this.webmVideo&&!this.vp9Video)||(!("mp4"!==e||!this.mp4Video&&!this.h264Video)||(!("ogg"!==e&&"ogv"!==e||!this.oggVideo)||!("mpeg"!==e||!this.hlsVideo)))},U.Device.isConsoleOpen=function(){return!(!window.console||!window.console.firebug)||!(!window.console||(console.clear,!console.profiles))&&0<console.profiles.length},U.Device.isAndroidStockBrowser=function(){var e=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return e&&e[1]<537},U.Canvas={create:function(e,t,i,n,r){t=t||256,i=i||256;r=r?document.createElement("canvas"):PIXI.CanvasPool.create(e,t,i);return"string"==typeof n&&""!==n&&(r.id=n),r.width=t,r.height=i,r.style.display="block",r},setBackgroundColor:function(e,t){return e.style.backgroundColor=t=t||"rgb(0,0,0)",e},setTouchAction:function(e,t){return e.style.msTouchAction=t=t||"none",e.style["ms-touch-action"]=t,e.style["touch-action"]=t,e},setUserSelect:function(e,t){return e.style["-webkit-touch-callout"]=t=t||"none",e.style["-webkit-user-select"]=t,e.style["-khtml-user-select"]=t,e.style["-moz-user-select"]=t,e.style["-ms-user-select"]=t,e.style["user-select"]=t,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e},addToDOM:function(e,t,i){var n;return void 0===i&&(i=!0),t&&("string"==typeof t?n=document.getElementById(t):"object"==typeof t&&1===t.nodeType&&(n=t)),n=n||document.body,i&&n.style&&(n.style.overflow="hidden"),n.appendChild(e),e},removeFromDOM:function(e){e.parentNode&&e.parentNode.removeChild(e)},setTransform:function(e,t,i,n,r,o,a){return e.setTransform(n,o,a,r,t,i),e},setSmoothingEnabled:function(e,t){var i=U.Canvas.getSmoothingPrefix(e);return i&&(e[i]=t),e},getSmoothingPrefix:function(e){var t,i=["i","webkitI","msI","mozI","oI"];for(t in i){var n=i[t]+"mageSmoothingEnabled";if(n in e)return n}return null},getSmoothingEnabled:function(e){var t=U.Canvas.getSmoothingPrefix(e);if(t)return e[t]},setImageRenderingCrisp:function(e){for(var t=["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"],i=0;i<t.length;i++)e.style["image-rendering"]=t[i];return e.style.msInterpolationMode="nearest-neighbor",e},setImageRenderingBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}},U.RequestAnimationFrame=function(e,t){void 0===t&&(t=!1),this.game=e,this.isRunning=!1,this.forceSetTimeOut=t;for(var i=["ms","moz","webkit","o"],n=0;n<i.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[i[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[n]+"CancelAnimationFrame"];this._isSetTimeOut=!1,this._onLoop=null,this._timeOutID=null},U.RequestAnimationFrame.prototype={start:function(){this.isRunning=!0;var t=this;!window.requestAnimationFrame||this.forceSetTimeOut?(this._isSetTimeOut=!0,this._onLoop=function(){return t.updateSetTimeout()},this._timeOutID=window.setTimeout(this._onLoop,0)):(this._isSetTimeOut=!1,this._onLoop=function(e){return t.updateRAF(e)},this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateRAF:function(e){this.isRunning&&(this.game.update(Math.floor(e)),this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateSetTimeout:function(){this.isRunning&&(this.game.update(Date.now()),this._timeOutID=window.setTimeout(this._onLoop,this.game.time.timeToCall))},stop:function(){this._isSetTimeOut?clearTimeout(this._timeOutID):window.cancelAnimationFrame(this._timeOutID),this.isRunning=!1},isSetTimeOut:function(){return this._isSetTimeOut},isRAF:function(){return!1===this._isSetTimeOut}},U.RequestAnimationFrame.prototype.constructor=U.RequestAnimationFrame,U.Math={PI2:2*Math.PI,between:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},fuzzyEqual:function(e,t,i){return void 0===i&&(i=1e-4),Math.abs(e-t)<i},fuzzyLessThan:function(e,t,i){return e<t+(i=void 0===i?1e-4:i)},fuzzyGreaterThan:function(e,t,i){return t-(i=void 0===i?1e-4:i)<e},fuzzyCeil:function(e,t){return void 0===t&&(t=1e-4),Math.ceil(e-t)},fuzzyFloor:function(e,t){return void 0===t&&(t=1e-4),Math.floor(e+t)},average:function(){for(var e=0,t=arguments.length,i=0;i<t;i++)e+=+arguments[i];return e/t},shear:function(e){return e%1},snapTo:function(e,t,i){return 0===t?e:(e-=i=void 0===i?0:i,i+(e=t*Math.round(e/t)))},snapToFloor:function(e,t,i){return 0===t?e:(e-=i=void 0===i?0:i,i+(e=t*Math.floor(e/t)))},snapToCeil:function(e,t,i){return 0===t?e:(e-=i=void 0===i?0:i,i+(e=t*Math.ceil(e/t)))},roundTo:function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);i=Math.pow(i,-t);return Math.round(e*i)/i},floorTo:function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);i=Math.pow(i,-t);return Math.floor(e*i)/i},ceilTo:function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);i=Math.pow(i,-t);return Math.ceil(e*i)/i},rotateToAngle:function(e,t,i){return void 0===i&&(i=.05),e===t||(Math.abs(t-e)<=i||Math.abs(t-e)>=U.Math.PI2-i?e=t:(Math.abs(t-e)>Math.PI&&(t<e?t+=U.Math.PI2:t-=U.Math.PI2),e<t?e+=i:t<e&&(e-=i))),e},getShortestAngle:function(e,t){t-=e;return 0==t?0:t-360*Math.floor((t+180)/360)},angleBetween:function(e,t,i,n){return Math.atan2(n-t,i-e)},angleBetweenY:function(e,t,i,n){return Math.atan2(i-e,n-t)},angleBetweenPoints:function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},angleBetweenPointsY:function(e,t){return Math.atan2(t.x-e.x,t.y-e.y)},reverseAngle:function(e){return this.normalizeAngle(e+Math.PI,!0)},normalizeAngle:function(e){return 0<=(e%=2*Math.PI)?e:e+2*Math.PI},maxAdd:function(e,t,i){return Math.min(e+t,i)},minSub:function(e,t,i){return Math.max(e-t,i)},wrap:function(e,t,i){i-=t;if(i<=0)return 0;e=(e-t)%i;return e<0&&(e+=i),e+t},wrapValue:function(e,t,i){return((e=Math.abs(e))+(t=Math.abs(t)))%(i=Math.abs(i))},isOdd:function(e){return!!(1&e)},isEven:function(e){return!(1&e)},min:function(){for(var e,t=1,i=0,n=(e=1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments).length;t<n;t++)e[t]<e[i]&&(i=t);return e[i]},max:function(){for(var e,t=1,i=0,n=(e=1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments).length;t<n;t++)e[t]>e[i]&&(i=t);return e[i]},minProperty:function(e){for(var t,i=1,n=0,r=(t=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:arguments.slice(1)).length;i<r;i++)t[i][e]<t[n][e]&&(n=i);return t[n][e]},maxProperty:function(e){for(var t,i=1,n=0,r=(t=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:arguments.slice(1)).length;i<r;i++)t[i][e]>t[n][e]&&(n=i);return t[n][e]},wrapAngle:function(e,t){return t?this.wrap(e,-Math.PI,Math.PI):this.wrap(e,-180,180)},linearInterpolation:function(e,t){var i=e.length-1,n=i*t,r=Math.floor(n);return t<0?this.linear(e[0],e[1],n):1<t?this.linear(e[i],e[i-1],i-n):this.linear(e[r],e[i<r+1?i:r+1],n-r)},bezierInterpolation:function(e,t){for(var i=0,n=e.length-1,r=0;r<=n;r++)i+=Math.pow(1-t,n-r)*Math.pow(t,r)*e[r]*this.bernstein(n,r);return i},catmullRomInterpolation:function(e,t){var i=e.length-1,n=i*t,r=Math.floor(n);return e[0]===e[i]?(t<0&&(r=Math.floor(n=i*(1+t))),this.catmullRom(e[(r-1+i)%i],e[r],e[(r+1)%i],e[(r+2)%i],n-r)):t<0?e[0]-(this.catmullRom(e[0],e[0],e[1],e[1],-n)-e[0]):1<t?e[i]-(this.catmullRom(e[i],e[i],e[i-1],e[i-1],n-i)-e[i]):this.catmullRom(e[r?r-1:0],e[r],e[i<r+1?i:r+1],e[i<r+2?i:r+2],n-r)},linear:function(e,t,i){return(t-e)*i+e},bernstein:function(e,t){return this.factorial(e)/this.factorial(t)/this.factorial(e-t)},factorial:function(e){if(0===e)return 1;for(var t=e;--e;)t*=e;return t},catmullRom:function(e,t,i,n,r){var e=.5*(i-e),n=.5*(n-t),o=r*r;return(2*t-2*i+e+n)*(r*o)+(-3*t+3*i-2*e-n)*o+e*r+t},difference:function(e,t){return Math.abs(e-t)},roundAwayFromZero:function(e){return 0<e?Math.ceil(e):Math.floor(e)},sinCosGenerator:function(e,t,i,n){for(var r=t=void 0===t?1:t,o=i=void 0===i?1:i,a=(n=void 0===n?1:n)*Math.PI/e,s=[],p=[],l=0;l<e;l++)r+=(o-=r*a)*a,s[l]=o,p[l]=r;return{sin:p,cos:s,length:e}},distance:function(e,t,i,n){e-=i,i=t-n;return Math.sqrt(e*e+i*i)},distanceSq:function(e,t,i,n){e-=i,i=t-n;return e*e+i*i},distancePow:function(e,t,i,n,r){return void 0===r&&(r=2),Math.sqrt(Math.pow(i-e,r)+Math.pow(n-t,r))},clamp:function(e,t,i){return e<t?t:i<e?i:e},clampBottom:function(e,t){return e<t?t:e},within:function(e,t,i){return Math.abs(e-t)<=i},mapLinear:function(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)},smoothstep:function(e,t,i){return(e=Math.max(0,Math.min(1,(e-t)/(i-t))))*e*(3-2*e)},smootherstep:function(e,t,i){return(e=Math.max(0,Math.min(1,(e-t)/(i-t))))*e*e*(e*(6*e-15)+10)},sign:function(e){return e<0?-1:0<e?1:0},percent:function(e,t,i){return void 0===i&&(i=0),t<e||t<i?1:e<i?0:(e-i)/t}},Math.PI/180),s=180/Math.PI;return U.Math.degToRad=function(e){return e*a},U.Math.radToDeg=function(e){return e*s},U.RandomDataGenerator=function(e){void 0===e&&(e=[]),this.c=1,this.s0=0,this.s1=0,this.s2=0,"string"==typeof e?this.state(e):this.sow(e)},U.RandomDataGenerator.prototype={rnd:function(){var e=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|e,this.s0=this.s1,this.s1=this.s2,this.s2=e-this.c,this.s2},sow:function(e){if(this.s0=this.hash(" "),this.s1=this.hash(this.s0),this.s2=this.hash(this.s1),this.c=1,e)for(var t=0;t<e.length&&null!=e[t];t++){var i=e[t];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},hash:function(e){var t,i,n=4022871197;for(e=e.toString(),i=0;i<e.length;i++)n=(t=((t=.02519603282416938*(n+=e.charCodeAt(i)))-(n=t>>>0))*n)>>>0,n+=4294967296*(t-=n);return 2.3283064365386963e-10*(n>>>0)},integer:function(){return 4294967296*this.rnd.apply(this)},frac:function(){return this.rnd.apply(this)+11102230246251565e-32*(2097152*this.rnd.apply(this)|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(e,t){return Math.floor(this.realInRange(0,t-e+1)+e)},between:function(e,t){return this.integerInRange(e,t)},realInRange:function(e,t){return this.frac()*(t-e)+e},normal:function(){return 1-2*this.frac()},uuid:function(){for(var e="",t="",t=e="";e++<36;t+=~e%5|3*e&4?(15^e?8^this.frac()*(20^e?16:4):4).toString(16):"-");return t},pick:function(e){return e[this.integerInRange(0,e.length-1)]},sign:function(){return this.pick([-1,1])},weightedPick:function(e){return e[~~(Math.pow(this.frac(),2)*(e.length-1)+.5)]},timestamp:function(e,t){return this.realInRange(e||9466848e5,t||1577862e6)},angle:function(){return this.integerInRange(-180,180)},state:function(e){return"string"==typeof e&&e.match(/^!rnd/)&&(e=e.split(","),this.c=parseFloat(e[1]),this.s0=parseFloat(e[2]),this.s1=parseFloat(e[3]),this.s2=parseFloat(e[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")}},U.RandomDataGenerator.prototype.constructor=U.RandomDataGenerator,U.QuadTree=function(e,t,i,n,r,o,a){this.maxObjects=10,this.maxLevels=4,this.level=0,this.bounds={},this.objects=[],this.nodes=[],this._empty=[],this.reset(e,t,i,n,r,o,a)},U.QuadTree.prototype={reset:function(e,t,i,n,r,o,a){this.maxObjects=r||10,this.maxLevels=o||4,this.level=a||0,this.bounds={x:Math.round(e),y:Math.round(t),width:i,height:n,subWidth:Math.floor(i/2),subHeight:Math.floor(n/2),right:Math.round(e)+Math.floor(i/2),bottom:Math.round(t)+Math.floor(n/2)},this.objects.length=0,this.nodes.length=0},populate:function(e){e.forEach(this.populateHandler,this,!0)},populateHandler:function(e){e.body&&e.exists&&this.insert(e.body)},split:function(){this.nodes[0]=new U.QuadTree(this.bounds.right,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[1]=new U.QuadTree(this.bounds.x,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[2]=new U.QuadTree(this.bounds.x,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[3]=new U.QuadTree(this.bounds.right,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1)},insert:function(e){var t,i=0;if(null!=this.nodes[0]&&-1!==(t=this.getIndex(e)))this.nodes[t].insert(e);else if(this.objects.push(e),this.objects.length>this.maxObjects&&this.level<this.maxLevels)for(null==this.nodes[0]&&this.split();i<this.objects.length;)-1!==(t=this.getIndex(this.objects[i]))?this.nodes[t].insert(this.objects.splice(i,1)[0]):i++},getIndex:function(e){var t=-1;return e.x<this.bounds.right&&e.right<this.bounds.right?e.y<this.bounds.bottom&&e.bottom<this.bounds.bottom?t=1:e.y>this.bounds.bottom&&(t=2):e.x>this.bounds.right&&(e.y<this.bounds.bottom&&e.bottom<this.bounds.bottom?t=0:e.y>this.bounds.bottom&&(t=3)),t},retrieve:function(e){if(e instanceof U.Rectangle)var t=this.objects,i=this.getIndex(e);else{if(!e.body)return this._empty;t=this.objects,i=this.getIndex(e.body)}return t=this.nodes[0]?-1!==i?t.concat(this.nodes[i].retrieve(e)):(t=(t=(t=t.concat(this.nodes[0].retrieve(e))).concat(this.nodes[1].retrieve(e))).concat(this.nodes[2].retrieve(e))).concat(this.nodes[3].retrieve(e)):t},clear:function(){this.objects.length=0;for(var e=this.nodes.length;e--;)this.nodes[e].clear(),this.nodes.splice(e,1);this.nodes.length=0}},U.QuadTree.prototype.constructor=U.QuadTree,U.Net=function(e){this.game=e},U.Net.prototype={getHostName:function(){return window.location&&window.location.hostname?window.location.hostname:null},checkDomainName:function(e){return-1!==window.location.hostname.indexOf(e)},updateQueryString:function(e,t,i,n){void 0===i&&(i=!1),void 0!==n&&""!==n||(n=window.location.href);var r,o="",a=new RegExp("([?|&])"+e+"=.*?(&|#|$)(.*)","gi");if(o=a.test(n)?null!=t?n.replace(a,"$1"+e+"="+t+"$2$3"):n.replace(a,"$1$3").replace(/(&|\?)$/,""):(null!=t&&(a=-1!==n.indexOf("?")?"&":"?",n=(r=n.split("#"))[0]+a+e+"="+t,r[1]&&(n+="#"+r[1])),n),!i)return o;window.location.href=o},getQueryString:function(e){void 0===e&&(e="");var t,i={},n=location.search.substring(1).split("&");for(t in n){var r=n[t].split("=");if(1<r.length){if(e&&e===this.decodeURI(r[0]))return this.decodeURI(r[1]);i[this.decodeURI(r[0])]=this.decodeURI(r[1])}}return i},decodeURI:function(e){return decodeURIComponent(e.replace(/\+/g," "))}},U.Net.prototype.constructor=U.Net,U.TweenManager=function(e){this.game=e,this.frameBased=!1,this._tweens=[],this._add=[],this.easeMap={Power0:U.Easing.Power0,Power1:U.Easing.Power1,Power2:U.Easing.Power2,Power3:U.Easing.Power3,Power4:U.Easing.Power4,Linear:U.Easing.Linear.None,Quad:U.Easing.Quadratic.Out,Cubic:U.Easing.Cubic.Out,Quart:U.Easing.Quartic.Out,Quint:U.Easing.Quintic.Out,Sine:U.Easing.Sinusoidal.Out,Expo:U.Easing.Exponential.Out,Circ:U.Easing.Circular.Out,Elastic:U.Easing.Elastic.Out,Back:U.Easing.Back.Out,Bounce:U.Easing.Bounce.Out,"Quad.easeIn":U.Easing.Quadratic.In,"Cubic.easeIn":U.Easing.Cubic.In,"Quart.easeIn":U.Easing.Quartic.In,"Quint.easeIn":U.Easing.Quintic.In,"Sine.easeIn":U.Easing.Sinusoidal.In,"Expo.easeIn":U.Easing.Exponential.In,"Circ.easeIn":U.Easing.Circular.In,"Elastic.easeIn":U.Easing.Elastic.In,"Back.easeIn":U.Easing.Back.In,"Bounce.easeIn":U.Easing.Bounce.In,"Quad.easeOut":U.Easing.Quadratic.Out,"Cubic.easeOut":U.Easing.Cubic.Out,"Quart.easeOut":U.Easing.Quartic.Out,"Quint.easeOut":U.Easing.Quintic.Out,"Sine.easeOut":U.Easing.Sinusoidal.Out,"Expo.easeOut":U.Easing.Exponential.Out,"Circ.easeOut":U.Easing.Circular.Out,"Elastic.easeOut":U.Easing.Elastic.Out,"Back.easeOut":U.Easing.Back.Out,"Bounce.easeOut":U.Easing.Bounce.Out,"Quad.easeInOut":U.Easing.Quadratic.InOut,"Cubic.easeInOut":U.Easing.Cubic.InOut,"Quart.easeInOut":U.Easing.Quartic.InOut,"Quint.easeInOut":U.Easing.Quintic.InOut,"Sine.easeInOut":U.Easing.Sinusoidal.InOut,"Expo.easeInOut":U.Easing.Exponential.InOut,"Circ.easeInOut":U.Easing.Circular.InOut,"Elastic.easeInOut":U.Easing.Elastic.InOut,"Back.easeInOut":U.Easing.Back.InOut,"Bounce.easeInOut":U.Easing.Bounce.InOut},this.game.onPause.add(this._pauseAll,this),this.game.onResume.add(this._resumeAll,this)},U.TweenManager.prototype={getAll:function(){return this._tweens},removeAll:function(){for(var e=0;e<this._tweens.length;e++)this._tweens[e].pendingDelete=!0;this._add=[]},removeFrom:function(e,t){if(void 0===t&&(t=!0),Array.isArray(e))for(i=0,n=e.length;i<n;i++)this.removeFrom(e[i]);else if(e.type===U.GROUP&&t)for(var i=0,n=e.children.length;i<n;i++)this.removeFrom(e.children[i]);else{for(i=0,n=this._tweens.length;i<n;i++)e===this._tweens[i].target&&this.remove(this._tweens[i]);for(i=0,n=this._add.length;i<n;i++)e===this._add[i].target&&this.remove(this._add[i])}},add:function(e){(e._manager=this)._add.push(e)},create:function(e){return new U.Tween(e,this.game,this)},remove:function(e){var t=this._tweens.indexOf(e);-1!==t?this._tweens[t].pendingDelete=!0:-1!==(t=this._add.indexOf(e))&&(this._add[t].pendingDelete=!0)},update:function(){var e=this._add.length,t=this._tweens.length;if(0===t&&0===e)return!1;for(var i=0;i<t;)this._tweens[i].update(this.game.time.time)?i++:(this._tweens.splice(i,1),t--);return 0<e&&(this._tweens=this._tweens.concat(this._add),this._add.length=0),!0},isTweening:function(t){return this._tweens.some(function(e){return e.target===t})},_pauseAll:function(){for(var e=this._tweens.length-1;0<=e;e--)this._tweens[e]._pause()},_resumeAll:function(){for(var e=this._tweens.length-1;0<=e;e--)this._tweens[e]._resume()},pauseAll:function(){for(var e=this._tweens.length-1;0<=e;e--)this._tweens[e].pause()},resumeAll:function(){for(var e=this._tweens.length-1;0<=e;e--)this._tweens[e].resume(!0)}},U.TweenManager.prototype.constructor=U.TweenManager,U.Tween=function(e,t,i){this.game=t,this.target=e,this.manager=i,this.timeline=[],this.reverse=!1,this.timeScale=1,this.repeatCounter=0,this.pendingDelete=!1,this.onStart=new U.Signal,this.onLoop=new U.Signal,this.onRepeat=new U.Signal,this.onChildComplete=new U.Signal,this.onComplete=new U.Signal,this.isRunning=!1,this.current=0,this.properties={},this.chainedTween=null,this.isPaused=!1,this.frameBased=i.frameBased,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,this._pausedTime=0,this._codePaused=!1,this._hasStarted=!1},U.Tween.prototype={to:function(e,t,i,n,r,o,a){return(void 0===t||t<=0)&&(t=1e3),void 0===n&&(n=!1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=!1),"string"==typeof(i=null==i?U.Easing.Default:i)&&this.manager.easeMap[i]&&(i=this.manager.easeMap[i]),this.isRunning||(this.timeline.push(new U.TweenData(this).to(e,t,i,r,o,a)),n&&this.start()),this},from:function(e,t,i,n,r,o,a){return void 0===t&&(t=1e3),void 0===n&&(n=!1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=!1),"string"==typeof(i=null==i?U.Easing.Default:i)&&this.manager.easeMap[i]&&(i=this.manager.easeMap[i]),this.isRunning||(this.timeline.push(new U.TweenData(this).from(e,t,i,r,o,a)),n&&this.start()),this},start:function(e){if(void 0===e&&(e=0),null===this.game||null===this.target||0===this.timeline.length||this.isRunning)return this;for(var t=0;t<this.timeline.length;t++)for(var i in this.timeline[t].vEnd)this.properties[i]=this.target[i]||0,Array.isArray(this.properties[i])||(this.properties[i]*=1);for(t=0;t<this.timeline.length;t++)this.timeline[t].loadValues();return this.manager.add(this),this.isRunning=!0,(e<0||e>this.timeline.length-1)&&(e=0),this.current=e,this.timeline[this.current].start(),this},stop:function(e){return void 0===e&&(e=!1),this.isRunning=!1,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,e&&(this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start()),this.manager.remove(this),this},updateTweenData:function(e,t,i){if(0===this.timeline.length)return this;if(-1===(i=void 0===i?0:i))for(var n=0;n<this.timeline.length;n++)this.timeline[n][e]=t;else this.timeline[i][e]=t;return this},delay:function(e,t){return this.updateTweenData("delay",e,t)},repeat:function(e,t,i){return void 0===t&&(t=0),this.updateTweenData("repeatCounter",e,i),this.updateTweenData("repeatDelay",t,i)},repeatDelay:function(e,t){return this.updateTweenData("repeatDelay",e,t)},yoyo:function(e,t,i){return void 0===t&&(t=0),this.updateTweenData("yoyo",e,i),this.updateTweenData("yoyoDelay",t,i)},yoyoDelay:function(e,t){return this.updateTweenData("yoyoDelay",e,t)},easing:function(e,t){return"string"==typeof e&&this.manager.easeMap[e]&&(e=this.manager.easeMap[e]),this.updateTweenData("easingFunction",e,t)},interpolation:function(e,t,i){return void 0===t&&(t=U.Math),this.updateTweenData("interpolationFunction",e,i),this.updateTweenData("interpolationContext",t,i)},repeatAll:function(e){return this.repeatCounter=e=void 0===e?0:e,this},chain:function(){for(var e=arguments.length;e--;)0<e?arguments[e-1].chainedTween=arguments[e]:this.chainedTween=arguments[e];return this},loop:function(e){return this.repeatCounter=(e=void 0===e?!0:e)?-1:0,this},onUpdateCallback:function(e,t){return this._onUpdateCallback=e,this._onUpdateCallbackContext=t,this},pause:function(){this.isPaused=!0,this._codePaused=!0,this._pausedTime=this.game.time.time},_pause:function(){this._codePaused||(this.isPaused=!0,this._pausedTime=this.game.time.time)},resume:function(){if(this.isPaused){this.isPaused=!1,this._codePaused=!1;for(var e=0;e<this.timeline.length;e++)this.timeline[e].isRunning||(this.timeline[e].startTime+=this.game.time.time-this._pausedTime)}},_resume:function(){this._codePaused||this.resume()},update:function(e){if(this.pendingDelete||!this.target)return!1;if(this.isPaused)return!0;var e=this.timeline[this.current].update(e);return e===U.TweenData.PENDING||(e===U.TweenData.RUNNING?(this._hasStarted||(this.onStart.dispatch(this.target,this),this._hasStarted=!0),null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._onUpdateCallbackContext,this,this.timeline[this.current].value,this.timeline[this.current]),this.isRunning):e===U.TweenData.LOOPED?((-1===this.timeline[this.current].repeatCounter?this.onLoop:this.onRepeat).dispatch(this.target,this),!0):e===U.TweenData.COMPLETE?(e=!1,this.reverse?(this.current--,this.current<0&&(this.current=this.timeline.length-1,e=!0)):(this.current++,this.current===this.timeline.length&&(e=!(this.current=0))),e?-1===this.repeatCounter?(this.timeline[this.current].start(),this.onLoop.dispatch(this.target,this),!0):0<this.repeatCounter?(this.repeatCounter--,this.timeline[this.current].start(),this.onRepeat.dispatch(this.target,this),!0):(this.isRunning=!1,this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start(),!1):(this.onChildComplete.dispatch(this.target,this),this.timeline[this.current].start(),!0)):void 0)},generateData:function(e,t){if(null===this.game||null===this.target)return null;void 0===e&&(e=60),void 0===t&&(t=[]);for(var i=0;i<this.timeline.length;i++)for(var n in this.timeline[i].vEnd)this.properties[n]=this.target[n]||0,Array.isArray(this.properties[n])||(this.properties[n]*=1);for(i=0;i<this.timeline.length;i++)this.timeline[i].loadValues();for(i=0;i<this.timeline.length;i++)t=t.concat(this.timeline[i].generateData(e));return t}},Object.defineProperty(U.Tween.prototype,"totalDuration",{get:function(){for(var e=0,t=0;t<this.timeline.length;t++)e+=this.timeline[t].duration;return e}}),U.Tween.prototype.constructor=U.Tween,U.TweenData=function(e){this.parent=e,this.game=e.game,this.vStart={},this.vStartCache={},this.vEnd={},this.vEndCache={},this.duration=1e3,this.percent=0,this.value=0,this.repeatCounter=0,this.repeatDelay=0,this.repeatTotal=0,this.interpolate=!1,this.yoyo=!1,this.yoyoDelay=0,this.inReverse=!1,this.delay=0,this.dt=0,this.startTime=null,this.easingFunction=U.Easing.Default,this.interpolationFunction=U.Math.linearInterpolation,this.interpolationContext=U.Math,this.isRunning=!1,this.isFrom=!1},U.TweenData.PENDING=0,U.TweenData.RUNNING=1,U.TweenData.LOOPED=2,U.TweenData.COMPLETE=3,U.TweenData.prototype={to:function(e,t,i,n,r,o){return this.vEnd=e,this.duration=t,this.easingFunction=i,this.delay=n,this.repeatTotal=r,this.yoyo=o,this.isFrom=!1,this},from:function(e,t,i,n,r,o){return this.vEnd=e,this.duration=t,this.easingFunction=i,this.delay=n,this.repeatTotal=r,this.yoyo=o,this.isFrom=!0,this},start:function(){if(this.startTime=this.game.time.time+this.delay,this.parent.reverse?this.dt=this.duration:this.dt=0,0<this.delay?this.isRunning=!1:this.isRunning=!0,this.isFrom)for(var e in this.vStartCache)this.vStart[e]=this.vEndCache[e],this.vEnd[e]=this.vStartCache[e],this.parent.target[e]=this.vStart[e];return this.value=0,this.yoyoCounter=0,this.repeatCounter=this.repeatTotal,this},loadValues:function(){for(var e in this.parent.properties){if(this.vStart[e]=this.parent.properties[e],Array.isArray(this.vEnd[e])){if(0===this.vEnd[e].length)continue;0===this.percent&&(this.vEnd[e]=[this.vStart[e]].concat(this.vEnd[e]))}void 0!==this.vEnd[e]?("string"==typeof this.vEnd[e]&&(this.vEnd[e]=this.vStart[e]+parseFloat(this.vEnd[e],10)),this.parent.properties[e]=this.vEnd[e]):this.vEnd[e]=this.vStart[e],this.vStartCache[e]=this.vStart[e],this.vEndCache[e]=this.vEnd[e]}return this},update:function(e){if(this.isRunning){if(e<this.startTime)return U.TweenData.RUNNING}else{if(!(e>=this.startTime))return U.TweenData.PENDING;this.isRunning=!0}var t,e=this.parent.frameBased?this.game.time.physicsElapsedMS:this.game.time.elapsedMS;for(t in this.parent.reverse?(this.dt-=e*this.parent.timeScale,this.dt=Math.max(this.dt,0)):(this.dt+=e*this.parent.timeScale,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent),this.vEnd){var i=this.vStart[t],n=this.vEnd[t];Array.isArray(n)?this.parent.target[t]=this.interpolationFunction.call(this.interpolationContext,n,this.value):this.parent.target[t]=i+(n-i)*this.value}return!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?this.repeat():U.TweenData.RUNNING},generateData:function(e){this.parent.reverse?this.dt=this.duration:this.dt=0;var t=[],i=!1,n=1/e*1e3;do{this.parent.reverse?(this.dt-=n,this.dt=Math.max(this.dt,0)):(this.dt+=n,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent);var r,o={};for(r in this.vEnd){var a=this.vStart[r],s=this.vEnd[r];Array.isArray(s)?o[r]=this.interpolationFunction(s,this.value):o[r]=a+(s-a)*this.value}}while(t.push(o),!(i=!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?!0:i));return this.yoyo&&((e=t.slice()).reverse(),t=t.concat(e)),t},repeat:function(){if(this.yoyo){if(this.inReverse&&0===this.repeatCounter){for(var e in this.vStartCache)this.vStart[e]=this.vStartCache[e],this.vEnd[e]=this.vEndCache[e];return this.inReverse=!1,U.TweenData.COMPLETE}this.inReverse=!this.inReverse}else if(0===this.repeatCounter)return U.TweenData.COMPLETE;if(this.inReverse)for(var e in this.vStartCache)this.vStart[e]=this.vEndCache[e],this.vEnd[e]=this.vStartCache[e];else{for(var e in this.vStartCache)this.vStart[e]=this.vStartCache[e],this.vEnd[e]=this.vEndCache[e];0<this.repeatCounter&&this.repeatCounter--}return this.startTime=this.game.time.time,this.yoyo&&this.inReverse?this.startTime+=this.yoyoDelay:this.inReverse||(this.startTime+=this.repeatDelay),this.parent.reverse?this.dt=this.duration:this.dt=0,U.TweenData.LOOPED}},U.TweenData.prototype.constructor=U.TweenData,U.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 0===e?0:1===e?1:1-Math.cos(e*Math.PI/2)},Out:function(e){return 0===e?0:1===e?1:Math.sin(e*Math.PI/2)},InOut:function(e){return 0===e?0:1===e?1:.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,i=.1;return 0===e?0:1===e?1:(t=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)))},Out:function(e){var t,i=.1;return 0===e?0:1===e?1:(t=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,i=.1;return 0===e?0:1===e?1:(t=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?i*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-U.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*U.Easing.Bounce.In(2*e):.5*U.Easing.Bounce.Out(2*e-1)+.5}}},U.Easing.Default=U.Easing.Linear.None,U.Easing.Power0=U.Easing.Linear.None,U.Easing.Power1=U.Easing.Quadratic.Out,U.Easing.Power2=U.Easing.Cubic.Out,U.Easing.Power3=U.Easing.Quartic.Out,U.Easing.Power4=U.Easing.Quintic.Out,U.Time=function(e){this.game=e,this.time=0,this.prevTime=0,this.now=0,this.elapsed=0,this.elapsedMS=0,this.physicsElapsed=1/60,this.physicsElapsedMS=1/60*1e3,this.desiredFpsMult=1/60,this._desiredFps=60,this.suggestedFps=this.desiredFps,this.slowMotion=1,this.advancedTiming=!1,this.frames=0,this.fps=0,this.fpsMin=1e3,this.fpsMax=0,this.msMin=1e3,this.msMax=0,this.pauseDuration=0,this.timeToCall=0,this.timeExpected=0,this.events=new U.Timer(this.game,!1),this._frameCount=0,this._elapsedAccumulator=0,this._started=0,this._timeLastSecond=0,this._pauseStarted=0,this._justResumed=!1,this._timers=[]},U.Time.prototype={boot:function(){this._started=Date.now(),this.time=Date.now(),this.events.start(),this.timeExpected=this.time},add:function(e){return this._timers.push(e),e},create:function(e){e=new U.Timer(this.game,e=void 0===e?!0:e);return this._timers.push(e),e},removeAll:function(){for(var e=0;e<this._timers.length;e++)this._timers[e].destroy();this._timers=[],this.events.removeAll()},refresh:function(){var e=this.time;this.time=Date.now(),this.elapsedMS=this.time-e},update:function(e){var t=this.time;this.time=Date.now(),this.elapsedMS=this.time-t,this.prevTime=this.now,this.now=e,this.elapsed=this.now-this.prevTime,this.game.raf._isSetTimeOut&&(this.timeToCall=Math.floor(Math.max(0,1e3/this._desiredFps-(this.timeExpected-e))),this.timeExpected=e+this.timeToCall),this.advancedTiming&&this.updateAdvancedTiming(),this.game.paused||(this.events.update(this.time),this._timers.length&&this.updateTimers())},updateTimers:function(){for(var e=0,t=this._timers.length;e<t;)this._timers[e].update(this.time)?e++:(this._timers.splice(e,1),t--)},updateAdvancedTiming:function(){this._frameCount++,this._elapsedAccumulator+=this.elapsed,this._frameCount>=2*this._desiredFps&&(this.suggestedFps=5*Math.floor(200/(this._elapsedAccumulator/this._frameCount)),this._frameCount=0,this._elapsedAccumulator=0),this.msMin=Math.min(this.msMin,this.elapsed),this.msMax=Math.max(this.msMax,this.elapsed),this.frames++,this.now>this._timeLastSecond+1e3&&(this.fps=Math.round(1e3*this.frames/(this.now-this._timeLastSecond)),this.fpsMin=Math.min(this.fpsMin,this.fps),this.fpsMax=Math.max(this.fpsMax,this.fps),this._timeLastSecond=this.now,this.frames=0)},gamePaused:function(){this._pauseStarted=Date.now(),this.events.pause();for(var e=this._timers.length;e--;)this._timers[e]._pause()},gameResumed:function(){this.time=Date.now(),this.pauseDuration=this.time-this._pauseStarted,this.events.resume();for(var e=this._timers.length;e--;)this._timers[e]._resume()},totalElapsedSeconds:function(){return.001*(this.time-this._started)},elapsedSince:function(e){return this.time-e},elapsedSecondsSince:function(e){return.001*(this.time-e)},reset:function(){this._started=this.time,this.removeAll()}},Object.defineProperty(U.Time.prototype,"desiredFps",{get:function(){return this._desiredFps},set:function(e){this._desiredFps=e,this.physicsElapsed=1/e,this.physicsElapsedMS=1e3*this.physicsElapsed,this.desiredFpsMult=1/e}}),U.Time.prototype.constructor=U.Time,U.Timer=function(e,t){void 0===t&&(t=!0),this.game=e,this.running=!1,this.autoDestroy=t,this.expired=!1,this.elapsed=0,this.events=[],this.onComplete=new U.Signal,this.nextTick=0,this.timeCap=1e3,this.paused=!1,this._codePaused=!1,this._started=0,this._pauseStarted=0,this._pauseTotal=0,this._now=Date.now(),this._len=0,this._marked=0,this._i=0,this._diff=0,this._newTick=0},U.Timer.MINUTE=6e4,U.Timer.SECOND=1e3,U.Timer.HALF=500,U.Timer.QUARTER=250,U.Timer.prototype={create:function(e,t,i,n,r,o){var a=e=Math.round(e),e=(0===this._now?a+=this.game.time.time:a+=this._now,new U.TimerEvent(this,e,a,i,t,n,r,o));return this.events.push(e),this.order(),this.expired=!1,e},add:function(e,t,i){return this.create(e,!1,0,t,i,Array.prototype.slice.call(arguments,3))},repeat:function(e,t,i,n){return this.create(e,!1,t,i,n,Array.prototype.slice.call(arguments,4))},loop:function(e,t,i){return this.create(e,!0,0,t,i,Array.prototype.slice.call(arguments,3))},start:function(e){if(!this.running){this._started=this.game.time.time+(e||0),this.running=!0;for(var t=0;t<this.events.length;t++)this.events[t].tick=this.events[t].delay+this._started}},stop:function(e){this.running=!1,(e=void 0===e?!0:e)&&(this.events.length=0)},remove:function(e){for(var t=0;t<this.events.length;t++)if(this.events[t]===e)return this.events[t].pendingDelete=!0;return!1},order:function(){0<this.events.length&&(this.events.sort(this.sortHandler),this.nextTick=this.events[0].tick)},sortHandler:function(e,t){return e.tick<t.tick?-1:e.tick>t.tick?1:0},clearPendingEvents:function(){for(this._i=this.events.length;this._i--;)this.events[this._i].pendingDelete&&this.events.splice(this._i,1);this._len=this.events.length,this._i=0},update:function(e){if(this.paused)return!0;if(this.elapsed=e-this._now,this._now=e,this.elapsed>this.timeCap&&this.adjustEvents(e-this.elapsed),this._marked=0,this.clearPendingEvents(),this.running&&this._now>=this.nextTick&&0<this._len){for(;this._i<this._len&&this.running&&this._now>=this.events[this._i].tick&&!this.events[this._i].pendingDelete;)this._newTick=this._now+this.events[this._i].delay-(this._now-this.events[this._i].tick),this._newTick<0&&(this._newTick=this._now+this.events[this._i].delay),!0===this.events[this._i].loop?this.events[this._i].tick=this._newTick:0<this.events[this._i].repeatCount?(this.events[this._i].repeatCount--,this.events[this._i].tick=this._newTick):(this._marked++,this.events[this._i].pendingDelete=!0),this.events[this._i].callback.apply(this.events[this._i].callbackContext,this.events[this._i].args),this._i++;this.events.length>this._marked?this.order():(this.expired=!0,this.onComplete.dispatch(this))}return!this.expired||!this.autoDestroy},pause:function(){this.running&&(this._codePaused=!0,this.paused||(this._pauseStarted=this.game.time.time,this.paused=!0))},_pause:function(){!this.paused&&this.running&&(this._pauseStarted=this.game.time.time,this.paused=!0)},adjustEvents:function(e){for(var t,i=0;i<this.events.length;i++)this.events[i].pendingDelete||((t=this.events[i].tick-e)<0&&(t=0),this.events[i].tick=this._now+t);var n=this.nextTick-e;this.nextTick=n<0?this._now:this._now+n},resume:function(){var e;this.paused&&(e=this.game.time.time,this._pauseTotal+=e-this._now,this._now=e,this.adjustEvents(this._pauseStarted),this.paused=!1,this._codePaused=!1)},_resume:function(){this._codePaused||this.resume()},removeAll:function(){this.onComplete.removeAll(),this.events.length=0,this._len=0,this._i=0},destroy:function(){this.onComplete.removeAll(),this.running=!1,this.events=[],this._len=0,this._i=0}},Object.defineProperty(U.Timer.prototype,"next",{get:function(){return this.nextTick}}),Object.defineProperty(U.Timer.prototype,"duration",{get:function(){return this.running&&this.nextTick>this._now?this.nextTick-this._now:0}}),Object.defineProperty(U.Timer.prototype,"length",{get:function(){return this.events.length}}),Object.defineProperty(U.Timer.prototype,"ms",{get:function(){return this.running?this._now-this._started-this._pauseTotal:0}}),Object.defineProperty(U.Timer.prototype,"seconds",{get:function(){return this.running?.001*this.ms:0}}),U.Timer.prototype.constructor=U.Timer,U.TimerEvent=function(e,t,i,n,r,o,a,s){this.timer=e,this.delay=t,this.tick=i,this.repeatCount=n-1,this.loop=r,this.callback=o,this.callbackContext=a,this.args=s,this.pendingDelete=!1},U.TimerEvent.prototype.constructor=U.TimerEvent,U.AnimationManager=function(e){this.sprite=e,this.game=e.game,this.currentFrame=null,this.currentAnim=null,this.updateIfVisible=!0,this.isLoaded=!1,this._frameData=null,this._anims={},this._outputFrames=[]},U.AnimationManager.prototype={loadFrameData:function(e,t){if(void 0===e)return!1;if(this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(e);return this._frameData=e,null==t?this.frame=0:"string"==typeof t?this.frameName=t:this.frame=t,this.isLoaded=!0},copyFrameData:function(e,t){if(this._frameData=e.clone(),this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(this._frameData);return null==t?this.frame=0:"string"==typeof t?this.frameName=t:this.frame=t,this.isLoaded=!0},add:function(e,t,i,n,r){return t=t||[],i=i||60,void 0===n&&(n=!1),void 0===r&&(r=!(!t||"number"!=typeof t[0])),this._outputFrames=[],this._frameData.getFrameIndexes(t,r,this._outputFrames),this._anims[e]=new U.Animation(this.game,this.sprite,e,this._frameData,this._outputFrames,i,n),this.currentAnim=this._anims[e],this.sprite.tilingTexture&&(this.sprite.refreshTexture=!0),this._anims[e]},validateFrames:function(e,t){void 0===t&&(t=!0);for(var i=0;i<e.length;i++)if(!0===t){if(e[i]>this._frameData.total)return!1}else if(!1===this._frameData.checkFrameName(e[i]))return!1;return!0},play:function(e,t,i,n){if(this._anims[e])return this.currentAnim===this._anims[e]?!1===this.currentAnim.isPlaying?(this.currentAnim.paused=!1,this.currentAnim.play(t,i,n)):this.currentAnim:(this.currentAnim&&this.currentAnim.isPlaying&&this.currentAnim.stop(),this.currentAnim=this._anims[e],this.currentAnim.paused=!1,this.currentFrame=this.currentAnim.currentFrame,this.currentAnim.play(t,i,n))},stop:function(e,t){void 0===t&&(t=!1),!this.currentAnim||"string"==typeof e&&e!==this.currentAnim.name||this.currentAnim.stop(t)},update:function(){return!(this.updateIfVisible&&!this.sprite.visible)&&(!(!this.currentAnim||!this.currentAnim.update())&&(this.currentFrame=this.currentAnim.currentFrame,!0))},next:function(e){this.currentAnim&&(this.currentAnim.next(e),this.currentFrame=this.currentAnim.currentFrame)},previous:function(e){this.currentAnim&&(this.currentAnim.previous(e),this.currentFrame=this.currentAnim.currentFrame)},getAnimation:function(e){return"string"==typeof e&&this._anims[e]?this._anims[e]:null},refreshFrame:function(){},destroy:function(){var e=null;for(e in this._anims)this._anims.hasOwnProperty(e)&&this._anims[e].destroy();this._anims={},this._outputFrames=[],this._frameData=null,this.currentAnim=null,this.currentFrame=null,this.sprite=null,this.game=null}},U.AnimationManager.prototype.constructor=U.AnimationManager,Object.defineProperty(U.AnimationManager.prototype,"frameData",{get:function(){return this._frameData}}),Object.defineProperty(U.AnimationManager.prototype,"frameTotal",{get:function(){return this._frameData.total}}),Object.defineProperty(U.AnimationManager.prototype,"paused",{get:function(){return this.currentAnim.isPaused},set:function(e){this.currentAnim.paused=e}}),Object.defineProperty(U.AnimationManager.prototype,"name",{get:function(){if(this.currentAnim)return this.currentAnim.name}}),Object.defineProperty(U.AnimationManager.prototype,"frame",{get:function(){if(this.currentFrame)return this.currentFrame.index},set:function(e){"number"==typeof e&&this._frameData&&null!==this._frameData.getFrame(e)&&(this.currentFrame=this._frameData.getFrame(e),this.currentFrame&&this.sprite.setFrame(this.currentFrame))}}),Object.defineProperty(U.AnimationManager.prototype,"frameName",{get:function(){if(this.currentFrame)return this.currentFrame.name},set:function(e){"string"==typeof e&&this._frameData&&null!==this._frameData.getFrameByName(e)&&(this.currentFrame=this._frameData.getFrameByName(e),this.currentFrame&&(this._frameIndex=this.currentFrame.index,this.sprite.setFrame(this.currentFrame)))}}),U.Animation=function(e,t,i,n,r,o,a){void 0===a&&(a=!1),this.game=e,this._parent=t,this._frameData=n,this.name=i,this._frames=[],this._frames=this._frames.concat(r),this.delay=1e3/o,this.loop=a,this.loopCount=0,this.killOnComplete=!1,this.isFinished=!1,this.isPlaying=!1,this.isPaused=!1,this._pauseStartTime=0,this._frameIndex=0,this._frameDiff=0,this._frameSkip=1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.onStart=new U.Signal,this.onUpdate=null,this.onComplete=new U.Signal,this.onLoop=new U.Signal,this.isReversed=!1,this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},U.Animation.prototype={play:function(e,t,i){return"number"==typeof e&&(this.delay=1e3/e),"boolean"==typeof t&&(this.loop=t),void 0!==i&&(this.killOnComplete=i),this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=this.isReversed?this._frames.length-1:0,this.updateCurrentFrame(!1,!0),this._parent.events.onAnimationStart$dispatch(this._parent,this),this.onStart.dispatch(this._parent,this),(this._parent.animations.currentAnim=this)._parent.animations.currentFrame=this.currentFrame,this},restart:function(){this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=0,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this._parent.setFrame(this.currentFrame),(this._parent.animations.currentAnim=this)._parent.animations.currentFrame=this.currentFrame,this.onStart.dispatch(this._parent,this)},reverse:function(){return this.reversed=!this.reversed,this},reverseOnce:function(){return this.onComplete.addOnce(this.reverse,this),this.reverse()},setFrame:function(e,t){var i;if(void 0===t&&(t=!1),"string"==typeof e)for(var n=0;n<this._frames.length;n++)this._frameData.getFrame(this._frames[n]).name===e&&(i=n);else if("number"==typeof e)if(t)i=e;else for(n=0;n<this._frames.length;n++)this._frames[n]===e&&(i=n);i&&(this._frameIndex=i-1,this._timeNextFrame=this.game.time.time,this.update())},stop:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,e&&(this.currentFrame=this._frameData.getFrame(this._frames[0]),this._parent.setFrame(this.currentFrame)),t&&(this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this))},onPause:function(){this.isPlaying&&(this._frameDiff=this._timeNextFrame-this.game.time.time)},onResume:function(){this.isPlaying&&(this._timeNextFrame=this.game.time.time+this._frameDiff)},update:function(){return!this.isPaused&&(!!(this.isPlaying&&this.game.time.time>=this._timeNextFrame)&&(this._frameSkip=1,this._frameDiff=this.game.time.time-this._timeNextFrame,this._timeLastFrame=this.game.time.time,this._frameDiff>this.delay&&(this._frameSkip=Math.floor(this._frameDiff/this.delay),this._frameDiff-=this._frameSkip*this.delay),this._timeNextFrame=this.game.time.time+(this.delay-this._frameDiff),this.isReversed?this._frameIndex-=this._frameSkip:this._frameIndex+=this._frameSkip,!this.isReversed&&this._frameIndex>=this._frames.length||this.isReversed&&this._frameIndex<=-1?this.loop?(this._frameIndex=Math.abs(this._frameIndex)%this._frames.length,this.isReversed&&(this._frameIndex=this._frames.length-1-this._frameIndex),this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&this._parent.setFrame(this.currentFrame),this.loopCount++,this._parent.events.onAnimationLoop$dispatch(this._parent,this),this.onLoop.dispatch(this._parent,this),!this.onUpdate||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)):(this.complete(),!1):this.updateCurrentFrame(!0)))},updateCurrentFrame:function(e,t){if(void 0===t&&(t=!1),!this._frameData)return!1;var i=this.currentFrame.index;return this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&(t||!t&&i!==this.currentFrame.index)&&this._parent.setFrame(this.currentFrame),!this.onUpdate||!e||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)},next:function(e){e=this._frameIndex+(e=void 0===e?1:e);e>=this._frames.length&&(this.loop?e%=this._frames.length:e=this._frames.length-1),e!==this._frameIndex&&(this._frameIndex=e,this.updateCurrentFrame(!0))},previous:function(e){e=this._frameIndex-(e=void 0===e?1:e);e<0&&(this.loop?e=this._frames.length+e:e++),e!==this._frameIndex&&(this._frameIndex=e,this.updateCurrentFrame(!0))},updateFrameData:function(e){this._frameData=e,this.currentFrame=this._frameData?this._frameData.getFrame(this._frames[this._frameIndex%this._frames.length]):null},destroy:function(){this._frameData&&(this.game.onPause.remove(this.onPause,this),this.game.onResume.remove(this.onResume,this),this.game=null,this._parent=null,this._frames=null,this._frameData=null,this.currentFrame=null,this.isPlaying=!1,this.onStart.dispose(),this.onLoop.dispose(),this.onComplete.dispose(),this.onUpdate&&this.onUpdate.dispose())},complete:function(){this._frameIndex=this._frames.length-1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this),this.killOnComplete&&this._parent.kill()}},U.Animation.prototype.constructor=U.Animation,Object.defineProperty(U.Animation.prototype,"paused",{get:function(){return this.isPaused},set:function(e){(this.isPaused=e)?this._pauseStartTime=this.game.time.time:this.isPlaying&&(this._timeNextFrame=this.game.time.time+this.delay)}}),Object.defineProperty(U.Animation.prototype,"reversed",{get:function(){return this.isReversed},set:function(e){this.isReversed=e}}),Object.defineProperty(U.Animation.prototype,"frameTotal",{get:function(){return this._frames.length}}),Object.defineProperty(U.Animation.prototype,"frame",{get:function(){return null!==this.currentFrame?this.currentFrame.index:this._frameIndex},set:function(e){this.currentFrame=this._frameData.getFrame(this._frames[e]),null!==this.currentFrame&&(this._frameIndex=e,this._parent.setFrame(this.currentFrame),this.onUpdate&&this.onUpdate.dispatch(this,this.currentFrame))}}),Object.defineProperty(U.Animation.prototype,"speed",{get:function(){return 1e3/this.delay},set:function(e){0<e&&(this.delay=1e3/e)}}),Object.defineProperty(U.Animation.prototype,"enableUpdate",{get:function(){return null!==this.onUpdate},set:function(e){e&&null===this.onUpdate?this.onUpdate=new U.Signal:e||null===this.onUpdate||(this.onUpdate.dispose(),this.onUpdate=null)}}),U.Animation.generateFrameNames=function(e,t,i,n,r){void 0===n&&(n="");var o=[],a="";if(t<i)for(var s=t;s<=i;s++)a="number"==typeof r?U.Utils.pad(s.toString(),r,"0",1):s.toString(),o.push(a=e+a+n);else for(s=t;i<=s;s--)a="number"==typeof r?U.Utils.pad(s.toString(),r,"0",1):s.toString(),o.push(a=e+a+n);return o},U.Frame=function(e,t,i,n,r,o){this.index=e,this.x=t,this.y=i,this.width=n,this.height=r,this.name=o,this.centerX=Math.floor(n/2),this.centerY=Math.floor(r/2),this.distance=U.Math.distance(0,0,n,r),this.rotated=!1,this.rotationDirection="cw",this.trimmed=!1,this.sourceSizeW=n,this.sourceSizeH=r,this.spriteSourceSizeX=0,this.spriteSourceSizeY=0,this.spriteSourceSizeW=0,this.spriteSourceSizeH=0,this.right=this.x+this.width,this.bottom=this.y+this.height},U.Frame.prototype={resize:function(e,t){this.width=e,this.height=t,this.centerX=Math.floor(e/2),this.centerY=Math.floor(t/2),this.distance=U.Math.distance(0,0,e,t),this.sourceSizeW=e,this.sourceSizeH=t,this.right=this.x+e,this.bottom=this.y+t},setTrim:function(e,t,i,n,r,o,a){(this.trimmed=e)&&(this.sourceSizeW=t,this.sourceSizeH=i,this.centerX=Math.floor(t/2),this.centerY=Math.floor(i/2),this.spriteSourceSizeX=n,this.spriteSourceSizeY=r,this.spriteSourceSizeW=o,this.spriteSourceSizeH=a)},clone:function(){var e,t=new U.Frame(this.index,this.x,this.y,this.width,this.height,this.name);for(e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t},getRect:function(e){return void 0===e?e=new U.Rectangle(this.x,this.y,this.width,this.height):e.setTo(this.x,this.y,this.width,this.height),e}},U.Frame.prototype.constructor=U.Frame,U.FrameData=function(){this._frames=[],this._frameNames=[]},U.FrameData.prototype={addFrame:function(e){return e.index=this._frames.length,this._frames.push(e),""!==e.name&&(this._frameNames[e.name]=e.index),e},getFrame:function(e){return e>=this._frames.length&&(e=0),this._frames[e]},getFrameByName:function(e){return"number"==typeof this._frameNames[e]?this._frames[this._frameNames[e]]:null},checkFrameName:function(e){return null!=this._frameNames[e]},clone:function(){for(var e,t=new U.FrameData,i=0;i<this._frames.length;i++)t._frames.push(this._frames[i].clone());for(e in this._frameNames)this._frameNames.hasOwnProperty(e)&&t._frameNames.push(this._frameNames[e]);return t},getFrameRange:function(e,t,i){void 0===i&&(i=[]);for(var n=e;n<=t;n++)i.push(this._frames[n]);return i},getFrames:function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=[]),void 0===e||0===e.length)for(var n=0;n<this._frames.length;n++)i.push(this._frames[n]);else for(n=0;n<e.length;n++)t?i.push(this.getFrame(e[n])):i.push(this.getFrameByName(e[n]));return i},getFrameIndexes:function(e,t,i){if(void 0===t&&(t=!0),void 0===i&&(i=[]),void 0===e||0===e.length)for(var n=0;n<this._frames.length;n++)i.push(this._frames[n].index);else for(n=0;n<e.length;n++)t&&this._frames[e[n]]?i.push(this._frames[e[n]].index):this.getFrameByName(e[n])&&i.push(this.getFrameByName(e[n]).index);return i},destroy:function(){this._frames=null,this._frameNames=null}},U.FrameData.prototype.constructor=U.FrameData,Object.defineProperty(U.FrameData.prototype,"total",{get:function(){return this._frames.length}}),U.AnimationParser={spriteSheet:function(e,t,i,n,r,o,a){var s=t;if(null===(s="string"==typeof t?e.cache.getImage(t):s))return null;var p=s.width,e=s.height,t=(i<=0&&(i=Math.floor(-p/Math.min(-1,i))),n<=0&&(n=Math.floor(-e/Math.min(-1,n))),Math.floor((p-o)/(i+a))),s=Math.floor((e-o)/(n+a)),l=-1!==r?r:t*s;if(0===p||0===e||p<i||e<n||0===l)return null;for(var h=new U.FrameData,u=o,d=o,c=0;c<l;c++)h.addFrame(new U.Frame(c,u,d,i,n,"")),p<(u+=i+a)+i&&(u=o,d+=n+a);return h},JSONData:function(e,t){if(t.frames){for(var i,n=new U.FrameData,r=t.frames,o=0;o<r.length;o++)i=n.addFrame(new U.Frame(o,r[o].frame.x,r[o].frame.y,r[o].frame.w,r[o].frame.h,r[o].filename)),r[o].trimmed&&i.setTrim(r[o].trimmed,r[o].sourceSize.w,r[o].sourceSize.h,r[o].spriteSourceSize.x,r[o].spriteSourceSize.y,r[o].spriteSourceSize.w,r[o].spriteSourceSize.h);return n}},JSONDataPyxel:function(e,t){if(["layers","tilewidth","tileheight","tileswide","tileshigh"].forEach(function(e){t[e]}),1===t.layers.length){for(var i=new U.FrameData,n=t.tileheight,r=t.tilewidth,o=t.layers[0].tiles,a=0;a<o.length;a++)i.addFrame(new U.Frame(a,o[a].x,o[a].y,r,n,"frame_"+a)).setTrim(!1);return i}},JSONDataHash:function(e,t){if(t.frames){var i,n,r=new U.FrameData,o=t.frames,a=0;for(n in o)i=r.addFrame(new U.Frame(a,o[n].frame.x,o[n].frame.y,o[n].frame.w,o[n].frame.h,n)),o[n].trimmed&&i.setTrim(o[n].trimmed,o[n].sourceSize.w,o[n].sourceSize.h,o[n].spriteSourceSize.x,o[n].spriteSourceSize.y,o[n].spriteSourceSize.w,o[n].spriteSourceSize.h),a++;return r}},XMLData:function(e,t){if(t.getElementsByTagName("TextureAtlas")){for(var i,n,r,o,a,s,p,l,h,u,d=new U.FrameData,c=t.getElementsByTagName("SubTexture"),m=0;m<c.length;m++)i=(n=c[m].attributes).name.value,r=parseInt(n.x.value,10),o=parseInt(n.y.value,10),a=parseInt(n.width.value,10),s=parseInt(n.height.value,10),l=p=null,n.frameX&&(p=Math.abs(parseInt(n.frameX.value,10)),l=Math.abs(parseInt(n.frameY.value,10)),h=parseInt(n.frameWidth.value,10),u=parseInt(n.frameHeight.value,10)),n=d.addFrame(new U.Frame(m,r,o,a,s,i)),null===p&&null===l||n.setTrim(!0,a,s,p,l,h,u);return d}}},U.Cache=function(e){this.game=e,this.autoResolveURL=!1,this._cache={canvas:{},image:{},texture:{},sound:{},video:{},text:{},json:{},xml:{},physics:{},tilemap:{},binary:{},bitmapData:{},bitmapFont:{},shader:{},renderTexture:{}},this._urlMap={},this._urlResolver=new Image,this._urlTemp=null,this.onSoundUnlock=new U.Signal,this._cacheMap=[],this._cacheMap[U.Cache.CANVAS]=this._cache.canvas,this._cacheMap[U.Cache.IMAGE]=this._cache.image,this._cacheMap[U.Cache.TEXTURE]=this._cache.texture,this._cacheMap[U.Cache.SOUND]=this._cache.sound,this._cacheMap[U.Cache.TEXT]=this._cache.text,this._cacheMap[U.Cache.PHYSICS]=this._cache.physics,this._cacheMap[U.Cache.TILEMAP]=this._cache.tilemap,this._cacheMap[U.Cache.BINARY]=this._cache.binary,this._cacheMap[U.Cache.BITMAPDATA]=this._cache.bitmapData,this._cacheMap[U.Cache.BITMAPFONT]=this._cache.bitmapFont,this._cacheMap[U.Cache.JSON]=this._cache.json,this._cacheMap[U.Cache.XML]=this._cache.xml,this._cacheMap[U.Cache.VIDEO]=this._cache.video,this._cacheMap[U.Cache.SHADER]=this._cache.shader,this._cacheMap[U.Cache.RENDER_TEXTURE]=this._cache.renderTexture,this.addDefaultImage(),this.addMissingImage()},U.Cache.CANVAS=1,U.Cache.IMAGE=2,U.Cache.TEXTURE=3,U.Cache.SOUND=4,U.Cache.TEXT=5,U.Cache.PHYSICS=6,U.Cache.TILEMAP=7,U.Cache.BINARY=8,U.Cache.BITMAPDATA=9,U.Cache.BITMAPFONT=10,U.Cache.JSON=11,U.Cache.XML=12,U.Cache.VIDEO=13,U.Cache.SHADER=14,U.Cache.RENDER_TEXTURE=15,U.Cache.DEFAULT=null,U.Cache.MISSING=null,U.Cache.prototype={addCanvas:function(e,t,i){void 0===i&&(i=t.getContext("2d")),this._cache.canvas[e]={canvas:t,context:i}},addImage:function(e,t,i){this.checkImageKey(e)&&this.removeImage(e);var n={key:e,url:t,data:i,base:new PIXI.BaseTexture(i),frame:new U.Frame(0,0,0,i.width,i.height,e),frameData:new U.FrameData};return n.frameData.addFrame(new U.Frame(0,0,0,i.width,i.height,t)),this._cache.image[e]=n,this._resolveURL(t,n),"__default"===e?U.Cache.DEFAULT=new PIXI.Texture(n.base):"__missing"===e&&(U.Cache.MISSING=new PIXI.Texture(n.base)),n},addDefaultImage:function(){var e=new Image,e=(e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==",this.addImage("__default",null,e));e.base.skipRender=!0,U.Cache.DEFAULT=new PIXI.Texture(e.base)},addMissingImage:function(){var e=new Image,e=(e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==",this.addImage("__missing",null,e));U.Cache.MISSING=new PIXI.Texture(e.base)},addSound:function(e,t,i,n,r){var o=(r=void 0===(r=void 0===n?!(n=!0):r)?!(n=!1):r)?!0:!1;this._cache.sound[e]={url:t,data:i,isDecoding:!1,decoded:o,webAudio:n,audioTag:r,locked:this.game.sound.touchLocked},this._resolveURL(t,this._cache.sound[e])},addText:function(e,t,i){this._cache.text[e]={url:t,data:i},this._resolveURL(t,this._cache.text[e])},addPhysicsData:function(e,t,i,n){this._cache.physics[e]={url:t,data:i,format:n},this._resolveURL(t,this._cache.physics[e])},addTilemap:function(e,t,i,n){this._cache.tilemap[e]={url:t,data:i,format:n},this._resolveURL(t,this._cache.tilemap[e])},addBinary:function(e,t){this._cache.binary[e]=t},addBitmapData:function(e,t,i){return t.key=e,void 0===i&&(i=new U.FrameData).addFrame(t.textureFrame),this._cache.bitmapData[e]={data:t,frameData:i},t},addBitmapFont:function(e,t,i,n,r,o,a){i={url:t,data:i,font:null,base:new PIXI.BaseTexture(i)};void 0===o&&(o=0),void 0===a&&(a=0),i.font="json"===r?U.LoaderParser.jsonBitmapFont(n,i.base,o,a):U.LoaderParser.xmlBitmapFont(n,i.base,o,a),this._cache.bitmapFont[e]=i,this._resolveURL(t,i)},addJSON:function(e,t,i){this._cache.json[e]={url:t,data:i},this._resolveURL(t,this._cache.json[e])},addXML:function(e,t,i){this._cache.xml[e]={url:t,data:i},this._resolveURL(t,this._cache.xml[e])},addVideo:function(e,t,i,n){this._cache.video[e]={url:t,data:i,isBlob:n,locked:!0},this._resolveURL(t,this._cache.video[e])},addShader:function(e,t,i){this._cache.shader[e]={url:t,data:i},this._resolveURL(t,this._cache.shader[e])},addRenderTexture:function(e,t){this._cache.renderTexture[e]={texture:t,frame:new U.Frame(0,0,0,t.width,t.height,"","")}},addSpriteSheet:function(e,t,i,n,r,o,a,s){void 0===o&&(o=-1);i={key:e,url:t,data:i,frameWidth:n,frameHeight:r,margin:a=void 0===a?0:a,spacing:s=void 0===s?0:s,base:new PIXI.BaseTexture(i),frameData:U.AnimationParser.spriteSheet(this.game,i,n,r,o,a,s)};this._cache.image[e]=i,this._resolveURL(t,i)},addTextureAtlas:function(e,t,i,n,r){i={key:e,url:t,data:i,base:new PIXI.BaseTexture(i)};r===U.Loader.TEXTURE_ATLAS_XML_STARLING?i.frameData=U.AnimationParser.XMLData(this.game,n,e):r===U.Loader.TEXTURE_ATLAS_JSON_PYXEL?i.frameData=U.AnimationParser.JSONDataPyxel(this.game,n,e):Array.isArray(n.frames)?i.frameData=U.AnimationParser.JSONData(this.game,n,e):i.frameData=U.AnimationParser.JSONDataHash(this.game,n,e),this._cache.image[e]=i,this._resolveURL(t,i)},reloadSound:function(e){var t=this,i=this.getSound(e);i&&(i.data.src=i.url,i.data.addEventListener("canplaythrough",function(){return t.reloadSoundComplete(e)},!1),i.data.load())},reloadSoundComplete:function(e){var t=this.getSound(e);t&&(t.locked=!1,this.onSoundUnlock.dispatch(e))},updateSound:function(e,t,i){e=this.getSound(e);e&&(e[t]=i)},decodedSound:function(e,t){e=this.getSound(e);e.data=t,e.decoded=!0,e.isDecoding=!1},isSoundDecoded:function(e){e=this.getItem(e,U.Cache.SOUND,"isSoundDecoded");if(e)return e.decoded},isSoundReady:function(e){e=this.getItem(e,U.Cache.SOUND,"isSoundDecoded");if(e)return e.decoded&&!this.game.sound.touchLocked},checkKey:function(e,t){return!!this._cacheMap[e][t]},checkURL:function(e){return!!this._urlMap[this._resolveURL(e)]},checkCanvasKey:function(e){return this.checkKey(U.Cache.CANVAS,e)},checkImageKey:function(e){return this.checkKey(U.Cache.IMAGE,e)},checkTextureKey:function(e){return this.checkKey(U.Cache.TEXTURE,e)},checkSoundKey:function(e){return this.checkKey(U.Cache.SOUND,e)},checkTextKey:function(e){return this.checkKey(U.Cache.TEXT,e)},checkPhysicsKey:function(e){return this.checkKey(U.Cache.PHYSICS,e)},checkTilemapKey:function(e){return this.checkKey(U.Cache.TILEMAP,e)},checkBinaryKey:function(e){return this.checkKey(U.Cache.BINARY,e)},checkBitmapDataKey:function(e){return this.checkKey(U.Cache.BITMAPDATA,e)},checkBitmapFontKey:function(e){return this.checkKey(U.Cache.BITMAPFONT,e)},checkJSONKey:function(e){return this.checkKey(U.Cache.JSON,e)},checkXMLKey:function(e){return this.checkKey(U.Cache.XML,e)},checkVideoKey:function(e){return this.checkKey(U.Cache.VIDEO,e)},checkShaderKey:function(e){return this.checkKey(U.Cache.SHADER,e)},checkRenderTextureKey:function(e){return this.checkKey(U.Cache.RENDER_TEXTURE,e)},getItem:function(e,t,i,n){return this.checkKey(t,e)?void 0===n?this._cacheMap[t][e]:this._cacheMap[t][e][n]:null},getCanvas:function(e){return this.getItem(e,U.Cache.CANVAS,"getCanvas","canvas")},getImage:function(e,t){void 0===t&&(t=!1);e=this.getItem(e=null==e?"__default":e,U.Cache.IMAGE,"getImage");return null===e&&(e=this.getItem("__missing",U.Cache.IMAGE,"getImage")),t?e:e.data},getTextureFrame:function(e){return this.getItem(e,U.Cache.TEXTURE,"getTextureFrame","frame")},getSound:function(e){return this.getItem(e,U.Cache.SOUND,"getSound")},getSoundData:function(e){return this.getItem(e,U.Cache.SOUND,"getSoundData","data")},getText:function(e){return this.getItem(e,U.Cache.TEXT,"getText","data")},getPhysicsData:function(e,t,i){e=this.getItem(e,U.Cache.PHYSICS,"getPhysicsData","data");if(null===e||null==t)return e;if(e[t]){var n,r=e[t];if(!r||!i)return r;for(n in r)if((n=r[n]).fixtureKey===i)return n}return null},getTilemapData:function(e){return this.getItem(e,U.Cache.TILEMAP,"getTilemapData")},getBinary:function(e){return this.getItem(e,U.Cache.BINARY,"getBinary")},getBitmapData:function(e){return this.getItem(e,U.Cache.BITMAPDATA,"getBitmapData","data")},getBitmapFont:function(e){return this.getItem(e,U.Cache.BITMAPFONT,"getBitmapFont")},getJSON:function(e,t){e=this.getItem(e,U.Cache.JSON,"getJSON","data");return e?t?U.Utils.extend(!0,Array.isArray(e)?[]:{},e):e:null},getXML:function(e){return this.getItem(e,U.Cache.XML,"getXML","data")},getVideo:function(e){return this.getItem(e,U.Cache.VIDEO,"getVideo")},getShader:function(e){return this.getItem(e,U.Cache.SHADER,"getShader","data")},getRenderTexture:function(e){return this.getItem(e,U.Cache.RENDER_TEXTURE,"getRenderTexture")},getBaseTexture:function(e,t){return void 0===t&&(t=U.Cache.IMAGE),this.getItem(e,t,"getBaseTexture","base")},getFrame:function(e,t){return void 0===t&&(t=U.Cache.IMAGE),this.getItem(e,t,"getFrame","frame")},getFrameCount:function(e,t){e=this.getFrameData(e,t);return e?e.total:0},getFrameData:function(e,t){return void 0===t&&(t=U.Cache.IMAGE),this.getItem(e,t,"getFrameData","frameData")},hasFrameData:function(e,t){return void 0===t&&(t=U.Cache.IMAGE),null!==this.getItem(e,t,"","frameData")},updateFrameData:function(e,t,i){void 0===i&&(i=U.Cache.IMAGE),this._cacheMap[i][e]&&(this._cacheMap[i][e].frameData=t)},getFrameByIndex:function(e,t,i){e=this.getFrameData(e,i);return e?e.getFrame(t):null},getFrameByName:function(e,t,i){e=this.getFrameData(e,i);return e?e.getFrameByName(t):null},getURL:function(e){return(e=this._resolveURL(e))?this._urlMap[e]:null},getKeys:function(e){void 0===e&&(e=U.Cache.IMAGE);var t=[];if(this._cacheMap[e])for(var i in this._cacheMap[e])"__default"!==i&&"__missing"!==i&&t.push(i);return t},removeCanvas:function(e){delete this._cache.canvas[e]},removeImage:function(e,t){void 0===t&&(t=!0);var i=this.getImage(e,!0);t&&i.base&&i.base.destroy(),delete this._cache.image[e]},removeSound:function(e){delete this._cache.sound[e]},removeText:function(e){delete this._cache.text[e]},removePhysics:function(e){delete this._cache.physics[e]},removeTilemap:function(e){delete this._cache.tilemap[e]},removeBinary:function(e){delete this._cache.binary[e]},removeBitmapData:function(e){delete this._cache.bitmapData[e]},removeBitmapFont:function(e){delete this._cache.bitmapFont[e]},removeJSON:function(e){delete this._cache.json[e]},removeXML:function(e){delete this._cache.xml[e]},removeVideo:function(e){delete this._cache.video[e]},removeShader:function(e){delete this._cache.shader[e]},removeRenderTexture:function(e){delete this._cache.renderTexture[e]},removeSpriteSheet:function(e){delete this._cache.spriteSheet[e]},removeTextureAtlas:function(e){delete this._cache.atlas[e]},clearGLTextures:function(){for(var e in this._cache.image)this._cache.image[e].base._glTextures=[]},_resolveURL:function(e,t){return this.autoResolveURL?(this._urlResolver.src=this.game.load.baseURL+e,this._urlTemp=this._urlResolver.src,this._urlResolver.src="",t&&(this._urlMap[this._urlTemp]=t),this._urlTemp):null},destroy:function(){for(var e=0;e<this._cacheMap.length;e++){var t,i=this._cacheMap[e];for(t in i)"__default"!==t&&"__missing"!==t&&(i[t].destroy&&i[t].destroy(),delete i[t])}this._urlMap=null,this._urlResolver=null,this._urlTemp=null}},U.Cache.prototype.constructor=U.Cache,U.Loader=function(e){this.game=e,this.cache=e.cache,this.resetLocked=!1,this.isLoading=!1,this.hasLoaded=!1,this.preloadSprite=null,this.crossOrigin=!1,this.baseURL="",this.path="",this.headers={requestedWith:!1,json:"application/json",xml:"application/xml"},this.onLoadStart=new U.Signal,this.onLoadComplete=new U.Signal,this.onPackComplete=new U.Signal,this.onFileStart=new U.Signal,this.onFileComplete=new U.Signal,this.onFileError=new U.Signal,this.useXDomainRequest=!1,this._warnedAboutXDomainRequest=!1,this.enableParallel=!0,this.maxParallelDownloads=4,this._withSyncPointDepth=0,this._fileList=[],this._flightQueue=[],this._processingHead=0,this._fileLoadStarted=!1,this._totalPackCount=0,this._totalFileCount=0,this._loadedPackCount=0,this._loadedFileCount=0},U.Loader.TEXTURE_ATLAS_JSON_ARRAY=0,U.Loader.TEXTURE_ATLAS_JSON_HASH=1,U.Loader.TEXTURE_ATLAS_XML_STARLING=2,U.Loader.PHYSICS_LIME_CORONA_JSON=3,U.Loader.PHYSICS_PHASER_JSON=4,U.Loader.TEXTURE_ATLAS_JSON_PYXEL=5,U.Loader.prototype={setPreloadSprite:function(e,t){this.preloadSprite={sprite:e,direction:t=t||0,width:e.width,height:e.height,rect:null},this.preloadSprite.rect=0===t?new U.Rectangle(0,0,1,e.height):new U.Rectangle(0,0,e.width,1),e.crop(this.preloadSprite.rect),e.visible=!0},resize:function(){this.preloadSprite&&this.preloadSprite.height!==this.preloadSprite.sprite.height&&(this.preloadSprite.rect.height=this.preloadSprite.sprite.height)},checkKeyExists:function(e,t){return-1<this.getAssetIndex(e,t)},getAssetIndex:function(e,t){for(var i=-1,n=0;n<this._fileList.length;n++){var r=this._fileList[n];if(r.type===e&&r.key===t&&(i=n,!r.loaded&&!r.loading))break}return i},getAsset:function(e,t){e=this.getAssetIndex(e,t);return-1<e&&{index:e,file:this._fileList[e]}},reset:function(e,t){void 0===t&&(t=!1),this.resetLocked||(e&&(this.preloadSprite=null),this.isLoading=!1,this._processingHead=0,this._fileList.length=0,this._flightQueue.length=0,this._fileLoadStarted=!1,this._totalFileCount=0,this._totalPackCount=0,this._loadedPackCount=0,this._loadedFileCount=0,t&&(this.onLoadStart.removeAll(),this.onLoadComplete.removeAll(),this.onPackComplete.removeAll(),this.onFileStart.removeAll(),this.onFileComplete.removeAll(),this.onFileError.removeAll()))},addToFileList:function(e,t,i,n,r,o){if(void 0===r&&(r=!1),void 0===t||""===t)return this;if(null==i){if(!o)return this;i=t+o}var a={type:e,key:t,path:this.path,url:i,syncPoint:0<this._withSyncPointDepth,data:null,loading:!1,loaded:!1,error:!1};if(n)for(var s in n)a[s]=n[s];o=this.getAssetIndex(e,t);return r&&-1<o?(i=this._fileList[o]).loading||i.loaded?(this._fileList.push(a),this._totalFileCount++):this._fileList[o]=a:-1===o&&(this._fileList.push(a),this._totalFileCount++),this},replaceInFileList:function(e,t,i,n){return this.addToFileList(e,t,i,n,!0)},pack:function(e,t,i,n){if(void 0===i&&(i=null),!(t=void 0===t?null:t)&&!i)return this;var r={type:"packfile",key:e,url:t,path:this.path,syncPoint:!0,data:null,loading:!1,loaded:!1,error:!1,callbackContext:n=void 0===n?null:n};i&&("string"==typeof i&&(i=JSON.parse(i)),r.data=i||{},r.loaded=!0);for(var o=0;o<this._fileList.length+1;o++){var a=this._fileList[o];if(!a||!a.loaded&&!a.loading&&"packfile"!==a.type){this._fileList.splice(o,0,r),this._totalPackCount++;break}}return this},image:function(e,t,i){return this.addToFileList("image",e,t,void 0,i,".png")},images:function(e,t){if(Array.isArray(t))for(var i=0;i<e.length;i++)this.image(e[i],t[i]);else for(i=0;i<e.length;i++)this.image(e[i]);return this},text:function(e,t,i){return this.addToFileList("text",e,t,void 0,i,".txt")},json:function(e,t,i){return this.addToFileList("json",e,t,void 0,i,".json")},shader:function(e,t,i){return this.addToFileList("shader",e,t,void 0,i,".frag")},xml:function(e,t,i){return this.addToFileList("xml",e,t,void 0,i,".xml")},script:function(e,t,i,n){return this.addToFileList("script",e,t,{syncPoint:!0,callback:i=void 0===i?!1:i,callbackContext:n=!1!==i&&void 0===n?this:n},!1,".js")},binary:function(e,t,i,n){return!1!==(i=void 0===i?!1:i)&&void 0===n&&(n=i),this.addToFileList("binary",e,t,{callback:i,callbackContext:n},!1,".bin")},spritesheet:function(e,t,i,n,r,o,a){return this.addToFileList("spritesheet",e,t,{frameWidth:i,frameHeight:n,frameMax:r=void 0===r?-1:r,margin:o=void 0===o?0:o,spacing:a=void 0===a?0:a},!1,".png")},audio:function(e,t,i){return this.game.sound.noAudio?this:this.addToFileList("audio",e,t="string"==typeof t?[t]:t,{buffer:null,autoDecode:i=void 0===i?!0:i})},audioSprite:function(e,t,i,n,r){return this.game.sound.noAudio||(void 0===i&&(i=null),void 0===n&&(n=null),this.audio(e,t,r=void 0===r?!0:r),i?this.json(e+"-audioatlas",i):n&&("string"==typeof n&&(n=JSON.parse(n)),this.cache.addJSON(e+"-audioatlas","",n))),this},audiosprite:function(e,t,i,n,r){return this.audioSprite(e,t,i,n,r)},video:function(e,t,i,n){return void 0===i&&(i=this.game.device.firefox?"loadeddata":"canplaythrough"),this.addToFileList("video",e,t="string"==typeof t?[t]:t,{buffer:null,asBlob:n=void 0===n?!1:n,loadEvent:i})},tilemap:function(e,t,i,n){if(void 0===i&&(i=null),void 0===n&&(n=U.Tilemap.CSV),(t=void 0===t?null:t)||i||(t=n===U.Tilemap.CSV?e+".csv":e+".json"),i){switch(n){case U.Tilemap.CSV:break;case U.Tilemap.TILED_JSON:"string"==typeof i&&(i=JSON.parse(i))}this.cache.addTilemap(e,null,i,n)}else this.addToFileList("tilemap",e,t,{format:n});return this},physics:function(e,t,i,n){return void 0===i&&(i=null),void 0===n&&(n=U.Physics.LIME_CORONA_JSON),(t=void 0===t?null:t)||i||(t=e+".json"),i?("string"==typeof i&&(i=JSON.parse(i)),this.cache.addPhysicsData(e,null,i,n)):this.addToFileList("physics",e,t,{format:n}),this},bitmapFont:function(e,t,i,n,r,o){if(null==t&&(t=e+".png"),void 0===n&&(n=null),void 0===r&&(r=0),void 0===o&&(o=0),i=null===(i=void 0===i?null:i)&&null===n?e+".xml":i)this.addToFileList("bitmapfont",e,t,{atlasURL:i,xSpacing:r,ySpacing:o});else if("string"==typeof n){var a,s;try{a=JSON.parse(n)}catch(e){s=this.parseXml(n)}if(!s&&!a)throw new Error("Phaser.Loader. Invalid Bitmap Font atlas given");this.addToFileList("bitmapfont",e,t,{atlasURL:null,atlasData:a||s,atlasType:a?"json":"xml",xSpacing:r,ySpacing:o})}return this},atlasJSONArray:function(e,t,i,n){return this.atlas(e,t,i,n,U.Loader.TEXTURE_ATLAS_JSON_ARRAY)},atlasJSONHash:function(e,t,i,n){return this.atlas(e,t,i,n,U.Loader.TEXTURE_ATLAS_JSON_HASH)},atlasXML:function(e,t,i,n){return void 0===n&&(n=null),this.atlas(e,t,i=(i=void 0===i?null:i)||n?i:e+".xml",n,U.Loader.TEXTURE_ATLAS_XML_STARLING)},atlas:function(e,t,i,n,r){if(null==t&&(t=e+".png"),void 0===n&&(n=null),void 0===r&&(r=U.Loader.TEXTURE_ATLAS_JSON_ARRAY),i=(i=void 0===i?null:i)||n?i:r===U.Loader.TEXTURE_ATLAS_XML_STARLING?e+".xml":e+".json")this.addToFileList("textureatlas",e,t,{atlasURL:i,format:r});else{switch(r){case U.Loader.TEXTURE_ATLAS_JSON_ARRAY:"string"==typeof n&&(n=JSON.parse(n));break;case U.Loader.TEXTURE_ATLAS_XML_STARLING:if("string"==typeof n){var o=this.parseXml(n);if(!o)throw new Error("Phaser.Loader. Invalid Texture Atlas XML given");n=o}}this.addToFileList("textureatlas",e,t,{atlasURL:null,atlasData:n,format:r})}return this},withSyncPoint:function(e,t){this._withSyncPointDepth++;try{e.call(t||this,this)}finally{this._withSyncPointDepth--}return this},addSyncPoint:function(e,t){e=this.getAsset(e,t);return e&&(e.file.syncPoint=!0),this},removeFile:function(e,t){e=this.getAsset(e,t);!e||e.loaded||e.loading||this._fileList.splice(e.index,1)},removeAll:function(){this._fileList.length=0,this._flightQueue.length=0},start:function(){this.isLoading||(this.hasLoaded=!1,this.isLoading=!0,this.updateProgress(),this.processLoadQueue())},processLoadQueue:function(){if(this.isLoading){for(var e=0;e<this._flightQueue.length;e++)((t=this._flightQueue[e]).loaded||t.error)&&(this._flightQueue.splice(e,1),e--,t.loading=!1,t.requestUrl=null,t.requestObject=null,t.error&&this.onFileError.dispatch(t.key,t),"packfile"!==t.type?(this._loadedFileCount++,this.onFileComplete.dispatch(this.progress,t.key,!t.error,this._loadedFileCount,this._totalFileCount)):"packfile"===t.type&&t.error&&(this._loadedPackCount++,this.onPackComplete.dispatch(t.key,!t.error,this._loadedPackCount,this._totalPackCount)));for(var t,i,n=!1,r=this.enableParallel?U.Math.clamp(this.maxParallelDownloads,1,12):1,e=this._processingHead;e<this._fileList.length;e++)if("packfile"===(t=this._fileList[e]).type&&!t.error&&t.loaded&&e===this._processingHead&&(this.processPack(t),this._loadedPackCount++,this.onPackComplete.dispatch(t.key,!t.error,this._loadedPackCount,this._totalPackCount)),t.loaded||t.error?e===this._processingHead&&(this._processingHead=e+1):!t.loading&&this._flightQueue.length<r&&("packfile"!==t.type||t.data?n||(this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this._flightQueue.push(t),t.loading=!0,this.onFileStart.dispatch(this.progress,t.key,t.url),this.loadFile(t)):(this._flightQueue.push(t),t.loading=!0,this.loadFile(t))),!t.loaded&&t.syncPoint&&(n=!0),this._flightQueue.length>=r||n&&this._loadedPackCount===this._totalPackCount)break;this.updateProgress(),this._processingHead>=this._fileList.length?this.finishedLoading():this._flightQueue.length||(i=this,setTimeout(function(){i.finishedLoading(!0)},2e3))}else this.finishedLoading(!0)},finishedLoading:function(e){this.hasLoaded||(this.hasLoaded=!0,this.isLoading=!1,e||this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this.onLoadComplete.dispatch(),this.game.state.loadComplete(),this.reset())},asyncComplete:function(e,t){void 0===t&&(t=""),e.loaded=!0,e.error=!!t,t&&(e.errorMessage=t),this.processLoadQueue()},processPack:function(e){var t=e.data[e.key];if(t)for(var i=0;i<t.length;i++){var n=t[i];switch(n.type){case"image":this.image(n.key,n.url,n.overwrite);break;case"text":this.text(n.key,n.url,n.overwrite);break;case"json":this.json(n.key,n.url,n.overwrite);break;case"xml":this.xml(n.key,n.url,n.overwrite);break;case"script":this.script(n.key,n.url,n.callback,e.callbackContext||this);break;case"binary":this.binary(n.key,n.url,n.callback,e.callbackContext||this);break;case"spritesheet":this.spritesheet(n.key,n.url,n.frameWidth,n.frameHeight,n.frameMax,n.margin,n.spacing);break;case"video":this.video(n.key,n.urls);break;case"audio":this.audio(n.key,n.urls,n.autoDecode);break;case"audiosprite":this.audiosprite(n.key,n.urls,n.jsonURL,n.jsonData,n.autoDecode);break;case"tilemap":this.tilemap(n.key,n.url,n.data,U.Tilemap[n.format]);break;case"physics":this.physics(n.key,n.url,n.data,U.Loader[n.format]);break;case"bitmapFont":this.bitmapFont(n.key,n.textureURL,n.atlasURL,n.atlasData,n.xSpacing,n.ySpacing);break;case"atlasJSONArray":this.atlasJSONArray(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlasJSONHash":this.atlasJSONHash(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlasXML":this.atlasXML(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlas":this.atlas(n.key,n.textureURL,n.atlasURL,n.atlasData,U.Loader[n.format]);break;case"shader":this.shader(n.key,n.url,n.overwrite)}}},transformUrl:function(e,t){return!!e&&(e.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e:this.baseURL+t.path+e)},loadFile:function(e){switch(e.type){case"packfile":this.xhrLoad(e,this.transformUrl(e.url,e),"text",this.fileComplete);break;case"image":case"spritesheet":case"textureatlas":case"bitmapfont":this.loadImageTag(e);break;case"audio":e.url=this.getAudioURL(e.url),e.url?this.game.sound.usingWebAudio?this.xhrLoad(e,this.transformUrl(e.url,e),"arraybuffer",this.fileComplete):this.game.sound.usingAudioTag&&this.loadAudioTag(e):this.fileError(e,null,"No supported audio URL specified or device does not have audio playback support");break;case"video":e.url=this.getVideoURL(e.url),e.url?e.asBlob?this.xhrLoad(e,this.transformUrl(e.url,e),"blob",this.fileComplete):this.loadVideoTag(e):this.fileError(e,null,"No supported video URL specified or device does not have video playback support");break;case"json":this.xhrLoad(e,this.transformUrl(e.url,e),"text",this.jsonLoadComplete);break;case"xml":this.xhrLoad(e,this.transformUrl(e.url,e),"text",this.xmlLoadComplete);break;case"tilemap":e.format===U.Tilemap.TILED_JSON?this.xhrLoad(e,this.transformUrl(e.url,e),"text",this.jsonLoadComplete):e.format===U.Tilemap.CSV?this.xhrLoad(e,this.transformUrl(e.url,e),"text",this.csvLoadComplete):this.asyncComplete(e,"invalid Tilemap format: "+e.format);break;case"text":case"script":case"shader":case"physics":this.xhrLoad(e,this.transformUrl(e.url,e),"text",this.fileComplete);break;case"binary":this.xhrLoad(e,this.transformUrl(e.url,e),"arraybuffer",this.fileComplete)}},loadImageTag:function(e){var t=this;e.data=new Image,e.data.name=e.key,this.crossOrigin&&(e.data.crossOrigin=this.crossOrigin),e.data.onload=function(){e.data.onload&&(e.data.onload=null,e.data.onerror=null,t.fileComplete(e))},e.data.onerror=function(){e.data.onload&&(e.data.onload=null,e.data.onerror=null,t.fileError(e))},e.data.src=this.transformUrl(e.url,e),e.data.complete&&e.data.width&&e.data.height&&(e.data.onload=null,e.data.onerror=null,this.fileComplete(e))},loadVideoTag:function(e){var t=this,i=(e.data=document.createElement("video"),e.data.name=e.key,e.data.controls=!1,e.data.autoplay=!1,function(){e.data.removeEventListener(e.loadEvent,i,!1),e.data.onerror=null,e.data.canplay=!0,U.GAMES[t.game.id].load.fileComplete(e)});e.data.onerror=function(){e.data.removeEventListener(e.loadEvent,i,!1),e.data.onerror=null,e.data.canplay=!1,t.fileError(e)},e.data.addEventListener(e.loadEvent,i,!1),e.data.src=this.transformUrl(e.url,e),e.data.load()},loadAudioTag:function(e){var t,i=this;this.game.sound.touchLocked?(e.data=new Audio,e.data.name=e.key,e.data.preload="auto",e.data.src=this.transformUrl(e.url,e),this.fileComplete(e)):(e.data=new Audio,e.data.name=e.key,t=function(){e.data.removeEventListener("canplaythrough",t,!1),e.data.onerror=null,i.fileComplete(e)},e.data.onerror=function(){e.data.removeEventListener("canplaythrough",t,!1),e.data.onerror=null,i.fileError(e)},e.data.preload="auto",e.data.src=this.transformUrl(e.url,e),e.data.addEventListener("canplaythrough",t,!1),e.data.load())},xhrLoad:function(t,e,i,n,r){var o,a;this.useXDomainRequest&&window.XDomainRequest?this.xhrLoadWithXDR(t,e,i,n,r):(o=new XMLHttpRequest,o.open("GET",e,!0),o.responseType=i,!1!==this.headers.requestedWith&&o.setRequestHeader("X-Requested-With",this.headers.requestedWith),this.headers[t.type]&&o.setRequestHeader("Accept",this.headers[t.type]),r=r||this.fileError,a=this,o.onload=function(){try{return(4===o.readyState&&400<=o.status&&o.status<=599?r:n).call(a,t,o)}catch(e){a.hasLoaded?window.console:a.asyncComplete(t,e.message||"Exception")}},o.onerror=function(){try{return r.call(a,t,o)}catch(e){a.hasLoaded?window.console:a.asyncComplete(t,e.message||"Exception")}},t.requestObject=o,t.requestUrl=e,o.send())},xhrLoadWithXDR:function(t,e,i,n,r){this._warnedAboutXDomainRequest||this.game.device.ie&&!(10<=this.game.device.ieVersion)||(this._warnedAboutXDomainRequest=!0);var o=new window.XDomainRequest,a=(o.open("GET",e,!0),o.responseType=i,o.timeout=3e3,r=r||this.fileError,this);o.onerror=function(){try{return r.call(a,t,o)}catch(e){a.asyncComplete(t,e.message||"Exception")}},o.ontimeout=function(){try{return r.call(a,t,o)}catch(e){a.asyncComplete(t,e.message||"Exception")}},o.onprogress=function(){},o.onload=function(){try{return(4===o.readyState&&400<=o.status&&o.status<=599?r:n).call(a,t,o)}catch(e){a.asyncComplete(t,e.message||"Exception")}},t.requestObject=o,t.requestUrl=e,setTimeout(function(){o.send()},0)},getVideoURL:function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.uri){if(n=i.type,i=i.uri,this.game.device.canPlayVideo(n))return i}else{if(0===i.indexOf("blob:")||0===i.indexOf("data:"))return i;var n=(i=0<=i.indexOf("?")?i.substr(0,i.indexOf("?")):i).substr((Math.max(0,i.lastIndexOf("."))||1/0)+1).toLowerCase();if(this.game.device.canPlayVideo(n))return e[t]}}return null},getAudioURL:function(e){if(this.game.sound.noAudio)return null;for(var t=0;t<e.length;t++){var i=e[t];if(i.uri){if(n=i.type,i=i.uri,this.game.device.canPlayAudio(n))return i}else{if(0===i.indexOf("blob:")||0===i.indexOf("data:"))return i;var n=(i=0<=i.indexOf("?")?i.substr(0,i.indexOf("?")):i).substr((Math.max(0,i.lastIndexOf("."))||1/0)+1).toLowerCase();if(this.game.device.canPlayAudio(n))return e[t]}}return null},fileError:function(e,t,i){var n="error loading asset from URL "+(e.requestUrl||this.transformUrl(e.url,e));!i&&t&&(i=t.status),this.asyncComplete(e,n=i?n+" ("+i+")":n)},fileComplete:function(t,e){var i=!0;switch(t.type){case"packfile":var n=JSON.parse(e.responseText);t.data=n||{};break;case"image":this.cache.addImage(t.key,t.url,t.data);break;case"spritesheet":this.cache.addSpriteSheet(t.key,t.url,t.data,t.frameWidth,t.frameHeight,t.frameMax,t.margin,t.spacing);break;case"textureatlas":if(null==t.atlasURL)this.cache.addTextureAtlas(t.key,t.url,t.data,t.atlasData,t.format);else if(i=!1,t.format===U.Loader.TEXTURE_ATLAS_JSON_ARRAY||t.format===U.Loader.TEXTURE_ATLAS_JSON_HASH||t.format===U.Loader.TEXTURE_ATLAS_JSON_PYXEL)this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.jsonLoadComplete);else{if(t.format!==U.Loader.TEXTURE_ATLAS_XML_STARLING)throw new Error("Phaser.Loader. Invalid Texture Atlas format: "+t.format);this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.xmlLoadComplete)}break;case"bitmapfont":t.atlasURL?(i=!1,this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",function(e,t){var i;try{i=JSON.parse(t.responseText)}catch(e){}i?(e.atlasType="json",this.jsonLoadComplete(e,t)):(e.atlasType="xml",this.xmlLoadComplete(e,t))})):this.cache.addBitmapFont(t.key,t.url,t.data,t.atlasData,t.atlasType,t.xSpacing,t.ySpacing);break;case"video":if(t.asBlob)try{t.data=e.response}catch(e){throw new Error("Phaser.Loader. Unable to parse video file as Blob: "+t.key)}this.cache.addVideo(t.key,t.url,t.data,t.asBlob);break;case"audio":this.game.sound.usingWebAudio?(t.data=e.response,this.cache.addSound(t.key,t.url,t.data,!0,!1),t.autoDecode&&this.game.sound.decode(t.key)):this.cache.addSound(t.key,t.url,t.data,!1,!0);break;case"text":t.data=e.responseText,this.cache.addText(t.key,t.url,t.data);break;case"shader":t.data=e.responseText,this.cache.addShader(t.key,t.url,t.data);break;case"physics":n=JSON.parse(e.responseText);this.cache.addPhysicsData(t.key,t.url,n,t.format);break;case"script":t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=e.responseText,document.head.appendChild(t.data),t.callback&&(t.data=t.callback.call(t.callbackContext,t.key,e.responseText));break;case"binary":t.callback?t.data=t.callback.call(t.callbackContext,t.key,e.response):t.data=e.response,this.cache.addBinary(t.key,t.data)}i&&this.asyncComplete(t)},jsonLoadComplete:function(e,t){t=JSON.parse(t.responseText);"tilemap"===e.type?this.cache.addTilemap(e.key,e.url,t,e.format):"bitmapfont"===e.type?this.cache.addBitmapFont(e.key,e.url,e.data,t,e.atlasType,e.xSpacing,e.ySpacing):"json"===e.type?this.cache.addJSON(e.key,e.url,t):this.cache.addTextureAtlas(e.key,e.url,e.data,t,e.format),this.asyncComplete(e)},csvLoadComplete:function(e,t){t=t.responseText;this.cache.addTilemap(e.key,e.url,t,e.format),this.asyncComplete(e)},xmlLoadComplete:function(e,t){var i=t.responseText,i=this.parseXml(i);if(!i)return t.responseType||t.contentType,void this.asyncComplete(e,"invalid XML");"bitmapfont"===e.type?this.cache.addBitmapFont(e.key,e.url,e.data,i,e.atlasType,e.xSpacing,e.ySpacing):"textureatlas"===e.type?this.cache.addTextureAtlas(e.key,e.url,e.data,i,e.format):"xml"===e.type&&this.cache.addXML(e.key,e.url,i),this.asyncComplete(e)},parseXml:function(e){var t;try{window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=null}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length?t:null},updateProgress:function(){this.preloadSprite&&(0===this.preloadSprite.direction?this.preloadSprite.rect.width=Math.floor(this.preloadSprite.width/100*this.progress):this.preloadSprite.rect.height=Math.floor(this.preloadSprite.height/100*this.progress),this.preloadSprite.sprite?this.preloadSprite.sprite.updateCrop():this.preloadSprite=null)},totalLoadedFiles:function(){return this._loadedFileCount},totalQueuedFiles:function(){return this._totalFileCount-this._loadedFileCount},totalLoadedPacks:function(){return this._totalPackCount},totalQueuedPacks:function(){return this._totalPackCount-this._loadedPackCount}},Object.defineProperty(U.Loader.prototype,"progressFloat",{get:function(){var e=this._loadedFileCount/this._totalFileCount*100;return U.Math.clamp(e||0,0,100)}}),Object.defineProperty(U.Loader.prototype,"progress",{get:function(){return Math.round(this.progressFloat)}}),U.Loader.prototype.constructor=U.Loader,U.LoaderParser={bitmapFont:function(e,t,i,n){return this.xmlBitmapFont(e,t,i,n)},xmlBitmapFont:function(e,t,i,n){for(var r={},o=e.getElementsByTagName("info")[0],a=e.getElementsByTagName("common")[0],s=(r.font=o.getAttribute("face"),r.size=parseInt(o.getAttribute("size"),10),r.lineHeight=parseInt(a.getAttribute("lineHeight"),10)+n,r.chars={},e.getElementsByTagName("char")),p=0;p<s.length;p++){var l=parseInt(s[p].getAttribute("id"),10);r.chars[l]={x:parseInt(s[p].getAttribute("x"),10),y:parseInt(s[p].getAttribute("y"),10),width:parseInt(s[p].getAttribute("width"),10),height:parseInt(s[p].getAttribute("height"),10),xOffset:parseInt(s[p].getAttribute("xoffset"),10),yOffset:parseInt(s[p].getAttribute("yoffset"),10),xAdvance:parseInt(s[p].getAttribute("xadvance"),10)+i,kerning:{}}}for(var h=e.getElementsByTagName("kerning"),p=0;p<h.length;p++){var u=parseInt(h[p].getAttribute("first"),10),d=parseInt(h[p].getAttribute("second"),10),c=parseInt(h[p].getAttribute("amount"),10);r.chars[d].kerning[u]=c}return this.finalizeBitmapFont(t,r)},jsonBitmapFont:function(e,t,i,n){var r={font:e.font.info._face,size:parseInt(e.font.info._size,10),lineHeight:parseInt(e.font.common._lineHeight,10)+n,chars:{}};return e.font.chars.char.forEach(function(e){var t=parseInt(e._id,10);r.chars[t]={x:parseInt(e._x,10),y:parseInt(e._y,10),width:parseInt(e._width,10),height:parseInt(e._height,10),xOffset:parseInt(e._xoffset,10),yOffset:parseInt(e._yoffset,10),xAdvance:parseInt(e._xadvance,10)+i,kerning:{}}}),e.font.kernings&&e.font.kernings.kerning&&e.font.kernings.kerning.forEach(function(e){r.chars[e._second].kerning[e._first]=parseInt(e._amount,10)}),this.finalizeBitmapFont(t,r)},finalizeBitmapFont:function(t,i){return Object.keys(i.chars).forEach(function(e){e=i.chars[e];e.texture=new PIXI.Texture(t,new U.Rectangle(e.x,e.y,e.width,e.height))}),i}},U.AudioSprite=function(e,t){for(var i in this.game=e,this.key=t,this.config=this.game.cache.getJSON(t+"-audioatlas"),this.autoplayKey=null,this.autoplay=!1,this.sounds={},this.config.spritemap){var n=this.config.spritemap[i],r=this.game.add.sound(this.key);r.addMarker(i,n.start,n.end-n.start,null,n.loop),this.sounds[i]=r}this.config.autoplay&&(this.autoplayKey=this.config.autoplay,this.play(this.autoplayKey),this.autoplay=this.sounds[this.autoplayKey])},U.AudioSprite.prototype={play:function(e,t){return this.sounds[e].play(e,null,t=void 0===t?1:t)},stop:function(e){if(e)this.sounds[e].stop();else for(var t in this.sounds)this.sounds[t].stop()},get:function(e){return this.sounds[e]}},U.AudioSprite.prototype.constructor=U.AudioSprite,U.Sound=function(e,t,i,n,r){void 0===i&&(i=1),void 0===n&&(n=!1),void 0===r&&(r=e.sound.connectToMaster),this.game=e,this.name=t,this.key=t,this.loop=n,this.markers={},this.context=null,this.autoplay=!1,this.totalDuration=0,this.startTime=0,this.currentTime=0,this.duration=0,this.durationMS=0,this.position=0,this.stopTime=0,this.paused=!1,this.pausedPosition=0,this.pausedTime=0,this.isPlaying=!1,this.currentMarker="",this.fadeTween=null,this.pendingPlayback=!1,this.override=!1,this.allowMultiple=!1,this.usingWebAudio=this.game.sound.usingWebAudio,this.usingAudioTag=this.game.sound.usingAudioTag,this.externalNode=null,this.masterGainNode=null,this.gainNode=null,this._sound=null,this.usingWebAudio?(this.context=this.game.sound.context,this.masterGainNode=this.game.sound.masterGain,void 0===this.context.createGain?this.gainNode=this.context.createGainNode():this.gainNode=this.context.createGain(),this.gainNode.gain.value=i*this.game.sound.volume,r&&this.gainNode.connect(this.masterGainNode)):this.usingAudioTag&&(this.game.cache.getSound(t)&&this.game.cache.isSoundReady(t)?(this._sound=this.game.cache.getSoundData(t),this.totalDuration=0,this._sound.duration&&(this.totalDuration=this._sound.duration)):this.game.cache.onSoundUnlock.add(this.soundHasUnlocked,this)),this.onDecoded=new U.Signal,this.onPlay=new U.Signal,this.onPause=new U.Signal,this.onResume=new U.Signal,this.onLoop=new U.Signal,this.onStop=new U.Signal,this.onMute=new U.Signal,this.onMarkerComplete=new U.Signal,this.onFadeComplete=new U.Signal,this._volume=i,this._buffer=null,this._muted=!1,this._tempMarker=0,this._tempPosition=0,this._tempVolume=0,this._tempPause=0,this._muteVolume=0,this._tempLoop=0,this._paused=!1,this._onDecodedEventDispatched=!1},U.Sound.prototype={soundHasUnlocked:function(e){e===this.key&&(this._sound=this.game.cache.getSoundData(this.key),this.totalDuration=this._sound.duration)},addMarker:function(e,t,i,n,r){this.markers[e]={name:e,start:t,stop:t+(i=null==i?1:i),volume:n=null==n?1:n,duration:i,durationMS:1e3*i,loop:r=void 0===r?!1:r}},removeMarker:function(e){delete this.markers[e]},onEndedHandler:function(){this._sound.onended=null,this.isPlaying=!1,this.currentTime=this.durationMS,this.stop()},update:function(){this.game.cache.checkSoundKey(this.key)?(this.isDecoded&&!this._onDecodedEventDispatched&&(this.onDecoded.dispatch(this),this._onDecodedEventDispatched=!0),this.pendingPlayback&&this.game.cache.isSoundReady(this.key)&&(this.pendingPlayback=!1,this.play(this._tempMarker,this._tempPosition,this._tempVolume,this._tempLoop)),this.isPlaying&&(this.currentTime=this.game.time.time-this.startTime,this.currentTime>=this.durationMS&&(this.usingWebAudio?this.loop?(this.onLoop.dispatch(this),this.isPlaying=!1,""===this.currentMarker?(this.currentTime=0,this.startTime=this.game.time.time,this.isPlaying=!0):(this.onMarkerComplete.dispatch(this.currentMarker,this),this.play(this.currentMarker,0,this.volume,!0,!0))):""!==this.currentMarker&&this.stop():this.loop?(this.onLoop.dispatch(this),""===this.currentMarker&&(this.currentTime=0,this.startTime=this.game.time.time),this.isPlaying=!1,this.play(this.currentMarker,0,this.volume,!0,!0)):this.stop()))):this.destroy()},loopFull:function(e){return this.play(null,0,e,!0)},play:function(e,t,i,n,r){if(void 0!==e&&!1!==e&&null!==e||(e=""),void 0===r&&(r=!0),this.isPlaying&&!this.allowMultiple&&!r&&!this.override)return this;if(this._sound&&this.isPlaying&&!this.allowMultiple&&(this.override||r)){if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(e){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);this.isPlaying=!1}if(""===e&&0<Object.keys(this.markers).length)return this;if(""!==e){if(!this.markers[e])return this;this.currentMarker=e,this.position=this.markers[e].start,this.volume=this.markers[e].volume,this.loop=this.markers[e].loop,this.duration=this.markers[e].duration,this.durationMS=this.markers[e].durationMS,void 0!==i&&(this.volume=i),void 0!==n&&(this.loop=n),this._tempMarker=e,this._tempPosition=this.position,this._tempVolume=this.volume,this._tempLoop=this.loop}else t=t||0,void 0===i&&(i=this._volume),void 0===n&&(n=this.loop),this.position=Math.max(0,t),this.volume=i,this.loop=n,this.duration=0,this.durationMS=0,this._tempMarker=e,this._tempPosition=t,this._tempVolume=i,this._tempLoop=n;return this.usingWebAudio?this.game.cache.isSoundDecoded(this.key)?(this._sound=this.context.createBufferSource(),this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this._buffer=this.game.cache.getSoundData(this.key),this._sound.buffer=this._buffer,this.loop&&""===e&&(this._sound.loop=!0),this.loop||""!==e||(this._sound.onended=this.onEndedHandler.bind(this)),this.totalDuration=this._sound.buffer.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=Math.ceil(1e3*this.totalDuration)),void 0===this._sound.start?this._sound.noteGrainOn(0,this.position,this.duration):this.loop&&""===e?this._sound.start(0,0):this._sound.start(0,this.position,this.duration),this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):(this.pendingPlayback=!0,this.game.cache.getSound(this.key)&&!1===this.game.cache.getSound(this.key).isDecoding&&this.game.sound.decode(this.key,this)):this.game.cache.getSound(this.key)&&this.game.cache.getSound(this.key).locked?(this.game.cache.reloadSound(this.key),this.pendingPlayback=!0):this._sound&&(this.game.device.cocoonJS||4===this._sound.readyState)?(this._sound.play(),this.totalDuration=this._sound.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=1e3*this.totalDuration),this._sound.currentTime=this.position,this._sound.muted=this._muted,this._muted||this.game.sound.mute?this._sound.volume=0:this._sound.volume=this._volume,this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):this.pendingPlayback=!0,this},restart:function(e,t,i,n){this.play(e=e||"",t=t||0,i=i||1,n=void 0===n?!1:n,!0)},pause:function(){this.isPlaying&&this._sound&&(this.paused=!0,this.pausedPosition=this.currentTime,this.pausedTime=this.game.time.time,this._tempPause=this._sound.currentTime,this.onPause.dispatch(this),this.stop())},resume:function(){var e,t;this.paused&&this._sound&&(this.usingWebAudio?(e=Math.max(0,this.position+this.pausedPosition/1e3),this._sound=this.context.createBufferSource(),this._sound.buffer=this._buffer,this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this.loop&&(this._sound.loop=!0),this.loop||""!==this.currentMarker||(this._sound.onended=this.onEndedHandler.bind(this)),t=this.duration-this.pausedPosition/1e3,void 0===this._sound.start?this._sound.noteGrainOn(0,e,t):this.loop&&this.game.device.chrome?42===this.game.device.chromeVersion?this._sound.start(0):this._sound.start(0,e):this._sound.start(0,e,t)):(this._sound.currentTime=this._tempPause,this._sound.play()),this.isPlaying=!0,this.paused=!1,this.startTime+=this.game.time.time-this.pausedTime,this.onResume.dispatch(this))},stop:function(){if(this.isPlaying&&this._sound)if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(e){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);var e;this.pendingPlayback=!1,this.isPlaying=!1,this.paused||(e=this.currentMarker,""!==this.currentMarker&&this.onMarkerComplete.dispatch(this.currentMarker,this),this.currentMarker="",null!==this.fadeTween&&this.fadeTween.stop(),this.onStop.dispatch(this,e))},fadeIn:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=this.currentMarker),this.paused||(this.play(i,0,0,t),this.fadeTo(e,1))},fadeOut:function(e){this.fadeTo(e,0)},fadeTo:function(e,t){this.isPlaying&&!this.paused&&t!==this.volume&&(void 0===e&&(e=1e3),void 0!==t&&(this.fadeTween=this.game.add.tween(this).to({volume:t},e,U.Easing.Linear.None,!0),this.fadeTween.onComplete.add(this.fadeComplete,this)))},fadeComplete:function(){this.onFadeComplete.dispatch(this,this.volume),0===this.volume&&this.stop()},updateGlobalVolume:function(e){this.usingAudioTag&&this._sound&&(this._sound.volume=e*this._volume)},destroy:function(e){void 0===e&&(e=!0),this.stop(),e?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose())}},U.Sound.prototype.constructor=U.Sound,Object.defineProperty(U.Sound.prototype,"isDecoding",{get:function(){return this.game.cache.getSound(this.key).isDecoding}}),Object.defineProperty(U.Sound.prototype,"isDecoded",{get:function(){return this.game.cache.isSoundDecoded(this.key)}}),Object.defineProperty(U.Sound.prototype,"mute",{get:function(){return this._muted||this.game.sound.mute},set:function(e){(e=e||!1)!==this._muted&&(e?(this._muted=!0,this._muteVolume=this._tempVolume,this.usingWebAudio?this.gainNode.gain.value=0:this.usingAudioTag&&this._sound&&(this._sound.volume=0)):(this._muted=!1,this.usingWebAudio?this.gainNode.gain.value=this._muteVolume:this.usingAudioTag&&this._sound&&(this._sound.volume=this._muteVolume)),this.onMute.dispatch(this))}}),Object.defineProperty(U.Sound.prototype,"volume",{get:function(){return this._volume},set:function(e){this.game.device.firefox&&this.usingAudioTag&&(e=this.game.math.clamp(e,0,1)),this._muted?this._muteVolume=e:(this._tempVolume=e,this._volume=e,this.usingWebAudio?this.gainNode.gain.value=e:this.usingAudioTag&&this._sound&&(this._sound.volume=e))}}),U.SoundManager=function(e){this.game=e,this.onSoundDecode=new U.Signal,this.onVolumeChange=new U.Signal,this.onMute=new U.Signal,this.onUnMute=new U.Signal,this.context=null,this.usingWebAudio=!1,this.usingAudioTag=!1,this.noAudio=!1,this.connectToMaster=!0,this.touchLocked=!1,this.channels=32,this.muteOnPause=!0,this._codeMuted=!1,this._muted=!1,this._unlockSource=null,this._volume=1,this._sounds=[],this._watchList=new U.ArraySet,this._watching=!1,this._watchCallback=null,this._watchContext=null},U.SoundManager.prototype={boot:function(){if(this.game.device.iOS&&!1===this.game.device.webAudio&&(this.channels=1),window.PhaserGlobal){if(!0===window.PhaserGlobal.disableAudio)return this.noAudio=!0,void(this.touchLocked=!1);if(!0===window.PhaserGlobal.disableWebAudio)return this.usingAudioTag=!0,void(this.touchLocked=!1)}if(window.PhaserGlobal&&window.PhaserGlobal.audioContext)this.context=window.PhaserGlobal.audioContext;else if(window.AudioContext)try{this.context=new window.AudioContext}catch(e){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}else if(window.webkitAudioContext)try{this.context=new window.webkitAudioContext}catch(e){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}if(null===this.context){if(void 0===window.Audio)return void(this.noAudio=!0);this.usingAudioTag=!0}else this.usingWebAudio=!0,void 0===this.context.createGain?this.masterGain=this.context.createGainNode():this.masterGain=this.context.createGain(),this.masterGain.gain.value=1,this.masterGain.connect(this.context.destination);this.noAudio||(!this.game.device.cocoonJS&&this.game.device.iOS||window.PhaserGlobal&&window.PhaserGlobal.fakeiOSTouchLock)&&this.setTouchLock()},setTouchLock:function(){this.noAudio||window.PhaserGlobal&&!0===window.PhaserGlobal.disableAudio||(8<this.game.device.iOSVersion?this.game.input.touch.addTouchLockCallback(this.unlock,this,!0):this.game.input.touch.addTouchLockCallback(this.unlock,this),this.touchLocked=!0)},unlock:function(){return this.noAudio||!this.touchLocked||null!==this._unlockSource||(this.usingAudioTag?(this.touchLocked=!1,this._unlockSource=null):this.usingWebAudio&&(e=this.context.createBuffer(1,1,22050),this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=e,this._unlockSource.connect(this.context.destination),void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0))),!0;var e},stopAll:function(){if(!this.noAudio)for(var e=0;e<this._sounds.length;e++)this._sounds[e]&&this._sounds[e].stop()},pauseAll:function(){if(!this.noAudio)for(var e=0;e<this._sounds.length;e++)this._sounds[e]&&this._sounds[e].pause()},resumeAll:function(){if(!this.noAudio)for(var e=0;e<this._sounds.length;e++)this._sounds[e]&&this._sounds[e].resume()},decode:function(t,i){i=i||null;var e=this.game.cache.getSoundData(t);if(e&&!1===this.game.cache.isSoundDecoded(t)){this.game.cache.updateSound(t,"isDecoding",!0);var n=this;try{this.context.decodeAudioData(e,function(e){e&&(n.game.cache.decodedSound(t,e),n.onSoundDecode.dispatch(t,i))})}catch(e){}}},setDecodedCallback:function(e,t,i){"string"==typeof e&&(e=[e]),this._watchList.reset();for(var n=0;n<e.length;n++)e[n]instanceof U.Sound?this.game.cache.isSoundDecoded(e[n].key)||this._watchList.add(e[n].key):this.game.cache.isSoundDecoded(e[n])||this._watchList.add(e[n]);0===this._watchList.total?(this._watching=!1,t.call(i)):(this._watching=!0,this._watchCallback=t,this._watchContext=i)},update:function(){if(!this.noAudio){!this.touchLocked||null===this._unlockSource||this._unlockSource.playbackState!==this._unlockSource.PLAYING_STATE&&this._unlockSource.playbackState!==this._unlockSource.FINISHED_STATE||(this.touchLocked=!1,this._unlockSource=null);for(var e=0;e<this._sounds.length;e++)this._sounds[e].update();if(this._watching){for(var t=this._watchList.first;t;)this.game.cache.isSoundDecoded(t)&&this._watchList.remove(t),t=this._watchList.next;0===this._watchList.total&&(this._watching=!1,this._watchCallback.call(this._watchContext))}}},add:function(e,t,i,n){void 0===n&&(n=this.connectToMaster);e=new U.Sound(this.game,e,t=void 0===t?1:t,i=void 0===i?!1:i,n);return this._sounds.push(e),e},addSprite:function(e){return new U.AudioSprite(this.game,e)},remove:function(e){for(var t=this._sounds.length;t--;)if(this._sounds[t]===e)return this._sounds[t].destroy(!1),this._sounds.splice(t,1),!0;return!1},removeByKey:function(e){for(var t=this._sounds.length,i=0;t--;)this._sounds[t].key===e&&(this._sounds[t].destroy(!1),this._sounds.splice(t,1),i++);return i},play:function(e,t,i){if(!this.noAudio)return e=this.add(e,t,i),e.play(),e},setMute:function(){if(!this._muted){this._muted=!0,this.usingWebAudio&&(this._muteVolume=this.masterGain.gain.value,this.masterGain.gain.value=0);for(var e=0;e<this._sounds.length;e++)this._sounds[e].usingAudioTag&&(this._sounds[e].mute=!0);this.onMute.dispatch()}},unsetMute:function(){if(this._muted&&!this._codeMuted){this._muted=!1,this.usingWebAudio&&(this.masterGain.gain.value=this._muteVolume);for(var e=0;e<this._sounds.length;e++)this._sounds[e].usingAudioTag&&(this._sounds[e].mute=!1);this.onUnMute.dispatch()}},destroy:function(){this.stopAll();for(var e=0;e<this._sounds.length;e++)this._sounds[e]&&this._sounds[e].destroy();this._sounds=[],this.onSoundDecode.dispose(),this.context&&(window.PhaserGlobal?window.PhaserGlobal.audioContext=this.context:this.context.close&&this.context.close())}},U.SoundManager.prototype.constructor=U.SoundManager,Object.defineProperty(U.SoundManager.prototype,"mute",{get:function(){return this._muted},set:function(e){(e=e||!1)?this._muted||(this._codeMuted=!0,this.setMute()):this._muted&&(this._codeMuted=!1,this.unsetMute())}}),Object.defineProperty(U.SoundManager.prototype,"volume",{get:function(){return this._volume},set:function(e){if(e<0?e=0:1<e&&(e=1),this._volume!==e){if(this._volume=e,this.usingWebAudio)this.masterGain.gain.value=e;else for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&this._sounds[t].updateGlobalVolume(e);this.onVolumeChange.dispatch(e)}}}),U.ScaleManager=function(e,t,i){this.game=e,this.dom=U.DOM,this.grid=null,this.width=0,this.height=0,this.minWidth=null,this.maxWidth=null,this.minHeight=null,this.maxHeight=null,this.offset=new U.Point,this.forceLandscape=!1,this.forcePortrait=!1,this.incorrectOrientation=!1,this._pageAlignHorizontally=!1,this._pageAlignVertically=!1,this.onOrientationChange=new U.Signal,this.enterIncorrectOrientation=new U.Signal,this.leaveIncorrectOrientation=new U.Signal,this.hasPhaserSetFullScreen=!1,this.fullScreenTarget=null,this._createdFullScreenTarget=null,this.onFullScreenInit=new U.Signal,this.onFullScreenChange=new U.Signal,this.onFullScreenError=new U.Signal,this.screenOrientation=this.dom.getScreenOrientation(),this.scaleFactor=new U.Point(1,1),this.scaleFactorInversed=new U.Point(1,1),this.margin={left:0,top:0,right:0,bottom:0,x:0,y:0},this.bounds=new U.Rectangle,this.aspectRatio=0,this.sourceAspectRatio=0,this.event=null,this.windowConstraints={right:"layout",bottom:""},this.compatibility={supportsFullScreen:!1,orientationFallback:null,noMargins:!1,scrollTo:null,forceMinimumDocumentHeight:!1,canExpandParent:!0,clickTrampoline:""},this._scaleMode=U.ScaleManager.NO_SCALE,this._fullScreenScaleMode=U.ScaleManager.NO_SCALE,this.parentIsWindow=!1,this.parentNode=null,this.parentScaleFactor=new U.Point(1,1),this.trackParentInterval=2e3,this.onSizeChange=new U.Signal,this.onResize=null,this.onResizeContext=null,this._pendingScaleMode=null,this._fullScreenRestore=null,this._gameSize=new U.Rectangle,this._userScaleFactor=new U.Point(1,1),this._userScaleTrim=new U.Point(0,0),this._lastUpdate=0,this._updateThrottle=0,this._updateThrottleReset=100,this._parentBounds=new U.Rectangle,this._tempBounds=new U.Rectangle,this._lastReportedCanvasSize=new U.Rectangle,this._lastReportedGameSize=new U.Rectangle,this._booted=!1,e.config&&this.parseConfig(e.config),this.setupScale(t,i)},U.ScaleManager.EXACT_FIT=0,U.ScaleManager.NO_SCALE=1,U.ScaleManager.SHOW_ALL=2,U.ScaleManager.RESIZE=3,U.ScaleManager.USER_SCALE=4,U.ScaleManager.prototype={boot:function(){var e=this.compatibility,t=(e.supportsFullScreen=this.game.device.fullscreen&&!this.game.device.cocoonJS,this.game.device.iPad||this.game.device.webApp||this.game.device.desktop||(this.game.device.android&&!this.game.device.chrome?e.scrollTo=new U.Point(0,1):e.scrollTo=new U.Point(0,0)),this.game.device.desktop?(e.orientationFallback="screen",e.clickTrampoline="when-not-mouse"):(e.orientationFallback="",e.clickTrampoline=""),this);this._orientationChange=function(e){return t.orientationChange(e)},this._windowResize=function(e){return t.windowResize(e)},window.addEventListener("orientationchange",this._orientationChange,!1),window.addEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(this._fullScreenChange=function(e){return t.fullScreenChange(e)},this._fullScreenError=function(e){return t.fullScreenError(e)},document.addEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.addEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.addEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.addEventListener("fullscreenchange",this._fullScreenChange,!1),document.addEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.addEventListener("mozfullscreenerror",this._fullScreenError,!1),document.addEventListener("MSFullscreenError",this._fullScreenError,!1),document.addEventListener("fullscreenerror",this._fullScreenError,!1)),this.game.onResume.add(this._gameResumed,this),this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.setGameSize(this.game.width,this.game.height),this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),U.FlexGrid&&(this.grid=new U.FlexGrid(this,this.width,this.height)),this._booted=!0,null!==this._pendingScaleMode&&(this.scaleMode=this._pendingScaleMode,this._pendingScaleMode=null)},parseConfig:function(e){void 0!==e.scaleMode&&(this._booted?this.scaleMode=e.scaleMode:this._pendingScaleMode=e.scaleMode),void 0!==e.fullScreenScaleMode&&(this.fullScreenScaleMode=e.fullScreenScaleMode),e.fullScreenTarget&&(this.fullScreenTarget=e.fullScreenTarget)},setupScale:function(e,t){var i=new U.Rectangle,n=(""!==this.game.parent&&("string"==typeof this.game.parent?n=document.getElementById(this.game.parent):this.game.parent&&1===this.game.parent.nodeType&&(n=this.game.parent)),n?(this.parentNode=n,this.parentIsWindow=!1,this.getParentBounds(this._parentBounds),i.width=this._parentBounds.width,i.height=this._parentBounds.height,this.offset.set(this._parentBounds.x,this._parentBounds.y)):(this.parentNode=null,this.parentIsWindow=!0,i.width=this.dom.visualBounds.width,i.height=this.dom.visualBounds.height,this.offset.set(0,0)),0),r=0,n="number"==typeof e?e:(this.parentScaleFactor.x=parseInt(e,10)/100,i.width*this.parentScaleFactor.x),r="number"==typeof t?t:(this.parentScaleFactor.y=parseInt(t,10)/100,i.height*this.parentScaleFactor.y);n=Math.floor(n),r=Math.floor(r),this._gameSize.setTo(0,0,n,r),this.updateDimensions(n,r,!1)},_gameResumed:function(){this.queueUpdate(!0)},setGameSize:function(e,t){this._gameSize.setTo(0,0,e,t),this.currentScaleMode!==U.ScaleManager.RESIZE&&this.updateDimensions(e,t,!0),this.queueUpdate(!0)},setUserScale:function(e,t,i,n){this._userScaleFactor.setTo(e,t),this._userScaleTrim.setTo(0|i,0|n),this.queueUpdate(!0)},setResizeCallback:function(e,t){this.onResize=e,this.onResizeContext=t},signalSizeChange:function(){var e,t;U.Rectangle.sameDimensions(this,this._lastReportedCanvasSize)&&U.Rectangle.sameDimensions(this.game,this._lastReportedGameSize)||(e=this.width,t=this.height,this._lastReportedCanvasSize.setTo(0,0,e,t),this._lastReportedGameSize.setTo(0,0,this.game.width,this.game.height),this.grid&&this.grid.onResize(e,t),this.onSizeChange.dispatch(this,e,t),this.currentScaleMode===U.ScaleManager.RESIZE&&(this.game.state.resize(e,t),this.game.load.resize(e,t)))},setMinMax:function(e,t,i,n){this.minWidth=e,this.minHeight=t,void 0!==i&&(this.maxWidth=i),void 0!==n&&(this.maxHeight=n)},preUpdate:function(){var e,t,i,n;this.game.time.time<this._lastUpdate+this._updateThrottle||(e=this._updateThrottle,this._updateThrottleReset=400<=e?0:100,this.dom.getOffset(this.game.canvas,this.offset),n=this._parentBounds.width,i=this._parentBounds.height,n=(t=this.getParentBounds(this._parentBounds)).width!==n||t.height!==i,i=this.updateOrientationState(),(n||i)&&(this.onResize&&this.onResize.call(this.onResizeContext,this,t),this.updateLayout(),this.signalSizeChange()),n=2*this._updateThrottle,this._updateThrottle<e&&(n=Math.min(e,this._updateThrottleReset)),this._updateThrottle=U.Math.clamp(n,25,this.trackParentInterval),this._lastUpdate=this.game.time.time)},pauseUpdate:function(){this.preUpdate(),this._updateThrottle=this.trackParentInterval},updateDimensions:function(e,t,i){this.width=e*this.parentScaleFactor.x,this.height=t*this.parentScaleFactor.y,this.game.width=this.width,this.game.height=this.height,this.sourceAspectRatio=this.width/this.height,this.updateScalingAndBounds(),i&&(this.game.renderer.resize(this.width,this.height),this.game.camera.setSize(this.width,this.height),this.game.world.resize(this.width,this.height))},updateScalingAndBounds:function(){this.scaleFactor.x=this.game.width/this.width,this.scaleFactor.y=this.game.height/this.height,this.scaleFactorInversed.x=this.width/this.game.width,this.scaleFactorInversed.y=this.height/this.game.height,this.aspectRatio=this.width/this.height,this.game.canvas&&this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.game.input&&this.game.input.scale&&this.game.input.scale.setTo(this.scaleFactor.x,this.scaleFactor.y)},forceOrientation:function(e,t){void 0===t&&(t=!1),this.forceLandscape=e,this.forcePortrait=t,this.queueUpdate(!0)},classifyOrientation:function(e){return"portrait-primary"===e||"portrait-secondary"===e?"portrait":"landscape-primary"===e||"landscape-secondary"===e?"landscape":null},updateOrientationState:function(){var e=this.screenOrientation,t=this.incorrectOrientation,i=(this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),this.incorrectOrientation=this.forceLandscape&&!this.isLandscape||this.forcePortrait&&!this.isPortrait,e!==this.screenOrientation),n=t!==this.incorrectOrientation;return n&&(this.incorrectOrientation?this.enterIncorrectOrientation:this.leaveIncorrectOrientation).dispatch(),(i||n)&&this.onOrientationChange.dispatch(this,e,t),i||n},orientationChange:function(e){this.event=e,this.queueUpdate(!0)},windowResize:function(e){this.event=e,this.queueUpdate(!0)},scrollTop:function(){var e=this.compatibility.scrollTo;e&&window.scrollTo(e.x,e.y)},refresh:function(){this.scrollTop(),this.queueUpdate(!0)},updateLayout:function(){var e=this.currentScaleMode;e===U.ScaleManager.RESIZE?this.reflowGame():(this.scrollTop(),this.compatibility.forceMinimumDocumentHeight&&(document.documentElement.style.minHeight=window.innerHeight+"px"),this.incorrectOrientation?this.setMaximum():e===U.ScaleManager.EXACT_FIT?this.setExactFit():e===U.ScaleManager.SHOW_ALL?(!this.isFullScreen&&this.boundingParent&&this.compatibility.canExpandParent&&(this.setShowAll(!0),this.resetCanvas()),this.setShowAll()):e===U.ScaleManager.NO_SCALE?(this.width=this.game.width,this.height=this.game.height):e===U.ScaleManager.USER_SCALE&&(this.width=this.game.width*this._userScaleFactor.x-this._userScaleTrim.x,this.height=this.game.height*this._userScaleFactor.y-this._userScaleTrim.y),this.compatibility.canExpandParent||e!==U.ScaleManager.SHOW_ALL&&e!==U.ScaleManager.USER_SCALE||(e=this.getParentBounds(this._tempBounds),this.width=Math.min(this.width,e.width),this.height=Math.min(this.height,e.height)),this.width=0|this.width,this.height=0|this.height,this.reflowCanvas())},getParentBounds:function(e){var t,i,e=e||new U.Rectangle,n=this.boundingParent,r=this.dom.visualBounds,o=this.dom.layoutBounds;return n?(t=n.getBoundingClientRect(),n=(n.offsetParent||n).getBoundingClientRect(),e.setTo(t.left-n.left,t.top-n.top,t.width,t.height),(n=this.windowConstraints).right&&(i="layout"===n.right?o:r,e.right=Math.min(e.right,i.width)),n.bottom&&(i="layout"===n.bottom?o:r,e.bottom=Math.min(e.bottom,i.height))):e.setTo(0,0,r.width,r.height),e.setTo(Math.round(e.x),Math.round(e.y),Math.round(e.width),Math.round(e.height)),e},alignCanvas:function(e,t){var i,n,r,o,a=this.getParentBounds(this._tempBounds),s=this.game.canvas,p=this.margin;e&&(p.left=p.right=0,i=s.getBoundingClientRect(),this.width<a.width&&!this.incorrectOrientation&&(n=i.left-a.x,r=a.width/2-this.width/2,o=(r=Math.max(r,0))-n,p.left=Math.round(o)),s.style.marginLeft=p.left+"px",0!==p.left&&(p.right=-(a.width-i.width-p.left),s.style.marginRight=p.right+"px")),t&&(p.top=p.bottom=0,i=s.getBoundingClientRect(),this.height<a.height&&!this.incorrectOrientation&&(n=i.top-a.y,r=a.height/2-this.height/2,o=(r=Math.max(r,0))-n,p.top=Math.round(o)),s.style.marginTop=p.top+"px",0!==p.top&&(p.bottom=-(a.height-i.height-p.top),s.style.marginBottom=p.bottom+"px")),p.x=p.left,p.y=p.top},reflowGame:function(){this.resetCanvas("","");var e=this.getParentBounds(this._tempBounds);this.updateDimensions(e.width,e.height,!0)},reflowCanvas:function(){this.incorrectOrientation||(this.width=U.Math.clamp(this.width,this.minWidth||0,this.maxWidth||this.width),this.height=U.Math.clamp(this.height,this.minHeight||0,this.maxHeight||this.height)),this.resetCanvas(),this.compatibility.noMargins||(this.isFullScreen&&this._createdFullScreenTarget?this.alignCanvas(!0,!0):this.alignCanvas(this.pageAlignHorizontally,this.pageAlignVertically)),this.updateScalingAndBounds()},resetCanvas:function(e,t){void 0===e&&(e=this.width+"px"),void 0===t&&(t=this.height+"px");var i=this.game.canvas;this.compatibility.noMargins||(i.style.marginLeft="",i.style.marginTop="",i.style.marginRight="",i.style.marginBottom=""),i.style.width=e,i.style.height=t},queueUpdate:function(e){e&&(this._parentBounds.width=0,this._parentBounds.height=0),this._updateThrottle=this._updateThrottleReset},reset:function(e){e&&this.grid&&this.grid.reset()},setMaximum:function(){this.width=this.dom.visualBounds.width,this.height=this.dom.visualBounds.height},setShowAll:function(e){var t=this.getParentBounds(this._tempBounds),i=t.width,t=t.height,e=e?Math.max(t/this.game.height,i/this.game.width):Math.min(t/this.game.height,i/this.game.width);this.width=Math.round(this.game.width*e),this.height=Math.round(this.game.height*e)},setExactFit:function(){var e=this.getParentBounds(this._tempBounds);this.width=e.width,this.height=e.height,this.isFullScreen||(this.maxWidth&&(this.width=Math.min(this.width,this.maxWidth)),this.maxHeight&&(this.height=Math.min(this.height,this.maxHeight)))},createFullScreenTarget:function(){var e=document.createElement("div");return e.style.margin="0",e.style.padding="0",e.style.background="#000",e},startFullScreen:function(e,t){if(this.isFullScreen)return!1;var i;if(!this.compatibility.supportsFullScreen)return i=this,void setTimeout(function(){i.fullScreenError()},10);if("when-not-mouse"===this.compatibility.clickTrampoline){var n=this.game.input;if(n.activePointer&&n.activePointer!==n.mousePointer&&(t||!1!==t))return void n.activePointer.addClickTrampoline("startFullScreen",this.startFullScreen,this,[e,!1])}void 0!==e&&this.game.renderType===U.CANVAS&&(this.game.stage.smoothed=e);t=this.fullScreenTarget,t||(this.cleanupCreatedTarget(),this._createdFullScreenTarget=this.createFullScreenTarget(),t=this._createdFullScreenTarget),n={targetElement:t};return this.hasPhaserSetFullScreen=!0,this.onFullScreenInit.dispatch(this,n),this._createdFullScreenTarget&&((e=this.game.canvas).parentNode.insertBefore(t,e),t.appendChild(e)),this.game.device.fullscreenKeyboard?t[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT):t[this.game.device.requestFullscreen](),!0},stopFullScreen:function(){return!(!this.isFullScreen||!this.compatibility.supportsFullScreen)&&(this.hasPhaserSetFullScreen=!1,document[this.game.device.cancelFullscreen](),!0)},cleanupCreatedTarget:function(){var e,t=this._createdFullScreenTarget;t&&t.parentNode&&((e=t.parentNode).insertBefore(this.game.canvas,t),e.removeChild(t)),this._createdFullScreenTarget=null},prepScreenMode:function(e){var t=!!this._createdFullScreenTarget,i=this._createdFullScreenTarget||this.fullScreenTarget;e?!t&&this.fullScreenScaleMode!==U.ScaleManager.EXACT_FIT||i===this.game.canvas||(this._fullScreenRestore={targetWidth:i.style.width,targetHeight:i.style.height},i.style.width="100%",i.style.height="100%"):(this._fullScreenRestore&&(i.style.width=this._fullScreenRestore.targetWidth,i.style.height=this._fullScreenRestore.targetHeight,this._fullScreenRestore=null),this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.resetCanvas())},fullScreenChange:function(e){this.event=e,this.isFullScreen?this.prepScreenMode(!0):(this.prepScreenMode(!1),this.cleanupCreatedTarget()),this.updateLayout(),this.queueUpdate(!0),this.onFullScreenChange.dispatch(this,this.width,this.height)},fullScreenError:function(e){this.event=e,this.cleanupCreatedTarget(),this.onFullScreenError.dispatch(this)},scaleSprite:function(e,t,i,n){if(void 0===t&&(t=this.width),void 0===i&&(i=this.height),void 0===n&&(n=!1),!e||!e.scale)return e;if(e.scale.x=1,e.scale.y=1,e.width<=0||e.height<=0||t<=0||i<=0)return e;var r=t,o=e.height*t/e.width,a=e.width*i/e.height,t=t<a;return(t=t?n:!n)?(e.width=Math.floor(r),e.height=Math.floor(o)):(e.width=Math.floor(a),e.height=Math.floor(i)),e},destroy:function(){this.game.onResume.remove(this._gameResumed,this),window.removeEventListener("orientationchange",this._orientationChange,!1),window.removeEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(document.removeEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.removeEventListener("fullscreenchange",this._fullScreenChange,!1),document.removeEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.removeEventListener("mozfullscreenerror",this._fullScreenError,!1),document.removeEventListener("MSFullscreenError",this._fullScreenError,!1),document.removeEventListener("fullscreenerror",this._fullScreenError,!1))}},U.ScaleManager.prototype.constructor=U.ScaleManager,Object.defineProperty(U.ScaleManager.prototype,"boundingParent",{get:function(){return!(this.parentIsWindow||this.isFullScreen&&this.hasPhaserSetFullScreen&&!this._createdFullScreenTarget)&&this.game.canvas&&this.game.canvas.parentNode||null}}),Object.defineProperty(U.ScaleManager.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){return e!==this._scaleMode&&(this.isFullScreen||(this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.queueUpdate(!0)),this._scaleMode=e),this._scaleMode}}),Object.defineProperty(U.ScaleManager.prototype,"fullScreenScaleMode",{get:function(){return this._fullScreenScaleMode},set:function(e){return e!==this._fullScreenScaleMode&&(this.isFullScreen?(this.prepScreenMode(!1),this._fullScreenScaleMode=e,this.prepScreenMode(!0),this.queueUpdate(!0)):this._fullScreenScaleMode=e),this._fullScreenScaleMode}}),Object.defineProperty(U.ScaleManager.prototype,"currentScaleMode",{get:function(){return this.isFullScreen?this._fullScreenScaleMode:this._scaleMode}}),Object.defineProperty(U.ScaleManager.prototype,"pageAlignHorizontally",{get:function(){return this._pageAlignHorizontally},set:function(e){e!==this._pageAlignHorizontally&&(this._pageAlignHorizontally=e,this.queueUpdate(!0))}}),Object.defineProperty(U.ScaleManager.prototype,"pageAlignVertically",{get:function(){return this._pageAlignVertically},set:function(e){e!==this._pageAlignVertically&&(this._pageAlignVertically=e,this.queueUpdate(!0))}}),Object.defineProperty(U.ScaleManager.prototype,"isFullScreen",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),Object.defineProperty(U.ScaleManager.prototype,"isPortrait",{get:function(){return"portrait"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(U.ScaleManager.prototype,"isLandscape",{get:function(){return"landscape"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(U.ScaleManager.prototype,"isGamePortrait",{get:function(){return this.height>this.width}}),Object.defineProperty(U.ScaleManager.prototype,"isGameLandscape",{get:function(){return this.width>this.height}}),U.Utils.Debug=function(e){this.game=e,this.sprite=null,this.bmd=null,this.canvas=null,this.context=null,this.font="14px Courier",this.columnWidth=100,this.lineHeight=16,this.renderShadow=!0,this.currentX=0,this.currentY=0,this.currentAlpha=1,this.dirty=!1},U.Utils.Debug.prototype={boot:function(){this.game.renderType===U.CANVAS?this.context=this.game.context:(this.bmd=new U.BitmapData(this.game,"__DEBUG",this.game.width,this.game.height,!0),this.sprite=this.game.make.image(0,0,this.bmd),this.game.stage.addChild(this.sprite),this.game.scale.onSizeChange.add(this.resize,this),this.canvas=PIXI.CanvasPool.create(this,this.game.width,this.game.height),this.context=this.canvas.getContext("2d"))},resize:function(e,t,i){this.bmd.resize(t,i),this.canvas.width=t,this.canvas.height=i},preUpdate:function(){this.dirty&&this.sprite&&(this.bmd.clear(),this.bmd.draw(this.canvas,0,0),this.context.clearRect(0,0,this.game.width,this.game.height),this.dirty=!1)},reset:function(){this.context&&this.context.clearRect(0,0,this.game.width,this.game.height),this.sprite&&this.bmd.clear()},start:function(e,t,i,n){"number"!=typeof t&&(t=0),i=i||"rgb(255,255,255)",void 0===n&&(n=0),this.currentX=e="number"!=typeof e?0:e,this.currentY=t,this.currentColor=i,this.columnWidth=n,this.dirty=!0,this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.strokeStyle=i,this.context.fillStyle=i,this.context.font=this.font,this.context.globalAlpha=this.currentAlpha},stop:function(){this.context.restore()},line:function(){for(var e=this.currentX,t=0;t<arguments.length;t++)this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(arguments[t],e+1,this.currentY+1),this.context.fillStyle=this.currentColor),this.context.fillText(arguments[t],e,this.currentY),e+=this.columnWidth;this.currentY+=this.lineHeight},soundInfo:function(e,t,i,n){this.start(t,i,n),this.line("Sound: "+e.key+" Locked: "+e.game.sound.touchLocked),this.line("Is Ready?: "+this.game.cache.isSoundReady(e.key)+" Pending Playback: "+e.pendingPlayback),this.line("Decoded: "+e.isDecoded+" Decoding: "+e.isDecoding),this.line("Total Duration: "+e.totalDuration+" Playing: "+e.isPlaying),this.line("Time: "+e.currentTime),this.line("Volume: "+e.volume+" Muted: "+e.mute),this.line("WebAudio: "+e.usingWebAudio+" Audio: "+e.usingAudioTag),""!==e.currentMarker&&(this.line("Marker: "+e.currentMarker+" Duration: "+e.duration+" (ms: "+e.durationMS+")"),this.line("Start: "+e.markers[e.currentMarker].start+" Stop: "+e.markers[e.currentMarker].stop),this.line("Position: "+e.position)),this.stop()},cameraInfo:function(e,t,i,n){this.start(t,i,n),this.line("Camera ("+e.width+" x "+e.height+")"),this.line("X: "+e.x+" Y: "+e.y),e.bounds&&this.line("Bounds x: "+e.bounds.x+" Y: "+e.bounds.y+" w: "+e.bounds.width+" h: "+e.bounds.height),this.line("View x: "+e.view.x+" Y: "+e.view.y+" w: "+e.view.width+" h: "+e.view.height),this.line("Total in view: "+e.totalInView),this.stop()},timer:function(e,t,i,n){this.start(t,i,n),this.line("Timer (running: "+e.running+" expired: "+e.expired+")"),this.line("Next Tick: "+e.next+" Duration: "+e.duration),this.line("Paused: "+e.paused+" Length: "+e.length),this.stop()},pointer:function(e,t,i,n,r){null!=e&&(i=i||"rgba(0,255,0,0.5)",n=n||"rgba(255,0,0,0.5)",!0===(t=void 0===t?!1:t)&&!0===e.isUp||(this.start(e.x,e.y-100,r),this.context.beginPath(),this.context.arc(e.x,e.y,e.circle.radius,0,2*Math.PI),e.active?this.context.fillStyle=i:this.context.fillStyle=n,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(e.positionDown.x,e.positionDown.y),this.context.lineTo(e.position.x,e.position.y),this.context.lineWidth=2,this.context.stroke(),this.context.closePath(),this.line("ID: "+e.id+" Active: "+e.active),this.line("World X: "+e.worldX+" World Y: "+e.worldY),this.line("Screen X: "+e.x+" Screen Y: "+e.y+" In: "+e.withinGame),this.line("Duration: "+e.duration+" ms"),this.line("is Down: "+e.isDown+" is Up: "+e.isUp),this.stop()))},spriteInputInfo:function(e,t,i,n){this.start(t,i,n),this.line("Sprite Input: ("+e.width+" x "+e.height+")"),this.line("x: "+e.input.pointerX().toFixed(1)+" y: "+e.input.pointerY().toFixed(1)),this.line("over: "+e.input.pointerOver()+" duration: "+e.input.overDuration().toFixed(0)),this.line("down: "+e.input.pointerDown()+" duration: "+e.input.downDuration().toFixed(0)),this.line("just over: "+e.input.justOver()+" just out: "+e.input.justOut()),this.stop()},key:function(e,t,i,n){this.start(t,i,n,150),this.line("Key:",e.keyCode,"isDown:",e.isDown),this.line("justDown:",e.justDown,"justUp:",e.justUp),this.line("Time Down:",e.timeDown.toFixed(0),"duration:",e.duration.toFixed(0)),this.stop()},inputInfo:function(e,t,i){this.start(e,t,i),this.line("Input"),this.line("X: "+this.game.input.x+" Y: "+this.game.input.y),this.line("World X: "+this.game.input.worldX+" World Y: "+this.game.input.worldY),this.line("Scale X: "+this.game.input.scale.x.toFixed(1)+" Scale Y: "+this.game.input.scale.x.toFixed(1)),this.line("Screen X: "+this.game.input.activePointer.screenX+" Screen Y: "+this.game.input.activePointer.screenY),this.stop()},spriteBounds:function(e,t,i){e=e.getBounds();e.x+=this.game.camera.x,e.y+=this.game.camera.y,this.rectangle(e,t,i)},ropeSegments:function(e,t,i){var e=e.segments,n=this;e.forEach(function(e){n.rectangle(e,t,i)},this)},spriteInfo:function(e,t,i,n){this.start(t,i,n),this.line("Sprite:  ("+e.width+" x "+e.height+") anchor: "+e.anchor.x+" x "+e.anchor.y),this.line("x: "+e.x.toFixed(1)+" y: "+e.y.toFixed(1)),this.line("angle: "+e.angle.toFixed(1)+" rotation: "+e.rotation.toFixed(1)),this.line("visible: "+e.visible+" in camera: "+e.inCamera),this.line("bounds x: "+e._bounds.x.toFixed(1)+" y: "+e._bounds.y.toFixed(1)+" w: "+e._bounds.width.toFixed(1)+" h: "+e._bounds.height.toFixed(1)),this.stop()},spriteCoords:function(e,t,i,n){this.start(t,i,n,100),e.name&&this.line(e.name),this.line("x:",e.x.toFixed(2),"y:",e.y.toFixed(2)),this.line("pos x:",e.position.x.toFixed(2),"pos y:",e.position.y.toFixed(2)),this.line("world x:",e.world.x.toFixed(2),"world y:",e.world.y.toFixed(2)),this.stop()},lineInfo:function(e,t,i,n){this.start(t,i,n,80),this.line("start.x:",e.start.x.toFixed(2),"start.y:",e.start.y.toFixed(2)),this.line("end.x:",e.end.x.toFixed(2),"end.y:",e.end.y.toFixed(2)),this.line("length:",e.length.toFixed(2),"angle:",e.angle),this.stop()},pixel:function(e,t,i,n){n=n||2,this.start(),this.context.fillStyle=i,this.context.fillRect(e,t,n,n),this.stop()},geom:function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=0),t=t||"rgba(0,255,0,0.4)",this.start(),this.context.fillStyle=t,this.context.strokeStyle=t,e instanceof U.Rectangle||1===n?i?this.context.fillRect(e.x-this.game.camera.x,e.y-this.game.camera.y,e.width,e.height):this.context.strokeRect(e.x-this.game.camera.x,e.y-this.game.camera.y,e.width,e.height):e instanceof U.Circle||2===n?(this.context.beginPath(),this.context.arc(e.x-this.game.camera.x,e.y-this.game.camera.y,e.radius,0,2*Math.PI,!1),this.context.closePath(),i?this.context.fill():this.context.stroke()):e instanceof U.Point||3===n?this.context.fillRect(e.x-this.game.camera.x,e.y-this.game.camera.y,4,4):(e instanceof U.Line||4===n)&&(this.context.lineWidth=1,this.context.beginPath(),this.context.moveTo(e.start.x+.5-this.game.camera.x,e.start.y+.5-this.game.camera.y),this.context.lineTo(e.end.x+.5-this.game.camera.x,e.end.y+.5-this.game.camera.y),this.context.closePath(),this.context.stroke()),this.stop()},rectangle:function(e,t,i){void 0===i&&(i=!0),t=t||"rgba(0, 255, 0, 0.4)",this.start(),i?(this.context.fillStyle=t,this.context.fillRect(e.x-this.game.camera.x,e.y-this.game.camera.y,e.width,e.height)):(this.context.strokeStyle=t,this.context.strokeRect(e.x-this.game.camera.x,e.y-this.game.camera.y,e.width,e.height)),this.stop()},text:function(e,t,i,n,r){n=n||"rgb(255,255,255)",r=r||"16px Courier",this.start(),this.context.font=r,this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(e,t+1,i+1)),this.context.fillStyle=n,this.context.fillText(e,t,i),this.stop()},quadTree:function(e,t){t=t||"rgba(255,0,0,0.3)",this.start();var i=e.bounds;if(0===e.nodes.length){this.context.strokeStyle=t,this.context.strokeRect(i.x,i.y,i.width,i.height),this.text("size: "+e.objects.length,i.x+4,i.y+16,"rgb(0,200,0)","12px Courier"),this.context.strokeStyle="rgb(0,255,0)";for(var n=0;n<e.objects.length;n++)this.context.strokeRect(e.objects[n].x,e.objects[n].y,e.objects[n].width,e.objects[n].height)}else for(n=0;n<e.nodes.length;n++)this.quadTree(e.nodes[n]);this.stop()},body:function(e,t,i){e.body&&(this.start(),e.body.type===U.Physics.ARCADE?U.Physics.Arcade.Body.render(this.context,e.body,t,i):e.body.type===U.Physics.NINJA?U.Physics.Ninja.Body.render(this.context,e.body,t,i):e.body.type===U.Physics.BOX2D&&U.Physics.Box2D.renderBody(this.context,e.body,t),this.stop())},bodyInfo:function(e,t,i,n){e.body&&(this.start(t,i,n,210),e.body.type===U.Physics.ARCADE?U.Physics.Arcade.Body.renderBodyInfo(this,e.body):e.body.type===U.Physics.BOX2D&&this.game.physics.box2d.renderBodyInfo(this,e.body),this.stop())},box2dWorld:function(){this.start(),this.context.translate(-this.game.camera.view.x,-this.game.camera.view.y,0),this.game.physics.box2d.renderDebugDraw(this.context),this.stop()},box2dBody:function(e,t){this.start(),U.Physics.Box2D.renderBody(this.context,e,t),this.stop()},displayList:function(e){if((e=void 0===e?this.game.world:e).hasOwnProperty("renderOrderID"),e.children&&0<e.children.length)for(var t=0;t<e.children.length;t++)this.game.debug.displayList(e.children[t])},destroy:function(){PIXI.CanvasPool.remove(this)}},U.Utils.Debug.prototype.constructor=U.Utils.Debug,U.DOM={getOffset:function(e,t){t=t||new U.Point;var e=e.getBoundingClientRect(),i=U.DOM.scrollY,n=U.DOM.scrollX,r=document.documentElement.clientTop,o=document.documentElement.clientLeft;return t.x=e.left+n-o,t.y=e.top+i-r,t},getBounds:function(e,t){return void 0===t&&(t=0),!(!(e=e&&!e.nodeType?e[0]:e)||1!==e.nodeType)&&this.calibrate(e.getBoundingClientRect(),t)},calibrate:function(e,t){var i={width:0,height:0,left:0,right:0,top:0,bottom:0};return i.width=(i.right=e.right+(t=+t||0))-(i.left=e.left-t),i.height=(i.bottom=e.bottom+t)-(i.top=e.top-t),i},getAspectRatio:function(e){var t=(e=null==e?this.visualBounds:1===e.nodeType?this.getBounds(e):e).width,i=e.height;return(t="function"==typeof t?t.call(e):t)/(i="function"==typeof i?i.call(e):i)},inLayoutViewport:function(e,t){e=this.getBounds(e,t);return!!e&&0<=e.bottom&&0<=e.right&&e.top<=this.layoutBounds.width&&e.left<=this.layoutBounds.height},getScreenOrientation:function(e){var t=window.screen,i=t.orientation||t.mozOrientation||t.msOrientation;if(i&&"string"==typeof i.type)return i.type;if("string"==typeof i)return i;var i="portrait-primary",n="landscape-primary";if("screen"===e)return t.height>t.width?i:n;if("viewport"===e)return this.visualBounds.height>this.visualBounds.width?i:n;if("window.orientation"===e&&"number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?i:n;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return i;if(window.matchMedia("(orientation: landscape)").matches)return n}return this.visualBounds.height>this.visualBounds.width?i:n},visualBounds:new U.Rectangle,layoutBounds:new U.Rectangle,documentBounds:new U.Rectangle},U.Device.whenReady(function(e){var t=window&&"pageXOffset"in window?function(){return window.pageXOffset}:function(){return document.documentElement.scrollLeft},i=window&&"pageYOffset"in window?function(){return window.pageYOffset}:function(){return document.documentElement.scrollTop};Object.defineProperty(U.DOM,"scrollX",{get:t}),Object.defineProperty(U.DOM,"scrollY",{get:i}),Object.defineProperty(U.DOM.visualBounds,"x",{get:t}),Object.defineProperty(U.DOM.visualBounds,"y",{get:i}),Object.defineProperty(U.DOM.layoutBounds,"x",{value:0}),Object.defineProperty(U.DOM.layoutBounds,"y",{value:0}),e.desktop&&document.documentElement.clientWidth<=window.innerWidth&&document.documentElement.clientHeight<=window.innerHeight?(t=function(){return Math.max(window.innerWidth,document.documentElement.clientWidth)},i=function(){return Math.max(window.innerHeight,document.documentElement.clientHeight)},Object.defineProperty(U.DOM.visualBounds,"width",{get:t}),Object.defineProperty(U.DOM.visualBounds,"height",{get:i}),Object.defineProperty(U.DOM.layoutBounds,"width",{get:t}),Object.defineProperty(U.DOM.layoutBounds,"height",{get:i})):(Object.defineProperty(U.DOM.visualBounds,"width",{get:function(){return window.innerWidth}}),Object.defineProperty(U.DOM.visualBounds,"height",{get:function(){return window.innerHeight}}),Object.defineProperty(U.DOM.layoutBounds,"width",{get:function(){var e=document.documentElement.clientWidth,t=window.innerWidth;return e<t?t:e}}),Object.defineProperty(U.DOM.layoutBounds,"height",{get:function(){var e=document.documentElement.clientHeight,t=window.innerHeight;return e<t?t:e}})),Object.defineProperty(U.DOM.documentBounds,"x",{value:0}),Object.defineProperty(U.DOM.documentBounds,"y",{value:0}),Object.defineProperty(U.DOM.documentBounds,"width",{get:function(){var e=document.documentElement;return Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth)}}),Object.defineProperty(U.DOM.documentBounds,"height",{get:function(){var e=document.documentElement;return Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight)}})},null,!0),U.ArraySet=function(e){this.position=0,this.list=e||[]},U.ArraySet.prototype={add:function(e){return this.exists(e)||this.list.push(e),e},getIndex:function(e){return this.list.indexOf(e)},getByKey:function(e,t){for(var i=this.list.length;i--;)if(this.list[i][e]===t)return this.list[i];return null},exists:function(e){return-1<this.list.indexOf(e)},reset:function(){this.list.length=0},remove:function(e){var t=this.list.indexOf(e);if(-1<t)return this.list.splice(t,1),e},setAll:function(e,t){for(var i=this.list.length;i--;)this.list[i]&&(this.list[i][e]=t)},callAll:function(e){for(var t=Array.prototype.slice.call(arguments,1),i=this.list.length;i--;)this.list[i]&&this.list[i][e]&&this.list[i][e].apply(this.list[i],t)},removeAll:function(e){void 0===e&&(e=!1);for(var t,i=this.list.length;i--;)this.list[i]&&(t=this.remove(this.list[i]),e&&t.destroy());this.position=0,this.list=[]}},Object.defineProperty(U.ArraySet.prototype,"total",{get:function(){return this.list.length}}),Object.defineProperty(U.ArraySet.prototype,"first",{get:function(){return(this.position=0)<this.list.length?this.list[0]:null}}),Object.defineProperty(U.ArraySet.prototype,"next",{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}}),U.ArraySet.prototype.constructor=U.ArraySet,U.ArrayUtils={getRandomItem:function(e,t,i){if(null===e)return null;void 0===i&&(i=e.length);t=(t=void 0===t?0:t)+Math.floor(Math.random()*i);return void 0===e[t]?null:e[t]},removeRandomItem:function(e,t,i){if(null==e)return null;void 0===i&&(i=e.length);t=(t=void 0===t?0:t)+Math.floor(Math.random()*i);return!(t<e.length)||void 0===(i=e.splice(t,1))[0]?null:i[0]},shuffle:function(e){for(var t=e.length-1;0<t;t--){var i=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e},transposeMatrix:function(e){for(var t=e.length,i=e[0].length,n=new Array(i),r=0;r<i;r++){n[r]=new Array(t);for(var o=t-1;-1<o;o--)n[r][o]=e[o][r]}return n},rotateMatrix:function(e,t){if(90===(t="string"!=typeof t?(t%360+360)%360:t)||-270===t||"rotateLeft"===t)e=(e=U.ArrayUtils.transposeMatrix(e)).reverse();else if(-90===t||270===t||"rotateRight"===t)e=e.reverse(),e=U.ArrayUtils.transposeMatrix(e);else if(180===Math.abs(t)||"rotate180"===t){for(var i=0;i<e.length;i++)e[i].reverse();e=e.reverse()}return e},findClosest:function(e,t){if(!t.length)return NaN;if(1===t.length||e<t[0])return t[0];for(var i=1;t[i]<e;)i++;var n=t[i-1],r=i<t.length?t[i]:Number.POSITIVE_INFINITY;return r-e<=e-n?r:n},rotateRight:function(e){var t=e.pop();return e.unshift(t),t},rotateLeft:function(e){var t=e.shift();return e.push(t),t},rotate:function(e){var t=e.shift();return e.push(t),t},numberArray:function(e,t){for(var i=[],n=e;n<=t;n++)i.push(n);return i},numberArrayStep:function(e,t,i){null==e&&(e=0),null==t&&(t=e,e=0),void 0===i&&(i=1);for(var n=[],r=Math.max(U.Math.roundAwayFromZero((t-e)/(i||1)),0),o=0;o<r;o++)n.push(e),e+=i;return n}},U.LinkedList=function(){this.next=null,this.prev=null,this.first=null,this.last=null,this.total=0},U.LinkedList.prototype={add:function(e){return 0===this.total&&null===this.first&&null===this.last?(this.first=e,this.last=e,((this.next=e).prev=this).total++):((this.last.next=e).prev=this.last,this.last=e,this.total++),e},reset:function(){this.first=null,this.last=null,this.next=null,this.prev=null,this.total=0},remove:function(e){if(1===this.total)return this.reset(),void(e.next=e.prev=null);e===this.first?this.first=this.first.next:e===this.last&&(this.last=this.last.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),(e.next=e.prev=null)===this.first&&(this.last=null),this.total--},callAll:function(e){if(this.first&&this.last)for(var t=this.first;t&&t[e]&&t[e].call(t),(t=t.next)!==this.last.next;);}},U.LinkedList.prototype.constructor=U.LinkedList,U.Create=function(e){this.game=e,this.bmd=null,this.canvas=null,this.ctx=null,this.palettes=[{0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"},{0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"},{0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}]},U.Create.PALETTE_ARNE=0,U.Create.PALETTE_JMP=1,U.Create.PALETTE_CGA=2,U.Create.PALETTE_C64=3,U.Create.PALETTE_JAPANESE_MACHINE=4,U.Create.prototype={texture:function(e,t,i,n,r){void 0===i&&(i=8),void 0===n&&(n=i),void 0===r&&(r=0);var o=t[0].length*i,a=t.length*n;null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(o,a),this.bmd.clear();for(var s=0;s<t.length;s++)for(var p=t[s],l=0;l<p.length;l++){var h=p[l];"."!==h&&" "!==h&&(this.ctx.fillStyle=this.palettes[r][h],this.ctx.fillRect(l*i,s*n,i,n))}return this.bmd.generateTexture(e)},grid:function(e,t,i,n,r,o){null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(t,i),this.ctx.fillStyle=o;for(var a=0;a<i;a+=r)this.ctx.fillRect(0,a,t,1);for(var s=0;s<t;s+=n)this.ctx.fillRect(s,0,1,i);return this.bmd.generateTexture(e)}},U.Create.prototype.constructor=U.Create,U.FlexGrid=function(e,t,i){this.game=e.game,this.manager=e,this.width=t,this.height=i,this.boundsCustom=new U.Rectangle(0,0,t,i),this.boundsFluid=new U.Rectangle(0,0,t,i),this.boundsFull=new U.Rectangle(0,0,t,i),this.boundsNone=new U.Rectangle(0,0,t,i),this.positionCustom=new U.Point(0,0),this.positionFluid=new U.Point(0,0),this.positionFull=new U.Point(0,0),this.positionNone=new U.Point(0,0),this.scaleCustom=new U.Point(1,1),this.scaleFluid=new U.Point(1,1),this.scaleFluidInversed=new U.Point(1,1),this.scaleFull=new U.Point(1,1),this.scaleNone=new U.Point(1,1),this.customWidth=0,this.customHeight=0,this.customOffsetX=0,this.customOffsetY=0,this.ratioH=t/i,this.ratioV=i/t,this.multiplier=0,this.layers=[]},U.FlexGrid.prototype={setSize:function(e,t){this.width=e,this.height=t,this.ratioH=e/t,this.ratioV=t/e,this.scaleNone=new U.Point(1,1),this.boundsNone.width=this.width,this.boundsNone.height=this.height,this.refresh()},createCustomLayer:function(e,t,i,n){void 0===n&&(n=!0),this.customWidth=e,this.customHeight=t,this.boundsCustom.width=e,this.boundsCustom.height=t;e=new U.FlexLayer(this,this.positionCustom,this.boundsCustom,this.scaleCustom);return n&&this.game.world.add(e),this.layers.push(e),void 0!==i&&null!==typeof i&&e.addMultiple(i),e},createFluidLayer:function(e,t){void 0===t&&(t=!0);var i=new U.FlexLayer(this,this.positionFluid,this.boundsFluid,this.scaleFluid);return t&&this.game.world.add(i),this.layers.push(i),void 0!==e&&null!==typeof e&&i.addMultiple(e),i},createFullLayer:function(e){var t=new U.FlexLayer(this,this.positionFull,this.boundsFull,this.scaleFluid);return this.game.world.add(t),this.layers.push(t),void 0!==e&&t.addMultiple(e),t},createFixedLayer:function(e){var t=new U.FlexLayer(this,this.positionNone,this.boundsNone,this.scaleNone);return this.game.world.add(t),this.layers.push(t),void 0!==e&&t.addMultiple(e),t},reset:function(){for(var e=this.layers.length;e--;)this.layers[e].persist||(this.layers[e].position=null,this.layers[e].scale=null,this.layers.slice(e,1))},onResize:function(e,t){this.ratioH=e/t,this.ratioV=t/e,this.refresh(e,t)},refresh:function(){this.multiplier=Math.min(this.manager.height/this.height,this.manager.width/this.width),this.boundsFluid.width=Math.round(this.width*this.multiplier),this.boundsFluid.height=Math.round(this.height*this.multiplier),this.scaleFluid.set(this.boundsFluid.width/this.width,this.boundsFluid.height/this.height),this.scaleFluidInversed.set(this.width/this.boundsFluid.width,this.height/this.boundsFluid.height),this.scaleFull.set(this.boundsFull.width/this.width,this.boundsFull.height/this.height),this.boundsFull.width=Math.round(this.manager.width*this.scaleFluidInversed.x),this.boundsFull.height=Math.round(this.manager.height*this.scaleFluidInversed.y),this.boundsFluid.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.boundsNone.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.positionFluid.set(this.boundsFluid.x,this.boundsFluid.y),this.positionNone.set(this.boundsNone.x,this.boundsNone.y)},fitSprite:function(e){this.manager.scaleSprite(e),e.x=this.manager.bounds.centerX,e.y=this.manager.bounds.centerY},debug:function(){this.game.debug.text(this.boundsFluid.width+" x "+this.boundsFluid.height,this.boundsFluid.x+4,this.boundsFluid.y+16),this.game.debug.geom(this.boundsFluid,"rgba(255,0,0,0.9",!1)}},U.FlexGrid.prototype.constructor=U.FlexGrid,U.FlexLayer=function(e,t,i,n){U.Group.call(this,e.game,null,"__flexLayer"+e.game.rnd.uuid(),!1),this.manager=e.manager,this.grid=e,this.persist=!1,this.position=t,this.bounds=i,this.scale=n,this.topLeft=i.topLeft,this.topMiddle=new U.Point(i.halfWidth,0),this.topRight=i.topRight,this.bottomLeft=i.bottomLeft,this.bottomMiddle=new U.Point(i.halfWidth,i.bottom),this.bottomRight=i.bottomRight},U.FlexLayer.prototype=Object.create(U.Group.prototype),U.FlexLayer.prototype.constructor=U.FlexLayer,U.FlexLayer.prototype.resize=function(){},U.FlexLayer.prototype.debug=function(){this.game.debug.text(this.bounds.width+" x "+this.bounds.height,this.bounds.x+4,this.bounds.y+16),this.game.debug.geom(this.bounds,"rgba(0,0,255,0.9",!1),this.game.debug.geom(this.topLeft,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topMiddle,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topRight,"rgba(255,255,255,0.9")},U.Color={packPixel:function(e,t,i,n){return U.Device.LITTLE_ENDIAN?(n<<24|i<<16|t<<8|e)>>>0:(e<<24|t<<16|i<<8|n)>>>0},unpackPixel:function(e,t,i,n){return null==t&&(t=U.Color.createColor()),null==i&&(i=!1),null==n&&(n=!1),U.Device.LITTLE_ENDIAN?(t.a=(4278190080&e)>>>24,t.b=(16711680&e)>>>16,t.g=(65280&e)>>>8,t.r=255&e):(t.r=(4278190080&e)>>>24,t.g=(16711680&e)>>>16,t.b=(65280&e)>>>8,t.a=255&e),t.color=e,t.rgba="rgba("+t.r+","+t.g+","+t.b+","+t.a/255+")",i&&U.Color.RGBtoHSL(t.r,t.g,t.b,t),n&&U.Color.RGBtoHSV(t.r,t.g,t.b,t),t},fromRGBA:function(e,t){return(t=t||U.Color.createColor()).r=(4278190080&e)>>>24,t.g=(16711680&e)>>>16,t.b=(65280&e)>>>8,t.a=255&e,t.rgba="rgba("+t.r+","+t.g+","+t.b+","+t.a+")",t},toRGBA:function(e,t,i,n){return e<<24|t<<16|i<<8|n},toABGR:function(e,t,i,n){return(n<<24|i<<16|t<<8|e)>>>0},RGBtoHSL:function(e,t,i,n){n=n||U.Color.createColor(e,t,i,1),e/=255,t/=255,i/=255;var r,o=Math.min(e,t,i),a=Math.max(e,t,i);return n.h=0,n.s=0,n.l=(a+o)/2,a!==o&&(r=a-o,n.s=.5<n.l?r/(2-a-o):r/(a+o),a===e?n.h=(t-i)/r+(t<i?6:0):a===t?n.h=(i-e)/r+2:a===i&&(n.h=(e-t)/r+4),n.h/=6),n},HSLtoRGB:function(e,t,i,n){return n?(n.r=i,n.g=i,n.b=i):n=U.Color.createColor(i,i,i),0!==t&&(n.r=U.Color.hueToColor(t=2*i-(i=i<.5?i*(1+t):i+t-i*t),i,e+1/3),n.g=U.Color.hueToColor(t,i,e),n.b=U.Color.hueToColor(t,i,e-1/3)),n.r=Math.floor(255*n.r|0),n.g=Math.floor(255*n.g|0),n.b=Math.floor(255*n.b|0),U.Color.updateColor(n),n},RGBtoHSV:function(e,t,i,n){n=n||U.Color.createColor(e,t,i,255),e/=255,t/=255,i/=255;var r=Math.min(e,t,i),o=Math.max(e,t,i),a=o-r;return n.h=0,n.s=0===o?0:a/o,(n.v=o)!==r&&(o===e?n.h=(t-i)/a+(t<i?6:0):o===t?n.h=(i-e)/a+2:o===i&&(n.h=(e-t)/a+4),n.h/=6),n},HSVtoRGB:function(e,t,i,n){void 0===n&&(n=U.Color.createColor(0,0,0,1,e,t,0,i));var r,o,a,s=Math.floor(6*e),e=6*e-s,p=i*(1-t),l=i*(1-e*t),h=i*(1-(1-e)*t);switch(s%6){case 0:r=i,o=h,a=p;break;case 1:r=l,o=i,a=p;break;case 2:r=p,o=i,a=h;break;case 3:r=p,o=l,a=i;break;case 4:r=h,o=p,a=i;break;case 5:r=i,o=p,a=l}return n.r=Math.floor(255*r),n.g=Math.floor(255*o),n.b=Math.floor(255*a),U.Color.updateColor(n),n},hueToColor:function(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},createColor:function(e,t,i,n,r,o,a,s){return U.Color.updateColor({r:e||0,g:t||0,b:i||0,a:n||1,h:r||0,s:o||0,l:a||0,v:s||0,color:0,color32:0,rgba:""})},updateColor:function(e){return e.rgba="rgba("+e.r.toString()+","+e.g.toString()+","+e.b.toString()+","+e.a.toString()+")",e.color=U.Color.getColor(e.r,e.g,e.b),e.color32=U.Color.getColor32(255*e.a,e.r,e.g,e.b),e},getColor32:function(e,t,i,n){return e<<24|t<<16|i<<8|n},getColor:function(e,t,i){return e<<16|t<<8|i},RGBtoString:function(e,t,i,n,r){return void 0===n&&(n=255),"#"===(r=void 0===r?"#":r)?"#"+((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1):"0x"+U.Color.componentToHex(n)+U.Color.componentToHex(e)+U.Color.componentToHex(t)+U.Color.componentToHex(i)},hexToRGB:function(e){e=U.Color.hexToColor(e);if(e)return U.Color.getColor32(e.a,e.r,e.g,e.b)},hexToColor:function(e,t){e=e.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n});var i,n,e=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return e&&(i=parseInt(e[1],16),n=parseInt(e[2],16),e=parseInt(e[3],16),t?(t.r=i,t.g=n,t.b=e):t=U.Color.createColor(i,n,e)),t},webToColor:function(e,t){t=t||U.Color.createColor();e=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(e);return e&&(t.r=parseInt(e[1],10),t.g=parseInt(e[2],10),t.b=parseInt(e[3],10),t.a=void 0!==e[4]?parseFloat(e[4]):1,U.Color.updateColor(t)),t},valueToColor:function(e,t){return t=t||U.Color.createColor(),"string"==typeof e?0===e.indexOf("rgb")?U.Color.webToColor(e,t):(t.a=1,U.Color.hexToColor(e,t)):("number"==typeof e&&(e=U.Color.getRGB(e),t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a/255),t)},componentToHex:function(e){e=e.toString(16);return 1===e.length?"0"+e:e},HSVColorWheel:function(e,t){void 0===e&&(e=1),void 0===t&&(t=1);for(var i=[],n=0;n<=359;n++)i.push(U.Color.HSVtoRGB(n/359,e,t));return i},HSLColorWheel:function(e,t){void 0===e&&(e=.5),void 0===t&&(t=.5);for(var i=[],n=0;n<=359;n++)i.push(U.Color.HSLtoRGB(n/359,e,t));return i},interpolateColor:function(e,t,i,n,r){void 0===r&&(r=255);var e=U.Color.getRGB(e),t=U.Color.getRGB(t),o=(t.red-e.red)*n/i+e.red,a=(t.green-e.green)*n/i+e.green,t=(t.blue-e.blue)*n/i+e.blue;return U.Color.getColor32(r,o,a,t)},interpolateColorWithRGB:function(e,t,i,n,r,o){e=U.Color.getRGB(e),t=(t-e.red)*o/r+e.red,i=(i-e.green)*o/r+e.green,n=(n-e.blue)*o/r+e.blue;return U.Color.getColor(t,i,n)},interpolateRGB:function(e,t,i,n,r,o,a,s){return U.Color.getColor((n-e)*s/a+e,(r-t)*s/a+t,(o-i)*s/a+i)},getRandomColor:function(e,t,i){if(void 0===e&&(e=0),void 0===i&&(i=255),255<(t=void 0===t?255:t)||t<e)return U.Color.getColor(255,255,255);var n=e+Math.round(Math.random()*(t-e)),r=e+Math.round(Math.random()*(t-e)),t=e+Math.round(Math.random()*(t-e));return U.Color.getColor32(i,n,r,t)},getRGB:function(e){return 16777215<e?{alpha:e>>>24,red:e>>16&255,green:e>>8&255,blue:255&e,a:e>>>24,r:e>>16&255,g:e>>8&255,b:255&e}:{alpha:255,red:e>>16&255,green:e>>8&255,blue:255&e,a:255,r:e>>16&255,g:e>>8&255,b:255&e}},getWebRGB:function(e){return"object"==typeof e?"rgba("+e.r.toString()+","+e.g.toString()+","+e.b.toString()+","+(e.a/255).toString()+")":"rgba("+(e=U.Color.getRGB(e)).r.toString()+","+e.g.toString()+","+e.b.toString()+","+(e.a/255).toString()+")"},getAlpha:function(e){return e>>>24},getAlphaFloat:function(e){return(e>>>24)/255},getRed:function(e){return e>>16&255},getGreen:function(e){return e>>8&255},getBlue:function(e){return 255&e},blendNormal:function(e){return e},blendLighten:function(e,t){return e<t?t:e},blendDarken:function(e,t){return e<t?e:t},blendMultiply:function(e,t){return e*t/255},blendAverage:function(e,t){return(e+t)/2},blendAdd:function(e,t){return Math.min(255,e+t)},blendSubtract:function(e,t){return Math.max(0,e+t-255)},blendDifference:function(e,t){return Math.abs(e-t)},blendNegation:function(e,t){return 255-Math.abs(255-e-t)},blendScreen:function(e,t){return 255-((255-e)*(255-t)>>8)},blendExclusion:function(e,t){return e+t-2*e*t/255},blendOverlay:function(e,t){return t<128?2*e*t/255:255-2*(255-e)*(255-t)/255},blendSoftLight:function(e,t){return t<128?2*(64+(e>>1))*(t/255):255-2*(255-(64+(e>>1)))*(255-t)/255},blendHardLight:function(e,t){return U.Color.blendOverlay(t,e)},blendColorDodge:function(e,t){return 255===t?t:Math.min(255,(e<<8)/(255-t))},blendColorBurn:function(e,t){return 0===t?t:Math.max(0,255-(255-e<<8)/t)},blendLinearDodge:function(e,t){return U.Color.blendAdd(e,t)},blendLinearBurn:function(e,t){return U.Color.blendSubtract(e,t)},blendLinearLight:function(e,t){return t<128?U.Color.blendLinearBurn(e,2*t):U.Color.blendLinearDodge(e,2*(t-128))},blendVividLight:function(e,t){return t<128?U.Color.blendColorBurn(e,2*t):U.Color.blendColorDodge(e,2*(t-128))},blendPinLight:function(e,t){return t<128?U.Color.blendDarken(e,2*t):U.Color.blendLighten(e,2*(t-128))},blendHardMix:function(e,t){return U.Color.blendVividLight(e,t)<128?0:255},blendReflect:function(e,t){return 255===t?t:Math.min(255,e*e/(255-t))},blendGlow:function(e,t){return U.Color.blendReflect(t,e)},blendPhoenix:function(e,t){return Math.min(e,t)-Math.max(e,t)+255}},U.Physics=function(e,t){t=t||{},this.game=e,this.config=t,this.arcade=null,this.p2=null,this.ninja=null,this.box2d=null,this.chipmunk=null,this.matter=null,this.parseConfig()},U.Physics.ARCADE=0,U.Physics.P2JS=1,U.Physics.NINJA=2,U.Physics.BOX2D=3,U.Physics.CHIPMUNK=4,U.Physics.MATTERJS=5,U.Physics.prototype={parseConfig:function(){this.config.hasOwnProperty("arcade")&&!0!==this.config.arcade||!U.Physics.hasOwnProperty("Arcade")||(this.arcade=new U.Physics.Arcade(this.game)),this.config.hasOwnProperty("ninja")&&!0===this.config.ninja&&U.Physics.hasOwnProperty("Ninja")&&(this.ninja=new U.Physics.Ninja(this.game)),this.config.hasOwnProperty("p2")&&!0===this.config.p2&&U.Physics.hasOwnProperty("P2")&&(this.p2=new U.Physics.P2(this.game,this.config)),this.config.hasOwnProperty("box2d")&&!0===this.config.box2d&&U.Physics.hasOwnProperty("BOX2D")&&(this.box2d=new U.Physics.BOX2D(this.game,this.config)),this.config.hasOwnProperty("matter")&&!0===this.config.matter&&U.Physics.hasOwnProperty("Matter")&&(this.matter=new U.Physics.Matter(this.game,this.config))},startSystem:function(e){e===U.Physics.ARCADE?this.arcade=new U.Physics.Arcade(this.game):e===U.Physics.P2JS?null===this.p2?this.p2=new U.Physics.P2(this.game,this.config):this.p2.reset():e===U.Physics.NINJA?this.ninja=new U.Physics.Ninja(this.game):e===U.Physics.BOX2D?null===this.box2d?this.box2d=new U.Physics.Box2D(this.game,this.config):this.box2d.reset():e===U.Physics.MATTERJS&&(null===this.matter?this.matter=new U.Physics.Matter(this.game,this.config):this.matter.reset())},enable:function(e,t,i){void 0===i&&(i=!1),(t=void 0===t?U.Physics.ARCADE:t)===U.Physics.ARCADE?this.arcade.enable(e):t===U.Physics.P2JS&&this.p2?this.p2.enable(e,i):t===U.Physics.NINJA&&this.ninja?this.ninja.enableAABB(e):t===U.Physics.BOX2D&&this.box2d?this.box2d.enable(e):t===U.Physics.MATTERJS&&this.matter&&this.matter.enable(e)},preUpdate:function(){this.p2&&this.p2.preUpdate(),this.box2d&&this.box2d.preUpdate(),this.matter&&this.matter.preUpdate()},update:function(){this.p2&&this.p2.update(),this.box2d&&this.box2d.update(),this.matter&&this.matter.update()},setBoundsToWorld:function(){this.arcade&&this.arcade.setBoundsToWorld(),this.ninja&&this.ninja.setBoundsToWorld(),this.p2&&this.p2.setBoundsToWorld(),this.box2d&&this.box2d.setBoundsToWorld(),this.matter&&this.matter.setBoundsToWorld()},clear:function(){this.p2&&this.p2.clear(),this.box2d&&this.box2d.clear(),this.matter&&this.matter.clear()},reset:function(){this.p2&&this.p2.reset(),this.box2d&&this.box2d.reset(),this.matter&&this.matter.reset()},destroy:function(){this.p2&&this.p2.destroy(),this.box2d&&this.box2d.destroy(),this.matter&&this.matter.destroy(),this.arcade=null,this.ninja=null,this.p2=null,this.box2d=null,this.matter=null}},U.Physics.prototype.constructor=U.Physics,U.Physics.Arcade=function(e){this.game=e,this.gravity=new U.Point,this.bounds=new U.Rectangle(0,0,e.world.width,e.world.height),this.checkCollision={up:!0,down:!0,left:!0,right:!0},this.maxObjects=10,this.maxLevels=4,this.OVERLAP_BIAS=4,this.forceX=!1,this.sortDirection=U.Physics.Arcade.LEFT_RIGHT,this.skipQuadTree=!0,this.isPaused=!1,this.quadTree=new U.QuadTree(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this._total=0,this.setBoundsToWorld()},U.Physics.Arcade.prototype.constructor=U.Physics.Arcade,U.Physics.Arcade.SORT_NONE=0,U.Physics.Arcade.LEFT_RIGHT=1,U.Physics.Arcade.RIGHT_LEFT=2,U.Physics.Arcade.TOP_BOTTOM=3,U.Physics.Arcade.BOTTOM_TOP=4,U.Physics.Arcade.prototype={setBounds:function(e,t,i,n){this.bounds.setTo(e,t,i,n)},setBoundsToWorld:function(){this.bounds.copyFrom(this.game.world.bounds)},enable:function(e,t){void 0===t&&(t=!0);var i=1;if(Array.isArray(e))for(i=e.length;i--;)e[i]instanceof U.Group?this.enable(e[i].children,t):(this.enableBody(e[i]),t&&e[i].hasOwnProperty("children")&&0<e[i].children.length&&this.enable(e[i],!0));else e instanceof U.Group?this.enable(e.children,t):(this.enableBody(e),t&&e.hasOwnProperty("children")&&0<e.children.length&&this.enable(e.children,!0))},enableBody:function(e){e.hasOwnProperty("body")&&null===e.body&&(e.body=new U.Physics.Arcade.Body(e),e.parent&&e.parent instanceof U.Group&&e.parent.addToHash(e))},updateMotion:function(e){var t=this.computeVelocity(0,e,e.angularVelocity,e.angularAcceleration,e.angularDrag,e.maxAngular)-e.angularVelocity;e.angularVelocity+=t,e.rotation+=e.angularVelocity*this.game.time.physicsElapsed,e.velocity.x=this.computeVelocity(1,e,e.velocity.x,e.acceleration.x,e.drag.x,e.maxVelocity.x),e.velocity.y=this.computeVelocity(2,e,e.velocity.y,e.acceleration.y,e.drag.y,e.maxVelocity.y)},computeVelocity:function(e,t,i,n,r,o){return 1===e&&t.allowGravity?i+=(this.gravity.x+t.gravity.x)*this.game.time.physicsElapsed:2===e&&t.allowGravity&&(i+=(this.gravity.y+t.gravity.y)*this.game.time.physicsElapsed),n?i+=n*this.game.time.physicsElapsed:r&&(0<i-(r*=this.game.time.physicsElapsed)?i-=r:i+r<0?i+=r:i=0),(o=void 0===o?1e4:o)<i?i=o:i<-o&&(i=-o),i},overlap:function(e,t,i,n,r){if(i=i||null,n=n||null,r=r||i,this._total=0,!Array.isArray(e)&&Array.isArray(t))for(var o=0;o<t.length;o++)this.collideHandler(e,t[o],i,n,r,!0);else if(Array.isArray(e)&&!Array.isArray(t))for(o=0;o<e.length;o++)this.collideHandler(e[o],t,i,n,r,!0);else if(Array.isArray(e)&&Array.isArray(t))for(o=0;o<e.length;o++)for(var a=0;a<t.length;a++)this.collideHandler(e[o],t[a],i,n,r,!0);else this.collideHandler(e,t,i,n,r,!0);return 0<this._total},collide:function(e,t,i,n,r){if(i=i||null,n=n||null,r=r||i,this._total=0,!Array.isArray(e)&&Array.isArray(t))for(var o=0;o<t.length;o++)this.collideHandler(e,t[o],i,n,r,!1);else if(Array.isArray(e)&&!Array.isArray(t))for(o=0;o<e.length;o++)this.collideHandler(e[o],t,i,n,r,!1);else if(Array.isArray(e)&&Array.isArray(t))for(o=0;o<e.length;o++)for(var a=0;a<t.length;a++)this.collideHandler(e[o],t[a],i,n,r,!1);else this.collideHandler(e,t,i,n,r,!1);return 0<this._total},sortLeftRight:function(e,t){return e.body&&t.body?e.body.x-t.body.x:0},sortRightLeft:function(e,t){return e.body&&t.body?t.body.x-e.body.x:0},sortTopBottom:function(e,t){return e.body&&t.body?e.body.y-t.body.y:0},sortBottomTop:function(e,t){return e.body&&t.body?t.body.y-e.body.y:0},sort:function(e,t){null!==e.physicsSortDirection?t=e.physicsSortDirection:void 0===t&&(t=this.sortDirection),t===U.Physics.Arcade.LEFT_RIGHT?e.hash.sort(this.sortLeftRight):t===U.Physics.Arcade.RIGHT_LEFT?e.hash.sort(this.sortRightLeft):t===U.Physics.Arcade.TOP_BOTTOM?e.hash.sort(this.sortTopBottom):t===U.Physics.Arcade.BOTTOM_TOP&&e.hash.sort(this.sortBottomTop)},collideHandler:function(e,t,i,n,r,o){if(void 0===t&&e.physicsType===U.GROUP)return this.sort(e),void this.collideGroupVsSelf(e,i,n,r,o);e&&t&&e.exists&&t.exists&&(this.sortDirection!==U.Physics.Arcade.SORT_NONE&&(e.physicsType===U.GROUP&&this.sort(e),t.physicsType===U.GROUP&&this.sort(t)),e.physicsType===U.SPRITE?t.physicsType===U.SPRITE?this.collideSpriteVsSprite(e,t,i,n,r,o):t.physicsType===U.GROUP?this.collideSpriteVsGroup(e,t,i,n,r,o):t.physicsType===U.TILEMAPLAYER&&this.collideSpriteVsTilemapLayer(e,t,i,n,r,o):e.physicsType===U.GROUP?t.physicsType===U.SPRITE?this.collideSpriteVsGroup(t,e,i,n,r,o):t.physicsType===U.GROUP?this.collideGroupVsGroup(e,t,i,n,r,o):t.physicsType===U.TILEMAPLAYER&&this.collideGroupVsTilemapLayer(e,t,i,n,r,o):e.physicsType===U.TILEMAPLAYER&&(t.physicsType===U.SPRITE?this.collideSpriteVsTilemapLayer(t,e,i,n,r,o):t.physicsType===U.GROUP&&this.collideGroupVsTilemapLayer(t,e,i,n,r,o)))},collideSpriteVsSprite:function(e,t,i,n,r,o){return!(!e.body||!t.body)&&(this.separate(e.body,t.body,n,r,o)&&(i&&i.call(r,e,t),this._total++),!0)},collideSpriteVsGroup:function(e,t,i,n,r,o){if(0!==t.length&&e.body)if(this.skipQuadTree||e.body.skipQuadTree)for(var a={},s=0;s<t.hash.length;s++){var p=t.hash[s];if(p&&p.exists&&p.body){if(a=p.body.getBounds(a),this.sortDirection===U.Physics.Arcade.LEFT_RIGHT){if(e.body.right<a.x)break;if(a.right<e.body.x)continue}else if(this.sortDirection===U.Physics.Arcade.RIGHT_LEFT){if(e.body.x>a.right)break;if(a.x>e.body.right)continue}else if(this.sortDirection===U.Physics.Arcade.TOP_BOTTOM){if(e.body.bottom<a.y)break;if(a.bottom<e.body.y)continue}else if(this.sortDirection===U.Physics.Arcade.BOTTOM_TOP){if(e.body.y>a.bottom)break;if(a.y>e.body.bottom)continue}this.collideSpriteVsSprite(e,p,i,n,r,o)}}else{this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(t);for(var l=this.quadTree.retrieve(e),s=0;s<l.length;s++)this.separate(e.body,l[s],n,r,o)&&(i&&i.call(r,e,l[s].sprite),this._total++)}},collideGroupVsSelf:function(e,t,i,n,r){if(0!==e.length)for(var o=0;o<e.hash.length;o++){var a={},s=e.hash[o];if(s&&s.exists&&s.body)for(var a=s.body.getBounds(a),p=o+1;p<e.hash.length;p++){var l={},h=e.hash[p];if(h&&h.exists&&h.body){if(l=h.body.getBounds(l),this.sortDirection===U.Physics.Arcade.LEFT_RIGHT){if(a.right<l.x)break;if(l.right<a.x)continue}else if(this.sortDirection===U.Physics.Arcade.RIGHT_LEFT){if(a.x>l.right)continue;if(l.x>a.right)break}else if(this.sortDirection===U.Physics.Arcade.TOP_BOTTOM){if(a.bottom<l.y)continue;if(l.bottom<a.y)break}else if(this.sortDirection===U.Physics.Arcade.BOTTOM_TOP){if(a.y>l.bottom)continue;if(l.y>s.body.bottom)break}this.collideSpriteVsSprite(s,h,t,i,n,r)}}}},collideGroupVsGroup:function(e,t,i,n,r,o){if(0!==e.length&&0!==t.length)for(var a=0;a<e.children.length;a++)e.children[a].exists&&(e.children[a].physicsType===U.GROUP?this.collideGroupVsGroup(e.children[a],t,i,n,r,o):this.collideSpriteVsGroup(e.children[a],t,i,n,r,o))},separate:function(e,t,i,n,r){if(!e.enable||!t.enable||e.checkCollision.none||t.checkCollision.none||!this.intersects(e,t))return!1;if(i&&!1===i.call(n,e.sprite,t.sprite))return!1;if(e.isCircle&&t.isCircle)return this.separateCircle(e,t,r);if(e.isCircle!==t.isCircle){var i=e.isCircle?t:e,n=e.isCircle?e:t,o=i.x,a=i.y,s=i.right,i=i.bottom,p=n.x+n.radius,n=n.y+n.radius;if((n<a||i<n)&&(p<o||s<p))return this.separateCircle(e,t,r)}a=!1,i=!1,this.forceX||Math.abs(this.gravity.y+e.gravity.y)<Math.abs(this.gravity.x+e.gravity.x)?(a=this.separateX(e,t,r),this.intersects(e,t)&&(i=this.separateY(e,t,r))):(i=this.separateY(e,t,r),this.intersects(e,t)&&(a=this.separateX(e,t,r))),n=a||i;return n&&(r?(e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite),t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite)):(e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite),t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite))),n},intersects:function(e,t){return e!==t&&(e.isCircle?t.isCircle?U.Math.distance(e.center.x,e.center.y,t.center.x,t.center.y)<=e.radius+t.radius:this.circleBodyIntersects(e,t):t.isCircle?this.circleBodyIntersects(t,e):!(e.right<=t.position.x)&&(!(e.bottom<=t.position.y)&&(!(e.position.x>=t.right)&&!(e.position.y>=t.bottom))))},circleBodyIntersects:function(e,t){var i=U.Math.clamp(e.center.x,t.left,t.right),t=U.Math.clamp(e.center.y,t.top,t.bottom);return(e.center.x-i)*(e.center.x-i)+(e.center.y-t)*(e.center.y-t)<=e.radius*e.radius},separateCircle:function(e,t,i){this.getOverlapX(e,t),this.getOverlapY(e,t);var n=t.center.x-e.center.x,r=t.center.y-e.center.y,r=Math.atan2(r,n),n=0;if(e.isCircle!==t.isCircle?(o={x:(t.isCircle?e:t).position.x,y:(t.isCircle?e:t).position.y,right:(t.isCircle?e:t).right,bottom:(t.isCircle?e:t).bottom},(a={x:e.isCircle?e.position.x+e.radius:t.position.x+t.radius,y:e.isCircle?e.position.y+e.radius:t.position.y+t.radius,radius:(e.isCircle?e:t).radius}).y<o.y?a.x<o.x?n=U.Math.distance(a.x,a.y,o.x,o.y)-a.radius:o.right<a.x&&(n=U.Math.distance(a.x,a.y,o.right,o.y)-a.radius):o.bottom<a.y&&(a.x<o.x?n=U.Math.distance(a.x,a.y,o.x,o.bottom)-a.radius:o.right<a.x&&(n=U.Math.distance(a.x,a.y,o.right,o.bottom)-a.radius)),n*=-1):n=e.radius+t.radius-U.Math.distance(e.center.x,e.center.y,t.center.x,t.center.y),i||0===n||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return 0!==n&&(e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite),t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite)),0!==n;var o=e.velocity.x*Math.cos(r)+e.velocity.y*Math.sin(r),a=e.velocity.x*Math.sin(r)-e.velocity.y*Math.cos(r),i=t.velocity.x*Math.cos(r)+t.velocity.y*Math.sin(r),s=t.velocity.x*Math.sin(r)-t.velocity.y*Math.cos(r),p=((e.mass-t.mass)*o+2*t.mass*i)/(e.mass+t.mass),o=(2*e.mass*o+(t.mass-e.mass)*i)/(e.mass+t.mass);return e.immovable||(e.velocity.x=(p*Math.cos(r)-a*Math.sin(r))*e.bounce.x,e.velocity.y=(a*Math.cos(r)+p*Math.sin(r))*e.bounce.y),t.immovable||(t.velocity.x=(o*Math.cos(r)-s*Math.sin(r))*t.bounce.x,t.velocity.y=(s*Math.cos(r)+o*Math.sin(r))*t.bounce.y),Math.abs(r)<Math.PI/2?0<e.velocity.x&&!e.immovable&&t.velocity.x>e.velocity.x?e.velocity.x*=-1:t.velocity.x<0&&!t.immovable&&e.velocity.x<t.velocity.x?t.velocity.x*=-1:0<e.velocity.y&&!e.immovable&&t.velocity.y>e.velocity.y?e.velocity.y*=-1:t.velocity.y<0&&!t.immovable&&e.velocity.y<t.velocity.y&&(t.velocity.y*=-1):Math.abs(r)>Math.PI/2&&(e.velocity.x<0&&!e.immovable&&t.velocity.x<e.velocity.x?e.velocity.x*=-1:0<t.velocity.x&&!t.immovable&&e.velocity.x>t.velocity.x?t.velocity.x*=-1:e.velocity.y<0&&!e.immovable&&t.velocity.y<e.velocity.y?e.velocity.y*=-1:0<t.velocity.y&&!t.immovable&&e.velocity.x>t.velocity.y&&(t.velocity.y*=-1)),e.immovable||(e.x+=e.velocity.x*this.game.time.physicsElapsed-n*Math.cos(r),e.y+=e.velocity.y*this.game.time.physicsElapsed-n*Math.sin(r)),t.immovable||(t.x+=t.velocity.x*this.game.time.physicsElapsed+n*Math.cos(r),t.y+=t.velocity.y*this.game.time.physicsElapsed+n*Math.sin(r)),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite),t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),!0},getOverlapX:function(e,t,i){var n=0,r=e.deltaAbsX()+t.deltaAbsX()+this.OVERLAP_BIAS;return 0===e.deltaX()&&0===t.deltaX()?(e.embedded=!0,t.embedded=!0):e.deltaX()>t.deltaX()?r<(n=e.right-t.x)&&!i||!1===e.checkCollision.right||!1===t.checkCollision.left?n=0:(e.touching.none=!1,e.touching.right=!0,t.touching.none=!1,t.touching.left=!0):e.deltaX()<t.deltaX()&&(r<-(n=e.x-t.width-t.x)&&!i||!1===e.checkCollision.left||!1===t.checkCollision.right?n=0:(e.touching.none=!1,e.touching.left=!0,t.touching.none=!1,t.touching.right=!0)),e.overlapX=n,t.overlapX=n},getOverlapY:function(e,t,i){var n=0,r=e.deltaAbsY()+t.deltaAbsY()+this.OVERLAP_BIAS;return 0===e.deltaY()&&0===t.deltaY()?(e.embedded=!0,t.embedded=!0):e.deltaY()>t.deltaY()?r<(n=e.bottom-t.y)&&!i||!1===e.checkCollision.down||!1===t.checkCollision.up?n=0:(e.touching.none=!1,e.touching.down=!0,t.touching.none=!1,t.touching.up=!0):e.deltaY()<t.deltaY()&&(r<-(n=e.y-t.bottom)&&!i||!1===e.checkCollision.up||!1===t.checkCollision.down?n=0:(e.touching.none=!1,e.touching.up=!0,t.touching.none=!1,t.touching.down=!0)),e.overlapY=n,t.overlapY=n},separateX:function(e,t,i){var n=this.getOverlapX(e,t,i);if(i||0===n||e.immovable&&t.immovable||e.customSeparateX||t.customSeparateX)return 0!==n||e.embedded&&t.embedded;var i=e.velocity.x,r=t.velocity.x;return e.immovable||t.immovable?e.immovable?(t.x+=n,t.velocity.x=i-r*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y)):(e.x-=n,e.velocity.x=r-i*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(e.x-=n*=.5,t.x+=n,n=Math.sqrt(r*r*t.mass/e.mass)*(0<r?1:-1),r=Math.sqrt(i*i*e.mass/t.mass)*(0<i?1:-1),r-=i=.5*(n+r),e.velocity.x=i+(n-=i)*e.bounce.x,t.velocity.x=i+r*t.bounce.x),!0},separateY:function(e,t,i){var n=this.getOverlapY(e,t,i);if(i||0===n||e.immovable&&t.immovable||e.customSeparateY||t.customSeparateY)return 0!==n||e.embedded&&t.embedded;var i=e.velocity.y,r=t.velocity.y;return e.immovable||t.immovable?e.immovable?(t.y+=n,t.velocity.y=i-r*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x)):(e.y-=n,e.velocity.y=r-i*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(e.y-=n*=.5,t.y+=n,n=Math.sqrt(r*r*t.mass/e.mass)*(0<r?1:-1),r=Math.sqrt(i*i*e.mass/t.mass)*(0<i?1:-1),r-=i=.5*(n+r),e.velocity.y=i+(n-=i)*e.bounce.y,t.velocity.y=i+r*t.bounce.y),!0},getObjectsUnderPointer:function(e,t,i,n){if(0!==t.length&&e.exists)return this.getObjectsAtLocation(e.x,e.y,t,i,n,e)},getObjectsAtLocation:function(e,t,i,n,r,o){this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(i);for(var i=new U.Rectangle(e,t,1,1),a=[],s=this.quadTree.retrieve(i),p=0;p<s.length;p++)s[p].hitTest(e,t)&&(n&&n.call(r,o,s[p].sprite),a.push(s[p].sprite));return a},moveToObject:function(e,t,i,n){void 0===i&&(i=60),void 0===n&&(n=0);var r=Math.atan2(t.y-e.y,t.x-e.x);return 0<n&&(i=this.distanceBetween(e,t)/(n/1e3)),e.body.velocity.x=Math.cos(r)*i,e.body.velocity.y=Math.sin(r)*i,r},moveToPointer:function(e,t,i,n){void 0===t&&(t=60),i=i||this.game.input.activePointer,void 0===n&&(n=0);var r=this.angleToPointer(e,i);return 0<n&&(t=this.distanceToPointer(e,i)/(n/1e3)),e.body.velocity.x=Math.cos(r)*t,e.body.velocity.y=Math.sin(r)*t,r},moveToXY:function(e,t,i,n,r){void 0===n&&(n=60),void 0===r&&(r=0);var o=Math.atan2(i-e.y,t-e.x);return 0<r&&(n=this.distanceToXY(e,t,i)/(r/1e3)),e.body.velocity.x=Math.cos(o)*n,e.body.velocity.y=Math.sin(o)*n,o},velocityFromAngle:function(e,t,i){return void 0===t&&(t=60),(i=i||new U.Point).setTo(Math.cos(this.game.math.degToRad(e))*t,Math.sin(this.game.math.degToRad(e))*t)},velocityFromRotation:function(e,t,i){return void 0===t&&(t=60),(i=i||new U.Point).setTo(Math.cos(e)*t,Math.sin(e)*t)},accelerationFromRotation:function(e,t,i){return void 0===t&&(t=60),(i=i||new U.Point).setTo(Math.cos(e)*t,Math.sin(e)*t)},accelerateToObject:function(e,t,i,n,r){void 0===i&&(i=60),void 0===n&&(n=1e3),void 0===r&&(r=1e3);t=this.angleBetween(e,t);return e.body.acceleration.setTo(Math.cos(t)*i,Math.sin(t)*i),e.body.maxVelocity.setTo(n,r),t},accelerateToPointer:function(e,t,i,n,r){void 0===i&&(i=60),void 0===t&&(t=this.game.input.activePointer),void 0===n&&(n=1e3),void 0===r&&(r=1e3);t=this.angleToPointer(e,t);return e.body.acceleration.setTo(Math.cos(t)*i,Math.sin(t)*i),e.body.maxVelocity.setTo(n,r),t},accelerateToXY:function(e,t,i,n,r,o){void 0===n&&(n=60),void 0===r&&(r=1e3),void 0===o&&(o=1e3);t=this.angleToXY(e,t,i);return e.body.acceleration.setTo(Math.cos(t)*n,Math.sin(t)*n),e.body.maxVelocity.setTo(r,o),t},distanceBetween:function(e,t,i){var n=(i=void 0===i?!1:i)?e.world.x-t.world.x:e.x-t.x,i=i?e.world.y-t.world.y:e.y-t.y;return Math.sqrt(n*n+i*i)},distanceToXY:function(e,t,i,n){t=(n=void 0===n?!1:n)?e.world.x-t:e.x-t,n=n?e.world.y-i:e.y-i;return Math.sqrt(t*t+n*n)},distanceToPointer:function(e,t,i){void 0===t&&(t=this.game.input.activePointer);var n=(i=void 0===i?!1:i)?e.world.x-t.worldX:e.x-t.worldX,i=i?e.world.y-t.worldY:e.y-t.worldY;return Math.sqrt(n*n+i*i)},angleBetween:function(e,t,i){return(i=void 0===i?!1:i)?Math.atan2(t.world.y-e.world.y,t.world.x-e.world.x):Math.atan2(t.y-e.y,t.x-e.x)},angleBetweenCenters:function(e,t){var i=t.centerX-e.centerX,t=t.centerY-e.centerY;return Math.atan2(t,i)},angleToXY:function(e,t,i,n){return(n=void 0===n?!1:n)?Math.atan2(i-e.world.y,t-e.world.x):Math.atan2(i-e.y,t-e.x)},angleToPointer:function(e,t,i){return void 0===t&&(t=this.game.input.activePointer),(i=void 0===i?!1:i)?Math.atan2(t.worldY-e.world.y,t.worldX-e.world.x):Math.atan2(t.worldY-e.y,t.worldX-e.x)},worldAngleToPointer:function(e,t){return this.angleToPointer(e,t,!0)}},U.Physics.Arcade.Body=function(e){this.sprite=e,this.game=e.game,this.type=U.Physics.ARCADE,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new U.Point,this.position=new U.Point(e.x,e.y),this.prev=new U.Point(this.position.x,this.position.y),this.allowRotation=!0,this.rotation=e.angle,this.preRotation=e.angle,this.width=e.width,this.height=e.height,this.sourceWidth=e.width,this.sourceHeight=e.height,e.texture&&(this.sourceWidth=e.texture.frame.width,this.sourceHeight=e.texture.frame.height),this.halfWidth=Math.abs(e.width/2),this.halfHeight=Math.abs(e.height/2),this.center=new U.Point(e.x+this.halfWidth,e.y+this.halfHeight),this.velocity=new U.Point,this.newVelocity=new U.Point,this.deltaMax=new U.Point,this.acceleration=new U.Point,this.drag=new U.Point,this.allowGravity=!0,this.gravity=new U.Point,this.bounce=new U.Point,this.worldBounce=null,this.onWorldBounds=null,this.onCollide=null,this.onOverlap=null,this.maxVelocity=new U.Point(1e4,1e4),this.friction=new U.Point(1,0),this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=U.NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,any:!0,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={up:!1,down:!1,left:!1,right:!1},this.tilePadding=new U.Point,this.dirty=!1,this.skipQuadTree=!1,this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.moveTimer=0,this.moveDistance=0,this.moveDuration=0,this.moveTarget=null,this.moveEnd=null,this.onMoveComplete=new U.Signal,this.movementCallback=null,this.movementCallbackContext=null,this._reset=!0,this._sx=e.scale.x,this._sy=e.scale.y,this._dx=0,this._dy=0},U.Physics.Arcade.Body.prototype={updateBounds:function(){var e,t;this.syncBounds?((e=this.sprite.getBounds()).ceilAll(),e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._reset=!0)):(e=Math.abs(this.sprite.scale.x),t=Math.abs(this.sprite.scale.y),e===this._sx&&t===this._sy||(this.width=this.sourceWidth*e,this.height=this.sourceHeight*t,this._sx=e,this._sy=t,this._reset=!0)),this._reset&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight))},preUpdate:function(){this.enable&&!this.game.physics.arcade.isPaused&&(this.dirty=!0,this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.embedded=!1,this.updateBounds(),this.position.x=this.sprite.world.x-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=this.sprite.world.y-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.rotation=this.sprite.angle,this.preRotation=this.rotation,(this._reset||this.sprite.fresh)&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves&&(this.game.physics.arcade.updateMotion(this),this.newVelocity.set(this.velocity.x*this.game.time.physicsElapsed,this.velocity.y*this.game.time.physicsElapsed),this.position.x+=this.newVelocity.x,this.position.y+=this.newVelocity.y,this.position.x===this.prev.x&&this.position.y===this.prev.y||(this.angle=Math.atan2(this.velocity.y,this.velocity.x)),this.speed=Math.sqrt(this.velocity.x*this.velocity.x+this.velocity.y*this.velocity.y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.onWorldBounds.dispatch(this.sprite,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)),this._dx=this.deltaX(),this._dy=this.deltaY(),this._reset=!1)},updateMovement:function(){var e,t=0,i=0!==this.overlapX||0!==this.overlapY,t=0<this.moveDuration?(this.moveTimer+=this.game.time.elapsedMS,this.moveTimer/this.moveDuration):(this.moveTarget.end.set(this.position.x,this.position.y),this.moveTarget.length/this.moveDistance);return this.movementCallback&&(e=this.movementCallback.call(this.movementCallbackContext,this,this.velocity,t)),!(i||1<=t||void 0!==e&&!0!==e)||(this.stopMovement(1<=t||this.stopVelocityOnCollide&&i),!1)},stopMovement:function(e){this.isMoving&&(this.isMoving=!1,e&&this.velocity.set(0),this.onMoveComplete.dispatch(this.sprite,0!==this.overlapX||0!==this.overlapY))},postUpdate:function(){this.enable&&this.dirty&&(this.isMoving&&this.updateMovement(),this.dirty=!1,this.deltaX()<0?this.facing=U.LEFT:0<this.deltaX()&&(this.facing=U.RIGHT),this.deltaY()<0?this.facing=U.UP:0<this.deltaY()&&(this.facing=U.DOWN),this.moves&&(this._dx=this.deltaX(),this._dy=this.deltaY(),0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:0<this._dx&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:0<this._dy&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.sprite.position.x+=this._dx,this.sprite.position.y+=this._dy,this._reset=!0),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.allowRotation&&(this.sprite.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y)},checkWorldBounds:function(){var e,t,i,n,r=this.position,o=this.game.physics.arcade.bounds,a=this.game.physics.arcade.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,p=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return this.isCircle?(e=this.center.x-this.radius,t=this.center.y-this.radius,i=this.center.x+this.radius,n=this.center.y+this.radius,e<o.x&&a.left?(r.x=o.x-this.halfWidth+this.radius,this.velocity.x*=s,this.blocked.left=!0):i>o.right&&a.right&&(r.x=o.right-this.halfWidth-this.radius,this.velocity.x*=s,this.blocked.right=!0),t<o.y&&a.up?(r.y=o.y-this.halfHeight+this.radius,this.velocity.y*=p,this.blocked.up=!0):n>o.bottom&&a.down&&(r.y=o.bottom-this.halfHeight-this.radius,this.velocity.y*=p,this.blocked.down=!0)):(r.x<o.x&&a.left?(r.x=o.x,this.velocity.x*=s,this.blocked.left=!0):this.right>o.right&&a.right&&(r.x=o.right-this.width,this.velocity.x*=s,this.blocked.right=!0),r.y<o.y&&a.up?(r.y=o.y,this.velocity.y*=p,this.blocked.up=!0):this.bottom>o.bottom&&a.down&&(r.y=o.bottom-this.height,this.velocity.y*=p,this.blocked.down=!0)),this.blocked.up||this.blocked.down||this.blocked.left||this.blocked.right},moveFrom:function(e,t,i){return 0!==(t=void 0===t?this.speed:t)&&(void 0===i?(n=this.angle,i=this.game.math.radToDeg(n)):n=this.game.math.degToRad(i),this.moveTimer=0,this.moveDuration=e,0===i||180===i?this.velocity.set(Math.cos(n)*t,0):90===i||270===i?this.velocity.set(0,Math.sin(n)*t):this.velocity.set(Math.cos(n)*t,Math.sin(n)*t),this.isMoving=!0);var n},moveTo:function(e,t,i){var n,e=t/(e/1e3);return 0!=e&&(void 0===i?(n=this.angle,i=this.game.math.radToDeg(n)):n=this.game.math.degToRad(i),t=Math.abs(t),this.moveDuration=0,this.moveDistance=t,null===this.moveTarget&&(this.moveTarget=new U.Line,this.moveEnd=new U.Point),this.moveTarget.fromAngle(this.x,this.y,n,t),this.moveEnd.set(this.moveTarget.end.x,this.moveTarget.end.y),this.moveTarget.setTo(this.x,this.y,this.x,this.y),0===i||180===i?this.velocity.set(Math.cos(n)*e,0):90===i||270===i?this.velocity.set(0,Math.sin(n)*e):this.velocity.set(Math.cos(n)*e,Math.sin(n)*e),this.isMoving=!0)},setSize:function(e,t,i,n){void 0===i&&(i=this.offset.x),void 0===n&&(n=this.offset.y),this.sourceWidth=e,this.sourceHeight=t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(i,n),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.isCircle=!1,this.radius=0},setCircle:function(e,t,i){void 0===t&&(t=this.offset.x),void 0===i&&(i=this.offset.y),0<e?(this.isCircle=!0,this.radius=e,this.sourceWidth=2*e,this.sourceHeight=2*e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(t,i),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight)):this.isCircle=!1},reset:function(e,t){this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this.position.x=e-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=t-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.prev.x=this.position.x,this.prev.y=this.position.y,this.rotation=this.sprite.angle,this.preRotation=this.rotation,this._sx=this.sprite.scale.x,this._sy=this.sprite.scale.y,this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},getBounds:function(e){return this.isCircle?(e.x=this.center.x-this.radius,e.y=this.center.y-this.radius,e.right=this.center.x+this.radius,e.bottom=this.center.y+this.radius):(e.x=this.x,e.y=this.y,e.right=this.right,e.bottom=this.bottom),e},hitTest:function(e,t){return(this.isCircle?U.Circle:U.Rectangle).contains(this,e,t)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return 0<this.deltaX()?this.deltaX():-this.deltaX()},deltaAbsY:function(){return 0<this.deltaY()?this.deltaY():-this.deltaY()},deltaX:function(){return this.position.x-this.prev.x},deltaY:function(){return this.position.y-this.prev.y},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.sprite.parent&&this.sprite.parent instanceof U.Group&&this.sprite.parent.removeFromHash(this.sprite),this.sprite.body=null,this.sprite=null}},Object.defineProperty(U.Physics.Arcade.Body.prototype,"left",{get:function(){return this.position.x}}),Object.defineProperty(U.Physics.Arcade.Body.prototype,"right",{get:function(){return this.position.x+this.width}}),Object.defineProperty(U.Physics.Arcade.Body.prototype,"top",{get:function(){return this.position.y}}),Object.defineProperty(U.Physics.Arcade.Body.prototype,"bottom",{get:function(){return this.position.y+this.height}}),Object.defineProperty(U.Physics.Arcade.Body.prototype,"x",{get:function(){return this.position.x},set:function(e){this.position.x=e}}),Object.defineProperty(U.Physics.Arcade.Body.prototype,"y",{get:function(){return this.position.y},set:function(e){this.position.y=e}}),U.Physics.Arcade.Body.render=function(e,t,i,n){void 0===n&&(n=!0),e.fillStyle=i=i||"rgba(0,255,0,0.4)",e.strokeStyle=i,t.isCircle?(e.beginPath(),e.arc(t.center.x-t.game.camera.x,t.center.y-t.game.camera.y,t.radius,0,2*Math.PI),n?e.fill():e.stroke()):n?e.fillRect(t.position.x-t.game.camera.x,t.position.y-t.game.camera.y,t.width,t.height):e.strokeRect(t.position.x-t.game.camera.x,t.position.y-t.game.camera.y,t.width,t.height)},U.Physics.Arcade.Body.renderBodyInfo=function(e,t){e.line("x: "+t.x.toFixed(2),"y: "+t.y.toFixed(2),"width: "+t.width,"height: "+t.height),e.line("velocity x: "+t.velocity.x.toFixed(2),"y: "+t.velocity.y.toFixed(2),"deltaX: "+t._dx.toFixed(2),"deltaY: "+t._dy.toFixed(2)),e.line("acceleration x: "+t.acceleration.x.toFixed(2),"y: "+t.acceleration.y.toFixed(2),"speed: "+t.speed.toFixed(2),"angle: "+t.angle.toFixed(2)),e.line("gravity x: "+t.gravity.x,"y: "+t.gravity.y,"bounce x: "+t.bounce.x.toFixed(2),"y: "+t.bounce.y.toFixed(2)),e.line("touching left: "+t.touching.left,"right: "+t.touching.right,"up: "+t.touching.up,"down: "+t.touching.down),e.line("blocked left: "+t.blocked.left,"right: "+t.blocked.right,"up: "+t.blocked.up,"down: "+t.blocked.down)},U.Physics.Arcade.Body.prototype.constructor=U.Physics.Arcade.Body,U.Physics.Arcade.TilemapCollision=function(){},U.Physics.Arcade.TilemapCollision.prototype={TILE_BIAS:16,collideSpriteVsTilemapLayer:function(e,t,i,n,r,o){if(e.body){var a=t.getTiles(e.body.position.x-e.body.tilePadding.x,e.body.position.y-e.body.tilePadding.y,e.body.width+e.body.tilePadding.x,e.body.height+e.body.tilePadding.y,!1,!1);if(0!==a.length)for(var s=0;s<a.length;s++)n?n.call(r,e,a[s])&&this.separateTile(s,e.body,a[s],t,o)&&(this._total++,i&&i.call(r,e,a[s])):this.separateTile(s,e.body,a[s],t,o)&&(this._total++,i&&i.call(r,e,a[s]))}},collideGroupVsTilemapLayer:function(e,t,i,n,r,o){if(0!==e.length)for(var a=0;a<e.children.length;a++)e.children[a].exists&&this.collideSpriteVsTilemapLayer(e.children[a],t,i,n,r,o)},separateTile:function(e,t,i,n,r){if(!t.enable)return!1;var o=n.fixedToCamera?0:n.position.x,a=n.fixedToCamera?0:n.position.y;if(!i.intersects(t.position.x-o,t.position.y-a,t.right-o,t.bottom-a))return!1;if(r)return!0;if(i.collisionCallback&&!i.collisionCallback.call(i.collisionCallbackContext,t.sprite,i))return!1;if(void 0!==i.layer.callbacks&&i.layer.callbacks[i.index]&&!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,t.sprite,i))return!1;if(!(i.faceLeft||i.faceRight||i.faceTop||i.faceBottom))return!1;var r=0,s=0,p=0,l=1;if(t.deltaAbsX()>t.deltaAbsY()?p=-1:t.deltaAbsX()<t.deltaAbsY()&&(l=-1),0!==t.deltaX()&&0!==t.deltaY()&&(i.faceLeft||i.faceRight)&&(i.faceTop||i.faceBottom)&&(p=Math.min(Math.abs(t.position.x-o-i.right),Math.abs(t.right-o-i.left)),l=Math.min(Math.abs(t.position.y-a-i.bottom),Math.abs(t.bottom-a-i.top))),p<l){if((i.faceLeft||i.faceRight)&&0!==(r=this.tileCheckX(t,i,n))&&!i.intersects(t.position.x-o,t.position.y-a,t.right-o,t.bottom-a))return!0;(i.faceTop||i.faceBottom)&&(s=this.tileCheckY(t,i,n))}else{if((i.faceTop||i.faceBottom)&&0!==(s=this.tileCheckY(t,i,n))&&!i.intersects(t.position.x-o,t.position.y-a,t.right-o,t.bottom-a))return!0;(i.faceLeft||i.faceRight)&&(r=this.tileCheckX(t,i,n))}return 0!==r||0!==s},tileCheckX:function(e,t,i){var n=0,i=i.fixedToCamera?0:i.position.x;return e.deltaX()<0&&!e.blocked.left&&t.collideRight&&e.checkCollision.left?t.faceRight&&e.x-i<t.right&&(n=e.x-i-t.right)<-this.TILE_BIAS&&(n=0):0<e.deltaX()&&!e.blocked.right&&t.collideLeft&&e.checkCollision.right&&t.faceLeft&&e.right-i>t.left&&(n=e.right-i-t.left)>this.TILE_BIAS&&(n=0),0!==n&&(e.customSeparateX?e.overlapX=n:this.processTileSeparationX(e,n)),n},tileCheckY:function(e,t,i){var n=0,i=i.fixedToCamera?0:i.position.y;return e.deltaY()<0&&!e.blocked.up&&t.collideDown&&e.checkCollision.up?t.faceBottom&&e.y-i<t.bottom&&(n=e.y-i-t.bottom)<-this.TILE_BIAS&&(n=0):0<e.deltaY()&&!e.blocked.down&&t.collideUp&&e.checkCollision.down&&t.faceTop&&e.bottom-i>t.top&&(n=e.bottom-i-t.top)>this.TILE_BIAS&&(n=0),0!==n&&(e.customSeparateY?e.overlapY=n:this.processTileSeparationY(e,n)),n},processTileSeparationX:function(e,t){t<0?e.blocked.left=!0:0<t&&(e.blocked.right=!0),e.position.x-=t,0===e.bounce.x?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x},processTileSeparationY:function(e,t){t<0?e.blocked.up=!0:0<t&&(e.blocked.down=!0),e.position.y-=t,0===e.bounce.y?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y}},U.Utils.mixinPrototype(U.Physics.Arcade.prototype,U.Physics.Arcade.TilemapCollision.prototype),p2.Body.prototype.parent=null,p2.Spring.prototype.parent=null,U.Physics.P2=function(e,t){this.game=e,void 0===t?t={gravity:[0,0],broadphase:new p2.SAPBroadphase}:(t.hasOwnProperty("gravity")||(t.gravity=[0,0]),t.hasOwnProperty("broadphase")||(t.broadphase=new p2.SAPBroadphase)),this.config=t,this.world=new p2.World(this.config),this.frameRate=1/60,this.useElapsedTime=!1,this.paused=!1,this.materials=[],this.gravity=new U.Physics.P2.InversePointProxy(this,this.world.gravity),this.walls={left:null,right:null,top:null,bottom:null},this.onBodyAdded=new U.Signal,this.onBodyRemoved=new U.Signal,this.onSpringAdded=new U.Signal,this.onSpringRemoved=new U.Signal,this.onConstraintAdded=new U.Signal,this.onConstraintRemoved=new U.Signal,this.onContactMaterialAdded=new U.Signal,this.onContactMaterialRemoved=new U.Signal,this.postBroadphaseCallback=null,this.callbackContext=null,this.onBeginContact=new U.Signal,this.onEndContact=new U.Signal,t.hasOwnProperty("mpx")&&t.hasOwnProperty("pxm")&&t.hasOwnProperty("mpxi")&&t.hasOwnProperty("pxmi")&&(this.mpx=t.mpx,this.mpxi=t.mpxi,this.pxm=t.pxm,this.pxmi=t.pxmi),this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.collisionGroups=[],this.nothingCollisionGroup=new U.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new U.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new U.Physics.P2.CollisionGroup(2147483648),this.boundsCollidesWith=[],this._toRemove=[],this._collisionGroupID=2,this._boundsLeft=!0,this._boundsRight=!0,this._boundsTop=!0,this._boundsBottom=!0,this._boundsOwnGroup=!1,this.setBoundsToWorld(!0,!0,!0,!0,!1)},U.Physics.P2.prototype={removeBodyNextStep:function(e){this._toRemove.push(e)},preUpdate:function(){for(var e=this._toRemove.length;e--;)this.removeBody(this._toRemove[e]);this._toRemove.length=0},enable:function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!0);var n=1;if(Array.isArray(e))for(n=e.length;n--;)e[n]instanceof U.Group?this.enable(e[n].children,t,i):(this.enableBody(e[n],t),i&&e[n].hasOwnProperty("children")&&0<e[n].children.length&&this.enable(e[n],t,!0));else e instanceof U.Group?this.enable(e.children,t,i):(this.enableBody(e,t),i&&e.hasOwnProperty("children")&&0<e.children.length&&this.enable(e.children,t,!0))},enableBody:function(e,t){e.hasOwnProperty("body")&&null===e.body&&(e.body=new U.Physics.P2.Body(this.game,e,e.x,e.y,1),e.body.debug=t,void 0!==e.anchor&&e.anchor.set(.5))},setImpactEvents:function(e){e?this.world.on("impact",this.impactHandler,this):this.world.off("impact",this.impactHandler,this)},setPostBroadphaseCallback:function(e,t){this.postBroadphaseCallback=e,this.callbackContext=t,null!==e?this.world.on("postBroadphase",this.postBroadphaseHandler,this):this.world.off("postBroadphase",this.postBroadphaseHandler,this)},postBroadphaseHandler:function(e){if(this.postBroadphaseCallback&&0!==e.pairs.length)for(var t=e.pairs.length-2;0<=t;t-=2)e.pairs[t].parent&&e.pairs[t+1].parent&&!this.postBroadphaseCallback.call(this.callbackContext,e.pairs[t].parent,e.pairs[t+1].parent)&&e.pairs.splice(t,2)},impactHandler:function(e){var t,i;e.bodyA.parent&&e.bodyB.parent&&(t=e.bodyA.parent,i=e.bodyB.parent,t._bodyCallbacks[e.bodyB.id]&&t._bodyCallbacks[e.bodyB.id].call(t._bodyCallbackContext[e.bodyB.id],t,i,e.shapeA,e.shapeB),i._bodyCallbacks[e.bodyA.id]&&i._bodyCallbacks[e.bodyA.id].call(i._bodyCallbackContext[e.bodyA.id],i,t,e.shapeB,e.shapeA),t._groupCallbacks[e.shapeB.collisionGroup]&&t._groupCallbacks[e.shapeB.collisionGroup].call(t._groupCallbackContext[e.shapeB.collisionGroup],t,i,e.shapeA,e.shapeB),i._groupCallbacks[e.shapeA.collisionGroup]&&i._groupCallbacks[e.shapeA.collisionGroup].call(i._groupCallbackContext[e.shapeA.collisionGroup],i,t,e.shapeB,e.shapeA))},beginContactHandler:function(e){e.bodyA&&e.bodyB&&(this.onBeginContact.dispatch(e.bodyA,e.bodyB,e.shapeA,e.shapeB,e.contactEquations),e.bodyA.parent&&e.bodyA.parent.onBeginContact.dispatch(e.bodyB.parent,e.bodyB,e.shapeA,e.shapeB,e.contactEquations),e.bodyB.parent&&e.bodyB.parent.onBeginContact.dispatch(e.bodyA.parent,e.bodyA,e.shapeB,e.shapeA,e.contactEquations))},endContactHandler:function(e){e.bodyA&&e.bodyB&&(this.onEndContact.dispatch(e.bodyA,e.bodyB,e.shapeA,e.shapeB),e.bodyA.parent&&e.bodyA.parent.onEndContact.dispatch(e.bodyB.parent,e.bodyB,e.shapeA,e.shapeB),e.bodyB.parent&&e.bodyB.parent.onEndContact.dispatch(e.bodyA.parent,e.bodyA,e.shapeB,e.shapeA))},setBoundsToWorld:function(e,t,i,n,r){this.setBounds(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,e,t,i,n,r)},setWorldMaterial:function(e,t,i,n,r){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),(t=void 0===t?!0:t)&&this.walls.left&&(this.walls.left.shapes[0].material=e),i&&this.walls.right&&(this.walls.right.shapes[0].material=e),n&&this.walls.top&&(this.walls.top.shapes[0].material=e),r&&this.walls.bottom&&(this.walls.bottom.shapes[0].material=e)},updateBoundsCollisionGroup:function(e){var t=((e=void 0===e?!0:e)?this.boundsCollisionGroup:this.everythingCollisionGroup).mask;this.walls.left&&(this.walls.left.shapes[0].collisionGroup=t),this.walls.right&&(this.walls.right.shapes[0].collisionGroup=t),this.walls.top&&(this.walls.top.shapes[0].collisionGroup=t),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionGroup=t),this._boundsOwnGroup=e},setBounds:function(e,t,i,n,r,o,a,s,p){void 0===r&&(r=this._boundsLeft),void 0===o&&(o=this._boundsRight),void 0===a&&(a=this._boundsTop),void 0===s&&(s=this._boundsBottom),void 0===p&&(p=this._boundsOwnGroup),this.setupWall(r,"left",e,t,1.5707963267948966,p),this.setupWall(o,"right",e+i,t,-1.5707963267948966,p),this.setupWall(a,"top",e,t,-3.141592653589793,p),this.setupWall(s,"bottom",e,t+n,0,p),this._boundsLeft=r,this._boundsRight=o,this._boundsTop=a,this._boundsBottom=s,this._boundsOwnGroup=p},setupWall:function(e,t,i,n,r,o){e?(this.walls[t]?this.walls[t].position=[this.pxmi(i),this.pxmi(n)]:(this.walls[t]=new p2.Body({mass:0,position:[this.pxmi(i),this.pxmi(n)],angle:r}),this.walls[t].addShape(new p2.Plane),this.world.addBody(this.walls[t])),o&&(this.walls[t].shapes[0].collisionGroup=this.boundsCollisionGroup.mask)):this.walls[t]&&(this.world.removeBody(this.walls[t]),this.walls[t]=null)},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this.useElapsedTime?this.world.step(this.game.time.physicsElapsed):this.world.step(this.frameRate))},reset:function(){this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.nothingCollisionGroup=new U.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new U.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new U.Physics.P2.CollisionGroup(2147483648),this._collisionGroupID=2,this.setBoundsToWorld(!0,!0,!0,!0,!1)},clear:function(){this.world.time=0,this.world.fixedStepTime=0,this.world.solver&&this.world.solver.equations.length&&this.world.solver.removeAllEquations();for(var e=this.world.constraints,t=e.length-1;0<=t;t--)this.world.removeConstraint(e[t]);for(var i=this.world.bodies,t=i.length-1;0<=t;t--)this.world.removeBody(i[t]);for(var n=this.world.springs,t=n.length-1;0<=t;t--)this.world.removeSpring(n[t]);for(var r=this.world.contactMaterials,t=r.length-1;0<=t;t--)this.world.removeContactMaterial(r[t]);this.world.off("beginContact",this.beginContactHandler,this),this.world.off("endContact",this.endContactHandler,this),this.postBroadphaseCallback=null,this.callbackContext=null,this.impactCallback=null,this.collisionGroups=[],this._toRemove=[],this.boundsCollidesWith=[],this.walls={left:null,right:null,top:null,bottom:null}},destroy:function(){this.clear(),this.game=null},addBody:function(e){return!e.data.world&&(this.world.addBody(e.data),this.onBodyAdded.dispatch(e),!0)},removeBody:function(e){return e.data.world===this.world&&(this.world.removeBody(e.data),this.onBodyRemoved.dispatch(e)),e},addSpring:function(e){return e instanceof U.Physics.P2.Spring||e instanceof U.Physics.P2.RotationalSpring?this.world.addSpring(e.data):this.world.addSpring(e),this.onSpringAdded.dispatch(e),e},removeSpring:function(e){return e instanceof U.Physics.P2.Spring||e instanceof U.Physics.P2.RotationalSpring?this.world.removeSpring(e.data):this.world.removeSpring(e),this.onSpringRemoved.dispatch(e),e},createDistanceConstraint:function(e,t,i,n,r,o){if(e=this.getBody(e),t=this.getBody(t),e&&t)return this.addConstraint(new U.Physics.P2.DistanceConstraint(this,e,t,i,n,r,o))},createGearConstraint:function(e,t,i,n){if(e=this.getBody(e),t=this.getBody(t),e&&t)return this.addConstraint(new U.Physics.P2.GearConstraint(this,e,t,i,n))},createRevoluteConstraint:function(e,t,i,n,r,o){if(e=this.getBody(e),i=this.getBody(i),e&&i)return this.addConstraint(new U.Physics.P2.RevoluteConstraint(this,e,t,i,n,r,o))},createLockConstraint:function(e,t,i,n,r){if(e=this.getBody(e),t=this.getBody(t),e&&t)return this.addConstraint(new U.Physics.P2.LockConstraint(this,e,t,i,n,r))},createPrismaticConstraint:function(e,t,i,n,r,o,a){if(e=this.getBody(e),t=this.getBody(t),e&&t)return this.addConstraint(new U.Physics.P2.PrismaticConstraint(this,e,t,i,n,r,o,a))},addConstraint:function(e){return this.world.addConstraint(e),this.onConstraintAdded.dispatch(e),e},removeConstraint:function(e){return this.world.removeConstraint(e),this.onConstraintRemoved.dispatch(e),e},addContactMaterial:function(e){return this.world.addContactMaterial(e),this.onContactMaterialAdded.dispatch(e),e},removeContactMaterial:function(e){return this.world.removeContactMaterial(e),this.onContactMaterialRemoved.dispatch(e),e},getContactMaterial:function(e,t){return this.world.getContactMaterial(e,t)},setMaterial:function(e,t){for(var i=t.length;i--;)t[i].setMaterial(e)},createMaterial:function(e,t){e=new U.Physics.P2.Material(e=e||"");return this.materials.push(e),void 0!==t&&t.setMaterial(e),e},createContactMaterial:function(e,t,i){void 0===e&&(e=this.createMaterial()),void 0===t&&(t=this.createMaterial());e=new U.Physics.P2.ContactMaterial(e,t,i);return this.addContactMaterial(e)},getBodies:function(){for(var e=[],t=this.world.bodies.length;t--;)e.push(this.world.bodies[t].parent);return e},getBody:function(e){return e instanceof p2.Body?e:e instanceof U.Physics.P2.Body?e.data:e.body&&e.body.type===U.Physics.P2JS?e.body.data:null},getSprings:function(){for(var e=[],t=this.world.springs.length;t--;)e.push(this.world.springs[t].parent);return e},getConstraints:function(){for(var e=[],t=this.world.constraints.length;t--;)e.push(this.world.constraints[t]);return e},hitTest:function(e,t,i,n){void 0===t&&(t=this.world.bodies),void 0===i&&(i=5),void 0===n&&(n=!1);for(var e=[this.pxmi(e.x),this.pxmi(e.y)],r=[],o=t.length;o--;)t[o]instanceof U.Physics.P2.Body&&(!n||t[o].data.type!==p2.Body.STATIC)?r.push(t[o].data):t[o]instanceof p2.Body&&t[o].parent&&(!n||t[o].type!==p2.Body.STATIC)?r.push(t[o]):t[o]instanceof U.Sprite&&t[o].hasOwnProperty("body")&&(!n||t[o].body.data.type!==p2.Body.STATIC)&&r.push(t[o].body.data);return this.world.hitTest(e,r,i)},toJSON:function(){return this.world.toJSON()},createCollisionGroup:function(e){var t=Math.pow(2,this._collisionGroupID),t=(this.walls.left&&(this.walls.left.shapes[0].collisionMask=this.walls.left.shapes[0].collisionMask|t),this.walls.right&&(this.walls.right.shapes[0].collisionMask=this.walls.right.shapes[0].collisionMask|t),this.walls.top&&(this.walls.top.shapes[0].collisionMask=this.walls.top.shapes[0].collisionMask|t),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionMask=this.walls.bottom.shapes[0].collisionMask|t),this._collisionGroupID++,new U.Physics.P2.CollisionGroup(t));return this.collisionGroups.push(t),e&&this.setCollisionGroup(e,t),t},setCollisionGroup:function(e,t){if(e instanceof U.Group)for(var i=0;i<e.total;i++)e.children[i].body&&e.children[i].body.type===U.Physics.P2JS&&e.children[i].body.setCollisionGroup(t);else e.body.setCollisionGroup(t)},createSpring:function(e,t,i,n,r,o,a,s,p){if(e=this.getBody(e),t=this.getBody(t),e&&t)return this.addSpring(new U.Physics.P2.Spring(this,e,t,i,n,r,o,a,s,p))},createRotationalSpring:function(e,t,i,n,r){if(e=this.getBody(e),t=this.getBody(t),e&&t)return this.addSpring(new U.Physics.P2.RotationalSpring(this,e,t,i,n,r))},createBody:function(e,t,i,n,r,o){void 0===n&&(n=!1);e=new U.Physics.P2.Body(this.game,null,e,t,i);if(o&&!e.addPolygon(r,o))return!1;return n&&this.world.addBody(e.data),e},createParticle:function(e,t,i,n,r,o){void 0===n&&(n=!1);e=new U.Physics.P2.Body(this.game,null,e,t,i);if(o&&!e.addPolygon(r,o))return!1;return n&&this.world.addBody(e.data),e},convertCollisionObjects:function(e,t,i){void 0===i&&(i=!0);for(var n=[],r=0,o=e.collision[t].length;r<o;r++){var a=e.collision[t][r],a=this.createBody(a.x,a.y,0,i,{},a.polyline);a&&n.push(a)}return n},clearTilemapLayerBodies:function(e,t){t=e.getLayer(t);for(var i=e.layers[t].bodies.length;i--;)e.layers[t].bodies[i].destroy();e.layers[t].bodies.length=0},convertTilemap:function(e,t,i,n){t=e.getLayer(t),void 0===i&&(i=!0),void 0===n&&(n=!0),this.clearTilemapLayerBodies(e,t);for(var r=0,o=0,a=0,s=0,p=e.layers[t].height;s<p;s++)for(var r=0,l=0,h=e.layers[t].width;l<h;l++){var u,d,c=e.layers[t].data[s][l];c&&-1<c.index&&c.collides&&(n?(u=e.getTileRight(t,l,s),0===r&&(o=c.x*c.width,a=c.y*c.height,r=c.width),u&&u.collides?r+=c.width:((d=this.createBody(o,a,0,!1)).addRectangle(r,c.height,r/2,c.height/2,0),i&&this.addBody(d),e.layers[t].bodies.push(d),r=0)):((d=this.createBody(c.x*c.width,c.y*c.height,0,!1)).addRectangle(c.width,c.height,c.width/2,c.height/2,0),i&&this.addBody(d),e.layers[t].bodies.push(d)))}return e.layers[t].bodies},mpx:function(e){return 20*e},pxm:function(e){return.05*e},mpxi:function(e){return-20*e},pxmi:function(e){return-.05*e}},Object.defineProperty(U.Physics.P2.prototype,"friction",{get:function(){return this.world.defaultContactMaterial.friction},set:function(e){this.world.defaultContactMaterial.friction=e}}),Object.defineProperty(U.Physics.P2.prototype,"restitution",{get:function(){return this.world.defaultContactMaterial.restitution},set:function(e){this.world.defaultContactMaterial.restitution=e}}),Object.defineProperty(U.Physics.P2.prototype,"contactMaterial",{get:function(){return this.world.defaultContactMaterial},set:function(e){this.world.defaultContactMaterial=e}}),Object.defineProperty(U.Physics.P2.prototype,"applySpringForces",{get:function(){return this.world.applySpringForces},set:function(e){this.world.applySpringForces=e}}),Object.defineProperty(U.Physics.P2.prototype,"applyDamping",{get:function(){return this.world.applyDamping},set:function(e){this.world.applyDamping=e}}),Object.defineProperty(U.Physics.P2.prototype,"applyGravity",{get:function(){return this.world.applyGravity},set:function(e){this.world.applyGravity=e}}),Object.defineProperty(U.Physics.P2.prototype,"solveConstraints",{get:function(){return this.world.solveConstraints},set:function(e){this.world.solveConstraints=e}}),Object.defineProperty(U.Physics.P2.prototype,"time",{get:function(){return this.world.time}}),Object.defineProperty(U.Physics.P2.prototype,"emitImpactEvent",{get:function(){return this.world.emitImpactEvent},set:function(e){this.world.emitImpactEvent=e}}),Object.defineProperty(U.Physics.P2.prototype,"sleepMode",{get:function(){return this.world.sleepMode},set:function(e){this.world.sleepMode=e}}),Object.defineProperty(U.Physics.P2.prototype,"total",{get:function(){return this.world.bodies.length}}),U.Physics.P2.FixtureList=function(e){Array.isArray(e)||(e=[e]),this.rawList=e,this.init(),this.parse(this.rawList)},U.Physics.P2.FixtureList.prototype={init:function(){this.namedFixtures={},this.groupedFixtures=[],this.allFixtures=[]},setCategory:function(t,e){this.getFixtures(e).forEach(function(e){e.collisionGroup=t})},setMask:function(t,e){this.getFixtures(e).forEach(function(e){e.collisionMask=t})},setSensor:function(t,e){this.getFixtures(e).forEach(function(e){e.sensor=t})},setMaterial:function(t,e){this.getFixtures(e).forEach(function(e){e.material=t})},getFixtures:function(e){var t,i=[];return e?(e instanceof Array||(e=[e]),t=this,e.forEach(function(e){t.namedFixtures[e]&&i.push(t.namedFixtures[e])}),this.flatten(i)):this.allFixtures},getFixtureByKey:function(e){return this.namedFixtures[e]},getGroup:function(e){return this.groupedFixtures[e]},parse:function(){var e,t,i=this.rawList,n=[];for(e in i)t=i[e],isNaN(+e)?this.namedFixtures[e]=this.flatten(t):(this.groupedFixtures[e]=this.groupedFixtures[e]||[],this.groupedFixtures[e]=this.groupedFixtures[e].concat(t)),n.push(this.allFixtures=this.flatten(this.groupedFixtures))},flatten:function(e){var t=[],i=arguments.callee;return e.forEach(function(e){return Array.prototype.push.apply(t,Array.isArray(e)?i(e):[e])}),t}},U.Physics.P2.PointProxy=function(e,t){this.world=e,this.destination=t},U.Physics.P2.PointProxy.prototype.constructor=U.Physics.P2.PointProxy,Object.defineProperty(U.Physics.P2.PointProxy.prototype,"x",{get:function(){return this.world.mpx(this.destination[0])},set:function(e){this.destination[0]=this.world.pxm(e)}}),Object.defineProperty(U.Physics.P2.PointProxy.prototype,"y",{get:function(){return this.world.mpx(this.destination[1])},set:function(e){this.destination[1]=this.world.pxm(e)}}),Object.defineProperty(U.Physics.P2.PointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(e){this.destination[0]=e}}),Object.defineProperty(U.Physics.P2.PointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(e){this.destination[1]=e}}),U.Physics.P2.InversePointProxy=function(e,t){this.world=e,this.destination=t},U.Physics.P2.InversePointProxy.prototype.constructor=U.Physics.P2.InversePointProxy,Object.defineProperty(U.Physics.P2.InversePointProxy.prototype,"x",{get:function(){return this.world.mpxi(this.destination[0])},set:function(e){this.destination[0]=this.world.pxmi(e)}}),Object.defineProperty(U.Physics.P2.InversePointProxy.prototype,"y",{get:function(){return this.world.mpxi(this.destination[1])},set:function(e){this.destination[1]=this.world.pxmi(e)}}),Object.defineProperty(U.Physics.P2.InversePointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(e){this.destination[0]=-e}}),Object.defineProperty(U.Physics.P2.InversePointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(e){this.destination[1]=-e}}),U.Physics.P2.Body=function(e,t,i,n,r){t=t||null,i=i||0,n=n||0,void 0===r&&(r=1),this.game=e,this.world=e.physics.p2,this.sprite=t,this.type=U.Physics.P2JS,this.offset=new U.Point,this.data=new p2.Body({position:[this.world.pxmi(i),this.world.pxmi(n)],mass:r}),(this.data.parent=this).velocity=new U.Physics.P2.InversePointProxy(this.world,this.data.velocity),this.force=new U.Physics.P2.InversePointProxy(this.world,this.data.force),this.gravity=new U.Point,this.onBeginContact=new U.Signal,this.onEndContact=new U.Signal,this.collidesWith=[],this.removeNextStep=!1,this.debugBody=null,this.dirty=!1,this._collideWorldBounds=!0,this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this._reset=!1,t&&(this.setRectangleFromSprite(t),t.exists&&this.game.physics.p2.addBody(this))},U.Physics.P2.Body.prototype={createBodyCallback:function(e,t,i){var n=-1;e.id?n=e.id:e.body&&(n=e.body.id),-1<n&&(null===t?(delete this._bodyCallbacks[n],delete this._bodyCallbackContext[n]):(this._bodyCallbacks[n]=t,this._bodyCallbackContext[n]=i))},createGroupCallback:function(e,t,i){null===t?(delete this._groupCallbacks[e.mask],delete this._groupCallbackContext[e.mask]):(this._groupCallbacks[e.mask]=t,this._groupCallbackContext[e.mask]=i)},getCollisionMask:function(){var e=0;this._collideWorldBounds&&(e=this.game.physics.p2.boundsCollisionGroup.mask);for(var t=0;t<this.collidesWith.length;t++)e|=this.collidesWith[t].mask;return e},updateCollisionMask:function(e){var t=this.getCollisionMask();if(void 0===e)for(var i=this.data.shapes.length-1;0<=i;i--)this.data.shapes[i].collisionMask=t;else e.collisionMask=t},setCollisionGroup:function(e,t){var i=this.getCollisionMask();if(void 0===t)for(var n=this.data.shapes.length-1;0<=n;n--)this.data.shapes[n].collisionGroup=e.mask,this.data.shapes[n].collisionMask=i;else t.collisionGroup=e.mask,t.collisionMask=i},clearCollision:function(e,t,i){if(void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i)for(var n=this.data.shapes.length-1;0<=n;n--)e&&(this.data.shapes[n].collisionGroup=null),t&&(this.data.shapes[n].collisionMask=null);else e&&(i.collisionGroup=null),t&&(i.collisionMask=null);e&&(this.collidesWith.length=0)},removeCollisionGroup:function(e,t,i){var n;if(void 0===t&&(t=!0),Array.isArray(e))for(var r=0;r<e.length;r++)-1<(n=this.collidesWith.indexOf(e[r]))&&(this.collidesWith.splice(n,1),t&&(delete this._groupCallbacks[e.mask],delete this._groupCallbackContext[e.mask]));else-1<(n=this.collidesWith.indexOf(e))&&(this.collidesWith.splice(n,1),t&&(delete this._groupCallbacks[e.mask],delete this._groupCallbackContext[e.mask]));var o=this.getCollisionMask();if(void 0===i)for(r=this.data.shapes.length-1;0<=r;r--)this.data.shapes[r].collisionMask=o;else i.collisionMask=o},collides:function(e,t,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)-1===this.collidesWith.indexOf(e[r])&&(this.collidesWith.push(e[r]),t&&this.createGroupCallback(e[r],t,i));else-1===this.collidesWith.indexOf(e)&&(this.collidesWith.push(e),t&&this.createGroupCallback(e,t,i));var o=this.getCollisionMask();if(void 0===n)for(r=this.data.shapes.length-1;0<=r;r--)this.data.shapes[r].collisionMask=o;else n.collisionMask=o},adjustCenterOfMass:function(){this.data.adjustCenterOfMass(),this.shapeChanged()},getVelocityAtPoint:function(e,t){return this.data.getVelocityAtPoint(e,t)},applyDamping:function(e){this.data.applyDamping(e)},applyImpulse:function(e,t,i){this.data.applyImpulse(e,[this.world.pxmi(t),this.world.pxmi(i)])},applyImpulseLocal:function(e,t,i){this.data.applyImpulseLocal(e,[this.world.pxmi(t),this.world.pxmi(i)])},applyForce:function(e,t,i){this.data.applyForce(e,[this.world.pxmi(t),this.world.pxmi(i)])},setZeroForce:function(){this.data.setZeroForce()},setZeroRotation:function(){this.data.angularVelocity=0},setZeroVelocity:function(){this.data.velocity[0]=0,this.data.velocity[1]=0},setZeroDamping:function(){this.data.damping=0,this.data.angularDamping=0},toLocalFrame:function(e,t){return this.data.toLocalFrame(e,t)},toWorldFrame:function(e,t){return this.data.toWorldFrame(e,t)},rotateLeft:function(e){this.data.angularVelocity=this.world.pxm(-e)},rotateRight:function(e){this.data.angularVelocity=this.world.pxm(e)},moveForward:function(e){var e=this.world.pxmi(-e),t=this.data.angle+Math.PI/2;this.data.velocity[0]=e*Math.cos(t),this.data.velocity[1]=e*Math.sin(t)},moveBackward:function(e){var e=this.world.pxmi(-e),t=this.data.angle+Math.PI/2;this.data.velocity[0]=-(e*Math.cos(t)),this.data.velocity[1]=-(e*Math.sin(t))},thrust:function(e){var e=this.world.pxmi(-e),t=this.data.angle+Math.PI/2;this.data.force[0]+=e*Math.cos(t),this.data.force[1]+=e*Math.sin(t)},thrustLeft:function(e){var e=this.world.pxmi(-e),t=this.data.angle;this.data.force[0]+=e*Math.cos(t),this.data.force[1]+=e*Math.sin(t)},thrustRight:function(e){var e=this.world.pxmi(-e),t=this.data.angle;this.data.force[0]-=e*Math.cos(t),this.data.force[1]-=e*Math.sin(t)},reverse:function(e){var e=this.world.pxmi(-e),t=this.data.angle+Math.PI/2;this.data.force[0]-=e*Math.cos(t),this.data.force[1]-=e*Math.sin(t)},moveLeft:function(e){this.data.velocity[0]=this.world.pxmi(-e)},moveRight:function(e){this.data.velocity[0]=this.world.pxmi(e)},moveUp:function(e){this.data.velocity[1]=this.world.pxmi(-e)},moveDown:function(e){this.data.velocity[1]=this.world.pxmi(e)},preUpdate:function(){this.dirty=!0,this.removeNextStep&&(this.removeFromWorld(),this.removeNextStep=!1)},postUpdate:function(){this.sprite.x=this.world.mpxi(this.data.position[0])+this.offset.x,this.sprite.y=this.world.mpxi(this.data.position[1])+this.offset.y,this.fixedRotation||(this.sprite.rotation=this.data.angle),this.debugBody&&this.debugBody.updateSpriteTransform(),this.dirty=!1},reset:function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),this.setZeroForce(),this.setZeroVelocity(),this.setZeroRotation(),i&&this.setZeroDamping(),n&&(this.mass=1),this.x=e,this.y=t},addToWorld:function(){if(this.game.physics.p2._toRemove)for(var e=0;e<this.game.physics.p2._toRemove.length;e++)this.game.physics.p2._toRemove[e]===this&&this.game.physics.p2._toRemove.splice(e,1);this.data.world!==this.game.physics.p2.world&&this.game.physics.p2.addBody(this)},removeFromWorld:function(){this.data.world===this.game.physics.p2.world&&this.game.physics.p2.removeBodyNextStep(this)},destroy:function(){this.removeFromWorld(),this.clearShapes(),this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this.debugBody&&this.debugBody.destroy(!0,!0),this.debugBody=null,this.sprite&&(this.sprite.body=null,this.sprite=null)},clearShapes:function(){for(var e=this.data.shapes.length;e--;)this.data.removeShape(this.data.shapes[e]);this.shapeChanged()},addShape:function(e,t,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this.data.addShape(e,[this.world.pxmi(t=void 0===t?0:t),this.world.pxmi(i)],n),this.shapeChanged(),e},addCircle:function(e,t,i,n){e=new p2.Circle({radius:this.world.pxm(e)});return this.addShape(e,t,i,n)},addRectangle:function(e,t,i,n,r){e=new p2.Box({width:this.world.pxm(e),height:this.world.pxm(t)});return this.addShape(e,i,n,r)},addPlane:function(e,t,i){var n=new p2.Plane;return this.addShape(n,e,t,i)},addParticle:function(e,t,i){var n=new p2.Particle;return this.addShape(n,e,t,i)},addLine:function(e,t,i,n){e=new p2.Line({length:this.world.pxm(e)});return this.addShape(e,t,i,n)},addCapsule:function(e,t,i,n,r){e=new p2.Capsule({length:this.world.pxm(e),radius:this.world.pxm(t)});return this.addShape(e,i,n,r)},addPolygon:function(e,t){e=e||{};var i=[];if(1===(t=Array.isArray(t)?t:Array.prototype.slice.call(arguments,1)).length&&Array.isArray(t[0]))i=t[0].slice(0);else if(Array.isArray(t[0]))i=t.slice();else if("number"==typeof t[0])for(var n=0,r=t.length;n<r;n+=2)i.push([t[n],t[n+1]]);var o=i.length-1;i[o][0]===i[0][0]&&i[o][1]===i[0][1]&&i.pop();for(var a=0;a<i.length;a++)i[a][0]=this.world.pxmi(i[a][0]),i[a][1]=this.world.pxmi(i[a][1]);o=this.data.fromPolygon(i,e);return this.shapeChanged(),o},removeShape:function(e){e=this.data.removeShape(e);return this.shapeChanged(),e},setCircle:function(e,t,i,n){return this.clearShapes(),this.addCircle(e,t,i,n)},setRectangle:function(e,t,i,n,r){return void 0===e&&(e=16),void 0===t&&(t=16),this.clearShapes(),this.addRectangle(e,t,i,n,r)},setRectangleFromSprite:function(e){return void 0===e&&(e=this.sprite),this.clearShapes(),this.addRectangle(e.width,e.height,0,0,e.rotation)},setMaterial:function(e,t){if(void 0===t)for(var i=this.data.shapes.length-1;0<=i;i--)this.data.shapes[i].material=e;else t.material=e},shapeChanged:function(){this.debugBody&&this.debugBody.draw()},addPhaserPolygon:function(e,t){for(var i=this.game.cache.getPhysicsData(e,t),n=[],r=0;r<i.length;r++){var o=i[r],a=this.addFixture(o);n[o.filter.group]=n[o.filter.group]||[],n[o.filter.group]=n[o.filter.group].concat(a),o.fixtureKey&&(n[o.fixtureKey]=a)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),n},addFixture:function(e){var t=[];if(e.circle){(l=new p2.Circle({radius:this.world.pxm(e.circle.radius)})).collisionGroup=e.filter.categoryBits,l.collisionMask=e.filter.maskBits,l.sensor=e.isSensor;var i=p2.vec2.create();i[0]=this.world.pxmi(e.circle.position[0]-this.sprite.width/2),i[1]=this.world.pxmi(e.circle.position[1]-this.sprite.height/2),this.data.addShape(l,i),t.push(l)}else for(var n=e.polygons,r=p2.vec2.create(),o=0;o<n.length;o++){for(var a=n[o],s=[],p=0;p<a.length;p+=2)s.push([this.world.pxmi(a[p]),this.world.pxmi(a[p+1])]);for(var l=new p2.Convex({vertices:s}),h=0;h!==l.vertices.length;h++){var u=l.vertices[h];p2.vec2.sub(u,u,l.centerOfMass)}p2.vec2.scale(r,l.centerOfMass,1),r[0]-=this.world.pxmi(this.sprite.width/2),r[1]-=this.world.pxmi(this.sprite.height/2),l.updateTriangles(),l.updateCenterOfMass(),l.updateBoundingRadius(),l.collisionGroup=e.filter.categoryBits,l.collisionMask=e.filter.maskBits,l.sensor=e.isSensor,this.data.addShape(l,r),t.push(l)}return t},loadPolygon:function(e,t){i=null===e?t:this.game.cache.getPhysicsData(e,t);for(var i,n=p2.vec2.create(),r=0;r<i.length;r++){for(var o=[],a=0;a<i[r].shape.length;a+=2)o.push([this.world.pxmi(i[r].shape[a]),this.world.pxmi(i[r].shape[a+1])]);for(var s=new p2.Convex({vertices:o}),p=0;p!==s.vertices.length;p++){var l=s.vertices[p];p2.vec2.sub(l,l,s.centerOfMass)}p2.vec2.scale(n,s.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),s.updateTriangles(),s.updateCenterOfMass(),s.updateBoundingRadius(),this.data.addShape(s,n)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),!0}},U.Physics.P2.Body.prototype.constructor=U.Physics.P2.Body,U.Physics.P2.Body.DYNAMIC=1,U.Physics.P2.Body.STATIC=2,U.Physics.P2.Body.KINEMATIC=4,Object.defineProperty(U.Physics.P2.Body.prototype,"static",{get:function(){return this.data.type===U.Physics.P2.Body.STATIC},set:function(e){e&&this.data.type!==U.Physics.P2.Body.STATIC?(this.data.type=U.Physics.P2.Body.STATIC,this.mass=0):e||this.data.type!==U.Physics.P2.Body.STATIC||(this.data.type=U.Physics.P2.Body.DYNAMIC,this.mass=1)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"dynamic",{get:function(){return this.data.type===U.Physics.P2.Body.DYNAMIC},set:function(e){e&&this.data.type!==U.Physics.P2.Body.DYNAMIC?(this.data.type=U.Physics.P2.Body.DYNAMIC,this.mass=1):e||this.data.type!==U.Physics.P2.Body.DYNAMIC||(this.data.type=U.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"kinematic",{get:function(){return this.data.type===U.Physics.P2.Body.KINEMATIC},set:function(e){e&&this.data.type!==U.Physics.P2.Body.KINEMATIC?(this.data.type=U.Physics.P2.Body.KINEMATIC,this.mass=4):e||this.data.type!==U.Physics.P2.Body.KINEMATIC||(this.data.type=U.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"allowSleep",{get:function(){return this.data.allowSleep},set:function(e){e!==this.data.allowSleep&&(this.data.allowSleep=e)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"angle",{get:function(){return U.Math.wrapAngle(U.Math.radToDeg(this.data.angle))},set:function(e){this.data.angle=U.Math.degToRad(U.Math.wrapAngle(e))}}),Object.defineProperty(U.Physics.P2.Body.prototype,"angularDamping",{get:function(){return this.data.angularDamping},set:function(e){this.data.angularDamping=e}}),Object.defineProperty(U.Physics.P2.Body.prototype,"angularForce",{get:function(){return this.data.angularForce},set:function(e){this.data.angularForce=e}}),Object.defineProperty(U.Physics.P2.Body.prototype,"angularVelocity",{get:function(){return this.data.angularVelocity},set:function(e){this.data.angularVelocity=e}}),Object.defineProperty(U.Physics.P2.Body.prototype,"damping",{get:function(){return this.data.damping},set:function(e){this.data.damping=e}}),Object.defineProperty(U.Physics.P2.Body.prototype,"fixedRotation",{get:function(){return this.data.fixedRotation},set:function(e){e!==this.data.fixedRotation&&(this.data.fixedRotation=e)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"inertia",{get:function(){return this.data.inertia},set:function(e){this.data.inertia=e}}),Object.defineProperty(U.Physics.P2.Body.prototype,"mass",{get:function(){return this.data.mass},set:function(e){e!==this.data.mass&&(this.data.mass=e,this.data.updateMassProperties())}}),Object.defineProperty(U.Physics.P2.Body.prototype,"motionState",{get:function(){return this.data.type},set:function(e){e!==this.data.type&&(this.data.type=e)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"rotation",{get:function(){return this.data.angle},set:function(e){this.data.angle=e}}),Object.defineProperty(U.Physics.P2.Body.prototype,"sleepSpeedLimit",{get:function(){return this.data.sleepSpeedLimit},set:function(e){this.data.sleepSpeedLimit=e}}),Object.defineProperty(U.Physics.P2.Body.prototype,"x",{get:function(){return this.world.mpxi(this.data.position[0])},set:function(e){this.data.position[0]=this.world.pxmi(e)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"y",{get:function(){return this.world.mpxi(this.data.position[1])},set:function(e){this.data.position[1]=this.world.pxmi(e)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"id",{get:function(){return this.data.id}}),Object.defineProperty(U.Physics.P2.Body.prototype,"debug",{get:function(){return null!==this.debugBody},set:function(e){e&&!this.debugBody?this.debugBody=new U.Physics.P2.BodyDebug(this.game,this.data):!e&&this.debugBody&&(this.debugBody.destroy(),this.debugBody=null)}}),Object.defineProperty(U.Physics.P2.Body.prototype,"collideWorldBounds",{get:function(){return this._collideWorldBounds},set:function(e){e&&!this._collideWorldBounds?(this._collideWorldBounds=!0,this.updateCollisionMask()):!e&&this._collideWorldBounds&&(this._collideWorldBounds=!1,this.updateCollisionMask())}}),U.Physics.P2.BodyDebug=function(e,t,i){U.Group.call(this,e);var n={pixelsPerLengthUnit:e.physics.p2.mpx(1),debugPolygons:!1,lineWidth:1,alpha:.5};this.settings=U.Utils.extend(n,i),this.ppu=this.settings.pixelsPerLengthUnit,this.ppu=-1*this.ppu,this.body=t,this.canvas=new U.Graphics(e),this.canvas.alpha=this.settings.alpha,this.add(this.canvas),this.draw(),this.updateSpriteTransform()},U.Physics.P2.BodyDebug.prototype=Object.create(U.Group.prototype),U.Physics.P2.BodyDebug.prototype.constructor=U.Physics.P2.BodyDebug,U.Utils.extend(U.Physics.P2.BodyDebug.prototype,{updateSpriteTransform:function(){this.position.x=this.body.position[0]*this.ppu,this.position.y=this.body.position[1]*this.ppu,this.rotation=this.body.angle},draw:function(){var e,t,i,n,r,o,a,s,p,l,h,u,d=this.body,c=this.canvas;if(c.clear(),i=parseInt(this.randomPastelHex(),16),r=16711680,o=this.lineWidth,d instanceof p2.Body&&d.shapes.length)for(var m=d.shapes.length,y=0;y!==m;){if(a=(t=d.shapes[y]).position||0,e=t.angle||0,t instanceof p2.Circle)this.drawCircle(c,a[0]*this.ppu,a[1]*this.ppu,e,t.radius*this.ppu,i,o);else if(t instanceof p2.Capsule)this.drawCapsule(c,a[0]*this.ppu,a[1]*this.ppu,e,t.length*this.ppu,t.radius*this.ppu,r,i,o);else if(t instanceof p2.Plane)this.drawPlane(c,a[0]*this.ppu,-a[1]*this.ppu,i,r,5*o,10*o,10*o,100*this.ppu,e);else if(t instanceof p2.Line)this.drawLine(c,t.length*this.ppu,r,o);else if(t instanceof p2.Box)this.drawRectangle(c,a[0]*this.ppu,a[1]*this.ppu,e,t.width*this.ppu,t.height*this.ppu,r,i,o);else if(t instanceof p2.Convex){for(p=[],l=p2.vec2.create(),n=h=0,u=t.vertices.length;0<=u?h<u:u<h;n=0<=u?++h:--h)s=t.vertices[n],p2.vec2.rotate(l,s,e),p.push([(l[0]+a[0])*this.ppu,-(l[1]+a[1])*this.ppu]);this.drawConvex(c,p,t.triangles,r,i,o,this.settings.debugPolygons,[a[0]*this.ppu,-a[1]*this.ppu])}y++}},drawRectangle:function(e,t,i,n,r,o,a,s,p){e.lineStyle(p=void 0===p?1:p,a=void 0===a?0:a,1),e.beginFill(s),e.drawRect(t-r/2,i-o/2,r,o)},drawCircle:function(e,t,i,n,r,o,a){void 0===o&&(o=16777215),e.lineStyle(a=void 0===a?1:a,0,1),e.beginFill(o,1),e.drawCircle(t,i,2*-r),e.endFill(),e.moveTo(t,i),e.lineTo(t+r*Math.cos(-n),i+r*Math.sin(-n))},drawLine:function(e,t,i,n){e.lineStyle(5*(n=void 0===n?1:n),i=void 0===i?0:i,1),e.moveTo(-t/2,0),e.lineTo(t/2,0)},drawConvex:function(e,t,i,n,r,o,a,s){var p,l,h,u,d,c,m,y;if(void 0===o&&(o=1),void 0===n&&(n=0),a){for(p=[16711680,65280,255],l=0;l!==t.length+1;)m=t[l%t.length],y=t[(l+1)%t.length],u=m[0],m=m[1],d=y[0],y=y[1],e.lineStyle(o,p[l%p.length],1),e.moveTo(u,-m),e.lineTo(d,-y),e.drawCircle(u,-m,2*o),l++;return e.lineStyle(o,0,1),e.drawCircle(s[0],s[1],2*o)}for(e.lineStyle(o,n,1),e.beginFill(r),l=0;l!==t.length;)h=(c=t[l])[0],c=c[1],0===l?e.moveTo(h,-c):e.lineTo(h,-c),l++;if(e.endFill(),2<t.length)return e.moveTo(t[t.length-1][0],-t[t.length-1][1]),e.lineTo(t[0][0],-t[0][1])},drawPath:function(e,t,i,n,r){var o,a,s,p,l,h,u,d;for(e.lineStyle(r=void 0===r?1:r,i=void 0===i?0:i,1),"number"==typeof n&&e.beginFill(n),s=a=null,o=0;o<t.length;)u=(d=t[o])[0],d=d[1],u===a&&d===s||(0===o?e.moveTo(u,d):(p=a,l=s,h=t[(o+1)%t.length][0],0!=(u-p)*(t[(o+1)%t.length][1]-l)-(h-p)*(d-l)&&e.lineTo(u,d)),a=u,s=d),o++;"number"==typeof n&&e.endFill(),2<t.length&&"number"==typeof n&&(e.moveTo(t[t.length-1][0],t[t.length-1][1]),e.lineTo(t[0][0],t[0][1]))},drawPlane:function(e,t,i,n,r,o,a,s,p,l){void 0===n&&(n=16777215),e.lineStyle(o=void 0===o?1:o,r,11),e.beginFill(n),e.moveTo(t,-i),o=t+Math.cos(l)*this.game.width,r=i+Math.sin(l)*this.game.height,e.lineTo(o,-r),e.moveTo(t,-i),o=t+Math.cos(l)*-this.game.width,r=i+Math.sin(l)*-this.game.height,e.lineTo(o,-r)},drawCapsule:function(e,t,i,n,r,o,a,s,p){e.lineStyle(p=void 0===p?1:p,a=void 0===a?0:a,1);var l=Math.cos(n),n=Math.sin(n);e.beginFill(s,1),e.drawCircle(-r/2*l+t,-r/2*n+i,2*-o),e.drawCircle(r/2*l+t,r/2*n+i,2*-o),e.endFill(),e.lineStyle(p,a,0),e.beginFill(s,1),e.moveTo(-r/2*l+o*n+t,-r/2*n+o*l+i),e.lineTo(r/2*l+o*n+t,r/2*n+o*l+i),e.lineTo(r/2*l-o*n+t,r/2*n-o*l+i),e.lineTo(-r/2*l-o*n+t,-r/2*n-o*l+i),e.endFill(),e.lineStyle(p,a,1),e.moveTo(-r/2*l+o*n+t,-r/2*n+o*l+i),e.lineTo(r/2*l+o*n+t,r/2*n+o*l+i),e.moveTo(-r/2*l-o*n+t,-r/2*n-o*l+i),e.lineTo(r/2*l-o*n+t,r/2*n-o*l+i)},randomPastelHex:function(){var e=[255,255,255],t=Math.floor(256*Math.random()),i=Math.floor(256*Math.random()),n=Math.floor(256*Math.random());return t=Math.floor((t+3*e[0])/4),i=Math.floor((i+3*e[1])/4),n=Math.floor((n+3*e[2])/4),this.rgbToHex(t,i,n)},rgbToHex:function(e,t,i){return this.componentToHex(e)+this.componentToHex(t)+this.componentToHex(i)},componentToHex:function(e){e=e.toString(16);return 2===e.length?e:e+"0"}}),U.Physics.P2.Spring=function(e,t,i,n,r,o,a,s,p,l){this.game=e.game,void 0===r&&(r=100),void 0===o&&(o=1);n={restLength:n=(this.world=e).pxm(n=void 0===n?1:n),stiffness:r,damping:o};null!=a&&(n.worldAnchorA=[e.pxm(a[0]),e.pxm(a[1])]),null!=s&&(n.worldAnchorB=[e.pxm(s[0]),e.pxm(s[1])]),null!=p&&(n.localAnchorA=[e.pxm(p[0]),e.pxm(p[1])]),null!=l&&(n.localAnchorB=[e.pxm(l[0]),e.pxm(l[1])]),this.data=new p2.LinearSpring(t,i,n),this.data.parent=this},U.Physics.P2.Spring.prototype.constructor=U.Physics.P2.Spring,U.Physics.P2.RotationalSpring=function(e,t,i,n,r,o){this.game=e.game,this.world=e,void 0===r&&(r=100),void 0===o&&(o=1),n=(n=void 0===n?null:n)&&e.pxm(n),this.data=new p2.RotationalSpring(t,i,{restAngle:n,stiffness:r,damping:o}),this.data.parent=this},U.Physics.P2.Spring.prototype.constructor=U.Physics.P2.Spring,U.Physics.P2.Material=function(e){this.name=e,p2.Material.call(this)},U.Physics.P2.Material.prototype=Object.create(p2.Material.prototype),U.Physics.P2.Material.prototype.constructor=U.Physics.P2.Material,U.Physics.P2.ContactMaterial=function(e,t,i){p2.ContactMaterial.call(this,e,t,i)},U.Physics.P2.ContactMaterial.prototype=Object.create(p2.ContactMaterial.prototype),U.Physics.P2.ContactMaterial.prototype.constructor=U.Physics.P2.ContactMaterial,U.Physics.P2.CollisionGroup=function(e){this.mask=e},U.Physics.P2.DistanceConstraint=function(e,t,i,n,r,o,a){void 0===n&&(n=100),void 0===r&&(r=[0,0]),void 0===o&&(o=[0,0]),void 0===a&&(a=Number.MAX_VALUE),this.game=e.game,n=(this.world=e).pxm(n),r=[e.pxmi(r[0]),e.pxmi(r[1])],o=[e.pxmi(o[0]),e.pxmi(o[1])],p2.DistanceConstraint.call(this,t,i,{distance:n,localAnchorA:r,localAnchorB:o,maxForce:a})},U.Physics.P2.DistanceConstraint.prototype=Object.create(p2.DistanceConstraint.prototype),U.Physics.P2.DistanceConstraint.prototype.constructor=U.Physics.P2.DistanceConstraint,U.Physics.P2.GearConstraint=function(e,t,i,n,r){void 0===n&&(n=0),void 0===r&&(r=1),this.game=e.game,this.world=e,p2.GearConstraint.call(this,t,i,{angle:n,ratio:r})},U.Physics.P2.GearConstraint.prototype=Object.create(p2.GearConstraint.prototype),U.Physics.P2.GearConstraint.prototype.constructor=U.Physics.P2.GearConstraint,U.Physics.P2.LockConstraint=function(e,t,i,n,r,o){void 0===n&&(n=[0,0]),void 0===r&&(r=0),void 0===o&&(o=Number.MAX_VALUE),this.game=e.game,n=[(this.world=e).pxm(n[0]),e.pxm(n[1])],p2.LockConstraint.call(this,t,i,{localOffsetB:n,localAngleB:r,maxForce:o})},U.Physics.P2.LockConstraint.prototype=Object.create(p2.LockConstraint.prototype),U.Physics.P2.LockConstraint.prototype.constructor=U.Physics.P2.LockConstraint,U.Physics.P2.PrismaticConstraint=function(e,t,i,n,r,o,a,s){void 0===n&&(n=!0),void 0===r&&(r=[0,0]),void 0===o&&(o=[0,0]),void 0===a&&(a=[0,0]),void 0===s&&(s=Number.MAX_VALUE),this.game=e.game,r=[(this.world=e).pxmi(r[0]),e.pxmi(r[1])],o=[e.pxmi(o[0]),e.pxmi(o[1])],p2.PrismaticConstraint.call(this,t,i,{localAnchorA:r,localAnchorB:o,localAxisA:a,maxForce:s,disableRotationalLock:!n})},U.Physics.P2.PrismaticConstraint.prototype=Object.create(p2.PrismaticConstraint.prototype),U.Physics.P2.PrismaticConstraint.prototype.constructor=U.Physics.P2.PrismaticConstraint,U.Physics.P2.RevoluteConstraint=function(e,t,i,n,r,o,a){void 0===o&&(o=Number.MAX_VALUE),void 0===a&&(a=null),this.game=e.game,i=[(this.world=e).pxmi(i[0]),e.pxmi(i[1])],r=[e.pxmi(r[0]),e.pxmi(r[1])],a=a&&[e.pxmi(a[0]),e.pxmi(a[1])],p2.RevoluteConstraint.call(this,t,n,{worldPivot:a,localPivotA:i,localPivotB:r,maxForce:o})},U.Physics.P2.RevoluteConstraint.prototype=Object.create(p2.RevoluteConstraint.prototype),U.Physics.P2.RevoluteConstraint.prototype.constructor=U.Physics.P2.RevoluteConstraint,U.ImageCollection=function(e,t,i,n,r,o,a){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===r&&(r=0),void 0===o&&(o=0),this.name=e,this.firstgid=0|t,this.imageWidth=0|i,this.imageHeight=0|n,this.imageMargin=0|r,this.imageSpacing=0|o,this.properties=a||{},this.images=[],this.total=0},U.ImageCollection.prototype={containsImageIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},addImage:function(e,t){this.images.push({gid:e,image:t}),this.total++}},U.ImageCollection.prototype.constructor=U.ImageCollection,U.Tile=function(e,t,i,n,r,o){this.layer=e,this.index=t,this.x=i,this.y=n,this.rotation=0,this.flipped=!1,this.worldX=i*r,this.worldY=n*o,this.width=r,this.height=o,this.centerX=Math.abs(r/2),this.centerY=Math.abs(o/2),this.alpha=1,this.properties={},this.scanned=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.collisionCallback=null,this.collisionCallbackContext=this},U.Tile.prototype={containsPoint:function(e,t){return!(e<this.worldX||t<this.worldY||e>this.right||t>this.bottom)},intersects:function(e,t,i,n){return!(i<=this.worldX)&&(!(n<=this.worldY)&&(!(e>=this.worldX+this.width)&&!(t>=this.worldY+this.height)))},setCollisionCallback:function(e,t){this.collisionCallback=e,this.collisionCallbackContext=t},destroy:function(){this.collisionCallback=null,this.collisionCallbackContext=null,this.properties=null},setCollision:function(e,t,i,n){this.collideLeft=e,this.collideRight=t,this.collideUp=i,this.collideDown=n,this.faceLeft=e,this.faceRight=t,this.faceTop=i,this.faceBottom=n},resetCollision:function(){this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1},isInteresting:function(e,t){return e&&t?this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.faceTop||this.faceBottom||this.faceLeft||this.faceRight||this.collisionCallback:e?this.collideLeft||this.collideRight||this.collideUp||this.collideDown:!!t&&(this.faceTop||this.faceBottom||this.faceLeft||this.faceRight)},copy:function(e){this.index=e.index,this.alpha=e.alpha,this.properties=e.properties,this.collideUp=e.collideUp,this.collideDown=e.collideDown,this.collideLeft=e.collideLeft,this.collideRight=e.collideRight,this.collisionCallback=e.collisionCallback,this.collisionCallbackContext=e.collisionCallbackContext}},U.Tile.prototype.constructor=U.Tile,Object.defineProperty(U.Tile.prototype,"collides",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}}),Object.defineProperty(U.Tile.prototype,"canCollide",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}}),Object.defineProperty(U.Tile.prototype,"left",{get:function(){return this.worldX}}),Object.defineProperty(U.Tile.prototype,"right",{get:function(){return this.worldX+this.width}}),Object.defineProperty(U.Tile.prototype,"top",{get:function(){return this.worldY}}),Object.defineProperty(U.Tile.prototype,"bottom",{get:function(){return this.worldY+this.height}}),U.Tilemap=function(e,t,i,n,r,o){this.game=e,this.key=t;e=U.TilemapParser.parse(this.game,t,i,n,r,o);null!==e&&(this.width=e.width,this.height=e.height,this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.orientation=e.orientation,this.format=e.format,this.version=e.version,this.properties=e.properties,this.widthInPixels=e.widthInPixels,this.heightInPixels=e.heightInPixels,this.layers=e.layers,this.tilesets=e.tilesets,this.imagecollections=e.imagecollections,this.tiles=e.tiles,this.objects=e.objects,this.collideIndexes=[],this.collision=e.collision,this.images=e.images,this.enableDebug=!1,this.currentLayer=0,this.debugMap=[],this._results=[],this._tempA=0,this._tempB=0)},U.Tilemap.CSV=0,U.Tilemap.TILED_JSON=1,U.Tilemap.NORTH=0,U.Tilemap.EAST=1,U.Tilemap.SOUTH=2,U.Tilemap.WEST=3,U.Tilemap.prototype={create:function(e,t,i,n,r,o){return void 0===o&&(o=this.game.world),this.width=t,this.height=i,this.setTileSize(n,r),this.layers.length=0,this.createBlankLayer(e,t,i,n,r,o)},setTileSize:function(e,t){this.tileWidth=e,this.tileHeight=t,this.widthInPixels=this.width*e,this.heightInPixels=this.height*t},addTilesetImage:function(e,t,i,n,r,o,a){if(void 0===e)return null;void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),0===(i=void 0===i?this.tileWidth:i)&&(i=32),0===(n=void 0===n?this.tileHeight:n)&&(n=32);var s=null;if((t=null==t?e:t)instanceof U.BitmapData)s=t.canvas;else{if(!this.game.cache.checkImageKey(t))return null;s=this.game.cache.getImage(t)}t=this.getTilesetIndex(e);if(null===t&&this.format===U.Tilemap.TILED_JSON)return null;if(this.tilesets[t])return this.tilesets[t].setImage(s),this.tilesets[t];for(var p=new U.Tileset(e,a,i,n,r,o,{}),l=(p.setImage(s),this.tilesets.push(p),this.tilesets.length-1),h=r,u=r,d=0,c=0,m=0,y=a;y<a+p.total&&(this.tiles[y]=[h,u,l],h+=i+o,++d!==p.total)&&(++c!==p.columns||(h=r,u+=n+o,c=0,++m!==p.rows));y++);return p},createFromObjects:function(e,t,i,n,r,o,a,s,p){if(void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===a&&(a=this.game.world),void 0===s&&(s=U.Sprite),void 0===p&&(p=!0),this.objects[e])for(var l=0;l<this.objects[e].length;l++){var h=!1,u=this.objects[e][l];if(h=void 0!==u.gid&&"number"==typeof t&&u.gid===t||void 0!==u.id&&"number"==typeof t&&u.id===t||void 0!==u.name&&"string"==typeof t&&u.name===t?!0:h){var d,c=new s(this.game,parseFloat(u.x,10),parseFloat(u.y,10),i,n);for(d in c.name=u.name,c.visible=u.visible,c.autoCull=o,c.exists=r,u.width&&(c.width=u.width),u.height&&(c.height=u.height),u.rotation&&(c.angle=u.rotation),p&&(c.y-=c.height),a.add(c),u.properties)a.set(c,d,u.properties[d],!1,!1,0,!0)}}},createFromTiles:function(e,t,i,n,r,o){"number"==typeof e&&(e=[e]),null==t?t=[]:"number"==typeof t&&(t=[t]),n=this.getLayer(n),void 0===r&&(r=this.game.world),void 0===(o=void 0===o?{}:o).customClass&&(o.customClass=U.Sprite),void 0===o.adjustY&&(o.adjustY=!0);var a=this.layers[n].width,s=this.layers[n].height;if(this.copy(0,0,a,s,n),this._results.length<2)return 0;for(var p,l=0,h=1,u=this._results.length;h<u;h++)if(-1!==e.indexOf(this._results[h].index)){for(var d in p=new o.customClass(this.game,this._results[h].worldX,this._results[h].worldY,i),o)p[d]=o[d];r.add(p),l++}if(1===t.length)for(h=0;h<e.length;h++)this.replace(e[h],t[0],0,0,a,s,n);else if(1<t.length)for(h=0;h<e.length;h++)this.replace(e[h],t[h],0,0,a,s,n);return l},createLayer:function(e,t,i,n){void 0===t&&(t=this.game.width),void 0===i&&(i=this.game.height),void 0===n&&(n=this.game.world);var r=e;if(!(null===(r="string"==typeof e?this.getLayerIndex(e):r)||r>this.layers.length))return void 0===t||t<=0?t=Math.min(this.game.width,this.layers[r].widthInPixels):t>this.game.width&&(t=this.game.width),void 0===i||i<=0?i=Math.min(this.game.height,this.layers[r].heightInPixels):i>this.game.height&&(i=this.game.height),this.enableDebug,e=n.add(new U.TilemapLayer(this.game,this,r,t,i)),this.enableDebug,e},createBlankLayer:function(e,t,i,n,r,o){if(void 0===o&&(o=this.game.world),null===this.getLayerIndex(e)){for(var a={name:e,x:0,y:0,width:t,height:i,widthInPixels:t*n,heightInPixels:i*r,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:null},s=[],p=0;p<i;p++){for(var l=[],h=0;h<t;h++)l.push(new U.Tile(a,-1,h,p,n,r));s.push(l)}a.data=s,this.layers.push(a),this.currentLayer=this.layers.length-1;var u=a.widthInPixels,d=a.heightInPixels;return u>this.game.width&&(u=this.game.width),d>this.game.height&&(d=this.game.height),(s=new U.TilemapLayer(this.game,this,this.layers.length-1,u,d)).name=e,o.add(s)}},getIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return i;return null},getLayerIndex:function(e){return this.getIndex(this.layers,e)},getTilesetIndex:function(e){return this.getIndex(this.tilesets,e)},getImageIndex:function(e){return this.getIndex(this.images,e)},setTileIndexCallback:function(e,t,i,n){if(n=this.getLayer(n),"number"==typeof e)this.layers[n].callbacks[e]={callback:t,callbackContext:i};else for(var r=0,o=e.length;r<o;r++)this.layers[n].callbacks[e[r]]={callback:t,callbackContext:i}},setTileLocationCallback:function(e,t,i,n,r,o,a){if(a=this.getLayer(a),this.copy(e,t,i,n,a),!(this._results.length<2))for(var s=1;s<this._results.length;s++)this._results[s].setCollisionCallback(r,o)},setCollision:function(e,t,i,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),i=this.getLayer(i),"number"==typeof e)return this.setCollisionByIndex(e,t,i,!0);if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.setCollisionByIndex(e[r],t,i,!1);n&&this.calculateFaces(i)}},setCollisionBetween:function(e,t,i,n,r){if(void 0===i&&(i=!0),void 0===r&&(r=!0),n=this.getLayer(n),!(t<e)){for(var o=e;o<=t;o++)this.setCollisionByIndex(o,i,n,!1);r&&this.calculateFaces(n)}},setCollisionByExclusion:function(e,t,i,n){void 0===t&&(t=!0),void 0===n&&(n=!0),i=this.getLayer(i);for(var r=0,o=this.tiles.length;r<o;r++)-1===e.indexOf(r)&&this.setCollisionByIndex(r,t,i,!1);n&&this.calculateFaces(i)},setCollisionByIndex:function(e,t,i,n){var r;void 0===i&&(i=this.currentLayer),void 0===n&&(n=!0),(t=void 0===t?!0:t)?this.collideIndexes.push(e):-1<(r=this.collideIndexes.indexOf(e))&&this.collideIndexes.splice(r,1);for(var o=0;o<this.layers[i].height;o++)for(var a=0;a<this.layers[i].width;a++){var s=this.layers[i].data[o][a];s&&s.index===e&&(t?s.setCollision(!0,!0,!0,!0):s.resetCollision(),s.faceTop=t,s.faceBottom=t,s.faceLeft=t,s.faceRight=t)}return n&&this.calculateFaces(i),i},getLayer:function(e){return void 0===e?e=this.currentLayer:"string"==typeof e?e=this.getLayerIndex(e):e instanceof U.TilemapLayer&&(e=e.index),e},setPreventRecalculate:function(e){if(!0===e&&!0!==this.preventingRecalculate&&(this.preventingRecalculate=!0,this.needToRecalculate={}),!1===e&&!0===this.preventingRecalculate){for(var t in this.preventingRecalculate=!1,this.needToRecalculate)this.calculateFaces(t);this.needToRecalculate=!1}},calculateFaces:function(e){if(this.preventingRecalculate)this.needToRecalculate[e]=!0;else for(var t,i,n,r,o=0,a=this.layers[e].height;o<a;o++)for(var s=0,p=this.layers[e].width;s<p;s++){var l=this.layers[e].data[o][s];l&&(t=this.getTileAbove(e,s,o),i=this.getTileBelow(e,s,o),n=this.getTileLeft(e,s,o),r=this.getTileRight(e,s,o),l.collides&&(l.faceTop=!0,l.faceBottom=!0,l.faceLeft=!0,l.faceRight=!0),t&&t.collides&&(l.faceTop=!1),i&&i.collides&&(l.faceBottom=!1),n&&n.collides&&(l.faceLeft=!1),r&&r.collides&&(l.faceRight=!1))}},getTileAbove:function(e,t,i){return 0<i?this.layers[e].data[i-1][t]:null},getTileBelow:function(e,t,i){return i<this.layers[e].height-1?this.layers[e].data[i+1][t]:null},getTileLeft:function(e,t,i){return 0<t?this.layers[e].data[i][t-1]:null},getTileRight:function(e,t,i){return t<this.layers[e].width-1?this.layers[e].data[i][t+1]:null},setLayer:function(e){e=this.getLayer(e),this.layers[e]&&(this.currentLayer=e)},hasTile:function(e,t,i){return i=this.getLayer(i),void 0!==this.layers[i].data[t]&&void 0!==this.layers[i].data[t][e]&&-1<this.layers[i].data[t][e].index},removeTile:function(e,t,i){var n;if((i=this.getLayer(i),0<=e&&e<this.layers[i].width&&0<=t&&t<this.layers[i].height)&&this.hasTile(e,t,i))return n=this.layers[i].data[t][e],this.layers[i].data[t][e]=new U.Tile(this.layers[i],-1,e,t,this.tileWidth,this.tileHeight),this.layers[i].dirty=!0,this.calculateFaces(i),n},removeTileWorldXY:function(e,t,i,n,r){return r=this.getLayer(r),e=this.game.math.snapToFloor(e,i)/i,t=this.game.math.snapToFloor(t,n)/n,this.removeTile(e,t,r)},putTile:function(e,t,i,n){return null===e?this.removeTile(t,i,n):(n=this.getLayer(n),0<=t&&t<this.layers[n].width&&0<=i&&i<this.layers[n].height?(e instanceof U.Tile?(r=e.index,this.hasTile(t,i,n)?this.layers[n].data[i][t].copy(e):this.layers[n].data[i][t]=new U.Tile(n,r,t,i,e.width,e.height)):(r=e,this.hasTile(t,i,n)?this.layers[n].data[i][t].index=r:this.layers[n].data[i][t]=new U.Tile(this.layers[n],r,t,i,this.tileWidth,this.tileHeight)),-1<this.collideIndexes.indexOf(r)?this.layers[n].data[i][t].setCollision(!0,!0,!0,!0):this.layers[n].data[i][t].resetCollision(),this.layers[n].dirty=!0,this.calculateFaces(n),this.layers[n].data[i][t]):null);var r},putTileWorldXY:function(e,t,i,n,r,o){return o=this.getLayer(o),t=this.game.math.snapToFloor(t,n)/n,i=this.game.math.snapToFloor(i,r)/r,this.putTile(e,t,i,o)},searchTileIndex:function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=!1),n=this.getLayer(n);var r=0;if(i){for(var o=this.layers[n].height-1;0<=o;o--)for(var a=this.layers[n].width-1;0<=a;a--)if(this.layers[n].data[o][a].index===e){if(r===t)return this.layers[n].data[o][a];r++}}else for(o=0;o<this.layers[n].height;o++)for(a=0;a<this.layers[n].width;a++)if(this.layers[n].data[o][a].index===e){if(r===t)return this.layers[n].data[o][a];r++}return null},getTile:function(e,t,i,n){return void 0===n&&(n=!1),i=this.getLayer(i),0<=e&&e<this.layers[i].width&&0<=t&&t<this.layers[i].height&&(-1!==this.layers[i].data[t][e].index||n)?this.layers[i].data[t][e]:null},getTileWorldXY:function(e,t,i,n,r,o){return void 0===i&&(i=this.tileWidth),void 0===n&&(n=this.tileHeight),r=this.getLayer(r),e=this.game.math.snapToFloor(e,i)/i,t=this.game.math.snapToFloor(t,n)/n,this.getTile(e,t,r,o)},copy:function(e,t,i,n,r){if(r=this.getLayer(r),this.layers[r]){void 0===i&&(i=this.layers[r].width),void 0===n&&(n=this.layers[r].height),(e=void 0===e?0:e)<0&&(e=0),(t=void 0===t?0:t)<0&&(t=0),i>this.layers[r].width&&(i=this.layers[r].width),n>this.layers[r].height&&(n=this.layers[r].height),this._results.length=0,this._results.push({x:e,y:t,width:i,height:n,layer:r});for(var o=t;o<t+n;o++)for(var a=e;a<e+i;a++)this._results.push(this.layers[r].data[o][a]);return this._results}this._results.length=0},paste:function(e,t,i,n){if(void 0===e&&(e=0),void 0===t&&(t=0),n=this.getLayer(n),i&&!(i.length<2)){for(var r=e-i[1].x,o=t-i[1].y,a=1;a<i.length;a++)this.layers[n].data[o+i[a].y][r+i[a].x].copy(i[a]);this.layers[n].dirty=!0,this.calculateFaces(n)}},swap:function(e,t,i,n,r,o,a){a=this.getLayer(a),this.copy(i,n,r,o,a),this._results.length<2||(this._tempA=e,this._tempB=t,this._results.forEach(this.swapHandler,this),this.paste(i,n,this._results,a))},swapHandler:function(e){e.index===this._tempA?e.index=this._tempB:e.index===this._tempB&&(e.index=this._tempA)},forEach:function(e,t,i,n,r,o,a){a=this.getLayer(a),this.copy(i,n,r,o,a),this._results.length<2||(this._results.forEach(e,t),this.paste(i,n,this._results,a))},replace:function(e,t,i,n,r,o,a){if(a=this.getLayer(a),this.copy(i,n,r,o,a),!(this._results.length<2)){for(var s=1;s<this._results.length;s++)this._results[s].index===e&&(this._results[s].index=t);this.paste(i,n,this._results,a)}},random:function(e,t,i,n,r){if(r=this.getLayer(r),this.copy(e,t,i,n,r),!(this._results.length<2)){for(var o,a=[],s=1;s<this._results.length;s++)this._results[s].index&&(o=this._results[s].index,-1===a.indexOf(o)&&a.push(o));for(var p=1;p<this._results.length;p++)this._results[p].index=this.game.rnd.pick(a);this.paste(e,t,this._results,r)}},shuffle:function(e,t,i,n,r){if(r=this.getLayer(r),this.copy(e,t,i,n,r),!(this._results.length<2)){for(var o=[],a=1;a<this._results.length;a++)this._results[a].index&&o.push(this._results[a].index);U.ArrayUtils.shuffle(o);for(var s=1;s<this._results.length;s++)this._results[s].index=o[s-1];this.paste(e,t,this._results,r)}},fill:function(e,t,i,n,r,o){if(o=this.getLayer(o),this.copy(t,i,n,r,o),!(this._results.length<2)){for(var a=1;a<this._results.length;a++)this._results[a].index=e;this.paste(t,i,this._results,o)}},removeAllLayers:function(){this.layers.length=0,this.currentLayer=0},dump:function(){for(var e="",t=[""],i=0;i<this.layers[this.currentLayer].height;i++){for(var n=0;n<this.layers[this.currentLayer].width;n++)e+="%c  ",1<this.layers[this.currentLayer].data[i][n]?this.debugMap[this.layers[this.currentLayer].data[i][n]]?t.push("background: "+this.debugMap[this.layers[this.currentLayer].data[i][n]]):t.push("background: #ffffff"):t.push("background: rgb(0, 0, 0)");e+="\n"}t[0]=e},destroy:function(){this.removeAllLayers(),this.data=[],this.game=null}},U.Tilemap.prototype.constructor=U.Tilemap,Object.defineProperty(U.Tilemap.prototype,"layer",{get:function(){return this.layers[this.currentLayer]},set:function(e){e!==this.currentLayer&&this.setLayer(e)}}),U.TilemapLayer=function(e,t,i,n,r){n|=0,r|=0,U.Sprite.call(this,e,0,0),this.map=t,this.index=i,this.layer=t.layers[i],this.canvas=PIXI.CanvasPool.create(this,n,r),this.context=this.canvas.getContext("2d"),this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas))),this.type=U.TILEMAPLAYER,this.physicsType=U.TILEMAPLAYER,this.renderSettings={enableScrollDelta:!1,overdrawRatio:.2,copyCanvas:null},this.debug=!1,this.exists=!0,this.debugSettings={missingImageFill:"rgb(255,255,255)",debuggedTileOverfill:"rgba(0,255,0,0.4)",forceFullRedraw:!0,debugAlpha:.5,facingEdgeStroke:"rgba(0,255,0,1)",collidingTileOverfill:"rgba(0,255,0,0.2)"},this.scrollFactorX=1,this.scrollFactorY=1,this.dirty=!0,this.rayStepRate=4,this._wrap=!1,this._mc={scrollX:0,scrollY:0,renderWidth:0,renderHeight:0,tileWidth:t.tileWidth,tileHeight:t.tileHeight,cw:t.tileWidth,ch:t.tileHeight,tilesets:[]},this._scrollX=0,this._scrollY=0,this._results=[],e.device.canvasBitBltShift||(this.renderSettings.copyCanvas=U.TilemapLayer.ensureSharedCopyCanvas()),this.fixedToCamera=!0},U.TilemapLayer.prototype=Object.create(U.Sprite.prototype),U.TilemapLayer.prototype.constructor=U.TilemapLayer,U.TilemapLayer.prototype.preUpdateCore=U.Component.Core.preUpdate,U.TilemapLayer.sharedCopyCanvas=null,U.TilemapLayer.ensureSharedCopyCanvas=function(){return this.sharedCopyCanvas||(this.sharedCopyCanvas=PIXI.CanvasPool.create(this,2,2)),this.sharedCopyCanvas},U.TilemapLayer.prototype.preUpdate=function(){return this.preUpdateCore()},U.TilemapLayer.prototype.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=this.game.camera.view.x*this.scrollFactorX/this.scale.x,this._scrollY=this.game.camera.view.y*this.scrollFactorY/this.scale.y},U.TilemapLayer.prototype._renderCanvas=function(e){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=this.game.camera.view.x*this.scrollFactorX/this.scale.x,this._scrollY=this.game.camera.view.y*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderCanvas.call(this,e)},U.TilemapLayer.prototype._renderWebGL=function(e){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=this.game.camera.view.x*this.scrollFactorX/this.scale.x,this._scrollY=this.game.camera.view.y*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderWebGL.call(this,e)},U.TilemapLayer.prototype.destroy=function(){PIXI.CanvasPool.remove(this),U.Component.Destroy.prototype.destroy.call(this)},U.TilemapLayer.prototype.resize=function(e,t){this.canvas.width=e,this.canvas.height=t,this.texture.frame.resize(e,t),this.texture.width=e,this.texture.height=t,this.texture.crop.width=e,this.texture.crop.height=t,this.texture.baseTexture.width=e,this.texture.baseTexture.height=t,this.texture.baseTexture.dirty(),this.texture.requiresUpdate=!0,this.texture._updateUvs(),this.dirty=!0},U.TilemapLayer.prototype.resizeWorld=function(){this.game.world.setBounds(0,0,this.layer.widthInPixels*this.scale.x,this.layer.heightInPixels*this.scale.y)},U.TilemapLayer.prototype._fixX=function(e){return 1===this.scrollFactorX||0===this.scrollFactorX&&0===this.position.x?e:0===this.scrollFactorX&&0!==this.position.x?e-this.position.x:this._scrollX+(e-this._scrollX/this.scrollFactorX)},U.TilemapLayer.prototype._unfixX=function(e){return 1===this.scrollFactorX?e:this._scrollX/this.scrollFactorX+(e-this._scrollX)},U.TilemapLayer.prototype._fixY=function(e){return 1===this.scrollFactorY||0===this.scrollFactorY&&0===this.position.y?e:0===this.scrollFactorY&&0!==this.position.y?e-this.position.y:this._scrollY+(e-this._scrollY/this.scrollFactorY)},U.TilemapLayer.prototype._unfixY=function(e){return 1===this.scrollFactorY?e:this._scrollY/this.scrollFactorY+(e-this._scrollY)},U.TilemapLayer.prototype.getTileX=function(e){return Math.floor(this._fixX(e)/this._mc.tileWidth)},U.TilemapLayer.prototype.getTileY=function(e){return Math.floor(this._fixY(e)/this._mc.tileHeight)},U.TilemapLayer.prototype.getTileXY=function(e,t,i){return i.x=this.getTileX(e),i.y=this.getTileY(t),i},U.TilemapLayer.prototype.getRayCastTiles=function(e,t,i,n){t=t||this.rayStepRate;var r=this.getTiles(e.x,e.y,e.width,e.height,i=void 0===i?!1:i,n=void 0===n?!1:n);if(0===r.length)return[];for(var o=e.coordinatesOnLine(t),a=[],s=0;s<r.length;s++)for(var p=0;p<o.length;p++){var l=r[s],h=o[p];if(l.containsPoint(h[0],h[1])){a.push(l);break}}return a},U.TilemapLayer.prototype.getTiles=function(e,t,i,n,r,o){void 0===o&&(o=!1);for(var a=!((r=void 0===r?!1:r)||o),s=(e=this._fixX(e),t=this._fixY(t),Math.floor(e/(this._mc.cw*this.scale.x))),p=Math.floor(t/(this._mc.ch*this.scale.y)),l=Math.ceil((e+i)/(this._mc.cw*this.scale.x))-s,h=Math.ceil((t+n)/(this._mc.ch*this.scale.y))-p;this._results.length;)this._results.pop();for(var u=p;u<p+h;u++)for(var d=s;d<s+l;d++){var c=this.layer.data[u];c&&c[d]&&(a||c[d].isInteresting(r,o))&&this._results.push(c[d])}return this._results.slice()},U.TilemapLayer.prototype.resolveTileset=function(e){var t=this._mc.tilesets;if(e<2e3)for(;t.length<e;)t.push(void 0);var i=this.map.tiles[e]&&this.map.tiles[e][2];if(null!==i){i=this.map.tilesets[i];if(i&&i.containsTileIndex(e))return t[e]=i}return t[e]=null},U.TilemapLayer.prototype.resetTilesetCache=function(){for(var e=this._mc.tilesets;e.length;)e.pop()},U.TilemapLayer.prototype.setScale=function(e,t){e=e||1,t=t||e;for(var i=0;i<this.layer.data.length;i++)for(var n=this.layer.data[i],r=0;r<n.length;r++){var o=n[r];o.width=this.map.tileWidth*e,o.height=this.map.tileHeight*t,o.worldX=o.x*o.width,o.worldY=o.y*o.height}this.scale.setTo(e,t)},U.TilemapLayer.prototype.shiftCanvas=function(e,t,i){var n=e.canvas,r=n.width-Math.abs(t),o=n.height-Math.abs(i),a=0,s=0,p=t,l=i,t=(t<0&&(a=-t,p=0),i<0&&(s=-i,l=0),this.renderSettings.copyCanvas);t?((t.width<r||t.height<o)&&(t.width=r,t.height=o),(i=t.getContext("2d")).clearRect(0,0,r,o),i.drawImage(n,a,s,r,o,0,0,r,o),e.clearRect(p,l,r,o),e.drawImage(t,0,0,r,o,p,l,r,o)):(e.save(),e.globalCompositeOperation="copy",e.drawImage(n,a,s,r,o,p,l,r,o),e.restore())},U.TilemapLayer.prototype.renderRegion=function(e,t,i,n,r,o){for(var a=this.context,s=this.layer.width,p=this.layer.height,l=this._mc.tileWidth,h=this._mc.tileHeight,u=this._mc.tilesets,d=NaN,c=(this._wrap||(i<=r&&(i=Math.max(0,i),r=Math.min(s-1,r)),n<=o&&(n=Math.max(0,n),o=Math.min(p-1,o))),i*l-e),m=(i+(1<<20)*s)%s,y=(n+(1<<20)*p)%p,_=o-n,x=n*h-t;0<=_;y++,_--,x+=h){p<=y&&(y-=p);for(var f=this.layer.data[y],g=m,v=r-i,z=c;0<=v;g++,v--,z+=l){s<=g&&(g-=s);var b,w,S=f[g];!S||S.index<0||(void 0===(w=u[b=S.index])&&(w=this.resolveTileset(b)),S.alpha===d||this.debug||(a.globalAlpha=S.alpha,d=S.alpha),w?S.rotation||S.flipped?(a.save(),a.translate(z+S.centerX,x+S.centerY),a.rotate(S.rotation),S.flipped&&a.scale(-1,1),w.draw(a,-S.centerX,-S.centerY,b),a.restore()):w.draw(a,z,x,b):this.debugSettings.missingImageFill&&(a.fillStyle=this.debugSettings.missingImageFill,a.fillRect(z,x,l,h)),S.debug&&this.debugSettings.debuggedTileOverfill&&(a.fillStyle=this.debugSettings.debuggedTileOverfill,a.fillRect(z,x,l,h)))}}},U.TilemapLayer.prototype.renderDeltaScroll=function(e,t){var i=this._mc.scrollX,n=this._mc.scrollY,r=this.canvas.width,o=this.canvas.height,a=this._mc.tileWidth,s=this._mc.tileHeight,p=0,l=-a,h=0,u=-s;e<0?(p=r+e,l=r-1):0<e&&(l=e),t<0?(h=o+t,u=o-1):0<t&&(u=t),this.shiftCanvas(this.context,e,t),p=Math.floor((p+i)/a),l=Math.floor((l+i)/a),h=Math.floor((h+n)/s),u=Math.floor((u+n)/s),p<=l&&(this.context.clearRect(p*a-i,0,(l-p+1)*a,o),e=Math.floor((0+n)/s),t=Math.floor((o-1+n)/s),this.renderRegion(i,n,p,e,l,t)),h<=u&&(this.context.clearRect(0,h*s-n,r,(u-h+1)*s),o=Math.floor((0+i)/a),p=Math.floor((r-1+i)/a),this.renderRegion(i,n,o,h,p,u))},U.TilemapLayer.prototype.renderFull=function(){var e=this._mc.scrollX,t=this._mc.scrollY,i=this.canvas.width,n=this.canvas.height,r=this._mc.tileWidth,o=this._mc.tileHeight,a=Math.floor(e/r),r=Math.floor((i-1+e)/r),s=Math.floor(t/o),o=Math.floor((n-1+t)/o);this.context.clearRect(0,0,i,n),this.renderRegion(e,t,a,s,r,o)},U.TilemapLayer.prototype.render=function(){var e=!1;if(this.visible){(this.dirty||this.layer.dirty)&&(e=!(this.layer.dirty=!1));var t=this.canvas.width,i=this.canvas.height,n=0|this._scrollX,r=0|this._scrollY,o=this._mc,a=o.scrollX-n,s=o.scrollY-r;if(e||0!=a||0!=s||o.renderWidth!==t||o.renderHeight!==i)return this.context.save(),o.scrollX=n,o.scrollY=r,o.renderWidth===t&&o.renderHeight===i||(o.renderWidth=t,o.renderHeight=i),this.debug&&(this.context.globalAlpha=this.debugSettings.debugAlpha,this.debugSettings.forceFullRedraw&&(e=!0)),!e&&this.renderSettings.enableScrollDelta&&Math.abs(a)+Math.abs(s)<Math.min(t,i)?this.renderDeltaScroll(a,s):this.renderFull(),this.debug&&(this.context.globalAlpha=1,this.renderDebug()),this.texture.baseTexture.dirty(),this.dirty=!1,this.context.restore(),!0}},U.TilemapLayer.prototype.renderDebug=function(){var e,t,i,n=this._mc.scrollX,r=this._mc.scrollY,o=this.context,a=this.canvas.width,s=this.canvas.height,p=this.layer.width,l=this.layer.height,h=this._mc.tileWidth,u=this._mc.tileHeight,d=Math.floor(n/h),c=Math.floor((a-1+n)/h),a=Math.floor(r/u),s=Math.floor((s-1+r)/u),m=d*h-n,n=a*u-r,y=(d+(1<<20)*p)%p,r=(a+(1<<20)*l)%l;for(o.strokeStyle=this.debugSettings.facingEdgeStroke,t=r,i=s-a,e=n;0<=i;t++,i--,e+=u){l<=t&&(t-=l);for(var _=this.layer.data[t],x=y,f=c-d,g=m;0<=f;x++,f--,g+=h){p<=x&&(x-=p);var v=_[x];!v||v.index<0||!v.collides||(this.debugSettings.collidingTileOverfill&&(o.fillStyle=this.debugSettings.collidingTileOverfill,o.fillRect(g,e,this._mc.cw,this._mc.ch)),this.debugSettings.facingEdgeStroke&&(o.beginPath(),v.faceTop&&(o.moveTo(g,e),o.lineTo(g+this._mc.cw,e)),v.faceBottom&&(o.moveTo(g,e+this._mc.ch),o.lineTo(g+this._mc.cw,e+this._mc.ch)),v.faceLeft&&(o.moveTo(g,e),o.lineTo(g,e+this._mc.ch)),v.faceRight&&(o.moveTo(g+this._mc.cw,e),o.lineTo(g+this._mc.cw,e+this._mc.ch)),o.closePath(),o.stroke()))}}},Object.defineProperty(U.TilemapLayer.prototype,"wrap",{get:function(){return this._wrap},set:function(e){this._wrap=e,this.dirty=!0}}),Object.defineProperty(U.TilemapLayer.prototype,"scrollX",{get:function(){return this._scrollX},set:function(e){this._scrollX=e}}),Object.defineProperty(U.TilemapLayer.prototype,"scrollY",{get:function(){return this._scrollY},set:function(e){this._scrollY=e}}),Object.defineProperty(U.TilemapLayer.prototype,"collisionWidth",{get:function(){return this._mc.cw},set:function(e){this._mc.cw=0|e,this.dirty=!0}}),Object.defineProperty(U.TilemapLayer.prototype,"collisionHeight",{get:function(){return this._mc.ch},set:function(e){this._mc.ch=0|e,this.dirty=!0}}),U.TilemapParser={INSERT_NULL:!1,parse:function(e,t,i,n,r,o){if(void 0===i&&(i=32),void 0===n&&(n=32),void 0===r&&(r=10),void 0===o&&(o=10),void 0===t)return this.getEmptyData();if(null===t)return this.getEmptyData(i,n,r,o);r=e.cache.getTilemapData(t);return r?r.format===U.Tilemap.CSV?this.parseCSV(t,r.data,i,n):r.format&&r.format!==U.Tilemap.TILED_JSON?void 0:this.parseTiledJSON(r.data):void 0},parseCSV:function(e,t,i,n){for(var r=this.getEmptyData(),o=[],a=(t=t.trim()).split("\n"),t=a.length,s=0,p=0;p<a.length;p++){o[p]=[];for(var l=a[p].split(","),h=0;h<l.length;h++)o[p][h]=new U.Tile(r.layers[0],parseInt(l[h],10),h,p,i,n);0===s&&(s=l.length)}return r.format=U.Tilemap.CSV,r.name=e,r.width=s,r.height=t,r.tileWidth=i,r.tileHeight=n,r.widthInPixels=s*i,r.heightInPixels=t*n,r.layers[0].width=s,r.layers[0].height=t,r.layers[0].widthInPixels=r.widthInPixels,r.layers[0].heightInPixels=r.heightInPixels,r.layers[0].data=o,r},getEmptyData:function(e,t,i,n){return{width:null!=i?i:0,height:null!=n?n:0,tileWidth:null!=e?e:0,tileHeight:null!=t?t:0,orientation:"orthogonal",version:"1",properties:{},widthInPixels:0,heightInPixels:0,layers:[{name:"layer",x:0,y:0,width:0,height:0,widthInPixels:0,heightInPixels:0,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:[]}],images:[],objects:{},collision:{},tilesets:[],tiles:[]}},parseTiledJSON:function(e){if("orthogonal"!==e.orientation)return null;for(var t={width:e.width,height:e.height,tileWidth:e.tilewidth,tileHeight:e.tileheight,orientation:e.orientation,format:U.Tilemap.TILED_JSON,version:e.version,properties:e.properties,widthInPixels:e.width*e.tilewidth,heightInPixels:e.height*e.tileheight},i=[],n=0;n<e.layers.length;n++)if("tilelayer"===e.layers[n].type){var r=e.layers[n];if(!r.compression&&r.encoding&&"base64"===r.encoding){for(var o=window.atob(r.data),a=o.length,s=new Array(a),p=0;p<a;p+=4)s[p/4]=(o.charCodeAt(p)|o.charCodeAt(p+1)<<8|o.charCodeAt(p+2)<<16|o.charCodeAt(p+3)<<24)>>>0;r.data=s,delete r.encoding}else if(r.compression)continue;for(var l,h,u,d={name:r.name,x:r.x,y:r.y,width:r.width,height:r.height,widthInPixels:r.width*e.tilewidth,heightInPixels:r.height*e.tileheight,alpha:r.opacity,visible:r.visible,properties:{},indexes:[],callbacks:[],bodies:[]},c=(r.properties&&(d.properties=r.properties),0),m=[],y=[],_=0,a=r.data.length;_<a;_++){if(h=!1,u=l=0,536870912<(C=r.data[_]))switch(2147483648<C&&(C-=2147483648,u+=4),1073741824<C&&(C-=1073741824,u+=2),536870912<C&&(C-=536870912,u+=1),u){case 5:l=Math.PI/2;break;case 6:l=Math.PI;break;case 3:l=3*Math.PI/2;break;case 4:h=!(l=0);break;case 7:l=Math.PI/2,h=!0;break;case 2:l=Math.PI,h=!0;break;case 1:l=3*Math.PI/2,h=!0}0<C?((E=new U.Tile(d,C,c,y.length,e.tilewidth,e.tileheight)).rotation=l,E.flipped=h,0!==u&&(E.flippedVal=u),m.push(E)):U.TilemapParser.INSERT_NULL?m.push(null):m.push(new U.Tile(d,-1,c,y.length,e.tilewidth,e.tileheight)),++c===r.width&&(y.push(m),c=0,m=[])}d.data=y,i.push(d)}t.layers=i;for(var x,f=[],n=0;n<e.layers.length;n++)"imagelayer"===e.layers[n].type&&(S={name:(x=e.layers[n]).name,image:x.image,x:x.x,y:x.y,alpha:x.opacity,visible:x.visible,properties:{}},x.properties&&(S.properties=x.properties),f.push(S));t.images=f;for(var g=[],v=[],z=null,n=0;n<e.tilesets.length;n++){if((I=e.tilesets[n]).image){var b=new U.Tileset(I.name,I.firstgid,I.tilewidth,I.tileheight,I.margin,I.spacing,I.properties);I.tileproperties&&(b.tileProperties=I.tileproperties),b.updateTileData(I.imagewidth,I.imageheight),g.push(b)}else{var w,L=new U.ImageCollection(I.name,I.firstgid,I.tilewidth,I.tileheight,I.margin,I.spacing,I.properties);for(w in I.tiles){var S=I.tiles[w].image,C=I.firstgid+parseInt(w,10);L.addImage(C,S)}v.push(L)}z&&(z.lastgid=I.firstgid-1),z=I}t.tilesets=g,t.imagecollections=v;var k={},M={};function P(e,t){var i,n={};for(i in t){var r=t[i];void 0!==e[r]&&(n[r]=e[r])}return n}for(n=0;n<e.layers.length;n++)if("objectgroup"===e.layers[n].type){var O=e.layers[n];k[O.name]=[],M[O.name]=[];for(var T=0,a=O.objects.length;T<a;T++)if(O.objects[T].gid){var G={gid:O.objects[T].gid,name:O.objects[T].name,type:O.objects[T].hasOwnProperty("type")?O.objects[T].type:"",x:O.objects[T].x,y:O.objects[T].y,visible:O.objects[T].visible,properties:O.objects[T].properties};O.objects[T].rotation&&(G.rotation=O.objects[T].rotation),k[O.name].push(G)}else if(O.objects[T].polyline){var G={name:O.objects[T].name,type:O.objects[T].type,x:O.objects[T].x,y:O.objects[T].y,width:O.objects[T].width,height:O.objects[T].height,visible:O.objects[T].visible,properties:O.objects[T].properties};O.objects[T].rotation&&(G.rotation=O.objects[T].rotation),G.polyline=[];for(var A=0;A<O.objects[T].polyline.length;A++)G.polyline.push([O.objects[T].polyline[A].x,O.objects[T].polyline[A].y]);M[O.name].push(G),k[O.name].push(G)}else if(O.objects[T].polygon){(G=P(O.objects[T],["name","type","x","y","visible","rotation","properties"])).polygon=[];for(A=0;A<O.objects[T].polygon.length;A++)G.polygon.push([O.objects[T].polygon[A].x,O.objects[T].polygon[A].y]);k[O.name].push(G)}else O.objects[T].ellipse?G=P(O.objects[T],["name","type","ellipse","x","y","width","height","visible","rotation","properties"]):(G=P(O.objects[T],["name","type","x","y","width","height","visible","rotation","properties"])).rectangle=!0,k[O.name].push(G)}t.objects=k,t.collision=M,t.tiles=[];for(var E,D,n=0;n<t.tilesets.length;n++)for(var I,c=(I=t.tilesets[n]).tileMargin,R=I.tileMargin,j=0,F=0,N=0,_=I.firstgid;_<I.firstgid+I.total&&(t.tiles[_]=[c,R,n],c+=I.tileWidth+I.tileSpacing,++j!==I.total)&&(++F!==I.columns||(c=I.tileMargin,R+=I.tileHeight+I.tileSpacing,F=0,++N!==I.rows));_++);for(n=0;n<t.layers.length;n++){d=t.layers[n],I=null;for(p=0;p<d.data.length;p++)for(var m=d.data[p],B=0;B<m.length;B++)null===(E=m[B])||E.index<0||(D=t.tiles[E.index][2],(I=t.tilesets[D]).tileProperties&&I.tileProperties[E.index-I.firstgid]&&(E.properties=U.Utils.mixin(I.tileProperties[E.index-I.firstgid],E.properties)))}return t}},U.Tileset=function(e,t,i,n,r,o,a){(void 0===i||i<=0)&&(i=32),(void 0===n||n<=0)&&(n=32),void 0===r&&(r=0),void 0===o&&(o=0),this.name=e,this.firstgid=0|t,this.tileWidth=0|i,this.tileHeight=0|n,this.tileMargin=0|r,this.tileSpacing=0|o,this.properties=a||{},this.image=null,this.rows=0,this.columns=0,this.total=0,this.drawCoords=[]},U.Tileset.prototype={draw:function(e,t,i,n){n=n-this.firstgid<<1;0<=n&&1+n<this.drawCoords.length&&e.drawImage(this.image,this.drawCoords[n],this.drawCoords[1+n],this.tileWidth,this.tileHeight,t,i,this.tileWidth,this.tileHeight)},containsTileIndex:function(e){return e>=this.firstgid&&e<this.firstgid+this.total},setImage:function(e){this.image=e,this.updateTileData(e.width,e.height)},setSpacing:function(e,t){this.tileMargin=0|e,this.tileSpacing=0|t,this.image&&this.updateTileData(this.image.width,this.image.height)},updateTileData:function(e,t){t=(t-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),e=(e-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing),t=Math.floor(t),e=Math.floor(e);this.rows&&this.rows!==t||this.columns&&this.columns,this.rows=t,this.columns=e,this.total=t*e,this.drawCoords.length=0;for(var i=this.tileMargin,n=this.tileMargin,r=0;r<this.rows;r++){for(var o=0;o<this.columns;o++)this.drawCoords.push(i),this.drawCoords.push(n),i+=this.tileWidth+this.tileSpacing;i=this.tileMargin,n+=this.tileHeight+this.tileSpacing}}},U.Tileset.prototype.constructor=U.Tileset,U.Particle=function(e,t,i,n,r){U.Sprite.call(this,e,t,i,n,r),this.autoScale=!1,this.scaleData=null,this._s=0,this.autoAlpha=!1,this.alphaData=null,this._a=0},U.Particle.prototype=Object.create(U.Sprite.prototype),U.Particle.prototype.constructor=U.Particle,U.Particle.prototype.update=function(){this.autoScale&&(this._s--,this._s?this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y):this.autoScale=!1),this.autoAlpha&&(this._a--,this._a?this.alpha=this.alphaData[this._a].v:this.autoAlpha=!1)},U.Particle.prototype.onEmit=function(){},U.Particle.prototype.setAlphaData=function(e){this.alphaData=e,this._a=e.length-1,this.alpha=this.alphaData[this._a].v,this.autoAlpha=!0},U.Particle.prototype.setScaleData=function(e){this.scaleData=e,this._s=e.length-1,this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y),this.autoScale=!0},U.Particle.prototype.reset=function(e,t,i){return U.Component.Reset.prototype.reset.call(this,e,t,i),this.alpha=1,this.scale.set(1),this.autoScale=!1,this.autoAlpha=!1,this},U.Particles=function(e){this.game=e,this.emitters={},this.ID=0},U.Particles.prototype={add:function(e){return this.emitters[e.name]=e},remove:function(e){delete this.emitters[e.name]},update:function(){for(var e in this.emitters)this.emitters[e].exists&&this.emitters[e].update()}},U.Particles.prototype.constructor=U.Particles,U.Particles.Arcade={},U.Particles.Arcade.Emitter=function(e,t,i,n){this.maxParticles=n||50,U.Group.call(this,e),this.name="emitter"+this.game.particles.ID++,this.type=U.EMITTER,this.physicsType=U.GROUP,this.area=new U.Rectangle(t,i,1,1),this.minParticleSpeed=new U.Point(-100,-100),this.maxParticleSpeed=new U.Point(100,100),this.minParticleScale=1,this.maxParticleScale=1,this.scaleData=null,this.minRotation=-360,this.maxRotation=360,this.minParticleAlpha=1,this.maxParticleAlpha=1,this.alphaData=null,this.gravity=100,this.particleClass=U.Particle,this.particleDrag=new U.Point,this.angularDrag=0,this.frequency=100,this.lifespan=2e3,this.bounce=new U.Point,this.on=!1,this.particleAnchor=new U.Point(.5,.5),this.blendMode=U.blendModes.NORMAL,this.emitX=t,this.emitY=i,this.autoScale=!1,this.autoAlpha=!1,this.particleBringToTop=!1,this.particleSendToBack=!1,this._minParticleScale=new U.Point(1,1),this._maxParticleScale=new U.Point(1,1),this._quantity=0,this._timer=0,this._counter=0,this._flowQuantity=0,this._flowTotal=0,this._explode=!0,this._frames=null},U.Particles.Arcade.Emitter.prototype=Object.create(U.Group.prototype),U.Particles.Arcade.Emitter.prototype.constructor=U.Particles.Arcade.Emitter,U.Particles.Arcade.Emitter.prototype.update=function(){if(this.on&&this.game.time.time>=this._timer)if(this._timer=this.game.time.time+this.frequency*this.game.time.slowMotion,0!==this._flowTotal)if(0<this._flowQuantity){for(var e=0;e<this._flowQuantity;e++)if(this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal)){this.on=!1;break}}else this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal&&(this.on=!1));else this.emitParticle()&&(this._counter++,0<this._quantity&&this._counter>=this._quantity&&(this.on=!1));for(e=this.children.length;e--;)this.children[e].exists&&this.children[e].update()},U.Particles.Arcade.Emitter.prototype.makeParticles=function(e,t,i,n,r){void 0===i&&(i=this.maxParticles),void 0===n&&(n=!1),void 0===r&&(r=!1);var o,a=0,s=e,p=t=void 0===t?0:t;for(this._frames=t,i>this.maxParticles&&(this.maxParticles=i);a<i;)Array.isArray(e)&&(s=this.game.rnd.pick(e)),Array.isArray(t)&&(p=this.game.rnd.pick(t)),o=new this.particleClass(this.game,0,0,s,p),this.game.physics.arcade.enable(o,!1),n?(o.body.checkCollision.any=!0,o.body.checkCollision.none=!1):o.body.checkCollision.none=!0,o.body.collideWorldBounds=r,o.body.skipQuadTree=!0,o.exists=!1,o.visible=!1,o.anchor.copyFrom(this.particleAnchor),this.add(o),a++;return this},U.Particles.Arcade.Emitter.prototype.kill=function(){return this.on=!1,this.alive=!1,this.exists=!1,this},U.Particles.Arcade.Emitter.prototype.revive=function(){return this.alive=!0,this.exists=!0,this},U.Particles.Arcade.Emitter.prototype.explode=function(e,t){return this._flowTotal=0,this.start(!0,e,0,t,!1),this},U.Particles.Arcade.Emitter.prototype.flow=function(e,t,i,n,r){return void 0===n&&(n=-1),void 0===r&&(r=!0),(i=void 0!==i&&0!==i?i:1)>this.maxParticles&&(i=this.maxParticles),this._counter=0,this._flowQuantity=i,this._flowTotal=n,r?(this.start(!0,e,t,i),this._counter+=i,this.on=!0,this._timer=this.game.time.time+t*this.game.time.slowMotion):this.start(!1,e,t,i),this},U.Particles.Arcade.Emitter.prototype.start=function(e,t,i,n,r){if(void 0===e&&(e=!0),void 0===t&&(t=0),null==i&&(i=250),void 0===r&&(r=!1),(n=void 0===n?0:n)>this.maxParticles&&(n=this.maxParticles),this.revive(),this.visible=!0,this.lifespan=t,this.frequency=i,e||r)for(var o=0;o<n;o++)this.emitParticle();else this.on=!0,this._quantity=n,this._counter=0,this._timer=this.game.time.time+i*this.game.time.slowMotion;return this},U.Particles.Arcade.Emitter.prototype.emitParticle=function(e,t,i,n){void 0===e&&(e=null),void 0===t&&(t=null);var r=this.getFirstExists(!1);if(null===r)return!1;var o=this.game.rnd,i=(void 0!==i&&void 0!==n?r.loadTexture(i,n):void 0!==i&&r.loadTexture(i),this.emitX),a=this.emitY,e=(null!==e?i=e:1<this.width&&(i=o.between(this.left,this.right)),null!==t?a=t:1<this.height&&(a=o.between(this.top,this.bottom)),r.reset(i,a),r.angle=0,r.lifespan=this.lifespan,this.particleBringToTop?this.bringToTop(r):this.particleSendToBack&&this.sendToBack(r),this.autoScale?r.setScaleData(this.scaleData):1!==this.minParticleScale||1!==this.maxParticleScale?r.scale.set(o.realInRange(this.minParticleScale,this.maxParticleScale)):this._minParticleScale.x===this._maxParticleScale.x&&this._minParticleScale.y===this._maxParticleScale.y||r.scale.set(o.realInRange(this._minParticleScale.x,this._maxParticleScale.x),o.realInRange(this._minParticleScale.y,this._maxParticleScale.y)),void 0===n&&(Array.isArray(this._frames)?r.frame=this.game.rnd.pick(this._frames):r.frame=this._frames),this.autoAlpha?r.setAlphaData(this.alphaData):r.alpha=o.realInRange(this.minParticleAlpha,this.maxParticleAlpha),r.blendMode=this.blendMode,r.body);return e.updateBounds(),e.bounce.copyFrom(this.bounce),e.drag.copyFrom(this.particleDrag),e.velocity.x=o.between(this.minParticleSpeed.x,this.maxParticleSpeed.x),e.velocity.y=o.between(this.minParticleSpeed.y,this.maxParticleSpeed.y),e.angularVelocity=o.between(this.minRotation,this.maxRotation),e.gravity.y=this.gravity,e.angularDrag=this.angularDrag,r.onEmit(),!0},U.Particles.Arcade.Emitter.prototype.destroy=function(){this.game.particles.remove(this),U.Group.prototype.destroy.call(this,!0,!1)},U.Particles.Arcade.Emitter.prototype.setSize=function(e,t){return this.area.width=e,this.area.height=t,this},U.Particles.Arcade.Emitter.prototype.setXSpeed=function(e,t){return t=t||0,this.minParticleSpeed.x=e=e||0,this.maxParticleSpeed.x=t,this},U.Particles.Arcade.Emitter.prototype.setYSpeed=function(e,t){return t=t||0,this.minParticleSpeed.y=e=e||0,this.maxParticleSpeed.y=t,this},U.Particles.Arcade.Emitter.prototype.setRotation=function(e,t){return t=t||0,this.minRotation=e=e||0,this.maxRotation=t,this},U.Particles.Arcade.Emitter.prototype.setAlpha=function(e,t,i,n,r){return void 0===t&&(t=1),void 0===i&&(i=0),void 0===n&&(n=U.Easing.Linear.None),void 0===r&&(r=!1),this.minParticleAlpha=e=void 0===e?1:e,this.maxParticleAlpha=t,this.autoAlpha=!1,0<i&&e!==t&&((e=this.game.make.tween({v:e}).to({v:t},i,n)).yoyo(r),this.alphaData=e.generateData(60),this.alphaData.reverse(),this.autoAlpha=!0),this},U.Particles.Arcade.Emitter.prototype.setScale=function(e,t,i,n,r,o,a){return void 0===e&&(e=1),void 0===t&&(t=1),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===o&&(o=U.Easing.Linear.None),void 0===a&&(a=!1),this.minParticleScale=1,this.maxParticleScale=1,this._minParticleScale.set(e,i),this._maxParticleScale.set(t,n),this.autoScale=!1,0<r&&(e!==t||i!==n)&&((e=this.game.make.tween({x:e,y:i}).to({x:t,y:n},r,o)).yoyo(a),this.scaleData=e.generateData(60),this.scaleData.reverse(),this.autoScale=!0),this},U.Particles.Arcade.Emitter.prototype.at=function(e){return e.center?(this.emitX=e.center.x,this.emitY=e.center.y):(this.emitX=e.world.x+e.anchor.x*e.width,this.emitY=e.world.y+e.anchor.y*e.height),this},Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"width",{get:function(){return this.area.width},set:function(e){this.area.width=e}}),Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"height",{get:function(){return this.area.height},set:function(e){this.area.height=e}}),Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"x",{get:function(){return this.emitX},set:function(e){this.emitX=e}}),Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"y",{get:function(){return this.emitY},set:function(e){this.emitY=e}}),Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"left",{get:function(){return Math.floor(this.x-this.area.width/2)}}),Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"right",{get:function(){return Math.floor(this.x+this.area.width/2)}}),Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"top",{get:function(){return Math.floor(this.y-this.area.height/2)}}),Object.defineProperty(U.Particles.Arcade.Emitter.prototype,"bottom",{get:function(){return Math.floor(this.y+this.area.height/2)}}),U.Weapon=function(e,t){U.Plugin.call(this,e,t),this.bullets=null,this.autoExpandBulletsGroup=!1,this.autofire=!1,this.shots=0,this.fireLimit=0,this.fireRate=100,this.fireRateVariance=0,this.fireFrom=new U.Rectangle(0,0,1,1),this.fireAngle=U.ANGLE_UP,this.bulletInheritSpriteSpeed=!1,this.bulletAnimation="",this.bulletFrameRandom=!1,this.bulletFrameCycle=!1,this.bulletWorldWrap=!1,this.bulletWorldWrapPadding=0,this.bulletAngleOffset=0,this.bulletAngleVariance=0,this.bulletSpeed=200,this.bulletSpeedVariance=0,this.bulletLifespan=0,this.bulletKillDistance=0,this.bulletGravity=new U.Point(0,0),this.bulletRotateToVelocity=!1,this.bulletKey="",this.bulletFrame="",this._bulletClass=U.Bullet,this._bulletCollideWorldBounds=!1,this._bulletKillType=U.Weapon.KILL_WORLD_BOUNDS,this._data={customBody:!1,width:0,height:0,offsetX:0,offsetY:0},this.bounds=new U.Rectangle,this.bulletBounds=e.world.bounds,this.bulletFrames=[],this.bulletFrameIndex=0,this.anims={},this.onFire=new U.Signal,this.onKill=new U.Signal,this.onFireLimit=new U.Signal,this.trackedSprite=null,this.trackedPointer=null,this.trackRotation=!1,this.trackOffset=new U.Point,this._nextFire=0,this._rotatedPoint=new U.Point},U.Weapon.prototype=Object.create(U.Plugin.prototype),U.Weapon.prototype.constructor=U.Weapon,U.Weapon.KILL_NEVER=0,U.Weapon.KILL_LIFESPAN=1,U.Weapon.KILL_DISTANCE=2,U.Weapon.KILL_WEAPON_BOUNDS=3,U.Weapon.KILL_CAMERA_BOUNDS=4,U.Weapon.KILL_WORLD_BOUNDS=5,U.Weapon.KILL_STATIC_BOUNDS=6,U.Weapon.prototype.createBullets=function(e,t,i,n){return void 0===e&&(e=1),void 0===n&&(n=this.game.world),this.bullets||(this.bullets=this.game.add.physicsGroup(U.Physics.ARCADE,n),this.bullets.classType=this._bulletClass),0!==e&&(-1===e&&(this.autoExpandBulletsGroup=!0,e=1),this.bullets.createMultiple(e,t,i),this.bullets.setAll("data.bulletManager",this),this.bulletKey=t,this.bulletFrame=i),this},U.Weapon.prototype.forEach=function(e,t){return this.bullets.forEachExists(e,t,arguments),this},U.Weapon.prototype.pauseAll=function(){return this.bullets.setAll("body.enable",!1),this},U.Weapon.prototype.resumeAll=function(){return this.bullets.setAll("body.enable",!0),this},U.Weapon.prototype.killAll=function(){return this.bullets.callAllExists("kill",!0),this.bullets.setAll("body.enable",!0),this},U.Weapon.prototype.resetShots=function(e){return void(this.shots=0)!==e&&(this.fireLimit=e),this},U.Weapon.prototype.destroy=function(){this.parent.remove(this,!1),this.bullets.destroy(),this.game=null,this.parent=null,this.active=!1,this.visible=!1},U.Weapon.prototype.update=function(){this._bulletKillType===U.Weapon.KILL_WEAPON_BOUNDS&&(this.trackedSprite?(this.trackedSprite.updateTransform(),this.bounds.centerOn(this.trackedSprite.worldPosition.x,this.trackedSprite.worldPosition.y)):this.trackedPointer&&this.bounds.centerOn(this.trackedPointer.worldX,this.trackedPointer.worldY)),this.autofire&&this.fire()},U.Weapon.prototype.trackSprite=function(e,t,i,n){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=!1),this.trackedPointer=null,this.trackedSprite=e,this.trackRotation=n,this.trackOffset.set(t,i),this},U.Weapon.prototype.trackPointer=function(e,t,i){return void 0===e&&(e=this.game.input.activePointer),void 0===t&&(t=0),void 0===i&&(i=0),this.trackedPointer=e,this.trackedSprite=null,this.trackRotation=!1,this.trackOffset.set(t,i),this},U.Weapon.prototype.fire=function(e,t,i){if(this.game.time.now<this._nextFire||0<this.fireLimit&&this.shots===this.fireLimit)return!1;var n=this.bulletSpeed,e=(0!==this.bulletSpeedVariance&&(n+=U.Math.between(-this.bulletSpeedVariance,this.bulletSpeedVariance)),e?1<this.fireFrom.width?this.fireFrom.centerOn(e.x,e.y):(this.fireFrom.x=e.x,this.fireFrom.y=e.y):this.trackedSprite?(this.trackRotation?(this._rotatedPoint.set(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y),this._rotatedPoint.rotate(this.trackedSprite.world.x,this.trackedSprite.world.y,this.trackedSprite.rotation),1<this.fireFrom.width?this.fireFrom.centerOn(this._rotatedPoint.x,this._rotatedPoint.y):(this.fireFrom.x=this._rotatedPoint.x,this.fireFrom.y=this._rotatedPoint.y)):1<this.fireFrom.width?this.fireFrom.centerOn(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedSprite.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedSprite.world.y+this.trackOffset.y),this.bulletInheritSpriteSpeed&&(n+=this.trackedSprite.body.speed)):this.trackedPointer&&(1<this.fireFrom.width?this.fireFrom.centerOn(this.trackedPointer.world.x+this.trackOffset.x,this.trackedPointer.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedPointer.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedPointer.world.y+this.trackOffset.y)),1<this.fireFrom.width?this.fireFrom.randomX:this.fireFrom.x),r=1<this.fireFrom.height?this.fireFrom.randomY:this.fireFrom.y,o=this.trackRotation?this.trackedSprite.angle:this.fireAngle,i=(void 0!==t&&void 0!==i&&(o=this.game.math.radToDeg(Math.atan2(i-r,t-e))),0!==this.bulletAngleVariance&&(o+=U.Math.between(-this.bulletAngleVariance,this.bulletAngleVariance)),0),t=0,a=(0===o||180===o?i=Math.cos(this.game.math.degToRad(o))*n:t=(90===o||270===o||(i=Math.cos(this.game.math.degToRad(o))*n),Math.sin(this.game.math.degToRad(o))*n),null);return this.autoExpandBulletsGroup?(a=this.bullets.getFirstExists(!1,!0,e,r,this.bulletKey,this.bulletFrame)).data.bulletManager=this:a=this.bullets.getFirstExists(!1),a&&(a.reset(e,r),a.data.fromX=e,a.data.fromY=r,a.data.killType=this.bulletKillType,a.data.killDistance=this.bulletKillDistance,a.data.rotateToVelocity=this.bulletRotateToVelocity,this.bulletKillType===U.Weapon.KILL_LIFESPAN&&(a.lifespan=this.bulletLifespan),a.angle=o+this.bulletAngleOffset,""!==this.bulletAnimation?(null===a.animations.getAnimation(this.bulletAnimation)&&(e=this.anims[this.bulletAnimation],a.animations.add(e.name,e.frames,e.frameRate,e.loop,e.useNumericIndex)),a.animations.play(this.bulletAnimation)):this.bulletFrameCycle?(a.frame=this.bulletFrames[this.bulletFrameIndex],this.bulletFrameIndex++,this.bulletFrameIndex>=this.bulletFrames.length&&(this.bulletFrameIndex=0)):this.bulletFrameRandom&&(a.frame=this.bulletFrames[Math.floor(Math.random()*this.bulletFrames.length)]),a.data.bodyDirty&&(this._data.customBody&&a.body.setSize(this._data.width,this._data.height,this._data.offsetX,this._data.offsetY),a.body.collideWorldBounds=this.bulletCollideWorldBounds,a.data.bodyDirty=!1),a.body.velocity.set(i,t),a.body.gravity.set(this.bulletGravity.x,this.bulletGravity.y),0!==this.bulletSpeedVariance?(r=this.fireRate,r+=U.Math.between(-this.fireRateVariance,this.fireRateVariance),this._nextFire=this.game.time.now+(r=r<0?0:r)):this._nextFire=this.game.time.now+this.fireRate,this.shots++,this.onFire.dispatch(a,this,n),0<this.fireLimit&&this.shots===this.fireLimit&&this.onFireLimit.dispatch(this,this.fireLimit)),a},U.Weapon.prototype.fireAtPointer=function(e){return void 0===e&&(e=this.game.input.activePointer),this.fire(null,e.worldX,e.worldY)},U.Weapon.prototype.fireAtSprite=function(e){return this.fire(null,e.world.x,e.world.y)},U.Weapon.prototype.fireAtXY=function(e,t){return this.fire(null,e,t)},U.Weapon.prototype.setBulletBodyOffset=function(e,t,i,n){return void 0===i&&(i=0),void 0===n&&(n=0),this._data.customBody=!0,this._data.width=e,this._data.height=t,this._data.offsetX=i,this._data.offsetY=n,this.bullets.callAll("body.setSize","body",e,t,i,n),this.bullets.setAll("data.bodyDirty",!1),this},U.Weapon.prototype.setBulletFrames=function(e,t,i,n){return void 0===i&&(i=!0),void 0===n&&(n=!1),this.bulletFrames=U.ArrayUtils.numberArray(e,t),this.bulletFrameIndex=0,this.bulletFrameCycle=i,this.bulletFrameRandom=n,this},U.Weapon.prototype.addBulletAnimation=function(e,t,i,n,r){return this.anims[e]={name:e,frames:t,frameRate:i,loop:n,useNumericIndex:r},this.bullets.callAll("animations.add","animations",e,t,i,n,r),this.bulletAnimation=e,this},U.Weapon.prototype.debug=function(e,t,i){void 0===i&&(i=!1),this.game.debug.text("Weapon Plugin",e=void 0===e?16:e,t=void 0===t?32:t),this.game.debug.text("Bullets Alive: "+this.bullets.total+" - Total: "+this.bullets.length,e,t+24),i&&this.bullets.forEachExists(this.game.debug.body,this.game.debug,"rgba(255, 0, 255, 0.8)")},Object.defineProperty(U.Weapon.prototype,"bulletClass",{get:function(){return this._bulletClass},set:function(e){this._bulletClass=e,this.bullets.classType=this._bulletClass}}),Object.defineProperty(U.Weapon.prototype,"bulletKillType",{get:function(){return this._bulletKillType},set:function(e){switch(e){case U.Weapon.KILL_STATIC_BOUNDS:case U.Weapon.KILL_WEAPON_BOUNDS:this.bulletBounds=this.bounds;break;case U.Weapon.KILL_CAMERA_BOUNDS:this.bulletBounds=this.game.camera.view;break;case U.Weapon.KILL_WORLD_BOUNDS:this.bulletBounds=this.game.world.bounds}this._bulletKillType=e}}),Object.defineProperty(U.Weapon.prototype,"bulletCollideWorldBounds",{get:function(){return this._bulletCollideWorldBounds},set:function(e){this._bulletCollideWorldBounds=e,this.bullets.setAll("body.collideWorldBounds",e),this.bullets.setAll("data.bodyDirty",!1)}}),Object.defineProperty(U.Weapon.prototype,"x",{get:function(){return this.fireFrom.x},set:function(e){this.fireFrom.x=e}}),Object.defineProperty(U.Weapon.prototype,"y",{get:function(){return this.fireFrom.y},set:function(e){this.fireFrom.y=e}}),U.Bullet=function(e,t,i,n,r){U.Sprite.call(this,e,t,i,n,r),this.anchor.set(.5),this.data={bulletManager:null,fromX:0,fromY:0,bodyDirty:!0,rotateToVelocity:!1,killType:0,killDistance:0}},U.Bullet.prototype=Object.create(U.Sprite.prototype),U.Bullet.prototype.constructor=U.Bullet,U.Bullet.prototype.kill=function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.data.bulletManager.onKill.dispatch(this),this},U.Bullet.prototype.update=function(){this.exists&&(this.data.killType>U.Weapon.KILL_LIFESPAN&&(this.data.killType===U.Weapon.KILL_DISTANCE?this.game.physics.arcade.distanceToXY(this,this.data.fromX,this.data.fromY,!0)>this.data.killDistance&&this.kill():this.data.bulletManager.bulletBounds.intersects(this)||this.kill()),this.data.rotateToVelocity&&(this.rotation=Math.atan2(this.body.velocity.y,this.body.velocity.x)),this.data.bulletManager.bulletWorldWrap&&this.game.world.wrap(this,this.data.bulletManager.bulletWorldWrapPadding))},U.Video=function(e,t,i){var n;void 0===t&&(t=null),void 0===i&&(i=null),this.game=e,this.key=t,this.width=0,this.height=0,this.type=U.VIDEO,this.disableTextureUpload=!1,this.touchLocked=!1,this.onPlay=new U.Signal,this.onChangeSource=new U.Signal,this.onComplete=new U.Signal,this.onAccess=new U.Signal,this.onError=new U.Signal,this.onTimeout=new U.Signal,this.timeout=15e3,this._timeOutID=null,this.video=null,this.videoStream=null,this.isStreaming=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._codeMuted=!1,this._muted=!1,this._codePaused=!1,this._paused=!1,this._pending=!1,this._autoplay=!1,this._endCallback=null,this._playCallback=null,t&&this.game.cache.checkVideoKey(t)?((n=this.game.cache.getVideo(t)).isBlob?this.createVideoFromBlob(n.data):this.video=n.data,this.width=this.video.videoWidth,this.height=this.video.videoHeight):i&&this.createVideoFromURL(i,!1),this.video&&!i?this.baseTexture=new PIXI.BaseTexture(this.video):this.baseTexture=new PIXI.BaseTexture(U.Cache.DEFAULT.baseTexture.source),this.baseTexture.forceLoaded(this.width,this.height),this.texture=new PIXI.Texture(this.baseTexture),this.textureFrame=new U.Frame(0,0,0,this.width,this.height,"video"),this.texture.setFrame(this.textureFrame),this.texture.valid=!1,null!==t&&this.video&&(this.texture.valid=this.video.canplay),this.snapshot=null,U.BitmapData&&(this.snapshot=new U.BitmapData(this.game,"",this.width,this.height)),!this.game.device.cocoonJS&&(this.game.device.iOS||this.game.device.android)||window.PhaserGlobal&&window.PhaserGlobal.fakeiOSTouchLock?this.setTouchLock():n&&(n.locked=!1)},U.Video.prototype={connectToMediaStream:function(e,t){return e&&t&&(this.video=e,this.videoStream=t,this.isStreaming=!0,this.baseTexture.source=this.video,this.updateTexture(null,this.video.videoWidth,this.video.videoHeight),this.onAccess.dispatch(this)),this},startMediaStream:function(e,t,i){if(void 0===e&&(e=!1),void 0===t&&(t=null),void 0===i&&(i=null),!this.game.device.getUserMedia)return this.onError.dispatch(this,"No getUserMedia"),!1;null!==this.videoStream&&(this.videoStream.active?this.videoStream.active=!1:this.videoStream.stop()),this.removeVideoElement(),this.video=document.createElement("video"),this.video.setAttribute("autoplay","autoplay"),null!==t&&(this.video.width=t),null!==i&&(this.video.height=i),this._timeOutID=window.setTimeout(this.getUserMediaTimeout.bind(this),this.timeout);try{navigator.getUserMedia({audio:e,video:!0},this.getUserMediaSuccess.bind(this),this.getUserMediaError.bind(this))}catch(e){this.getUserMediaError(e)}return this},getUserMediaTimeout:function(){clearTimeout(this._timeOutID),this.onTimeout.dispatch(this)},getUserMediaError:function(e){clearTimeout(this._timeOutID),this.onError.dispatch(this,e)},getUserMediaSuccess:function(e){clearTimeout(this._timeOutID),this.videoStream=e,void 0!==this.video.mozSrcObject?this.video.mozSrcObject=e:this.video.src=window.URL&&window.URL.createObjectURL(e)||e;var r=this;this.video.onloadeddata=function(){var n=10;!function e(){var t,i;0<n&&(0<r.video.videoWidth?(t=r.video.videoWidth,i=r.video.videoHeight,isNaN(r.video.videoHeight)&&(i=t/(4/3)),r.video.play(),r.isStreaming=!0,r.baseTexture.source=r.video,r.updateTexture(null,t,i),r.onAccess.dispatch(r)):window.setTimeout(e,500)),n--}()}},createVideoFromBlob:function(e){var t=this;return this.video=document.createElement("video"),this.video.controls=!1,this.video.setAttribute("autoplay","autoplay"),this.video.addEventListener("loadeddata",function(e){t.updateTexture(e)},!0),this.video.src=window.URL.createObjectURL(e),this.video.canplay=!0,this},createVideoFromURL:function(e,t){return void 0===t&&(t=!1),this.texture&&(this.texture.valid=!1),this.video=document.createElement("video"),this.video.controls=!1,t&&this.video.setAttribute("autoplay","autoplay"),this.video.src=e,this.video.canplay=!0,this.video.load(),this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.key=e,this},updateTexture:function(e,t,i){var n=!1;null==t&&(t=this.video.videoWidth,n=!0),null==i&&(i=this.video.videoHeight),this.width=t,this.height=i,this.baseTexture.source!==this.video&&(this.baseTexture.source=this.video),this.baseTexture.forceLoaded(t,i),this.texture.frame.resize(t,i),this.texture.width=t,this.texture.height=i,this.texture.valid=!0,this.snapshot&&this.snapshot.resize(t,i),n&&null!==this.key&&(this.onChangeSource.dispatch(this,t,i),this._autoplay&&(this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate)))},complete:function(){this.onComplete.dispatch(this)},play:function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=1),this.game.sound.onMute&&(this.game.sound.onMute.add(this.setMute,this),this.game.sound.onUnMute.add(this.unsetMute,this),this.game.sound.mute&&this.setMute()),this.game.onPause.add(this.setPause,this),this.game.onResume.add(this.setResume,this),this._endCallback=this.complete.bind(this),this.video.addEventListener("ended",this._endCallback,!0),this.video.addEventListener("webkitendfullscreen",this._endCallback,!0),this.video.loop=e?"loop":"",this.video.playbackRate=t,this.touchLocked?this._pending=!0:(this._pending=!1,null!==this.key&&(4!==this.video.readyState?(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)):(this._playCallback=this.playHandler.bind(this),this.video.addEventListener("playing",this._playCallback,!0))),this.video.play(),this.onPlay.dispatch(this,e,t)),this},playHandler:function(){this.video.removeEventListener("playing",this._playCallback,!0),this.updateTexture()},stop:function(){return this.game.sound.onMute&&(this.game.sound.onMute.remove(this.setMute,this),this.game.sound.onUnMute.remove(this.unsetMute,this)),this.game.onPause.remove(this.setPause,this),this.game.onResume.remove(this.setResume,this),this.isStreaming?(this.video.mozSrcObject?(this.video.mozSrcObject.stop(),this.video.src=null):(this.video.src="",this.videoStream.active?this.videoStream.active=!1:this.videoStream.getTracks?this.videoStream.getTracks().forEach(function(e){e.stop()}):this.videoStream.stop()),this.videoStream=null,this.isStreaming=!1):(this.video.removeEventListener("ended",this._endCallback,!0),this.video.removeEventListener("webkitendfullscreen",this._endCallback,!0),this.video.removeEventListener("playing",this._playCallback,!0),this.touchLocked?this._pending=!1:this.video.pause()),this},add:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)e[t].loadTexture&&e[t].loadTexture(this);else e.loadTexture(this);return this},addToWorld:function(e,t,i,n,r,o){r=r||1,o=o||1;e=this.game.add.image(e,t,this);return e.anchor.set(i,n),e.scale.set(r,o),e},render:function(){!this.disableTextureUpload&&this.playing&&this.baseTexture.dirty()},setMute:function(){this._muted||(this._muted=!0,this.video.muted=!0)},unsetMute:function(){this._muted&&!this._codeMuted&&(this._muted=!1,this.video.muted=!1)},setPause:function(){this._paused||this.touchLocked||(this._paused=!0,this.video.pause())},setResume:function(){!this._paused||this._codePaused||this.touchLocked||(this._paused=!1,this.video.ended||this.video.play())},changeSource:function(e,t){return void 0===t&&(t=!0),this.texture.valid=!1,this.video.pause(),this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.video.src=e,this.video.load(),(this._autoplay=t)||(this.paused=!0),this},checkVideoProgress:function(){4===this.video.readyState?this.updateTexture():(this.retry--,0<this.retry&&(this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)))},setTouchLock:function(){this.game.input.touch.addTouchLockCallback(this.unlock,this),this.touchLocked=!0},unlock:function(){var e;return this.touchLocked=!1,this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate),this.key&&(e=this.game.cache.getVideo(this.key))&&!e.isBlob&&(e.locked=!1),!0},grab:function(e,t,i){if(void 0===e&&(e=!1),void 0===t&&(t=1),void 0===i&&(i=null),null!==this.snapshot)return e&&this.snapshot.cls(),this.snapshot.copy(this.video,0,0,this.width,this.height,0,0,this.width,this.height,0,0,0,1,1,t,i),this.snapshot},removeVideoElement:function(){if(this.video){for(this.video.parentNode&&this.video.parentNode.removeChild(this.video);this.video.hasChildNodes();)this.video.removeChild(this.video.firstChild);this.video.removeAttribute("autoplay"),this.video.removeAttribute("src"),this.video=null}},destroy:function(){this.stop(),this.removeVideoElement(),this.touchLocked&&this.game.input.touch.removeTouchLockCallback(this.unlock,this),this._retryID&&window.clearTimeout(this._retryID)}},Object.defineProperty(U.Video.prototype,"currentTime",{get:function(){return this.video?this.video.currentTime:0},set:function(e){this.video.currentTime=e}}),Object.defineProperty(U.Video.prototype,"duration",{get:function(){return this.video?this.video.duration:0}}),Object.defineProperty(U.Video.prototype,"progress",{get:function(){return this.video?this.video.currentTime/this.video.duration:0}}),Object.defineProperty(U.Video.prototype,"mute",{get:function(){return this._muted},set:function(e){(e=e||null)?this._muted||(this._codeMuted=!0,this.setMute()):this._muted&&(this._codeMuted=!1,this.unsetMute())}}),Object.defineProperty(U.Video.prototype,"paused",{get:function(){return this._paused},set:function(e){e=e||null,this.touchLocked||(e?this._paused||(this._codePaused=!0,this.setPause()):this._paused&&(this._codePaused=!1,this.setResume()))}}),Object.defineProperty(U.Video.prototype,"volume",{get:function(){return this.video?this.video.volume:1},set:function(e){e<0?e=0:1<e&&(e=1),this.video&&(this.video.volume=e)}}),Object.defineProperty(U.Video.prototype,"playbackRate",{get:function(){return this.video?this.video.playbackRate:1},set:function(e){this.video&&(this.video.playbackRate=e)}}),Object.defineProperty(U.Video.prototype,"loop",{get:function(){return!!this.video&&this.video.loop},set:function(e){e&&this.video?this.video.loop="loop":this.video&&(this.video.loop="")}}),Object.defineProperty(U.Video.prototype,"playing",{get:function(){return!(this.video.paused&&this.video.ended)}}),U.Video.prototype.constructor=U.Video,void 0===PIXI.blendModes&&(PIXI.blendModes=U.blendModes),void 0===PIXI.scaleModes&&(PIXI.scaleModes=U.scaleModes),void 0===PIXI.Texture.emptyTexture&&(PIXI.Texture.emptyTexture=new PIXI.Texture(new PIXI.BaseTexture)),void 0===PIXI.DisplayObject._tempMatrix&&(PIXI.DisplayObject._tempMatrix=new PIXI.Matrix),void 0===PIXI.RenderTexture.tempMatrix&&(PIXI.RenderTexture.tempMatrix=new PIXI.Matrix),PIXI.Graphics&&void 0===PIXI.Graphics.POLY&&(PIXI.Graphics.POLY=U.POLYGON,PIXI.Graphics.RECT=U.RECTANGLE,PIXI.Graphics.CIRC=U.CIRCLE,PIXI.Graphics.ELIP=U.ELLIPSE,PIXI.Graphics.RREC=U.ROUNDEDRECTANGLE),PIXI.TextureSilentFail=!0,"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=U:exports).Phaser=U:"undefined"!=typeof define&&define.amd?define("Phaser",n.Phaser=U):n.Phaser=U,U}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.h5ads=e.h5ads||{})}(this,function(r){"use strict";var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};(function(e){var n=Object.prototype.hasOwnProperty,c="~";function i(){}function o(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function r(e,t,i,n,r){if("function"!=typeof i)throw new TypeError("The listener must be a function");i=new o(i,n||e,r),n=c?c+t:t;return e._events[n]?e._events[n].fn?e._events[n]=[e._events[n],i]:e._events[n].push(i):(e._events[n]=i,e._eventsCount++),e}function p(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function t(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(c=!1)),t.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},t.prototype.listeners=function(e){var e=c?c+e:e,t=this._events[e];if(!t)return[];if(t.fn)return[t.fn];for(var i=0,n=t.length,r=new Array(n);i<n;i++)r[i]=t[i].fn;return r},t.prototype.listenerCount=function(e){e=c?c+e:e,e=this._events[e];return e?e.fn?1:e.length:0},t.prototype.emit=function(e,t,i,n,r,o){var a=c?c+e:e;if(!this._events[a])return!1;var s,p=this._events[a],l=arguments.length;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),l){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,i),!0;case 4:return p.fn.call(p.context,t,i,n),!0;case 5:return p.fn.call(p.context,t,i,n,r),!0;case 6:return p.fn.call(p.context,t,i,n,r,o),!0}for(d=1,s=new Array(l-1);d<l;d++)s[d-1]=arguments[d];p.fn.apply(p.context,s)}else for(var h,u=p.length,d=0;d<u;d++)switch(p[d].once&&this.removeListener(e,p[d].fn,void 0,!0),l){case 1:p[d].fn.call(p[d].context);break;case 2:p[d].fn.call(p[d].context,t);break;case 3:p[d].fn.call(p[d].context,t,i);break;case 4:p[d].fn.call(p[d].context,t,i,n);break;default:if(!s)for(h=1,s=new Array(l-1);h<l;h++)s[h-1]=arguments[h];p[d].fn.apply(p[d].context,s)}return!0},t.prototype.on=function(e,t,i){return r(this,e,t,i,!1)},t.prototype.once=function(e,t,i){return r(this,e,t,i,!0)},t.prototype.removeListener=function(e,t,i,n){e=c?c+e:e;if(!this._events[e])return this;if(!t)return p(this,e),this;var r=this._events[e];if(r.fn)r.fn!==t||n&&!r.once||i&&r.context!==i||p(this,e);else{for(var o=0,a=[],s=r.length;o<s;o++)(r[o].fn!==t||n&&!r[o].once||i&&r[o].context!==i)&&a.push(r[o]);a.length?this._events[e]=1===a.length?a[0]:a:p(this,e)}return this},t.prototype.removeAllListeners=function(e){return e?(e=c?c+e:e,this._events[e]&&p(this,e)):(this._events=new i,this._eventsCount=0),this},t.prototype.off=t.prototype.removeListener,t.prototype.addListener=t.prototype.on,t.prefixed=c,e.exports=t.EventEmitter=t})(e={exports:{}});var n,e=e.exports,t=((t=n=n||{})[t.AdMob=0]="AdMob",t[t.MoPub=1]="MoPub",t[t.Chartboost=2]="Chartboost",t[t.Heyzap=3]="Heyzap",o.prototype.setManager=function(e){this.adManager=e,this.adManager.emit(r.AdEvents.AD_PROVIDER_LOADED)},o.prototype.showAd=function(e){if(this.adsEnabled){if(e===r.AdType.banner){if(!this.bannerShowable||null===this.banner)return;this.adManager.emit(r.AdEvents.BANNER_SHOWN,this.banner.width,this.banner.height),this.adManager.bannerActive=!0,this.banner.show()}if(e===r.AdType.interstitial){if(!this.interstitialShowable||null===this.interstitial)return void this.adManager.emit(r.AdEvents.CONTENT_RESUMED,r.AdType.interstitial);this.interstitial.show()}e===r.AdType.rewarded&&(this.insentiveShowable&&null!==this.insentive?this.insentive.show():this.adManager.emit(r.AdEvents.CONTENT_RESUMED,r.AdType.rewarded))}else e!==r.AdType.banner&&this.adManager.emit(r.AdEvents.CONTENT_RESUMED)},o.prototype.adAvailable=function(e){return!0},o.prototype.preloadAd=function(e,t,i){var n=this;this.adsEnabled&&(this.destroyAd(e),e===r.AdType.banner&&(this.banner=this.cocoonProvider.createBanner(t),i&&this.banner.setLayout(i),this.banner.on("load",function(){n.bannerShowable=!0}),this.banner.on("fail",function(){n.bannerShowable=!1,n.banner=null}),this.banner.on("click",function(){n.adManager.emit(r.AdEvents.AD_CLICKED,r.AdType.banner)}),this.banner.on("show",function(){}),this.banner.on("dismiss",function(){}),this.banner.load()),e===r.AdType.interstitial&&(this.interstitial=this.cocoonProvider.createInterstitial(t),this.interstitial.on("load",function(){n.interstitialShowable=!0}),this.interstitial.on("fail",function(){n.interstitialShowable=!1,n.interstitial=null}),this.interstitial.on("click",function(){n.adManager.emit(r.AdEvents.AD_CLICKED,r.AdType.interstitial)}),this.interstitial.on("show",function(){n.adManager.emit(r.AdEvents.CONTENT_PAUSED,r.AdType.interstitial)}),this.interstitial.on("dismiss",function(){n.adManager.emit(r.AdEvents.CONTENT_RESUMED,r.AdType.interstitial),n.interstitialShowable=!1,n.interstitial=null}),this.interstitial.load()),e===r.AdType.rewarded&&(this.insentive=this.cocoonProvider.createRewardedVideo(t),this.insentive.on("load",function(){n.insentiveShowable=!0}),this.insentive.on("fail",function(){n.insentiveShowable=!1,n.insentive=null}),this.insentive.on("click",function(){n.adManager.emit(r.AdEvents.AD_CLICKED,r.AdType.rewarded)}),this.insentive.on("show",function(){n.adManager.emit(r.AdEvents.CONTENT_PAUSED,r.AdType.rewarded)}),this.insentive.on("dismiss",function(){n.adManager.emit(r.AdEvents.CONTENT_RESUMED,r.AdType.rewarded),n.insentiveShowable=!1,n.insentive=null}),this.insentive.on("reward",function(){n.adManager.emit(r.AdEvents.AD_REWARDED,r.AdType.rewarded),n.insentiveShowable=!1,n.insentive=null}),this.insentive.load()))},o.prototype.destroyAd=function(e){if(this.adsEnabled){if(e===r.AdType.banner&&null!==this.banner){try{this.cocoonProvider.releaseBanner(this.banner)}catch(e){}this.banner=null,this.bannerShowable=!1}e===r.AdType.interstitial&&null!==this.interstitial&&(this.cocoonProvider.releaseInterstitial(this.interstitial),this.interstitial=null,this.interstitialShowable=!1)}},o.prototype.hideAd=function(e){this.adsEnabled&&(e===r.AdType.interstitial&&null!==this.interstitial&&this.interstitial.hide(),e===r.AdType.banner&&null!==this.banner&&(this.adManager.bannerActive&&(this.adManager.bannerActive=!1,this.adManager.emit(r.AdEvents.BANNER_HIDDEN,this.banner.width,this.banner.height)),this.banner.hide()),e===r.AdType.rewarded&&null!==this.insentive&&this.insentive.hide())},o);function o(e,t){if(this.adsEnabled=!1,this.bannerShowable=!1,this.interstitialShowable=!1,this.insentiveShowable=!1,Cocoon&&Cocoon.Ad){switch(this.adsEnabled=!0,e){default:case n.AdMob:this.cocoonProvider=Cocoon.Ad.AdMob;break;case n.Chartboost:this.cocoonProvider=Cocoon.Ad.Chartboost;break;case n.Heyzap:this.cocoonProvider=Cocoon.Ad.Heyzap;break;case n.MoPub:this.cocoonProvider=Cocoon.Ad.MoPub}this.cocoonProvider.configure(t)}}s.prototype.setAdListeners=function(){var t=this;cordova.plugins.gdApi.setAdListener(function(e){switch(e.event){case"BANNER_STARTED":t.adManager.emit(r.AdEvents.CONTENT_PAUSED);break;case"API_IS_READY":t.adsEnabled=!0;break;case"API_ALREADY_INITIALIZED":break;case"BANNER_CLOSED":case"API_NOT_READY":case"BANNER_FAILED":t.adManager.emit(r.AdEvents.CONTENT_RESUMED)}},function(e){t.adsEnabled=!1})},s.prototype.setManager=function(e){this.adManager=e,this.adManager.emit(r.AdEvents.AD_PROVIDER_LOADED)},s.prototype.showAd=function(e){var t=this;this.adsEnabled?cordova.plugins.gdApi.showBanner(function(e){},function(e){t.adManager.emit(r.AdEvents.CONTENT_RESUMED)}):this.adManager.emit(r.AdEvents.CONTENT_RESUMED)},s.prototype.adAvailable=function(e){return!0},s.prototype.preloadAd=function(e){},s.prototype.destroyAd=function(e){},s.prototype.hideAd=function(e){};var a=s;function s(e,t,i){void 0===i&&(i=!1),this.adsEnabled=!1,void 0===cordova.plugins||void 0!==cordova.plugins&&void 0===cordova.plugins.gdApi||(i&&cordova.plugins.gdApi.enableTestAds(),this.setAdListeners(),cordova.plugins.gdApi.init([e,t],function(e){},function(e){}))}l.prototype.setManager=function(e){this.adManager=e},l.prototype.showAd=function(e){if(void 0===e&&(e=r.AdType.interstitial),"undefined"!=typeof gamedockSDK)switch(e){case r.AdType.interstitial:this.adManager.emit(r.AdEvents.CONTENT_PAUSED),gamedockSDK.requestInterstitial();break;case r.AdType.rewarded:if(!this.adAvailable(r.AdType.rewarded)){this.resumeGameplay();break}this.adManager.emit(r.AdEvents.CONTENT_PAUSED),this.rewardedChanged(!1),gamedockSDK.playRewardVideo();break;default:this.resumeGameplay()}},l.prototype.interstitalAvailable=function(){"undefined"!=typeof gamedockSDK&&gamedockSDK.playInterstitial()},l.prototype.rewardVideoFinished=function(e){switch(e){case"dismiss":this.resumeGameplay();break;case"close":this.adManager.emit(r.AdEvents.AD_REWARDED)}},l.prototype.resumeGameplay=function(){this.adManager.emit(r.AdEvents.CONTENT_RESUMED)},l.prototype.preloadAd=function(e){if(void 0===e&&(e=r.AdType.interstitial),"undefined"!=typeof gamedockSDK&&e===r.AdType.rewarded)this.rewardedLoaded||gamedockSDK.requestRewardVideo()},l.prototype.destroyAd=function(){},l.prototype.hideAd=function(){},l.prototype.adAvailable=function(e){return e===r.AdType.rewarded&&this.rewardedLoaded},l.prototype.rewardedChanged=function(e){this.rewardedLoaded=e};var p=l;function l(){var t=this;this.adsEnabled=!1,this.rewardedLoaded=!1,"undefined"!=typeof gamedockSDK&&(gamedockSDK.on("PrivacyPolicyStatus",function(e){t.adManager.emit(r.AdEvents.AD_PROVIDER_LOADED)}),gamedockSDK.initialise(!1,{shouldBlock:!0,requiredAge:12},!0,"PRODUCTION",[]),gamedockSDK.on("AdAvailable",function(e){switch(e.type){case"interstitial":t.interstitalAvailable();break;case"rewardVideo":t.rewardedChanged(!0);break;case"banner":throw new Error("Not yet implemented.")}}),gamedockSDK.on("AdNotAvailable",function(e){switch(e.type){case"interstitial":case"rewardVideo":t.resumeGameplay();break;case"banner":throw new Error("Not yet implemented.")}}),gamedockSDK.on("AdFinished",function(e){switch(e.type){case"interstitial":t.resumeGameplay();break;case"rewardVideo":t.rewardVideoFinished(e.reason);break;case"banner":throw new Error("Not yet implemented.")}}))}u.prototype.setManager=function(e){this.adManager=e,this.adManager.emit(r.AdEvents.AD_PROVIDER_LOADED)},u.prototype.showAd=function(e,t){var i=this;switch(this.adsEnabled||this.adManager.emit(r.AdEvents.CONTENT_RESUMED),e){case r.AdType.interstitial:HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.HIDE,function(){i.adManager.emit(r.AdEvents.CONTENT_RESUMED,HeyzapAds.InterstitialAd.Events.HIDE)}),HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.SHOW_FAILED,function(){i.adManager.emit(r.AdEvents.CONTENT_RESUMED,HeyzapAds.InterstitialAd.Events.SHOW_FAILED)}),HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.CLICKED,function(){i.adManager.emit(r.AdEvents.AD_CLICKED,HeyzapAds.InterstitialAd.Events.CLICKED)}),HeyzapAds.InterstitialAd.show().then(function(){i.adManager.emit(r.AdEvents.CONTENT_PAUSED)},function(e){i.adManager.emit(r.AdEvents.CONTENT_RESUMED)});break;case r.AdType.interstitial:HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.HIDE,function(){i.adManager.emit(r.AdEvents.CONTENT_RESUMED,HeyzapAds.VideoAd.Events.HIDE)}),HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.SHOW_FAILED,function(){i.adManager.emit(r.AdEvents.CONTENT_RESUMED,HeyzapAds.VideoAd.Events.SHOW_FAILED)}),HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.CLICKED,function(){i.adManager.emit(r.AdEvents.AD_CLICKED,HeyzapAds.VideoAd.Events.CLICKED)}),HeyzapAds.VideoAd.show().then(function(){i.adManager.emit(r.AdEvents.CONTENT_PAUSED)},function(e){i.adManager.emit(r.AdEvents.CONTENT_RESUMED)});break;case r.AdType.rewarded:HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.HIDE,function(){i.adManager.emit(r.AdEvents.CONTENT_RESUMED,HeyzapAds.IncentivizedAd.Events.HIDE)}),HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.SHOW_FAILED,function(){i.adManager.emit(r.AdEvents.CONTENT_RESUMED,HeyzapAds.IncentivizedAd.Events.SHOW_FAILED)}),HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.CLICKED,function(){i.adManager.emit(r.AdEvents.AD_CLICKED,HeyzapAds.IncentivizedAd.Events.CLICKED)}),HeyzapAds.IncentivizedAd.show().then(function(){i.adManager.emit(r.AdEvents.CONTENT_PAUSED)},function(e){i.adManager.emit(r.AdEvents.CONTENT_RESUMED)});break;case r.AdType.banner:if(void 0===t)return;HeyzapAds.BannerAd.show(t).then(function(){},function(e){})}},u.prototype.adAvailable=function(e){return!0},u.prototype.preloadAd=function(e){this.adsEnabled&&e===r.AdType.rewarded&&HeyzapAds.IncentivizedAd.fetch().then(function(){},function(e){})},u.prototype.destroyAd=function(e){this.adsEnabled&&e===r.AdType.banner&&HeyzapAds.BannerAd.destroy().then(function(){},function(e){})},u.prototype.hideAd=function(e){this.adsEnabled&&e===r.AdType.banner&&HeyzapAds.BannerAd.hide().then(function(){},function(e){})};var h=u;function u(e){var t=this;this.adsEnabled=!1,this.adsEnabled=!0,HeyzapAds.start(e).then(function(){},function(e){t.adsEnabled=!1})}m.prototype.setManager=function(e){this.adManager=e,this.adManager.emit(r.AdEvents.AD_PROVIDER_LOADED)},m.prototype.showAd=function(e){switch(e=void 0===e?r.AdType.interstitial:e){case r.AdType.interstitial:if(!this.interstitialLoaded){this.resumeGameplay();break}this.interstitialChanged(!1),this.adManager.emit(r.AdEvents.CONTENT_PAUSED),IronSourceAds.showInterstitial();break;case r.AdType.rewarded:if(!this.rewardedLoaded){this.resumeGameplay();break}this.adManager.emit(r.AdEvents.CONTENT_PAUSED),IronSourceAds.showRewardedVideo();break;default:this.resumeGameplay()}},m.prototype.resumeGameplay=function(){this.adManager.emit(r.AdEvents.CONTENT_RESUMED)},m.prototype.preloadAd=function(e){(e=void 0===e?r.AdType.interstitial:e)===r.AdType.interstitial&&IronSourceAds.loadInterstitial()},m.prototype.destroyAd=function(){},m.prototype.hideAd=function(){},m.prototype.adAvailable=function(e){switch(e){case r.AdType.interstitial:return this.interstitialLoaded;case r.AdType.rewarded:return this.rewardedLoaded}return!1},m.prototype.interstitialChanged=function(e){this.interstitialLoaded=e},m.prototype.rewardedChanged=function(e){this.rewardedLoaded=e};var d,c=m;function m(e){var t=this;this.adsEnabled=!1,this.interstitialLoaded=!1,this.rewardedLoaded=!1,"undefined"!=typeof IronSourceAds&&(IronSourceAds.init({appKey:e}),e=function(){return t.resumeGameplay()},window.addEventListener("interstitialClosed",e),window.addEventListener("interstitialShowFailed",e),window.addEventListener("interstitialLoaded",function(){return t.interstitialChanged(!0)}),window.addEventListener("rewardedVideoClosed",e),window.addEventListener("rewardedVideoFailed",e),IronSourceAds.hasRewardedVideo({onSuccess:this.rewardedChanged.bind(this)}),window.addEventListener("rewardedVideoAvailabilityChanged",function(e){return t.rewardedChanged(e.available)}))}(f=d=d||{}).interstitial="interstitial",f.rewarded="rewarded",f.display="display",(f=r.GameDistributionBannerSize||(r.GameDistributionBannerSize={}))[f.LargeRectangle=0]="LargeRectangle",f[f.MediumRectangle=1]="MediumRectangle",f[f.Billboard=2]="Billboard",f[f.Leaderboard=3]="Leaderboard",f[f.Skyscraper=4]="Skyscraper",f[f.WideSkyscraper=5]="WideSkyscraper",(f=r.GameDistributionAlignment||(r.GameDistributionAlignment={}))[f.TopLeft=0]="TopLeft",f[f.TopCenter=1]="TopCenter",f[f.TopRight=2]="TopRight",f[f.CenterLeft=3]="CenterLeft",f[f.Center=4]="Center",f[f.CenterRight=5]="CenterRight",f[f.BottomLeft=6]="BottomLeft",f[f.BottomCenter=7]="BottomCenter",f[f.BottomRight=8]="BottomRight";_.prototype.loadBanner=function(){return"undefined"==typeof gdsdk?Promise.reject("GD Sdk not available, probably due to adblocker"):gdsdk.showAd(d.display,{containerId:this.element.id})},_.prototype.destroy=function(){document.body.removeChild(this.element),this.resizeListener&&window.removeEventListener("resize",this.resizeListener),delete this.element,delete this.parent,delete this.alignment},_.prototype.alignIn=function(e,t){var i=this;this.parent||(this.parent=e,this.alignment=t,this.resizeListener=function(){return i.resize()},window.addEventListener("resize",this.resizeListener),this.resize())},_.prototype.setOffset=function(e,t){void 0===t&&(t=0),this.offsetX=e=void 0===e?0:e,this.offsetY=t,this.resize()},_.prototype.resize=function(){if(this.parent){var e=this.parent.getBoundingClientRect();switch(this.alignment){case r.GameDistributionAlignment.TopLeft:this.position(e.left,e.top);break;case r.GameDistributionAlignment.TopCenter:this.position(e.left+e.width/2-this.width*this.scaleFactor/2,e.top);break;case r.GameDistributionAlignment.TopRight:this.position(e.left+e.width-this.width*this.scaleFactor,e.top);break;case r.GameDistributionAlignment.CenterLeft:this.position(e.left,e.top+e.height/2-this.height*this.scaleFactor/2);break;case r.GameDistributionAlignment.Center:this.position(e.left+e.width/2-this.width*this.scaleFactor/2,e.top+e.height/2-this.height*this.scaleFactor/2);break;case r.GameDistributionAlignment.CenterRight:this.position(e.left+e.width-this.width*this.scaleFactor,e.top+e.height/2-this.height*this.scaleFactor/2);break;case r.GameDistributionAlignment.BottomLeft:this.position(e.left,e.top+e.height-this.height*this.scaleFactor);break;case r.GameDistributionAlignment.BottomCenter:this.position(e.left+e.width/2-this.width*this.scaleFactor/2,e.top+e.height-this.height*this.scaleFactor);break;case r.GameDistributionAlignment.BottomRight:this.position(e.left+e.width-this.width*this.scaleFactor,e.top+e.height-this.height*this.scaleFactor)}}},_.prototype.setSize=function(e){var t,i;switch(e){default:case r.GameDistributionBannerSize.LargeRectangle:t=336,i=280;break;case r.GameDistributionBannerSize.MediumRectangle:t=300,i=250;break;case r.GameDistributionBannerSize.Billboard:t=970,i=250;break;case r.GameDistributionBannerSize.Leaderboard:t=728,i=90;break;case r.GameDistributionBannerSize.Skyscraper:t=120,i=600;break;case r.GameDistributionBannerSize.WideSkyscraper:t=160,i=600}this.width=t,this.height=i,this.element.style.width=t+"px",this.element.style.height=i+"px"},_.prototype.position=function(e,t){this.element.style.left=e+this.offsetX+"px",this.element.style.top=t+this.offsetY+"px"},_.prototype.scale=function(e){this.element.style.transformOrigin="left top",this.scaleFactor=e,this.element.style.transform="scale("+e+")"};var y=_;function _(){this.scaleFactor=1,this.offsetX=0,this.offsetY=0,this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.top="0px",this.element.style.left="0px",this.element.id="banner-"+Date.now()+(1e7*Math.random()|0),document.body.appendChild(this.element)}g.prototype.setManager=function(e){this.adManager=e,this.adManager.emit(r.AdEvents.AD_PROVIDER_LOADED)},g.prototype.sdkLoaded=function(){this.adsEnabled=!0},g.prototype.showAd=function(e){var t=this;if(this.adsEnabled){if("undefined"==typeof gdsdk||gdsdk&&void 0===gdsdk.showAd)return this.adsEnabled=!1,void this.adManager.emit(r.AdEvents.CONTENT_RESUMED);gdsdk.showAd(e===r.AdType.rewarded?d.rewarded:d.interstitial).then(function(){e===r.AdType.rewarded&&(t.adManager.emit(r.AdEvents.AD_REWARDED),t.hasRewarded=!1),t.adManager.emit(r.AdEvents.CONTENT_RESUMED)}).catch(function(){e===r.AdType.rewarded&&t.hasRewarded&&(t.hasRewarded=!1),t.adManager.emit(r.AdEvents.CONTENT_RESUMED)})}else this.adManager.emit(r.AdEvents.CONTENT_RESUMED)},g.prototype.createBanner=function(e){var t;if(this.adsEnabled)return t=new y,t.setSize(e),t},g.prototype.loadBanner=function(e){var t;if(this.adsEnabled)return t=new y,t.setSize(e),t.loadBanner(),t},g.prototype.preloadAd=function(e){var t=this;!this.hasRewarded&&this.adsEnabled&&e===r.AdType.rewarded&&gdsdk.preloadAd(d.rewarded).then(function(){t.hasRewarded=!0,t.adManager.emit(r.AdEvents.AD_LOADED,e)})},g.prototype.adAvailable=function(e){return e!==r.AdType.rewarded||this.hasRewarded},g.prototype.destroyAd=function(){},g.prototype.hideAd=function(){},g.prototype.areAdsEnabled=function(){var e=document.createElement("script");e.id="debug-test-ad",e.src="patch/js/null.js?storage.googleapis.com/cdn.fbrq.io/anyad.js",document.body.appendChild(e);return new Promise(function(e){window.setTimeout(function(){e(function(){var e=!0;if(document.getElementById("az-test-ad")||(e=!1),document.getElementById("debug-test-ad")){var t=document.getElementById("debug-test-ad");try{t.parentNode.removeChild(t)}catch(e){}}if(document.getElementById("az-test-ad")){t=document.getElementById("az-test-ad");try{t.parentNode.removeChild(t)}catch(e){}}return e}())},100)})};var x,f=g;function g(e){var t,i,n=this;this.adsEnabled=!1,this.hasRewarded=!1,this.adShowing=!1,window.GD_OPTIONS={gameId:e,advertisementSettings:{autoplay:!1},onEvent:function(e){switch(e.name){case"SDK_GAME_PAUSE":n.adManager.emit(r.AdEvents.CONTENT_PAUSED);break;case"SDK_READY":n.sdkLoaded()}}},e=document,t="gamedistribution-jssdk",i=e.getElementsByTagName("script")[0],e.getElementById(t)||((e=e.createElement("script")).id=t,e.src="patch/js/gd-sdk.js?html5.api.gamedistribution.com/main.min.js",i.parentNode&&i.parentNode.insertBefore(e,i))}(v=x=x||{})[v.start=0]="start",v[v.firstQuartile=1]="firstQuartile",v[v.midPoint=2]="midPoint",v[v.thirdQuartile=3]="thirdQuartile",v[v.complete=4]="complete";z.prototype.setManager=function(e){this.adManager=e,this.adManager.emit(r.AdEvents.AD_PROVIDER_LOADED)},z.prototype.showAd=function(e,t){if(!this.adRequested)if(this.adsEnabled||this.adManager.emit(r.AdEvents.AD_DISABLED,!0),this.googleEnabled){this.adDisplay.initialize();var i=new google.ima.AdsRequest,t=(i.adTagUrl=this.adTagUrl+this.parseCustomParams(t),window.innerWidth),n=window.innerHeight;document.body.clientHeight<window.innerHeight&&(n=document.body.clientHeight,t=document.body.clientWidth),i.linearAdSlotWidth=t,i.linearAdSlotHeight=n,i.nonLinearAdSlotWidth=t,i.nonLinearAdSlotHeight=n,i.forceNonLinearFullSlot=!0;try{this.adRequested=!0,this.adLoader.requestAds(i)}catch(e){this.onContentResumeRequested()}}else this.onContentResumeRequested()},z.prototype.adAvailable=function(e){return!0},z.prototype.preloadAd=function(){},z.prototype.destroyAd=function(){},z.prototype.hideAd=function(){},z.prototype.onAdManagerLoader=function(e){var t=this,i=new google.ima.AdsRenderingSettings,n=(i.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.getAdsManager(this.gameContent,i));(this.adsManager=n).addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested,!1,this),n.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested,!1,this),n.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this),[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE].forEach(function(e){n.addEventListener(e,t.onAdEvent,!1,t)});try{this.adContent.style.display="block";var r=window.innerWidth,o=window.innerHeight;this.adsManager.init(r,o,google.ima.ViewMode.NORMAL),this.adsManager.start(),this.resizeListener=function(){null!==t.adsManager&&t.adsManager.resize(window.innerWidth,window.innerHeight,google.ima.ViewMode.NORMAL)},window.addEventListener("resize",this.resizeListener)}catch(e){this.onAdError(e)}},z.prototype.onAdEvent=function(e){switch(e.type){case google.ima.AdEvent.Type.CLICK:this.adManager.emit(r.AdEvents.AD_CLICKED);break;case google.ima.AdEvent.Type.LOADED:this.adRequested=!1;var t=e.getAd();t.isLinear()||this.onContentResumeRequested();break;case google.ima.AdEvent.Type.STARTED:this.adManager.emit(r.AdEvents.AD_PROGRESSION,x.start);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.adManager.emit(r.AdEvents.AD_PROGRESSION,x.firstQuartile);break;case google.ima.AdEvent.Type.MIDPOINT:this.adManager.emit(r.AdEvents.AD_PROGRESSION,x.midPoint);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.adManager.emit(r.AdEvents.AD_PROGRESSION,x.thirdQuartile);break;case google.ima.AdEvent.Type.COMPLETE:this.adManager.emit(r.AdEvents.AD_PROGRESSION,x.complete);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.onContentResumeRequested()}},z.prototype.onAdError=function(e){null!==this.adsManager&&(this.adsManager.destroy(),null!==this.resizeListener&&window.removeEventListener("resize",this.resizeListener)),this.adRequested&&(this.adRequested=!1),this.onContentResumeRequested()},z.prototype.onContentPauseRequested=function(){this.adManager.emit(r.AdEvents.CONTENT_PAUSED)},z.prototype.onContentResumeRequested=function(){"undefined"==typeof google||(this.adContent.style.display="none"),this.adManager.emit(r.AdEvents.CONTENT_RESUMED)},z.prototype.parseCustomParams=function(e){if(void 0===e)return"";var t,i="";for(t in e)e.hasOwnProperty(t)&&(0<i.length&&(i+="&"),i+=t+"="+(Array.isArray(e[t])?e[t].join(","):e[t]));return"&cust_params="+encodeURIComponent(i)},z.prototype.areAdsEnabled=function(){var t=this,i=document.createElement("div");i.innerHTML="&nbsp;",i.className="adsbox",i.style.position="absolute",i.style.fontSize="10px",document.body.appendChild(i);window.setTimeout(function(){var e;t.adsEnabled=(e=!0,0===i.offsetHeight&&(e=!1),i.parentNode&&i.parentNode.removeChild(i),e)},100)};var v=z;function z(e,t){this.googleEnabled=!1,this.adsEnabled=!0,this.adTagUrl="",this.adRequested=!1,this.areAdsEnabled(),"undefined"!=typeof google&&(this.googleEnabled=!0,this.gameContent="string"==typeof e.parentElement?document.getElementById(e.parentElement):e.parentElement,this.gameContent.style.position="absolute",this.gameContent.style.width="100%",this.adContent=this.gameContent.parentNode.appendChild(document.createElement("div")),this.adContent.id="phaser-ad-container",this.adContent.style.position="absolute",this.adContent.style.zIndex="9999",this.adContent.style.display="none",this.adContent.style.top="0",this.adContent.style.left="0",this.adContent.style.width="100%",this.adContent.style.height="100%",this.adContent.style.overflow="hidden",this.adTagUrl=t,this.adDisplay=new google.ima.AdDisplayContainer(this.adContent),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale("nl"),this.adLoader=new google.ima.AdsLoader(this.adDisplay),this.adLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdManagerLoader,!1,this),this.adLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this))}(k=r.AdEvents||(r.AdEvents={})).CONTENT_PAUSED="onContentPaused",k.CONTENT_RESUMED="onContentResumed",k.AD_PROGRESSION="onAdProgression",k.AD_DISABLED="onAdsDisabled",k.AD_CLICKED="onAdClicked",k.AD_REWARDED="onAdRewardGranted",k.BANNER_SHOWN="onBannerShown",k.BANNER_HIDDEN="onBannerHidden",k.AD_LOADED="onAdLoaded",k.AD_PROVIDER_LOADED="onAdProviderLoaded",(k=r.AdType||(r.AdType={}))[k.interstitial=0]="interstitial",k[k.rewarded=1]="rewarded",k[k.banner=2]="banner";i(w=C,k=b=e),w.prototype=null===k?Object.create(k):(S.prototype=k.prototype,new S),C.prototype.setAdProvider=function(e){this.provider=e,this.provider.setManager(this)},C.prototype.showAd=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not request an ad without an provider, please attach an ad provider!");t.unshift(e),this.provider.showAd.apply(this.provider,t)},C.prototype.createBanner=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.provider.loadBanner.apply(this.provider,e)},C.prototype.loadBanner=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"function"==typeof this.provider.loadBanner?this.provider.loadBanner.apply(this.provider,e):null},C.prototype.preloadAd=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not preload an ad without an provider, please attach an ad provider!");t.unshift(e),this.provider.preloadAd.apply(this.provider,t)},C.prototype.destroyAd=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not destroy an ad without an provider, please attach an ad provider!");t.unshift(e),this.provider.destroyAd.apply(this.provider,t)},C.prototype.hideAd=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");t.unshift(e),this.provider.hideAd.apply(this.provider,t)},C.prototype.adsEnabled=function(){if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");return this.provider.adsEnabled},C.prototype.adAvailable=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");return t.unshift(e),this.provider.adAvailable.apply(this.provider,t)};var b,w,e=C;function S(){this.constructor=w}function C(){var e=null!==b&&b.apply(this,arguments)||this;return e.bannerActive=!1,e.provider=null,e}var k=new e;r.H5AdWrapper=e,r.adWrapper=k,r.CocoonAds=t,r.CordovaGamedistribution=a,r.CordovaGamedock=p,r.CordovaHeyzap=h,r.CordovaIronSource=c,r.GameDistribution=f,r.GameDistributionBanner=y,r.Ima3=v,Object.defineProperty(r,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).h5branding=e.h5branding||{})}(this,function(o){"use strict";var ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function re(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function e(e,t){return e(t={exports:{}},t.exports),t.exports}e(function(e,t){e.exports=function(){function n(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function p(e){return typeof e==="function"}var e=void 0;if(Array.isArray)e=Array.isArray;else e=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var i=e,r=0,t=void 0,o=void 0,a=function e(t,i){_[r]=t;_[r+1]=i;r+=2;if(r===2)if(o)o(x);else f()};function s(e){o=e}function l(e){a=e}var h=typeof window!=="undefined"?window:undefined,u=h||{},d=u.MutationObserver||u.WebKitMutationObserver,c=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]",m=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function L(){return function(){return process.nextTick(x)}}function D(){if(typeof t!=="undefined")return function(){t(x)};return y()}function R(){var e=0;var t=new d(x);var i=document.createTextNode("");t.observe(i,{characterData:true});return function(){i.data=e=++e%2}}function j(){var e=new MessageChannel;e.port1.onmessage=x;return function(){return e.port2.postMessage(0)}}function y(){var e=setTimeout;return function(){return e(x,1)}}var _=new Array(1e3);function x(){for(var e=0;e<r;e+=2){var t=_[e];var i=_[e+1];t(i);_[e]=undefined;_[e+1]=undefined}r=0}function F(){try{var e=Function("return this")().require("vertx");t=e.runOnLoop||e.runOnContext;return D()}catch(e){return y()}}var f=void 0;if(c)f=L();else if(d)f=R();else if(m)f=j();else if(h===undefined&&typeof re==="function")f=F();else f=y();function g(e,t){var i=this;var n=new this.constructor(b);if(n[z]===undefined)I(n);var r=i._state;if(r){var o=arguments[r-1];a(function(){return A(r,n,o,i._result)})}else T(i,n,e,t);return n}function v(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t)return e;var i=new t(b);M(i,e);return i}var z=Math.random().toString(36).substring(2);function b(){}var w=void 0,S=1,C=2;function N(){return new TypeError("You cannot resolve a promise with itself")}function U(){return new TypeError("A promises callback cannot return that same promise.")}function H(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}function V(e,n,r){a(function(t){var i=false;var e=H(r,n,function(e){if(i)return;i=true;if(n!==e)M(t,e);else P(t,e)},function(e){if(i)return;i=true;O(t,e)},"Settle: "+(t._label||" unknown promise"));if(!i&&e){i=true;O(t,e)}},e)}function W(t,e){if(e._state===S)P(t,e._result);else if(e._state===C)O(t,e._result);else T(e,undefined,function(e){return M(t,e)},function(e){return O(t,e)})}function k(e,t,i){if(t.constructor===e.constructor&&i===g&&t.constructor.resolve===v)W(e,t);else if(i===undefined)P(e,t);else if(p(i))V(e,t,i);else P(e,t)}function M(t,e){if(t===e)O(t,N());else if(n(e)){var i=void 0;try{i=e.then}catch(e){O(t,e);return}k(t,e,i)}else P(t,e)}function q(e){if(e._onerror)e._onerror(e._result);G(e)}function P(e,t){if(e._state!==w)return;e._result=t;e._state=S;if(e._subscribers.length!==0)a(G,e)}function O(e,t){if(e._state!==w)return;e._state=C;e._result=t;a(q,e)}function T(e,t,i,n){var r=e._subscribers;var o=r.length;e._onerror=null;r[o]=t;r[o+S]=i;r[o+C]=n;if(o===0&&e._state)a(G,e)}function G(e){var t=e._subscribers;var i=e._state;if(t.length===0)return;var n=void 0,r=void 0,o=e._result;for(var a=0;a<t.length;a+=3){n=t[a];r=t[a+i];if(n)A(i,n,r,o);else r(o)}e._subscribers.length=0}function A(e,t,i,n){var r=p(i),o=void 0,a=void 0,s=true;if(r){try{o=i(n)}catch(e){s=false;a=e}if(t===o){O(t,U());return}}else o=n;if(t._state!==w);else if(r&&s)M(t,o);else if(s===false)O(t,a);else if(e===S)P(t,o);else if(e===C)O(t,o)}function X(i,e){try{e(function e(t){M(i,t)},function e(t){O(i,t)})}catch(e){O(i,e)}}var E=0;function Y(){return E++}function I(e){e[z]=E++;e._state=undefined;e._result=undefined;e._subscribers=[]}function K(){return new Error("Array Methods must be provided an Array")}var Z=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(b);if(!this.promise[z])I(this.promise);if(i(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0)P(this.promise,this._result);else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0)P(this.promise,this._result)}}else O(this.promise,K())}e.prototype._enumerate=function e(t){for(var i=0;this._state===w&&i<t.length;i++)this._eachEntry(t[i],i)};e.prototype._eachEntry=function e(t,i){var n=this._instanceConstructor;var r=n.resolve;if(r===v){var o=void 0;var a=void 0;var s=false;try{o=t.then}catch(e){s=true;a=e}if(o===g&&t._state!==w)this._settledAt(t._state,i,t._result);else if(typeof o!=="function"){this._remaining--;this._result[i]=t}else if(n===B){var p=new n(b);if(s)O(p,a);else k(p,t,o);this._willSettleAt(p,i)}else this._willSettleAt(new n(function(e){return e(t)}),i)}else this._willSettleAt(r(t),i)};e.prototype._settledAt=function e(t,i,n){var r=this.promise;if(r._state===w){this._remaining--;if(t===C)O(r,n);else this._result[i]=n}if(this._remaining===0)P(r,this._result)};e.prototype._willSettleAt=function e(t,i){var n=this;T(t,undefined,function(e){return n._settledAt(S,i,e)},function(e){return n._settledAt(C,i,e)})};return e}();function J(e){return new Z(this,e).promise}function Q(r){var o=this;if(!i(r))return new o(function(e,t){return t(new TypeError("You must pass an array to race."))});else return new o(function(e,t){var i=r.length;for(var n=0;n<i;n++)o.resolve(r[n]).then(e,t)})}function $(e){var t=this;var i=new t(b);O(i,e);return i}function ee(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function te(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var B=function(){function t(e){this[z]=Y();this._result=this._state=undefined;this._subscribers=[];if(b!==e){typeof e!=="function"&&ee();this instanceof t?X(this,e):te()}}t.prototype.catch=function e(t){return this.then(null,t)};t.prototype.finally=function e(t){var i=this;var n=i.constructor;if(p(t))return i.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})});return i.then(t,t)};return t}();function ie(){var e=void 0;if(typeof ne!=="undefined")e=ne;else if(typeof self!=="undefined")e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if(i==="[object Promise]"&&!t.cast)return}e.Promise=B}return B.prototype.then=g,B.all=J,B.race=Q,B.resolve=v,B.reject=$,B._setScheduler=s,B._setAsap=l,B._asap=a,B.polyfill=ie,B.Promise=B}()}).polyfill(),t.has=function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var i=e.lastIndexOf(".",t-1);if(i<=0||t-1<=i)return!1;var n=r[e.slice(t+1)];return!!n&&0<=n.indexOf(" "+e.slice(i+1,t)+" ")},t.is=function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(0<=e.lastIndexOf(".",t-1))return!1;var i=r[e.slice(t+1)];return!!i&&0<=i.indexOf(" "+e.slice(0,t)+" ")},t.get=function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var i=e.lastIndexOf(".",t-1);if(i<=0||t-1<=i)return null;var n=r[e.slice(t+1)];return!n||n.indexOf(" "+e.slice(i+1,t)+" ")<0?null:e.slice(i+1)};var r,i=t;function t(){}a.setList=function(e){r=e||{}},a.getDomain=function(e){if(!r)return null;var t=e.match(/\./g);if(t&&t.length<2)return e;t=this.getTld(e);if(!t)return null;t=e.length-t.length-1,t=e.lastIndexOf(".",t-1)+1;return e.substring(t)||""},a.getTld=function(e){if(!r)return"";var t=e.lastIndexOf("."),t=e.substring(t+1);return r[t.toLowerCase()]&&i.get(e)||t},a.KEY="Domains";var n=a;function a(){}Object.defineProperty(p,"instance",{get:function(){return p.classInstance=void 0===p.classInstance?new p:p.classInstance},enumerable:!1,configurable:!0}),p.prototype.load=function(t,e,i){var n=this;return this.contains(t)?Promise.reject("Already in cache."):(this.cache[t]={url:e,data:null},this.requestXhr(e,i).then(function(e){return n.loadComplete(t,e)}).catch(function(e){return n.remove(t),Promise.reject(e)}))},p.prototype.loadComplete=function(e,t){if(!this.contains(e))return Promise.reject("Item was removed from cache before loading was complete.");try{var i=JSON.parse(t);return this.cache[e].data=i,Promise.resolve(i)}catch(e){return Promise.reject("There was an error parsing JSON file.")}},p.prototype.remove=function(e){this.contains(e)&&delete this.cache[e]},p.prototype.get=function(e){return this.contains(e)?this.cache[e].data:null},p.prototype.contains=function(e){return this.cache.hasOwnProperty(e)},p.prototype.isLoading=function(e){return this.contains(e)&&null===this.cache[e].data},p.prototype.isLoaded=function(e){return this.contains(e)&&null!==this.cache[e].data},p.prototype.loadScript=function(n,e,r){return new Promise(function(e,t){var i=document.createElement("script");i.src=n,i.async=!1,i.onload=function(){"function"==typeof r&&r(),e()},document.head.appendChild(i)})},p.prototype.requestXhr=function(i,n){var r;return void 0===n&&(n="application/json"),window.XMLHttpRequest?(r=new XMLHttpRequest,new Promise(function(e,t){r.onreadystatechange=function(){4===r.readyState&&(200===r.status?(e(r.responseText),r.onreadystatechange=null):0<r.status&&(t("There was a problem with the request: status ".concat(r.status)),r.onreadystatechange=null))};try{r.open("GET",i,!0),r.setRequestHeader("Content-Type",n),r.send()}catch(e){t("Error: Unable to send request, CORS not allowed.")}})):Promise.reject("Unable to send request, XMLHttpRequest not supported.")};var s=p;function p(){this.cache={}}function l(o,a,s,p){return new(s=s||Promise)(function(e,t){function i(e){try{r(p.next(e))}catch(e){t(e)}}function n(e){try{r(p.throw(e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}r((p=p.apply(o,a||[])).next())})}function h(n,r){var o,a,s,p={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(i){return function(e){var t=[i,e];if(o)throw new TypeError("Generator is already executing.");for(;p;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return p.label++,{value:t[1],done:!1};case 5:p.label++,a=t[1],t=[0];continue;case 7:t=p.ops.pop(),p.trys.pop();continue;default:if(!(s=0<(s=p.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){p=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){p.label=t[1];break}if(6===t[0]&&p.label<s[1]){p.label=s[1],s=t;break}if(s&&p.label<s[2]){p.label=s[2],p.ops.push(t);break}s[2]&&p.ops.pop(),p.trys.pop();continue}t=r.call(n,p)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}}o.BrandingDomain=void 0,(w=o.BrandingDomain||(o.BrandingDomain={}))[w.Neutral=0]="Neutral",w[w.Yepi=1]="Yepi",w[w.Spele=2]="Spele",w[w.Funnygames=3]="Funnygames",w[w.Kizi=4]="Kizi",w[w.PlayCell=5]="PlayCell",w[w.GameCell=6]="GameCell",w[w.Bild=7]="Bild",w[w.AGame=8]="AGame",w[w.Admeen=9]="Admeen",w[w.PlayTime=10]="PlayTime",w[w.Zigiz=11]="Zigiz";d.isBip=function(){return-1!==window.location.search.indexOf("bipgaming")||"bip.fbrq.io"===window.location.host},d.isPlaycellApp=function(){return-1!==window.location.search.indexOf("playcellApp")},d.isAGame=function(){return-1!==window.location.search.indexOf("agame")},d.isAirfi=function(){return!!window.hasOwnProperty("airfi")&&window.airfi},d.isPlaytime=function(){return-1!==window.location.host.indexOf("playtime.nl")},d.isBild=function(){return"bild.fbrq.io"===window.location.host||-1!==window.location.host.indexOf("contentfleet.com")},d.isYandex=function(){return window.hasOwnProperty("_YaSDK")||window.hasOwnProperty("YaGames")},d.getYandexBaseURL=function(){var e;if(null!=(e=null==(e=window.YandexGamesSDKEnvironment)?void 0:e.browser)&&e.lang&&"en"===window.YandexGamesSDKEnvironment.browser.lang)return"yandex.com";return"yandex.ru"};var u=d;function d(){}o.UtmTargets=void 0,(w=o.UtmTargets||(o.UtmTargets={}))[w.splashscreen=0]="splashscreen",w[w.logo=1]="logo",w[w.facebook=2]="facebook",w[w.twitter=3]="twitter",w[w.playstore=4]="playstore",w[w.appstore=5]="appstore",w[w.more_games=6]="more_games",w[w.download_game=7]="download_game",w[w.walkthrough=8]="walkthrough",w[w.disclaimer=9]="disclaimer",w[w.highscores=10]="highscores";m.getProtocol=function(e){return e?"https://":"//"},m.getUtmContent=function(e){return"string"==typeof e?e:o.UtmTargets[e]},m.getDomainURL=function(e,t){var i;switch(e){case o.BrandingDomain.Spele:i=t+"www.spele.nl";break;case o.BrandingDomain.Yepi:i=t+"www.yepi.com";break;case o.BrandingDomain.Admeen:i="https://media.admeen.com/branding/link.php";break;case o.BrandingDomain.PlayCell:i=t+"www.playcell.com";break;case o.BrandingDomain.GameCell:i=t+"www.gamecell.com";break;case o.BrandingDomain.Kizi:i=t+"www.kizi.com";break;case o.BrandingDomain.Bild:i=t+"www.bildspielt.de";break;case o.BrandingDomain.Funnygames:i=t+"www.funnygames.nu";break;case o.BrandingDomain.PlayTime:i=t+"playtime.nl";break;default:case o.BrandingDomain.AGame:i=t+"www.agame.com";break;case o.BrandingDomain.Zigiz:i=t+"m.zigiz.com"}return i},m.getPromoURL=function(e,t,i,n,r){return window.hasOwnProperty("_YaSDK")||window.hasOwnProperty("YaGames")?"https://".concat(u.getYandexBaseURL(),"/games/developer?name=Azerion"):e===o.BrandingDomain.Admeen?"https://media.admeen.com/branding/link.php":e===o.BrandingDomain.Bild?t:t+"/?utm_source="+i+"&utm_medium=html5&utm_term="+n+"&utm_content="+r+"&utm_campaign=Gamedistribution"};var c=m;function m(){}function y(e,t,i){var n=document.createElement("script");n.setAttribute("src",e+"?v="+t),"function"==typeof i&&(n.onload=i),document.body.appendChild(n)}x.loadPortalScript=function(e){e&&e.hasOwnProperty("minijuegos")&&-1!==e.minijuegos.indexOf(v.getSourceSite())&&(void 0!==window.mpConfig?window.mpConfig.partner="orange-games":window.mpConfig={partner:"orange-games"},y("https://ext.minijuegosgratis.com/external-host/main.js",Date.now()/1e3)),e&&e.hasOwnProperty("kongregate")&&-1!==e.kongregate.indexOf(v.getSourceSite())&&y("https://cdn1.kongregate.com/javascripts/kongregate_api.js",Date.now()/1e3,function(){"undefined"!=typeof kongregateAPI&&kongregateAPI.loadAPI(function(){window.kongregate=kongregateAPI.getAPI()})}),e&&e.hasOwnProperty("newgrounds")&&-1!==e.newgrounds.indexOf(v.getSourceSite())&&y("https://cdn.fbrq.io/@azerion/splash/assets/scripts/newgroundsio.min.js",Date.now()/1e3)};var _=x;function x(){}g.preload=function(e){return false;var t=Promise.all([s.instance.load(n.KEY,"".concat(v.ASSET_LOCATION,"json/domains.json?v=").concat(e),"text/plain"),s.instance.load(g.SITELOCK_PORTALS,"".concat(v.ASSET_LOCATION,"json/sitelock.json?v=").concat(e),"text/plain")]);return Promise.all([s.instance.load(g.INTERNAL_PORTALS_KEY,"".concat(v.ASSET_LOCATION,"json/internal.json?v=").concat(e),"text/plain"),s.instance.load(g.CONTRACTED_PORTALS_KEY,"".concat(v.ASSET_LOCATION,"json/contracted.json?v=").concat(e),"text/plain"),s.instance.load(g.SPECIAL_PORTALS_KEY,"".concat(v.ASSET_LOCATION,"json/special.json?v=").concat(e),"text/plain")]),t.then(function(e){var t=e[0],e=e[1];n.setList(t),_.loadPortalScript(e),g.setSiteLock(e)}).catch(function(){})},g.setSiteLock=function(e){g.siteLocks=e},Object.defineProperty(g,"brandingLogoUrl",{get:function(){return "patch/images/games235-banner.png";var e;switch(v.isOnDevice()||u.isAirfi()?v.ASSET_LOCATION="assets/":"fbrq.io"===v.getSourceSite(!0)&&(v.ASSET_LOCATION="https://"+window.location.host+"/@azerion/splash/assets/"),v.getBrandingDomain()){case o.BrandingDomain.Spele:e="spele";break;case o.BrandingDomain.PlayCell:e="playcell";break;case o.BrandingDomain.GameCell:e="gamecell";break;case o.BrandingDomain.Yepi:e="yepi";break;case o.BrandingDomain.Admeen:e="admeen";break;case o.BrandingDomain.Bild:e="bild";break;case o.BrandingDomain.Kizi:e="kizi";break;case o.BrandingDomain.Funnygames:e="funnygames";break;case o.BrandingDomain.PlayTime:e="playtime";break;default:case o.BrandingDomain.AGame:e="agame";break;case o.BrandingDomain.Zigiz:e="zigiz"}return v.ASSET_LOCATION+"images/branding_logo_"+e+"_small.png"},enumerable:!1,configurable:!0}),Object.defineProperty(g,"brandingBackgroundColor",{get:function(){var e;switch(v.getBrandingDomain()){case o.BrandingDomain.Spele:e="#4a72ad";break;case o.BrandingDomain.PlayCell:e="#52a1e1";break;case o.BrandingDomain.GameCell:e="#c600b2";break;case o.BrandingDomain.Yepi:e="#0573a7";break;case o.BrandingDomain.AGame:e="#0C486C";break;case o.BrandingDomain.Admeen:e="#4267B2";break;case o.BrandingDomain.Bild:e="#de0000";break;default:case o.BrandingDomain.Kizi:e="#012f50";break;case o.BrandingDomain.Funnygames:e="#33b0ff";break;case o.BrandingDomain.PlayTime:case o.BrandingDomain.Zigiz:e="#023a63"}return e},enumerable:!1,configurable:!0}),g.blockedDomain=function(){return v.isOnDevice()||g.isSpecial()},g.createCampaignURL=function(e,t){var i=v.getSourceSite(),n=v.getBrandingDomain(),r=c.getProtocol(v.isOnDevice()),r=c.getDomainURL(n,r),t=c.getUtmContent(t);return c.getPromoURL(n,r,i,e,t)},g.openCampaignLink=function(e,t){e=g.createCampaignURL(e,t);g.blockedDomain()||(t=window.op3n(e))&&t.focus&&t.focus()},g.isInternal=function(){return g.hostMatchesList(s.instance.get(g.INTERNAL_PORTALS_KEY))},g.isContracted=function(){return g.hostMatchesList(s.instance.get(g.CONTRACTED_PORTALS_KEY))},g.isSpecial=function(){return g.hostMatchesList(s.instance.get(g.SPECIAL_PORTALS_KEY))},g.isAdmeen=function(){if(!g.siteLocks||!g.siteLocks.hasOwnProperty("admeen"))return!1;var e=g.siteLocks.admeen;return g.hostMatchesList(e)},g.isKongregate=function(){if(!g.siteLocks||!g.siteLocks.hasOwnProperty("kongregate"))return!1;var e=g.siteLocks.kongregate;return g.hostMatchesList(e)},g.isNewgrounds=function(){if(!g.siteLocks||!g.siteLocks.hasOwnProperty("newgrounds"))return!1;var e=g.siteLocks.newgrounds;return g.hostMatchesList(e)},g.crossPromoAllowed=function(){var e=g.siteLocks.yandex;return g.hostMatchesList(e)},g.outGoingLinksAllowed=function(){return!(u.isAirfi()||g.isSpecial()||g.isContracted())&&(!window.hasOwnProperty("fbrqLA")||window.fbrqLA)},g.hostMatchesList=function(e){e=e||[];for(var t=v.getSourceSite(),i=0;i<e.length;i++)if(t===e[i])return!0;return!1},g.LOGO_KEY="branding_logo",g.INTERNAL_PORTALS_KEY="branding_portals",g.CONTRACTED_PORTALS_KEY="branding_contracted",g.SPECIAL_PORTALS_KEY="branding_special",g.SITELOCK_PORTALS="sitelock_portals",g.DOMAIN_OVERWRITE=null,g.analyticsEnabled=!0;var f=g;function g(){}z.loadHost=function(){return l(this,void 0,void 0,function(){var t,i;return h(this,function(e){switch(e.label){case 0:if(t=document.referrer||window.location.host,!window.hasOwnProperty("gdsdk"))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,window.gdsdk.getSession()];case 2:return i=e.sent(),t=i.location.parentDomain,[3,4];case 3:return e.sent(),[3,4];case 4:return z.HOST=t,[2]}})})},z.getSourceSite=function(e){var t=z.HOST;if(-1!==(t=(e=void 0===e?!1:e)?window.location.host:t).indexOf("embed.gamedistribution.com")&&-1!==window.location.search.indexOf("gd_sdk_referrer_url")&&(t=z.getUrlParameter("gd_sdk_referrer_url")||t),t=decodeURIComponent(t),u.isBild())return"bildspielt.de";if(u.isBip())return"bipgaming.com";t=(t=-1<t.indexOf("://")?t.split("/")[2]:t.split("/")[0]).split(":")[0],e=n.getDomain(t);return null!==e?e:3===t.split(".").length?t.substr(t.indexOf(".")+1):t},z.getBrandingDomain=function(){if(window.hasOwnProperty("fbrqBD")&&window.fbrqBD in o.BrandingDomain)return window.fbrqBD;if(f.DOMAIN_OVERWRITE)return f.DOMAIN_OVERWRITE;var e=z.getSourceSite();if(f.isAdmeen())return o.BrandingDomain.Admeen;if(u.isPlaycellApp()||u.isBip())return o.BrandingDomain.PlayCell;switch(e){case"spele.nl":return o.BrandingDomain.Spele;case"yepi.com":return o.BrandingDomain.Yepi;case"oyunskor.com":case"barbioyunu.com.tr":case"bebekoyunu.com.tr":case"oyunkolu.com":case"oyungemisi.com":case"oyunlar1.com":case"oyunkuzusu.com":case"kraloyun.com":case"rekoroyun.com":case"oyundedem.com":case"oyunoyna.com":case"pastaoyunu.com.tr":case"playcell.com":return o.BrandingDomain.PlayCell;case"gamecell.com":return o.BrandingDomain.GameCell;case"playxl.com":return o.BrandingDomain.Admeen;case"kizi.com":return o.BrandingDomain.Kizi;case"bildspielt.de":return o.BrandingDomain.Bild;case"funnygames.nl":return o.BrandingDomain.Funnygames;case"playtime.nl":return o.BrandingDomain.PlayTime;default:case"agame.com":return o.BrandingDomain.AGame;case"gmbl.nl":case"zigiz.com":return o.BrandingDomain.Zigiz;case"coolmathgames.com":return o.BrandingDomain.Neutral}},z.getReferrer=function(e){return-1!==e.indexOf("?ref=")?e.substr(e.indexOf("?ref=")+5):e},z.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},z.inGDGameZone=function(){return-1!==document.referrer.indexOf("html5.gamedistribution.com")},z.getDomain=function(e){var t=document.createElement("a");return t.href=e,t.origin},z.isOnDevice=function(){return void 0!==window.cordova&&!/(gamedistribution\.com)/.test(window.location.hostname)},z.isTc=function(){return/(teamcity\.azerdev\.com)/.test(window.location.host)},z.getRandomRange=function(e,t){return Math.random()*(t-e)+e|0},z.getUrlParameter=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},z.intTimeToString=function(e){var t=Math.floor(e/3600),i=Math.floor(e%3600/60),e=e%60;return(t<10?"0"+t:t.toString())+":"+(i<10?"0"+i:i.toString())+":"+(e<10?"0"+e:e.toString())},z.LANGUAGE="en",z.HOST=document.referrer||window.location.host,z.ASSET_LOCATION=window.hasOwnProperty("fbrqSA")&&!0===window.fbrqSA?"assets/":"https://cdn.fbrq.io/@azerion/splash/assets/";var v=z;function z(){}var b=e(function(e,t){e.exports=function t(n,r,o){function a(i,e){if(!r[i]){if(!n[i]){if(!e&&re)return re();if(s)return s(i,!0);e=new Error("Cannot find module '"+i+"'");throw e.code="MODULE_NOT_FOUND",e}e=r[i]={exports:{}};n[i][0].call(e.exports,function(e){var t=n[i][1][e];return a(t||e)},e,e.exports,t,n,r,o)}return r[i].exports}for(var s=re,e=0;e<o.length;e++)a(o[e]);return a}({1:[function(e,F,N){!function(){var h,i,u,d,c,e,m,s,l,a,p,o,r,y,n,_,t,x,f=this||Function("return this")(),g=(e=Date.now||function(){return+new Date},m="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:e,i="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,O.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=m(),this._start(this.get(),this._attachment),this.resume())},O.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||v,this._step=e.step||v,this._finish=e.finish||v,this._duration=e.duration||500,this._currentState=b({},e.from||this.get()),this._originalState=this.get(),this._targetState=b({},e.to||this.get());var t=this,i=(this._timeoutHandler=function(){M(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)},this._currentState),n=this._targetState;return w(n,i),this._easing=P(i,e.easing||"linear"),this._filterArgs=[i,this._originalState,n,this._easing],k(this,"tweenCreated"),this},O.prototype.get=function(){return b({},this._currentState)},O.prototype.set=function(e){this._currentState=e},O.prototype.pause=function(){return this._pausedAtTime=m(),this._isPaused=!0,this},O.prototype.resume=function(){return this._isPaused&&(this._timestamp+=m()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},O.prototype.seek=function(e){e=Math.max(e,0);var t=m();return this._timestamp+e===0||(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,M(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause())),this},O.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=v,(f.cancelAnimationFrame||f.webkitCancelAnimationFrame||f.oCancelAnimationFrame||f.msCancelAnimationFrame||f.mozCancelRequestAnimationFrame||f.clearTimeout)(this._scheduleId),e&&(k(this,"beforeTween"),S(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),k(this,"afterTween"),k(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},O.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},O.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},O.prototype.dispose=function(){for(var e in this)this.hasOwnProperty(e)&&delete this[e]},O.prototype.filter={},h=O.prototype.formula={linear:function(e){return e}},b(O,{now:m,each:z,tweenProps:S,tweenProp:C,applyFilter:k,shallowCopy:b,defaults:w,composeEasingObject:P}),"function"==typeof SHIFTY_DEBUG_NOW&&(f.timeoutHandler=M),"object"==typeof N?F.exports=O:void 0===f.Tweenable&&(f.Tweenable=O),O);function v(){}function z(e,t){for(var i in e)Object.hasOwnProperty.call(e,i)&&t(i)}function b(t,i){return z(i,function(e){t[e]=i[e]}),t}function w(t,i){z(i,function(e){void 0===t[e]&&(t[e]=i[e])})}function S(e,t,i,n,r,o,a){var s,p,l=e<o?0:(e-o)/r;for(s in t)t.hasOwnProperty(s)&&(p="function"==typeof(p=a[s])?p:h[p],t[s]=C(i[s],n[s],p,l));return t}function C(e,t,i,n){return e+(t-e)*i(n)}function k(t,i){var n=O.prototype.filter,r=t._filterArgs;z(n,function(e){void 0!==n[e][i]&&n[e][i].apply(t,r)})}function M(e,t,i,n,r,o,a,s,p,l,h){c=t+i+n,u=Math.min(h||m(),c),d=c<=u,c=n-(c-u),e.isPlaying()&&(d?(p(a,e._attachment,c),e.stop(!0)):(e._scheduleId=l(e._timeoutHandler,1e3/60),k(e,"beforeTween"),u<t+i?S(1,r,o,a,1,1,s):S(u,r,o,a,n,t+i,s),k(e,"afterTween"),p(r,e._attachment,c)))}function P(e,t){var i={},n=typeof t;return z(e,"string"==n||"function"==n?function(e){i[e]=t}:function(e){i[e]||(i[e]=t[e]||"linear")}),i}function O(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=i,void 0!==t&&this.setConfig(t)}function L(e,t,i,n,r,o){var p=0,l=0,h=0,a=0,s=0,u=0;function d(e){return((p*e+l)*e+h)*e}function c(e){return 0<=e?e:0-e}return p=1-(h=3*t)-(l=3*(n-t)-h),a=1-(u=3*i)-(s=3*(r-i)-u),n=function(e,t){var i,n,r,o,a,s;for(r=e,s=0;s<8;s++){if(c(o=d(r)-e)<t)return r;if(c(a=function(e){return(3*p*e+2*l)*e+h}(r))<1e-6)break;r-=o/a}if(n=1,(r=e)<(i=0))return i;if(n<r)return n;for(;i<n;){if(c((o=d(r))-e)<t)return r;o<e?i=r:n=r,r=.5*(n-i)+i}return r}(n=e,1/(200*o)),((a*n+s)*n+u)*n}function T(i){l.each(i,function(e){var t=i[e];"string"==typeof t&&t.match(n)&&(i[e]=A(n,t,D))})}function D(e){e=function(e){3===(e=e.replace(/#/,"")).length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);return t[0]=G(e.substr(0,2)),t[1]=G(e.substr(2,2)),t[2]=G(e.substr(4,2)),t}(e);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function G(e){return parseInt(e,16)}function A(e,t,i){var n=t.match(e),r=t.replace(e,_);if(n)for(var o,a=n.length,s=0;s<a;s++)o=n.shift(),r=r.replace(_,i(o));return r}function R(e){for(var t=e.match(o),i=t.length,n=e.match(y)[0],r=0;r<i;r++)n+=parseInt(t[r],10)+",";return n=n.slice(0,-1)+")"}function j(r){var o={};return l.each(r,function(e){var t,i,n=r[e];"string"==typeof n&&(t=B(n),o[e]={formatString:((i=(n=n).match(p))?1!==i.length&&!n.charAt(0).match(a)||i.unshift(""):i=["",""],i.join(_)),chunkNames:function(e,t){for(var i=[],n=e.length,r=0;r<n;r++)i.push("_"+t+"_"+r);return i}(t,e)})}),o}function E(r,o){l.each(o,function(e){for(var t=B(r[e]),i=t.length,n=0;n<i;n++)r[o[e].chunkNames[n]]=+t[n];delete r[e]})}function I(i,n){l.each(n,function(e){i[e];var t=function(e,t){x.length=0;for(var i=t.length,n=0;n<i;n++)x.push(e[t[n]]);return x}(function(e,t){for(var i,n={},r=t.length,o=0;o<r;o++)i=t[o],n[i]=e[i],delete e[i];return n}(i,n[e].chunkNames),n[e].chunkNames),t=function(e,t){for(var i=e,n=t.length,r=0;r<n;r++)i=i.replace(_,+t[r].toFixed(4));return i}(n[e].formatString,t);i[e]=A(r,t,R)})}function B(e){return e.match(o)}g.shallowCopy(g.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){return e*e*(2.70158*e-1.70158)},swingTo:function(e){return--e*e*(2.70158*e+1.70158)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),g.setBezierFunction=function(e,t,i,n,r){o=t,a=i,s=n,p=r;var o,a,s,p,l=function(e){return L(e,o,a,s,p,1)};return l.displayName=e,l.x1=t,l.y1=i,l.x2=n,l.y2=r,g.prototype.formula[e]=l},g.unsetBezierFunction=function(e){delete g.prototype.formula[e]},(s=new g)._filterArgs=[],g.interpolate=function(e,t,i,n,r){var o=g.shallowCopy({},e),r=r||0,n=g.composeEasingObject(e,n||"linear"),a=(s.set({}),s._filterArgs),a=(a.length=0,a[0]=o,a[1]=e,a[2]=t,a[3]=n,g.applyFilter(s,"tweenCreated"),g.applyFilter(s,"beforeTween"),g.tweenProps(i,o,e,t,1,r,n));return g.applyFilter(s,"afterTween"),a},l=g,a=/(\d|\-|\.)/,p=/([^\-0-9\.]+)/g,o=/[0-9.\-]+/g,r=new RegExp("rgb\\("+o.source+/,\s*/.source+o.source+/,\s*/.source+o.source+"\\)","g"),y=/^.*\(/,n=/#([0-9]|[a-f]){3,6}/gi,_="VAL",t=[],x=[],l.prototype.filter.token={tweenCreated:function(e,t,i,n){T(e),T(t),T(i),this._tokenData=j(e)},beforeTween:function(e,t,i,n){var s,p;s=n,p=this._tokenData,l.each(p,function(e){var t=p[e].chunkNames,i=t.length,n=s[e];if("string"==typeof n)for(var r=n.split(" "),o=r[r.length-1],a=0;a<i;a++)s[t[a]]=r[a]||o;else for(a=0;a<i;a++)s[t[a]]=n;delete s[e]}),E(e,this._tokenData),E(t,this._tokenData),E(i,this._tokenData)},afterTween:function(e,t,i,n){var a,s;I(e,this._tokenData),I(t,this._tokenData),I(i,this._tokenData),a=n,s=this._tokenData,l.each(s,function(e){var t=s[e].chunkNames,i=t.length,n=a[t[0]];if("string"==typeof n){for(var r="",o=0;o<i;o++)r+=" "+a[t[o]],delete a[t[o]];a[e]=r.substr(1)}else a[e]=n})}}}.call(null)},{}],2:[function(e,t,i){function n(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,r.apply(this,arguments)}var r=e("./shape"),o=e("./utils");((n.prototype=new r).constructor=n).prototype._pathString=function(e){var t=e.strokeWidth,e=50-(t=e.trailWidth&&e.trailWidth>e.strokeWidth?e.trailWidth:t)/2;return o.render(this._pathTemplate,{radius:e,"2radius":2*e})},n.prototype._trailString=function(e){return this._pathString(e)},t.exports=n},{"./shape":7,"./utils":9}],3:[function(e,t,i){function n(e,t){this._pathTemplate="M 0,{center} L 100,{center}",r.apply(this,arguments)}var r=e("./shape"),o=e("./utils");((n.prototype=new r).constructor=n).prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},n.prototype._pathString=function(e){return o.render(this._pathTemplate,{center:e.strokeWidth/2})},n.prototype._trailString=function(e){return this._pathString(e)},t.exports=n},{"./shape":7,"./utils":9}],4:[function(e,t,i){t.exports={Line:e("./line"),Circle:e("./circle"),SemiCircle:e("./semicircle"),Square:e("./square"),Path:e("./path"),Shape:e("./shape"),utils:e("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(e,t,i){function n(e,t){if(!(this instanceof n))throw new Error("Constructor was called without new keyword");t=p.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},t),e=p.isString(e)?document.querySelector(e):e,this.path=e,this._opts=t,this._tweenable=null,e=this.path.getTotalLength(),this.path.style.strokeDasharray=e+" "+e,this.set(0)}var s=e("shifty"),p=e("./utils"),r={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"};n.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength();return parseFloat((1-e/t).toFixed(6),10)},n.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t,i=this._opts.step;p.isFunction(i)&&(t=this._easing(this._opts.easing),i(this._calculateTo(e,t),this._opts.shape||this,this._opts.attachment))},n.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},n.prototype.animate=function(e,i,t){i=i||{},p.isFunction(i)&&(t=i,i={});var n=p.extend({},i),r=p.extend({},this._opts),r=(i=p.extend(r,i),this._easing(i.easing)),n=this._resolveFromAndTo(e,r,n),o=(this.stop(),this.path.getBoundingClientRect(),this._getComputedDashOffset()),e=this._progressToOffset(e),a=this;this._tweenable=new s,this._tweenable.tween({from:p.extend({offset:o},n.from),to:p.extend({offset:e},n.to),duration:i.duration,easing:r,step:function(e){a.path.style.strokeDashoffset=e.offset;var t=i.shape||a;i.step(e,t,i.attachment)},finish:function(e){p.isFunction(t)&&t()}})},n.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},n.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},n.prototype._resolveFromAndTo=function(e,t,i){return i.from&&i.to?{from:i.from,to:i.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},n.prototype._calculateFrom=function(e){return s.interpolate(this._opts.from,this._opts.to,this.value(),e)},n.prototype._calculateTo=function(e,t){return s.interpolate(this._opts.from,this._opts.to,e,t)},n.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},n.prototype._easing=function(e){return r.hasOwnProperty(e)?r[e]:e},t.exports=n},{"./utils":9,shifty:1}],6:[function(e,t,i){function n(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,r.apply(this,arguments)}var r=e("./shape"),o=e("./circle"),a=e("./utils");((n.prototype=new r).constructor=n).prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},n.prototype._initializeTextContainer=function(e,t,i){e.text.style&&(i.style.top="auto",i.style.bottom="0",e.text.alignToBottom?a.setStyle(i,"transform","translate(-50%, 0)"):a.setStyle(i,"transform","translate(-50%, 50%)"))},n.prototype._pathString=o.prototype._pathString,n.prototype._trailString=o.prototype._trailString,t.exports=n},{"./circle":2,"./shape":7,"./utils":9}],7:[function(e,t,i){function n(e,t){if(!(this instanceof n))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=o.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},t,!0),o.isObject(t)&&void 0!==t.svgStyle&&(this._opts.svgStyle=t.svgStyle),o.isObject(t)&&o.isObject(t.text)&&void 0!==t.text.style&&(this._opts.text.style=t.text.style);var t=this._createSvgView(this._opts),i=o.isString(e)?document.querySelector(e):e;if(!i)throw new Error("Container does not exist: "+e);this._container=i,this._container.appendChild(t.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&o.setStyles(t.svg,this._opts.svgStyle),this.svg=t.svg,this.path=t.path,this.trail=t.trail,this.text=null;e=o.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new r(t.path,e),o.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}}var r=e("./path"),o=e("./utils"),a="Object is destroyed";n.prototype.animate=function(e,t,i){if(null===this._progressPath)throw new Error(a);this._progressPath.animate(e,t,i)},n.prototype.stop=function(){if(null===this._progressPath)throw new Error(a);void 0!==this._progressPath&&this._progressPath.stop()},n.prototype.destroy=function(){if(null===this._progressPath)throw new Error(a);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,(this._progressPath=null)!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},n.prototype.set=function(e){if(null===this._progressPath)throw new Error(a);this._progressPath.set(e)},n.prototype.value=function(){if(null===this._progressPath)throw new Error(a);return void 0===this._progressPath?0:this._progressPath.value()},n.prototype.setText=function(e){if(null===this._progressPath)throw new Error(a);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),o.isObject(e)?(o.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},n.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=(this._initializeSvg(t,e),null),e=((e.trailColor||e.trailWidth)&&(i=this._createTrail(e),t.appendChild(i)),this._createPath(e));return t.appendChild(e),{svg:t,path:e,trail:i}},n.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},n.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},n.prototype._createTrail=function(e){var t=this._trailString(e),e=o.extend({},e);return e.trailColor||(e.trailColor="#eee"),e.trailWidth||(e.trailWidth=e.strokeWidth),e.color=e.trailColor,e.strokeWidth=e.trailWidth,e.fill=null,this._createPathElement(t,e)},n.prototype._createPathElement=function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",e),i.setAttribute("stroke",t.color),i.setAttribute("stroke-width",t.strokeWidth),t.fill?i.setAttribute("fill",t.fill):i.setAttribute("fill-opacity","0"),i},n.prototype._createTextContainer=function(e,t){var i=document.createElement("div"),n=(i.className=e.text.className,e.text.style);return n&&(e.text.autoStyleContainer&&(t.style.position="relative"),o.setStyles(i,n),n.color||(i.style.color=e.color)),this._initializeTextContainer(e,t,i),i},n.prototype._initializeTextContainer=function(e,t,i){},n.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},n.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},n.prototype._warnContainerAspectRatio=function(e){var t;this.containerAspectRatio&&(e=window.getComputedStyle(e,null),t=parseFloat(e.getPropertyValue("width"),10),e=parseFloat(e.getPropertyValue("height"),10),o.floatEquals(this.containerAspectRatio,t/e))},t.exports=n},{"./path":5,"./utils":9}],8:[function(e,t,i){function n(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",r.apply(this,arguments)}var r=e("./shape"),o=e("./utils");((n.prototype=new r).constructor=n).prototype._pathString=function(e){var t=100-e.strokeWidth/2;return o.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},n.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return o.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=n},{"./shape":7,"./utils":9}],9:[function(e,t,i){var o="Webkit Moz O ms".split(" ");function n(e,t,i){for(var n=e.style,r=0;r<o.length;++r)n[o[r]+a(t)]=i;n[t]=i}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){return"[object Array]"!==Object.prototype.toString.call(e)&&("object"==typeof e&&!!e)}function r(e,t){for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)}t.exports={extend:function e(t,i,n){for(var r in t=t||{},n=n||!1,i=i||{}){var o,a;i.hasOwnProperty(r)&&(o=t[r],a=i[r],n&&s(o)&&s(a)?t[r]=e(o,a,n):t[r]=a)}return t},render:function(e,t){var i,n,r,o=e;for(i in t)t.hasOwnProperty(i)&&(n=t[i],r=new RegExp("\\{"+i+"\\}","g"),o=o.replace(r,n));return o},setStyle:n,setStyles:function(i,e){r(e,function(e,t){null!=e&&(s(e)&&!0===e.prefix?n(i,t,e.value):i.style[t]=e)})},capitalize:a,isString:function(e){return"string"==typeof e||e instanceof String},isFunction:function(e){return"function"==typeof e},isObject:s,forEachObject:r,floatEquals:function(e,t){return Math.abs(e-t)<.001},removeChildren:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},{}]},{},[4])(4)});S.getInstance=function(e){if(!S.instance){if(!e)throw new Error("Can not create new SplashLoader instance without options!");S.instance=new S(e)}return S.instance},S.prototype.create=function(){return l(this,void 0,void 0,function(){var n,r,o,a;return h(this,function(e){switch(e.label){case 0:return r="\n        #h5branding-center {\n            position: absolute;\n            top: 45%;\n            left: 50%;\n            transform: translate(-50%, -20%);\n            text-align: center;\n            width: 100%;\n        }\n        #h5branding-wrapper {\n            position: relative;\n            z-index: 665;\n            width: 150px;\n            height: 150px;\n            display:inline-block;\n            margin: 35px 40px 96px 40px;\n        }\n\n        #h5branding-version {\n            position: absolute;\n            right: 10px;\n            font-family: Helvetica, Arial, sans-serif;\n            color: #ffffff;\n            font-size: 0.8em;\n            top: 10px;\n            display: none;\n        }\n\n        #h5branding-wrapper > #h5branding-bar, #h5branding-wrapper > img {\n            box-shadow: inset 10px 10px 20px 5px rgba(0, 0, 0, 0.5);\n            border-radius: 50%;\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        #h5branding-ad {\n            position: relative;\n            z-index: 667;\n            border-radius: 5px;\n            border: 3px solid white;\n            background: rgba(256, 256, 256, 0.2);\n            width: 336px;\n            height: 280px;\n            display: none;\n            margin: 0px 10px 0px 10px;\n        }\n\n        #h5branding-wrapper > img {\n            /* Needs appropriate vendor prefixes */\n            box-sizing: border-box;\n\n            /* This needs to be equal to strokeWidth */\n            padding: 4%;\n        }\n\n        #h5branding-wrapper > img {\n            border-radius: 50%;\n            box-shadow: inset 0 5px 5px rgba(0, 0, 0, 0.5), 5px 5px 7px rgba(0, 0, 0, 0.3);\n        }\n\n        #h5branding-container {\n            box-sizing: border-box;\n            position: absolute;\n            z-index: 664;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: #000;\n            overflow: hidden;\n        }\n\n        #h5branding-background {\n            position: absolute;\n            top: -25%;\n            left: -25%;\n            width: 150%;\n            height: 150%;\n            background-blend-mode: multiply;\n            background-size: cover;\n            filter: blur(40px) brightness(1.5);\n        }\n\n        @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n             /* IE10+ CSS styles go here */\n             #h5branding-background {\n                background-image: none !important;\n             }\n        }\n\n        #h5branding-logo {\n            position: absolute;\n            margin: 0 auto;\n            left: 0;\n            right: 0;\n            text-align: center;\n            top: 10%;\n        }\n\n        #h5branding-logo > img {\n            height: 150px;\n        }\n\n        #h5branding-title {\n            position: absolute;\n            width: 100%;\n            background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.5) 50%, transparent);\n            color: #fff;\n            text-shadow: 0 0 1px rgba(0, 0, 0, 0.7);\n            bottom:10%;\n            padding: 15px 0;\n            text-align: center;\n            font-size: 18px;\n            font-family: Helvetica, Arial, sans-serif;\n            font-weight: bold;\n            line-height: 100%;\n        }\n\n        #h5branding-button {\n            /* border: 0; */\n            padding: 10px 22px;\n            border-radius: 5px;\n            border: 3px solid white;\n            background: linear-gradient(0deg, #dddddd, #ffffff);\n            color: #222;\n            text-transform: uppercase;\n            text-shadow: 0 0 1px #fff;\n            font-family: Helvetica, Arial, sans-serif;\n            font-weight: bold;\n            font-size: 18px;\n            cursor: pointer;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n            display: none;\n            width: 150px;\n            position: absolute;\n            top: 170px;\n            margin: 0 auto;\n            left: 0;\n            right: 0;\n        }\n\n        @media (orientation: portrait) and (max-width: 1080px) {\n            #h5branding-logo > img {\n                height: initial;\n                width:100%;\n            }\n        }\n\n        @media (orientation: landscape) and (max-height: 640px) {\n            #h5branding-title {\n                display: none;\n            }\n\n            #h5branding-logo > img {\n                height: 100px;\n            }\n        }\n\n        @media (orientation: landscape) and (max-height: 460px) {\n            #h5branding-title {\n                display: none;\n            }\n\n            #h5branding-wrapper {\n                width: 110px;\n                height: 110px;\n                margin: 0;\n            }\n\n            #h5branding-logo {\n                top: 0;\n                transform: scale(0.7, 0.7);\n            }\n\n            #h5branding-button {\n                top: initial;\n                width: 110px;\n                font-size: 14px;\n                position: absolute;\n                top: 140px;\n                left: 0;\n                right: 0;\n            }\n\n            #h5branding-ad {\n               display: none !important;\n            }\n        }\n\n        @media (orientation: portrait) and (max-width: 250px) {\n            #h5branding-logo {\n                top: 2%;\n            }\n        }\n\n        @media (orientation: landscape) and (max-width: 330px) {\n             #h5branding-button {\n                top: 120px;\n            }\n\n            #h5branding-logo > img {\n                height: 70px;\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 850px) {\n            #h5branding-ad {\n               display: none !important;\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 1100px) {\n            #h5branding-center {\n                top: 40%;\n            }\n\n            #h5branding-title {\n               bottom: 5%\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 900px) {\n            #h5branding-title {\n               display: none\n            }\n        }\n\n        @media (orientation: landscape) and (min-width: 800px) {\n            #h5branding-wrapper {\n                margin-left: 120px;\n                margin-right: 120px;\n            }\n        }\n\n        ",t=this.getGameLogoUrl(),i=this.options.gameTitle,n='\n        <div id="h5branding-background"></div>\n        <div id="h5branding-version"></div>\n        <div id="h5branding-logo"></div>\n        <div id="h5branding-center">\n            <div id="h5branding-ad"></div>\n            <div id="h5branding-wrapper">\n                <img src="'.concat(t,'" />\n                <div id="h5branding-bar"></div>\n                <button id="h5branding-button" onclick="h5branding.SplashLoader.getInstance().onPlayButtonClick();">Play</button>\n            </div>\n        </div>\n        <div id="h5branding-title">').concat(i,"</div>\n    "),o=document.head||document.getElementsByTagName("head")[0],(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),o.appendChild(a),(r=document.createElement("div")).innerHTML=n,r.id="h5branding-container",(o=document.body||document.getElementsByTagName("body")[0]).insertBefore(r,o.firstChild),this.circleLoader=new b.Circle("#h5branding-bar",{strokeWidth:3,color:this.options.barColor}),(a=document.getElementById("h5branding-version"))&&(a.innerHTML=this.options.version),[4,this.loadLibs()];case 1:return e.sent(),[4,v.loadHost()];case 2:return e.sent(),[4,this.loadBranding()];case 3:return e.sent(),this.loaded=!0,[2]}var t,i})})},S.prototype.loadBranding=function(){return l(this,void 0,void 0,function(){var t,i;return h(this,function(e){switch(e.label){case 0:return[4,f.preload(Date.now().toString())];case 1:return e.sent(),(t=document.getElementById("h5branding-background"))&&(t.style.backgroundColor=f.brandingBackgroundColor),(t=document.getElementById("h5branding-logo"))&&v.getBrandingDomain()!==o.BrandingDomain.Neutral&&((i=document.createElement("img")).src=f.brandingLogoUrl.replace("_small",""),t.appendChild(i)),[2]}})})},S.prototype.loadLibs=function(){var i=this,n=this.options.libs.map(function(e,t){return s.instance.loadScript(e,!0,function(){i.setScriptloadProgress(n.length,t+1)})});return Promise.all(n)},Object.defineProperty(S.prototype,"bannerAllowed",{get:function(){var e=document.body.clientWidth,t=document.body.clientHeight;return this.progress<100&&!(t<e&&t<=460)&&!(e<600&&t<850)},enumerable:!1,configurable:!0}),S.prototype.showBanner=function(){if(!this.bannerAllowed)return null;var e=document.getElementById("h5branding-ad");return e?(e.style.display="inline-flex",e):null},S.prototype.setScriptloadProgress=function(e,t){this.circleLoader.animate(.3*t/e,null,function(){})},S.prototype.setLoadProgress=function(e){var t,i=this;this.loaded&&(100===(this.progress=e=30+.7*e)?(t=document.querySelector("#h5branding-button"),this.circleLoader.animate(1,null,function(){h5branding.SplashLoader.getInstance().onPlayButtonClick();!v.inGDGameZone()&&t&&!0===i.showPlayButton?t.style.display="block":!v.inGDGameZone()&&!1!==i.showPlayButton||i.onPlayButtonClick()})):this.circleLoader.animate(e/100,null,function(){}))},S.prototype.setButtonCallback=function(e){this.buttonCallback=e},S.prototype.onPlayButtonClick=function(){this.buttonCallback&&this.buttonCallback()},S.prototype.destroy=function(){var e=document.querySelector("#h5branding-container");null!==e&&null!==e.parentNode&&e.parentNode.removeChild(e)},S.prototype.getGameLogoUrl=function(){return"assets/icon.jpeg"};var w=S;function S(e){this.circleLoader=null,this.loaded=!1,this.showPlayButton="undefined"==typeof playBtn||playBtn,this.progress=0,this.options={gameId:"12346",gameTitle:"Place Holder",gameName:"place-holder",libs:[],version:"dev",barColor:"white",gaMeasurementId:"none"},this.options.gameId=e.gameId,this.options.gameTitle=e.gameTitle,this.options.version=e.version,this.options.barColor=e.barColor||this.options.barColor,this.options.libs=e.libs,this.options.gaMeasurementId=e.gaMeasurementId}o.Branding=f,o.Domain=n,o.Hosts=u,o.SplashLoader=w,o.Utils=v,Object.defineProperty(o,"__esModule",{value:!0})}),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(z,L){"use strict";var e=[],b=z.document,D=Object.getPrototypeOf,s=e.slice,R=e.concat,j=e.push,r=e.indexOf,i={},F=i.toString,N=i.hasOwnProperty,U=N.toString,H=U.call(Object),y={};function V(e,t){var i=(t=t||b).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function W(e,t){return t.toUpperCase()}var w=function(e,t){return new w.fn.init(e,t)},q=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,X=/^-ms-/,Y=/-([a-z])/g;function K(e){var t=!!e&&"length"in e&&e.length,i=w.type(e);return"function"!==i&&!w.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:"3.1.1",constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=w.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return w.each(this,e)},map:function(i){return this.pushStack(w.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:j,sort:e.sort,splice:e.splice},w.extend=w.fn.extend=function(){var e,t,i,n,r,o=arguments[0]||{},a=1,s=arguments.length,p=!1;for("boolean"==typeof o&&(p=o,o=arguments[a]||{},a++),"object"==typeof o||w.isFunction(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],i=e[t],o!==i&&(p&&i&&(w.isPlainObject(i)||(n=w.isArray(i)))?(r=n?(n=!1,r&&w.isArray(r)?r:[]):r&&w.isPlainObject(r)?r:{},o[t]=w.extend(p,r,i)):void 0!==i&&(o[t]=i));return o},w.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){return!(!e||"[object Object]"!==F.call(e)||(e=D(e))&&("function"!=typeof(e=N.call(e,"constructor")&&e.constructor)||U.call(e)!==H))},isEmptyObject:function(e){for(var t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[F.call(e)]||"object":typeof e},globalEval:function(e){V(e)},camelCase:function(e){return e.replace(X,"ms-").replace(Y,W)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(K(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(q,"")},makeArray:function(e,t){t=t||[];return null!=e&&(K(Object(e))?w.merge(t,"string"==typeof e?[e]:e):j.call(t,e)),t},inArray:function(e,t,i){return null==t?-1:r.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,a=!i;r<o;r++)!t(e[r],r)!=a&&n.push(e[r]);return n},map:function(e,t,i){var n,r,o=0,a=[];if(K(e))for(n=e.length;o<n;o++)null!=(r=t(e[o],o,i))&&a.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&a.push(r);return R.apply([],a)},guid:1,proxy:function(e,t){var i,n;if("string"==typeof t&&(n=e[t],t=e,e=n),w.isFunction(e))return i=s.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||w.guid++,n},now:Date.now,support:y}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=e[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});function n(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&w(e).is(i))break;n.push(e)}return n}function Z(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}var e=function(L){function u(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function D(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function R(){b()}var e,c,v,o,j,m,F,N,z,p,l,b,w,i,S,y,n,r,_,C="sizzle"+ +new Date,x=L.document,k=0,U=0,H=ue(),V=ue(),f=ue(),W=function(e,t){return e===t&&(l=!0),0},q={}.hasOwnProperty,t=[],X=t.pop,Y=t.push,M=t.push,K=t.slice,g=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",a="[\\x20\\t\\r\\n\\f]",s="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",J="\\["+a+"*("+s+")(?:"+a+"*([*^$|!~]?=)"+a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+s+"))|)"+a+"*\\]",Q=":("+s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+J+")*)|.*)\\)|)",$=new RegExp(a+"+","g"),P=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),ee=new RegExp("^"+a+"*,"+a+"*"),te=new RegExp("^"+a+"*([>+~]|"+a+")"+a+"*"),ie=new RegExp("="+a+"*([^\\]'\"]*?)"+a+"*\\]","g"),ne=new RegExp(Q),re=new RegExp("^"+s+"$"),d={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),TAG:new RegExp("^("+s+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},oe=/^(?:input|select|textarea|button)$/i,ae=/^h\d$/i,h=/^[^{]+\{\s*\[native \w/,se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pe=/[+~]/,O=new RegExp("\\\\([\\da-f]{1,6}"+a+"?|("+a+")|.)","ig"),le=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,he=B(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{M.apply(t=K.call(x.childNodes),x.childNodes),t[x.childNodes.length].nodeType}catch(e){M={apply:t.length?function(e,t){Y.apply(e,K.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function T(e,t,i,n){var r,o,a,s,p,l,h,u=t&&t.ownerDocument,d=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return i;if(!n&&((t?t.ownerDocument||t:x)!==w&&b(t),t=t||w,S)){if(11!==d&&(p=se.exec(e)))if(r=p[1]){if(9===d){if(!(a=t.getElementById(r)))return i;if(a.id===r)return i.push(a),i}else if(u&&(a=u.getElementById(r))&&_(t,a)&&a.id===r)return i.push(a),i}else{if(p[2])return M.apply(i,t.getElementsByTagName(e)),i;if((r=p[3])&&c.getElementsByClassName&&t.getElementsByClassName)return M.apply(i,t.getElementsByClassName(r)),i}if(c.qsa&&!f[e+" "]&&(!y||!y.test(e))){if(1!==d)u=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(le,D):t.setAttribute("id",s=C),o=(l=m(e)).length;o--;)l[o]="#"+s+" "+I(l[o]);h=l.join(","),u=pe.test(e)&&ye(t.parentNode)||t}if(h)try{return M.apply(i,u.querySelectorAll(h)),i}catch(e){}finally{s===C&&t.removeAttribute("id")}}}return N(e.replace(P,"$1"),t,i,n)}function ue(){var i=[];function n(e,t){return i.push(e+" ")>v.cacheLength&&delete n[i.shift()],n[e+" "]=t}return n}function G(e){return e[C]=!0,e}function A(e){var t=w.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var i=e.split("|"),n=i.length;n--;)v.attrHandle[i[n]]=t}function ce(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function me(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&he(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function E(a){return G(function(o){return o=+o,G(function(e,t){for(var i,n=a([],e.length,o),r=n.length;r--;)e[i=n[r]]&&(e[i]=!(t[i]=e[i]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in c=T.support={},j=T.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},b=T.setDocument=function(e){var e=e?e.ownerDocument||e:x;return e!==w&&9===e.nodeType&&e.documentElement&&(i=(w=e).documentElement,S=!j(w),x!==w&&(e=w.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",R,!1):e.attachEvent&&e.attachEvent("onunload",R)),c.attributes=A(function(e){return e.className="i",!e.getAttribute("className")}),c.getElementsByTagName=A(function(e){return e.appendChild(w.createComment("")),!e.getElementsByTagName("*").length}),c.getElementsByClassName=h.test(w.getElementsByClassName),c.getById=A(function(e){return i.appendChild(e).id=C,!w.getElementsByName||!w.getElementsByName(C).length}),c.getById?(v.filter.ID=function(e){var t=e.replace(O,u);return function(e){return e.getAttribute("id")===t}},v.find.ID=function(e,t){if(void 0!==t.getElementById&&S)return(t=t.getElementById(e))?[t]:[]}):(v.filter.ID=function(e){var t=e.replace(O,u);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},v.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var i,n,r,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),v.find.TAG=c.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):c.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;i=o[r++];)1===i.nodeType&&n.push(i);return n},v.find.CLASS=c.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},n=[],y=[],(c.qsa=h.test(w.querySelectorAll))&&(A(function(e){i.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+a+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+a+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+C+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||y.push(".#.+[+~]")}),A(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=w.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+a+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),i.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(c.matchesSelector=h.test(r=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector))&&A(function(e){c.disconnectedMatch=r.call(e,"*"),r.call(e,"[s!='']:x"),n.push("!=",Q)}),y=y.length&&new RegExp(y.join("|")),n=n.length&&new RegExp(n.join("|")),e=h.test(i.compareDocumentPosition),_=e||h.test(i.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(i.contains?i.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=e?function(e,t){if(e===t)return l=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!c.sortDetached&&t.compareDocumentPosition(e)===i?e===w||e.ownerDocument===x&&_(x,e)?-1:t===w||t.ownerDocument===x&&_(x,t)?1:p?g(p,e)-g(p,t):0:4&i?-1:1)}:function(e,t){if(e===t)return l=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===w?-1:t===w?1:r?-1:o?1:p?g(p,e)-g(p,t):0;if(r===o)return ce(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;a[n]===s[n];)n++;return n?ce(a[n],s[n]):a[n]===x?-1:s[n]===x?1:0}),w},T.matches=function(e,t){return T(e,null,null,t)},T.matchesSelector=function(e,t){if((e.ownerDocument||e)!==w&&b(e),t=t.replace(ie,"='$1']"),c.matchesSelector&&S&&!f[t+" "]&&(!n||!n.test(t))&&(!y||!y.test(t)))try{var i=r.call(e,t);if(i||c.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<T(t,w,null,[e]).length},T.contains=function(e,t){return(e.ownerDocument||e)!==w&&b(e),_(e,t)},T.attr=function(e,t){(e.ownerDocument||e)!==w&&b(e);var i=v.attrHandle[t.toLowerCase()],i=i&&q.call(v.attrHandle,t.toLowerCase())?i(e,t,!S):void 0;return void 0!==i?i:c.attributes||!S?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},T.escape=function(e){return(e+"").replace(le,D)},T.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},T.uniqueSort=function(e){var t,i=[],n=0,r=0;if(l=!c.detectDuplicates,p=!c.sortStable&&e.slice(0),e.sort(W),l){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return p=null,e},o=T.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=o(t);return i},(v=T.selectors={cacheLength:50,createPseudo:G,match:d,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,u),e[3]=(e[3]||e[4]||e[5]||"").replace(O,u),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||T.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&T.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return d.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ne.test(i)&&(t=m(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,u).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(e){e=T.attr(e,t);return null==e?"!="===i:!i||(e+="","="===i?e===n:"!="===i?e!==n:"^="===i?n&&0===e.indexOf(n):"*="===i?n&&-1<e.indexOf(n):"$="===i?n&&e.slice(-n.length)===n:"~="===i?-1<(" "+e.replace($," ")+" ").indexOf(n):"|="===i&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(m,e,t,y,_){var x="nth"!==m.slice(0,3),f="last"!==m.slice(-4),g="of-type"===e;return 1===y&&0===_?function(e){return!!e.parentNode}:function(e,t,i){var n,r,o,a,s,p,l=x!=f?"nextSibling":"previousSibling",h=e.parentNode,u=g&&e.nodeName.toLowerCase(),d=!i&&!g,c=!1;if(h){if(x){for(;l;){for(a=e;a=a[l];)if(g?a.nodeName.toLowerCase()===u:1===a.nodeType)return!1;p=l="only"===m&&!p&&"nextSibling"}return!0}if(p=[f?h.firstChild:h.lastChild],f&&d){for(c=(s=(n=(r=(o=(a=h)[C]||(a[C]={}))[a.uniqueID]||(o[a.uniqueID]={}))[m]||[])[0]===k&&n[1])&&n[2],a=s&&h.childNodes[s];a=++s&&a&&a[l]||(c=s=0)||p.pop();)if(1===a.nodeType&&++c&&a===e){r[m]=[k,s,c];break}}else if(!1===(c=d?s=(n=(r=(o=(a=e)[C]||(a[C]={}))[a.uniqueID]||(o[a.uniqueID]={}))[m]||[])[0]===k&&n[1]:c))for(;(a=++s&&a&&a[l]||(c=s=0)||p.pop())&&((g?a.nodeName.toLowerCase()!==u:1!==a.nodeType)||!++c||(d&&((r=(o=a[C]||(a[C]={}))[a.uniqueID]||(o[a.uniqueID]={}))[m]=[k,c]),a!==e)););return(c-=_)===y||c%y==0&&0<=c/y}}},PSEUDO:function(e,o){var t,a=v.pseudos[e]||v.setFilters[e.toLowerCase()]||T.error("unsupported pseudo: "+e);return a[C]?a(o):1<a.length?(t=[e,e,"",o],v.setFilters.hasOwnProperty(e.toLowerCase())?G(function(e,t){for(var i,n=a(e,o),r=n.length;r--;)e[i=g(e,n[r])]=!(t[i]=n[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:G(function(e){var n=[],r=[],s=F(e.replace(P,"$1"));return s[C]?G(function(e,t,i,n){for(var r,o=s(e,null,n,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,i){return n[0]=e,s(n,null,i,r),n[0]=null,!r.pop()}}),has:G(function(t){return function(e){return 0<T(t,e).length}}),contains:G(function(t){return t=t.replace(O,u),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:G(function(i){return re.test(i||"")||T.error("unsupported lang: "+i),i=i.replace(O,u).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=L.location&&L.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!v.pseudos.empty(e)},header:function(e){return ae.test(e.nodeName)},input:function(e){return oe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:E(function(){return[0]}),last:E(function(e,t){return[t-1]}),eq:E(function(e,t,i){return[i<0?i+t:i]}),even:E(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:E(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:E(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:E(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=v.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})v.pseudos[e]=function(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}(e);function _e(){}function I(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function B(a,e,t){var s=e.dir,p=e.next,l=p||s,h=t&&"parentNode"===l,u=U++;return e.first?function(e,t,i){for(;e=e[s];)if(1===e.nodeType||h)return a(e,t,i);return!1}:function(e,t,i){var n,r,o=[k,u];if(i){for(;e=e[s];)if((1===e.nodeType||h)&&a(e,t,i))return!0}else for(;e=e[s];)if(1===e.nodeType||h)if(r=(r=e[C]||(e[C]={}))[e.uniqueID]||(r[e.uniqueID]={}),p&&p===e.nodeName.toLowerCase())e=e[s]||e;else{if((n=r[l])&&n[0]===k&&n[1]===u)return o[2]=n[2];if((r[l]=o)[2]=a(e,t,i))return!0}return!1}}function xe(r){return 1<r.length?function(e,t,i){for(var n=r.length;n--;)if(!r[n](e,t,i))return!1;return!0}:r[0]}function fe(e,t,i,n,r){for(var o,a=[],s=0,p=e.length,l=null!=t;s<p;s++)!(o=e[s])||i&&!i(o,n,r)||(a.push(o),l&&t.push(s));return a}function ge(c,m,y,_,x,e){return _&&!_[C]&&(_=ge(_)),x&&!x[C]&&(x=ge(x,e)),G(function(e,t,i,n){var r,o,a,s=[],p=[],l=t.length,h=e||function(e,t,i){for(var n=0,r=t.length;n<r;n++)T(e,t[n],i);return i}(m||"*",i.nodeType?[i]:i,[]),u=!c||!e&&m?h:fe(h,s,c,i,n),d=y?x||(e?c:l||_)?[]:t:u;if(y&&y(u,d,i,n),_)for(r=fe(d,p),_(r,[],i,n),o=r.length;o--;)(a=r[o])&&(d[p[o]]=!(u[p[o]]=a));if(e){if(x||c){if(x){for(r=[],o=d.length;o--;)(a=d[o])&&r.push(u[o]=a);x(null,d=[],r,n)}for(o=d.length;o--;)(a=d[o])&&-1<(r=x?g(e,a):s[o])&&(e[r]=!(t[r]=a))}}else d=fe(d===t?d.splice(l,d.length):d),x?x(null,t,d,n):M.apply(t,d)})}function ve(_,x){function e(e,t,i,n,r){var o,a,s,p=0,l="0",h=e&&[],u=[],d=z,c=e||g&&v.find.TAG("*",r),m=k+=null==d?1:Math.random()||.1,y=c.length;for(r&&(z=t===w||t||r);l!==y&&null!=(o=c[l]);l++){if(g&&o){for(a=0,t||o.ownerDocument===w||(b(o),i=!S);s=_[a++];)if(s(o,t||w,i)){n.push(o);break}r&&(k=m)}f&&((o=!s&&o)&&p--,e&&h.push(o))}if(p+=l,f&&l!==p){for(a=0;s=x[a++];)s(h,u,t,i);if(e){if(0<p)for(;l--;)h[l]||u[l]||(u[l]=X.call(n));u=fe(u)}M.apply(n,u),r&&!e&&0<u.length&&1<p+x.length&&T.uniqueSort(n)}return r&&(k=m,z=d),h}var f=0<x.length,g=0<_.length;return f?G(e):e}return _e.prototype=v.filters=v.pseudos,v.setFilters=new _e,m=T.tokenize=function(e,t){var i,n,r,o,a,s,p,l=V[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],p=v.preFilter;a;){for(o in i&&!(n=ee.exec(a))||(n&&(a=a.slice(n[0].length)||a),s.push(r=[])),i=!1,(n=te.exec(a))&&(i=n.shift(),r.push({value:i,type:n[0].replace(P," ")}),a=a.slice(i.length)),v.filter)!(n=d[o].exec(a))||p[o]&&!(n=p[o](n))||(i=n.shift(),r.push({value:i,type:o,matches:n}),a=a.slice(i.length));if(!i)break}return t?a.length:a?T.error(e):V(e,s).slice(0)},F=T.compile=function(e,t){var i,n=[],r=[],o=f[e+" "];if(!o){for(i=(t=t||m(e)).length;i--;)((o=function e(t){for(var n,i,r,o=t.length,a=v.relative[t[0].type],s=a||v.relative[" "],p=a?1:0,l=B(function(e){return e===n},s,!0),h=B(function(e){return-1<g(n,e)},s,!0),u=[function(e,t,i){return e=!a&&(i||t!==z)||((n=t).nodeType?l:h)(e,t,i),n=null,e}];p<o;p++)if(i=v.relative[t[p].type])u=[B(xe(u),i)];else{if((i=v.filter[t[p].type].apply(null,t[p].matches))[C]){for(r=++p;r<o&&!v.relative[t[r].type];r++);return ge(1<p&&xe(u),1<p&&I(t.slice(0,p-1).concat({value:" "===t[p-2].type?"*":""})).replace(P,"$1"),i,p<r&&e(t.slice(p,r)),r<o&&e(t=t.slice(r)),r<o&&I(t))}u.push(i)}return xe(u)}(t[i]))[C]?n:r).push(o);(o=f(e,ve(r,n))).selector=e}return o},N=T.select=function(e,t,i,n){var r,o,a,s,p,l="function"==typeof e&&e,h=!n&&m(e=l.selector||e);if(i=i||[],1===h.length){if(2<(o=h[0]=h[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&S&&v.relative[o[1].type]){if(!(t=(v.find.ID(a.matches[0].replace(O,u),t)||[])[0]))return i;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=d.needsContext.test(e)?0:o.length;r--&&(a=o[r],!v.relative[s=a.type]);)if((p=v.find[s])&&(n=p(a.matches[0].replace(O,u),pe.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(r,1),e=n.length&&I(o))break;return M.apply(i,n),i}}return(l||F(e,h))(n,t,!S,i,!t||pe.test(e)&&ye(t.parentNode)||t),i},c.sortStable=C.split("").sort(W).join("")===C,c.detectDuplicates=!!l,b(),c.sortDetached=A(function(e){return 1&e.compareDocumentPosition(w.createElement("fieldset"))}),A(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),c.attributes&&A(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),A(function(e){return null==e.getAttribute("disabled")})||de(Z,function(e,t,i){if(!i)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),T}(z),J=(w.find=e,w.expr=e.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=e.uniqueSort,w.text=e.getText,w.isXMLDoc=e.isXML,w.contains=e.contains,w.escapeSelector=e.escape,w.expr.match.needsContext),Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,$=/^.[^:#\[\.,]*$/;function ee(e,i,n){return w.isFunction(i)?w.grep(e,function(e,t){return!!i.call(e,t,e)!==n}):i.nodeType?w.grep(e,function(e){return e===i!==n}):"string"!=typeof i?w.grep(e,function(e){return-1<r.call(i,e)!==n}):$.test(i)?w.filter(i,e,n):(i=w.filter(i,e),w.grep(e,function(e){return-1<r.call(i,e)!==n&&1===e.nodeType}))}w.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?w.find.matchesSelector(n,e)?[n]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<n;t++)if(w.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)w.find(e,r[t],i);return 1<n?w.uniqueSort(i):i},filter:function(e){return this.pushStack(ee(this,e||[],!1))},not:function(e){return this.pushStack(ee(this,e||[],!0))},is:function(e){return!!ee(this,"string"==typeof e&&J.test(e)?w(e):e||[],!1).length}});var te,ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ne=((w.fn.init=function(e,t,i){if(!e)return this;if(i=i||te,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):w.isFunction(e)?void 0!==i.ready?i.ready(e):e(w):w.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ie.exec(e))||!n[1]&&t)return(!t||t.jquery?t||i:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),Q.test(n[1])&&w.isPlainObject(t))for(var n in t)w.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=b.getElementById(n[2]))&&(this[0]=i,this.length=1),this}).prototype=w.fn,te=w(b),/^(?:parents|prev(?:Until|All))/),re={children:!0,contents:!0,next:!0,prev:!0};function oe(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,o=[],a="string"!=typeof e&&w(e);if(!J.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?-1<a.index(i):1===i.nodeType&&w.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(1<o.length?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?r.call(w(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return n(e,"parentNode")},parentsUntil:function(e,t,i){return n(e,"parentNode",i)},next:function(e){return oe(e,"nextSibling")},prev:function(e){return oe(e,"previousSibling")},nextAll:function(e){return n(e,"nextSibling")},prevAll:function(e){return n(e,"previousSibling")},nextUntil:function(e,t,i){return n(e,"nextSibling",i)},prevUntil:function(e,t,i){return n(e,"previousSibling",i)},siblings:function(e){return Z((e.parentNode||{}).firstChild,e)},children:function(e){return Z(e.firstChild)},contents:function(e){return e.contentDocument||w.merge([],e.childNodes)}},function(n,r){w.fn[n]=function(e,t){var i=w.map(this,r,e);return(t="Until"!==n.slice(-5)?e:t)&&"string"==typeof t&&(i=w.filter(t,i)),1<this.length&&(re[n]||w.uniqueSort(i),ne.test(n)&&i.reverse()),this.pushStack(i)}});var S=/[^\x20\t\r\n\f]+/g;function h(e){return e}function ae(e){throw e}function se(e,t,i){var n;try{e&&w.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&w.isFunction(n=e.then)?n.call(e,t,i):t.call(void 0,e)}catch(e){i.call(void 0,e)}}w.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},w.each(e.match(S)||[],function(e,t){i[t]=!0}),i):w.extend({},n);function r(){for(s=n.once,a=o=!0;l.length;h=-1)for(t=l.shift();++h<p.length;)!1===p[h].apply(t[0],t[1])&&n.stopOnFalse&&(h=p.length,t=!1);n.memory||(t=!1),o=!1,s&&(p=t?[]:"")}var o,t,a,s,p=[],l=[],h=-1,u={add:function(){return p&&(t&&!o&&(h=p.length-1,l.push(t)),function i(e){w.each(e,function(e,t){w.isFunction(t)?n.unique&&u.has(t)||p.push(t):t&&t.length&&"string"!==w.type(t)&&i(t)})}(arguments),t&&!o&&r()),this},remove:function(){return w.each(arguments,function(e,t){for(var i;-1<(i=w.inArray(t,p,i));)p.splice(i,1),i<=h&&h--}),this},has:function(e){return e?-1<w.inArray(e,p):0<p.length},empty:function(){return p=p&&[],this},disable:function(){return s=l=[],p=t="",this},disabled:function(){return!p},lock:function(){return s=l=[],t||o||(p=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o||r()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},w.extend({Deferred:function(e){var o=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return w.Deferred(function(n){w.each(o,function(e,t){var i=w.isFunction(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=i&&i.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),r=null}).promise()},then:function(t,i,n){var p=0;function l(r,o,a,s){return function(){function e(){var e,t;if(!(r<p)){if((e=a.apply(i,n))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,w.isFunction(t)?s?t.call(e,l(p,o,h,s),l(p,o,ae,s)):(p++,t.call(e,l(p,o,h,s),l(p,o,ae,s),l(p,o,h,o.notifyWith))):(a!==h&&(i=void 0,n=[e]),(s||o.resolveWith)(i,n))}}var i=this,n=arguments,t=s?e:function(){try{e()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,t.stackTrace),p<=r+1&&(a!==ae&&(i=void 0,n=[e]),o.rejectWith(i,n))}};r?t():(w.Deferred.getStackHook&&(t.stackTrace=w.Deferred.getStackHook()),z.setTimeout(t))}}return w.Deferred(function(e){o[0][3].add(l(0,e,w.isFunction(n)?n:h,e.notifyWith)),o[1][3].add(l(0,e,w.isFunction(t)?t:h)),o[2][3].add(l(0,e,w.isFunction(i)?i:ae))}).promise()},promise:function(e){return null!=e?w.extend(e,a):a}},s={};return w.each(o,function(e,t){var i=t[2],n=t[5];a[t[1]]=i.add,n&&i.add(function(){r=n},o[3-e][2].disable,o[0][2].lock),i.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=i.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--i||a.resolveWith(r,o)}}var i=arguments.length,n=i,r=Array(n),o=s.call(arguments),a=w.Deferred();if(i<=1&&(se(e,a.done(t(n)).resolve,a.reject),"pending"===a.state()||w.isFunction(o[n]&&o[n].then)))return a.then();for(;n--;)se(o[n],t(n),a.reject);return a.promise()}});var pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,le=(w.Deferred.exceptionHook=function(e,t){z.console&&z.console.warn&&e&&pe.test(e.name)&&z.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){z.setTimeout(function(){throw e})},w.Deferred());function he(){b.removeEventListener("DOMContentLoaded",he),z.removeEventListener("load",he),w.ready()}w.fn.ready=function(e){return le.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){(!0===e?--w.readyWait:w.isReady)||((w.isReady=!0)!==e&&0<--w.readyWait||le.resolveWith(b,[w]))}}),w.ready.then=le.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?z.setTimeout(w.ready):(b.addEventListener("DOMContentLoaded",he),z.addEventListener("load",he));function u(e,t,i,n,r,o,a){var s=0,p=e.length,l=null==i;if("object"===w.type(i))for(s in r=!0,i)u(e,t,s,i[s],!0,o,a);else if(void 0!==n&&(r=!0,w.isFunction(n)||(a=!0),t=l?a?(t.call(e,n),null):(l=t,function(e,t,i){return l.call(w(e),i)}):t))for(;s<p;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return r?e:l?t.call(e):p?t(e[0],i):o}function ue(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function t(){this.expando=w.expando+t.uid++}t.uid=1,t.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ue(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[w.camelCase(t)]=i;else for(n in t)r[w.camelCase(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][w.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=w.isArray(t)?t.map(w.camelCase):(t=w.camelCase(t))in n?[t]:t.match(S)||[]).length;for(;i--;)delete n[t[i]]}void 0!==t&&!w.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var x=new t,p=new t,de=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function me(e,t,i){var n,r;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:de.test(r)?JSON.parse(r):r)}catch(e){}p.set(e,t,i)}else i=void 0;return i}w.extend({hasData:function(e){return p.hasData(e)||x.hasData(e)},data:function(e,t,i){return p.access(e,t,i)},removeData:function(e,t){p.remove(e,t)},_data:function(e,t,i){return x.access(e,t,i)},_removeData:function(e,t){x.remove(e,t)}}),w.fn.extend({data:function(i,e){var t,n,r,o=this[0],a=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){p.set(this,i)}):u(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=p.get(o,i))||void 0!==(t=me(o,i))?t:void 0;this.each(function(){p.set(this,i,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=p.get(o),1===o.nodeType&&!x.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&(0===(n=a[t].name).indexOf("data-")&&(n=w.camelCase(n.slice(5)),me(o,n,r[n])));x.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){p.remove(this,e)})}}),w.extend({queue:function(e,t,i){var n;if(e)return n=x.get(e,t=(t||"fx")+"queue"),i&&(!n||w.isArray(i)?n=x.access(e,t,w.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=w.queue(e,t),n=i.length,r=i.shift(),o=w._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){w.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return x.get(e,i)||x.access(e,i,{empty:w.Callbacks("once memory").add(function(){x.remove(e,[t+"queue",i])})})}}),w.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?w.queue(this[0],t):void 0===i?this:this.each(function(){var e=w.queue(this,t,i);w._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&w.dequeue(this,t)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--r||o.resolveWith(a,[a])}var n,r=1,o=w.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=x.get(a[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(i));return i(),o.promise(t)}});function ye(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")}function _e(e,t,i,n){var r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=i.apply(e,n||[]),t)e.style[r]=o[r];return i}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,d=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),l=["Top","Right","Bottom","Left"];function xe(e,t,i,n){var r,o=1,a=20,s=n?function(){return n.cur()}:function(){return w.css(e,t,"")},p=s(),l=i&&i[3]||(w.cssNumber[t]?"":"px"),h=(w.cssNumber[t]||"px"!==l&&+p)&&d.exec(w.css(e,t));if(h&&h[3]!==l)for(l=l||h[3],i=i||[],h=+p||1;w.style(e,t,(h/=o=o||".5")+l),o!==(o=s()/p)&&1!==o&&--a;);return i&&(h=+h||+p||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=h,n.end=r)),r}var fe={};function _(e,t){for(var i,n,r,o,a,s=[],p=0,l=e.length;p<l;p++)(n=e[p]).style&&(i=n.style.display,t?("none"===i&&(s[p]=x.get(n,"display")||null,s[p]||(n.style.display="")),""===n.style.display&&ye(n)&&(s[p]=(a=o=void 0,o=(r=n).ownerDocument,r=r.nodeName,(a=fe[r])||(o=o.body.appendChild(o.createElement(r)),a=w.css(o,"display"),o.parentNode.removeChild(o),fe[r]=a="none"===a?"block":a)))):"none"!==i&&(s[p]="none",x.set(n,"display",i)));for(p=0;p<l;p++)null!=s[p]&&(e[p].style.display=s[p]);return e}w.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ye(this)?w(this).show():w(this).hide()})}});var ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ze=/^$|\/(?:java|ecma)script/i,m={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function f(e,t){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&w.nodeName(e,t)?w.merge([e],i):i}function be(e,t){for(var i=0,n=e.length;i<n;i++)x.set(e[i],"globalEval",!t||x.get(t[i],"globalEval"))}m.optgroup=m.option,m.tbody=m.tfoot=m.colgroup=m.caption=m.thead,m.th=m.td;var we=/<|&#?\w+;/;function Se(e,t,i,n,r){for(var o,a,s,p,l,h=t.createDocumentFragment(),u=[],d=0,c=e.length;d<c;d++)if((o=e[d])||0===o)if("object"===w.type(o))w.merge(u,o.nodeType?[o]:o);else if(we.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(ve.exec(o)||["",""])[1].toLowerCase(),s=m[s]||m._default,a.innerHTML=s[1]+w.htmlPrefilter(o)+s[2],l=s[0];l--;)a=a.lastChild;w.merge(u,a.childNodes),(a=h.firstChild).textContent=""}else u.push(t.createTextNode(o));for(h.textContent="",d=0;o=u[d++];)if(n&&-1<w.inArray(o,n))r&&r.push(o);else if(p=w.contains(o.ownerDocument,o),a=f(h.appendChild(o),"script"),p&&be(a),i)for(l=0;o=a[l++];)ze.test(o.type||"")&&i.push(o);return h}O=b.createDocumentFragment().appendChild(b.createElement("div")),(P=b.createElement("input")).setAttribute("type","radio"),P.setAttribute("checked","checked"),P.setAttribute("name","t"),O.appendChild(P),y.checkClone=O.cloneNode(!0).cloneNode(!0).lastChild.checked,O.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!O.cloneNode(!0).lastChild.defaultValue;var Ce=b.documentElement,ke=/^key/,Me=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pe=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function c(){return!1}function Te(){try{return b.activeElement}catch(e){}}function Ge(e,t,i,n,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)Ge(e,s,i,n,t[s],o);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=c;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,r,n,i)})}w.event={global:{},add:function(t,e,i,n,r){var o,a,s,p,l,h,u,d,c,m=x.get(t);if(m)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&w.find.matchesSelector(Ce,r),i.guid||(i.guid=w.guid++),(s=m.events)||(s=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),p=(e=(e||"").match(S)||[""]).length;p--;)u=c=(d=Pe.exec(e[p])||[])[1],d=(d[2]||"").split(".").sort(),u&&(l=w.event.special[u]||{},u=(r?l.delegateType:l.bindType)||u,l=w.event.special[u]||{},c=w.extend({type:u,origType:c,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:d.join(".")},o),(h=s[u])||((h=s[u]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,n,d,a)||t.addEventListener&&t.addEventListener(u,a)),l.add&&(l.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),w.event.global[u]=!0)},remove:function(e,t,i,n,r){var o,a,s,p,l,h,u,d,c,m,y,_=x.hasData(e)&&x.get(e);if(_&&(p=_.events)){for(l=(t=(t||"").match(S)||[""]).length;l--;)if(c=y=(s=Pe.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),c){for(u=w.event.special[c]||{},d=p[c=(n?u.delegateType:u.bindType)||c]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)h=d[o],!r&&y!==h.origType||i&&i.guid!==h.guid||s&&!s.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(e,h));a&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,m,_.handle)||w.removeEvent(e,c,_.handle),delete p[c])}else for(c in p)w.event.remove(e,c+t[l],i,n,!0);w.isEmptyObject(p)&&x.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,o,a=w.event.fix(e),s=new Array(arguments.length),e=(x.get(this,"events")||{})[a.type]||[],p=w.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,a)){for(o=w.event.handlers.call(this,a,e),t=0;(n=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((w.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,s))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,r,o,a,s=[],p=t.delegateCount,l=e.target;if(p&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},i=0;i<p;i++)void 0===a[r=(n=t[i]).selector+" "]&&(a[r]=n.needsContext?-1<w(r,this).index(l):w.find(r,this,null,[l]).length),a[r]&&o.push(n);o.length&&s.push({elem:l,handlers:o})}return l=this,p<t.length&&s.push({elem:l,handlers:t.slice(p)}),s},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:w.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Te()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Te()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&w.nodeName(this,"input"))return this.click(),!1},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},w.Event=function(e,t){return this instanceof w.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:c,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),void(this[w.expando]=!0)):new w.Event(e,t)},w.Event.prototype={constructor:w.Event,isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ke.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Me.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){w.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||w.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=r),t}}}),w.fn.extend({on:function(e,t,i,n){return Ge(this,e,t,i,n)},one:function(e,t,i,n){return Ge(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,w(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=c),this.each(function(){w.event.remove(this,e,i,t)});for(r in e)this.off(r,t,e[r]);return this}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return w.nodeName(e,"table")&&w.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function Re(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function je(e){var t=Be.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Fe(e,t){var i,n,r,o,a,s;if(1===t.nodeType){if(x.hasData(e)&&(o=x.access(e),a=x.set(t,o),s=o.events))for(r in delete a.handle,a.events={},s)for(i=0,n=s[r].length;i<n;i++)w.event.add(t,r,s[r][i]);p.hasData(e)&&(o=p.access(e),a=w.extend({},o),p.set(t,a))}}function g(i,n,r,o){n=R.apply([],n);var e,t,a,s,p,l,h=0,u=i.length,d=u-1,c=n[0],m=w.isFunction(c);if(m||1<u&&"string"==typeof c&&!y.checkClone&&Ie.test(c))return i.each(function(e){var t=i.eq(e);m&&(n[0]=c.call(this,e,t.html())),g(t,n,r,o)});if(u&&(t=(e=Se(n,i[0].ownerDocument,!1,i,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=w.map(f(e,"script"),Re)).length;h<u;h++)p=e,h!==d&&(p=w.clone(p,!0,!0),s&&w.merge(a,f(p,"script"))),r.call(i[h],p,h);if(s)for(l=a[a.length-1].ownerDocument,w.map(a,je),h=0;h<s;h++)p=a[h],ze.test(p.type||"")&&!x.access(p,"globalEval")&&w.contains(l,p)&&(p.src?w._evalUrl&&w._evalUrl(p.src):V(p.textContent.replace(Le,""),l))}return i}function Ne(e,t,i){for(var n,r=t?w.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||w.cleanData(f(n)),n.parentNode&&(i&&w.contains(n.ownerDocument,n)&&be(f(n,"script")),n.parentNode.removeChild(n));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ae,"<$1></$2>")},clone:function(e,t,i){var n,r,o,a,s,p,l,h=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=f(h),n=0,r=(o=f(e)).length;n<r;n++)s=o[n],p=a[n],l=void 0,"input"===(l=p.nodeName.toLowerCase())&&ge.test(s.type)?p.checked=s.checked:"input"!==l&&"textarea"!==l||(p.defaultValue=s.defaultValue);if(t)if(i)for(o=o||f(e),a=a||f(h),n=0,r=o.length;n<r;n++)Fe(o[n],a[n]);else Fe(e,h);return 0<(a=f(h,"script")).length&&be(a,!u&&f(e,"script")),h},cleanData:function(e){for(var t,i,n,r=w.event.special,o=0;void 0!==(i=e[o]);o++)if(ue(i)){if(t=i[x.expando]){if(t.events)for(n in t.events)r[n]?w.event.remove(i,n):w.removeEvent(i,n,t.handle);i[x.expando]=void 0}i[p.expando]&&(i[p.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return u(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return g(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return g(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=De(this,e)).insertBefore(e,t.firstChild)})},before:function(){return g(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return g(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(f(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return u(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!m[(ve.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(w.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return g(this,arguments,function(e){var t=this.parentNode;w.inArray(this,i)<0&&(w.cleanData(f(this)),t&&t.replaceChild(e,this))},i)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){w.fn[e]=function(e){for(var t,i=[],n=w(e),r=n.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),w(n[o])[a](t),j.apply(i,t.get());return this.pushStack(i)}});function Ue(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:z).getComputedStyle(e)}var He,Ve,We,qe,o,a,Xe=/^margin/,Ye=new RegExp("^("+e+")(?!px)[a-z%]+$","i");function Ke(){var e;a&&(a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ce.appendChild(o),e=z.getComputedStyle(a),He="1%"!==e.top,qe="2px"===e.marginLeft,Ve="4px"===e.width,a.style.marginRight="50%",We="4px"===e.marginRight,Ce.removeChild(o),a=null)}function v(e,t,i){var n,r,o=e.style;return(i=i||Ue(e))&&(""!==(r=i.getPropertyValue(t)||i[t])||w.contains(e.ownerDocument,e)||(r=w.style(e,t)),!y.pixelMarginRight()&&Ye.test(r)&&Xe.test(t)&&(e=o.width,t=o.minWidth,n=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=i.width,o.width=e,o.minWidth=t,o.maxWidth=n)),void 0!==r?r+"":r}function Ze(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}o=b.createElement("div"),(a=b.createElement("div")).style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),w.extend(y,{pixelPosition:function(){return Ke(),He},boxSizingReliable:function(){return Ke(),Ve},pixelMarginRight:function(){return Ke(),We},reliableMarginLeft:function(){return Ke(),qe}}));var Je=/^(none|table(?!-c[ea]).+)/,Qe={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},et=["Webkit","Moz","ms"],tt=b.createElement("div").style;function it(e){if(e in tt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=et.length;i--;)if((e=et[i]+t)in tt)return e}function nt(e,t,i){var n=d.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function rt(e,t,i,n,r){for(var o=0,a=i===(n?"border":"content")?4:"width"===t?1:0;a<4;a+=2)"margin"===i&&(o+=w.css(e,i+l[a],!0,r)),n?("content"===i&&(o-=w.css(e,"padding"+l[a],!0,r)),"margin"!==i&&(o-=w.css(e,"border"+l[a]+"Width",!0,r))):(o+=w.css(e,"padding"+l[a],!0,r),"padding"!==i&&(o+=w.css(e,"border"+l[a]+"Width",!0,r)));return o}function ot(e,t,i){var n,r=!0,o=Ue(e),a="border-box"===w.css(e,"boxSizing",!1,o);if((n=e.getClientRects().length?e.getBoundingClientRect()[t]:n)<=0||null==n){if(((n=v(e,t,o))<0||null==n)&&(n=e.style[t]),Ye.test(n))return n;r=a&&(y.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+rt(e,t,i||(a?"border":"content"),r,o)+"px"}function C(e,t,i,n,r){return new C.prototype.init(e,t,i,n,r)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=v(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){var r,o,a,s,p;if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style)return s=w.camelCase(t),p=e.style,t=w.cssProps[s]||(w.cssProps[s]=it(s)||s),a=w.cssHooks[t]||w.cssHooks[s],void 0===i?a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:p[t]:("string"===(o=typeof i)&&(r=d.exec(i))&&r[1]&&(i=xe(e,t,r),o="number"),void(null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(w.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==i||0!==t.indexOf("background")||(p[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(p[t]=i))))},css:function(e,t,i,n){var r,o=w.camelCase(t);return t=w.cssProps[o]||(w.cssProps[o]=it(o)||o),"normal"===(r=void 0===(r=(o=w.cssHooks[t]||w.cssHooks[o])&&"get"in o?o.get(e,!0,i):r)?v(e,t,n):r)&&t in $e&&(r=$e[t]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),w.each(["height","width"],function(e,r){w.cssHooks[r]={get:function(e,t,i){if(t)return!Je.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,r,i):_e(e,Qe,function(){return ot(e,r,i)})},set:function(e,t,i){var n=i&&Ue(e),i=i&&rt(e,r,i,"border-box"===w.css(e,"boxSizing",!1,n),n);return i&&(n=d.exec(t))&&"px"!==(n[3]||"px")&&(e.style[r]=t,t=w.css(e,r)),nt(0,t,i)}}}),w.cssHooks.marginLeft=Ze(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(v(e,"marginLeft"))||e.getBoundingClientRect().left-_e(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(r,o){w.cssHooks[r+o]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[r+l[t]+o]=n[t]||n[t-2]||n[0];return i}},Xe.test(r)||(w.cssHooks[r+o].set=nt)}),w.fn.extend({css:function(e,t){return u(this,function(e,t,i){var n,r,o={},a=0;if(w.isArray(t)){for(n=Ue(e),r=t.length;a<r;a++)o[t[a]]=w.css(e,t[a],!1,n);return o}return void 0!==i?w.style(e,t,i):w.css(e,t)},e,t,1<arguments.length)}}),((w.Tween=C).prototype={constructor:C,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(w.cssNumber[i]?"":"px")},cur:function(){var e=C.propHooks[this.prop];return(e&&e.get?e:C.propHooks._default).get(this)},run:function(e){var t,i=C.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:C.propHooks._default).set(this),this}}).init.prototype=C.prototype,(C.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=w.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=C.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=C.prototype.init,w.fx.step={};var k,M,P,O,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function pt(){M&&(z.requestAnimationFrame(pt),w.fx.tick())}function lt(){return z.setTimeout(function(){k=void 0}),k=w.now()}function ht(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=l[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,i){for(var n,r=(T.tweeners[t]||[]).concat(T.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n}function T(r,e,t){var i,o,n,a,s,p,l,h=0,u=T.prefilters.length,d=w.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var e=k||lt(),e=Math.max(0,m.startTime+m.duration-e),t=1-(e/m.duration||0),i=0,n=m.tweens.length;i<n;i++)m.tweens[i].run(t);return d.notifyWith(r,[m,t,e]),t<1&&n?e:(d.resolveWith(r,[m]),!1)},m=d.promise({elem:r,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},t),originalProperties:e,originalOptions:t,startTime:k||lt(),duration:t.duration,tweens:[],createTween:function(e,t){t=w.Tween(r,m.opts,e,t,m.opts.specialEasing[e]||m.opts.easing);return m.tweens.push(t),t},stop:function(e){var t=0,i=e?m.tweens.length:0;if(o)return this;for(o=!0;t<i;t++)m.tweens[t].run(1);return e?(d.notifyWith(r,[m,1,0]),d.resolveWith(r,[m,e])):d.rejectWith(r,[m,e]),this}}),y=m.props,_=y,x=m.opts.specialEasing;for(n in _)if(a=w.camelCase(n),s=x[a],p=_[n],w.isArray(p)&&(s=p[1],p=_[n]=p[0]),n!==a&&(_[a]=p,delete _[n]),l=w.cssHooks[a],l&&"expand"in l)for(n in p=l.expand(p),delete _[a],p)n in _||(_[n]=p[n],x[n]=s);else x[a]=s;for(;h<u;h++)if(i=T.prefilters[h].call(m,r,y,m.opts))return w.isFunction(i.stop)&&(w._queueHooks(m.elem,m.opts.queue).stop=w.proxy(i.stop,i)),i;return w.map(y,ut,m),w.isFunction(m.opts.start)&&m.opts.start.call(r,m),w.fx.timer(w.extend(c,{elem:r,anim:m,queue:m.opts.queue})),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}w.Animation=w.extend(T,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return xe(i.elem,e,d.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,r=(e=w.isFunction(e)?(t=e,["*"]):e.match(S)).length;n<r;n++)i=e[n],T.tweeners[i]=T.tweeners[i]||[],T.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,o,a,s,p,l,h="width"in t||"height"in t,u=this,d={},c=e.style,m=e.nodeType&&ye(e),y=x.get(e,"fxshow");for(n in i.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[n],at.test(r)){if(delete t[n],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!y||void 0===y[n])continue;m=!0}d[n]=y&&y[n]||w.style(e,n)}if((p=!w.isEmptyObject(t))||!w.isEmptyObject(d))for(n in h&&1===e.nodeType&&(i.overflow=[c.overflow,c.overflowX,c.overflowY],null==(l=y&&y.display)&&(l=x.get(e,"display")),"none"===(h=w.css(e,"display"))&&(l?h=l:(_([e],!0),l=e.style.display||l,h=w.css(e,"display"),_([e]))),("inline"===h||"inline-block"===h&&null!=l)&&"none"===w.css(e,"float")&&(p||(u.done(function(){c.display=l}),null==l&&(h=c.display,l="none"===h?"":h)),c.display="inline-block")),i.overflow&&(c.overflow="hidden",u.always(function(){c.overflow=i.overflow[0],c.overflowX=i.overflow[1],c.overflowY=i.overflow[2]})),p=!1,d)p||(y?"hidden"in y&&(m=y.hidden):y=x.access(e,"fxshow",{display:l}),o&&(y.hidden=!m),m&&_([e],!0),u.done(function(){for(n in m||_([e]),x.remove(e,"fxshow"),d)w.style(e,n,d[n])})),p=ut(m?y[n]:0,n,u),n in y||(y[n]=p.start,m&&(p.end=p.start,p.start=0))}],prefilter:function(e,t){t?T.prefilters.unshift(e):T.prefilters.push(e)}}),w.speed=function(e,t,i){var n=e&&"object"==typeof e?w.extend({},e):{complete:i||!i&&t||w.isFunction(e)&&e,duration:e,easing:i&&t||t&&!w.isFunction(t)&&t};return w.fx.off||b.hidden?n.duration=0:"number"!=typeof n.duration&&(n.duration in w.fx.speeds?n.duration=w.fx.speeds[n.duration]:n.duration=w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){w.isFunction(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){function r(){var e=T(this,w.extend({},t),a);(o||x.get(this,"finish"))&&e.stop(!0)}var o=w.isEmptyObject(t),a=w.speed(e,i,n);return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=w.timers,n=x.get(this);if(t)n[t]&&n[t].stop&&a(n[t]);else for(t in n)n[t]&&n[t].stop&&st.test(t)&&a(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(o),e=!1,i.splice(t,1));!e&&o||w.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=x.get(this),i=t[a+"queue"],n=t[a+"queueHooks"],r=w.timers,o=i?i.length:0;for(t.finish=!0,w.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),w.each(["toggle","show","hide"],function(e,n){var r=w.fn[n];w.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(ht(n,!0),e,t,i)}}),w.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){w.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),w.timers=[],w.fx.tick=function(){var e,t=0,i=w.timers;for(k=w.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||w.fx.stop(),k=void 0},w.fx.timer=function(e){w.timers.push(e),e()?w.fx.start():w.timers.pop()},w.fx.interval=13,w.fx.start=function(){M=M||(z.requestAnimationFrame?z.requestAnimationFrame(pt):z.setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){z.cancelAnimationFrame?z.cancelAnimationFrame(M):z.clearInterval(M),M=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(n,e){return n=w.fx&&w.fx.speeds[n]||n,this.queue(e=e||"fx",function(e,t){var i=z.setTimeout(e,n);t.stop=function(){z.clearTimeout(i)}})},P=b.createElement("input"),O=b.createElement("select").appendChild(b.createElement("option")),P.type="checkbox",y.checkOn=""!==P.value,y.optSelected=O.selected,(P=b.createElement("input")).value="t",P.type="radio",y.radioValue="t"===P.value;var dt,G=w.expr.attrHandle,ct=(w.fn.extend({attr:function(e,t){return u(this,w.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,i):(1===o&&w.isXMLDoc(e)||(r=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==i?null===i?void w.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=w.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){var i;if(!y.radioValue&&"radio"===t&&w.nodeName(e,"input"))return i=e.value,e.setAttribute("type",t),i&&(e.value=i),t}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(S);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),dt={set:function(e,t,i){return!1===t?w.removeAttr(e,i):e.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var a=G[t]||w.find.attr;G[t]=function(e,t,i){var n,r,o=t.toLowerCase();return i||(r=G[o],G[o]=n,n=null!=a(e,t,i)?o:null,G[o]=r),n}}),/^(?:input|select|textarea|button)$/i),mt=/^(?:a|area)$/i;function A(e){return(e.match(S)||[]).join(" ")}function E(e){return e.getAttribute&&e.getAttribute("class")||""}w.fn.extend({prop:function(e,t){return u(this,w.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,r=w.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(w.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,i,n,r,o,a,s=0;if(w.isFunction(t))return this.each(function(e){w(this).addClass(t.call(this,e,E(this)))});if("string"==typeof t&&t)for(e=t.match(S)||[];i=this[s++];)if(a=E(i),n=1===i.nodeType&&" "+A(a)+" "){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");a!==(a=A(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,a,s=0;if(w.isFunction(t))return this.each(function(e){w(this).removeClass(t.call(this,e,E(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(S)||[];i=this[s++];)if(a=E(i),n=1===i.nodeType&&" "+A(a)+" "){for(o=0;r=e[o++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");a!==(a=A(n))&&i.setAttribute("class",a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"==o?t?this.addClass(r):this.removeClass(r):w.isFunction(r)?this.each(function(e){w(this).toggleClass(r.call(this,e,E(this),t),t)}):this.each(function(){var e,t,i,n;if("string"==o)for(t=0,i=w(this),n=r.match(S)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==r&&"boolean"!=o||((e=E(this))&&x.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&x.get(this,"__className__")||""))})},hasClass:function(e){for(var t,i=0,n=" "+e+" ";t=this[i++];)if(1===t.nodeType&&-1<(" "+A(E(t))+" ").indexOf(n))return!0;return!1}});var yt=/\r/g,_t=(w.fn.extend({val:function(t){var i,e,n,r=this[0];return arguments.length?(n=w.isFunction(t),this.each(function(e){1===this.nodeType&&(null==(e=n?t.call(this,e,w(this).val()):t)?e="":"number"==typeof e?e+="":w.isArray(e)&&(e=w.map(e,function(e){return null==e?"":e+""})),(i=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):r?(i=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(yt,""):null==e?"":e:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:A(w.text(e))}},select:{get:function(e){for(var t,i=e.options,n=e.selectedIndex,r="select-one"===e.type,o=r?null:[],a=r?n+1:i.length,s=n<0?a:r?n:0;s<a;s++)if(((t=i[s]).selected||s===n)&&!t.disabled&&(!t.parentNode.disabled||!w.nodeName(t.parentNode,"optgroup"))){if(t=w(t).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,o=w.makeArray(t),a=r.length;a--;)((n=r[a]).selected=-1<w.inArray(w.valHooks.option.get(n),o))&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(w.isArray(t))return e.checked=-1<w.inArray(w(e).val(),t)}},y.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),/^(?:focusinfocus|focusoutblur)$/),I=(w.extend(w.event,{trigger:function(e,t,i,n){var r,o,a,s,p,l,h=[i||b],u=N.call(e,"type")?e.type:e,d=N.call(e,"namespace")?e.namespace.split("."):[],c=o=i=i||b;if(3!==i.nodeType&&8!==i.nodeType&&!_t.test(u+w.event.triggered)&&(-1<u.indexOf(".")&&(u=(d=u.split(".")).shift(),d.sort()),s=u.indexOf(":")<0&&"on"+u,(e=e[w.expando]?e:new w.Event(u,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:w.makeArray(t,[e]),l=w.event.special[u]||{},n||!l.trigger||!1!==l.trigger.apply(i,t))){if(!n&&!l.noBubble&&!w.isWindow(i)){for(a=l.delegateType||u,_t.test(a+u)||(c=c.parentNode);c;c=c.parentNode)h.push(c),o=c;o===(i.ownerDocument||b)&&h.push(o.defaultView||o.parentWindow||z)}for(r=0;(c=h[r++])&&!e.isPropagationStopped();)e.type=1<r?a:l.bindType||u,(p=(x.get(c,"events")||{})[e.type]&&x.get(c,"handle"))&&p.apply(c,t),(p=s&&c[s])&&p.apply&&ue(c)&&(e.result=p.apply(c,t),!1===e.result&&e.preventDefault());return e.type=u,n||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),t)||!ue(i)||s&&w.isFunction(i[u])&&!w.isWindow(i)&&((o=i[s])&&(i[s]=null),i[w.event.triggered=u](),w.event.triggered=void 0,o&&(i[s]=o)),e.result}},simulate:function(e,t,i){i=w.extend(new w.Event,i,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return w.event.trigger(e,t,i,!0)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){w.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.focusin="onfocusin"in z,y.focusin||w.each({focus:"focusin",blur:"focusout"},function(i,n){function r(e){w.event.simulate(n,e.target,w.event.fix(e))}w.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=x.access(e,n);t||e.addEventListener(i,r,!0),x.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=x.access(e,n)-1;t?x.access(e,n,t):(e.removeEventListener(i,r,!0),x.remove(e,n))}}}),z.location),xt=w.now(),ft=/\?/,gt=(w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new z.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t},/\[\]$/),vt=/\r?\n/g,zt=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;w.param=function(e,t){function i(e,t){t=w.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var n,r=[];if(w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)!function i(n,e,r,o){if(w.isArray(e))w.each(e,function(e,t){r||gt.test(n)?o(n,t):i(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==w.type(e))o(n,e);else for(var t in e)i(n+"["+t+"]",e[t],r,o)}(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&bt.test(this.nodeName)&&!zt.test(e)&&(this.checked||!ge.test(e))}).map(function(e,t){var i=w(this).val();return null==i?null:w.isArray(i)?w.map(i,function(e){return{name:t.name,value:e.replace(vt,"\r\n")}}):{name:t.name,value:i.replace(vt,"\r\n")}}).get()}});var wt=/%20/g,St=/#.*$/,Ct=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Pt=/^\/\//,Ot={},Tt={},Gt="*/".concat("*"),At=b.createElement("a");function Et(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,r=e.toLowerCase().match(S)||[];if(w.isFunction(t))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(t)):(o[i]=o[i]||[]).push(t)}}function It(t,n,r,o){var a={},s=t===Tt;function p(e){var i;return a[e]=!0,w.each(t[e]||[],function(e,t){t=t(n,r,o);return"string"!=typeof t||s||a[t]?s?!(i=t):void 0:(n.dataTypes.unshift(t),p(t),!1)}),i}return p(n.dataTypes[0])||!a["*"]&&p("*")}function Bt(e,t){var i,n,r=w.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n=n||{})[i]=t[i]);return n&&w.extend(!0,e,n),e}At.href=I.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:I.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(I.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,w.ajaxSettings),t):Bt(w.ajaxSettings,e)},ajaxPrefilter:Et(Ot),ajaxTransport:Et(Tt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var p,l,h,i,u,d,c,n,m=w.ajaxSetup({},t=t||{}),y=m.context||m,_=m.context&&(y.nodeType||y.jquery)?w(y):w.event,x=w.Deferred(),f=w.Callbacks("once memory"),g=m.statusCode||{},r={},o={},a="canceled",v={readyState:0,getResponseHeader:function(e){var t;if(d){if(!i)for(i={};t=kt.exec(h);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?h:null},setRequestHeader:function(e,t){return null==d&&(e=o[e.toLowerCase()]=o[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==d&&(m.mimeType=e),this},statusCode:function(e){if(e)if(d)v.always(e[v.status]);else for(var t in e)g[t]=[g[t],e[t]];return this},abort:function(e){e=e||a;return p&&p.abort(e),s(0,e),this}};if(x.promise(v),m.url=((e||m.url||I.href)+"").replace(Pt,I.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(S)||[""],null==m.crossDomain){e=b.createElement("a");try{e.href=m.url,e.href=e.href,m.crossDomain=At.protocol+"//"+At.host!=e.protocol+"//"+e.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=w.param(m.data,m.traditional)),It(Ot,m,t,v),d)return v;for(n in(c=w.event&&m.global)&&0==w.active++&&w.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mt.test(m.type),l=m.url.replace(St,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(wt,"+")):(e=m.url.slice(l.length),m.data&&(l+=(ft.test(l)?"&":"?")+m.data,delete m.data),!1===m.cache&&(l=l.replace(Ct,"$1"),e=(ft.test(l)?"&":"?")+"_="+xt+++e),m.url=l+e),m.ifModified&&(w.lastModified[l]&&v.setRequestHeader("If-Modified-Since",w.lastModified[l]),w.etag[l]&&v.setRequestHeader("If-None-Match",w.etag[l])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&v.setRequestHeader("Content-Type",m.contentType),v.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Gt+"; q=0.01":""):m.accepts["*"]),m.headers)v.setRequestHeader(n,m.headers[n]);if(m.beforeSend&&(!1===m.beforeSend.call(y,v,m)||d))return v.abort();if(a="abort",f.add(m.complete),v.done(m.success),v.fail(m.error),p=It(Tt,m,t,v)){if(v.readyState=1,c&&_.trigger("ajaxSend",[v,m]),d)return v;m.async&&0<m.timeout&&(u=z.setTimeout(function(){v.abort("timeout")},m.timeout));try{d=!1,p.send(r,s)}catch(e){if(d)throw e;s(-1,e)}}else s(-1,"No Transport");function s(e,t,i,n){var r,o,a,s=t;d||(d=!0,u&&z.clearTimeout(u),p=void 0,h=n||"",v.readyState=0<e?4:0,n=200<=e&&e<300||304===e,i&&(a=function(e,t,i){for(var n,r,o,a,s=e.contents,p=e.dataTypes;"*"===p[0];)p.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){p.unshift(r);break}if(p[0]in i)o=p[0];else{for(r in i){if(!p[0]||e.converters[r+" "+p[0]]){o=r;break}a=a||r}o=o||a}if(o)return o!==p[0]&&p.unshift(o),i[o]}(m,v,i)),a=function(e,t,i,n){var r,o,a,s,p,l={},h=e.dataTypes.slice();if(h[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=h.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!p&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=o,o=h.shift())if("*"===o)o=p;else if("*"!==p&&p!==o){if(!(a=l[p+" "+o]||l["* "+o]))for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[p+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],h.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+p+" to "+o}}}return{state:"success",data:t}}(m,a,v,n),n?(m.ifModified&&((i=v.getResponseHeader("Last-Modified"))&&(w.lastModified[l]=i),(i=v.getResponseHeader("etag"))&&(w.etag[l]=i)),204===e||"HEAD"===m.type?s="nocontent":304===e?s="notmodified":(s=a.state,r=a.data,n=!(o=a.error))):(o=s,!e&&s||(s="error",e<0&&(e=0))),v.status=e,v.statusText=(t||s)+"",n?x.resolveWith(y,[r,s,v]):x.rejectWith(y,[v,s,o]),v.statusCode(g),g=void 0,c&&_.trigger(n?"ajaxSuccess":"ajaxError",[v,m,n?r:o]),f.fireWith(y,[v,s]),c&&(_.trigger("ajaxComplete",[v,m]),--w.active||w.event.trigger("ajaxStop")))}return v},getJSON:function(e,t,i){return w.get(e,t,i,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,r){w[r]=function(e,t,i,n){return w.isFunction(t)&&(n=n||i,i=t,t=void 0),w.ajax(w.extend({url:e,type:r,dataType:n,data:t,success:i},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){return this[0]&&(w.isFunction(e)&&(e=e.call(this[0])),e=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return w.isFunction(i)?this.each(function(e){w(this).wrapInner(i.call(this,e))}):this.each(function(){var e=w(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=w.isFunction(t);return this.each(function(e){w(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new z.XMLHttpRequest}catch(e){}};var Lt={0:200,1223:204},B=w.ajaxSettings.xhr(),Dt=(y.cors=!!B&&"withCredentials"in B,y.ajax=B=!!B,w.ajaxTransport(function(r){var o,a;if(y.cors||B&&!r.crossDomain)return{send:function(e,t){var i,n=r.xhr();if(n.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(i in r.xhrFields)n[i]=r.xhrFields[i];for(i in r.mimeType&&n.overrideMimeType&&n.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);o=function(e){return function(){o&&(o=a=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Lt[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=o(),a=n.onerror=o("error"),void 0!==n.onabort?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&z.setTimeout(function(){o&&a()})},o=o("abort");try{n.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(i){var n,r;if(i.crossDomain)return{send:function(e,t){n=w("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",r=function(e){n.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),b.head.appendChild(n[0])},abort:function(){r&&r()}}}),[]),Rt=/(=)\?(?=&|$)|\?\?/;function jt(e){return w.isWindow(e)?e:9===e.nodeType&&e.defaultView}w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||w.expando+"_"+xt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,i){var n,r,o,a=!1!==e.jsonp&&(Rt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=w.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Rt,"$1"+n):!1!==e.jsonp&&(e.url+=(ft.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||w.error(n+" was not called"),o[0]},e.dataTypes[0]="json",r=z[n],z[n]=function(){o=arguments},i.always(function(){void 0===r?w(z).removeProp(n):z[n]=r,e[n]&&(e.jsonpCallback=t.jsonpCallback,Dt.push(n)),o&&w.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),y.createHTMLDocument=((e=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),w.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(y.createHTMLDocument?((n=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(n)):t=b),n=!i&&[],(i=Q.exec(e))?[t.createElement(i[1])]:(i=Se([e],t,n),n&&n.length&&w(n).remove(),w.merge([],i.childNodes)));var n},w.fn.load=function(e,t,i){var n,r,o,a=this,s=e.indexOf(" ");return-1<s&&(n=A(e.slice(s)),e=e.slice(0,s)),w.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&w.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?w("<div>").append(w.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(e,t,i){var n,r,o,a,s=w.css(e,"position"),p=w(e),l={};"static"===s&&(e.style.position="relative"),o=p.offset(),n=w.css(e,"top"),a=w.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(n+a).indexOf("auto")?(r=(s=p.position()).top,s.left):(r=parseFloat(n)||0,parseFloat(a)||0),null!=(t=w.isFunction(t)?t.call(e,i,w.extend({},o)):t).top&&(l.top=t.top-o.top+r),null!=t.left&&(l.left=t.left-o.left+s),"using"in t?t.using.call(e,l):p.css(l)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(i=n.getBoundingClientRect()).width||i.height?(e=jt(n=n.ownerDocument),n=n.documentElement,{top:i.top+e.pageYOffset-n.clientTop,left:i.left+e.pageXOffset-n.clientLeft}):i:{top:0,left:0}:void 0},position:function(){var e,t,i,n;if(this[0])return i=this[0],n={top:0,left:0},"fixed"===w.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),n={top:(n=w.nodeName(e[0],"html")?n:e.offset()).top+w.css(e[0],"borderTopWidth",!0),left:n.left+w.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-w.css(i,"marginTop",!0),left:t.left-n.left-w.css(i,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||Ce})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;w.fn[t]=function(e){return u(this,function(e,t,i){var n=jt(e);return void 0===i?n?n[r]:e[t]:void(n?n.scrollTo(o?n.pageXOffset:i,o?i:n.pageYOffset):e[t]=i)},t,e,arguments.length)}}),w.each(["top","left"],function(e,i){w.cssHooks[i]=Ze(y.pixelPosition,function(e,t){if(t)return t=v(e,i),Ye.test(t)?w(e).position()[i]+"px":t})}),w.each({Height:"height",Width:"width"},function(a,s){w.each({padding:"inner"+a,content:s,"":"outer"+a},function(n,o){w.fn[o]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),r=n||(!0===e||!0===t?"margin":"border");return u(this,function(e,t,i){var n;return w.isWindow(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+a],n["scroll"+a],e.body["offset"+a],n["offset"+a],n["client"+a])):void 0===i?w.css(e,t,r):w.style(e,t,i,r)},s,i?e:void 0,i)}})}),w.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),w.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Ft=z.jQuery,Nt=z.$;return w.noConflict=function(e){return z.$===w&&(z.$=Nt),e&&z.jQuery===w&&(z.jQuery=Ft),w},L||(z.jQuery=z.$=w),w}),function(){var s;function Z(e,t){function i(){return i.method.apply(i.scope,arguments)}return i.scope=e,i.method=t,i}window.js=js={_Boot:{}},window.zpp_nape=zpp_nape={shape:{},constraint:{},geom:{},phys:{},dynamics:{},callbacks:{},util:{},space:{}},window.sandbox=sandbox={},window.nape=nape={shape:{},constraint:{},geom:{},phys:{},dynamics:{},callbacks:{},space:{},util:{}};var t,n,r,o,a=function(){},p=(a.__name__=["Reflect"],a.field=function(e,t){try{return e[t]}catch(e){return null}},a.fields=function(e){var t=[];if(null!=e){var i,n=Object.prototype.hasOwnProperty;for(i in e)"__id__"!=i&&"hx__closures__"!=i&&n.call(e,i)&&t.push(i)}return t},a.copy=function(e){for(var t={},i=0,n=a.fields(e);i<n.length;){var r=n[i];++i,t[r]=a.field(e,r)}return t},a.prototype.__class__=a,function(){}),l=(p.__name__=["Std"],p.string=function(e){return j.__string_rec(e,"")},p.prototype.__class__=p,function(){}),c=(l.__name__=["StringTools"],l.hex=function(e,t){for(var i="";i="0123456789ABCDEF".charAt(15&e)+i,0<(e>>>=4););if(null!=t)for(;i.length<t;)i="0"+i;return i},l.prototype.__class__=l,js._Boot.HaxeError=function(e){Error.call(this),this.val=e,this.message=String(e),Error.captureStackTrace&&Error.captureStackTrace(this,c)}),j=(c.__name__=["js","_Boot","HaxeError"],c.__super__=Error,c.prototype=Object.create(Error.prototype),c.wrap=function(e){return e instanceof Error?e:new c(e)},c.prototype.val=null,c.prototype.__class__=c,js.Boot=function(){}),ur=(j.__name__=["js","Boot"],j.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;if(null!=t)return t;t=j.__nativeClassName(e);return null!=t?j.__resolveNativeClass(t):null},j.__string_rec=function(e,t){if(null==e)return"null";if(5<=t.length)return"<...>";var i=typeof e;switch(i="function"==i&&(e.__name__||e.__ename__)?"object":i){case"function":return"<function>";case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];for(var n=e[0]+"(",r=(t+="\t",2),o=e.length;r<o;){var a=r++;n+=2!=a?","+j.__string_rec(e[a],t):j.__string_rec(e[a],t)}return n+")"}for(var s="[",p=(t+="\t",0),l=e.length;p<l;){var h=p++;s+=(0<h?",":"")+j.__string_rec(e[h],t)}return s+="]"}try{u=e.toString}catch(e){return"???"}if(null!=u&&u!=Object.toString&&"function"==typeof u){var u=e.toString();if("[object Object]"!=u)return u}var d=null,c="{\n",m=(t+="\t",null!=e.hasOwnProperty);for(d in e)m&&!e.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=c.length&&(c+=", \n"),c+=t+d+" : "+j.__string_rec(e[d],t));return c+="\n"+(t=t.substring(1))+"}";case"string":return e;default:return String(e)}},j.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var i=e.__interfaces__;if(null!=i)for(var n=0,r=i.length;n<r;){var o=i[n++];if(o==t||j.__interfLoop(o,t))return!0}return j.__interfLoop(e.__super__,t)},j.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array&&null==e.__enum__;case fr:return"boolean"==typeof e;case _r:return!0;case xr:return"number"==typeof e;case yr:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(j.__interfLoop(j.getClass(e),t))return!0}else if("object"==typeof t&&j.__isNativeObj(t)&&e instanceof t)return!0;return t==gr&&null!=e.__name__?!0:t==vr&&null!=e.__ename__||e.__enum__==t}},j.__nativeClassName=function(e){e=j.__toStr.call(e).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},j.__isNativeObj=function(e){return null!=j.__nativeClassName(e)},j.__resolveNativeClass=function(e){return $global[e]},j.prototype.__class__=j,nape.Config=function(){}),y=(ur.__name__=["nape","Config"],ur.prototype.__class__=ur,nape.callbacks.Callback=function(){this.zpp_inner=null}),_=(y.__name__=["nape","callbacks","Callback"],y.prototype.zpp_inner=null,y.prototype.get_event=function(){return Be.events[this.zpp_inner.event]},y.prototype.get_listener=function(){return this.zpp_inner.listener.outer},y.prototype.toString=function(){return""},Object.defineProperty(y.prototype,"event",{get:y.prototype.get_event}),Object.defineProperty(y.prototype,"listener",{get:y.prototype.get_listener}),y.prototype.__class__=y,nape.callbacks.BodyCallback=function(){y.call(this)}),x=(_.__name__=["nape","callbacks","BodyCallback"],_.__super__=y,(_.prototype=Object.create(y.prototype)).get_body=function(){return this.zpp_inner.body.outer},_.prototype.toString=function(){var e="Cb:"+["WAKE","SLEEP"][this.zpp_inner.event-2];return(e+=":"+this.zpp_inner.body.outer.toString())+(" : listener: "+p.string(this.zpp_inner.listener.outer))},Object.defineProperty(_.prototype,"body",{get:_.prototype.get_body}),_.prototype.__class__=_,nape.callbacks.Listener=function(){this.zpp_inner=null}),e=(x.__name__=["nape","callbacks","Listener"],x.prototype.zpp_inner=null,x.prototype.get_type=function(){return Be.types[this.zpp_inner.type]},x.prototype.get_event=function(){return Be.events[this.zpp_inner.event]},x.prototype.set_event=function(e){return Be.events[this.zpp_inner.event]!=e&&(null==Tn.CbEvent_BEGIN&&(Tn.internal=!0,Tn.CbEvent_BEGIN=new f,Tn.internal=!1),e=e==Tn.CbEvent_BEGIN?0:(null==Tn.CbEvent_ONGOING&&(Tn.internal=!0,Tn.CbEvent_ONGOING=new f,Tn.internal=!1),e==Tn.CbEvent_ONGOING?6:(null==Tn.CbEvent_END&&(Tn.internal=!0,Tn.CbEvent_END=new f,Tn.internal=!1),e==Tn.CbEvent_END?1:(null==Tn.CbEvent_SLEEP&&(Tn.internal=!0,Tn.CbEvent_SLEEP=new f,Tn.internal=!1),e==Tn.CbEvent_SLEEP?3:(null==Tn.CbEvent_WAKE&&(Tn.internal=!0,Tn.CbEvent_WAKE=new f,Tn.internal=!1),e==Tn.CbEvent_WAKE?2:(null==Tn.CbEvent_PRE&&(Tn.internal=!0,Tn.CbEvent_PRE=new f,Tn.internal=!1),e==Tn.CbEvent_PRE?5:4))))),this.zpp_inner.swapEvent(e)),Be.events[this.zpp_inner.event]},x.prototype.get_precedence=function(){return this.zpp_inner.precedence},x.prototype.set_precedence=function(e){return this.zpp_inner.precedence!=e&&(this.zpp_inner.precedence=e,this.zpp_inner.invalidate_precedence()),this.zpp_inner.precedence},x.prototype.get_space=function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},x.prototype.set_space=function(e){return(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=e&&(null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(this),null!=e?(e=e.zpp_inner.wrap_listeners).zpp_inner.reverse_flag?e.push(this):e.unshift(this):this.zpp_inner.space=null),null==this.zpp_inner.space?null:this.zpp_inner.space.outer},x.prototype.toString=function(){var e=["BEGIN","END","WAKE","SLEEP","BREAK","PRE","ONGOING"][this.zpp_inner.event];if(0==this.zpp_inner.type)return"BodyListener{"+e+"::"+p.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer)+"}";if(1==this.zpp_inner.type)return"ConstraintListener{"+e+"::"+p.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer)+"}";var t,i=this.zpp_inner.interaction;switch(i.itype){case 1:t="COLLISION";break;case 2:t="SENSOR";break;case 4:t="FLUID";break;default:t="ALL"}return(2==this.zpp_inner.type?"InteractionListener{"+e+"#"+t+"::"+p.string(i.outer_zni.zpp_inner_zn.options1.outer)+":"+p.string(i.outer_zni.zpp_inner_zn.options2.outer)+"}":"PreListener{"+t+"::"+p.string(i.outer_znp.zpp_inner_zn.options1.outer)+":"+p.string(i.outer_znp.zpp_inner_zn.options2.outer)+"}")+" precedence="+this.zpp_inner.precedence},Object.defineProperty(x.prototype,"type",{get:x.prototype.get_type}),Object.defineProperty(x.prototype,"event",{get:x.prototype.get_event,set:x.prototype.set_event}),Object.defineProperty(x.prototype,"precedence",{get:x.prototype.get_precedence,set:x.prototype.set_precedence}),Object.defineProperty(x.prototype,"space",{get:x.prototype.get_space,set:x.prototype.set_space}),x.prototype.__class__=x,nape.callbacks.BodyListener=function(e,t,i,n){null==n&&(n=0),this.zpp_inner_zn=null,x.call(this);var r=-1;null==Tn.CbEvent_WAKE&&(Tn.internal=!0,Tn.CbEvent_WAKE=new f,Tn.internal=!1),e==Tn.CbEvent_WAKE?r=2:(null==Tn.CbEvent_SLEEP&&(Tn.internal=!0,Tn.CbEvent_SLEEP=new f,Tn.internal=!1),e==Tn.CbEvent_SLEEP&&(r=3)),this.zpp_inner_zn=new Le(je.argument(t),r,i),this.zpp_inner=this.zpp_inner_zn,((this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this).zpp_inner.precedence=n}),f=(e.__name__=["nape","callbacks","BodyListener"],e.__super__=x,(e.prototype=Object.create(x.prototype)).zpp_inner_zn=null,e.prototype.get_options=function(){return this.zpp_inner_zn.options.outer},e.prototype.set_options=function(e){return this.zpp_inner_zn.options.set(e.zpp_inner),this.zpp_inner_zn.options.outer},e.prototype.get_handler=function(){return this.zpp_inner_zn.handler},e.prototype.set_handler=function(e){return this.zpp_inner_zn.handler=e,this.zpp_inner_zn.handler},Object.defineProperty(e.prototype,"options",{get:e.prototype.get_options,set:e.prototype.set_options}),Object.defineProperty(e.prototype,"handler",{get:e.prototype.get_handler,set:e.prototype.set_handler}),e.prototype.__class__=e,nape.callbacks.CbEvent=function(){}),g=(f.__name__=["nape","callbacks","CbEvent"],f.BEGIN=null,f.get_BEGIN=function(){return null==Tn.CbEvent_BEGIN&&(Tn.internal=!0,Tn.CbEvent_BEGIN=new f,Tn.internal=!1),Tn.CbEvent_BEGIN},f.ONGOING=null,f.get_ONGOING=function(){return null==Tn.CbEvent_ONGOING&&(Tn.internal=!0,Tn.CbEvent_ONGOING=new f,Tn.internal=!1),Tn.CbEvent_ONGOING},f.END=null,f.get_END=function(){return null==Tn.CbEvent_END&&(Tn.internal=!0,Tn.CbEvent_END=new f,Tn.internal=!1),Tn.CbEvent_END},f.WAKE=null,f.get_WAKE=function(){return null==Tn.CbEvent_WAKE&&(Tn.internal=!0,Tn.CbEvent_WAKE=new f,Tn.internal=!1),Tn.CbEvent_WAKE},f.SLEEP=null,f.get_SLEEP=function(){return null==Tn.CbEvent_SLEEP&&(Tn.internal=!0,Tn.CbEvent_SLEEP=new f,Tn.internal=!1),Tn.CbEvent_SLEEP},f.BREAK=null,f.get_BREAK=function(){return null==Tn.CbEvent_BREAK&&(Tn.internal=!0,Tn.CbEvent_BREAK=new f,Tn.internal=!1),Tn.CbEvent_BREAK},f.PRE=null,f.get_PRE=function(){return null==Tn.CbEvent_PRE&&(Tn.internal=!0,Tn.CbEvent_PRE=new f,Tn.internal=!1),Tn.CbEvent_PRE},f.prototype.toString=function(){return null==Tn.CbEvent_PRE&&(Tn.internal=!0,Tn.CbEvent_PRE=new f,Tn.internal=!1),this==Tn.CbEvent_PRE?"PRE":(null==Tn.CbEvent_BEGIN&&(Tn.internal=!0,Tn.CbEvent_BEGIN=new f,Tn.internal=!1),this==Tn.CbEvent_BEGIN?"BEGIN":(null==Tn.CbEvent_ONGOING&&(Tn.internal=!0,Tn.CbEvent_ONGOING=new f,Tn.internal=!1),this==Tn.CbEvent_ONGOING?"ONGOING":(null==Tn.CbEvent_END&&(Tn.internal=!0,Tn.CbEvent_END=new f,Tn.internal=!1),this==Tn.CbEvent_END?"END":(null==Tn.CbEvent_WAKE&&(Tn.internal=!0,Tn.CbEvent_WAKE=new f,Tn.internal=!1),this==Tn.CbEvent_WAKE?"WAKE":(null==Tn.CbEvent_SLEEP&&(Tn.internal=!0,Tn.CbEvent_SLEEP=new f,Tn.internal=!1),this==Tn.CbEvent_SLEEP?"SLEEP":(null==Tn.CbEvent_BREAK&&(Tn.internal=!0,Tn.CbEvent_BREAK=new f,Tn.internal=!1),this==Tn.CbEvent_BREAK?"BREAK":""))))))},Object.defineProperty(f,"BEGIN",{get:f.get_BEGIN}),Object.defineProperty(f,"ONGOING",{get:f.get_ONGOING}),Object.defineProperty(f,"END",{get:f.get_END}),Object.defineProperty(f,"WAKE",{get:f.get_WAKE}),Object.defineProperty(f,"SLEEP",{get:f.get_SLEEP}),Object.defineProperty(f,"BREAK",{get:f.get_BREAK}),Object.defineProperty(f,"PRE",{get:f.get_PRE}),f.prototype.__class__=f,nape.callbacks.CbType=function(){this.zpp_inner=null,this.zpp_inner=new Ie,this.zpp_inner.outer=this}),Ze=(g.__name__=["nape","callbacks","CbType"],g.ANY_BODY=null,g.get_ANY_BODY=function(){return Ie.ANY_BODY},g.ANY_CONSTRAINT=null,g.get_ANY_CONSTRAINT=function(){return Ie.ANY_CONSTRAINT},g.ANY_SHAPE=null,g.get_ANY_SHAPE=function(){return Ie.ANY_SHAPE},g.ANY_COMPOUND=null,g.get_ANY_COMPOUND=function(){return Ie.ANY_COMPOUND},g.prototype.zpp_inner=null,g.prototype.get_id=function(){return this.zpp_inner.id},g.prototype.including=function(e){return new C(this).including(e)},g.prototype.excluding=function(e){return new C(this).excluding(e)},g.prototype.get_userData=function(){return null==this.zpp_inner.userData&&(this.zpp_inner.userData={}),this.zpp_inner.userData},g.prototype.get_interactors=function(){return null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=Jn.get(this.zpp_inner.interactors,!0)),this.zpp_inner.wrap_interactors},g.prototype.get_constraints=function(){return null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=Kn.get(this.zpp_inner.constraints,!0)),this.zpp_inner.wrap_constraints},g.prototype.toString=function(){return this==Ie.ANY_BODY?"ANY_BODY":this==Ie.ANY_SHAPE?"ANY_SHAPE":this==Ie.ANY_COMPOUND?"ANY_COMPOUND":this==Ie.ANY_CONSTRAINT?"ANY_CONSTRAINT":"CbType#"+this.zpp_inner.id},Object.defineProperty(g,"ANY_BODY",{get:g.get_ANY_BODY}),Object.defineProperty(g,"ANY_CONSTRAINT",{get:g.get_ANY_CONSTRAINT}),Object.defineProperty(g,"ANY_SHAPE",{get:g.get_ANY_SHAPE}),Object.defineProperty(g,"ANY_COMPOUND",{get:g.get_ANY_COMPOUND}),Object.defineProperty(g.prototype,"id",{get:g.prototype.get_id}),Object.defineProperty(g.prototype,"userData",{get:g.prototype.get_userData}),Object.defineProperty(g.prototype,"interactors",{get:g.prototype.get_interactors}),Object.defineProperty(g.prototype,"constraints",{get:g.prototype.get_constraints}),g.prototype.__class__=g,nape.callbacks.CbTypeIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),v=(Ze.__name__=["nape","callbacks","CbTypeIterator"],Ze.get=function(e){var t=null==Ze.zpp_pool?(er.internal=!0,t=new Ze,er.internal=!1,t):(Ze.zpp_pool=(t=Ze.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},Ze.prototype.zpp_inner=null,Ze.prototype.zpp_i=null,Ze.prototype.zpp_critical=null,Ze.prototype.zpp_next=null,Ze.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=this).zpp_inner=null,!1)},Ze.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},Ze.prototype.__class__=Ze,nape.callbacks.CbTypeList=function(){this.zpp_inner=null,this.zpp_inner=new er,this.zpp_inner.outer=this}),z=(v.__name__=["nape","callbacks","CbTypeList"],v.fromArray=function(e){for(var t=new v,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},v.prototype.zpp_inner=null,v.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},v.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},v.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},v.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},v.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},v.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},v.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},v.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},v.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},v.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},v.prototype.empty=function(){return null==this.zpp_inner.inner.head},v.prototype.iterator=function(){return this.zpp_inner.valmod(),Ze.get(this)},v.prototype.copy=function(e){null==e&&(e=!1);for(var t=new v,i=(this.zpp_inner.valmod(),Ze.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},v.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=Ze.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},v.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),Ze.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},v.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=Ze.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=t).zpp_inner=null;break}}return this},v.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(v.prototype,"length",{get:v.prototype.get_length}),v.prototype.__class__=v,nape.callbacks.ConstraintCallback=function(){y.call(this)}),e=(z.__name__=["nape","callbacks","ConstraintCallback"],z.__super__=y,(z.prototype=Object.create(y.prototype)).get_constraint=function(){return this.zpp_inner.constraint.outer},z.prototype.toString=function(){var e="Cb:"+["WAKE","SLEEP","BREAK"][this.zpp_inner.event-2];return(e+=":"+this.zpp_inner.constraint.outer.toString())+(" : listener: "+p.string(this.zpp_inner.listener.outer))},Object.defineProperty(z.prototype,"constraint",{get:z.prototype.get_constraint}),z.prototype.__class__=z,nape.callbacks.ConstraintListener=function(e,t,i,n){null==n&&(n=0),this.zpp_inner_zn=null,x.call(this);var r=-1;null==Tn.CbEvent_WAKE&&(Tn.internal=!0,Tn.CbEvent_WAKE=new f,Tn.internal=!1),e==Tn.CbEvent_WAKE?r=2:(null==Tn.CbEvent_SLEEP&&(Tn.internal=!0,Tn.CbEvent_SLEEP=new f,Tn.internal=!1),e==Tn.CbEvent_SLEEP?r=3:(null==Tn.CbEvent_BREAK&&(Tn.internal=!0,Tn.CbEvent_BREAK=new f,Tn.internal=!1),e==Tn.CbEvent_BREAK&&(r=4))),this.zpp_inner_zn=new De(je.argument(t),r,i),this.zpp_inner=this.zpp_inner_zn,((this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this).zpp_inner.precedence=n}),b=(e.__name__=["nape","callbacks","ConstraintListener"],e.__super__=x,(e.prototype=Object.create(x.prototype)).zpp_inner_zn=null,e.prototype.get_options=function(){return this.zpp_inner_zn.options.outer},e.prototype.set_options=function(e){return this.zpp_inner_zn.options.set(e.zpp_inner),this.zpp_inner_zn.options.outer},e.prototype.get_handler=function(){return this.zpp_inner_zn.handler},e.prototype.set_handler=function(e){return this.zpp_inner_zn.handler=e,this.zpp_inner_zn.handler},Object.defineProperty(e.prototype,"options",{get:e.prototype.get_options,set:e.prototype.set_options}),Object.defineProperty(e.prototype,"handler",{get:e.prototype.get_handler,set:e.prototype.set_handler}),e.prototype.__class__=e,nape.callbacks.InteractionCallback=function(){y.call(this)}),e=(b.__name__=["nape","callbacks","InteractionCallback"],b.__super__=y,(b.prototype=Object.create(y.prototype)).get_int1=function(){return this.zpp_inner.int1.outer_i},b.prototype.get_int2=function(){return this.zpp_inner.int2.outer_i},b.prototype.get_arbiters=function(){return this.zpp_inner.wrap_arbiters},b.prototype.toString=function(){var e="Cb:"+["BEGIN","END","","","","","ONGOING"][this.zpp_inner.event];return(e+=":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString())+(" : "+this.zpp_inner.wrap_arbiters.toString())+(" : listener: "+p.string(this.zpp_inner.listener.outer))},Object.defineProperty(b.prototype,"int1",{get:b.prototype.get_int1}),Object.defineProperty(b.prototype,"int2",{get:b.prototype.get_int2}),Object.defineProperty(b.prototype,"arbiters",{get:b.prototype.get_arbiters}),b.prototype.__class__=b,nape.callbacks.InteractionListener=function(e,t,i,n,r,o){null==o&&(o=0),this.zpp_inner_zn=null,x.call(this);var a=-1,e=(null==Tn.CbEvent_BEGIN&&(Tn.internal=!0,Tn.CbEvent_BEGIN=new f,Tn.internal=!1),e==Tn.CbEvent_BEGIN?a=0:(null==Tn.CbEvent_END&&(Tn.internal=!0,Tn.CbEvent_END=new f,Tn.internal=!1),e==Tn.CbEvent_END?a=1:(null==Tn.CbEvent_ONGOING&&(Tn.internal=!0,Tn.CbEvent_ONGOING=new f,Tn.internal=!1),e==Tn.CbEvent_ONGOING&&(a=6))),this.zpp_inner_zn=new Ht(je.argument(i),je.argument(n),a,2),this.zpp_inner=this.zpp_inner_zn,((this.zpp_inner.outer=this).zpp_inner_zn.outer_zni=this).zpp_inner.precedence=o,this.zpp_inner_zn.handleri=r,this.zpp_inner_zn.itype),i=1==e?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==e?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==e?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==e?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null,a=(i!=t&&(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),n=t==Tn.InteractionType_COLLISION?1:(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),t==Tn.InteractionType_SENSOR?2:(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),t==Tn.InteractionType_FLUID?4:7)),this.zpp_inner_zn.itype=n),this.zpp_inner_zn.itype);1==a?null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1):2==a?null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1):4==a?null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1):7==a&&null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1)}),m=(e.__name__=["nape","callbacks","InteractionListener"],e.__super__=x,(e.prototype=Object.create(x.prototype)).zpp_inner_zn=null,e.prototype.get_options1=function(){return this.zpp_inner_zn.options1.outer},e.prototype.set_options1=function(e){return this.zpp_inner_zn.options1.set(e.zpp_inner),this.zpp_inner_zn.options1.outer},e.prototype.get_options2=function(){return this.zpp_inner_zn.options2.outer},e.prototype.set_options2=function(e){return this.zpp_inner_zn.options2.set(e.zpp_inner),this.zpp_inner_zn.options2.outer},e.prototype.get_interactionType=function(){var e=this.zpp_inner_zn.itype;return 1==e?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==e?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==e?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==e?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null},e.prototype.set_interactionType=function(e){var t=this.zpp_inner_zn.itype,t=1==t?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==t?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==t?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==t?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null,e=(t!=e&&(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),t=e==Tn.InteractionType_COLLISION?1:(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),e==Tn.InteractionType_SENSOR?2:(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),e==Tn.InteractionType_FLUID?4:7)),this.zpp_inner_zn.itype=t),this.zpp_inner_zn.itype);return 1==e?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==e?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==e?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==e?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null},e.prototype.get_handler=function(){return this.zpp_inner_zn.handleri},e.prototype.set_handler=function(e){return this.zpp_inner_zn.handleri=e,this.zpp_inner_zn.handleri},e.prototype.get_allowSleepingCallbacks=function(){return this.zpp_inner_zn.allowSleepingCallbacks},e.prototype.set_allowSleepingCallbacks=function(e){return this.zpp_inner_zn.allowSleepingCallbacks=e,this.zpp_inner_zn.allowSleepingCallbacks},Object.defineProperty(e.prototype,"options1",{get:e.prototype.get_options1,set:e.prototype.set_options1}),Object.defineProperty(e.prototype,"options2",{get:e.prototype.get_options2,set:e.prototype.set_options2}),Object.defineProperty(e.prototype,"interactionType",{get:e.prototype.get_interactionType,set:e.prototype.set_interactionType}),Object.defineProperty(e.prototype,"handler",{get:e.prototype.get_handler,set:e.prototype.set_handler}),Object.defineProperty(e.prototype,"allowSleepingCallbacks",{get:e.prototype.get_allowSleepingCallbacks,set:e.prototype.set_allowSleepingCallbacks}),e.prototype.__class__=e,nape.callbacks.InteractionType=function(){}),Je=(m.__name__=["nape","callbacks","InteractionType"],m.COLLISION=null,m.get_COLLISION=function(){return null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION},m.SENSOR=null,m.get_SENSOR=function(){return null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR},m.FLUID=null,m.get_FLUID=function(){return null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID},m.ANY=null,m.get_ANY=function(){return null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY},m.prototype.toString=function(){return null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),this==Tn.InteractionType_COLLISION?"COLLISION":(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),this==Tn.InteractionType_SENSOR?"SENSOR":(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),this==Tn.InteractionType_FLUID?"FLUID":(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),this==Tn.InteractionType_ANY?"ANY":"")))},Object.defineProperty(m,"COLLISION",{get:m.get_COLLISION}),Object.defineProperty(m,"SENSOR",{get:m.get_SENSOR}),Object.defineProperty(m,"FLUID",{get:m.get_FLUID}),Object.defineProperty(m,"ANY",{get:m.get_ANY}),m.prototype.__class__=m,nape.callbacks.ListenerIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),w=(Je.__name__=["nape","callbacks","ListenerIterator"],Je.get=function(e){var t=null==Je.zpp_pool?($n.internal=!0,t=new Je,$n.internal=!1,t):(Je.zpp_pool=(t=Je.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},Je.prototype.zpp_inner=null,Je.prototype.zpp_i=null,Je.prototype.zpp_critical=null,Je.prototype.zpp_next=null,Je.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=Je.zpp_pool,(Je.zpp_pool=this).zpp_inner=null,!1)},Je.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},Je.prototype.__class__=Je,nape.callbacks.ListenerList=function(){this.zpp_inner=null,this.zpp_inner=new $n,this.zpp_inner.outer=this}),S=(w.__name__=["nape","callbacks","ListenerList"],w.fromArray=function(e){for(var t=new w,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},w.prototype.zpp_inner=null,w.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},w.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},w.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},w.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},w.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},w.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},w.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},w.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},w.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},w.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},w.prototype.empty=function(){return null==this.zpp_inner.inner.head},w.prototype.iterator=function(){return this.zpp_inner.valmod(),Je.get(this)},w.prototype.copy=function(e){null==e&&(e=!1);for(var t=new w,i=(this.zpp_inner.valmod(),Je.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Je.zpp_pool,(Je.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},w.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=Je.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=Je.zpp_pool,(Je.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},w.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),Je.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Je.zpp_pool,(Je.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},w.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=Je.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=Je.zpp_pool,(Je.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=Je.zpp_pool,(Je.zpp_pool=t).zpp_inner=null;break}}return this},w.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(w.prototype,"length",{get:w.prototype.get_length}),w.prototype.__class__=w,nape.callbacks.ListenerType=function(){}),C=(S.__name__=["nape","callbacks","ListenerType"],S.BODY=null,S.get_BODY=function(){return null==Tn.ListenerType_BODY&&(Tn.internal=!0,Tn.ListenerType_BODY=new S,Tn.internal=!1),Tn.ListenerType_BODY},S.CONSTRAINT=null,S.get_CONSTRAINT=function(){return null==Tn.ListenerType_CONSTRAINT&&(Tn.internal=!0,Tn.ListenerType_CONSTRAINT=new S,Tn.internal=!1),Tn.ListenerType_CONSTRAINT},S.INTERACTION=null,S.get_INTERACTION=function(){return null==Tn.ListenerType_INTERACTION&&(Tn.internal=!0,Tn.ListenerType_INTERACTION=new S,Tn.internal=!1),Tn.ListenerType_INTERACTION},S.PRE=null,S.get_PRE=function(){return null==Tn.ListenerType_PRE&&(Tn.internal=!0,Tn.ListenerType_PRE=new S,Tn.internal=!1),Tn.ListenerType_PRE},S.prototype.toString=function(){return null==Tn.ListenerType_BODY&&(Tn.internal=!0,Tn.ListenerType_BODY=new S,Tn.internal=!1),this==Tn.ListenerType_BODY?"BODY":(null==Tn.ListenerType_CONSTRAINT&&(Tn.internal=!0,Tn.ListenerType_CONSTRAINT=new S,Tn.internal=!1),this==Tn.ListenerType_CONSTRAINT?"CONSTRAINT":(null==Tn.ListenerType_INTERACTION&&(Tn.internal=!0,Tn.ListenerType_INTERACTION=new S,Tn.internal=!1),this==Tn.ListenerType_INTERACTION?"INTERACTION":(null==Tn.ListenerType_PRE&&(Tn.internal=!0,Tn.ListenerType_PRE=new S,Tn.internal=!1),this==Tn.ListenerType_PRE?"PRE":"")))},Object.defineProperty(S,"BODY",{get:S.get_BODY}),Object.defineProperty(S,"CONSTRAINT",{get:S.get_CONSTRAINT}),Object.defineProperty(S,"INTERACTION",{get:S.get_INTERACTION}),Object.defineProperty(S,"PRE",{get:S.get_PRE}),S.prototype.__class__=S,nape.callbacks.OptionType=function(e,t){this.zpp_inner=null,this.zpp_inner=new je,this.zpp_inner.outer=this,null!=e&&this.including(e),null!=t&&this.excluding(t)}),k=(C.__name__=["nape","callbacks","OptionType"],C.prototype.zpp_inner=null,C.prototype.get_includes=function(){return null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes(),this.zpp_inner.wrap_includes},C.prototype.get_excludes=function(){return null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes(),this.zpp_inner.wrap_excludes},C.prototype.including=function(e){return this.zpp_inner.append(this.zpp_inner.includes,e),this},C.prototype.excluding=function(e){return this.zpp_inner.append(this.zpp_inner.excludes,e),this},C.prototype.toString=function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();var e=this.zpp_inner.wrap_includes.toString();return null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes(),"@{"+e+" excluding "+this.zpp_inner.wrap_excludes.toString()+"}"},Object.defineProperty(C.prototype,"includes",{get:C.prototype.get_includes}),Object.defineProperty(C.prototype,"excludes",{get:C.prototype.get_excludes}),C.prototype.__class__=C,nape.callbacks.PreCallback=function(){y.call(this)}),Ln=(k.__name__=["nape","callbacks","PreCallback"],k.__super__=y,(k.prototype=Object.create(y.prototype)).get_arbiter=function(){return this.zpp_inner.pre_arbiter.wrapper()},k.prototype.get_int1=function(){return this.zpp_inner.int1.outer_i},k.prototype.get_int2=function(){return this.zpp_inner.int2.outer_i},k.prototype.get_swapped=function(){return this.zpp_inner.pre_swapped},k.prototype.toString=function(){var e="Cb:PRE::"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString();return(e+=" : "+this.zpp_inner.pre_arbiter.wrapper().toString())+(" : listnener: "+p.string(this.zpp_inner.listener.outer))},Object.defineProperty(k.prototype,"arbiter",{get:k.prototype.get_arbiter}),Object.defineProperty(k.prototype,"int1",{get:k.prototype.get_int1}),Object.defineProperty(k.prototype,"int2",{get:k.prototype.get_int2}),Object.defineProperty(k.prototype,"swapped",{get:k.prototype.get_swapped}),k.prototype.__class__=k,nape.callbacks.PreFlag=function(){}),e=(Ln.__name__=["nape","callbacks","PreFlag"],Ln.ACCEPT=null,Ln.get_ACCEPT=function(){return null==Tn.PreFlag_ACCEPT&&(Tn.internal=!0,Tn.PreFlag_ACCEPT=new Ln,Tn.internal=!1),Tn.PreFlag_ACCEPT},Ln.IGNORE=null,Ln.get_IGNORE=function(){return null==Tn.PreFlag_IGNORE&&(Tn.internal=!0,Tn.PreFlag_IGNORE=new Ln,Tn.internal=!1),Tn.PreFlag_IGNORE},Ln.ACCEPT_ONCE=null,Ln.get_ACCEPT_ONCE=function(){return null==Tn.PreFlag_ACCEPT_ONCE&&(Tn.internal=!0,Tn.PreFlag_ACCEPT_ONCE=new Ln,Tn.internal=!1),Tn.PreFlag_ACCEPT_ONCE},Ln.IGNORE_ONCE=null,Ln.get_IGNORE_ONCE=function(){return null==Tn.PreFlag_IGNORE_ONCE&&(Tn.internal=!0,Tn.PreFlag_IGNORE_ONCE=new Ln,Tn.internal=!1),Tn.PreFlag_IGNORE_ONCE},Ln.prototype.toString=function(){return null==Tn.PreFlag_ACCEPT&&(Tn.internal=!0,Tn.PreFlag_ACCEPT=new Ln,Tn.internal=!1),this==Tn.PreFlag_ACCEPT?"ACCEPT":(null==Tn.PreFlag_IGNORE&&(Tn.internal=!0,Tn.PreFlag_IGNORE=new Ln,Tn.internal=!1),this==Tn.PreFlag_IGNORE?"IGNORE":(null==Tn.PreFlag_ACCEPT_ONCE&&(Tn.internal=!0,Tn.PreFlag_ACCEPT_ONCE=new Ln,Tn.internal=!1),this==Tn.PreFlag_ACCEPT_ONCE?"ACCEPT_ONCE":(null==Tn.PreFlag_IGNORE_ONCE&&(Tn.internal=!0,Tn.PreFlag_IGNORE_ONCE=new Ln,Tn.internal=!1),this==Tn.PreFlag_IGNORE_ONCE?"IGNORE_ONCE":"")))},Object.defineProperty(Ln,"ACCEPT",{get:Ln.get_ACCEPT}),Object.defineProperty(Ln,"IGNORE",{get:Ln.get_IGNORE}),Object.defineProperty(Ln,"ACCEPT_ONCE",{get:Ln.get_ACCEPT_ONCE}),Object.defineProperty(Ln,"IGNORE_ONCE",{get:Ln.get_IGNORE_ONCE}),Ln.prototype.__class__=Ln,nape.callbacks.PreListener=function(e,t,i,n,r,o){null==o&&(o=!1),null==r&&(r=0),this.zpp_inner_zn=null,x.call(this),this.zpp_inner_zn=new Ht(je.argument(t),je.argument(i),5,3),this.zpp_inner=this.zpp_inner_zn,((this.zpp_inner.outer=this).zpp_inner_zn.outer_znp=this).zpp_inner.precedence=r,this.zpp_inner_zn.pure=o,this.zpp_inner_zn.handlerp=n;t=this.zpp_inner_zn.itype,i=1==t?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==t?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==t?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==t?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null,i!=e&&(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),r=e==Tn.InteractionType_COLLISION?1:(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),e==Tn.InteractionType_SENSOR?2:(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),e==Tn.InteractionType_FLUID?4:7)),this.zpp_inner_zn.itype=r),o=this.zpp_inner_zn.itype;1==o?null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1):2==o?null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1):4==o?null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1):7==o&&null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1)}),u=(e.__name__=["nape","callbacks","PreListener"],e.__super__=x,(e.prototype=Object.create(x.prototype)).zpp_inner_zn=null,e.prototype.get_options1=function(){return this.zpp_inner_zn.options1.outer},e.prototype.set_options1=function(e){return this.zpp_inner_zn.options1.set(e.zpp_inner),this.zpp_inner_zn.options1.outer},e.prototype.get_options2=function(){return this.zpp_inner_zn.options2.outer},e.prototype.set_options2=function(e){return this.zpp_inner_zn.options2.set(e.zpp_inner),this.zpp_inner_zn.options2.outer},e.prototype.get_handler=function(){return this.zpp_inner_zn.handlerp},e.prototype.set_handler=function(e){return this.zpp_inner_zn.handlerp=e,this.zpp_inner_zn.wake(),this.zpp_inner_zn.handlerp},e.prototype.get_pure=function(){return this.zpp_inner_zn.pure},e.prototype.set_pure=function(e){return e||this.zpp_inner_zn.wake(),this.zpp_inner_zn.pure=e,this.zpp_inner_zn.pure},e.prototype.get_interactionType=function(){var e=this.zpp_inner_zn.itype;return 1==e?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==e?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==e?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==e?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null},e.prototype.set_interactionType=function(e){var t=this.zpp_inner_zn.itype,t=1==t?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==t?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==t?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==t?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null,e=(t!=e&&(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),t=e==Tn.InteractionType_COLLISION?1:(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),e==Tn.InteractionType_SENSOR?2:(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),e==Tn.InteractionType_FLUID?4:7)),this.zpp_inner_zn.itype=t),this.zpp_inner_zn.itype);return 1==e?(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION):2==e?(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR):4==e?(null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID):7==e?(null==Tn.InteractionType_ANY&&(Tn.internal=!0,Tn.InteractionType_ANY=new m,Tn.internal=!1),Tn.InteractionType_ANY):null},Object.defineProperty(e.prototype,"options1",{get:e.prototype.get_options1,set:e.prototype.set_options1}),Object.defineProperty(e.prototype,"options2",{get:e.prototype.get_options2,set:e.prototype.set_options2}),Object.defineProperty(e.prototype,"handler",{get:e.prototype.get_handler,set:e.prototype.set_handler}),Object.defineProperty(e.prototype,"pure",{get:e.prototype.get_pure,set:e.prototype.set_pure}),Object.defineProperty(e.prototype,"interactionType",{get:e.prototype.get_interactionType,set:e.prototype.set_interactionType}),e.prototype.__class__=e,nape.constraint.Constraint=function(){this.debugDraw=!0,this.zpp_inner.insert_cbtype(Ie.ANY_CONSTRAINT.zpp_inner)}),M=(u.__name__=["nape","constraint","Constraint"],u.prototype.zpp_inner=null,u.prototype.get_userData=function(){return null==this.zpp_inner.userData&&(this.zpp_inner.userData={}),this.zpp_inner.userData},u.prototype.debugDraw=null,u.prototype.get_compound=function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},u.prototype.set_compound=function(e){return(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=e&&(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(this),null!=e&&((e=e.zpp_inner.wrap_constraints).zpp_inner.reverse_flag?e.push(this):e.unshift(this))),null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},u.prototype.get_space=function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},u.prototype.set_space=function(e){return(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=e&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),null!=this.zpp_inner.space&&this.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(this),null!=e?(e=e.zpp_inner.wrap_constraints).zpp_inner.reverse_flag?e.push(this):e.unshift(this):this.zpp_inner.space=null),null==this.zpp_inner.space?null:this.zpp_inner.space.outer},u.prototype.get_isSleeping=function(){return this.zpp_inner.component.sleeping},u.prototype.get_active=function(){return this.zpp_inner.active},u.prototype.set_active=function(e){return this.zpp_inner.active!=e&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.woken=!1),this.zpp_inner.clearcache(),e?(this.zpp_inner.active=e,this.zpp_inner.activate(),null!=this.zpp_inner.space&&(null!=this.zpp_inner.component&&(this.zpp_inner.component.sleeping=!0),this.zpp_inner.space.wake_constraint(this.zpp_inner,!0))):(null!=this.zpp_inner.space&&(this.zpp_inner.wake(),this.zpp_inner.space.live_constraints.remove(this.zpp_inner)),this.zpp_inner.active=e,this.zpp_inner.deactivate())),this.zpp_inner.active},u.prototype.get_ignore=function(){return this.zpp_inner.ignore},u.prototype.set_ignore=function(e){return this.zpp_inner.ignore!=e&&(this.zpp_inner.ignore=e,this.zpp_inner.wake()),this.zpp_inner.ignore},u.prototype.get_stiff=function(){return this.zpp_inner.stiff},u.prototype.set_stiff=function(e){return this.zpp_inner.stiff!=e&&(this.zpp_inner.stiff=e,this.zpp_inner.wake()),this.zpp_inner.stiff},u.prototype.get_frequency=function(){return this.zpp_inner.frequency},u.prototype.set_frequency=function(e){return this.zpp_inner.frequency!=e&&(this.zpp_inner.frequency=e,this.zpp_inner.stiff||this.zpp_inner.wake()),this.zpp_inner.frequency},u.prototype.get_damping=function(){return this.zpp_inner.damping},u.prototype.set_damping=function(e){return this.zpp_inner.damping!=e&&(this.zpp_inner.damping=e,this.zpp_inner.stiff||this.zpp_inner.wake()),this.zpp_inner.damping},u.prototype.get_maxForce=function(){return this.zpp_inner.maxForce},u.prototype.set_maxForce=function(e){return this.zpp_inner.maxForce!=e&&(this.zpp_inner.maxForce=e,this.zpp_inner.wake()),this.zpp_inner.maxForce},u.prototype.get_maxError=function(){return this.zpp_inner.maxError},u.prototype.set_maxError=function(e){return this.zpp_inner.maxError!=e&&(this.zpp_inner.maxError=e,this.zpp_inner.wake()),this.zpp_inner.maxError},u.prototype.get_breakUnderForce=function(){return this.zpp_inner.breakUnderForce},u.prototype.set_breakUnderForce=function(e){return this.zpp_inner.breakUnderForce!=e&&(this.zpp_inner.breakUnderForce=e,this.zpp_inner.wake()),this.zpp_inner.breakUnderForce},u.prototype.get_breakUnderError=function(){return this.zpp_inner.breakUnderError},u.prototype.set_breakUnderError=function(e){return this.zpp_inner.breakUnderError!=e&&(this.zpp_inner.breakUnderError=e,this.zpp_inner.wake()),this.zpp_inner.breakUnderError},u.prototype.get_removeOnBreak=function(){return this.zpp_inner.removeOnBreak},u.prototype.set_removeOnBreak=function(e){return this.zpp_inner.removeOnBreak=e,this.zpp_inner.removeOnBreak},u.prototype.impulse=function(){return null},u.prototype.bodyImpulse=function(e){return null},u.prototype.visitBodies=function(e){},u.prototype.get_cbTypes=function(){return null==this.zpp_inner.wrap_cbTypes&&this.zpp_inner.setupcbTypes(),this.zpp_inner.wrap_cbTypes},u.prototype.toString=function(){return"{Constraint}"},u.prototype.copy=function(){return this.zpp_inner.copy()},Object.defineProperty(u.prototype,"userData",{get:u.prototype.get_userData}),Object.defineProperty(u.prototype,"compound",{get:u.prototype.get_compound,set:u.prototype.set_compound}),Object.defineProperty(u.prototype,"space",{get:u.prototype.get_space,set:u.prototype.set_space}),Object.defineProperty(u.prototype,"isSleeping",{get:u.prototype.get_isSleeping}),Object.defineProperty(u.prototype,"active",{get:u.prototype.get_active,set:u.prototype.set_active}),Object.defineProperty(u.prototype,"ignore",{get:u.prototype.get_ignore,set:u.prototype.set_ignore}),Object.defineProperty(u.prototype,"stiff",{get:u.prototype.get_stiff,set:u.prototype.set_stiff}),Object.defineProperty(u.prototype,"frequency",{get:u.prototype.get_frequency,set:u.prototype.set_frequency}),Object.defineProperty(u.prototype,"damping",{get:u.prototype.get_damping,set:u.prototype.set_damping}),Object.defineProperty(u.prototype,"maxForce",{get:u.prototype.get_maxForce,set:u.prototype.set_maxForce}),Object.defineProperty(u.prototype,"maxError",{get:u.prototype.get_maxError,set:u.prototype.set_maxError}),Object.defineProperty(u.prototype,"breakUnderForce",{get:u.prototype.get_breakUnderForce,set:u.prototype.set_breakUnderForce}),Object.defineProperty(u.prototype,"breakUnderError",{get:u.prototype.get_breakUnderError,set:u.prototype.set_breakUnderError}),Object.defineProperty(u.prototype,"removeOnBreak",{get:u.prototype.get_removeOnBreak,set:u.prototype.set_removeOnBreak}),Object.defineProperty(u.prototype,"cbTypes",{get:u.prototype.get_cbTypes}),u.prototype.__class__=u,nape.constraint.AngleJoint=function(e,t,i,n,r){null==r&&(r=1),this.zpp_inner_zn=null,this.zpp_inner_zn=new Ne,this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this),this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner,e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body2"),e=null==t?null:t.zpp_inner;e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("AngleJoint::jointMin"),this.zpp_inner_zn.jointMin!=i&&(this.zpp_inner_zn.jointMin=i,this.zpp_inner.wake()),this.zpp_inner.immutable_midstep("AngleJoint::jointMax"),this.zpp_inner_zn.jointMax!=n&&(this.zpp_inner_zn.jointMax=n,this.zpp_inner.wake()),this.zpp_inner.immutable_midstep("AngleJoint::ratio"),this.zpp_inner_zn.ratio!=r&&(this.zpp_inner_zn.ratio=r,this.zpp_inner.wake())}),Qe=(M.__name__=["nape","constraint","AngleJoint"],M.__super__=u,(M.prototype=Object.create(u.prototype)).zpp_inner_zn=null,M.prototype.get_body1=function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},M.prototype.set_body1=function(e){this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},M.prototype.get_body2=function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},M.prototype.set_body2=function(e){this.zpp_inner.immutable_midstep("Constraint::body2");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},M.prototype.get_jointMin=function(){return this.zpp_inner_zn.jointMin},M.prototype.set_jointMin=function(e){return this.zpp_inner.immutable_midstep("AngleJoint::jointMin"),this.zpp_inner_zn.jointMin!=e&&(this.zpp_inner_zn.jointMin=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMin},M.prototype.get_jointMax=function(){return this.zpp_inner_zn.jointMax},M.prototype.set_jointMax=function(e){return this.zpp_inner.immutable_midstep("AngleJoint::jointMax"),this.zpp_inner_zn.jointMax!=e&&(this.zpp_inner_zn.jointMax=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMax},M.prototype.get_ratio=function(){return this.zpp_inner_zn.ratio},M.prototype.set_ratio=function(e){return this.zpp_inner.immutable_midstep("AngleJoint::ratio"),this.zpp_inner_zn.ratio!=e&&(this.zpp_inner_zn.ratio=e,this.zpp_inner.wake()),this.zpp_inner_zn.ratio},M.prototype.isSlack=function(){var e,t=this.zpp_inner_zn,i=t.ratio*t.b2.rot-t.b1.rot;return t.equal?(e=!1,t.scale=1):e=i<t.jointMin?!(t.scale=-1):i>t.jointMax?(i-=t.jointMax,!(t.scale=1)):!(i=t.scale=0),e},M.prototype.impulse=function(){var e=new J(1,1);return e.zpp_inner.x[0*e.zpp_inner.n]=this.zpp_inner_zn.jAcc,e},M.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get(0,0,0)},M.prototype.visitBodies=function(e){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer),null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},Object.defineProperty(M.prototype,"body1",{get:M.prototype.get_body1,set:M.prototype.set_body1}),Object.defineProperty(M.prototype,"body2",{get:M.prototype.get_body2,set:M.prototype.set_body2}),Object.defineProperty(M.prototype,"jointMin",{get:M.prototype.get_jointMin,set:M.prototype.set_jointMin}),Object.defineProperty(M.prototype,"jointMax",{get:M.prototype.get_jointMax,set:M.prototype.set_jointMax}),Object.defineProperty(M.prototype,"ratio",{get:M.prototype.get_ratio,set:M.prototype.set_ratio}),M.prototype.__class__=M,nape.constraint.ConstraintIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),P=(Qe.__name__=["nape","constraint","ConstraintIterator"],Qe.get=function(e){var t=null==Qe.zpp_pool?(Kn.internal=!0,t=new Qe,Kn.internal=!1,t):(Qe.zpp_pool=(t=Qe.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},Qe.prototype.zpp_inner=null,Qe.prototype.zpp_i=null,Qe.prototype.zpp_critical=null,Qe.prototype.zpp_next=null,Qe.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=this).zpp_inner=null,!1)},Qe.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},Qe.prototype.__class__=Qe,nape.constraint.ConstraintList=function(){this.zpp_inner=null,this.zpp_inner=new Kn,this.zpp_inner.outer=this}),O=(P.__name__=["nape","constraint","ConstraintList"],P.fromArray=function(e){for(var t=new P,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},P.prototype.zpp_inner=null,P.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},P.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},P.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},P.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},P.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},P.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},P.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},P.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},P.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},P.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},P.prototype.empty=function(){return null==this.zpp_inner.inner.head},P.prototype.iterator=function(){return this.zpp_inner.valmod(),Qe.get(this)},P.prototype.copy=function(e){null==e&&(e=!1);for(var t=new P,i=(this.zpp_inner.valmod(),Qe.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},P.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=Qe.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},P.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),Qe.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},P.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=Qe.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=t).zpp_inner=null;break}}return this},P.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(P.prototype,"length",{get:P.prototype.get_length}),P.prototype.__class__=P,nape.constraint.DistanceJoint=function(e,t,i,n,r,o){this.zpp_inner_zn=null,this.zpp_inner_zn=new dt,this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this),this.zpp_inner.immutable_midstep("Constraint::body1");var e=null==e?null:e.zpp_inner,e=(e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body2"),null==t?null:t.zpp_inner),t=(e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1),e=i.zpp_inner,e=(null!=e._validate&&e._validate(),i.zpp_inner.x),a=i.zpp_inner,a=(null!=a._validate&&a._validate(),i.zpp_inner.y),s=t.zpp_inner,a=(null!=s._validate&&s._validate(),t.zpp_inner.x==e&&(null!=(s=t.zpp_inner)._validate&&s._validate(),t.zpp_inner.y==a)||(t.zpp_inner.x=e,t.zpp_inner.y=a,null!=(s=t.zpp_inner)._invalidate&&s._invalidate(s)),i.zpp_inner.weak&&(e=i.zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2),t=n.zpp_inner,s=(null!=t._validate&&t._validate(),n.zpp_inner.x),i=n.zpp_inner,e=(null!=i._validate&&i._validate(),n.zpp_inner.y),t=a.zpp_inner;null!=t._validate&&t._validate(),a.zpp_inner.x==s&&(null!=(i=a.zpp_inner)._validate&&i._validate(),a.zpp_inner.y==e)||(a.zpp_inner.x=s,a.zpp_inner.y=e,null!=(t=a.zpp_inner)._invalidate&&t._invalidate(t)),n.zpp_inner.weak&&(i=n.zpp_inner,n.zpp_inner.outer=null,n.zpp_inner=null,n.zpp_pool=yi.poolVec2,yi.poolVec2=n,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner.immutable_midstep("DistanceJoint::jointMin"),this.zpp_inner_zn.jointMin!=r&&(this.zpp_inner_zn.jointMin=r,this.zpp_inner.wake()),this.zpp_inner.immutable_midstep("DistanceJoint::jointMax"),this.zpp_inner_zn.jointMax!=o&&(this.zpp_inner_zn.jointMax=o,this.zpp_inner.wake())}),T=(O.__name__=["nape","constraint","DistanceJoint"],O.__super__=u,(O.prototype=Object.create(u.prototype)).zpp_inner_zn=null,O.prototype.get_body1=function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},O.prototype.set_body1=function(e){this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},O.prototype.get_body2=function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},O.prototype.set_body2=function(e){this.zpp_inner.immutable_midstep("Constraint::body2");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},O.prototype.get_anchor1=function(){return null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},O.prototype.set_anchor1=function(e){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();var t=this.zpp_inner_zn.wrap_a1,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},O.prototype.get_anchor2=function(){return null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},O.prototype.set_anchor2=function(e){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();var t=this.zpp_inner_zn.wrap_a2,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},O.prototype.get_jointMin=function(){return this.zpp_inner_zn.jointMin},O.prototype.set_jointMin=function(e){return this.zpp_inner.immutable_midstep("DistanceJoint::jointMin"),this.zpp_inner_zn.jointMin!=e&&(this.zpp_inner_zn.jointMin=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMin},O.prototype.get_jointMax=function(){return this.zpp_inner_zn.jointMax},O.prototype.set_jointMax=function(e){return this.zpp_inner.immutable_midstep("DistanceJoint::jointMax"),this.zpp_inner_zn.jointMax!=e&&(this.zpp_inner_zn.jointMax=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMax},O.prototype.isSlack=function(){return this.zpp_inner_zn.slack},O.prototype.impulse=function(){var e=new J(1,1);return e.zpp_inner.x[0*e.zpp_inner.n]=this.zpp_inner_zn.jAcc,e},O.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get()},O.prototype.visitBodies=function(e){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer),null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},Object.defineProperty(O.prototype,"body1",{get:O.prototype.get_body1,set:O.prototype.set_body1}),Object.defineProperty(O.prototype,"body2",{get:O.prototype.get_body2,set:O.prototype.set_body2}),Object.defineProperty(O.prototype,"anchor1",{get:O.prototype.get_anchor1,set:O.prototype.set_anchor1}),Object.defineProperty(O.prototype,"anchor2",{get:O.prototype.get_anchor2,set:O.prototype.set_anchor2}),Object.defineProperty(O.prototype,"jointMin",{get:O.prototype.get_jointMin,set:O.prototype.set_jointMin}),Object.defineProperty(O.prototype,"jointMax",{get:O.prototype.get_jointMax,set:O.prototype.set_jointMax}),O.prototype.__class__=O,nape.constraint.LineJoint=function(e,t,i,n,r,o,a){this.zpp_inner_zn=null,this.zpp_inner_zn=new ct,this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this),this.zpp_inner.immutable_midstep("Constraint::body1");var e=null==e?null:e.zpp_inner,e=(e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body2"),null==t?null:t.zpp_inner),t=(e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1),e=i.zpp_inner,e=(null!=e._validate&&e._validate(),i.zpp_inner.x),s=i.zpp_inner,s=(null!=s._validate&&s._validate(),i.zpp_inner.y),p=t.zpp_inner,s=(null!=p._validate&&p._validate(),t.zpp_inner.x==e&&(null!=(p=t.zpp_inner)._validate&&p._validate(),t.zpp_inner.y==s)||(t.zpp_inner.x=e,t.zpp_inner.y=s,null!=(p=t.zpp_inner)._invalidate&&p._invalidate(p)),i.zpp_inner.weak&&(e=i.zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2),t=n.zpp_inner,p=(null!=t._validate&&t._validate(),n.zpp_inner.x),i=n.zpp_inner,e=(null!=i._validate&&i._validate(),n.zpp_inner.y),t=s.zpp_inner,p=(null!=t._validate&&t._validate(),s.zpp_inner.x==p&&(null!=(i=s.zpp_inner)._validate&&i._validate(),s.zpp_inner.y==e)||(s.zpp_inner.x=p,s.zpp_inner.y=e,null!=(t=s.zpp_inner)._invalidate&&t._invalidate(t)),n.zpp_inner.weak&&(i=n.zpp_inner,n.zpp_inner.outer=null,n.zpp_inner=null,n.zpp_pool=yi.poolVec2,yi.poolVec2=n,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n(),this.zpp_inner_zn.wrap_n),e=r.zpp_inner,s=(null!=e._validate&&e._validate(),r.zpp_inner.x),t=r.zpp_inner,n=(null!=t._validate&&t._validate(),r.zpp_inner.y),i=p.zpp_inner;null!=i._validate&&i._validate(),p.zpp_inner.x==s&&(null!=(e=p.zpp_inner)._validate&&e._validate(),p.zpp_inner.y==n)||(p.zpp_inner.x=s,p.zpp_inner.y=n,null!=(t=p.zpp_inner)._invalidate&&t._invalidate(t)),r.zpp_inner.weak&&(i=r.zpp_inner,r.zpp_inner.outer=null,r.zpp_inner=null,r.zpp_pool=yi.poolVec2,yi.poolVec2=r,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n(),this.zpp_inner.immutable_midstep("LineJoint::jointMin"),this.zpp_inner_zn.jointMin!=o&&(this.zpp_inner_zn.jointMin=o,this.zpp_inner.wake()),this.zpp_inner.immutable_midstep("LineJoint::jointMax"),this.zpp_inner_zn.jointMax!=a&&(this.zpp_inner_zn.jointMax=a,this.zpp_inner.wake())}),A=(T.__name__=["nape","constraint","LineJoint"],T.__super__=u,(T.prototype=Object.create(u.prototype)).zpp_inner_zn=null,T.prototype.get_body1=function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},T.prototype.set_body1=function(e){this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},T.prototype.get_body2=function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},T.prototype.set_body2=function(e){this.zpp_inner.immutable_midstep("Constraint::body2");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},T.prototype.get_anchor1=function(){return null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},T.prototype.set_anchor1=function(e){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();var t=this.zpp_inner_zn.wrap_a1,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},T.prototype.get_anchor2=function(){return null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},T.prototype.set_anchor2=function(e){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();var t=this.zpp_inner_zn.wrap_a2,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},T.prototype.get_direction=function(){return null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n(),this.zpp_inner_zn.wrap_n},T.prototype.set_direction=function(e){null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n();var t=this.zpp_inner_zn.wrap_n,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_n&&this.zpp_inner_zn.setup_n(),this.zpp_inner_zn.wrap_n},T.prototype.get_jointMin=function(){return this.zpp_inner_zn.jointMin},T.prototype.set_jointMin=function(e){return this.zpp_inner.immutable_midstep("LineJoint::jointMin"),this.zpp_inner_zn.jointMin!=e&&(this.zpp_inner_zn.jointMin=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMin},T.prototype.get_jointMax=function(){return this.zpp_inner_zn.jointMax},T.prototype.set_jointMax=function(e){return this.zpp_inner.immutable_midstep("LineJoint::jointMax"),this.zpp_inner_zn.jointMax!=e&&(this.zpp_inner_zn.jointMax=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMax},T.prototype.impulse=function(){var e=new J(2,1);return e.zpp_inner.x[0*e.zpp_inner.n]=this.zpp_inner_zn.jAccx,e.zpp_inner.x[e.zpp_inner.n]=this.zpp_inner_zn.jAccy,e},T.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get()},T.prototype.visitBodies=function(e){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer),null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},Object.defineProperty(T.prototype,"body1",{get:T.prototype.get_body1,set:T.prototype.set_body1}),Object.defineProperty(T.prototype,"body2",{get:T.prototype.get_body2,set:T.prototype.set_body2}),Object.defineProperty(T.prototype,"anchor1",{get:T.prototype.get_anchor1,set:T.prototype.set_anchor1}),Object.defineProperty(T.prototype,"anchor2",{get:T.prototype.get_anchor2,set:T.prototype.set_anchor2}),Object.defineProperty(T.prototype,"direction",{get:T.prototype.get_direction,set:T.prototype.set_direction}),Object.defineProperty(T.prototype,"jointMin",{get:T.prototype.get_jointMin,set:T.prototype.set_jointMin}),Object.defineProperty(T.prototype,"jointMax",{get:T.prototype.get_jointMax,set:T.prototype.set_jointMax}),T.prototype.__class__=T,nape.constraint.MotorJoint=function(e,t,i,n){null==n&&(n=1),null==i&&(i=0),this.zpp_inner_zn=null,this.zpp_inner_zn=new mt,this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this),this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner,e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body2"),e=null==t?null:t.zpp_inner;e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("MotorJoint::rate"),this.zpp_inner_zn.rate!=i&&(this.zpp_inner_zn.rate=i,this.zpp_inner.wake()),this.zpp_inner.immutable_midstep("MotorJoint::ratio"),this.zpp_inner_zn.ratio!=n&&(this.zpp_inner_zn.ratio=n,this.zpp_inner.wake())}),E=(A.__name__=["nape","constraint","MotorJoint"],A.__super__=u,(A.prototype=Object.create(u.prototype)).zpp_inner_zn=null,A.prototype.get_body1=function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},A.prototype.set_body1=function(e){this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},A.prototype.get_body2=function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},A.prototype.set_body2=function(e){this.zpp_inner.immutable_midstep("Constraint::body2");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},A.prototype.get_ratio=function(){return this.zpp_inner_zn.ratio},A.prototype.set_ratio=function(e){return this.zpp_inner.immutable_midstep("MotorJoint::ratio"),this.zpp_inner_zn.ratio!=e&&(this.zpp_inner_zn.ratio=e,this.zpp_inner.wake()),this.zpp_inner_zn.ratio},A.prototype.get_rate=function(){return this.zpp_inner_zn.rate},A.prototype.set_rate=function(e){return this.zpp_inner.immutable_midstep("MotorJoint::rate"),this.zpp_inner_zn.rate!=e&&(this.zpp_inner_zn.rate=e,this.zpp_inner.wake()),this.zpp_inner_zn.rate},A.prototype.impulse=function(){var e=new J(1,1);return e.zpp_inner.x[0*e.zpp_inner.n]=this.zpp_inner_zn.jAcc,e},A.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get()},A.prototype.visitBodies=function(e){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer),null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},Object.defineProperty(A.prototype,"body1",{get:A.prototype.get_body1,set:A.prototype.set_body1}),Object.defineProperty(A.prototype,"body2",{get:A.prototype.get_body2,set:A.prototype.set_body2}),Object.defineProperty(A.prototype,"ratio",{get:A.prototype.get_ratio,set:A.prototype.set_ratio}),Object.defineProperty(A.prototype,"rate",{get:A.prototype.get_rate,set:A.prototype.set_rate}),A.prototype.__class__=A,nape.constraint.PivotJoint=function(e,t,i,n){this.zpp_inner_zn=null,this.zpp_inner_zn=new yt,this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this),this.zpp_inner.immutable_midstep("Constraint::body1");var e=null==e?null:e.zpp_inner,e=(e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body2"),null==t?null:t.zpp_inner),t=(e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1),e=i.zpp_inner,e=(null!=e._validate&&e._validate(),i.zpp_inner.x),r=i.zpp_inner,r=(null!=r._validate&&r._validate(),i.zpp_inner.y),o=t.zpp_inner,r=(null!=o._validate&&o._validate(),t.zpp_inner.x==e&&(null!=(o=t.zpp_inner)._validate&&o._validate(),t.zpp_inner.y==r)||(t.zpp_inner.x=e,t.zpp_inner.y=r,null!=(o=t.zpp_inner)._invalidate&&o._invalidate(o)),i.zpp_inner.weak&&(e=i.zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2),t=n.zpp_inner,o=(null!=t._validate&&t._validate(),n.zpp_inner.x),i=n.zpp_inner,e=(null!=i._validate&&i._validate(),n.zpp_inner.y),t=r.zpp_inner;null!=t._validate&&t._validate(),r.zpp_inner.x==o&&(null!=(i=r.zpp_inner)._validate&&i._validate(),r.zpp_inner.y==e)||(r.zpp_inner.x=o,r.zpp_inner.y=e,null!=(t=r.zpp_inner)._invalidate&&t._invalidate(t)),n.zpp_inner.weak&&(i=n.zpp_inner,n.zpp_inner.outer=null,n.zpp_inner=null,n.zpp_pool=yi.poolVec2,yi.poolVec2=n,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2()}),I=(E.__name__=["nape","constraint","PivotJoint"],E.__super__=u,(E.prototype=Object.create(u.prototype)).zpp_inner_zn=null,E.prototype.get_body1=function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},E.prototype.set_body1=function(e){this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},E.prototype.get_body2=function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},E.prototype.set_body2=function(e){this.zpp_inner.immutable_midstep("Constraint::body2");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},E.prototype.get_anchor1=function(){return null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},E.prototype.set_anchor1=function(e){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();var t=this.zpp_inner_zn.wrap_a1,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},E.prototype.get_anchor2=function(){return null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},E.prototype.set_anchor2=function(e){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();var t=this.zpp_inner_zn.wrap_a2,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},E.prototype.impulse=function(){var e=new J(2,1);return e.zpp_inner.x[0*e.zpp_inner.n]=this.zpp_inner_zn.jAccx,e.zpp_inner.x[e.zpp_inner.n]=this.zpp_inner_zn.jAccy,e},E.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get()},E.prototype.visitBodies=function(e){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer),null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},Object.defineProperty(E.prototype,"body1",{get:E.prototype.get_body1,set:E.prototype.set_body1}),Object.defineProperty(E.prototype,"body2",{get:E.prototype.get_body2,set:E.prototype.set_body2}),Object.defineProperty(E.prototype,"anchor1",{get:E.prototype.get_anchor1,set:E.prototype.set_anchor1}),Object.defineProperty(E.prototype,"anchor2",{get:E.prototype.get_anchor2,set:E.prototype.set_anchor2}),E.prototype.__class__=E,nape.constraint.PulleyJoint=function(e,t,i,n,r,o,a,s,p,l,h){null==h&&(h=1),this.zpp_inner_zn=null,this.zpp_inner_zn=new _t,this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this),this.zpp_inner.immutable_midstep("Constraint::body1");var e=null==e?null:e.zpp_inner,e=(e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&this.zpp_inner_zn.b3!=e&&this.zpp_inner_zn.b4!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body2"),null==t?null:t.zpp_inner),t=(e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&this.zpp_inner_zn.b3!=e&&this.zpp_inner_zn.b4!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body3"),null==i?null:i.zpp_inner),e=(t!=this.zpp_inner_zn.b3&&(null!=this.zpp_inner_zn.b3&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b3&&null!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b3.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b3.wake()),this.zpp_inner_zn.b3=t,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=t&&this.zpp_inner_zn.b1!=t&&this.zpp_inner_zn.b2!=t&&this.zpp_inner_zn.b4!=t&&null!=t&&t.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=t&&t.wake())),this.zpp_inner.immutable_midstep("Constraint::body4"),null==n?null:n.zpp_inner),i=(e!=this.zpp_inner_zn.b4&&(null!=this.zpp_inner_zn.b4&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b4&&null!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b4.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b4.wake()),this.zpp_inner_zn.b4=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&this.zpp_inner_zn.b2!=e&&this.zpp_inner_zn.b3!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1),t=r.zpp_inner,n=(null!=t._validate&&t._validate(),r.zpp_inner.x),e=r.zpp_inner,t=(null!=e._validate&&e._validate(),r.zpp_inner.y),e=i.zpp_inner,t=(null!=e._validate&&e._validate(),i.zpp_inner.x==n&&(null!=(e=i.zpp_inner)._validate&&e._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=n,i.zpp_inner.y=t,null!=(e=i.zpp_inner)._invalidate&&e._invalidate(e)),r.zpp_inner.weak&&(n=r.zpp_inner,r.zpp_inner.outer=null,r.zpp_inner=null,r.zpp_pool=yi.poolVec2,yi.poolVec2=r,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2),i=o.zpp_inner,e=(null!=i._validate&&i._validate(),o.zpp_inner.x),r=o.zpp_inner,n=(null!=r._validate&&r._validate(),o.zpp_inner.y),i=t.zpp_inner,e=(null!=i._validate&&i._validate(),t.zpp_inner.x==e&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=e,t.zpp_inner.y=n,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i)),o.zpp_inner.weak&&(r=o.zpp_inner,o.zpp_inner.outer=null,o.zpp_inner=null,o.zpp_pool=yi.poolVec2,yi.poolVec2=o,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3(),this.zpp_inner_zn.wrap_a3),n=a.zpp_inner,t=(null!=n._validate&&n._validate(),a.zpp_inner.x),i=a.zpp_inner,o=(null!=i._validate&&i._validate(),a.zpp_inner.y),r=e.zpp_inner,n=(null!=r._validate&&r._validate(),e.zpp_inner.x==t&&(null!=(n=e.zpp_inner)._validate&&n._validate(),e.zpp_inner.y==o)||(e.zpp_inner.x=t,e.zpp_inner.y=o,null!=(i=e.zpp_inner)._invalidate&&i._invalidate(i)),a.zpp_inner.weak&&(r=a.zpp_inner,a.zpp_inner.outer=null,a.zpp_inner=null,a.zpp_pool=yi.poolVec2,yi.poolVec2=a,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3(),null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4(),this.zpp_inner_zn.wrap_a4),t=s.zpp_inner,o=(null!=t._validate&&t._validate(),s.zpp_inner.x),e=s.zpp_inner,i=(null!=e._validate&&e._validate(),s.zpp_inner.y),a=n.zpp_inner;null!=a._validate&&a._validate(),n.zpp_inner.x==o&&(null!=(r=n.zpp_inner)._validate&&r._validate(),n.zpp_inner.y==i)||(n.zpp_inner.x=o,n.zpp_inner.y=i,null!=(t=n.zpp_inner)._invalidate&&t._invalidate(t)),s.zpp_inner.weak&&(e=s.zpp_inner,s.zpp_inner.outer=null,s.zpp_inner=null,s.zpp_pool=yi.poolVec2,yi.poolVec2=s,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e),null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4(),this.zpp_inner.immutable_midstep("PulleyJoint::ratio"),this.zpp_inner_zn.ratio!=h&&(this.zpp_inner_zn.ratio=h,this.zpp_inner.wake()),this.zpp_inner.immutable_midstep("PulleyJoint::jointMin"),this.zpp_inner_zn.jointMin!=p&&(this.zpp_inner_zn.jointMin=p,this.zpp_inner.wake()),this.zpp_inner.immutable_midstep("PulleyJoint::jointMax"),this.zpp_inner_zn.jointMax!=l&&(this.zpp_inner_zn.jointMax=l,this.zpp_inner.wake())}),e=(I.__name__=["nape","constraint","PulleyJoint"],I.__super__=u,(I.prototype=Object.create(u.prototype)).zpp_inner_zn=null,I.prototype.get_body1=function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},I.prototype.set_body1=function(e){this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&this.zpp_inner_zn.b3!=e&&this.zpp_inner_zn.b4!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},I.prototype.get_body2=function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},I.prototype.set_body2=function(e){this.zpp_inner.immutable_midstep("Constraint::body2");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&this.zpp_inner_zn.b3!=e&&this.zpp_inner_zn.b4!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},I.prototype.get_body3=function(){return null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},I.prototype.set_body3=function(e){this.zpp_inner.immutable_midstep("Constraint::body3");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b3&&(null!=this.zpp_inner_zn.b3&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b4!=this.zpp_inner_zn.b3&&null!=this.zpp_inner_zn.b3&&this.zpp_inner_zn.b3.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b3.wake()),this.zpp_inner_zn.b3=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&this.zpp_inner_zn.b2!=e&&this.zpp_inner_zn.b4!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer},I.prototype.get_body4=function(){return null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},I.prototype.set_body4=function(e){this.zpp_inner.immutable_midstep("Constraint::body4");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b4&&(null!=this.zpp_inner_zn.b4&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b3!=this.zpp_inner_zn.b4&&null!=this.zpp_inner_zn.b4&&this.zpp_inner_zn.b4.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b4.wake()),this.zpp_inner_zn.b4=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&this.zpp_inner_zn.b2!=e&&this.zpp_inner_zn.b3!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer},I.prototype.get_anchor1=function(){return null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},I.prototype.set_anchor1=function(e){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();var t=this.zpp_inner_zn.wrap_a1,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},I.prototype.get_anchor2=function(){return null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},I.prototype.set_anchor2=function(e){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();var t=this.zpp_inner_zn.wrap_a2,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},I.prototype.get_anchor3=function(){return null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3(),this.zpp_inner_zn.wrap_a3},I.prototype.set_anchor3=function(e){null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3();var t=this.zpp_inner_zn.wrap_a3,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a3&&this.zpp_inner_zn.setup_a3(),this.zpp_inner_zn.wrap_a3},I.prototype.get_anchor4=function(){return null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4(),this.zpp_inner_zn.wrap_a4},I.prototype.set_anchor4=function(e){null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4();var t=this.zpp_inner_zn.wrap_a4,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a4&&this.zpp_inner_zn.setup_a4(),this.zpp_inner_zn.wrap_a4},I.prototype.get_jointMin=function(){return this.zpp_inner_zn.jointMin},I.prototype.set_jointMin=function(e){return this.zpp_inner.immutable_midstep("PulleyJoint::jointMin"),this.zpp_inner_zn.jointMin!=e&&(this.zpp_inner_zn.jointMin=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMin},I.prototype.get_jointMax=function(){return this.zpp_inner_zn.jointMax},I.prototype.set_jointMax=function(e){return this.zpp_inner.immutable_midstep("PulleyJoint::jointMax"),this.zpp_inner_zn.jointMax!=e&&(this.zpp_inner_zn.jointMax=e,this.zpp_inner.wake()),this.zpp_inner_zn.jointMax},I.prototype.get_ratio=function(){return this.zpp_inner_zn.ratio},I.prototype.set_ratio=function(e){return this.zpp_inner.immutable_midstep("PulleyJoint::ratio"),this.zpp_inner_zn.ratio!=e&&(this.zpp_inner_zn.ratio=e,this.zpp_inner.wake()),this.zpp_inner_zn.ratio},I.prototype.isSlack=function(){return this.zpp_inner_zn.slack},I.prototype.impulse=function(){var e=new J(1,1);return e.zpp_inner.x[0*e.zpp_inner.n]=this.zpp_inner_zn.jAcc,e},I.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get()},I.prototype.visitBodies=function(e){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer),null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer),null!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&e(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer),null!=(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)!=(null==this.zpp_inner_zn.b3?null:this.zpp_inner_zn.b3.outer)&&e(null==this.zpp_inner_zn.b4?null:this.zpp_inner_zn.b4.outer)},Object.defineProperty(I.prototype,"body1",{get:I.prototype.get_body1,set:I.prototype.set_body1}),Object.defineProperty(I.prototype,"body2",{get:I.prototype.get_body2,set:I.prototype.set_body2}),Object.defineProperty(I.prototype,"body3",{get:I.prototype.get_body3,set:I.prototype.set_body3}),Object.defineProperty(I.prototype,"body4",{get:I.prototype.get_body4,set:I.prototype.set_body4}),Object.defineProperty(I.prototype,"anchor1",{get:I.prototype.get_anchor1,set:I.prototype.set_anchor1}),Object.defineProperty(I.prototype,"anchor2",{get:I.prototype.get_anchor2,set:I.prototype.set_anchor2}),Object.defineProperty(I.prototype,"anchor3",{get:I.prototype.get_anchor3,set:I.prototype.set_anchor3}),Object.defineProperty(I.prototype,"anchor4",{get:I.prototype.get_anchor4,set:I.prototype.set_anchor4}),Object.defineProperty(I.prototype,"jointMin",{get:I.prototype.get_jointMin,set:I.prototype.set_jointMin}),Object.defineProperty(I.prototype,"jointMax",{get:I.prototype.get_jointMax,set:I.prototype.set_jointMax}),Object.defineProperty(I.prototype,"ratio",{get:I.prototype.get_ratio,set:I.prototype.set_ratio}),I.prototype.__class__=I,nape.constraint.UserConstraint=function(e,t){null==t&&(t=!1),this.zpp_inner_zn=null,this.zpp_inner_zn=new xt(e,t),this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this)}),B=(e.__name__=["nape","constraint","UserConstraint"],e.__super__=u,(e.prototype=Object.create(u.prototype)).zpp_inner_zn=null,e.prototype.__bindVec2=function(){var e=new xe;return e.zpp_inner._inuse=!0,e.zpp_inner._invalidate=Z(s=this.zpp_inner_zn,s.bindVec2_invalidate),e},e.prototype.__copy=function(){return null},e.prototype.__broken=function(){},e.prototype.__validate=function(){},e.prototype.__draw=function(e){},e.prototype.__prepare=function(){},e.prototype.__position=function(e){},e.prototype.__velocity=function(e){},e.prototype.__eff_mass=function(e){},e.prototype.__clamp=function(e){},e.prototype.__impulse=function(e,t,i){},e.prototype.impulse=function(){for(var e=new J(this.zpp_inner_zn.dim,1),t=0,i=this.zpp_inner_zn.dim;t<i;){var n=t++;e.zpp_inner.x[n*e.zpp_inner.n]=this.zpp_inner_zn.jAcc[n]}return e},e.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get()},e.prototype.visitBodies=function(e){for(var t=0,i=this.zpp_inner_zn.bodies.length;t<i;){var n=this.zpp_inner_zn.bodies[t];if(null!=n.body){for(var r=!1,o=t+1;o<i;)if(this.zpp_inner_zn.bodies[o++].body==n.body){r=!0;break}r||e(n.body.outer)}++t}},e.prototype.__invalidate=function(){this.zpp_inner.immutable_midstep("UserConstraint::invalidate()"),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner.wake()},e.prototype.__registerBody=function(e,t){return this.zpp_inner.immutable_midstep("UserConstraint::registerBody(..)"),e!=t&&(null!=e&&(this.zpp_inner_zn.remBody(e.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&e.zpp_inner.wake()),null!=t&&this.zpp_inner_zn.addBody(t.zpp_inner),this.zpp_inner.wake(),null!=t&&t.zpp_inner.wake()),t},e.prototype.__class__=e,nape.constraint.WeldJoint=function(e,t,i,n,r){null==r&&(r=0),this.zpp_inner_zn=null,this.zpp_inner_zn=new gt,this.zpp_inner=this.zpp_inner_zn,(this.zpp_inner.outer=this).zpp_inner_zn.outer_zn=this,u.call(this),this.zpp_inner.immutable_midstep("Constraint::body1");var e=null==e?null:e.zpp_inner,e=(e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),this.zpp_inner.immutable_midstep("Constraint::body2"),null==t?null:t.zpp_inner),t=(e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1),e=i.zpp_inner,e=(null!=e._validate&&e._validate(),i.zpp_inner.x),o=i.zpp_inner,o=(null!=o._validate&&o._validate(),i.zpp_inner.y),a=t.zpp_inner,o=(null!=a._validate&&a._validate(),t.zpp_inner.x==e&&(null!=(a=t.zpp_inner)._validate&&a._validate(),t.zpp_inner.y==o)||(t.zpp_inner.x=e,t.zpp_inner.y=o,null!=(a=t.zpp_inner)._invalidate&&a._invalidate(a)),i.zpp_inner.weak&&(e=i.zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2),t=n.zpp_inner,a=(null!=t._validate&&t._validate(),n.zpp_inner.x),i=n.zpp_inner,e=(null!=i._validate&&i._validate(),n.zpp_inner.y),t=o.zpp_inner;null!=t._validate&&t._validate(),o.zpp_inner.x==a&&(null!=(i=o.zpp_inner)._validate&&i._validate(),o.zpp_inner.y==e)||(o.zpp_inner.x=a,o.zpp_inner.y=e,null!=(t=o.zpp_inner)._invalidate&&t._invalidate(t)),n.zpp_inner.weak&&(i=n.zpp_inner,n.zpp_inner.outer=null,n.zpp_inner=null,n.zpp_pool=yi.poolVec2,yi.poolVec2=n,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner.immutable_midstep("WeldJoint::phase"),this.zpp_inner_zn.phase!=r&&(this.zpp_inner_zn.phase=r,this.zpp_inner.wake())}),L=(B.__name__=["nape","constraint","WeldJoint"],B.__super__=u,(B.prototype=Object.create(u.prototype)).zpp_inner_zn=null,B.prototype.get_body1=function(){return null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},B.prototype.set_body1=function(e){this.zpp_inner.immutable_midstep("Constraint::body1");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b1&&(null!=this.zpp_inner_zn.b1&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2!=this.zpp_inner_zn.b1&&null!=this.zpp_inner_zn.b1&&this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1.wake()),this.zpp_inner_zn.b1=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b2!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer},B.prototype.get_body2=function(){return null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},B.prototype.set_body2=function(e){this.zpp_inner.immutable_midstep("Constraint::body2");e=null==e?null:e.zpp_inner;return e!=this.zpp_inner_zn.b2&&(null!=this.zpp_inner_zn.b2&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b1!=this.zpp_inner_zn.b2&&null!=this.zpp_inner_zn.b2&&this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&this.zpp_inner_zn.b2.wake()),this.zpp_inner_zn.b2=e,null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&null!=e&&this.zpp_inner_zn.b1!=e&&null!=e&&e.constraints.add(this.zpp_inner),this.zpp_inner.active&&null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.wake(),null!=e&&e.wake())),null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer},B.prototype.get_anchor1=function(){return null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},B.prototype.set_anchor1=function(e){null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1();var t=this.zpp_inner_zn.wrap_a1,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a1&&this.zpp_inner_zn.setup_a1(),this.zpp_inner_zn.wrap_a1},B.prototype.get_anchor2=function(){return null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},B.prototype.set_anchor2=function(e){null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2();var t=this.zpp_inner_zn.wrap_a2,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner_zn.wrap_a2&&this.zpp_inner_zn.setup_a2(),this.zpp_inner_zn.wrap_a2},B.prototype.get_phase=function(){return this.zpp_inner_zn.phase},B.prototype.set_phase=function(e){return this.zpp_inner.immutable_midstep("WeldJoint::phase"),this.zpp_inner_zn.phase!=e&&(this.zpp_inner_zn.phase=e,this.zpp_inner.wake()),this.zpp_inner_zn.phase},B.prototype.impulse=function(){var e=new J(3,1);return e.zpp_inner.x[0*e.zpp_inner.n]=this.zpp_inner_zn.jAccx,e.zpp_inner.x[e.zpp_inner.n]=this.zpp_inner_zn.jAccy,e.zpp_inner.x[e.zpp_inner.n]=this.zpp_inner_zn.jAccz,e},B.prototype.bodyImpulse=function(e){return this.zpp_inner.active?this.zpp_inner_zn.bodyImpulse(e.zpp_inner):d.get()},B.prototype.visitBodies=function(e){null!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer),null!=(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)&&(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)!=(null==this.zpp_inner_zn.b1?null:this.zpp_inner_zn.b1.outer)&&e(null==this.zpp_inner_zn.b2?null:this.zpp_inner_zn.b2.outer)},Object.defineProperty(B.prototype,"body1",{get:B.prototype.get_body1,set:B.prototype.set_body1}),Object.defineProperty(B.prototype,"body2",{get:B.prototype.get_body2,set:B.prototype.set_body2}),Object.defineProperty(B.prototype,"anchor1",{get:B.prototype.get_anchor1,set:B.prototype.set_anchor1}),Object.defineProperty(B.prototype,"anchor2",{get:B.prototype.get_anchor2,set:B.prototype.set_anchor2}),Object.defineProperty(B.prototype,"phase",{get:B.prototype.get_phase,set:B.prototype.set_phase}),B.prototype.__class__=B,nape.dynamics.Arbiter=function(){this.zpp_inner=null}),$e=(L.__name__=["nape","dynamics","Arbiter"],L.prototype.zpp_inner=null,L.prototype.get_isSleeping=function(){return this.zpp_inner.sleeping},L.prototype.get_type=function(){return Rt.types[this.zpp_inner.type]},L.prototype.isCollisionArbiter=function(){return this.zpp_inner.type==Rt.COL},L.prototype.isFluidArbiter=function(){return this.zpp_inner.type==Rt.FLUID},L.prototype.isSensorArbiter=function(){return this.zpp_inner.type==Rt.SENSOR},L.prototype.get_collisionArbiter=function(){return this.zpp_inner.type==Rt.COL?this.zpp_inner.colarb.outer_zn:null},L.prototype.get_fluidArbiter=function(){return this.zpp_inner.type==Rt.FLUID?this.zpp_inner.fluidarb.outer_zn:null},L.prototype.get_shape1=function(){return(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2:this.zpp_inner.ws1).outer},L.prototype.get_shape2=function(){return(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1:this.zpp_inner.ws2).outer},L.prototype.get_body1=function(){return(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b2:this.zpp_inner.b1).outer},L.prototype.get_body2=function(){return(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.b1:this.zpp_inner.b2).outer},L.prototype.get_state=function(){var e=this.zpp_inner.immState;return 5==e?(null==Tn.PreFlag_ACCEPT&&(Tn.internal=!0,Tn.PreFlag_ACCEPT=new Ln,Tn.internal=!1),Tn.PreFlag_ACCEPT):1==e?(null==Tn.PreFlag_ACCEPT_ONCE&&(Tn.internal=!0,Tn.PreFlag_ACCEPT_ONCE=new Ln,Tn.internal=!1),Tn.PreFlag_ACCEPT_ONCE):6==e?(null==Tn.PreFlag_IGNORE&&(Tn.internal=!0,Tn.PreFlag_IGNORE=new Ln,Tn.internal=!1),Tn.PreFlag_IGNORE):(null==Tn.PreFlag_IGNORE_ONCE&&(Tn.internal=!0,Tn.PreFlag_IGNORE_ONCE=new Ln,Tn.internal=!1),Tn.PreFlag_IGNORE_ONCE)},L.prototype.totalImpulse=function(e,t){return null==t&&(t=!1),d.get(0,0,0)},L.prototype.toString=function(){var e=this.zpp_inner.type==Rt.COL?"CollisionArbiter":this.zpp_inner.type==Rt.FLUID?"FluidArbiter":"SensorArbiter";return this.zpp_inner.cleared?e+"(object-pooled)":e+"("+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2:this.zpp_inner.ws1).outer.toString()+"|"+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1:this.zpp_inner.ws2).outer.toString()+")"+(this.zpp_inner.type==Rt.COL?"["+["SD","DD"][this.zpp_inner.colarb.stat?0:1]+"]":"")+"<-"+(5==(e=this.zpp_inner.immState)?(null==Tn.PreFlag_ACCEPT&&(Tn.internal=!0,Tn.PreFlag_ACCEPT=new Ln,Tn.internal=!1),Tn.PreFlag_ACCEPT):1==e?(null==Tn.PreFlag_ACCEPT_ONCE&&(Tn.internal=!0,Tn.PreFlag_ACCEPT_ONCE=new Ln,Tn.internal=!1),Tn.PreFlag_ACCEPT_ONCE):6==e?(null==Tn.PreFlag_IGNORE&&(Tn.internal=!0,Tn.PreFlag_IGNORE=new Ln,Tn.internal=!1),Tn.PreFlag_IGNORE):(null==Tn.PreFlag_IGNORE_ONCE&&(Tn.internal=!0,Tn.PreFlag_IGNORE_ONCE=new Ln,Tn.internal=!1),Tn.PreFlag_IGNORE_ONCE)).toString()},Object.defineProperty(L.prototype,"isSleeping",{get:L.prototype.get_isSleeping}),Object.defineProperty(L.prototype,"type",{get:L.prototype.get_type}),Object.defineProperty(L.prototype,"collisionArbiter",{get:L.prototype.get_collisionArbiter}),Object.defineProperty(L.prototype,"fluidArbiter",{get:L.prototype.get_fluidArbiter}),Object.defineProperty(L.prototype,"shape1",{get:L.prototype.get_shape1}),Object.defineProperty(L.prototype,"shape2",{get:L.prototype.get_shape2}),Object.defineProperty(L.prototype,"body1",{get:L.prototype.get_body1}),Object.defineProperty(L.prototype,"body2",{get:L.prototype.get_body2}),Object.defineProperty(L.prototype,"state",{get:L.prototype.get_state}),L.prototype.__class__=L,nape.dynamics.ArbiterIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),D=($e.__name__=["nape","dynamics","ArbiterIterator"],$e.get=function(e){var t=null==$e.zpp_pool?(pr.internal=!0,t=new $e,pr.internal=!1,t):($e.zpp_pool=(t=$e.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},$e.prototype.zpp_inner=null,$e.prototype.zpp_i=null,$e.prototype.zpp_critical=null,$e.prototype.zpp_next=null,$e.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner.zpp_gl();return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=$e.zpp_pool,($e.zpp_pool=this).zpp_inner=null,!1)},$e.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},$e.prototype.__class__=$e,nape.dynamics.ArbiterList=function(){this.zpp_inner=null,this.zpp_inner=new pr,this.zpp_inner.outer=this}),R=(D.__name__=["nape","dynamics","ArbiterList"],D.fromArray=function(e){for(var t=new D,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},D.prototype.zpp_inner=null,D.prototype.get_length=function(){return this.zpp_gl()},D.prototype.zpp_gl=function(){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var e=this.zpp_inner.inner.head;null!=e;)e.elt.active&&this.zpp_inner.user_length++,e=e.next}return this.zpp_inner.user_length},D.prototype.zpp_vm=function(){this.zpp_inner.valmod()},D.prototype.has=function(e){return this.zpp_vm(),this.zpp_inner.inner.has(e.zpp_inner)},D.prototype.at=function(e){if(this.zpp_vm(),(e=this.zpp_inner.reverse_flag?this.zpp_gl()-1-e:e)<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)for(this.zpp_inner.at_index=0,this.zpp_inner.at_ite=this.zpp_inner.inner.head;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;for(;this.zpp_inner.at_index!=e;)for(this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},D.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_vm();var t=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return t&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),t},D.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_vm();var t=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return t&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),t},D.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_vm();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),t=(i=(null==(e=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2))?this.zpp_inner.inner.head:e.next).elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.wrapper()},D.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_vm();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),t=(i=(null==(e=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2))?this.zpp_inner.inner.head:e.next).elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.wrapper()},D.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},D.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_vm(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},D.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},D.prototype.empty=function(){return 0==this.zpp_gl()},D.prototype.iterator=function(){return this.zpp_vm(),$e.get(this)},D.prototype.copy=function(e){null==e&&(e=!1);for(var t=new D,i=this.iterator();;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner.zpp_gl();if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=$e.zpp_pool,($e.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},D.prototype.merge=function(e){for(var t=e.iterator();;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner.zpp_gl();if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=$e.zpp_pool,($e.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||this.add(i)}},D.prototype.toString=function(){for(var e="[",t=!0,i=this.iterator();;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner.zpp_gl();if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=$e.zpp_pool,($e.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},D.prototype.foreach=function(e){for(var t=this.iterator();;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner.zpp_gl();if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=$e.zpp_pool,($e.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=$e.zpp_pool,($e.zpp_pool=t).zpp_inner=null;break}}return this},D.prototype.filter=function(e){for(var t=0;t<this.zpp_gl();){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(D.prototype,"length",{get:D.prototype.get_length}),D.prototype.__class__=D,nape.dynamics.ArbiterType=function(){}),F=(R.__name__=["nape","dynamics","ArbiterType"],R.COLLISION=null,R.get_COLLISION=function(){return null==Tn.ArbiterType_COLLISION&&(Tn.internal=!0,Tn.ArbiterType_COLLISION=new R,Tn.internal=!1),Tn.ArbiterType_COLLISION},R.SENSOR=null,R.get_SENSOR=function(){return null==Tn.ArbiterType_SENSOR&&(Tn.internal=!0,Tn.ArbiterType_SENSOR=new R,Tn.internal=!1),Tn.ArbiterType_SENSOR},R.FLUID=null,R.get_FLUID=function(){return null==Tn.ArbiterType_FLUID&&(Tn.internal=!0,Tn.ArbiterType_FLUID=new R,Tn.internal=!1),Tn.ArbiterType_FLUID},R.prototype.toString=function(){return null==Tn.ArbiterType_COLLISION&&(Tn.internal=!0,Tn.ArbiterType_COLLISION=new R,Tn.internal=!1),this==Tn.ArbiterType_COLLISION?"COLLISION":(null==Tn.ArbiterType_SENSOR&&(Tn.internal=!0,Tn.ArbiterType_SENSOR=new R,Tn.internal=!1),this==Tn.ArbiterType_SENSOR?"SENSOR":(null==Tn.ArbiterType_FLUID&&(Tn.internal=!0,Tn.ArbiterType_FLUID=new R,Tn.internal=!1),this==Tn.ArbiterType_FLUID?"FLUID":""))},Object.defineProperty(R,"COLLISION",{get:R.get_COLLISION}),Object.defineProperty(R,"SENSOR",{get:R.get_SENSOR}),Object.defineProperty(R,"FLUID",{get:R.get_FLUID}),R.prototype.__class__=R,nape.dynamics.CollisionArbiter=function(){L.call(this)}),N=(F.__name__=["nape","dynamics","CollisionArbiter"],F.__super__=L,(F.prototype=Object.create(L.prototype)).get_contacts=function(){return null==this.zpp_inner.colarb.wrap_contacts&&this.zpp_inner.colarb.setupcontacts(),this.zpp_inner.colarb.wrap_contacts},F.prototype.get_normal=function(){return null==this.zpp_inner.colarb.wrap_normal&&this.zpp_inner.colarb.getnormal(),this.zpp_inner.colarb.wrap_normal},F.prototype.get_radius=function(){return this.zpp_inner.colarb.radius},F.prototype.get_referenceEdge1=function(){var e=this.zpp_inner.colarb.__ref_edge1;return null==(e=null==e||1==(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2:this.zpp_inner.ws1).outer.zpp_inner.type&&(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2:this.zpp_inner.ws1).outer.zpp_inner==e.polygon?e:this.zpp_inner.colarb.__ref_edge2)?null:e.wrapper()},F.prototype.get_referenceEdge2=function(){var e=this.zpp_inner.colarb.__ref_edge1;return null==(e=null==e||1==(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1:this.zpp_inner.ws2).outer.zpp_inner.type&&(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1:this.zpp_inner.ws2).outer.zpp_inner==e.polygon?e:this.zpp_inner.colarb.__ref_edge2)?null:e.wrapper()},F.prototype.firstVertex=function(){return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)&&-1==this.zpp_inner.colarb.__ref_vertex},F.prototype.secondVertex=function(){return null!=this.zpp_inner.colarb.__ref_edge1!=(null!=this.zpp_inner.colarb.__ref_edge2)&&1==this.zpp_inner.colarb.__ref_vertex},F.prototype.normalImpulse=function(e,t){var i,n,r=0,o=0,a=0,s=this.zpp_inner.colarb;return(t=null==t?!1:t)&&!s.oc1.fresh||(null!=(i=(n=s.oc1.wrapper().normalImpulse(e)).zpp_inner)._validate&&i._validate(),r+=n.zpp_inner.x,null!=(i=n.zpp_inner)._validate&&i._validate(),o+=n.zpp_inner.y,null!=(i=n.zpp_inner)._validate&&i._validate(),a+=n.zpp_inner.z,n.dispose()),!s.hc2||t&&!s.oc2.fresh||(null!=(n=(i=s.oc2.wrapper().normalImpulse(e)).zpp_inner)._validate&&n._validate(),r+=i.zpp_inner.x,null!=(t=i.zpp_inner)._validate&&t._validate(),o+=i.zpp_inner.y,null!=(s=i.zpp_inner)._validate&&s._validate(),a+=i.zpp_inner.z,i.dispose()),d.get(r,o,a)},F.prototype.tangentImpulse=function(e,t){var i,n,r=0,o=0,a=0,s=this.zpp_inner.colarb;return(t=null==t?!1:t)&&!s.oc1.fresh||(null!=(i=(n=s.oc1.wrapper().tangentImpulse(e)).zpp_inner)._validate&&i._validate(),r+=n.zpp_inner.x,null!=(i=n.zpp_inner)._validate&&i._validate(),o+=n.zpp_inner.y,null!=(i=n.zpp_inner)._validate&&i._validate(),a+=n.zpp_inner.z,n.dispose()),!s.hc2||t&&!s.oc2.fresh||(null!=(n=(i=s.oc2.wrapper().tangentImpulse(e)).zpp_inner)._validate&&n._validate(),r+=i.zpp_inner.x,null!=(t=i.zpp_inner)._validate&&t._validate(),o+=i.zpp_inner.y,null!=(s=i.zpp_inner)._validate&&s._validate(),a+=i.zpp_inner.z,i.dispose()),d.get(r,o,a)},F.prototype.totalImpulse=function(e,t){var i,n,r=0,o=0,a=0,s=this.zpp_inner.colarb;return(t=null==t?!1:t)&&!s.oc1.fresh||(null!=(i=(n=s.oc1.wrapper().totalImpulse(e)).zpp_inner)._validate&&i._validate(),r+=n.zpp_inner.x,null!=(i=n.zpp_inner)._validate&&i._validate(),o+=n.zpp_inner.y,null!=(i=n.zpp_inner)._validate&&i._validate(),a+=n.zpp_inner.z,n.dispose()),!s.hc2||t&&!s.oc2.fresh||(null!=(n=(i=s.oc2.wrapper().totalImpulse(e)).zpp_inner)._validate&&n._validate(),r+=i.zpp_inner.x,null!=(t=i.zpp_inner)._validate&&t._validate(),o+=i.zpp_inner.y,null!=(s=i.zpp_inner)._validate&&s._validate(),a+=i.zpp_inner.z,i.dispose()),d.get(r,o,a)},F.prototype.rollingImpulse=function(e,t){var i=this.zpp_inner.colarb;return!(t=null==t?!1:t)||i.oc1.fresh?i.oc1.wrapper().rollingImpulse(e):0},F.prototype.get_elasticity=function(){var e=this.zpp_inner.colarb;return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.restitution},F.prototype.set_elasticity=function(e){var t=this.zpp_inner.colarb,e=(t.restitution=e,t.userdef_restitution=!0,this.zpp_inner.colarb);return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.restitution},F.prototype.get_dynamicFriction=function(){var e=this.zpp_inner.colarb;return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.dyn_fric},F.prototype.set_dynamicFriction=function(e){var t=this.zpp_inner.colarb,e=(t.dyn_fric=e,t.userdef_dyn_fric=!0,this.zpp_inner.colarb);return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.dyn_fric},F.prototype.get_staticFriction=function(){var e=this.zpp_inner.colarb;return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.stat_fric},F.prototype.set_staticFriction=function(e){var t=this.zpp_inner.colarb,e=(t.stat_fric=e,t.userdef_stat_fric=!0,this.zpp_inner.colarb);return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.stat_fric},F.prototype.get_rollingFriction=function(){var e=this.zpp_inner.colarb;return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.rfric},F.prototype.set_rollingFriction=function(e){var t=this.zpp_inner.colarb,e=(t.rfric=e,t.userdef_rfric=!0,this.zpp_inner.colarb);return e.invalidated&&(e.invalidated=!1,e.userdef_restitution||(e.s1.material.elasticity<=-1/0||e.s2.material.elasticity<=-1/0?e.restitution=0:e.s1.material.elasticity>=1/0||e.s2.material.elasticity>=1/0?e.restitution=1:e.restitution=(e.s1.material.elasticity+e.s2.material.elasticity)/2,e.restitution<0&&(e.restitution=0),1<e.restitution&&(e.restitution=1)),e.userdef_dyn_fric||(e.dyn_fric=Math.sqrt(e.s1.material.dynamicFriction*e.s2.material.dynamicFriction)),e.userdef_stat_fric||(e.stat_fric=Math.sqrt(e.s1.material.staticFriction*e.s2.material.staticFriction)),e.userdef_rfric||(e.rfric=Math.sqrt(e.s1.material.rollingFriction*e.s2.material.rollingFriction))),e.rfric},Object.defineProperty(F.prototype,"contacts",{get:F.prototype.get_contacts}),Object.defineProperty(F.prototype,"normal",{get:F.prototype.get_normal}),Object.defineProperty(F.prototype,"radius",{get:F.prototype.get_radius}),Object.defineProperty(F.prototype,"referenceEdge1",{get:F.prototype.get_referenceEdge1}),Object.defineProperty(F.prototype,"referenceEdge2",{get:F.prototype.get_referenceEdge2}),Object.defineProperty(F.prototype,"elasticity",{get:F.prototype.get_elasticity,set:F.prototype.set_elasticity}),Object.defineProperty(F.prototype,"dynamicFriction",{get:F.prototype.get_dynamicFriction,set:F.prototype.set_dynamicFriction}),Object.defineProperty(F.prototype,"staticFriction",{get:F.prototype.get_staticFriction,set:F.prototype.set_staticFriction}),Object.defineProperty(F.prototype,"rollingFriction",{get:F.prototype.get_rollingFriction,set:F.prototype.set_rollingFriction}),F.prototype.__class__=F,nape.dynamics.Contact=function(){this.zpp_inner=null}),et=(N.__name__=["nape","dynamics","Contact"],N.prototype.zpp_inner=null,N.prototype.get_arbiter=function(){var e;return null!=this.zpp_inner.arbiter&&(e=this.zpp_inner.arbiter.outer).zpp_inner.type==Rt.COL?e.zpp_inner.colarb.outer_zn:null},N.prototype.get_penetration=function(){return-this.zpp_inner.dist},N.prototype.get_position=function(){return null==this.zpp_inner.wrap_position&&this.zpp_inner.getposition(),this.zpp_inner.wrap_position},N.prototype.get_fresh=function(){return this.zpp_inner.fresh},N.prototype.normalImpulse=function(e){var t=this.zpp_inner.arbiter.colarb,i=this.zpp_inner.inner,n=i.jnAcc;return null==e?d.get(t.nx*n,t.ny*n):e==t.b1.outer?d.get(t.nx*-n,t.ny*-n,-(t.ny*i.r1x-t.nx*i.r1y)*n):d.get(t.nx*n,t.ny*n,(t.ny*i.r2x-t.nx*i.r2y)*n)},N.prototype.tangentImpulse=function(e){var t=this.zpp_inner.arbiter.colarb,i=this.zpp_inner.inner,n=i.jtAcc;return null==e?d.get(-t.ny*n,t.nx*n):e==t.b1.outer?d.get(t.ny*n,-t.nx*n,-(i.r1x*t.nx+i.r1y*t.ny)*n):d.get(-t.ny*n,t.nx*n,(i.r2x*t.nx+i.r2y*t.ny)*n)},N.prototype.rollingImpulse=function(e){var t=this.zpp_inner.arbiter.colarb,i=this.zpp_inner.arbiter.colarb.jrAcc;return null!=e&&e==t.b1.outer?-i:i},N.prototype.totalImpulse=function(e){var t,i=this.zpp_inner.arbiter.colarb,n=this.zpp_inner.inner,r=n.jnAcc,o=n.jtAcc,a=i.jrAcc;return null==e?d.get(i.nx*r-i.ny*o,i.ny*r+i.nx*o,a):(t=i.nx*r-i.ny*o,r=i.ny*r+i.nx*o,e==i.b1.outer?d.get(-t,-r,-(r*n.r1x-t*n.r1y)-a):d.get(t,r,r*n.r2x-t*n.r2y+a))},N.prototype.get_friction=function(){return this.zpp_inner.inner.friction},N.prototype.toString=function(){return null==this.zpp_inner.arbiter||this.zpp_inner.arbiter.cleared?"{object-pooled}":"{Contact}"},Object.defineProperty(N.prototype,"arbiter",{get:N.prototype.get_arbiter}),Object.defineProperty(N.prototype,"penetration",{get:N.prototype.get_penetration}),Object.defineProperty(N.prototype,"position",{get:N.prototype.get_position}),Object.defineProperty(N.prototype,"fresh",{get:N.prototype.get_fresh}),Object.defineProperty(N.prototype,"friction",{get:N.prototype.get_friction}),N.prototype.__class__=N,nape.dynamics.ContactIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),U=(et.__name__=["nape","dynamics","ContactIterator"],et.get=function(e){var t=null==et.zpp_pool?(lr.internal=!0,t=new et,lr.internal=!1,t):(et.zpp_pool=(t=et.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},et.prototype.zpp_inner=null,et.prototype.zpp_i=null,et.prototype.zpp_critical=null,et.prototype.zpp_next=null,et.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner;if(e.zpp_inner.valmod(),e.zpp_inner.zip_length){e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=0;for(var t=e.zpp_inner.inner.next;null!=t;){var i=t;i.active&&i.arbiter.active&&e.zpp_inner.user_length++,t=t.next}}var n=e.zpp_inner.user_length;return this.zpp_critical=!0,this.zpp_i<n||(this.zpp_next=et.zpp_pool,(et.zpp_pool=this).zpp_inner=null,!1)},et.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},et.prototype.__class__=et,nape.dynamics.ContactList=function(){this.zpp_inner=null,this.zpp_inner=new lr,this.zpp_inner.outer=this}),H=(U.__name__=["nape","dynamics","ContactList"],U.fromArray=function(e){for(var t=new U,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},U.prototype.zpp_inner=null,U.prototype.get_length=function(){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var e=this.zpp_inner.inner.next;null!=e;){var t=e;t.active&&t.arbiter.active&&this.zpp_inner.user_length++,e=e.next}}return this.zpp_inner.user_length},U.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},U.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var t=this.zpp_inner.inner.next;null!=t;){var i=t;i.active&&i.arbiter.active&&this.zpp_inner.user_length++,t=t.next}}e=this.zpp_inner.user_length-1-e}if(e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)for(this.zpp_inner.at_index=0,this.zpp_inner.at_ite=this.zpp_inner.inner.next;;){var n=this.zpp_inner.at_ite;if(n.active&&n.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}for(;this.zpp_inner.at_index!=e;)for(this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;;){var r=this.zpp_inner.at_ite;if(r.active&&r.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}return this.zpp_inner.at_ite.wrapper()},U.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);if(i){if(this.zpp_inner.reverse_flag)this.zpp_inner.inner.add(e.zpp_inner);else{if(null==this.zpp_inner.push_ite){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var n=this.zpp_inner.inner.next;null!=n;){var r=n;r.active&&r.arbiter.active&&this.zpp_inner.user_length++,n=n.next}}if(0==this.zpp_inner.user_length)t=null;else{if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var o=this.zpp_inner.inner.next;null!=o;){var a=o;a.active&&a.arbiter.active&&this.zpp_inner.user_length++,o=o.next}}t=this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)}this.zpp_inner.push_ite=t}this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)}this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)}return i},U.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);if(i){if(this.zpp_inner.reverse_flag){if(null==this.zpp_inner.push_ite){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var n=this.zpp_inner.inner.next;null!=n;){var r=n;r.active&&r.arbiter.active&&this.zpp_inner.user_length++,n=n.next}}if(0==this.zpp_inner.user_length)t=null;else{if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var o=this.zpp_inner.inner.next;null!=o;){var a=o;a.active&&a.arbiter.active&&this.zpp_inner.user_length++,o=o.next}}t=this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)}this.zpp_inner.push_ite=t}this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)}else this.zpp_inner.inner.add(e.zpp_inner);this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)}return i},U.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t=null;if(this.zpp_inner.reverse_flag){var i=(t=this.zpp_inner.inner.next).wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(i),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}else{if(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var n=this.zpp_inner.inner.next;null!=n;){var r=n;r.active&&r.arbiter.active&&this.zpp_inner.user_length++,n=n.next}}if(1==this.zpp_inner.user_length)e=null;else{if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var o=this.zpp_inner.inner.next;null!=o;){var a=o;a.active&&a.arbiter.active&&this.zpp_inner.user_length++,o=o.next}}e=this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)}i=(t=(null==e?this.zpp_inner.inner:e).next).wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(i),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)}return this.zpp_inner.invalidate(),t.wrapper()},U.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t=null;if(this.zpp_inner.reverse_flag){if(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var i=this.zpp_inner.inner.next;null!=i;){var n=i;n.active&&n.arbiter.active&&this.zpp_inner.user_length++,i=i.next}}if(1==this.zpp_inner.user_length)e=null;else{if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var r=this.zpp_inner.inner.next;null!=r;){var o=r;o.active&&o.arbiter.active&&this.zpp_inner.user_length++,r=r.next}}e=this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)}var a=(t=(null==e?this.zpp_inner.inner:e).next).wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)}else{a=(t=this.zpp_inner.inner.next).wrapper();null!=this.zpp_inner.subber&&this.zpp_inner.subber(a),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()}return this.zpp_inner.invalidate(),t.wrapper()},U.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},U.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.next;null!=i;){if(i==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},U.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;;){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var e=this.zpp_inner.inner.next;null!=e;){var t=e;t.active&&t.arbiter.active&&this.zpp_inner.user_length++,e=e.next}}if(0==this.zpp_inner.user_length)break;this.pop()}else for(;;){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var i=this.zpp_inner.inner.next;null!=i;){var n=i;n.active&&n.arbiter.active&&this.zpp_inner.user_length++,i=i.next}}if(0==this.zpp_inner.user_length)break;this.shift()}},U.prototype.empty=function(){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var e=this.zpp_inner.inner.next;null!=e;){var t=e;t.active&&t.arbiter.active&&this.zpp_inner.user_length++,e=e.next}}return 0==this.zpp_inner.user_length},U.prototype.iterator=function(){return this.zpp_inner.valmod(),et.get(this)},U.prototype.copy=function(e){null==e&&(e=!1);for(var t=new U,i=(this.zpp_inner.valmod(),et.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner;if(n.zpp_inner.valmod(),n.zpp_inner.zip_length){n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=0;for(var r=n.zpp_inner.inner.next;null!=r;){var o=r;o.active&&o.arbiter.active&&n.zpp_inner.user_length++,r=r.next}}var a=n.zpp_inner.user_length;if(i.zpp_critical=!0,!(i.zpp_i<a||(i.zpp_next=et.zpp_pool,(et.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;a=i.zpp_inner.at(i.zpp_i++);t.push(e?null:a)}return t},U.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=et.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner;if(i.zpp_inner.valmod(),i.zpp_inner.zip_length){i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=0;for(var n=i.zpp_inner.inner.next;null!=n;){var r=n;r.active&&r.arbiter.active&&i.zpp_inner.user_length++,n=n.next}}var o=i.zpp_inner.user_length;if(t.zpp_critical=!0,!(t.zpp_i<o||(t.zpp_next=et.zpp_pool,(et.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;o=t.zpp_inner.at(t.zpp_i++);this.has(o)||(this.zpp_inner.reverse_flag?this.push(o):this.unshift(o))}},U.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),et.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner;if(n.zpp_inner.valmod(),n.zpp_inner.zip_length){n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=0;for(var r=n.zpp_inner.inner.next;null!=r;){var o=r;o.active&&o.arbiter.active&&n.zpp_inner.user_length++,r=r.next}}var a=n.zpp_inner.user_length;if(i.zpp_critical=!0,!(i.zpp_i<a||(i.zpp_next=et.zpp_pool,(et.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;a=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==a?"NULL":a.toString(),t=!1}return e+"]"},U.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=et.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner;if(i.zpp_inner.valmod(),i.zpp_inner.zip_length){i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=0;for(var n=i.zpp_inner.inner.next;null!=n;){var r=n;r.active&&r.arbiter.active&&i.zpp_inner.user_length++,n=n.next}}var o=i.zpp_inner.user_length;if(t.zpp_critical=!0,!(t.zpp_i<o||(t.zpp_next=et.zpp_pool,(et.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=et.zpp_pool,(et.zpp_pool=t).zpp_inner=null;break}}return this},U.prototype.filter=function(e){for(var t=0;;){if(this.zpp_inner.valmod(),this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=0;for(var i=this.zpp_inner.inner.next;null!=i;){var n=i;n.active&&n.arbiter.active&&this.zpp_inner.user_length++,i=i.next}}if(!(t<this.zpp_inner.user_length))break;var r=this.at(t);try{e(r)?++t:this.remove(r)}catch(e){break}}return this},Object.defineProperty(U.prototype,"length",{get:U.prototype.get_length}),U.prototype.__class__=U,nape.dynamics.FluidArbiter=function(){L.call(this)}),V=(H.__name__=["nape","dynamics","FluidArbiter"],H.__super__=L,(H.prototype=Object.create(L.prototype)).get_position=function(){return null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition(),this.zpp_inner.fluidarb.wrap_position},H.prototype.set_position=function(e){null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition();var t=this.zpp_inner.fluidarb.wrap_position,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.fluidarb.wrap_position&&this.zpp_inner.fluidarb.getposition(),this.zpp_inner.fluidarb.wrap_position},H.prototype.get_overlap=function(){return this.zpp_inner.fluidarb.overlap},H.prototype.set_overlap=function(e){return this.zpp_inner.fluidarb.overlap=e,this.zpp_inner.fluidarb.overlap},H.prototype.buoyancyImpulse=function(e){var t=this.zpp_inner.fluidarb;return null==e?d.get(t.buoyx,t.buoyy,0):e.zpp_inner==this.zpp_inner.b2?d.get(t.buoyx,t.buoyy,t.buoyy*t.r2x-t.buoyx*t.r2y):d.get(-t.buoyx,-t.buoyy,-(t.buoyy*t.r1x-t.buoyx*t.r1y))},H.prototype.dragImpulse=function(e){var t=this.zpp_inner.fluidarb,e=null==e||e.zpp_inner==this.zpp_inner.b2?1:-1;return d.get(t.dampx*e,t.dampy*e,t.adamp*e)},H.prototype.totalImpulse=function(e,t){null==t&&(t=!1);var t=this.buoyancyImpulse(e),e=this.dragImpulse(e),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=t.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.x=i+t.zpp_inner.x,e.zpp_inner),i=(null!=n._validate&&n._validate(),e.zpp_inner),n=(null!=i._validate&&i._validate(),e.zpp_inner.y),i=t.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.y=n+t.zpp_inner.y,e.zpp_inner),n=(null!=i._validate&&i._validate(),e.zpp_inner),i=(null!=n._validate&&n._validate(),e.zpp_inner.z),n=t.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.z=i+t.zpp_inner.z,e.zpp_inner);return null!=n._validate&&n._validate(),t.dispose(),e},Object.defineProperty(H.prototype,"position",{get:H.prototype.get_position,set:H.prototype.set_position}),Object.defineProperty(H.prototype,"overlap",{get:H.prototype.get_overlap,set:H.prototype.set_overlap}),H.prototype.__class__=H,nape.dynamics.InteractionFilter=function(e,t,i,n,r,o){null==o&&(o=-1),null==r&&(r=1),null==n&&(n=-1),null==i&&(i=1),null==t&&(t=-1),null==e&&(e=1),(this.zpp_inner=null)==zt.zpp_pool?this.zpp_inner=new zt:(this.zpp_inner=zt.zpp_pool,zt.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null),(this.zpp_inner.outer=this).zpp_inner.collisionGroup!=e&&(this.zpp_inner.collisionGroup=e,this.zpp_inner.invalidate()),this.zpp_inner.collisionMask!=t&&(this.zpp_inner.collisionMask=t,this.zpp_inner.invalidate()),this.zpp_inner.sensorGroup!=i&&(this.zpp_inner.sensorGroup=i,this.zpp_inner.invalidate()),this.zpp_inner.sensorMask!=n&&(this.zpp_inner.sensorMask=n,this.zpp_inner.invalidate()),this.zpp_inner.fluidGroup!=r&&(this.zpp_inner.fluidGroup=r,this.zpp_inner.invalidate()),this.zpp_inner.fluidMask!=o&&(this.zpp_inner.fluidMask=o,this.zpp_inner.invalidate())}),e=(V.__name__=["nape","dynamics","InteractionFilter"],V.prototype.zpp_inner=null,V.prototype.get_userData=function(){return null==this.zpp_inner.userData&&(this.zpp_inner.userData={}),this.zpp_inner.userData},V.prototype.get_shapes=function(){return null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=ar.get(this.zpp_inner.shapes,!0)),this.zpp_inner.wrap_shapes},V.prototype.get_collisionGroup=function(){return this.zpp_inner.collisionGroup},V.prototype.set_collisionGroup=function(e){return this.zpp_inner.collisionGroup!=e&&(this.zpp_inner.collisionGroup=e,this.zpp_inner.invalidate()),this.zpp_inner.collisionGroup},V.prototype.get_collisionMask=function(){return this.zpp_inner.collisionMask},V.prototype.set_collisionMask=function(e){return this.zpp_inner.collisionMask!=e&&(this.zpp_inner.collisionMask=e,this.zpp_inner.invalidate()),this.zpp_inner.collisionMask},V.prototype.get_sensorGroup=function(){return this.zpp_inner.sensorGroup},V.prototype.set_sensorGroup=function(e){return this.zpp_inner.sensorGroup!=e&&(this.zpp_inner.sensorGroup=e,this.zpp_inner.invalidate()),this.zpp_inner.sensorGroup},V.prototype.get_sensorMask=function(){return this.zpp_inner.sensorMask},V.prototype.set_sensorMask=function(e){return this.zpp_inner.sensorMask!=e&&(this.zpp_inner.sensorMask=e,this.zpp_inner.invalidate()),this.zpp_inner.sensorMask},V.prototype.get_fluidGroup=function(){return this.zpp_inner.fluidGroup},V.prototype.set_fluidGroup=function(e){return this.zpp_inner.fluidGroup!=e&&(this.zpp_inner.fluidGroup=e,this.zpp_inner.invalidate()),this.zpp_inner.fluidGroup},V.prototype.get_fluidMask=function(){return this.zpp_inner.fluidMask},V.prototype.set_fluidMask=function(e){return this.zpp_inner.fluidMask!=e&&(this.zpp_inner.fluidMask=e,this.zpp_inner.invalidate()),this.zpp_inner.fluidMask},V.prototype.shouldCollide=function(e){var t=this.zpp_inner,e=e.zpp_inner;return 0!=(t.collisionMask&e.collisionGroup)&&0!=(e.collisionMask&t.collisionGroup)},V.prototype.shouldSense=function(e){var t=this.zpp_inner,e=e.zpp_inner;return 0!=(t.sensorMask&e.sensorGroup)&&0!=(e.sensorMask&t.sensorGroup)},V.prototype.shouldFlow=function(e){var t=this.zpp_inner,e=e.zpp_inner;return 0!=(t.fluidMask&e.fluidGroup)&&0!=(e.fluidMask&t.fluidGroup)},V.prototype.copy=function(){return new V(this.zpp_inner.collisionGroup,this.zpp_inner.collisionMask,this.zpp_inner.sensorGroup,this.zpp_inner.sensorMask,this.zpp_inner.fluidGroup,this.zpp_inner.fluidMask)},V.prototype.toString=function(){return"{ collision: "+l.hex(this.zpp_inner.collisionGroup,8)+"~"+l.hex(this.zpp_inner.collisionMask,8)+" sensor: "+l.hex(this.zpp_inner.sensorGroup,8)+"~"+l.hex(this.zpp_inner.sensorMask,8)+" fluid: "+l.hex(this.zpp_inner.fluidGroup,8)+"~"+l.hex(this.zpp_inner.fluidMask,8)+" }"},Object.defineProperty(V.prototype,"userData",{get:V.prototype.get_userData}),Object.defineProperty(V.prototype,"shapes",{get:V.prototype.get_shapes}),Object.defineProperty(V.prototype,"collisionGroup",{get:V.prototype.get_collisionGroup,set:V.prototype.set_collisionGroup}),Object.defineProperty(V.prototype,"collisionMask",{get:V.prototype.get_collisionMask,set:V.prototype.set_collisionMask}),Object.defineProperty(V.prototype,"sensorGroup",{get:V.prototype.get_sensorGroup,set:V.prototype.set_sensorGroup}),Object.defineProperty(V.prototype,"sensorMask",{get:V.prototype.get_sensorMask,set:V.prototype.set_sensorMask}),Object.defineProperty(V.prototype,"fluidGroup",{get:V.prototype.get_fluidGroup,set:V.prototype.set_fluidGroup}),Object.defineProperty(V.prototype,"fluidMask",{get:V.prototype.get_fluidMask,set:V.prototype.set_fluidMask}),V.prototype.__class__=V,nape.dynamics.InteractionGroup=function(e){null==e&&(e=!1),this.zpp_inner=null,this.zpp_inner=new bt,(this.zpp_inner.outer=this).zpp_inner.ignore!=e&&(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=e)}),tt=(e.__name__=["nape","dynamics","InteractionGroup"],e.prototype.zpp_inner=null,e.prototype.get_group=function(){return null==this.zpp_inner.group?null:this.zpp_inner.group.outer},e.prototype.set_group=function(e){return this.zpp_inner.setGroup(null==e?null:e.zpp_inner),null==this.zpp_inner.group?null:this.zpp_inner.group.outer},e.prototype.get_ignore=function(){return this.zpp_inner.ignore},e.prototype.set_ignore=function(e){return this.zpp_inner.ignore!=e&&(this.zpp_inner.invalidate(!0),this.zpp_inner.ignore=e),this.zpp_inner.ignore},e.prototype.get_interactors=function(){return null==this.zpp_inner.wrap_interactors&&(this.zpp_inner.wrap_interactors=Jn.get(this.zpp_inner.interactors,!0)),this.zpp_inner.wrap_interactors},e.prototype.get_groups=function(){return null==this.zpp_inner.wrap_groups&&(this.zpp_inner.wrap_groups=sr.get(this.zpp_inner.groups,!0)),this.zpp_inner.wrap_groups},e.prototype.toString=function(){var e="InteractionGroup";return e=this.zpp_inner.ignore?"InteractionGroup:ignore":e},Object.defineProperty(e.prototype,"group",{get:e.prototype.get_group,set:e.prototype.set_group}),Object.defineProperty(e.prototype,"ignore",{get:e.prototype.get_ignore,set:e.prototype.set_ignore}),Object.defineProperty(e.prototype,"interactors",{get:e.prototype.get_interactors}),Object.defineProperty(e.prototype,"groups",{get:e.prototype.get_groups}),e.prototype.__class__=e,nape.dynamics.InteractionGroupIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),W=(tt.__name__=["nape","dynamics","InteractionGroupIterator"],tt.get=function(e){var t=null==tt.zpp_pool?(sr.internal=!0,t=new tt,sr.internal=!1,t):(tt.zpp_pool=(t=tt.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},tt.prototype.zpp_inner=null,tt.prototype.zpp_i=null,tt.prototype.zpp_critical=null,tt.prototype.zpp_next=null,tt.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=tt.zpp_pool,(tt.zpp_pool=this).zpp_inner=null,!1)},tt.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},tt.prototype.__class__=tt,nape.dynamics.InteractionGroupList=function(){this.zpp_inner=null,this.zpp_inner=new sr,this.zpp_inner.outer=this}),q=(W.__name__=["nape","dynamics","InteractionGroupList"],W.fromArray=function(e){for(var t=new W,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},W.prototype.zpp_inner=null,W.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},W.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},W.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},W.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},W.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},W.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},W.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},W.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},W.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},W.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},W.prototype.empty=function(){return null==this.zpp_inner.inner.head},W.prototype.iterator=function(){return this.zpp_inner.valmod(),tt.get(this)},W.prototype.copy=function(e){null==e&&(e=!1);for(var t=new W,i=(this.zpp_inner.valmod(),tt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=tt.zpp_pool,(tt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},W.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=tt.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=tt.zpp_pool,(tt.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},W.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),tt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=tt.zpp_pool,(tt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},W.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=tt.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=tt.zpp_pool,(tt.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=tt.zpp_pool,(tt.zpp_pool=t).zpp_inner=null;break}}return this},W.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(W.prototype,"length",{get:W.prototype.get_length}),W.prototype.__class__=W,nape.geom.AABB=function(e,t,i,n){var r;null==n&&(n=0),null==i&&(i=0),null==t&&(t=0),null==e&&(e=0),(this.zpp_inner=null)==Nt.zpp_pool?r=new Nt:(r=Nt.zpp_pool,Nt.zpp_pool=r.next,r.next=null),r.minx=e,r.miny=t,r.maxx=e+i,r.maxy=t+n,this.zpp_inner=r,this.zpp_inner.outer=this}),X=(q.__name__=["nape","geom","AABB"],q.prototype.zpp_inner=null,q.prototype.copy=function(){var e,t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner),i=t.minx,n=t.miny,r=t.maxx,t=t.maxy;return null==Nt.zpp_pool?e=new Nt:(e=Nt.zpp_pool,Nt.zpp_pool=e.next,e.next=null),e.minx=i,e.miny=n,e.maxx=r,e.maxy=t,e.wrapper()},q.prototype.get_min=function(){return this.zpp_inner.getmin()},q.prototype.set_min=function(e){var t=this.zpp_inner.getmin(),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this.zpp_inner.getmin()},q.prototype.get_max=function(){return this.zpp_inner.getmax()},q.prototype.set_max=function(e){var t=this.zpp_inner.getmax(),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this.zpp_inner.getmax()},q.prototype.get_x=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.minx},q.prototype.set_x=function(e){var t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.minx!=e&&(this.zpp_inner.maxx+=e-this.zpp_inner.minx,this.zpp_inner.minx=e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),this.zpp_inner);return null!=e._validate&&e._validate(),this.zpp_inner.minx},q.prototype.get_y=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.miny},q.prototype.set_y=function(e){var t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.miny!=e&&(this.zpp_inner.maxy+=e-this.zpp_inner.miny,this.zpp_inner.miny=e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),this.zpp_inner);return null!=e._validate&&e._validate(),this.zpp_inner.miny},q.prototype.get_width=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner);return e.maxx-e.minx},q.prototype.set_width=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner),e=(t.maxx-t.minx!=e&&(null!=(t=this.zpp_inner)._validate&&t._validate(),this.zpp_inner.maxx=this.zpp_inner.minx+e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),this.zpp_inner),t=(null!=e._validate&&e._validate(),this.zpp_inner);return t.maxx-t.minx},q.prototype.get_height=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner);return e.maxy-e.miny},q.prototype.set_height=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner),e=(t.maxy-t.miny!=e&&(null!=(t=this.zpp_inner)._validate&&t._validate(),this.zpp_inner.maxy=this.zpp_inner.miny+e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),this.zpp_inner),t=(null!=e._validate&&e._validate(),this.zpp_inner);return t.maxy-t.miny},q.prototype.toString=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.toString()},Object.defineProperty(q.prototype,"min",{get:q.prototype.get_min,set:q.prototype.set_min}),Object.defineProperty(q.prototype,"max",{get:q.prototype.get_max,set:q.prototype.set_max}),Object.defineProperty(q.prototype,"x",{get:q.prototype.get_x,set:q.prototype.set_x}),Object.defineProperty(q.prototype,"y",{get:q.prototype.get_y,set:q.prototype.set_y}),Object.defineProperty(q.prototype,"width",{get:q.prototype.get_width,set:q.prototype.set_width}),Object.defineProperty(q.prototype,"height",{get:q.prototype.get_height,set:q.prototype.set_height}),q.prototype.__class__=q,nape.geom.ConvexResult=function(){this.zpp_inner=null}),it=(X.__name__=["nape","geom","ConvexResult"],X.prototype.zpp_inner=null,X.prototype.get_normal=function(){return this.zpp_inner.normal},X.prototype.get_position=function(){return this.zpp_inner.position},X.prototype.get_toi=function(){return this.zpp_inner.toiDistance},X.prototype.get_shape=function(){return this.zpp_inner.shape},X.prototype.dispose=function(){this.zpp_inner.free()},X.prototype.toString=function(){return"{ shape: "+p.string(this.zpp_inner.shape)+" toi: "+this.zpp_inner.toiDistance+" }"},Object.defineProperty(X.prototype,"normal",{get:X.prototype.get_normal}),Object.defineProperty(X.prototype,"position",{get:X.prototype.get_position}),Object.defineProperty(X.prototype,"toi",{get:X.prototype.get_toi}),Object.defineProperty(X.prototype,"shape",{get:X.prototype.get_shape}),X.prototype.__class__=X,nape.geom.ConvexResultIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),fe=(it.__name__=["nape","geom","ConvexResultIterator"],it.get=function(e){var t=null==it.zpp_pool?(rr.internal=!0,t=new it,rr.internal=!1,t):(it.zpp_pool=(t=it.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},it.prototype.zpp_inner=null,it.prototype.zpp_i=null,it.prototype.zpp_critical=null,it.prototype.zpp_next=null,it.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=it.zpp_pool,(it.zpp_pool=this).zpp_inner=null,!1)},it.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},it.prototype.__class__=it,nape.geom.ConvexResultList=function(){this.zpp_inner=null,this.zpp_inner=new rr,this.zpp_inner.outer=this}),e=(fe.__name__=["nape","geom","ConvexResultList"],fe.fromArray=function(e){for(var t=new fe,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},fe.prototype.zpp_inner=null,fe.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},fe.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e)},fe.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},fe.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},fe.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e)):this.zpp_inner.inner.add(e),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},fe.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=i=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i},fe.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=i=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i},fe.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},fe.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e),this.zpp_inner.invalidate()),t},fe.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},fe.prototype.empty=function(){return null==this.zpp_inner.inner.head},fe.prototype.iterator=function(){return this.zpp_inner.valmod(),it.get(this)},fe.prototype.copy=function(e){null==e&&(e=!1);for(var t=new fe,i=(this.zpp_inner.valmod(),it.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=it.zpp_pool,(it.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},fe.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=it.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=it.zpp_pool,(it.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},fe.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),it.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=it.zpp_pool,(it.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},fe.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=it.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=it.zpp_pool,(it.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=it.zpp_pool,(it.zpp_pool=t).zpp_inner=null;break}}return this},fe.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(fe.prototype,"length",{get:fe.prototype.get_length}),fe.prototype.__class__=fe,nape.geom.Geom=function(){}),_i=(e.__name__=["nape","geom","Geom"],e.distanceBody=function(e,t,i,n){for(var r=e.zpp_inner.shapes.head;null!=r;)Mt.validateShape(r.elt),r=r.next;for(var o=t.zpp_inner.shapes.head;null!=o;)Mt.validateShape(o.elt),o=o.next;return Jt.distanceBody(e.zpp_inner,t.zpp_inner,i.zpp_inner,n.zpp_inner)},e.distance=function(e,t,i,n){Mt.validateShape(e.zpp_inner),Mt.validateShape(t.zpp_inner),null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1;var r,e=e.zpp_inner,t=t.zpp_inner,i=i.zpp_inner,n=n.zpp_inner;if(0==e.type&&0==t.type){var o=e.circle,a=t.circle,s=0,p=0,s=a.worldCOMx-o.worldCOMx,p=a.worldCOMy-o.worldCOMy,l=Math.sqrt(s*s+p*p),h=l-(o.radius+a.radius);h<1e100&&(0==l?(s=1,p=0):(s*=l=1/l,p*=l),l=o.radius,i.x=o.worldCOMx+s*l,i.y=o.worldCOMy+p*l,o=-a.radius,n.x=a.worldCOMx+s*o,n.y=a.worldCOMy+p*o,r.x=s,r.y=p),l=h}else{a=!1;if(0==e.type&&1==t.type&&(o=e,e=t,t=o,s=i,i=n,n=s,a=!0),1==e.type&&0==t.type){for(var p=e.polygon,u=t.circle,d=-1e100,c=null,L=p.edges.head;null!=L;){var D=L.elt,m=D.gnormx*u.worldCOMx+D.gnormy*u.worldCOMy-D.gprojection-u.radius;if(1e100<m){d=m;break}0<m?d<m&&(d=m,c=D):d<0&&d<m&&(d=m,c=D),L=L.next}d<1e100&&(h=c.gp0,o=c.gp1,(s=u.worldCOMy*c.gnormx-u.worldCOMx*c.gnormy)<=h.y*c.gnormx-h.x*c.gnormy?(O=p=0,p=u.worldCOMx-h.x,O=u.worldCOMy-h.y,(d=(A=Math.sqrt(p*p+O*O))-u.radius)<1e100&&(0==A?(p=1,O=0):(p*=A=1/A,O*=A),i.x=h.x+0*p,i.y=h.y+0*O,A=-u.radius,n.x=u.worldCOMx+p*A,n.y=u.worldCOMy+O*A,r.x=p,r.y=O)):s>=o.y*c.gnormx-o.x*c.gnormy?(A=h=0,h=u.worldCOMx-o.x,A=u.worldCOMy-o.y,(d=(p=Math.sqrt(h*h+A*A))-u.radius)<1e100&&(0==p?(h=1,A=0):(h*=O=1/p,A*=O),i.x=o.x+0*h,i.y=o.y+0*A,s=-u.radius,n.x=u.worldCOMx+h*s,n.y=u.worldCOMy+A*s,r.x=h,r.y=A)):(p=-u.radius,n.x=u.worldCOMx+c.gnormx*p,n.y=u.worldCOMy+c.gnormy*p,i.x=n.x+c.gnormx*(O=-d),i.y=n.y+c.gnormy*O,r.x=c.gnormx,r.y=c.gnormy)),a&&(r.x=-r.x,r.y=-r.y),l=d}else{for(var R=e.polygon,j=t.polygon,y=-1e100,F=null,N=null,U=0,H=R.edges.head;null!=H;){for(var V=H.elt,_=1e100,W=j.gverts.next;null!=W;){var q=W,q=V.gnormx*q.x+V.gnormy*q.y;q<_&&(_=q),W=W.next}if(1e100<(_-=V.gprojection)){y=_;break}0<_?y<_&&(y=_,F=V,U=1):y<0&&y<_&&(y=_,F=V,U=1),H=H.next}if(y<1e100){for(var X=j.edges.head;null!=X;){for(var Y=X.elt,x=1e100,K=R.gverts.next;null!=K;){var Z=K,Z=Y.gnormx*Z.x+Y.gnormy*Z.y;Z<x&&(x=Z),K=K.next}if(1e100<(x-=Y.gprojection)){y=x;break}0<x?y<x&&(y=x,N=Y,U=2):y<0&&y<x&&(y=x,N=Y,U=2),X=X.next}if(y<1e100){1==U?(G=j,f=F):(G=R,f=N,o=i,i=n,n=o,a=!a);for(var f,g,J,v,z,b,w,S,C,k,M,P,O,T,G,A,E,I=null,Q=1e100,$=G.edges.head;null!=$;){var ee=$.elt,te=f.gnormx*ee.gnormx+f.gnormy*ee.gnormy;te<Q&&(Q=te,I=ee),$=$.next}a?(r.x=-f.gnormx,r.y=-f.gnormy):(r.x=f.gnormx,r.y=f.gnormy),l=0<=y?(s=f.gp0,h=f.gp1,A=I.gp0,p=I.gp1,o=t=e=O=0,G=1/((O=h.x-s.x)*O+(e=h.y-s.y)*e),v=1/((t=p.x-A.x)*t+(o=p.y-A.y)*o),(w=-(O*(s.x-A.x)+e*(s.y-A.y))*G)<0?w=0:1<w&&(w=1),(G=-(O*(s.x-p.x)+e*(s.y-p.y))*G)<0?G=0:1<G&&(G=1),(T=-(t*(A.x-s.x)+o*(A.y-s.y))*v)<0?T=0:1<T&&(T=1),(v=-(t*(A.x-h.x)+o*(A.y-h.y))*v)<0?v=0:1<v&&(v=1),g=b=0,w=w,b=s.x+O*w,g=s.y+e*w,S=w=0,G=G,w=s.x+O*G,S=s.y+e*G,e=O=0,G=T,O=A.x+t*G,e=A.y+o*G,G=T=0,v=v,T=A.x+t*v,G=A.y+o*v,B=E=P=M=k=C=z=v=o=t=0,J=null,(t=(t=b-A.x)*t+(o=g-A.y)*o)<(o=(v=w-p.x)*v+(z=S-p.y)*z)?(E=b,B=g,J=A):(E=w,B=S,J=p,t=o),z=v=0,b=null,(g=(C=O-s.x)*C+(k=e-s.y)*k)<(A=(M=T-h.x)*M+(P=G-h.y)*P)?(v=O,z=e,b=s):(v=T,z=G,b=h,g=A),0!=(y=t<g?(i.x=E,i.y=B,n.x=J.x,n.y=J.y,Math.sqrt(t)):(n.x=v,n.y=z,i.x=b.x,i.y=b.y,Math.sqrt(g)))&&(r.x=n.x-i.x,r.y=n.y-i.y,r.x*=w=1/y,r.y*=w,a&&(r.x=-r.x,r.y=-r.y)),y):(p=S=0,S=I.gp0.x,p=I.gp0.y,M=k=C=o=0,k=(o=I.gp1.x)-S,M=(C=I.gp1.y)-p,P=f.gnormy*S-f.gnormx*p,O=f.gnormy*o-f.gnormx*C,s=(-f.tp1-P)*(e=1/(O-P)),ur.epsilon<s&&(S+=k*s,p+=M*s),(T=(-f.tp0-O)*e)<-ur.epsilon&&(o+=k*T,C+=M*T),(G=S*f.gnormx+p*f.gnormy-f.gprojection)<(h=o*f.gnormx+C*f.gnormy-f.gprojection)?(n.x=S,n.y=p,i.x=n.x+f.gnormx*(A=-G),i.y=n.y+f.gnormy*A,G):(n.x=o,n.y=C,i.x=n.x+f.gnormx*(E=-h),i.y=n.y+f.gnormy*E,h))}else l=1e100}else l=1e100}}var B=r;return null!=B.outer&&(B.outer.zpp_inner=null,B.outer=null),B._isimmutable=null,B._validate=null,B._invalidate=null,B.next=cr.zpp_pool,cr.zpp_pool=B,l},e.intersectsBody=function(e,t){for(var i=e.zpp_inner.shapes.head;null!=i;)Mt.validateShape(i.elt),i=i.next;for(var n=t.zpp_inner.shapes.head;null!=n;)Mt.validateShape(n.elt),n=n.next;var r=e.zpp_inner.aabb,o=t.zpp_inner.aabb;if(o.miny<=r.maxy&&r.miny<=o.maxy&&o.minx<=r.maxx&&r.minx<=o.maxx){for(var a=e.zpp_inner.shapes.head;null!=a;){for(var s=a.elt,p=t.zpp_inner.shapes.head;null!=p;){if(dr.testCollide_safe(s,p.elt))return!0;p=p.next}a=a.next}return!1}return!1},e.intersects=function(e,t){Mt.validateShape(e.zpp_inner),Mt.validateShape(t.zpp_inner);var i=e.zpp_inner.aabb,n=t.zpp_inner.aabb;return n.miny<=i.maxy&&i.miny<=n.maxy&&n.minx<=i.maxx&&i.minx<=n.maxx&&dr.testCollide_safe(e.zpp_inner,t.zpp_inner)},e.contains=function(e,t){return Mt.validateShape(e.zpp_inner),Mt.validateShape(t.zpp_inner),dr.containTest(e.zpp_inner,t.zpp_inner)},e.prototype.__class__=e,nape.geom.GeomPoly=function(e){if(this.zpp_inner=null,this.zpp_pool=null,this.zpp_inner=new Pt(this),null!=e){if(e instanceof Array&&null==e.__enum__)for(var t=e,i=0;i<t.length;){var n,r=t[i],o=(++i,r.zpp_inner),o=(null!=o._validate&&o._validate(),r.zpp_inner.x),a=r.zpp_inner,a=(null!=a._validate&&a._validate(),r.zpp_inner.y),r=(null==Xi.zpp_pool?n=new Xi:(n=Xi.zpp_pool,Xi.zpp_pool=n.next,n.next=null),n.forced=!1,n.x=o,n.y=a,n);null==this.zpp_inner.vertices?this.zpp_inner.vertices=r.prev=r.next=r:(r.prev=this.zpp_inner.vertices,r.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=r,this.zpp_inner.vertices.next=r),this.zpp_inner.vertices=r}else if(j.__instanceof(e,te))for(var s=e.iterator();;){s.zpp_inner.zpp_inner.valmod();var p=s.zpp_inner.zpp_gl();if(s.zpp_critical=!0,!(s.zpp_i<p||(s.zpp_next=ot.zpp_pool,(ot.zpp_pool=s).zpp_inner=null,!1)))break;s.zpp_critical=!1;var l,p=s.zpp_inner.at(s.zpp_i++),h=p.zpp_inner,h=(null!=h._validate&&h._validate(),p.zpp_inner.x),u=p.zpp_inner,u=(null!=u._validate&&u._validate(),p.zpp_inner.y),p=(null==Xi.zpp_pool?l=new Xi:(l=Xi.zpp_pool,Xi.zpp_pool=l.next,l.next=null),l.forced=!1,l.x=h,l.y=u,l);null==this.zpp_inner.vertices?this.zpp_inner.vertices=p.prev=p.next=p:(p.prev=this.zpp_inner.vertices,p.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=p,this.zpp_inner.vertices.next=p),this.zpp_inner.vertices=p}else if(j.__instanceof(e,_i)){var d=e.zpp_inner.vertices;if(null!=d)for(var c=d;;){var m,y,_,x=c.x,f=c.y,x=(null==yi.poolVec2?m=new xe:(m=yi.poolVec2,yi.poolVec2=m.zpp_pool,m.zpp_pool=null),null==m.zpp_inner?(null==cr.zpp_pool?y=new cr:(y=cr.zpp_pool,cr.zpp_pool=y.next,y.next=null),y.weak=!1,y._immutable=!1,y.x=x,y.y=f,m.zpp_inner=y,m.zpp_inner.outer=m):(null!=(g=m.zpp_inner)._validate&&g._validate(),m.zpp_inner.x==x&&(null!=(g=m.zpp_inner)._validate&&g._validate(),m.zpp_inner.y==f)||(m.zpp_inner.x=x,m.zpp_inner.y=f,null!=(g=m.zpp_inner)._invalidate&&g._invalidate(g))),m.zpp_inner.weak=!1,m),c=c.next,f=x.zpp_inner,g=(null!=f._validate&&f._validate(),x.zpp_inner.x),f=x.zpp_inner,f=(null!=f._validate&&f._validate(),x.zpp_inner.y),f=(null==Xi.zpp_pool?_=new Xi:(_=Xi.zpp_pool,Xi.zpp_pool=_.next,_.next=null),_.forced=!1,_.x=g,_.y=f,_),f=(null==this.zpp_inner.vertices?this.zpp_inner.vertices=f.prev=f.next=f:(f.prev=this.zpp_inner.vertices,f.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=f,this.zpp_inner.vertices.next=f),this.zpp_inner.vertices=f,x.zpp_inner),x=(x.zpp_inner.outer=null,x.zpp_inner=null,x.zpp_pool=yi.poolVec2,yi.poolVec2=x,f);if(null!=x.outer&&(x.outer.zpp_inner=null,x.outer=null),x._isimmutable=null,x._validate=null,x._invalidate=null,x.next=cr.zpp_pool,cr.zpp_pool=x,c==d)break}}if(this.skipForward(1),e instanceof Array&&null==e.__enum__)for(var v=e,z=0;z<v.length;){var b=v[z],w=!!b.zpp_inner.weak&&(w=b.zpp_inner,b.zpp_inner.outer=null,b.zpp_inner=null,(b=b).zpp_pool=yi.poolVec2,yi.poolVec2=b,null!=(b=w).outer&&(b.outer.zpp_inner=null,b.outer=null),b._isimmutable=null,b._validate=null,b._invalidate=null,b.next=cr.zpp_pool,cr.zpp_pool=b,!0);w?v.splice(z,1):++z}else if(j.__instanceof(e,te)){null!=e.zpp_inner._validate&&e.zpp_inner._validate();for(var S=e.zpp_inner.inner,C=null,k=S.head;null!=k;){var M,P=k.elt;P.outer.zpp_inner.weak?(k=S.erase(C),P.outer.zpp_inner.weak&&(M=(P=P.outer).zpp_inner,P.zpp_inner.outer=null,P.zpp_inner=null,(P=P).zpp_pool=yi.poolVec2,yi.poolVec2=P,null!=(P=M).outer&&(P.outer.zpp_inner=null,P.outer=null),P._isimmutable=null,P._validate=null,P._invalidate=null,P.next=cr.zpp_pool,cr.zpp_pool=P)):k=(C=k).next}}}}),nt=(_i.__name__=["nape","geom","GeomPoly"],_i.get=function(e){var t;if(null==yi.poolGeomPoly?t=new _i:(t=yi.poolGeomPoly,yi.poolGeomPoly=t.zpp_pool,t.zpp_pool=null),null!=e){if(e instanceof Array&&null==e.__enum__)for(var i=e,n=0;n<i.length;){var r,o=i[n],a=(++n,o.zpp_inner),a=(null!=a._validate&&a._validate(),o.zpp_inner.x),s=o.zpp_inner,s=(null!=s._validate&&s._validate(),o.zpp_inner.y),o=(null==Xi.zpp_pool?r=new Xi:(r=Xi.zpp_pool,Xi.zpp_pool=r.next,r.next=null),r.forced=!1,r.x=a,r.y=s,r);null==t.zpp_inner.vertices?t.zpp_inner.vertices=o.prev=o.next=o:(o.prev=t.zpp_inner.vertices,o.next=t.zpp_inner.vertices.next,t.zpp_inner.vertices.next.prev=o,t.zpp_inner.vertices.next=o),t.zpp_inner.vertices=o}else if(j.__instanceof(e,te))for(var p=e.iterator();;){p.zpp_inner.zpp_inner.valmod();var l=p.zpp_inner.zpp_gl();if(p.zpp_critical=!0,!(p.zpp_i<l||(p.zpp_next=ot.zpp_pool,(ot.zpp_pool=p).zpp_inner=null,!1)))break;p.zpp_critical=!1;var h,l=p.zpp_inner.at(p.zpp_i++),u=l.zpp_inner,u=(null!=u._validate&&u._validate(),l.zpp_inner.x),d=l.zpp_inner,d=(null!=d._validate&&d._validate(),l.zpp_inner.y),l=(null==Xi.zpp_pool?h=new Xi:(h=Xi.zpp_pool,Xi.zpp_pool=h.next,h.next=null),h.forced=!1,h.x=u,h.y=d,h);null==t.zpp_inner.vertices?t.zpp_inner.vertices=l.prev=l.next=l:(l.prev=t.zpp_inner.vertices,l.next=t.zpp_inner.vertices.next,t.zpp_inner.vertices.next.prev=l,t.zpp_inner.vertices.next=l),t.zpp_inner.vertices=l}else if(j.__instanceof(e,_i)){var c=e.zpp_inner.vertices;if(null!=c)for(var m=c;;){var y,_,x,f=m.x,g=m.y,f=(null==yi.poolVec2?y=new xe:(y=yi.poolVec2,yi.poolVec2=y.zpp_pool,y.zpp_pool=null),null==y.zpp_inner?(null==cr.zpp_pool?_=new cr:(_=cr.zpp_pool,cr.zpp_pool=_.next,_.next=null),_.weak=!1,_._immutable=!1,_.x=f,_.y=g,y.zpp_inner=_,y.zpp_inner.outer=y):(null!=(v=y.zpp_inner)._validate&&v._validate(),y.zpp_inner.x==f&&(null!=(v=y.zpp_inner)._validate&&v._validate(),y.zpp_inner.y==g)||(y.zpp_inner.x=f,y.zpp_inner.y=g,null!=(v=y.zpp_inner)._invalidate&&v._invalidate(v))),y.zpp_inner.weak=!1,y),m=m.next,g=f.zpp_inner,v=(null!=g._validate&&g._validate(),f.zpp_inner.x),g=f.zpp_inner,g=(null!=g._validate&&g._validate(),f.zpp_inner.y),g=(null==Xi.zpp_pool?x=new Xi:(x=Xi.zpp_pool,Xi.zpp_pool=x.next,x.next=null),x.forced=!1,x.x=v,x.y=g,x),g=(null==t.zpp_inner.vertices?t.zpp_inner.vertices=g.prev=g.next=g:(g.prev=t.zpp_inner.vertices,g.next=t.zpp_inner.vertices.next,t.zpp_inner.vertices.next.prev=g,t.zpp_inner.vertices.next=g),t.zpp_inner.vertices=g,f.zpp_inner),f=(f.zpp_inner.outer=null,f.zpp_inner=null,f.zpp_pool=yi.poolVec2,yi.poolVec2=f,g);if(null!=f.outer&&(f.outer.zpp_inner=null,f.outer=null),f._isimmutable=null,f._validate=null,f._invalidate=null,f.next=cr.zpp_pool,cr.zpp_pool=f,m==c)break}}if(t.skipForward(1),e instanceof Array&&null==e.__enum__)for(var z=e,b=0;b<z.length;){var w=z[b],S=!!w.zpp_inner.weak&&(S=w.zpp_inner,w.zpp_inner.outer=null,w.zpp_inner=null,(w=w).zpp_pool=yi.poolVec2,yi.poolVec2=w,null!=(w=S).outer&&(w.outer.zpp_inner=null,w.outer=null),w._isimmutable=null,w._validate=null,w._invalidate=null,w.next=cr.zpp_pool,cr.zpp_pool=w,!0);S?z.splice(b,1):++b}else if(j.__instanceof(e,te)){null!=e.zpp_inner._validate&&e.zpp_inner._validate();for(var C=e.zpp_inner.inner,k=null,M=C.head;null!=M;){var P,O=M.elt;O.outer.zpp_inner.weak?(M=C.erase(k),O.outer.zpp_inner.weak&&(P=(O=O.outer).zpp_inner,O.zpp_inner.outer=null,O.zpp_inner=null,(O=O).zpp_pool=yi.poolVec2,yi.poolVec2=O,null!=(O=P).outer&&(O.outer.zpp_inner=null,O.outer=null),O._isimmutable=null,O._validate=null,O._invalidate=null,O.next=cr.zpp_pool,cr.zpp_pool=O)):M=(k=M).next}}}return t},_i.prototype.zpp_pool=null,_i.prototype.zpp_inner=null,_i.prototype.empty=function(){return null==this.zpp_inner.vertices},_i.prototype.size=function(){var e=0,t=this.zpp_inner.vertices,i=this.zpp_inner.vertices;if(null!=t)for(var n=t;;)if(++e,(n=n.next)==i)break;return e},_i.prototype.iterator=function(){return Ot.get(this.zpp_inner.vertices,!0)},_i.prototype.forwardIterator=function(){return Ot.get(this.zpp_inner.vertices,!0)},_i.prototype.backwardsIterator=function(){return Ot.get(this.zpp_inner.vertices,!1)},_i.prototype.current=function(){var e,t,i,n,r=this.zpp_inner.vertices;return null==r.wrap&&(e=r.x,t=r.y,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,r.wrap=i,r.wrap.zpp_inner._inuse=!0,r.wrap.zpp_inner._invalidate=Z(r,r.modwrap),r.wrap.zpp_inner._validate=Z(r,r.getwrap)),r.wrap},_i.prototype.push=function(e){var t,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),i=(null==Xi.zpp_pool?t=new Xi:(t=Xi.zpp_pool,Xi.zpp_pool=t.next,t.next=null),t.forced=!1,t.x=i,t.y=n,t);return null==this.zpp_inner.vertices?this.zpp_inner.vertices=i.prev=i.next=i:(i.prev=this.zpp_inner.vertices,i.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=i,this.zpp_inner.vertices.next=i),this.zpp_inner.vertices=i,e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),this},_i.prototype.pop=function(){var e,t=this.zpp_inner.vertices,i=null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null:(i=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,i);return this.zpp_inner.vertices=i,null!=t.wrap&&(t.wrap.zpp_inner._inuse=!1,e=(i=t.wrap).zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,t.wrap=null),t.prev=t.next=null,t.next=Xi.zpp_pool,Xi.zpp_pool=t,this},_i.prototype.unshift=function(e){var t,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),i=(null==Xi.zpp_pool?t=new Xi:(t=Xi.zpp_pool,Xi.zpp_pool=t.next,t.next=null),t.forced=!1,t.x=i,t.y=n,t);return null==this.zpp_inner.vertices?this.zpp_inner.vertices=i.prev=i.next=i:(i.next=this.zpp_inner.vertices,i.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=i,this.zpp_inner.vertices.prev=i),this.zpp_inner.vertices=i,e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),this},_i.prototype.shift=function(){var e,t=this.zpp_inner.vertices,i=null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?(this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null):(i=this.zpp_inner.vertices.next,this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,i);return this.zpp_inner.vertices=i,null!=t.wrap&&(t.wrap.zpp_inner._inuse=!1,e=(i=t.wrap).zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,t.wrap=null),t.prev=t.next=null,t.next=Xi.zpp_pool,Xi.zpp_pool=t,this},_i.prototype.skipForward=function(e){if(null!=this.zpp_inner.vertices)if(0<e)for(;0<e--;)this.zpp_inner.vertices=this.zpp_inner.vertices.next;else if(e<0)for(;e++<0;)this.zpp_inner.vertices=this.zpp_inner.vertices.prev;return this},_i.prototype.skipBackwards=function(e){return this.skipForward(-e)},_i.prototype.erase=function(e){for(;0!=e&&null!=this.zpp_inner.vertices;){var t,i,n,r,o=this.zpp_inner.vertices;0<e?(t=null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?(this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null):(t=this.zpp_inner.vertices.next,this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,t),this.zpp_inner.vertices=t,--e):e<0&&(i=null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null:(i=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,i),this.zpp_inner.vertices=i,++e),null!=o.wrap&&(o.wrap.zpp_inner._inuse=!1,r=(n=o.wrap).zpp_inner,n.zpp_inner.outer=null,n.zpp_inner=null,n.zpp_pool=yi.poolVec2,yi.poolVec2=n,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r,o.wrap=null),o.prev=o.next=null,o.next=Xi.zpp_pool,Xi.zpp_pool=o}return this},_i.prototype.clear=function(){for(;null!=this.zpp_inner.vertices;){var e,t,i=this.zpp_inner.vertices,n=null!=this.zpp_inner.vertices&&this.zpp_inner.vertices.prev==this.zpp_inner.vertices?(this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null):(n=this.zpp_inner.vertices.next,this.zpp_inner.vertices.prev.next=this.zpp_inner.vertices.next,this.zpp_inner.vertices.next.prev=this.zpp_inner.vertices.prev,this.zpp_inner.vertices.next=this.zpp_inner.vertices.prev=null,this.zpp_inner.vertices=null,n);this.zpp_inner.vertices=n,null!=i.wrap&&(i.wrap.zpp_inner._inuse=!1,t=(e=i.wrap).zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.wrap=null),i.prev=i.next=null,i.next=Xi.zpp_pool,Xi.zpp_pool=i}return this},_i.prototype.copy=function(){var e=_i.get(),t=this.zpp_inner.vertices,i=this.zpp_inner.vertices;if(null!=t)for(var n=t;;){var r,o=n,a=o.x,o=o.y,a=(null==Xi.zpp_pool?r=new Xi:(r=Xi.zpp_pool,Xi.zpp_pool=r.next,r.next=null),r.forced=!1,r.x=a,r.y=o,r);if(null==e.zpp_inner.vertices?e.zpp_inner.vertices=a.prev=a.next=a:(a.prev=e.zpp_inner.vertices,a.next=e.zpp_inner.vertices.next,e.zpp_inner.vertices.next.prev=a,e.zpp_inner.vertices.next=a),e.zpp_inner.vertices=a,(n=n.next)==i)break}return e.skipForward(1)},_i.prototype.dispose=function(){this.clear();this.zpp_pool=yi.poolGeomPoly,yi.poolGeomPoly=this},_i.prototype.toString=function(){var e="GeomPoly[",t=this.zpp_inner.vertices,i=this.zpp_inner.vertices;if(null!=t)for(var n=t;;){var r=n;if(r!=this.zpp_inner.vertices&&(e+=","),e+="{"+r.x+","+r.y+"}",(n=n.next)==i)break}return e+"]"},_i.prototype.area=function(){if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return 0;var e=0,t=this.zpp_inner.vertices,i=this.zpp_inner.vertices;if(null!=t)for(var n=t;;){var r=n;if(e+=r.x*(r.next.y-r.prev.y),(n=n.next)==i)break}t=.5*e;return t<0?-t:t},_i.prototype.winding=function(){if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return null==Tn.Winding_UNDEFINED&&(Tn.internal=!0,Tn.Winding_UNDEFINED=new ie,Tn.internal=!1),Tn.Winding_UNDEFINED;var e=0,t=this.zpp_inner.vertices,i=this.zpp_inner.vertices;if(null!=t)for(var n=t;;){var r=n;if(e+=r.x*(r.next.y-r.prev.y),(n=n.next)==i)break}t=.5*e;return 0<t?(null==Tn.Winding_CLOCKWISE&&(Tn.internal=!0,Tn.Winding_CLOCKWISE=new ie,Tn.internal=!1),Tn.Winding_CLOCKWISE):0==t?(null==Tn.Winding_UNDEFINED&&(Tn.internal=!0,Tn.Winding_UNDEFINED=new ie,Tn.internal=!1),Tn.Winding_UNDEFINED):(null==Tn.Winding_ANTICLOCKWISE&&(Tn.internal=!0,Tn.Winding_ANTICLOCKWISE=new ie,Tn.internal=!1),Tn.Winding_ANTICLOCKWISE)},_i.prototype.contains=function(e){var t=e.zpp_inner,i=(null!=t._validate&&t._validate(),e.zpp_inner.x),t=e.zpp_inner,n=(null!=t._validate&&t._validate(),e.zpp_inner.y),r=!1,t=this.zpp_inner.vertices,o=this.zpp_inner.vertices;if(null!=t)for(var a=t;;){var s=a,p=s.prev;if((s.y<n&&p.y>=n||p.y<n&&s.y>=n)&&(s.x<=i||p.x<=i)&&s.x+(n-s.y)/(p.y-s.y)*(p.x-s.x)<i&&(r=!r),(a=a.next)==o)break}var l,t=r;return e.zpp_inner.weak&&(l=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=l.outer&&(l.outer.zpp_inner=null,l.outer=null),l._isimmutable=null,l._validate=null,l._invalidate=null,l.next=cr.zpp_pool,cr.zpp_pool=l),t},_i.prototype.isClockwise=function(){var e=this.winding();return null==Tn.Winding_CLOCKWISE&&(Tn.internal=!0,Tn.Winding_CLOCKWISE=new ie,Tn.internal=!1),e==Tn.Winding_CLOCKWISE},_i.prototype.isConvex=function(){if(null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next)return!0;var e=!1,t=!1,i=!0,n=this.zpp_inner.vertices,r=this.zpp_inner.vertices;if(null!=n)for(var o=n;;){var a=o,s=a.prev,p=a.next,l=p.x-a.x,p=p.y-a.y,h=a.x-s.x,a=(a.y-s.y)*l-h*p;if(0<a?t=!0:a<0&&(e=!0),t&&e){i=!1;break}if((o=o.next)==r)break}return i},_i.prototype.isSimple=function(){return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next||de.isSimple(this.zpp_inner.vertices)},_i.prototype.isMonotone=function(){return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next||Et.isMonotone(this.zpp_inner.vertices)},_i.prototype.isDegenerate=function(){return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next||this.area()<ur.epsilon},_i.prototype.simplify=function(e){var t;return null==this.zpp_inner.vertices||null==this.zpp_inner.vertices.next||this.zpp_inner.vertices.prev==this.zpp_inner.vertices.next?this.copy():(e=Kt.simplify(this.zpp_inner.vertices,e),(t=_i.get()).zpp_inner.vertices=e,t)},_i.prototype.simpleDecomposition=function(e){null==Bt.sharedGVList&&(Bt.sharedGVList=new Fi);for(var t=de.decompose(this.zpp_inner.vertices,Bt.sharedGVList),i=null==e?new xi:e;null!=t.head;){var n=t.pop_unsafe(),r=_i.get();r.zpp_inner.vertices=n,i.zpp_inner.reverse_flag?i.push(r):i.unshift(r)}return i},_i.prototype.monotoneDecomposition=function(e){null==Et.sharedPPoly&&(Et.sharedPPoly=new Bt);for(var t=Et.decompose(this.zpp_inner.vertices,Et.sharedPPoly),i=(null==Bt.sharedGVList&&(Bt.sharedGVList=new Fi),t.extract(Bt.sharedGVList)),n=null==e?new xi:e;null!=i.head;){var r=i.pop_unsafe(),o=_i.get();o.zpp_inner.vertices=r,n.zpp_inner.reverse_flag?n.push(o):n.unshift(o)}return n},_i.prototype.convexDecomposition=function(e,t){null==e&&(e=!1),null==Et.sharedPPoly&&(Et.sharedPPoly=new Bt);for(var i=Et.decompose(this.zpp_inner.vertices,Et.sharedPPoly),n=(null==Bt.sharedPPList&&(Bt.sharedPPList=new ji),i.extract_partitions(Bt.sharedPPList)),r=null==t?new xi:t;null!=n.head;){var o=n.pop_unsafe(),a=($t.triangulate(o),e&&$t.optimise(o),Ct.optimise(o),null==Bt.sharedGVList&&(Bt.sharedGVList=new Fi),o.extract(Bt.sharedGVList));for(o.next=Bt.zpp_pool,Bt.zpp_pool=o;null!=a.head;){var s=a.pop_unsafe(),p=_i.get();p.zpp_inner.vertices=s,r.zpp_inner.reverse_flag?r.push(p):r.unshift(p)}}return r},_i.prototype.triangularDecomposition=function(e,t){null==e&&(e=!1),null==Et.sharedPPoly&&(Et.sharedPPoly=new Bt);for(var i=Et.decompose(this.zpp_inner.vertices,Et.sharedPPoly),n=(null==Bt.sharedPPList&&(Bt.sharedPPList=new ji),i.extract_partitions(Bt.sharedPPList)),r=null==t?new xi:t;null!=n.head;){var o=n.pop_unsafe(),a=($t.triangulate(o),e&&$t.optimise(o),null==Bt.sharedGVList&&(Bt.sharedGVList=new Fi),o.extract(Bt.sharedGVList));for(o.next=Bt.zpp_pool,Bt.zpp_pool=o;null!=a.head;){var s=a.pop_unsafe(),p=_i.get();p.zpp_inner.vertices=s,r.zpp_inner.reverse_flag?r.push(p):r.unshift(p)}}return r},_i.prototype.inflate=function(e){var t=_i.get(),i=this.winding(),i=(null==Tn.Winding_CLOCKWISE&&(Tn.internal=!0,Tn.Winding_CLOCKWISE=new ie,Tn.internal=!1),i==Tn.Winding_CLOCKWISE&&(e=-e),this.zpp_inner.vertices),n=this.zpp_inner.vertices;if(null!=i)for(var r=i;;){var o,a,s=r,p=s.prev,l=s.next,h=s.x-p.x,p=s.y-p.y,u=l.x-s.x,l=l.y-s.y,d=0,c=0,m=h,y=p,_=1/Math.sqrt(m*m+y*y),x=m*=_,_=(m=-(y*=_),y=x,e),x=(m*=_,y*=_,1/Math.sqrt(u*(d=u)+l*(c=l))),_=d*=x,d=-(c*=x),c=_,x=l*((d*=e)-m)-u*((c*=e)-y),_=0==x?0:x/(l*h-u*p),d=s.x+m,c=s.y+y;if(d+=h*_,c+=p*_,null==yi.poolVec2?o=new xe:(o=yi.poolVec2,yi.poolVec2=o.zpp_pool,o.zpp_pool=null),null==o.zpp_inner?(null==cr.zpp_pool?a=new cr:(a=cr.zpp_pool,cr.zpp_pool=a.next,a.next=null),a.weak=!1,a._immutable=!1,a.x=d,a.y=c,o.zpp_inner=a,o.zpp_inner.outer=o):(null!=(x=o.zpp_inner)._validate&&x._validate(),o.zpp_inner.x==d&&(null!=(l=o.zpp_inner)._validate&&l._validate(),o.zpp_inner.y==c)||(o.zpp_inner.x=d,o.zpp_inner.y=c,null!=(u=o.zpp_inner)._invalidate&&u._invalidate(u))),o.zpp_inner.weak=!1,t.push(o),(r=r.next)==n)break}return t.skipForward(1)},_i.prototype.cut=function(e,t,i,n,r){i=vi.run(this.zpp_inner.vertices,e,t,i=null==i?!1:i,n=null==n?!1:n,r);return e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),t.zpp_inner.weak&&(r=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),i},_i.prototype.transform=function(e){var t=this.zpp_inner.vertices,i=this.zpp_inner.vertices;if(null!=t)for(var n=t;;){var r=n,o=e.zpp_inner.a*r.x+e.zpp_inner.b*r.y+e.zpp_inner.tx;if(r.y=e.zpp_inner.c*r.x+e.zpp_inner.d*r.y+e.zpp_inner.ty,r.x=o,(n=n.next)==i)break}return this},_i.prototype.bounds=function(){var e=1e100,t=1e100,i=-1e100,n=-1e100,r=this.zpp_inner.vertices,o=this.zpp_inner.vertices;if(null!=r)for(var a=r;;){var s=a;if(s.x<e&&(e=s.x),s.y<t&&(t=s.y),s.x>i&&(i=s.x),s.y>n&&(n=s.y),(a=a.next)==o)break}return new q(e,t,i-e,n-t)},_i.prototype.top=function(){var e,t,i,n=this.zpp_inner.vertices,r=this.zpp_inner.vertices.next,o=this.zpp_inner.vertices;if(null!=r)for(var a=r;;){var s=a;if(s.y<n.y&&(n=s),(a=a.next)==o)break}return null==n.wrap&&(r=n.x,e=n.y,null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=r,i.y=e,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==r&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==e)||(t.zpp_inner.x=r,t.zpp_inner.y=e,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=!1,n.wrap=t,n.wrap.zpp_inner._inuse=!0,n.wrap.zpp_inner._invalidate=Z(n,n.modwrap),n.wrap.zpp_inner._validate=Z(n,n.getwrap)),n.wrap},_i.prototype.bottom=function(){var e,t,i,n=this.zpp_inner.vertices,r=this.zpp_inner.vertices.next,o=this.zpp_inner.vertices;if(null!=r)for(var a=r;;){var s=a;if(s.y>n.y&&(n=s),(a=a.next)==o)break}return null==n.wrap&&(r=n.x,e=n.y,null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=r,i.y=e,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==r&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==e)||(t.zpp_inner.x=r,t.zpp_inner.y=e,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=!1,n.wrap=t,n.wrap.zpp_inner._inuse=!0,n.wrap.zpp_inner._invalidate=Z(n,n.modwrap),n.wrap.zpp_inner._validate=Z(n,n.getwrap)),n.wrap},_i.prototype.left=function(){var e,t,i,n=this.zpp_inner.vertices,r=this.zpp_inner.vertices.next,o=this.zpp_inner.vertices;if(null!=r)for(var a=r;;){var s=a;if(s.x<n.x&&(n=s),(a=a.next)==o)break}return null==n.wrap&&(r=n.x,e=n.y,null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=r,i.y=e,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==r&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==e)||(t.zpp_inner.x=r,t.zpp_inner.y=e,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=!1,n.wrap=t,n.wrap.zpp_inner._inuse=!0,n.wrap.zpp_inner._invalidate=Z(n,n.modwrap),n.wrap.zpp_inner._validate=Z(n,n.getwrap)),n.wrap},_i.prototype.right=function(){var e,t,i,n=this.zpp_inner.vertices,r=this.zpp_inner.vertices.next,o=this.zpp_inner.vertices;if(null!=r)for(var a=r;;){var s=a;if(s.x>n.x&&(n=s),(a=a.next)==o)break}return null==n.wrap&&(r=n.x,e=n.y,null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=r,i.y=e,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==r&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==e)||(t.zpp_inner.x=r,t.zpp_inner.y=e,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=!1,n.wrap=t,n.wrap.zpp_inner._inuse=!0,n.wrap.zpp_inner._invalidate=Z(n,n.modwrap),n.wrap.zpp_inner._validate=Z(n,n.getwrap)),n.wrap},_i.prototype.__class__=_i,nape.geom.GeomPolyIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),xi=(nt.__name__=["nape","geom","GeomPolyIterator"],nt.get=function(e){var t=null==nt.zpp_pool?(ir.internal=!0,t=new nt,ir.internal=!1,t):(nt.zpp_pool=(t=nt.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},nt.prototype.zpp_inner=null,nt.prototype.zpp_i=null,nt.prototype.zpp_critical=null,nt.prototype.zpp_next=null,nt.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=nt.zpp_pool,(nt.zpp_pool=this).zpp_inner=null,!1)},nt.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},nt.prototype.__class__=nt,nape.geom.GeomPolyList=function(){this.zpp_inner=null,this.zpp_inner=new ir,this.zpp_inner.outer=this}),Y=(xi.__name__=["nape","geom","GeomPolyList"],xi.fromArray=function(e){for(var t=new xi,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},xi.prototype.zpp_inner=null,xi.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},xi.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},xi.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},xi.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},xi.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},xi.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},xi.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},xi.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},xi.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},xi.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},xi.prototype.empty=function(){return null==this.zpp_inner.inner.head},xi.prototype.iterator=function(){return this.zpp_inner.valmod(),nt.get(this)},xi.prototype.copy=function(e){null==e&&(e=!1);for(var t=new xi,i=(this.zpp_inner.valmod(),nt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=nt.zpp_pool,(nt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},xi.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=nt.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=nt.zpp_pool,(nt.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},xi.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),nt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=nt.zpp_pool,(nt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},xi.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=nt.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=nt.zpp_pool,(nt.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=nt.zpp_pool,(nt.zpp_pool=t).zpp_inner=null;break}}return this},xi.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(xi.prototype,"length",{get:xi.prototype.get_length}),xi.prototype.__class__=xi,nape.geom.GeomVertexIterator=function(){}),e=(Y.__name__=["nape","geom","GeomVertexIterator"],Y.prototype.zpp_inner=null,Y.prototype.hasNext=function(){var e,t=this.zpp_inner.ptr!=this.zpp_inner.start||this.zpp_inner.first;return this.zpp_inner.first=!1,t||((e=this.zpp_inner).outer.zpp_inner=null,e.ptr=e.start=null,e.next=Ot.zpp_pool,Ot.zpp_pool=e),t},Y.prototype.next=function(){var e,t,i,n=this.zpp_inner.ptr,r=(null==n.wrap&&(r=n.x,e=n.y,null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=r,i.y=e,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==r&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==e)||(t.zpp_inner.x=r,t.zpp_inner.y=e,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=!1,n.wrap=t,n.wrap.zpp_inner._inuse=!0,n.wrap.zpp_inner._invalidate=Z(n,n.modwrap),n.wrap.zpp_inner._validate=Z(n,n.getwrap)),n.wrap);return this.zpp_inner.ptr=this.zpp_inner.forward?this.zpp_inner.ptr.next:this.zpp_inner.ptr.prev,r},Y.prototype.__class__=Y,nape.geom.MarchingSquares=function(){}),K=(e.__name__=["nape","geom","MarchingSquares"],e.run=function(e,t,i,n,r,o,a){null==o&&(o=!0),null==n&&(n=2);var s=null!=a?a:new xi;if(null==r){var a=t.zpp_inner,a=(null!=a._validate&&a._validate(),t.zpp_inner.minx),p=t.zpp_inner,p=(null!=p._validate&&p._validate(),t.zpp_inner.miny),l=t.zpp_inner.getmax(),h=l.zpp_inner,h=(null!=h._validate&&h._validate(),l.zpp_inner.x),l=t.zpp_inner.getmax(),u=l.zpp_inner;null!=u._validate&&u._validate(),Ki.run(e,a,p,h,l.zpp_inner.y,i,n,o,s)}else for(var u=t.zpp_inner,a=(null!=u._validate&&u._validate(),t.zpp_inner),p=a.maxx-a.minx,h=r.zpp_inner,l=(null!=h._validate&&h._validate(),p/r.zpp_inner.x),u=t.zpp_inner,a=(null!=u._validate&&u._validate(),t.zpp_inner),h=a.maxy-a.miny,p=r.zpp_inner,u=(null!=p._validate&&p._validate(),h/r.zpp_inner.y),d=0|l,c=0|u,m=(d!=l&&++d,c!=u&&++c,0),y=d;m<y;)for(var _=m++,x=t.zpp_inner,x=(null!=x._validate&&x._validate(),t.zpp_inner.minx),f=r.zpp_inner,g=(null!=f._validate&&f._validate(),x+r.zpp_inner.x*_),v=_==d-1?(null!=(x=(f=t.zpp_inner.getmax()).zpp_inner)._validate&&x._validate(),f.zpp_inner.x):(null!=(_=r.zpp_inner)._validate&&_._validate(),g+r.zpp_inner.x),z=0,b=c;z<b;){var w=z++,S=t.zpp_inner,S=(null!=S._validate&&S._validate(),t.zpp_inner.miny),C=r.zpp_inner,C=(null!=C._validate&&C._validate(),S+r.zpp_inner.y*w),S=w==c-1?(null!=(w=(S=t.zpp_inner.getmax()).zpp_inner)._validate&&w._validate(),S.zpp_inner.y):(null!=(w=r.zpp_inner)._validate&&w._validate(),C+r.zpp_inner.y);Ki.run(e,g,C,v,S,i,n,o,s)}return i.zpp_inner.weak&&(a=i.zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null),a._isimmutable=null,a._validate=null,a._invalidate=null,a.next=cr.zpp_pool,cr.zpp_pool=a),null!=r&&r.zpp_inner.weak&&(p=r.zpp_inner,r.zpp_inner.outer=null,r.zpp_inner=null,r.zpp_pool=yi.poolVec2,yi.poolVec2=r,null!=p.outer&&(p.outer.zpp_inner=null,p.outer=null),p._isimmutable=null,p._validate=null,p._invalidate=null,p.next=cr.zpp_pool,cr.zpp_pool=p),s},e.prototype.__class__=e,nape.geom.Mat23=function(e,t,i,n,r,o){null==o&&(o=0),null==r&&(r=0),null==n&&(n=1),null==i&&(i=0),null==t&&(t=0),null==e&&(e=1),this.zpp_inner=null,this.zpp_inner=Gt.get(),(this.zpp_inner.outer=this).zpp_inner.a=e;e=this.zpp_inner,null!=e._invalidate&&e._invalidate(),this.zpp_inner.b=t,e=this.zpp_inner,null!=e._invalidate&&e._invalidate(),this.zpp_inner.tx=r,t=this.zpp_inner,null!=t._invalidate&&t._invalidate(),this.zpp_inner.c=i,e=this.zpp_inner,null!=e._invalidate&&e._invalidate(),this.zpp_inner.d=n,r=this.zpp_inner,null!=r._invalidate&&r._invalidate(),this.zpp_inner.ty=o,t=this.zpp_inner;null!=t._invalidate&&t._invalidate()}),J=(K.__name__=["nape","geom","Mat23"],K.rotation=function(e){var t=Math.cos(e),e=Math.sin(e);return new K(t,-e,e,t,0,0)},K.translation=function(e,t){return new K(1,0,0,1,e,t)},K.scale=function(e,t){return new K(e,0,0,t,0,0)},K.prototype.zpp_inner=null,K.prototype.get_a=function(){return this.zpp_inner.a},K.prototype.set_a=function(e){this.zpp_inner.a=e;e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this.zpp_inner.a},K.prototype.get_b=function(){return this.zpp_inner.b},K.prototype.set_b=function(e){this.zpp_inner.b=e;e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this.zpp_inner.b},K.prototype.get_c=function(){return this.zpp_inner.c},K.prototype.set_c=function(e){this.zpp_inner.c=e;e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this.zpp_inner.c},K.prototype.get_d=function(){return this.zpp_inner.d},K.prototype.set_d=function(e){this.zpp_inner.d=e;e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this.zpp_inner.d},K.prototype.get_tx=function(){return this.zpp_inner.tx},K.prototype.set_tx=function(e){this.zpp_inner.tx=e;e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this.zpp_inner.tx},K.prototype.get_ty=function(){return this.zpp_inner.ty},K.prototype.set_ty=function(e){this.zpp_inner.ty=e;e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this.zpp_inner.ty},K.prototype.copy=function(){return new K(this.zpp_inner.a,this.zpp_inner.b,this.zpp_inner.c,this.zpp_inner.d,this.zpp_inner.tx,this.zpp_inner.ty)},K.prototype.set=function(e){e=e.zpp_inner,this.zpp_inner.setas(e.a,e.b,e.c,e.d,e.tx,e.ty),e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this},K.prototype.setAs=function(e,t,i,n,r,o){this.zpp_inner.setas(e=null==e?1:e,t=null==t?0:t,i=null==i?0:i,n=null==n?1:n,r=null==r?0:r,o=null==o?0:o);e=this.zpp_inner;return null!=e._invalidate&&e._invalidate(),this},K.prototype.reset=function(){return this.setAs()},K.prototype.get_determinant=function(){return this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c},K.prototype.singular=function(){var e=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d,t=this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c;return ur.illConditionedThreshold*(t=t<0?-t:t)<e},K.prototype.inverse=function(){var e=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c);return new K(this.zpp_inner.d*e,-this.zpp_inner.b*e,-this.zpp_inner.c*e,this.zpp_inner.a*e,(this.zpp_inner.b*this.zpp_inner.ty-this.zpp_inner.d*this.zpp_inner.tx)*e,(this.zpp_inner.c*this.zpp_inner.tx-this.zpp_inner.a*this.zpp_inner.ty)*e)},K.prototype.transpose=function(){return new K(this.zpp_inner.a,this.zpp_inner.c,this.zpp_inner.b,this.zpp_inner.d,-this.zpp_inner.a*this.zpp_inner.tx-this.zpp_inner.c*this.zpp_inner.ty,-this.zpp_inner.b*this.zpp_inner.tx-this.zpp_inner.d*this.zpp_inner.ty)},K.prototype.concat=function(e){return new K(e.zpp_inner.a*this.zpp_inner.a+e.zpp_inner.b*this.zpp_inner.c,e.zpp_inner.a*this.zpp_inner.b+e.zpp_inner.b*this.zpp_inner.d,e.zpp_inner.c*this.zpp_inner.a+e.zpp_inner.d*this.zpp_inner.c,e.zpp_inner.c*this.zpp_inner.b+e.zpp_inner.d*this.zpp_inner.d,e.zpp_inner.a*this.zpp_inner.tx+e.zpp_inner.b*this.zpp_inner.ty+e.zpp_inner.tx,e.zpp_inner.c*this.zpp_inner.tx+e.zpp_inner.d*this.zpp_inner.ty+e.zpp_inner.ty)},K.prototype.transform=function(e,t,i){var n,r,o,a,s,p;return null==i&&(i=!1),o=(t=null==t?!1:t)?(null!=(t=e.zpp_inner)._validate&&t._validate(),t=e.zpp_inner.x*this.zpp_inner.a,null!=(n=e.zpp_inner)._validate&&n._validate(),n=t+e.zpp_inner.y*this.zpp_inner.b,null!=(t=e.zpp_inner)._validate&&t._validate(),t=e.zpp_inner.x*this.zpp_inner.c,null!=(a=e.zpp_inner)._validate&&a._validate(),a=t+e.zpp_inner.y*this.zpp_inner.d,null==yi.poolVec2?p=new xe:(p=yi.poolVec2,yi.poolVec2=p.zpp_pool,p.zpp_pool=null),null==p.zpp_inner?(null==cr.zpp_pool?s=new cr:(s=cr.zpp_pool,cr.zpp_pool=s.next,s.next=null),s.weak=!1,s._immutable=!1,s.x=n,s.y=a,p.zpp_inner=s,p.zpp_inner.outer=p):(null!=(t=p.zpp_inner)._validate&&t._validate(),p.zpp_inner.x==n&&(null!=(s=p.zpp_inner)._validate&&s._validate(),p.zpp_inner.y==a)||(p.zpp_inner.x=n,p.zpp_inner.y=a,null!=(t=p.zpp_inner)._invalidate&&t._invalidate(t))),p.zpp_inner.weak=i,p):(null!=(s=e.zpp_inner)._validate&&s._validate(),n=e.zpp_inner.x*this.zpp_inner.a,null!=(a=e.zpp_inner)._validate&&a._validate(),t=n+e.zpp_inner.y*this.zpp_inner.b+this.zpp_inner.tx,null!=(p=e.zpp_inner)._validate&&p._validate(),s=e.zpp_inner.x*this.zpp_inner.c,null!=(a=e.zpp_inner)._validate&&a._validate(),n=s+e.zpp_inner.y*this.zpp_inner.d+this.zpp_inner.ty,null==yi.poolVec2?r=new xe:(r=yi.poolVec2,yi.poolVec2=r.zpp_pool,r.zpp_pool=null),null==r.zpp_inner?(null==cr.zpp_pool?o=new cr:(o=cr.zpp_pool,cr.zpp_pool=o.next,o.next=null),o.weak=!1,o._immutable=!1,o.x=t,o.y=n,r.zpp_inner=o,r.zpp_inner.outer=r):(null!=(p=r.zpp_inner)._validate&&p._validate(),r.zpp_inner.x==t&&(null!=(a=r.zpp_inner)._validate&&a._validate(),r.zpp_inner.y==n)||(r.zpp_inner.x=t,r.zpp_inner.y=n,null!=(s=r.zpp_inner)._invalidate&&s._invalidate(s))),r.zpp_inner.weak=i,r),e.zpp_inner.weak&&(p=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=p.outer&&(p.outer.zpp_inner=null,p.outer=null),p._isimmutable=null,p._validate=null,p._invalidate=null,p.next=cr.zpp_pool,cr.zpp_pool=p),o},K.prototype.inverseTransform=function(e,t,i){null==i&&(i=!1);var n,r,o,a,s,p,l=1/(this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c),l=(t=null==t?!1:t)?(null!=(t=e.zpp_inner)._validate&&t._validate(),t=e.zpp_inner.x*this.zpp_inner.d,null!=(s=e.zpp_inner)._validate&&s._validate(),s=(t-e.zpp_inner.y*this.zpp_inner.b)*l,null!=(t=e.zpp_inner)._validate&&t._validate(),t=e.zpp_inner.y*this.zpp_inner.a,null!=(a=e.zpp_inner)._validate&&a._validate(),a=(t-e.zpp_inner.x*this.zpp_inner.c)*l,null==yi.poolVec2?n=new xe:(n=yi.poolVec2,yi.poolVec2=n.zpp_pool,n.zpp_pool=null),null==n.zpp_inner?(null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=s,r.y=a,n.zpp_inner=r,n.zpp_inner.outer=n):(null!=(t=n.zpp_inner)._validate&&t._validate(),n.zpp_inner.x==s&&(null!=(r=n.zpp_inner)._validate&&r._validate(),n.zpp_inner.y==a)||(n.zpp_inner.x=s,n.zpp_inner.y=a,null!=(t=n.zpp_inner)._invalidate&&t._invalidate(t))),n.zpp_inner.weak=i,n):(null!=(r=e.zpp_inner)._validate&&r._validate(),s=e.zpp_inner.x-this.zpp_inner.tx,null!=(a=e.zpp_inner)._validate&&a._validate(),t=e.zpp_inner.y-this.zpp_inner.ty,n=(s*this.zpp_inner.d-t*this.zpp_inner.b)*l,r=(t*this.zpp_inner.a-s*this.zpp_inner.c)*l,null==yi.poolVec2?o=new xe:(o=yi.poolVec2,yi.poolVec2=o.zpp_pool,o.zpp_pool=null),null==o.zpp_inner?(null==cr.zpp_pool?p=new cr:(p=cr.zpp_pool,cr.zpp_pool=p.next,p.next=null),p.weak=!1,p._immutable=!1,p.x=n,p.y=r,o.zpp_inner=p,o.zpp_inner.outer=o):(null!=(a=o.zpp_inner)._validate&&a._validate(),o.zpp_inner.x==n&&(null!=(t=o.zpp_inner)._validate&&t._validate(),o.zpp_inner.y==r)||(o.zpp_inner.x=n,o.zpp_inner.y=r,null!=(s=o.zpp_inner)._invalidate&&s._invalidate(s))),o.zpp_inner.weak=i,o);return e.zpp_inner.weak&&(p=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=p.outer&&(p.outer.zpp_inner=null,p.outer=null),p._isimmutable=null,p._validate=null,p._invalidate=null,p.next=cr.zpp_pool,cr.zpp_pool=p),l},K.prototype.toString=function(){return"{ a: "+this.zpp_inner.a+" b: "+this.zpp_inner.b+" c: "+this.zpp_inner.c+" d: "+this.zpp_inner.d+" tx: "+this.zpp_inner.tx+" ty: "+this.zpp_inner.ty+" }"},K.prototype.equiorthogonal=function(){var e;return!this.singular()&&((e=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d)*e<ur.epsilon&&(e=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b-this.zpp_inner.c*this.zpp_inner.c-this.zpp_inner.d*this.zpp_inner.d)*e<ur.epsilon)},K.prototype.orthogonal=function(){var e,t=this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d;return t*t<ur.epsilon&&(t=this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.b*this.zpp_inner.b-1,e=this.zpp_inner.c*this.zpp_inner.c+this.zpp_inner.d*this.zpp_inner.d-1,t*t<ur.epsilon&&e*e<ur.epsilon)},K.prototype.equiorthogonalise=function(){var e,t,i,n,r;return this.equiorthogonal()||(e=(i=((t=Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c))+(e=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d)))/2)/e,this.zpp_inner.a=this.zpp_inner.a*(t=i/t),null!=(r=this.zpp_inner)._invalidate&&r._invalidate(),this.zpp_inner.c=this.zpp_inner.c*t,null!=(r=this.zpp_inner)._invalidate&&r._invalidate(),this.zpp_inner.b=this.zpp_inner.b*e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(),this.zpp_inner.d=this.zpp_inner.d*e,null!=(r=this.zpp_inner)._invalidate&&r._invalidate(),t=.25*Math.PI-.5*Math.acos((this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d)/(i*i)),0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(t=-t),e=Math.sin(t),r=Math.cos(t),i=this.zpp_inner.a*r-this.zpp_inner.c*e,t=this.zpp_inner.b*r+this.zpp_inner.d*e,this.zpp_inner.c=this.zpp_inner.c*r+this.zpp_inner.a*e,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(),this.zpp_inner.a=i,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(),this.zpp_inner.d=this.zpp_inner.d*r-this.zpp_inner.b*e,null!=(i=this.zpp_inner)._invalidate&&i._invalidate(),this.zpp_inner.b=t,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(),null!=(r=this.zpp_inner)._invalidate&&r._invalidate()),this},K.prototype.orthogonalise=function(){var e,t,i,n,r;return this.orthogonal()||(i=Math.sqrt(this.zpp_inner.a*this.zpp_inner.a+this.zpp_inner.c*this.zpp_inner.c),e=1/(e=Math.sqrt(this.zpp_inner.b*this.zpp_inner.b+this.zpp_inner.d*this.zpp_inner.d)),this.zpp_inner.a=this.zpp_inner.a*(i=1/i),null!=(r=this.zpp_inner)._invalidate&&r._invalidate(),this.zpp_inner.c=this.zpp_inner.c*i,null!=(r=this.zpp_inner)._invalidate&&r._invalidate(),this.zpp_inner.b=this.zpp_inner.b*e,null!=(i=this.zpp_inner)._invalidate&&i._invalidate(),this.zpp_inner.d=this.zpp_inner.d*e,null!=(r=this.zpp_inner)._invalidate&&r._invalidate(),i=.25*Math.PI-.5*Math.acos(this.zpp_inner.a*this.zpp_inner.b+this.zpp_inner.c*this.zpp_inner.d),0<this.zpp_inner.a*this.zpp_inner.d-this.zpp_inner.b*this.zpp_inner.c&&(i=-i),e=Math.sin(i),r=Math.cos(i),i=this.zpp_inner.a*r-this.zpp_inner.c*e,t=this.zpp_inner.b*r+this.zpp_inner.d*e,this.zpp_inner.c=this.zpp_inner.c*r+this.zpp_inner.a*e,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(),this.zpp_inner.a=i,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(),this.zpp_inner.d=this.zpp_inner.d*r-this.zpp_inner.b*e,null!=(i=this.zpp_inner)._invalidate&&i._invalidate(),this.zpp_inner.b=t,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(),null!=(r=this.zpp_inner)._invalidate&&r._invalidate()),this},Object.defineProperty(K.prototype,"a",{get:K.prototype.get_a,set:K.prototype.set_a}),Object.defineProperty(K.prototype,"b",{get:K.prototype.get_b,set:K.prototype.set_b}),Object.defineProperty(K.prototype,"c",{get:K.prototype.get_c,set:K.prototype.set_c}),Object.defineProperty(K.prototype,"d",{get:K.prototype.get_d,set:K.prototype.set_d}),Object.defineProperty(K.prototype,"tx",{get:K.prototype.get_tx,set:K.prototype.set_tx}),Object.defineProperty(K.prototype,"ty",{get:K.prototype.get_ty,set:K.prototype.set_ty}),Object.defineProperty(K.prototype,"determinant",{get:K.prototype.get_determinant}),K.prototype.__class__=K,nape.geom.MatMN=function(e,t){this.zpp_inner=null,this.zpp_inner=new At(e,t),this.zpp_inner.outer=this}),Q=(J.__name__=["nape","geom","MatMN"],J.prototype.zpp_inner=null,J.prototype.get_rows=function(){return this.zpp_inner.m},J.prototype.get_cols=function(){return this.zpp_inner.n},J.prototype.x=function(e,t){return this.zpp_inner.x[e*this.zpp_inner.n+t]},J.prototype.setx=function(e,t,i){return this.zpp_inner.x[e*this.zpp_inner.n+t]=i},J.prototype.toString=function(){for(var e="{ ",t=!0,i=0,n=this.zpp_inner.m;i<n;)for(var r=i++,o=(t||(e+="; "),t=!1,0),a=this.zpp_inner.n;o<a;)e+=this.zpp_inner.x[r*this.zpp_inner.n+o++]+" ";return e+="}"},J.prototype.transpose=function(){for(var e=new J(this.zpp_inner.n,this.zpp_inner.m),t=0,i=this.zpp_inner.m;t<i;)for(var n=t++,r=0,o=this.zpp_inner.n;r<o;){var a=r++;e.zpp_inner.x[a*e.zpp_inner.n+n]=this.zpp_inner.x[n*this.zpp_inner.n+a]}return e},J.prototype.mul=function(e){for(var t=new J(this.zpp_inner.m,e.zpp_inner.n),i=0,n=this.zpp_inner.m;i<n;)for(var r=i++,o=0,a=e.zpp_inner.n;o<a;){for(var s=o++,p=0,l=0,h=this.zpp_inner.n;l<h;){var u=l++;p+=this.zpp_inner.x[r*this.zpp_inner.n+u]*e.zpp_inner.x[u*e.zpp_inner.n+s]}t.zpp_inner.x[r*t.zpp_inner.n+s]=p}return t},Object.defineProperty(J.prototype,"rows",{get:J.prototype.get_rows}),Object.defineProperty(J.prototype,"cols",{get:J.prototype.get_cols}),J.prototype.__class__=J,nape.geom.Ray=function(e,t){this.zpp_inner=null,this.zpp_inner=new Lt;var i=this.zpp_inner.origin,n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.x),r=e.zpp_inner,r=(null!=r._validate&&r._validate(),e.zpp_inner.y),o=i.zpp_inner,r=(null!=o._validate&&o._validate(),i.zpp_inner.x==n&&(null!=(o=i.zpp_inner)._validate&&o._validate(),i.zpp_inner.y==r)||(i.zpp_inner.x=n,i.zpp_inner.y=r,null!=(o=i.zpp_inner)._invalidate&&o._invalidate(o)),e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),this.zpp_inner.direction),i=t.zpp_inner,o=(null!=i._validate&&i._validate(),t.zpp_inner.x),e=t.zpp_inner,n=(null!=e._validate&&e._validate(),t.zpp_inner.y),i=r.zpp_inner;null!=i._validate&&i._validate(),r.zpp_inner.x==o&&(null!=(e=r.zpp_inner)._validate&&e._validate(),r.zpp_inner.y==n)||(r.zpp_inner.x=o,r.zpp_inner.y=n,null!=(i=r.zpp_inner)._invalidate&&i._invalidate(i)),t.zpp_inner.weak&&(e=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e),this.zpp_inner.zip_dir=!0,this.zpp_inner.maxdist=1/0}),$=(Q.__name__=["nape","geom","Ray"],Q.fromSegment=function(e,t){var i=new Q(e,t.sub(e,!0)),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.x),r=e.zpp_inner,r=(null!=r._validate&&r._validate(),e.zpp_inner.y),o=t.zpp_inner,o=(null!=o._validate&&o._validate(),t.zpp_inner.x),a=t.zpp_inner;null!=a._validate&&a._validate();a=n-o,n=r-t.zpp_inner.y;return i.zpp_inner.maxdist=Math.sqrt(a*a+n*n),e.zpp_inner.weak&&(o=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o),t.zpp_inner.weak&&(r=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),i},Q.prototype.zpp_inner=null,Q.prototype.get_userData=function(){return null==this.zpp_inner.userData&&(this.zpp_inner.userData={}),this.zpp_inner.userData},Q.prototype.get_origin=function(){return this.zpp_inner.origin},Q.prototype.set_origin=function(e){var t=this.zpp_inner.origin,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this.zpp_inner.origin},Q.prototype.get_direction=function(){return this.zpp_inner.direction},Q.prototype.set_direction=function(e){var t=this.zpp_inner.direction,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this.zpp_inner.zip_dir=!0,this.zpp_inner.direction},Q.prototype.get_maxDistance=function(){return this.zpp_inner.maxdist},Q.prototype.set_maxDistance=function(e){return this.zpp_inner.maxdist=e,this.zpp_inner.maxdist},Q.prototype.aabb=function(){return this.zpp_inner.rayAABB().wrapper()},Q.prototype.at=function(e,t){null==t&&(t=!1),this.zpp_inner.validate_dir();var i,n,r=this.zpp_inner.origin,o=r.zpp_inner,o=(null!=o._validate&&o._validate(),r.zpp_inner.x+e*this.zpp_inner.dirx),r=this.zpp_inner.origin,a=r.zpp_inner,a=(null!=a._validate&&a._validate(),r.zpp_inner.y+e*this.zpp_inner.diry);return null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=o,n.y=a,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(r=i.zpp_inner)._validate&&r._validate(),i.zpp_inner.x==o&&(null!=(e=i.zpp_inner)._validate&&e._validate(),i.zpp_inner.y==a)||(i.zpp_inner.x=o,i.zpp_inner.y=a,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=t,i},Q.prototype.copy=function(){var e=new Q(this.zpp_inner.origin,this.zpp_inner.direction);return e.zpp_inner.maxdist=this.zpp_inner.maxdist,e},Object.defineProperty(Q.prototype,"userData",{get:Q.prototype.get_userData}),Object.defineProperty(Q.prototype,"origin",{get:Q.prototype.get_origin,set:Q.prototype.set_origin}),Object.defineProperty(Q.prototype,"direction",{get:Q.prototype.get_direction,set:Q.prototype.set_direction}),Object.defineProperty(Q.prototype,"maxDistance",{get:Q.prototype.get_maxDistance,set:Q.prototype.set_maxDistance}),Q.prototype.__class__=Q,nape.geom.RayResult=function(){this.zpp_inner=null}),rt=($.__name__=["nape","geom","RayResult"],$.prototype.zpp_inner=null,$.prototype.get_normal=function(){return this.zpp_inner.normal},$.prototype.get_distance=function(){return this.zpp_inner.toiDistance},$.prototype.get_inner=function(){return this.zpp_inner.inner},$.prototype.get_shape=function(){return this.zpp_inner.shape},$.prototype.dispose=function(){this.zpp_inner.free()},$.prototype.toString=function(){return"{ shape: "+p.string(this.zpp_inner.shape)+" distance: "+this.zpp_inner.toiDistance+" ?inner: "+p.string(this.zpp_inner.inner)+" }"},Object.defineProperty($.prototype,"normal",{get:$.prototype.get_normal}),Object.defineProperty($.prototype,"distance",{get:$.prototype.get_distance}),Object.defineProperty($.prototype,"inner",{get:$.prototype.get_inner}),Object.defineProperty($.prototype,"shape",{get:$.prototype.get_shape}),$.prototype.__class__=$,nape.geom.RayResultIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),ee=(rt.__name__=["nape","geom","RayResultIterator"],rt.get=function(e){var t=null==rt.zpp_pool?(nr.internal=!0,t=new rt,nr.internal=!1,t):(rt.zpp_pool=(t=rt.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},rt.prototype.zpp_inner=null,rt.prototype.zpp_i=null,rt.prototype.zpp_critical=null,rt.prototype.zpp_next=null,rt.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=rt.zpp_pool,(rt.zpp_pool=this).zpp_inner=null,!1)},rt.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},rt.prototype.__class__=rt,nape.geom.RayResultList=function(){this.zpp_inner=null,this.zpp_inner=new nr,this.zpp_inner.outer=this}),xe=(ee.__name__=["nape","geom","RayResultList"],ee.fromArray=function(e){for(var t=new ee,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},ee.prototype.zpp_inner=null,ee.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},ee.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e)},ee.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},ee.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},ee.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e)):this.zpp_inner.inner.add(e),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},ee.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=i=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i},ee.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=i=this.zpp_inner.inner.head.elt,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i},ee.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},ee.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e),this.zpp_inner.invalidate()),t},ee.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},ee.prototype.empty=function(){return null==this.zpp_inner.inner.head},ee.prototype.iterator=function(){return this.zpp_inner.valmod(),rt.get(this)},ee.prototype.copy=function(e){null==e&&(e=!1);for(var t=new ee,i=(this.zpp_inner.valmod(),rt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=rt.zpp_pool,(rt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},ee.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=rt.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=rt.zpp_pool,(rt.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},ee.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),rt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=rt.zpp_pool,(rt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},ee.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=rt.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=rt.zpp_pool,(rt.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=rt.zpp_pool,(rt.zpp_pool=t).zpp_inner=null;break}}return this},ee.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(ee.prototype,"length",{get:ee.prototype.get_length}),ee.prototype.__class__=ee,nape.geom.Vec2=function(e,t){var i;null==t&&(t=0),null==e&&(e=0),this.zpp_pool=null,(this.zpp_inner=null)==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=e,i.y=t,this.zpp_inner=i,this.zpp_inner.outer=this}),ot=(xe.__name__=["nape","geom","Vec2"],xe.weak=function(e,t){var i,n;return null==t&&(t=0),null==e&&(e=0),null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!0,i},xe.get=function(e,t,i){var n,r;return null==i&&(i=!1),null==t&&(t=0),null==e&&(e=0),null==yi.poolVec2?n=new xe:(n=yi.poolVec2,yi.poolVec2=n.zpp_pool,n.zpp_pool=null),null==n.zpp_inner?(null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=e,r.y=t,n.zpp_inner=r,n.zpp_inner.outer=n):(null!=(r=n.zpp_inner)._validate&&r._validate(),n.zpp_inner.x==e&&(null!=(r=n.zpp_inner)._validate&&r._validate(),n.zpp_inner.y==t)||(n.zpp_inner.x=e,n.zpp_inner.y=t,null!=(r=n.zpp_inner)._invalidate&&r._invalidate(r))),n.zpp_inner.weak=i,n},xe.fromPolar=function(e,t,i){null==i&&(i=!1);var n,r,o=e*Math.cos(t),e=e*Math.sin(t);return null==yi.poolVec2?n=new xe:(n=yi.poolVec2,yi.poolVec2=n.zpp_pool,n.zpp_pool=null),null==n.zpp_inner?(null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=o,r.y=e,n.zpp_inner=r,n.zpp_inner.outer=n):(null!=(t=n.zpp_inner)._validate&&t._validate(),n.zpp_inner.x==o&&(null!=(r=n.zpp_inner)._validate&&r._validate(),n.zpp_inner.y==e)||(n.zpp_inner.x=o,n.zpp_inner.y=e,null!=(t=n.zpp_inner)._invalidate&&t._invalidate(t))),n.zpp_inner.weak=i,n},xe.dsq=function(e,t){var i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner,r=(null!=r._validate&&r._validate(),t.zpp_inner.x),o=t.zpp_inner;null!=o._validate&&o._validate();r=(o=i-r)*o+(i=n-t.zpp_inner.y)*i;return e.zpp_inner.weak&&(o=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o),t.zpp_inner.weak&&(n=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),r},xe.distance=function(e,t){var i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner,r=(null!=r._validate&&r._validate(),t.zpp_inner.x),o=t.zpp_inner;null!=o._validate&&o._validate();var o=i-r,i=n-t.zpp_inner.y,r=Math.sqrt(o*o+i*i);return e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),t.zpp_inner.weak&&(o=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o),r},xe.prototype.zpp_inner=null,xe.prototype.zpp_pool=null,xe.prototype.dispose=function(){var e=this.zpp_inner;this.zpp_inner.outer=null,this.zpp_inner=null;this.zpp_pool=yi.poolVec2,yi.poolVec2=this,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e},xe.prototype.copy=function(e){null==e&&(e=!1);var t,i,n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.x),r=this.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.y);return null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=n,i.y=r,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==n&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==r)||(t.zpp_inner.x=n,t.zpp_inner.y=r,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=e,t},xe.prototype.get_x=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.x},xe.prototype.set_x=function(e){var t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.x!=e&&(this.zpp_inner.x=e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),this.zpp_inner);return null!=e._validate&&e._validate(),this.zpp_inner.x},xe.prototype.get_y=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.y},xe.prototype.set_y=function(e){var t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.y!=e&&(this.zpp_inner.y=e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),this.zpp_inner);return null!=e._validate&&e._validate(),this.zpp_inner.y},xe.prototype.get_length=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),e*this.zpp_inner.x),e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.y),i=this.zpp_inner;return null!=i._validate&&i._validate(),Math.sqrt(t+e*this.zpp_inner.y)},xe.prototype.set_length=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),t*this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.y),n=this.zpp_inner,n=(null!=n._validate&&n._validate(),e/Math.sqrt(i+t*this.zpp_inner.y)),e=this.zpp_inner,i=(null!=e._validate&&e._validate(),this.zpp_inner.x*n),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x!=i&&(this.zpp_inner.x=i,null!=(e=this.zpp_inner)._invalidate&&e._invalidate(e)),this.zpp_inner),i=(null!=t._validate&&t._validate(),this.zpp_inner),e=(null!=i._validate&&i._validate(),this.zpp_inner.y*n),t=this.zpp_inner,n=(null!=t._validate&&t._validate(),this.zpp_inner.y!=e&&(this.zpp_inner.y=e,null!=(i=this.zpp_inner)._invalidate&&i._invalidate(i)),this.zpp_inner),t=(null!=n._validate&&n._validate(),this.zpp_inner),e=(null!=t._invalidate&&t._invalidate(t),this.zpp_inner),i=(null!=e._validate&&e._validate(),this.zpp_inner.x),n=this.zpp_inner,t=(null!=n._validate&&n._validate(),i*this.zpp_inner.x),e=this.zpp_inner,n=(null!=e._validate&&e._validate(),this.zpp_inner.y),i=this.zpp_inner;return null!=i._validate&&i._validate(),Math.sqrt(t+n*this.zpp_inner.y)},xe.prototype.lsq=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),e*this.zpp_inner.x),e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.y),i=this.zpp_inner;return null!=i._validate&&i._validate(),t+e*this.zpp_inner.y},xe.prototype.set=function(e){var t=e.zpp_inner,t=(null!=t._validate&&t._validate(),e.zpp_inner.x),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.y),n=this.zpp_inner;null!=n._validate&&n._validate(),this.zpp_inner.x==t&&(null!=(n=this.zpp_inner)._validate&&n._validate(),this.zpp_inner.y==i)||(this.zpp_inner.x=t,this.zpp_inner.y=i,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(n));return e.zpp_inner.weak&&(t=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t),this},xe.prototype.setxy=function(e,t){var i=this.zpp_inner;return null!=i._validate&&i._validate(),this.zpp_inner.x==e&&(null!=(i=this.zpp_inner)._validate&&i._validate(),this.zpp_inner.y==t)||(this.zpp_inner.x=e,this.zpp_inner.y=t,null!=(i=this.zpp_inner)._invalidate&&i._invalidate(i)),this},xe.prototype.get_angle=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.x),t=this.zpp_inner;return null!=t._validate&&t._validate(),e==this.zpp_inner.y&&(null!=(t=this.zpp_inner)._validate&&t._validate(),0==this.zpp_inner.x)?0:(null!=(e=this.zpp_inner)._validate&&e._validate(),t=this.zpp_inner.y,null!=(e=this.zpp_inner)._validate&&e._validate(),Math.atan2(t,this.zpp_inner.x))},xe.prototype.set_angle=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),t*this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.y),n=this.zpp_inner,n=(null!=n._validate&&n._validate(),Math.sqrt(i+t*this.zpp_inner.y)),i=n*Math.cos(e),t=n*Math.sin(e),n=this.zpp_inner,e=(null!=n._validate&&n._validate(),this.zpp_inner.x==i&&(null!=(e=this.zpp_inner)._validate&&e._validate(),this.zpp_inner.y==t)||(this.zpp_inner.x=i,this.zpp_inner.y=t,null!=(n=this.zpp_inner)._invalidate&&n._invalidate(n)),this.zpp_inner),i=(null!=e._validate&&e._validate(),this.zpp_inner.x),t=this.zpp_inner;return null!=t._validate&&t._validate(),i==this.zpp_inner.y&&(null!=(n=this.zpp_inner)._validate&&n._validate(),0==this.zpp_inner.x)?0:(null!=(e=this.zpp_inner)._validate&&e._validate(),t=this.zpp_inner.y,null!=(i=this.zpp_inner)._validate&&i._validate(),Math.atan2(t,this.zpp_inner.x))},xe.prototype.rotate=function(e){var t,i;return e%(2*Math.PI)!=0&&(i=Math.sin(e),t=(e=Math.cos(e))*this.zpp_inner.x-i*this.zpp_inner.y,this.zpp_inner.y=this.zpp_inner.x*i+this.zpp_inner.y*e,this.zpp_inner.x=t,null!=(i=this.zpp_inner)._invalidate&&i._invalidate(i)),this},xe.prototype.reflect=function(e,t){null==t&&(t=!1);var i,n,r=this.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.x),o=this.zpp_inner,o=(null!=o._validate&&o._validate(),this.zpp_inner.y),r=(null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=r,n.y=o,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==r&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==o)||(i.zpp_inner.x=r,i.zpp_inner.y=o,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!0,i.normalise()),o=e.sub(r.muleq(2*r.dot(e)),t);return e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),o},xe.prototype.normalise=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),e*this.zpp_inner.x),e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.y),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),1/Math.sqrt(t+e*this.zpp_inner.y)),t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.x*i),t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.x!=e&&(this.zpp_inner.x=e,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),this.zpp_inner),t=(null!=e._validate&&e._validate(),this.zpp_inner),e=(null!=t._validate&&t._validate(),this.zpp_inner.y*i),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.y!=e&&(this.zpp_inner.y=e,null!=(i=this.zpp_inner)._invalidate&&i._invalidate(i)),this.zpp_inner),e=(null!=t._validate&&t._validate(),this.zpp_inner);return null!=e._invalidate&&e._invalidate(e),this},xe.prototype.unit=function(e){null==e&&(e=!1);var t,i,n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.x),r=this.zpp_inner,r=(null!=r._validate&&r._validate(),n*this.zpp_inner.x),n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.y),o=this.zpp_inner,o=(null!=o._validate&&o._validate(),1/Math.sqrt(r+n*this.zpp_inner.y)),r=this.zpp_inner,n=(null!=r._validate&&r._validate(),this.zpp_inner.x*o),r=this.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.y*o);return null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=n,i.y=r,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(o=t.zpp_inner)._validate&&o._validate(),t.zpp_inner.x==n&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==r)||(t.zpp_inner.x=n,t.zpp_inner.y=r,null!=(o=t.zpp_inner)._invalidate&&o._invalidate(o))),t.zpp_inner.weak=e,t},xe.prototype.add=function(e,t){null==t&&(t=!1);var i,n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.x),r=e.zpp_inner,r=(null!=r._validate&&r._validate(),n+e.zpp_inner.x),n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.y),o=e.zpp_inner,o=(null!=o._validate&&o._validate(),n+e.zpp_inner.y),a=(null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?a=new cr:(a=cr.zpp_pool,cr.zpp_pool=a.next,a.next=null),a.weak=!1,a._immutable=!1,a.x=r,a.y=o,i.zpp_inner=a,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==r&&(null!=(a=i.zpp_inner)._validate&&a._validate(),i.zpp_inner.y==o)||(i.zpp_inner.x=r,i.zpp_inner.y=o,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=t,i);return e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),a},xe.prototype.addMul=function(e,t,i){null==i&&(i=!1);var n,r,o=this.zpp_inner,o=(null!=o._validate&&o._validate(),this.zpp_inner.x),a=e.zpp_inner,a=(null!=a._validate&&a._validate(),o+e.zpp_inner.x*t),o=this.zpp_inner,o=(null!=o._validate&&o._validate(),this.zpp_inner.y),s=e.zpp_inner,s=(null!=s._validate&&s._validate(),o+e.zpp_inner.y*t),o=(null==yi.poolVec2?n=new xe:(n=yi.poolVec2,yi.poolVec2=n.zpp_pool,n.zpp_pool=null),null==n.zpp_inner?(null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=a,r.y=s,n.zpp_inner=r,n.zpp_inner.outer=n):(null!=(o=n.zpp_inner)._validate&&o._validate(),n.zpp_inner.x==a&&(null!=(t=n.zpp_inner)._validate&&t._validate(),n.zpp_inner.y==s)||(n.zpp_inner.x=a,n.zpp_inner.y=s,null!=(r=n.zpp_inner)._invalidate&&r._invalidate(r))),n.zpp_inner.weak=i,n);return e.zpp_inner.weak&&(t=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t),o},xe.prototype.sub=function(e,t){null==t&&(t=!1);var i,n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.x),r=e.zpp_inner,r=(null!=r._validate&&r._validate(),n-e.zpp_inner.x),n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.y),o=e.zpp_inner,o=(null!=o._validate&&o._validate(),n-e.zpp_inner.y),a=(null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?a=new cr:(a=cr.zpp_pool,cr.zpp_pool=a.next,a.next=null),a.weak=!1,a._immutable=!1,a.x=r,a.y=o,i.zpp_inner=a,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==r&&(null!=(a=i.zpp_inner)._validate&&a._validate(),i.zpp_inner.y==o)||(i.zpp_inner.x=r,i.zpp_inner.y=o,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=t,i);return e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),a},xe.prototype.mul=function(e,t){null==t&&(t=!1);var i,n,r=this.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.x*e),o=this.zpp_inner,o=(null!=o._validate&&o._validate(),this.zpp_inner.y*e);return null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=r,n.y=o,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(e=i.zpp_inner)._validate&&e._validate(),i.zpp_inner.x==r&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==o)||(i.zpp_inner.x=r,i.zpp_inner.y=o,null!=(e=i.zpp_inner)._invalidate&&e._invalidate(e))),i.zpp_inner.weak=t,i},xe.prototype.addeq=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),t+e.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.y),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),t+e.zpp_inner.y),t=this.zpp_inner;return null!=t._validate&&t._validate(),this.zpp_inner.x==i&&(null!=(t=this.zpp_inner)._validate&&t._validate(),this.zpp_inner.y==n)||(this.zpp_inner.x=i,this.zpp_inner.y=n,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this},xe.prototype.subeq=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),t-e.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.y),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),t-e.zpp_inner.y),t=this.zpp_inner;return null!=t._validate&&t._validate(),this.zpp_inner.x==i&&(null!=(t=this.zpp_inner)._validate&&t._validate(),this.zpp_inner.y==n)||(this.zpp_inner.x=i,this.zpp_inner.y=n,null!=(t=this.zpp_inner)._invalidate&&t._invalidate(t)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this},xe.prototype.muleq=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x*e),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),this.zpp_inner.y*e),e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.x==t&&(null!=(e=this.zpp_inner)._validate&&e._validate(),this.zpp_inner.y==i)||(this.zpp_inner.x=t,this.zpp_inner.y=i,null!=(e=this.zpp_inner)._invalidate&&e._invalidate(e)),this},xe.prototype.dot=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),t*e.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.y),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),i+t*e.zpp_inner.y);return e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),n},xe.prototype.cross=function(e){var t=e.zpp_inner,t=(null!=t._validate&&t._validate(),e.zpp_inner.y),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),t*this.zpp_inner.x),t=e.zpp_inner,t=(null!=t._validate&&t._validate(),e.zpp_inner.x),n=this.zpp_inner,n=(null!=n._validate&&n._validate(),i-t*this.zpp_inner.y);return e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),n},xe.prototype.perp=function(e){null==e&&(e=!1);var t,i,n=this.zpp_inner,n=(null!=n._validate&&n._validate(),-this.zpp_inner.y),r=this.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.x);return null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=n,i.y=r,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==n&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==r)||(t.zpp_inner.x=n,t.zpp_inner.y=r,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=e,t},xe.prototype.toString=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.toString()},Object.defineProperty(xe.prototype,"x",{get:xe.prototype.get_x,set:xe.prototype.set_x}),Object.defineProperty(xe.prototype,"y",{get:xe.prototype.get_y,set:xe.prototype.set_y}),Object.defineProperty(xe.prototype,"length",{get:xe.prototype.get_length,set:xe.prototype.set_length}),Object.defineProperty(xe.prototype,"angle",{get:xe.prototype.get_angle,set:xe.prototype.set_angle}),xe.prototype.__class__=xe,nape.geom.Vec2Iterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),te=(ot.__name__=["nape","geom","Vec2Iterator"],ot.get=function(e){var t=null==ot.zpp_pool?(tr.internal=!0,t=new ot,tr.internal=!1,t):(t=ot.zpp_pool,ot.zpp_pool=t.zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},ot.prototype.zpp_inner=null,ot.prototype.zpp_i=null,ot.prototype.zpp_critical=null,ot.prototype.zpp_next=null,ot.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner.zpp_gl();return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=ot.zpp_pool,(ot.zpp_pool=this).zpp_inner=null,!1)},ot.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},ot.prototype.__class__=ot,nape.geom.Vec2List=function(){this.zpp_inner=null,this.zpp_inner=new tr,this.zpp_inner.outer=this}),d=(te.__name__=["nape","geom","Vec2List"],te.fromArray=function(e){for(var t=new te,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},te.prototype.zpp_inner=null,te.prototype.get_length=function(){return this.zpp_gl()},te.prototype.zpp_gl=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},te.prototype.zpp_vm=function(){this.zpp_inner.valmod()},te.prototype.has=function(e){return this.zpp_vm(),this.zpp_inner.inner.has(e.zpp_inner)},te.prototype.at=function(e){if(this.zpp_vm(),(e=this.zpp_inner.reverse_flag?this.zpp_gl()-1-e:e)<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;var t,i=this.zpp_inner.at_ite.elt;return null==i.outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),i.outer},te.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_vm();var t=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return t&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),t},te.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_vm();var t=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return t&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(this.zpp_inner.push_ite=this.empty()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-1)),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),t},te.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_vm();var e,t,i=null;return this.zpp_inner.reverse_flag?(null==(i=this.zpp_inner.inner.head.elt).outer&&(i.outer=new xe,null!=(e=i.outer.zpp_inner).outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,i.outer.zpp_inner=i),e=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),null==(i=(null==(e=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2))?this.zpp_inner.inner.head:e.next).elt).outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),t=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),null==i.outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),i.outer},te.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_vm();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),null==(i=(null==(e=1==this.zpp_gl()?null:this.zpp_inner.inner.iterator_at(this.zpp_gl()-2))?this.zpp_inner.inner.head:e.next).elt).outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),t=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(null==(i=this.zpp_inner.inner.head.elt).outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),e=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),null==i.outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),i.outer},te.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},te.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_vm(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},te.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},te.prototype.empty=function(){return 0==this.zpp_gl()},te.prototype.iterator=function(){return this.zpp_vm(),ot.get(this)},te.prototype.copy=function(e){null==e&&(e=!1);for(var t=new te,i=this.iterator();;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner.zpp_gl();if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=ot.zpp_pool,(ot.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;var r,o,a,s,n=i.zpp_inner.at(i.zpp_i++),p=e?(null!=(p=n.zpp_inner)._validate&&p._validate(),p=n.zpp_inner.x,null!=(r=n.zpp_inner)._validate&&r._validate(),r=n.zpp_inner.y,null==yi.poolVec2?o=new xe:(o=yi.poolVec2,yi.poolVec2=o.zpp_pool,o.zpp_pool=null),null==o.zpp_inner?(null==cr.zpp_pool?a=new cr:(a=cr.zpp_pool,cr.zpp_pool=a.next,a.next=null),a.weak=!1,a._immutable=!1,a.x=p,a.y=r,o.zpp_inner=a,o.zpp_inner.outer=o):(null!=(s=o.zpp_inner)._validate&&s._validate(),o.zpp_inner.x==p&&(null!=(s=o.zpp_inner)._validate&&s._validate(),o.zpp_inner.y==r)||(o.zpp_inner.x=p,o.zpp_inner.y=r,null!=(s=o.zpp_inner)._invalidate&&s._invalidate(s))),o.zpp_inner.weak=!1,o):n;t.push(p)}return t},te.prototype.merge=function(e){for(var t=e.iterator();;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner.zpp_gl();if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=ot.zpp_pool,(ot.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||this.add(i)}},te.prototype.toString=function(){for(var e="[",t=!0,i=this.iterator();;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner.zpp_gl();if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=ot.zpp_pool,(ot.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},te.prototype.foreach=function(e){for(var t=this.iterator();;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner.zpp_gl();if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=ot.zpp_pool,(ot.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=ot.zpp_pool,(ot.zpp_pool=t).zpp_inner=null;break}}return this},te.prototype.filter=function(e){for(var t=0;t<this.zpp_gl();){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(te.prototype,"length",{get:te.prototype.get_length}),te.prototype.__class__=te,nape.geom.Vec3=function(e,t,i){null==i&&(i=0),null==t&&(t=0),null==e&&(e=0),this.zpp_pool=null,this.zpp_inner=null,this.zpp_inner=new ei,(this.zpp_inner.outer=this).zpp_inner.x=e;e=this.zpp_inner,null!=e._validate&&e._validate(),this.zpp_inner.y=t,e=this.zpp_inner,null!=e._validate&&e._validate(),this.zpp_inner.z=i,t=this.zpp_inner;null!=t._validate&&t._validate()}),ie=(d.__name__=["nape","geom","Vec3"],d.get=function(e,t,i){var n;return null==i&&(i=0),null==t&&(t=0),null==e&&(e=0),null==yi.poolVec3?n=new d:(n=yi.poolVec3,yi.poolVec3=n.zpp_pool,n.zpp_pool=null),n.setxyz(e,t,i),n.zpp_inner.immutable=!1,n.zpp_inner._validate=null,n},d.prototype.zpp_inner=null,d.prototype.zpp_pool=null,d.prototype.get_x=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.x},d.prototype.set_x=function(e){this.zpp_inner.x=e;e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.x},d.prototype.get_y=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.y},d.prototype.set_y=function(e){this.zpp_inner.y=e;e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.y},d.prototype.get_z=function(){var e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.z},d.prototype.set_z=function(e){this.zpp_inner.z=e;e=this.zpp_inner;return null!=e._validate&&e._validate(),this.zpp_inner.z},d.prototype.dispose=function(){this.zpp_pool=yi.poolVec3,yi.poolVec3=this},d.prototype.get_length=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),e*this.zpp_inner.x),e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.y),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),t+e*this.zpp_inner.y),t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.z),t=this.zpp_inner;return null!=t._validate&&t._validate(),Math.sqrt(i+e*this.zpp_inner.z)},d.prototype.set_length=function(e){var t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.x),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),t*this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),this.zpp_inner.y),n=this.zpp_inner,n=(null!=n._validate&&n._validate(),i+t*this.zpp_inner.y),i=this.zpp_inner,t=(null!=i._validate&&i._validate(),this.zpp_inner.z),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),e/Math.sqrt(n+t*this.zpp_inner.z)),e=this.zpp_inner,n=(null!=e._validate&&e._validate(),this.zpp_inner.x=this.zpp_inner.x*i,this.zpp_inner),t=(null!=n._validate&&n._validate(),this.zpp_inner),e=(null!=t._validate&&t._validate(),this.zpp_inner.y=this.zpp_inner.y*i,this.zpp_inner),n=(null!=e._validate&&e._validate(),this.zpp_inner),t=(null!=n._validate&&n._validate(),this.zpp_inner.z=this.zpp_inner.z*i,this.zpp_inner),e=(null!=t._validate&&t._validate(),this.zpp_inner),n=(null!=e._validate&&e._validate(),this.zpp_inner.x),i=this.zpp_inner,t=(null!=i._validate&&i._validate(),n*this.zpp_inner.x),e=this.zpp_inner,i=(null!=e._validate&&e._validate(),this.zpp_inner.y),n=this.zpp_inner,e=(null!=n._validate&&n._validate(),t+i*this.zpp_inner.y),n=this.zpp_inner,t=(null!=n._validate&&n._validate(),this.zpp_inner.z),i=this.zpp_inner;return null!=i._validate&&i._validate(),Math.sqrt(e+t*this.zpp_inner.z)},d.prototype.lsq=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.x),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),e*this.zpp_inner.x),e=this.zpp_inner,e=(null!=e._validate&&e._validate(),this.zpp_inner.y),i=this.zpp_inner,i=(null!=i._validate&&i._validate(),t+e*this.zpp_inner.y),t=this.zpp_inner,e=(null!=t._validate&&t._validate(),this.zpp_inner.z),t=this.zpp_inner;return null!=t._validate&&t._validate(),i+e*this.zpp_inner.z},d.prototype.set=function(e){var t=e.zpp_inner,t=(null!=t._validate&&t._validate(),e.zpp_inner.x),i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.y),n=e.zpp_inner;return null!=n._validate&&n._validate(),this.setxyz(t,i,e.zpp_inner.z)},d.prototype.setxyz=function(e,t,i){this.zpp_inner.x=e;e=this.zpp_inner,null!=e._validate&&e._validate(),this.zpp_inner.y=t,e=this.zpp_inner,null!=e._validate&&e._validate(),this.zpp_inner.z=i,t=this.zpp_inner;return null!=t._validate&&t._validate(),this},d.prototype.xy=function(e){null==e&&(e=!1);var t,i,n=this.zpp_inner,n=(null!=n._validate&&n._validate(),this.zpp_inner.x),r=this.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.y);return null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=n,i.y=r,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x==n&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y==r)||(t.zpp_inner.x=n,t.zpp_inner.y=r,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=e,t},d.prototype.toString=function(){var e=this.zpp_inner,e=(null!=e._validate&&e._validate(),"{ x: "+this.zpp_inner.x+" y: "),t=this.zpp_inner,t=(null!=t._validate&&t._validate(),e+this.zpp_inner.y+" z: "),e=this.zpp_inner;return null!=e._validate&&e._validate(),t+this.zpp_inner.z+" }"},Object.defineProperty(d.prototype,"x",{get:d.prototype.get_x,set:d.prototype.set_x}),Object.defineProperty(d.prototype,"y",{get:d.prototype.get_y,set:d.prototype.set_y}),Object.defineProperty(d.prototype,"z",{get:d.prototype.get_z,set:d.prototype.set_z}),Object.defineProperty(d.prototype,"length",{get:d.prototype.get_length,set:d.prototype.set_length}),d.prototype.__class__=d,nape.geom.Winding=function(){}),ne=(ie.__name__=["nape","geom","Winding"],ie.UNDEFINED=null,ie.get_UNDEFINED=function(){return null==Tn.Winding_UNDEFINED&&(Tn.internal=!0,Tn.Winding_UNDEFINED=new ie,Tn.internal=!1),Tn.Winding_UNDEFINED},ie.CLOCKWISE=null,ie.get_CLOCKWISE=function(){return null==Tn.Winding_CLOCKWISE&&(Tn.internal=!0,Tn.Winding_CLOCKWISE=new ie,Tn.internal=!1),Tn.Winding_CLOCKWISE},ie.ANTICLOCKWISE=null,ie.get_ANTICLOCKWISE=function(){return null==Tn.Winding_ANTICLOCKWISE&&(Tn.internal=!0,Tn.Winding_ANTICLOCKWISE=new ie,Tn.internal=!1),Tn.Winding_ANTICLOCKWISE},ie.prototype.toString=function(){return null==Tn.Winding_UNDEFINED&&(Tn.internal=!0,Tn.Winding_UNDEFINED=new ie,Tn.internal=!1),this==Tn.Winding_UNDEFINED?"UNDEFINED":(null==Tn.Winding_CLOCKWISE&&(Tn.internal=!0,Tn.Winding_CLOCKWISE=new ie,Tn.internal=!1),this==Tn.Winding_CLOCKWISE?"CLOCKWISE":(null==Tn.Winding_ANTICLOCKWISE&&(Tn.internal=!0,Tn.Winding_ANTICLOCKWISE=new ie,Tn.internal=!1),this==Tn.Winding_ANTICLOCKWISE?"ANTICLOCKWISE":""))},Object.defineProperty(ie,"UNDEFINED",{get:ie.get_UNDEFINED}),Object.defineProperty(ie,"CLOCKWISE",{get:ie.get_CLOCKWISE}),Object.defineProperty(ie,"ANTICLOCKWISE",{get:ie.get_ANTICLOCKWISE}),ie.prototype.__class__=ie,nape.phys.Interactor=function(){this.zpp_inner_i=null}),G=(ne.__name__=["nape","phys","Interactor"],ne.prototype.zpp_inner_i=null,ne.prototype.get_id=function(){return this.zpp_inner_i.id},ne.prototype.get_userData=function(){return null==this.zpp_inner_i.userData&&(this.zpp_inner_i.userData={}),this.zpp_inner_i.userData},ne.prototype.isShape=function(){return null!=this.zpp_inner_i.ishape},ne.prototype.isBody=function(){return null!=this.zpp_inner_i.ibody},ne.prototype.isCompound=function(){return null!=this.zpp_inner_i.icompound},ne.prototype.get_castShape=function(){return null!=this.zpp_inner_i.ishape?this.zpp_inner_i.ishape.outer:null},ne.prototype.get_castBody=function(){return null!=this.zpp_inner_i.ibody?this.zpp_inner_i.ibody.outer:null},ne.prototype.get_castCompound=function(){return null!=this.zpp_inner_i.icompound?this.zpp_inner_i.icompound.outer:null},ne.prototype.get_group=function(){return null==this.zpp_inner_i.group?null:this.zpp_inner_i.group.outer},ne.prototype.set_group=function(e){return this.zpp_inner_i.immutable_midstep("Interactor::group"),this.zpp_inner_i.setGroup(null==e?null:e.zpp_inner),null==this.zpp_inner_i.group?null:this.zpp_inner_i.group.outer},ne.prototype.get_cbTypes=function(){return null==this.zpp_inner_i.wrap_cbTypes&&this.zpp_inner_i.setupcbTypes(),this.zpp_inner_i.wrap_cbTypes},ne.prototype.toString=function(){return""},Object.defineProperty(ne.prototype,"id",{get:ne.prototype.get_id}),Object.defineProperty(ne.prototype,"userData",{get:ne.prototype.get_userData}),Object.defineProperty(ne.prototype,"castShape",{get:ne.prototype.get_castShape}),Object.defineProperty(ne.prototype,"castBody",{get:ne.prototype.get_castBody}),Object.defineProperty(ne.prototype,"castCompound",{get:ne.prototype.get_castCompound}),Object.defineProperty(ne.prototype,"group",{get:ne.prototype.get_group,set:ne.prototype.set_group}),Object.defineProperty(ne.prototype,"cbTypes",{get:ne.prototype.get_cbTypes}),ne.prototype.__class__=ne,nape.phys.Body=function(e,t){var i;this.debugDraw=!0,this.zpp_inner=null,ne.call(this),this.zpp_inner=new h,((this.zpp_inner.outer=this).zpp_inner.outer_i=this).zpp_inner_i=this.zpp_inner,null!=t?(null!=(i=t.zpp_inner)._validate&&i._validate(),this.zpp_inner.posx=t.zpp_inner.x,null!=(i=t.zpp_inner)._validate&&i._validate(),this.zpp_inner.posy=t.zpp_inner.y):(this.zpp_inner.posx=0,this.zpp_inner.posy=0),i=null==e?(null==Tn.BodyType_DYNAMIC&&(Tn.internal=!0,Tn.BodyType_DYNAMIC=new oe,Tn.internal=!1),Tn.BodyType_DYNAMIC):e,this.zpp_inner.immutable_midstep("Body::type"),h.types[this.zpp_inner.type]!=i&&(null==Tn.BodyType_DYNAMIC&&(Tn.internal=!0,Tn.BodyType_DYNAMIC=new oe,Tn.internal=!1),1==(e=i==Tn.BodyType_DYNAMIC?2:(null==Tn.BodyType_KINEMATIC&&(Tn.internal=!0,Tn.BodyType_KINEMATIC=new oe,Tn.internal=!1),i==Tn.BodyType_KINEMATIC?3:1))&&null!=this.zpp_inner.space&&(this.zpp_inner.velx=0,this.zpp_inner.vely=0,this.zpp_inner.angvel=0),this.zpp_inner.invalidate_type(),null!=this.zpp_inner.space?this.zpp_inner.space.transmitType(this.zpp_inner,e):this.zpp_inner.type=e),null!=t&&t.zpp_inner.weak&&(i=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this.zpp_inner_i.insert_cbtype(Ie.ANY_BODY.zpp_inner)}),at=(G.__name__=["nape","phys","Body"],G.__super__=ne,(G.prototype=Object.create(ne.prototype)).zpp_inner=null,G.prototype.debugDraw=null,G.prototype.get_type=function(){return h.types[this.zpp_inner.type]},G.prototype.set_type=function(e){return this.zpp_inner.immutable_midstep("Body::type"),h.types[this.zpp_inner.type]!=e&&(null==Tn.BodyType_DYNAMIC&&(Tn.internal=!0,Tn.BodyType_DYNAMIC=new oe,Tn.internal=!1),1==(e=e==Tn.BodyType_DYNAMIC?2:(null==Tn.BodyType_KINEMATIC&&(Tn.internal=!0,Tn.BodyType_KINEMATIC=new oe,Tn.internal=!1),e==Tn.BodyType_KINEMATIC?3:1))&&null!=this.zpp_inner.space&&(this.zpp_inner.velx=0,this.zpp_inner.vely=0,this.zpp_inner.angvel=0),this.zpp_inner.invalidate_type(),null!=this.zpp_inner.space?this.zpp_inner.space.transmitType(this.zpp_inner,e):this.zpp_inner.type=e),h.types[this.zpp_inner.type]},G.prototype.get_isBullet=function(){return this.zpp_inner.bulletEnabled},G.prototype.set_isBullet=function(e){return this.zpp_inner.bulletEnabled=e,this.zpp_inner.bulletEnabled},G.prototype.get_disableCCD=function(){return this.zpp_inner.disableCCD},G.prototype.set_disableCCD=function(e){return this.zpp_inner.disableCCD=e,this.zpp_inner.disableCCD},G.prototype.integrate=function(e){if(this.zpp_inner.immutable_midstep("Body::space"),0==e)return this;for(var t,i,n=this.zpp_inner,r=(n.sweepTime=0,n.sweep_angvel=n.angvel,e-n.sweepTime),o=(0!=r&&(n.sweepTime=e,n.posx+=n.velx*r,n.posy+=n.vely*r,0!=n.angvel&&(e=n.sweep_angvel*r,n.rot+=e,1e-4<e*e?(n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)):(i=((t=1-.5*(r=e*e))*n.axisx+e*n.axisy)*(r=1-r*r/8),n.axisy=(t*n.axisy-e*n.axisx)*r,n.axisx=i))),n.shapes.head);null!=o;){var a=o.elt;1==a.type&&(a.polygon.invalidate_gverts(),a.polygon.invalidate_gaxi()),a.invalidate_worldCOM(),o=o.next}n.zip_worldCOM=!0,n.zip_axis=!0;for(var s=n.shapes.head;null!=s;){var p=s.elt;1==p.type&&(p.polygon.invalidate_gverts(),p.polygon.invalidate_gaxi()),p.invalidate_worldCOM(),s=s.next}return n.zip_worldCOM=!0,n.sweepTime=0,this},G.prototype.isStatic=function(){return 1==this.zpp_inner.type},G.prototype.isDynamic=function(){return 2==this.zpp_inner.type},G.prototype.isKinematic=function(){return 3==this.zpp_inner.type},G.prototype.get_shapes=function(){return this.zpp_inner.wrap_shapes},G.prototype.get_compound=function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},G.prototype.set_compound=function(e){return(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=e&&(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(this),null!=e&&((e=e.zpp_inner.wrap_bodies).zpp_inner.reverse_flag?e.push(this):e.unshift(this))),null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},G.prototype.get_space=function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},G.prototype.set_space=function(e){return this.zpp_inner.immutable_midstep("Body::space"),(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=e&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(this.zpp_inner.component.woken=!1),null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(this),null!=e&&((e=e.zpp_inner.wrap_bodies).zpp_inner.reverse_flag?e.push(this):e.unshift(this))),null==this.zpp_inner.space?null:this.zpp_inner.space.outer},G.prototype.get_arbiters=function(){return null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters},G.prototype.get_isSleeping=function(){return this.zpp_inner.component.sleeping},G.prototype.get_constraints=function(){return null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=Kn.get(this.zpp_inner.constraints,!0)),this.zpp_inner.wrap_constraints},G.prototype.copy=function(){return this.zpp_inner.copy()},G.prototype.get_position=function(){return null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition(),this.zpp_inner.wrap_pos},G.prototype.set_position=function(e){null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition();var t=this.zpp_inner.wrap_pos,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition(),this.zpp_inner.wrap_pos},G.prototype.get_velocity=function(){return null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity(),this.zpp_inner.wrap_vel},G.prototype.set_velocity=function(e){null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity();var t=this.zpp_inner.wrap_vel,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity(),this.zpp_inner.wrap_vel},G.prototype.setVelocityFromTarget=function(e,t,i){var i=1/i,n=(null==this.zpp_inner.wrap_vel&&this.zpp_inner.setupVelocity(),this.zpp_inner.wrap_vel),r=(null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition(),e.sub(this.zpp_inner.wrap_pos,!0).muleq(i)),o=r.zpp_inner,o=(null!=o._validate&&o._validate(),r.zpp_inner.x),a=r.zpp_inner,a=(null!=a._validate&&a._validate(),r.zpp_inner.y),s=n.zpp_inner,a=(null!=s._validate&&s._validate(),n.zpp_inner.x==o&&(null!=(s=n.zpp_inner)._validate&&s._validate(),n.zpp_inner.y==a)||(n.zpp_inner.x=o,n.zpp_inner.y=a,null!=(s=n.zpp_inner)._invalidate&&s._invalidate(s)),r.zpp_inner.weak&&(o=r.zpp_inner,r.zpp_inner.outer=null,r.zpp_inner=null,r.zpp_pool=yi.poolVec2,yi.poolVec2=r,null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o),(t-this.zpp_inner.rot)*i);return this.zpp_inner.angvel!=a&&(this.zpp_inner.angvel=a,this.zpp_inner.wake()),e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),this},G.prototype.get_kinematicVel=function(){return null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel(),this.zpp_inner.wrap_kinvel},G.prototype.set_kinematicVel=function(e){null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel();var t=this.zpp_inner.wrap_kinvel,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.wrap_kinvel&&this.zpp_inner.setupkinvel(),this.zpp_inner.wrap_kinvel},G.prototype.get_surfaceVel=function(){return null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel(),this.zpp_inner.wrap_svel},G.prototype.set_surfaceVel=function(e){null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel();var t=this.zpp_inner.wrap_svel,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.wrap_svel&&this.zpp_inner.setupsvel(),this.zpp_inner.wrap_svel},G.prototype.get_force=function(){return null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce(),this.zpp_inner.wrap_force},G.prototype.set_force=function(e){null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce();var t=this.zpp_inner.wrap_force,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.wrap_force&&this.zpp_inner.setupForce(),this.zpp_inner.wrap_force},G.prototype.get_constraintVelocity=function(){return null==this.zpp_inner.wrapcvel&&this.zpp_inner.setup_cvel(),this.zpp_inner.wrapcvel},G.prototype.get_rotation=function(){return this.zpp_inner.rot},G.prototype.set_rotation=function(e){if(this.zpp_inner.immutable_midstep("Body::rotation"),this.zpp_inner.rot!=e){this.zpp_inner.rot=e;for(var e=this.zpp_inner,t=(e.zip_axis=!0,e.shapes.head);null!=t;){var i=t.elt;1==i.type&&(i.polygon.invalidate_gverts(),i.polygon.invalidate_gaxi()),i.invalidate_worldCOM(),t=t.next}e.zip_worldCOM=!0,this.zpp_inner.wake()}return this.zpp_inner.rot},G.prototype.get_angularVel=function(){return this.zpp_inner.angvel},G.prototype.set_angularVel=function(e){return this.zpp_inner.angvel!=e&&(this.zpp_inner.angvel=e,this.zpp_inner.wake()),this.zpp_inner.angvel},G.prototype.get_kinAngVel=function(){return this.zpp_inner.kinangvel},G.prototype.set_kinAngVel=function(e){return this.zpp_inner.kinangvel!=e&&(this.zpp_inner.kinangvel=e,this.zpp_inner.wake()),this.zpp_inner.kinangvel},G.prototype.get_torque=function(){return this.zpp_inner.torque},G.prototype.set_torque=function(e){return this.zpp_inner.torque!=e&&(this.zpp_inner.torque=e,this.zpp_inner.wake()),this.zpp_inner.torque},G.prototype.get_bounds=function(){return this.zpp_inner.aabb.wrapper()},G.prototype.get_allowMovement=function(){return!this.zpp_inner.nomove},G.prototype.set_allowMovement=function(e){return this.zpp_inner.immutable_midstep("Body::"+(null==e?"null":""+e)),!this.zpp_inner.nomove!=e&&(this.zpp_inner.nomove=!e,this.zpp_inner.invalidate_mass()),!this.zpp_inner.nomove},G.prototype.get_allowRotation=function(){return!this.zpp_inner.norotate},G.prototype.set_allowRotation=function(e){return this.zpp_inner.immutable_midstep("Body::"+(null==e?"null":""+e)),!this.zpp_inner.norotate!=e&&(this.zpp_inner.norotate=!e,this.zpp_inner.invalidate_inertia()),!this.zpp_inner.norotate},G.prototype.get_massMode=function(){null==Tn.MassMode_DEFAULT&&(Tn.internal=!0,Tn.MassMode_DEFAULT=new ce,Tn.internal=!1);var e=Tn.MassMode_DEFAULT;return null==Tn.MassMode_FIXED&&(Tn.internal=!0,Tn.MassMode_FIXED=new ce,Tn.internal=!1),[e,Tn.MassMode_FIXED][this.zpp_inner.massMode]},G.prototype.set_massMode=function(e){this.zpp_inner.immutable_midstep("Body::massMode"),null==Tn.MassMode_DEFAULT&&(Tn.internal=!0,Tn.MassMode_DEFAULT=new ce,Tn.internal=!1),e=e==Tn.MassMode_DEFAULT?0:1,this.zpp_inner.massMode=e,this.zpp_inner.invalidate_mass(),null==Tn.MassMode_DEFAULT&&(Tn.internal=!0,Tn.MassMode_DEFAULT=new ce,Tn.internal=!1);e=Tn.MassMode_DEFAULT;return null==Tn.MassMode_FIXED&&(Tn.internal=!0,Tn.MassMode_FIXED=new ce,Tn.internal=!1),[e,Tn.MassMode_FIXED][this.zpp_inner.massMode]},G.prototype.get_constraintMass=function(){return this.zpp_inner.world||this.zpp_inner.validate_mass(),this.zpp_inner.smass},G.prototype.get_mass=function(){return this.zpp_inner.validate_mass(),this.zpp_inner.cmass},G.prototype.set_mass=function(e){return this.zpp_inner.immutable_midstep("Body::mass"),this.zpp_inner.massMode=1,this.zpp_inner.cmass=e,this.zpp_inner.invalidate_mass(),this.zpp_inner.validate_mass(),this.zpp_inner.cmass},G.prototype.get_gravMassMode=function(){null==Tn.GravMassMode_DEFAULT&&(Tn.internal=!0,Tn.GravMassMode_DEFAULT=new le,Tn.internal=!1);var e=Tn.GravMassMode_DEFAULT,t=(null==Tn.GravMassMode_FIXED&&(Tn.internal=!0,Tn.GravMassMode_FIXED=new le,Tn.internal=!1),Tn.GravMassMode_FIXED);return null==Tn.GravMassMode_SCALED&&(Tn.internal=!0,Tn.GravMassMode_SCALED=new le,Tn.internal=!1),[e,t,Tn.GravMassMode_SCALED][this.zpp_inner.massMode]},G.prototype.set_gravMassMode=function(e){this.zpp_inner.immutable_midstep("Body::gravMassMode"),null==Tn.GravMassMode_SCALED&&(Tn.internal=!0,Tn.GravMassMode_SCALED=new le,Tn.internal=!1),e=e==Tn.GravMassMode_SCALED?2:(null==Tn.GravMassMode_DEFAULT&&(Tn.internal=!0,Tn.GravMassMode_DEFAULT=new le,Tn.internal=!1),e==Tn.GravMassMode_DEFAULT?0:1),this.zpp_inner.gravMassMode=e,this.zpp_inner.invalidate_gravMass(),null==Tn.GravMassMode_DEFAULT&&(Tn.internal=!0,Tn.GravMassMode_DEFAULT=new le,Tn.internal=!1);var e=Tn.GravMassMode_DEFAULT,t=(null==Tn.GravMassMode_FIXED&&(Tn.internal=!0,Tn.GravMassMode_FIXED=new le,Tn.internal=!1),Tn.GravMassMode_FIXED);return null==Tn.GravMassMode_SCALED&&(Tn.internal=!0,Tn.GravMassMode_SCALED=new le,Tn.internal=!1),[e,t,Tn.GravMassMode_SCALED][this.zpp_inner.massMode]},G.prototype.get_gravMass=function(){return this.zpp_inner.validate_gravMass(),this.zpp_inner.gravMass},G.prototype.set_gravMass=function(e){return this.zpp_inner.immutable_midstep("Body::gravMass"),this.zpp_inner.gravMassMode=1,this.zpp_inner.gravMass=e,this.zpp_inner.invalidate_gravMass(),this.zpp_inner.validate_gravMass(),this.zpp_inner.gravMass},G.prototype.get_gravMassScale=function(){return this.zpp_inner.validate_gravMassScale(),this.zpp_inner.gravMassScale},G.prototype.set_gravMassScale=function(e){return this.zpp_inner.immutable_midstep("Body::gravMassScale"),this.zpp_inner.gravMassMode=2,this.zpp_inner.gravMassScale=e,this.zpp_inner.invalidate_gravMassScale(),this.zpp_inner.validate_gravMassScale(),this.zpp_inner.gravMassScale},G.prototype.get_inertiaMode=function(){null==Tn.InertiaMode_DEFAULT&&(Tn.internal=!0,Tn.InertiaMode_DEFAULT=new he,Tn.internal=!1);var e=Tn.InertiaMode_DEFAULT;return null==Tn.InertiaMode_FIXED&&(Tn.internal=!0,Tn.InertiaMode_FIXED=new he,Tn.internal=!1),[e,Tn.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},G.prototype.set_inertiaMode=function(e){this.zpp_inner.immutable_midstep("Body::inertiaMode"),null==Tn.InertiaMode_FIXED&&(Tn.internal=!0,Tn.InertiaMode_FIXED=new he,Tn.internal=!1),e=e==Tn.InertiaMode_FIXED?1:0,this.zpp_inner.inertiaMode=e,this.zpp_inner.invalidate_inertia(),null==Tn.InertiaMode_DEFAULT&&(Tn.internal=!0,Tn.InertiaMode_DEFAULT=new he,Tn.internal=!1);e=Tn.InertiaMode_DEFAULT;return null==Tn.InertiaMode_FIXED&&(Tn.internal=!0,Tn.InertiaMode_FIXED=new he,Tn.internal=!1),[e,Tn.InertiaMode_FIXED][this.zpp_inner.inertiaMode]},G.prototype.get_constraintInertia=function(){return this.zpp_inner.world||this.zpp_inner.validate_inertia(),this.zpp_inner.sinertia},G.prototype.get_inertia=function(){return this.zpp_inner.validate_inertia(),this.zpp_inner.cinertia},G.prototype.set_inertia=function(e){return this.zpp_inner.immutable_midstep("Body::inertia"),this.zpp_inner.inertiaMode=1,this.zpp_inner.cinertia=e,this.zpp_inner.invalidate_inertia(),this.zpp_inner.validate_inertia(),this.zpp_inner.cinertia},G.prototype.connectedBodies=function(e,t){return this.zpp_inner.connectedBodies(e=null==e?-1:e,t)},G.prototype.interactingBodies=function(e,t,i){return null==t&&(t=-1),e=null==e?Rt.COL|Rt.SENSOR|Rt.FLUID:(null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),e==Tn.InteractionType_COLLISION?Rt.COL:(null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),e==Tn.InteractionType_SENSOR?Rt.SENSOR:Rt.FLUID)),this.zpp_inner.interactingBodies(e,t,i)},G.prototype.crushFactor=function(){for(var e=0,t=(null==yi.poolVec2?y=new xe:(y=yi.poolVec2,yi.poolVec2=y.zpp_pool,y.zpp_pool=null),null==y.zpp_inner?(null==cr.zpp_pool?p=new cr:(p=cr.zpp_pool,cr.zpp_pool=p.next,p.next=null),p.weak=!1,p._immutable=!1,p.x=0,p.y=0,y.zpp_inner=p,y.zpp_inner.outer=y):(null!=(p=y.zpp_inner)._validate&&p._validate(),0==y.zpp_inner.x&&(null!=(p=y.zpp_inner)._validate&&p._validate(),0==y.zpp_inner.y)||(y.zpp_inner.x=0,y.zpp_inner.y=0,null!=(p=y.zpp_inner)._invalidate&&p._invalidate(p))),y.zpp_inner.weak=!1,y),i=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner.zpp_gl();if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=$e.zpp_pool,($e.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;var n=i.zpp_inner.at(i.zpp_i++).totalImpulse(this),r=n.xy(),o=(t.addeq(r),r.zpp_inner),o=(null!=o._validate&&o._validate(),r.zpp_inner.x),a=r.zpp_inner,a=(null!=a._validate&&a._validate(),o*r.zpp_inner.x),o=r.zpp_inner,o=(null!=o._validate&&o._validate(),r.zpp_inner.y),s=r.zpp_inner,s=(null!=s._validate&&s._validate(),e+=Math.sqrt(a+o*r.zpp_inner.y),r.zpp_inner);r.zpp_inner.outer=null,r.zpp_inner=null,r.zpp_pool=yi.poolVec2,yi.poolVec2=r,null!=s.outer&&(s.outer.zpp_inner=null,s.outer=null),s._isimmutable=null,s._validate=null,s._invalidate=null,s.next=cr.zpp_pool,cr.zpp_pool=s,n.dispose()}null==this.zpp_inner.wrap_constraints&&(this.zpp_inner.wrap_constraints=Kn.get(this.zpp_inner.constraints,!0));for(var p=this.zpp_inner.wrap_constraints,l=(p.zpp_inner.valmod(),Qe.get(p));;){l.zpp_inner.zpp_inner.valmod();var h=l.zpp_inner,h=(h.zpp_inner.valmod(),h.zpp_inner.zip_length&&(h.zpp_inner.zip_length=!1,h.zpp_inner.user_length=h.zpp_inner.inner.length),h.zpp_inner.user_length);if(l.zpp_critical=!0,!(l.zpp_i<h||(l.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=l).zpp_inner=null,!1)))break;l.zpp_critical=!1;var h=l.zpp_inner.at(l.zpp_i++).bodyImpulse(this),u=h.xy(),d=(t.addeq(u),u.zpp_inner),d=(null!=d._validate&&d._validate(),u.zpp_inner.x),c=u.zpp_inner,c=(null!=c._validate&&c._validate(),d*u.zpp_inner.x),d=u.zpp_inner,d=(null!=d._validate&&d._validate(),u.zpp_inner.y),m=u.zpp_inner,m=(null!=m._validate&&m._validate(),e+=Math.sqrt(c+d*u.zpp_inner.y),u.zpp_inner);u.zpp_inner.outer=null,u.zpp_inner=null,u.zpp_pool=yi.poolVec2,yi.poolVec2=u,null!=m.outer&&(m.outer.zpp_inner=null,m.outer=null),m._isimmutable=null,m._validate=null,m._invalidate=null,m.next=cr.zpp_pool,cr.zpp_pool=m,h.dispose()}var y=t.zpp_inner,p=(null!=y._validate&&y._validate(),t.zpp_inner.x),y=t.zpp_inner,y=(null!=y._validate&&y._validate(),p*t.zpp_inner.x),p=t.zpp_inner,p=(null!=p._validate&&p._validate(),t.zpp_inner.y),_=t.zpp_inner,_=(null!=_._validate&&_._validate(),e-Math.sqrt(y+p*t.zpp_inner.y)),y=(this.zpp_inner.validate_mass(),_/(this.zpp_inner.cmass*(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.pre_dt)),p=t.zpp_inner;return t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=p.outer&&(p.outer.zpp_inner=null,p.outer=null),p._isimmutable=null,p._validate=null,p._invalidate=null,p.next=cr.zpp_pool,cr.zpp_pool=p,y},G.prototype.localPointToWorld=function(e,t){null==t&&(t=!1);var i,n,r=this.zpp_inner,r=(r.zip_axis&&(r.zip_axis=!1,r.axisx=Math.sin(r.rot),r.axisy=Math.cos(r.rot)),e.zpp_inner),r=(null!=r._validate&&r._validate(),this.zpp_inner.axisy*e.zpp_inner.x),o=e.zpp_inner,r=(null!=o._validate&&o._validate(),o=r-this.zpp_inner.axisx*e.zpp_inner.y,e.zpp_inner),r=(null!=r._validate&&r._validate(),e.zpp_inner.x*this.zpp_inner.axisx),a=e.zpp_inner,e=(null!=a._validate&&a._validate(),a=r+e.zpp_inner.y*this.zpp_inner.axisy,e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),o+this.zpp_inner.posx),r=a+this.zpp_inner.posy;return null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=r,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(o=i.zpp_inner)._validate&&o._validate(),i.zpp_inner.x==e&&(null!=(a=i.zpp_inner)._validate&&a._validate(),i.zpp_inner.y==r)||(i.zpp_inner.x=e,i.zpp_inner.y=r,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=t,i},G.prototype.worldPointToLocal=function(e,t){null==t&&(t=!1);var i,n,r,o=this.zpp_inner,o=(o.zip_axis&&(o.zip_axis=!1,o.axisx=Math.sin(o.rot),o.axisy=Math.cos(o.rot)),e.zpp_inner),a=(null!=o._validate&&o._validate(),o=e.zpp_inner.x-this.zpp_inner.posx,e.zpp_inner);return null!=a._validate&&a._validate(),a=e.zpp_inner.y-this.zpp_inner.posy,i=o*this.zpp_inner.axisy+a*this.zpp_inner.axisx,a=a*this.zpp_inner.axisy-o*this.zpp_inner.axisx,e.zpp_inner.weak&&(o=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o),null==yi.poolVec2?n=new xe:(n=yi.poolVec2,yi.poolVec2=n.zpp_pool,n.zpp_pool=null),null==n.zpp_inner?(null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=i,r.y=a,n.zpp_inner=r,n.zpp_inner.outer=n):(null!=(e=n.zpp_inner)._validate&&e._validate(),n.zpp_inner.x==i&&(null!=(o=n.zpp_inner)._validate&&o._validate(),n.zpp_inner.y==a)||(n.zpp_inner.x=i,n.zpp_inner.y=a,null!=(r=n.zpp_inner)._invalidate&&r._invalidate(r))),n.zpp_inner.weak=t,n},G.prototype.localVectorToWorld=function(e,t){null==t&&(t=!1);var i,n,r=this.zpp_inner,r=(r.zip_axis&&(r.zip_axis=!1,r.axisx=Math.sin(r.rot),r.axisy=Math.cos(r.rot)),e.zpp_inner),r=(null!=r._validate&&r._validate(),this.zpp_inner.axisy*e.zpp_inner.x),o=e.zpp_inner,r=(null!=o._validate&&o._validate(),o=r-this.zpp_inner.axisx*e.zpp_inner.y,e.zpp_inner),r=(null!=r._validate&&r._validate(),e.zpp_inner.x*this.zpp_inner.axisx),a=e.zpp_inner;return null!=a._validate&&a._validate(),a=r+e.zpp_inner.y*this.zpp_inner.axisy,e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=o,n.y=a,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(e=i.zpp_inner)._validate&&e._validate(),i.zpp_inner.x==o&&(null!=(r=i.zpp_inner)._validate&&r._validate(),i.zpp_inner.y==a)||(i.zpp_inner.x=o,i.zpp_inner.y=a,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=t,i},G.prototype.worldVectorToLocal=function(e,t){null==t&&(t=!1);var i,n,r=this.zpp_inner,r=(r.zip_axis&&(r.zip_axis=!1,r.axisx=Math.sin(r.rot),r.axisy=Math.cos(r.rot)),e.zpp_inner),r=(null!=r._validate&&r._validate(),e.zpp_inner.x*this.zpp_inner.axisy),o=e.zpp_inner,r=(null!=o._validate&&o._validate(),o=r+e.zpp_inner.y*this.zpp_inner.axisx,e.zpp_inner),r=(null!=r._validate&&r._validate(),e.zpp_inner.y*this.zpp_inner.axisy),a=e.zpp_inner;return null!=a._validate&&a._validate(),a=r-e.zpp_inner.x*this.zpp_inner.axisx,e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=o,n.y=a,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(e=i.zpp_inner)._validate&&e._validate(),i.zpp_inner.x==o&&(null!=(r=i.zpp_inner)._validate&&r._validate(),i.zpp_inner.y==a)||(i.zpp_inner.x=o,i.zpp_inner.y=a,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=t,i},G.prototype.applyImpulse=function(e,t,i){if((i=null==i?!1:i)&&this.zpp_inner.component.sleeping)return e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),null!=t&&t.zpp_inner.weak&&(r=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),this;this.zpp_inner.validate_mass();var n,r=this.zpp_inner.imass,o=e.zpp_inner,o=(null!=o._validate&&o._validate(),this.zpp_inner.velx+=e.zpp_inner.x*r,e.zpp_inner);return null!=o._validate&&o._validate(),this.zpp_inner.vely+=e.zpp_inner.y*r,null!=t&&(r=o=0,null!=(n=t.zpp_inner)._validate&&n._validate(),o=t.zpp_inner.x-this.zpp_inner.posx,null!=(n=t.zpp_inner)._validate&&n._validate(),r=t.zpp_inner.y-this.zpp_inner.posy,this.zpp_inner.validate_inertia(),null!=(n=e.zpp_inner)._validate&&n._validate(),n=e.zpp_inner.y*o,null!=(o=e.zpp_inner)._validate&&o._validate(),this.zpp_inner.angvel+=(n-e.zpp_inner.x*r)*this.zpp_inner.iinertia,t.zpp_inner.weak&&(o=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o)),i||2==this.zpp_inner.type&&this.zpp_inner.wake(),e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),this},G.prototype.applyAngularImpulse=function(e,t){return(t=null==t?!1:t)&&this.zpp_inner.component.sleeping||(this.zpp_inner.validate_inertia(),this.zpp_inner.angvel+=e*this.zpp_inner.iinertia,t||2==this.zpp_inner.type&&this.zpp_inner.wake()),this},G.prototype.translateShapes=function(e){this.zpp_inner.immutable_midstep("Body::translateShapes()");for(var t=e.zpp_inner.weak,i=(e.zpp_inner.weak=!1,this.zpp_inner.shapes.head);null!=i;)i.elt.outer.translate(e),i=i.next;return e.zpp_inner.weak=t,e.zpp_inner.weak&&(t=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t),this},G.prototype.rotateShapes=function(e){this.zpp_inner.immutable_midstep("Body::rotateShapes()");for(var t=this.zpp_inner.shapes.head;null!=t;)t.elt.outer.rotate(e),t=t.next;return this},G.prototype.scaleShapes=function(e,t){this.zpp_inner.immutable_midstep("Body::scaleShapes()");for(var i=this.zpp_inner.shapes.head;null!=i;)i.elt.outer.scale(e,t),i=i.next;return this},G.prototype.transformShapes=function(e){this.zpp_inner.immutable_midstep("Body::transformShapes()");for(var t=this.zpp_inner.shapes.head;null!=t;)t.elt.outer.transform(e),t=t.next;return this},G.prototype.align=function(){this.zpp_inner.immutable_midstep("Body::align()"),this.zpp_inner.validate_localCOM();var e=-this.zpp_inner.localCOMx,t=-this.zpp_inner.localCOMy,e=(null==yi.poolVec2?n=new xe:(n=yi.poolVec2,yi.poolVec2=n.zpp_pool,n.zpp_pool=null),null==n.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=e,i.y=t,n.zpp_inner=i,n.zpp_inner.outer=n):(null!=(i=n.zpp_inner)._validate&&i._validate(),n.zpp_inner.x==e&&(null!=(i=n.zpp_inner)._validate&&i._validate(),n.zpp_inner.y==t)||(n.zpp_inner.x=e,n.zpp_inner.y=t,null!=(i=n.zpp_inner)._invalidate&&i._invalidate(i))),n.zpp_inner.weak=!1,n),t=(this.translateShapes(e),this.localVectorToWorld(e)),i=(null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition(),this.zpp_inner.wrap_pos.subeq(t),this.zpp_inner.pre_posx<1/0&&(null!=(i=t.zpp_inner)._validate&&i._validate(),this.zpp_inner.pre_posx-=t.zpp_inner.x,null!=(n=t.zpp_inner)._validate&&n._validate(),this.zpp_inner.pre_posy-=t.zpp_inner.y),e.zpp_inner),n=(e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i,t.zpp_inner);return t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n,this},G.prototype.rotate=function(e,t){var i=e.zpp_inner.weak,n=(e.zpp_inner.weak=!1,null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition(),this.zpp_inner.wrap_pos.sub(e)),r=(n.rotate(t),e.add(n,!0)),o=(null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition(),this.zpp_inner.wrap_pos),a=r.zpp_inner,a=(null!=a._validate&&a._validate(),r.zpp_inner.x),s=r.zpp_inner,s=(null!=s._validate&&s._validate(),r.zpp_inner.y),p=o.zpp_inner,s=(null!=p._validate&&p._validate(),o.zpp_inner.x==a&&(null!=(p=o.zpp_inner)._validate&&p._validate(),o.zpp_inner.y==s)||(o.zpp_inner.x=a,o.zpp_inner.y=s,null!=(p=o.zpp_inner)._invalidate&&p._invalidate(p)),r.zpp_inner.weak&&(a=r.zpp_inner,r.zpp_inner.outer=null,r.zpp_inner=null,r.zpp_pool=yi.poolVec2,yi.poolVec2=r,null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null),a._isimmutable=null,a._validate=null,a._invalidate=null,a.next=cr.zpp_pool,cr.zpp_pool=a),null==this.zpp_inner.wrap_pos&&this.zpp_inner.setupPosition(),n.zpp_inner),o=(n.zpp_inner.outer=null,n.zpp_inner=null,n.zpp_pool=yi.poolVec2,yi.poolVec2=n,null!=s.outer&&(s.outer.zpp_inner=null,s.outer=null),s._isimmutable=null,s._validate=null,s._invalidate=null,s.next=cr.zpp_pool,cr.zpp_pool=s,this.zpp_inner.rot+t);if(this.zpp_inner.immutable_midstep("Body::rotation"),this.zpp_inner.rot!=o){this.zpp_inner.rot=o;for(var p=this.zpp_inner,l=(p.zip_axis=!0,p.shapes.head);null!=l;){var h=l.elt;1==h.type&&(h.polygon.invalidate_gverts(),h.polygon.invalidate_gaxi()),h.invalidate_worldCOM(),l=l.next}p.zip_worldCOM=!0,this.zpp_inner.wake()}return e.zpp_inner.weak=i,e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r),this},G.prototype.setShapeMaterials=function(e){this.zpp_inner.immutable_midstep("Body::setShapeMaterials()");for(var t=this.zpp_inner.shapes.head;null!=t;){var i=t.elt.outer;i.zpp_inner.immutable_midstep("Shape::material"),i.zpp_inner.setMaterial(e.zpp_inner),i.zpp_inner.material.wrapper(),t=t.next}return this},G.prototype.setShapeFilters=function(e){this.zpp_inner.immutable_midstep("Body::setShapeFilters()");for(var t=this.zpp_inner.shapes.head;null!=t;){var i=t.elt.outer;i.zpp_inner.immutable_midstep("Shape::filter"),i.zpp_inner.setFilter(e.zpp_inner),i.zpp_inner.filter.wrapper(),t=t.next}return this},G.prototype.setShapeFluidProperties=function(e){this.zpp_inner.immutable_midstep("Body::setShapeFluidProperties()");for(var t=this.zpp_inner.shapes.head;null!=t;){var i=t.elt.outer;i.zpp_inner.setFluid(e.zpp_inner),i.zpp_inner.immutable_midstep("Shape::fluidProperties"),null==i.zpp_inner.fluidProperties&&i.zpp_inner.setFluid((new pe).zpp_inner),i.zpp_inner.fluidProperties.wrapper(),t=t.next}return this},G.prototype.get_localCOM=function(){var e,t,i,n;return null==this.zpp_inner.wrap_localCOM&&(e=this.zpp_inner.localCOMx,t=this.zpp_inner.localCOMy,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,this.zpp_inner.wrap_localCOM=i,this.zpp_inner.wrap_localCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_localCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_localCOM.zpp_inner._validate=Z(s=this.zpp_inner,s.getlocalCOM)),this.zpp_inner.wrap_localCOM},G.prototype.get_worldCOM=function(){var e,t,i,n;return null==this.zpp_inner.wrap_worldCOM&&(e=this.zpp_inner.worldCOMx,t=this.zpp_inner.worldCOMy,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,this.zpp_inner.wrap_worldCOM=i,this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=Z(s=this.zpp_inner,s.getworldCOM)),this.zpp_inner.wrap_worldCOM},G.prototype.normalImpulse=function(e,t){null==t&&(t=!1);for(var i=0,n=0,r=0,o=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){o.zpp_inner.zpp_inner.valmod();var a=o.zpp_inner.zpp_gl();if(o.zpp_critical=!0,!(o.zpp_i<a||(o.zpp_next=$e.zpp_pool,($e.zpp_pool=o).zpp_inner=null,!1)))break;o.zpp_critical=!1;var s,a=o.zpp_inner.at(o.zpp_i++).zpp_inner;a.type!=Rt.COL||null!=e&&a.b2!=e.zpp_inner&&a.b1!=e.zpp_inner||(null!=(s=(a=((a=a.wrapper()).zpp_inner.type==Rt.COL?a.zpp_inner.colarb.outer_zn:null).normalImpulse(this,t)).zpp_inner)._validate&&s._validate(),i+=a.zpp_inner.x,null!=(s=a.zpp_inner)._validate&&s._validate(),n+=a.zpp_inner.y,null!=(s=a.zpp_inner)._validate&&s._validate(),r+=a.zpp_inner.z,a.dispose())}return d.get(i,n,r)},G.prototype.tangentImpulse=function(e,t){null==t&&(t=!1);for(var i=0,n=0,r=0,o=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){o.zpp_inner.zpp_inner.valmod();var a=o.zpp_inner.zpp_gl();if(o.zpp_critical=!0,!(o.zpp_i<a||(o.zpp_next=$e.zpp_pool,($e.zpp_pool=o).zpp_inner=null,!1)))break;o.zpp_critical=!1;var s,a=o.zpp_inner.at(o.zpp_i++).zpp_inner;a.type!=Rt.COL||null!=e&&a.b2!=e.zpp_inner&&a.b1!=e.zpp_inner||(null!=(s=(a=((a=a.wrapper()).zpp_inner.type==Rt.COL?a.zpp_inner.colarb.outer_zn:null).tangentImpulse(this,t)).zpp_inner)._validate&&s._validate(),i+=a.zpp_inner.x,null!=(s=a.zpp_inner)._validate&&s._validate(),n+=a.zpp_inner.y,null!=(s=a.zpp_inner)._validate&&s._validate(),r+=a.zpp_inner.z,a.dispose())}return d.get(i,n,r)},G.prototype.totalContactsImpulse=function(e,t){null==t&&(t=!1);for(var i=0,n=0,r=0,o=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){o.zpp_inner.zpp_inner.valmod();var a=o.zpp_inner.zpp_gl();if(o.zpp_critical=!0,!(o.zpp_i<a||(o.zpp_next=$e.zpp_pool,($e.zpp_pool=o).zpp_inner=null,!1)))break;o.zpp_critical=!1;var s,a=o.zpp_inner.at(o.zpp_i++).zpp_inner;a.type!=Rt.COL||null!=e&&a.b2!=e.zpp_inner&&a.b1!=e.zpp_inner||(null!=(s=(a=((a=a.wrapper()).zpp_inner.type==Rt.COL?a.zpp_inner.colarb.outer_zn:null).totalImpulse(this,t)).zpp_inner)._validate&&s._validate(),i+=a.zpp_inner.x,null!=(s=a.zpp_inner)._validate&&s._validate(),n+=a.zpp_inner.y,null!=(s=a.zpp_inner)._validate&&s._validate(),r+=a.zpp_inner.z,a.dispose())}return d.get(i,n,r)},G.prototype.rollingImpulse=function(e,t){null==t&&(t=!1);for(var i=0,n=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){n.zpp_inner.zpp_inner.valmod();var r=n.zpp_inner.zpp_gl();if(n.zpp_critical=!0,!(n.zpp_i<r||(n.zpp_next=$e.zpp_pool,($e.zpp_pool=n).zpp_inner=null,!1)))break;n.zpp_critical=!1;var r=n.zpp_inner.at(n.zpp_i++).zpp_inner;r.type!=Rt.COL||null!=e&&r.b2!=e.zpp_inner&&r.b1!=e.zpp_inner||(i+=((r=r.wrapper()).zpp_inner.type==Rt.COL?r.zpp_inner.colarb.outer_zn:null).rollingImpulse(this,t))}return i},G.prototype.buoyancyImpulse=function(e){for(var t=0,i=0,n=0,r=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner.zpp_gl();if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=$e.zpp_pool,($e.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1;var a,o=r.zpp_inner.at(r.zpp_i++).zpp_inner;o.type!=Rt.FLUID||null!=e&&o.b2!=e.zpp_inner&&o.b1!=e.zpp_inner||(null!=(a=(o=((o=o.wrapper()).zpp_inner.type==Rt.FLUID?o.zpp_inner.fluidarb.outer_zn:null).buoyancyImpulse(this)).zpp_inner)._validate&&a._validate(),t+=o.zpp_inner.x,null!=(a=o.zpp_inner)._validate&&a._validate(),i+=o.zpp_inner.y,null!=(a=o.zpp_inner)._validate&&a._validate(),n+=o.zpp_inner.z,o.dispose())}return d.get(t,i,n)},G.prototype.dragImpulse=function(e){for(var t=0,i=0,n=0,r=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner.zpp_gl();if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=$e.zpp_pool,($e.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1;var a,o=r.zpp_inner.at(r.zpp_i++).zpp_inner;o.type!=Rt.FLUID||null!=e&&o.b2!=e.zpp_inner&&o.b1!=e.zpp_inner||(null!=(a=(o=((o=o.wrapper()).zpp_inner.type==Rt.FLUID?o.zpp_inner.fluidarb.outer_zn:null).dragImpulse(this)).zpp_inner)._validate&&a._validate(),t+=o.zpp_inner.x,null!=(a=o.zpp_inner)._validate&&a._validate(),i+=o.zpp_inner.y,null!=(a=o.zpp_inner)._validate&&a._validate(),n+=o.zpp_inner.z,o.dispose())}return d.get(t,i,n)},G.prototype.totalFluidImpulse=function(e){for(var t=0,i=0,n=0,r=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner.zpp_gl();if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=$e.zpp_pool,($e.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1;var a,o=r.zpp_inner.at(r.zpp_i++).zpp_inner;o.type!=Rt.FLUID||null!=e&&o.b2!=e.zpp_inner&&o.b1!=e.zpp_inner||(null!=(a=(o=((o=o.wrapper()).zpp_inner.type==Rt.FLUID?o.zpp_inner.fluidarb.outer_zn:null).totalImpulse(this)).zpp_inner)._validate&&a._validate(),t+=o.zpp_inner.x,null!=(a=o.zpp_inner)._validate&&a._validate(),i+=o.zpp_inner.y,null!=(a=o.zpp_inner)._validate&&a._validate(),n+=o.zpp_inner.z,o.dispose())}return d.get(t,i,n)},G.prototype.constraintsImpulse=function(){for(var e=0,t=0,i=0,n=this.zpp_inner.constraints.head;null!=n;){var r=n.elt.outer.bodyImpulse(this),o=r.zpp_inner,o=(null!=o._validate&&o._validate(),e+=r.zpp_inner.x,r.zpp_inner),o=(null!=o._validate&&o._validate(),t+=r.zpp_inner.y,r.zpp_inner);null!=o._validate&&o._validate(),i+=r.zpp_inner.z,r.dispose(),n=n.next}return d.get(e,t,i)},G.prototype.totalImpulse=function(e,t){null==t&&(t=!1);for(var i=0,n=0,r=0,o=(null==this.zpp_inner.wrap_arbiters&&(this.zpp_inner.wrap_arbiters=pr.get(this.zpp_inner.arbiters,!0)),this.zpp_inner.wrap_arbiters.iterator());;){o.zpp_inner.zpp_inner.valmod();var a=o.zpp_inner.zpp_gl();if(o.zpp_critical=!0,!(o.zpp_i<a||(o.zpp_next=$e.zpp_pool,($e.zpp_pool=o).zpp_inner=null,!1)))break;o.zpp_critical=!1;var s,a=o.zpp_inner.at(o.zpp_i++).zpp_inner;a.type==Rt.SENSOR||null!=e&&a.b2!=e.zpp_inner&&a.b1!=e.zpp_inner||(null!=(s=(a=a.wrapper().totalImpulse(this,t)).zpp_inner)._validate&&s._validate(),i+=a.zpp_inner.x,null!=(s=a.zpp_inner)._validate&&s._validate(),n+=a.zpp_inner.y,null!=(s=a.zpp_inner)._validate&&s._validate(),r+=a.zpp_inner.z,a.dispose())}for(var p=this.zpp_inner.constraints.head;null!=p;){var l,h=p.elt;h.active&&(null!=(l=(h=h.outer.bodyImpulse(this)).zpp_inner)._validate&&l._validate(),i+=h.zpp_inner.x,null!=(l=h.zpp_inner)._validate&&l._validate(),n+=h.zpp_inner.y,null!=(l=h.zpp_inner)._validate&&l._validate(),r+=h.zpp_inner.z,h.dispose()),p=p.next}return d.get(i,n,r)},G.prototype.contains=function(e){for(var t,i=e.zpp_inner.weak,n=(t=e.zpp_inner.weak=!1,this.zpp_inner.shapes.head);null!=n;){if(n.elt.outer.contains(e)){t=!0;break}n=n.next}return e.zpp_inner.weak=i,e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),t},G.prototype.toString=function(){return(this.zpp_inner.world?"(space::world":"("+(2==this.zpp_inner.type?"dynamic":1==this.zpp_inner.type?"static":"kinematic"))+")#"+this.zpp_inner_i.id},Object.defineProperty(G.prototype,"type",{get:G.prototype.get_type,set:G.prototype.set_type}),Object.defineProperty(G.prototype,"isBullet",{get:G.prototype.get_isBullet,set:G.prototype.set_isBullet}),Object.defineProperty(G.prototype,"disableCCD",{get:G.prototype.get_disableCCD,set:G.prototype.set_disableCCD}),Object.defineProperty(G.prototype,"shapes",{get:G.prototype.get_shapes}),Object.defineProperty(G.prototype,"compound",{get:G.prototype.get_compound,set:G.prototype.set_compound}),Object.defineProperty(G.prototype,"space",{get:G.prototype.get_space,set:G.prototype.set_space}),Object.defineProperty(G.prototype,"arbiters",{get:G.prototype.get_arbiters}),Object.defineProperty(G.prototype,"isSleeping",{get:G.prototype.get_isSleeping}),Object.defineProperty(G.prototype,"constraints",{get:G.prototype.get_constraints}),Object.defineProperty(G.prototype,"position",{get:G.prototype.get_position,set:G.prototype.set_position}),Object.defineProperty(G.prototype,"velocity",{get:G.prototype.get_velocity,set:G.prototype.set_velocity}),Object.defineProperty(G.prototype,"kinematicVel",{get:G.prototype.get_kinematicVel,set:G.prototype.set_kinematicVel}),Object.defineProperty(G.prototype,"surfaceVel",{get:G.prototype.get_surfaceVel,set:G.prototype.set_surfaceVel}),Object.defineProperty(G.prototype,"force",{get:G.prototype.get_force,set:G.prototype.set_force}),Object.defineProperty(G.prototype,"constraintVelocity",{get:G.prototype.get_constraintVelocity}),Object.defineProperty(G.prototype,"rotation",{get:G.prototype.get_rotation,set:G.prototype.set_rotation}),Object.defineProperty(G.prototype,"angularVel",{get:G.prototype.get_angularVel,set:G.prototype.set_angularVel}),Object.defineProperty(G.prototype,"kinAngVel",{get:G.prototype.get_kinAngVel,set:G.prototype.set_kinAngVel}),Object.defineProperty(G.prototype,"torque",{get:G.prototype.get_torque,set:G.prototype.set_torque}),Object.defineProperty(G.prototype,"bounds",{get:G.prototype.get_bounds}),Object.defineProperty(G.prototype,"allowMovement",{get:G.prototype.get_allowMovement,set:G.prototype.set_allowMovement}),Object.defineProperty(G.prototype,"allowRotation",{get:G.prototype.get_allowRotation,set:G.prototype.set_allowRotation}),Object.defineProperty(G.prototype,"massMode",{get:G.prototype.get_massMode,set:G.prototype.set_massMode}),Object.defineProperty(G.prototype,"constraintMass",{get:G.prototype.get_constraintMass}),Object.defineProperty(G.prototype,"mass",{get:G.prototype.get_mass,set:G.prototype.set_mass}),Object.defineProperty(G.prototype,"gravMassMode",{get:G.prototype.get_gravMassMode,set:G.prototype.set_gravMassMode}),Object.defineProperty(G.prototype,"gravMass",{get:G.prototype.get_gravMass,set:G.prototype.set_gravMass}),Object.defineProperty(G.prototype,"gravMassScale",{get:G.prototype.get_gravMassScale,set:G.prototype.set_gravMassScale}),Object.defineProperty(G.prototype,"inertiaMode",{get:G.prototype.get_inertiaMode,set:G.prototype.set_inertiaMode}),Object.defineProperty(G.prototype,"constraintInertia",{get:G.prototype.get_constraintInertia}),Object.defineProperty(G.prototype,"inertia",{get:G.prototype.get_inertia,set:G.prototype.set_inertia}),Object.defineProperty(G.prototype,"localCOM",{get:G.prototype.get_localCOM}),Object.defineProperty(G.prototype,"worldCOM",{get:G.prototype.get_worldCOM}),G.prototype.__class__=G,nape.phys.BodyIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),re=(at.__name__=["nape","phys","BodyIterator"],at.get=function(e){var t=null==at.zpp_pool?(Zn.internal=!0,t=new at,Zn.internal=!1,t):(at.zpp_pool=(t=at.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},at.prototype.zpp_inner=null,at.prototype.zpp_i=null,at.prototype.zpp_critical=null,at.prototype.zpp_next=null,at.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=at.zpp_pool,(at.zpp_pool=this).zpp_inner=null,!1)},at.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},at.prototype.__class__=at,nape.phys.BodyList=function(){this.zpp_inner=null,this.zpp_inner=new Zn,this.zpp_inner.outer=this}),oe=(re.__name__=["nape","phys","BodyList"],re.fromArray=function(e){for(var t=new re,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},re.prototype.zpp_inner=null,re.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},re.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},re.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},re.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},re.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},re.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},re.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},re.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},re.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},re.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},re.prototype.empty=function(){return null==this.zpp_inner.inner.head},re.prototype.iterator=function(){return this.zpp_inner.valmod(),at.get(this)},re.prototype.copy=function(e){null==e&&(e=!1);for(var t=new re,i=(this.zpp_inner.valmod(),at.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=at.zpp_pool,(at.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},re.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=at.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=at.zpp_pool,(at.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},re.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),at.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=at.zpp_pool,(at.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},re.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=at.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=at.zpp_pool,(at.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=at.zpp_pool,(at.zpp_pool=t).zpp_inner=null;break}}return this},re.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(re.prototype,"length",{get:re.prototype.get_length}),re.prototype.__class__=re,nape.phys.BodyType=function(){}),ae=(oe.__name__=["nape","phys","BodyType"],oe.STATIC=null,oe.get_STATIC=function(){return null==Tn.BodyType_STATIC&&(Tn.internal=!0,Tn.BodyType_STATIC=new oe,Tn.internal=!1),Tn.BodyType_STATIC},oe.DYNAMIC=null,oe.get_DYNAMIC=function(){return null==Tn.BodyType_DYNAMIC&&(Tn.internal=!0,Tn.BodyType_DYNAMIC=new oe,Tn.internal=!1),Tn.BodyType_DYNAMIC},oe.KINEMATIC=null,oe.get_KINEMATIC=function(){return null==Tn.BodyType_KINEMATIC&&(Tn.internal=!0,Tn.BodyType_KINEMATIC=new oe,Tn.internal=!1),Tn.BodyType_KINEMATIC},oe.prototype.toString=function(){return null==Tn.BodyType_STATIC&&(Tn.internal=!0,Tn.BodyType_STATIC=new oe,Tn.internal=!1),this==Tn.BodyType_STATIC?"STATIC":(null==Tn.BodyType_DYNAMIC&&(Tn.internal=!0,Tn.BodyType_DYNAMIC=new oe,Tn.internal=!1),this==Tn.BodyType_DYNAMIC?"DYNAMIC":(null==Tn.BodyType_KINEMATIC&&(Tn.internal=!0,Tn.BodyType_KINEMATIC=new oe,Tn.internal=!1),this==Tn.BodyType_KINEMATIC?"KINEMATIC":""))},Object.defineProperty(oe,"STATIC",{get:oe.get_STATIC}),Object.defineProperty(oe,"DYNAMIC",{get:oe.get_DYNAMIC}),Object.defineProperty(oe,"KINEMATIC",{get:oe.get_KINEMATIC}),oe.prototype.__class__=oe,nape.phys.Compound=function(){this.zpp_inner=null,ne.call(this),this.zpp_inner=new ii,((this.zpp_inner.outer=this).zpp_inner.outer_i=this).zpp_inner_i=this.zpp_inner,this.zpp_inner.insert_cbtype(Ie.ANY_COMPOUND.zpp_inner)}),st=(ae.__name__=["nape","phys","Compound"],ae.__super__=ne,(ae.prototype=Object.create(ne.prototype)).zpp_inner=null,ae.prototype.get_bodies=function(){return this.zpp_inner.wrap_bodies},ae.prototype.get_constraints=function(){return this.zpp_inner.wrap_constraints},ae.prototype.get_compounds=function(){return this.zpp_inner.wrap_compounds},ae.prototype.get_compound=function(){return null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},ae.prototype.set_compound=function(e){return this.zpp_inner.immutable_midstep("Compound::compound"),(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)!=e&&(null!=(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer)&&(null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(this),null!=e&&((e=e.zpp_inner.wrap_compounds).zpp_inner.reverse_flag?e.push(this):e.unshift(this))),null==this.zpp_inner.compound?null:this.zpp_inner.compound.outer},ae.prototype.get_space=function(){return null==this.zpp_inner.space?null:this.zpp_inner.space.outer},ae.prototype.set_space=function(e){return this.zpp_inner.immutable_midstep("Compound::space"),(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)!=e&&(null!=(null==this.zpp_inner.space?null:this.zpp_inner.space.outer)&&(null==this.zpp_inner.space?null:this.zpp_inner.space.outer).zpp_inner.wrap_compounds.remove(this),null!=e&&((e=e.zpp_inner.wrap_compounds).zpp_inner.reverse_flag?e.push(this):e.unshift(this))),null==this.zpp_inner.space?null:this.zpp_inner.space.outer},ae.prototype.toString=function(){return"Compound"+this.zpp_inner_i.id},ae.prototype.copy=function(){return this.zpp_inner.copy()},ae.prototype.breakApart=function(){this.zpp_inner.breakApart()},ae.prototype.visitBodies=function(e){for(var t=this.zpp_inner.wrap_bodies,i=(t.zpp_inner.valmod(),at.get(t));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=at.zpp_pool,(at.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1,e(i.zpp_inner.at(i.zpp_i++))}for(var t=this.zpp_inner.wrap_compounds,r=(t.zpp_inner.valmod(),st.get(t));;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner,o=(o.zpp_inner.valmod(),o.zpp_inner.zip_length&&(o.zpp_inner.zip_length=!1,o.zpp_inner.user_length=o.zpp_inner.inner.length),o.zpp_inner.user_length);if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=st.zpp_pool,(st.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1,r.zpp_inner.at(r.zpp_i++).visitBodies(e)}},ae.prototype.visitConstraints=function(e){for(var t=this.zpp_inner.wrap_constraints,i=(t.zpp_inner.valmod(),Qe.get(t));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1,e(i.zpp_inner.at(i.zpp_i++))}for(var t=this.zpp_inner.wrap_compounds,r=(t.zpp_inner.valmod(),st.get(t));;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner,o=(o.zpp_inner.valmod(),o.zpp_inner.zip_length&&(o.zpp_inner.zip_length=!1,o.zpp_inner.user_length=o.zpp_inner.inner.length),o.zpp_inner.user_length);if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=st.zpp_pool,(st.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1,r.zpp_inner.at(r.zpp_i++).visitConstraints(e)}},ae.prototype.visitCompounds=function(e){for(var t=this.zpp_inner.wrap_compounds,i=(t.zpp_inner.valmod(),st.get(t));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=st.zpp_pool,(st.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);e(n),n.visitCompounds(e)}},ae.prototype.COM=function(e){null==e&&(e=!1),null==yi.poolVec2?t=new xe:(t=yi.poolVec2,yi.poolVec2=t.zpp_pool,t.zpp_pool=null),null==t.zpp_inner?(null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,i._immutable=!1,i.x=0,i.y=0,t.zpp_inner=i,t.zpp_inner.outer=t):(null!=(i=t.zpp_inner)._validate&&i._validate(),0==t.zpp_inner.x&&(null!=(i=t.zpp_inner)._validate&&i._validate(),0==t.zpp_inner.y)||(t.zpp_inner.x=0,t.zpp_inner.y=0,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(i))),t.zpp_inner.weak=e;var t,i,o=t,a=0;return this.visitBodies(function(e){var t,i,n,r;null!=e.zpp_inner.wrap_shapes.zpp_inner.inner.head&&(null==e.zpp_inner.wrap_worldCOM&&(r=e.zpp_inner.worldCOMx,t=e.zpp_inner.worldCOMy,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=r,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==r&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=r,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,e.zpp_inner.wrap_worldCOM=i,e.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,e.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,e.zpp_inner.wrap_worldCOM.zpp_inner._validate=Z(s=e.zpp_inner,s.getworldCOM)),r=e.zpp_inner.wrap_worldCOM,e.zpp_inner.validate_mass(),o.addeq(r.mul(e.zpp_inner.cmass,!0)),e.zpp_inner.validate_mass(),a+=e.zpp_inner.cmass)}),o.muleq(1/a),o},ae.prototype.translate=function(t){var e,i=t.zpp_inner.weak;return t.zpp_inner.weak=!1,this.visitBodies(function(e){null==e.zpp_inner.wrap_pos&&e.zpp_inner.setupPosition(),e.zpp_inner.wrap_pos.addeq(t)}),t.zpp_inner.weak=i,t.zpp_inner.weak&&(i=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,(e=t).zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this},ae.prototype.rotate=function(t,i){var e,n=t.zpp_inner.weak;return t.zpp_inner.weak=!1,this.visitBodies(function(e){e.rotate(t,i)}),t.zpp_inner.weak=n,t.zpp_inner.weak&&(n=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,(e=t).zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),this},Object.defineProperty(ae.prototype,"bodies",{get:ae.prototype.get_bodies}),Object.defineProperty(ae.prototype,"constraints",{get:ae.prototype.get_constraints}),Object.defineProperty(ae.prototype,"compounds",{get:ae.prototype.get_compounds}),Object.defineProperty(ae.prototype,"compound",{get:ae.prototype.get_compound,set:ae.prototype.set_compound}),Object.defineProperty(ae.prototype,"space",{get:ae.prototype.get_space,set:ae.prototype.set_space}),ae.prototype.__class__=ae,nape.phys.CompoundIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),se=(st.__name__=["nape","phys","CompoundIterator"],st.get=function(e){var t=null==st.zpp_pool?(Qn.internal=!0,t=new st,Qn.internal=!1,t):(t=st.zpp_pool,st.zpp_pool=t.zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},st.prototype.zpp_inner=null,st.prototype.zpp_i=null,st.prototype.zpp_critical=null,st.prototype.zpp_next=null,st.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=st.zpp_pool,(st.zpp_pool=this).zpp_inner=null,!1)},st.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},st.prototype.__class__=st,nape.phys.CompoundList=function(){this.zpp_inner=null,this.zpp_inner=new Qn,this.zpp_inner.outer=this}),pe=(se.__name__=["nape","phys","CompoundList"],se.fromArray=function(e){for(var t=new se,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},se.prototype.zpp_inner=null,se.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},se.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},se.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},se.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},se.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},se.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},se.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},se.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},se.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},se.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},se.prototype.empty=function(){return null==this.zpp_inner.inner.head},se.prototype.iterator=function(){return this.zpp_inner.valmod(),st.get(this)},se.prototype.copy=function(e){null==e&&(e=!1);for(var t=new se,i=(this.zpp_inner.valmod(),st.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=st.zpp_pool,(st.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},se.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=st.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=st.zpp_pool,(st.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},se.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),st.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=st.zpp_pool,(st.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},se.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=st.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=st.zpp_pool,(st.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=st.zpp_pool,(st.zpp_pool=t).zpp_inner=null;break}}return this},se.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(se.prototype,"length",{get:se.prototype.get_length}),se.prototype.__class__=se,nape.phys.FluidProperties=function(e,t){null==t&&(t=1),null==e&&(e=1),(this.zpp_inner=null)==ni.zpp_pool?this.zpp_inner=new ni:(this.zpp_inner=ni.zpp_pool,ni.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null),e!=1e3*(this.zpp_inner.outer=this).zpp_inner.density&&(this.zpp_inner.density=e/1e3,this.zpp_inner.invalidate()),t!=this.zpp_inner.viscosity&&(this.zpp_inner.viscosity=+t,this.zpp_inner.invalidate())}),le=(pe.__name__=["nape","phys","FluidProperties"],pe.prototype.zpp_inner=null,pe.prototype.get_userData=function(){return null==this.zpp_inner.userData&&(this.zpp_inner.userData={}),this.zpp_inner.userData},pe.prototype.get_shapes=function(){return null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=ar.get(this.zpp_inner.shapes,!0)),this.zpp_inner.wrap_shapes},pe.prototype.copy=function(){var e,t,i,n,r=new pe(1e3*this.zpp_inner.density,this.zpp_inner.viscosity),o=(null!=this.zpp_inner.userData&&(r.zpp_inner.userData=a.copy(this.zpp_inner.userData)),this.zpp_inner.wrap_gravity);return null==o?null!=r.zpp_inner.wrap_gravity&&(r.zpp_inner.wrap_gravity.zpp_inner._inuse=!1,n=(e=r.zpp_inner.wrap_gravity).zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n,r.zpp_inner.wrap_gravity=null):(null==r.zpp_inner.wrap_gravity&&r.zpp_inner.getgravity(),e=r.zpp_inner.wrap_gravity,null!=(n=o.zpp_inner)._validate&&n._validate(),n=o.zpp_inner.x,null!=(t=o.zpp_inner)._validate&&t._validate(),t=o.zpp_inner.y,null!=(i=e.zpp_inner)._validate&&i._validate(),e.zpp_inner.x==n&&(null!=(i=e.zpp_inner)._validate&&i._validate(),e.zpp_inner.y==t)||(e.zpp_inner.x=n,e.zpp_inner.y=t,null!=(i=e.zpp_inner)._invalidate&&i._invalidate(i)),o.zpp_inner.weak&&(n=o.zpp_inner,o.zpp_inner.outer=null,o.zpp_inner=null,o.zpp_pool=yi.poolVec2,yi.poolVec2=o,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n)),r},pe.prototype.get_density=function(){return 1e3*this.zpp_inner.density},pe.prototype.set_density=function(e){return e!=1e3*this.zpp_inner.density&&(this.zpp_inner.density=e/1e3,this.zpp_inner.invalidate()),1e3*this.zpp_inner.density},pe.prototype.get_viscosity=function(){return this.zpp_inner.viscosity},pe.prototype.set_viscosity=function(e){return e!=this.zpp_inner.viscosity&&(this.zpp_inner.viscosity=+e,this.zpp_inner.invalidate()),this.zpp_inner.viscosity},pe.prototype.get_gravity=function(){return this.zpp_inner.wrap_gravity},pe.prototype.set_gravity=function(e){var t,i,n,r;return null==e?null!=this.zpp_inner.wrap_gravity&&(this.zpp_inner.wrap_gravity.zpp_inner._inuse=!1,r=(t=this.zpp_inner.wrap_gravity).zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r,this.zpp_inner.wrap_gravity=null):(null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity(),t=this.zpp_inner.wrap_gravity,null!=(r=e.zpp_inner)._validate&&r._validate(),r=e.zpp_inner.x,null!=(i=e.zpp_inner)._validate&&i._validate(),i=e.zpp_inner.y,null!=(n=t.zpp_inner)._validate&&n._validate(),t.zpp_inner.x==r&&(null!=(n=t.zpp_inner)._validate&&n._validate(),t.zpp_inner.y==i)||(t.zpp_inner.x=r,t.zpp_inner.y=i,null!=(n=t.zpp_inner)._invalidate&&n._invalidate(n)),e.zpp_inner.weak&&(r=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r)),this.zpp_inner.wrap_gravity},pe.prototype.toString=function(){return"{ density: "+1e3*this.zpp_inner.density+" viscosity: "+this.zpp_inner.viscosity+" gravity: "+p.string(this.zpp_inner.wrap_gravity)+" }"},Object.defineProperty(pe.prototype,"userData",{get:pe.prototype.get_userData}),Object.defineProperty(pe.prototype,"shapes",{get:pe.prototype.get_shapes}),Object.defineProperty(pe.prototype,"density",{get:pe.prototype.get_density,set:pe.prototype.set_density}),Object.defineProperty(pe.prototype,"viscosity",{get:pe.prototype.get_viscosity,set:pe.prototype.set_viscosity}),Object.defineProperty(pe.prototype,"gravity",{get:pe.prototype.get_gravity,set:pe.prototype.set_gravity}),pe.prototype.__class__=pe,nape.phys.GravMassMode=function(){}),he=(le.__name__=["nape","phys","GravMassMode"],le.DEFAULT=null,le.get_DEFAULT=function(){return null==Tn.GravMassMode_DEFAULT&&(Tn.internal=!0,Tn.GravMassMode_DEFAULT=new le,Tn.internal=!1),Tn.GravMassMode_DEFAULT},le.FIXED=null,le.get_FIXED=function(){return null==Tn.GravMassMode_FIXED&&(Tn.internal=!0,Tn.GravMassMode_FIXED=new le,Tn.internal=!1),Tn.GravMassMode_FIXED},le.SCALED=null,le.get_SCALED=function(){return null==Tn.GravMassMode_SCALED&&(Tn.internal=!0,Tn.GravMassMode_SCALED=new le,Tn.internal=!1),Tn.GravMassMode_SCALED},le.prototype.toString=function(){return null==Tn.GravMassMode_DEFAULT&&(Tn.internal=!0,Tn.GravMassMode_DEFAULT=new le,Tn.internal=!1),this==Tn.GravMassMode_DEFAULT?"DEFAULT":(null==Tn.GravMassMode_FIXED&&(Tn.internal=!0,Tn.GravMassMode_FIXED=new le,Tn.internal=!1),this==Tn.GravMassMode_FIXED?"FIXED":(null==Tn.GravMassMode_SCALED&&(Tn.internal=!0,Tn.GravMassMode_SCALED=new le,Tn.internal=!1),this==Tn.GravMassMode_SCALED?"SCALED":""))},Object.defineProperty(le,"DEFAULT",{get:le.get_DEFAULT}),Object.defineProperty(le,"FIXED",{get:le.get_FIXED}),Object.defineProperty(le,"SCALED",{get:le.get_SCALED}),le.prototype.__class__=le,nape.phys.InertiaMode=function(){}),pt=(he.__name__=["nape","phys","InertiaMode"],he.DEFAULT=null,he.get_DEFAULT=function(){return null==Tn.InertiaMode_DEFAULT&&(Tn.internal=!0,Tn.InertiaMode_DEFAULT=new he,Tn.internal=!1),Tn.InertiaMode_DEFAULT},he.FIXED=null,he.get_FIXED=function(){return null==Tn.InertiaMode_FIXED&&(Tn.internal=!0,Tn.InertiaMode_FIXED=new he,Tn.internal=!1),Tn.InertiaMode_FIXED},he.prototype.toString=function(){return null==Tn.InertiaMode_DEFAULT&&(Tn.internal=!0,Tn.InertiaMode_DEFAULT=new he,Tn.internal=!1),this==Tn.InertiaMode_DEFAULT?"DEFAULT":(null==Tn.InertiaMode_FIXED&&(Tn.internal=!0,Tn.InertiaMode_FIXED=new he,Tn.internal=!1),this==Tn.InertiaMode_FIXED?"FIXED":"")},Object.defineProperty(he,"DEFAULT",{get:he.get_DEFAULT}),Object.defineProperty(he,"FIXED",{get:he.get_FIXED}),he.prototype.__class__=he,nape.phys.InteractorIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),ue=(pt.__name__=["nape","phys","InteractorIterator"],pt.get=function(e){var t=null==pt.zpp_pool?(Jn.internal=!0,t=new pt,Jn.internal=!1,t):(pt.zpp_pool=(t=pt.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},pt.prototype.zpp_inner=null,pt.prototype.zpp_i=null,pt.prototype.zpp_critical=null,pt.prototype.zpp_next=null,pt.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=pt.zpp_pool,(pt.zpp_pool=this).zpp_inner=null,!1)},pt.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},pt.prototype.__class__=pt,nape.phys.InteractorList=function(){this.zpp_inner=null,this.zpp_inner=new Jn,this.zpp_inner.outer=this}),ce=(ue.__name__=["nape","phys","InteractorList"],ue.fromArray=function(e){for(var t=new ue,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},ue.prototype.zpp_inner=null,ue.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},ue.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner_i)},ue.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer_i},ue.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner_i):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner_i)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},ue.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner_i)):this.zpp_inner.inner.add(e.zpp_inner_i),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},ue.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer_i,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer_i,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer_i},ue.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer_i,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer_i,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer_i},ue.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},ue.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner_i){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner_i),this.zpp_inner.invalidate()),t},ue.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},ue.prototype.empty=function(){return null==this.zpp_inner.inner.head},ue.prototype.iterator=function(){return this.zpp_inner.valmod(),pt.get(this)},ue.prototype.copy=function(e){null==e&&(e=!1);for(var t=new ue,i=(this.zpp_inner.valmod(),pt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=pt.zpp_pool,(pt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},ue.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=pt.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=pt.zpp_pool,(pt.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},ue.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),pt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=pt.zpp_pool,(pt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},ue.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=pt.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=pt.zpp_pool,(pt.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=pt.zpp_pool,(pt.zpp_pool=t).zpp_inner=null;break}}return this},ue.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(ue.prototype,"length",{get:ue.prototype.get_length}),ue.prototype.__class__=ue,nape.phys.MassMode=function(){}),me=(ce.__name__=["nape","phys","MassMode"],ce.DEFAULT=null,ce.get_DEFAULT=function(){return null==Tn.MassMode_DEFAULT&&(Tn.internal=!0,Tn.MassMode_DEFAULT=new ce,Tn.internal=!1),Tn.MassMode_DEFAULT},ce.FIXED=null,ce.get_FIXED=function(){return null==Tn.MassMode_FIXED&&(Tn.internal=!0,Tn.MassMode_FIXED=new ce,Tn.internal=!1),Tn.MassMode_FIXED},ce.prototype.toString=function(){return null==Tn.MassMode_DEFAULT&&(Tn.internal=!0,Tn.MassMode_DEFAULT=new ce,Tn.internal=!1),this==Tn.MassMode_DEFAULT?"DEFAULT":(null==Tn.MassMode_FIXED&&(Tn.internal=!0,Tn.MassMode_FIXED=new ce,Tn.internal=!1),this==Tn.MassMode_FIXED?"FIXED":"")},Object.defineProperty(ce,"DEFAULT",{get:ce.get_DEFAULT}),Object.defineProperty(ce,"FIXED",{get:ce.get_FIXED}),ce.prototype.__class__=ce,nape.phys.Material=function(e,t,i,n,r){null==r&&(r=.001),null==n&&(n=1),null==i&&(i=2),null==t&&(t=1),null==e&&(e=0),(this.zpp_inner=null)==ri.zpp_pool?this.zpp_inner=new ri:(this.zpp_inner=ri.zpp_pool,ri.zpp_pool=this.zpp_inner.next,this.zpp_inner.next=null),e!=(this.zpp_inner.outer=this).zpp_inner.elasticity&&(this.zpp_inner.elasticity=+e,this.zpp_inner.invalidate(ri.WAKE|ri.ARBITERS)),t!=this.zpp_inner.dynamicFriction&&(this.zpp_inner.dynamicFriction=+t,this.zpp_inner.invalidate(ri.WAKE|ri.ANGDRAG|ri.ARBITERS)),i!=this.zpp_inner.staticFriction&&(this.zpp_inner.staticFriction=+i,this.zpp_inner.invalidate(ri.WAKE|ri.ARBITERS)),n!=1e3*this.zpp_inner.density&&(this.zpp_inner.density=n/1e3,this.zpp_inner.invalidate(ri.WAKE|ri.PROPS)),r!=this.zpp_inner.rollingFriction&&(this.zpp_inner.rollingFriction=+r,this.zpp_inner.invalidate(ri.WAKE|ri.ARBITERS))}),ye=(me.__name__=["nape","phys","Material"],me.wood=function(){return new me(.4,.2,.38,.7,.005)},me.steel=function(){return new me(.2,.57,.74,7.8,.001)},me.ice=function(){return new me(.3,.03,.1,.9,1e-4)},me.rubber=function(){return new me(.8,1,1.4,1.5,.01)},me.glass=function(){return new me(.4,.4,.94,2.6,.002)},me.sand=function(){return new me(-1,.45,.6,1.6,16)},me.prototype.zpp_inner=null,me.prototype.get_userData=function(){return null==this.zpp_inner.userData&&(this.zpp_inner.userData={}),this.zpp_inner.userData},me.prototype.get_shapes=function(){return null==this.zpp_inner.wrap_shapes&&(this.zpp_inner.wrap_shapes=ar.get(this.zpp_inner.shapes,!0)),this.zpp_inner.wrap_shapes},me.prototype.copy=function(){var e=new me(this.zpp_inner.elasticity,this.zpp_inner.dynamicFriction,this.zpp_inner.staticFriction,1e3*this.zpp_inner.density,this.zpp_inner.rollingFriction);return null!=this.zpp_inner.userData&&(e.zpp_inner.userData=a.copy(this.zpp_inner.userData)),e},me.prototype.get_elasticity=function(){return this.zpp_inner.elasticity},me.prototype.set_elasticity=function(e){return e!=this.zpp_inner.elasticity&&(this.zpp_inner.elasticity=+e,this.zpp_inner.invalidate(ri.WAKE|ri.ARBITERS)),this.zpp_inner.elasticity},me.prototype.get_dynamicFriction=function(){return this.zpp_inner.dynamicFriction},me.prototype.set_dynamicFriction=function(e){return e!=this.zpp_inner.dynamicFriction&&(this.zpp_inner.dynamicFriction=+e,this.zpp_inner.invalidate(ri.WAKE|ri.ANGDRAG|ri.ARBITERS)),this.zpp_inner.dynamicFriction},me.prototype.get_staticFriction=function(){return this.zpp_inner.staticFriction},me.prototype.set_staticFriction=function(e){return e!=this.zpp_inner.staticFriction&&(this.zpp_inner.staticFriction=+e,this.zpp_inner.invalidate(ri.WAKE|ri.ARBITERS)),this.zpp_inner.staticFriction},me.prototype.get_density=function(){return 1e3*this.zpp_inner.density},me.prototype.set_density=function(e){return e!=1e3*this.zpp_inner.density&&(this.zpp_inner.density=e/1e3,this.zpp_inner.invalidate(ri.WAKE|ri.PROPS)),1e3*this.zpp_inner.density},me.prototype.get_rollingFriction=function(){return this.zpp_inner.rollingFriction},me.prototype.set_rollingFriction=function(e){return e!=this.zpp_inner.rollingFriction&&(this.zpp_inner.rollingFriction=+e,this.zpp_inner.invalidate(ri.WAKE|ri.ARBITERS)),this.zpp_inner.rollingFriction},me.prototype.toString=function(){return"{ elasticity: "+this.zpp_inner.elasticity+" dynamicFriction: "+this.zpp_inner.dynamicFriction+" staticFriction: "+this.zpp_inner.staticFriction+" density: "+1e3*this.zpp_inner.density+" rollingFriction: "+this.zpp_inner.rollingFriction+" }"},Object.defineProperty(me.prototype,"userData",{get:me.prototype.get_userData}),Object.defineProperty(me.prototype,"shapes",{get:me.prototype.get_shapes}),Object.defineProperty(me.prototype,"elasticity",{get:me.prototype.get_elasticity,set:me.prototype.set_elasticity}),Object.defineProperty(me.prototype,"dynamicFriction",{get:me.prototype.get_dynamicFriction,set:me.prototype.set_dynamicFriction}),Object.defineProperty(me.prototype,"staticFriction",{get:me.prototype.get_staticFriction,set:me.prototype.set_staticFriction}),Object.defineProperty(me.prototype,"density",{get:me.prototype.get_density,set:me.prototype.set_density}),Object.defineProperty(me.prototype,"rollingFriction",{get:me.prototype.get_rollingFriction,set:me.prototype.set_rollingFriction}),me.prototype.__class__=me,nape.shape.Shape=function(){this.zpp_inner=null,ne.call(this)}),_e=(ye.__name__=["nape","shape","Shape"],ye.__super__=ne,(ye.prototype=Object.create(ne.prototype)).zpp_inner=null,ye.prototype.get_type=function(){return oi.types[this.zpp_inner.type]},ye.prototype.isCircle=function(){return 0==this.zpp_inner.type},ye.prototype.isPolygon=function(){return 1==this.zpp_inner.type},ye.prototype.get_body=function(){return null!=this.zpp_inner.body?this.zpp_inner.body.outer:null},ye.prototype.set_body=function(e){return this.zpp_inner.immutable_midstep("Shape::body"),(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null)!=e&&(null!=this.zpp_inner.body&&(null!=this.zpp_inner.body?this.zpp_inner.body.outer:null).zpp_inner.wrap_shapes.remove(this),null!=e&&((e=e.zpp_inner.wrap_shapes).zpp_inner.reverse_flag?e.push(this):e.unshift(this))),null!=this.zpp_inner.body?this.zpp_inner.body.outer:null},ye.prototype.get_castCircle=function(){return 0==this.zpp_inner.type?this.zpp_inner.circle.outer_zn:null},ye.prototype.get_castPolygon=function(){return 1==this.zpp_inner.type?this.zpp_inner.polygon.outer_zn:null},ye.prototype.get_worldCOM=function(){var e,t,i,n;return null==this.zpp_inner.wrap_worldCOM&&(e=this.zpp_inner.worldCOMx,t=this.zpp_inner.worldCOMy,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,this.zpp_inner.wrap_worldCOM=i,this.zpp_inner.wrap_worldCOM.zpp_inner._inuse=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._immutable=!0,this.zpp_inner.wrap_worldCOM.zpp_inner._validate=Z(s=this.zpp_inner,s.getworldCOM)),this.zpp_inner.wrap_worldCOM},ye.prototype.get_localCOM=function(){return null==this.zpp_inner.wrap_localCOM&&(0==this.zpp_inner.type?this.zpp_inner.circle:this.zpp_inner.polygon).setupLocalCOM(),this.zpp_inner.wrap_localCOM},ye.prototype.set_localCOM=function(e){this.zpp_inner.immutable_midstep("Body::localCOM"),null==this.zpp_inner.wrap_localCOM&&(0==this.zpp_inner.type?this.zpp_inner.circle:this.zpp_inner.polygon).setupLocalCOM();var t=this.zpp_inner.wrap_localCOM,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.wrap_localCOM&&(0==this.zpp_inner.type?this.zpp_inner.circle:this.zpp_inner.polygon).setupLocalCOM(),this.zpp_inner.wrap_localCOM},ye.prototype.get_area=function(){return this.zpp_inner.validate_area_inertia(),this.zpp_inner.area},ye.prototype.get_inertia=function(){return this.zpp_inner.validate_area_inertia(),this.zpp_inner.inertia},ye.prototype.get_angDrag=function(){return this.zpp_inner.validate_angDrag(),this.zpp_inner.angDrag},ye.prototype.get_material=function(){return this.zpp_inner.material.wrapper()},ye.prototype.set_material=function(e){return this.zpp_inner.immutable_midstep("Shape::material"),this.zpp_inner.setMaterial(e.zpp_inner),this.zpp_inner.material.wrapper()},ye.prototype.get_filter=function(){return this.zpp_inner.filter.wrapper()},ye.prototype.set_filter=function(e){return this.zpp_inner.immutable_midstep("Shape::filter"),this.zpp_inner.setFilter(e.zpp_inner),this.zpp_inner.filter.wrapper()},ye.prototype.get_fluidProperties=function(){return this.zpp_inner.immutable_midstep("Shape::fluidProperties"),null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new pe).zpp_inner),this.zpp_inner.fluidProperties.wrapper()},ye.prototype.set_fluidProperties=function(e){return this.zpp_inner.setFluid(e.zpp_inner),this.zpp_inner.immutable_midstep("Shape::fluidProperties"),null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new pe).zpp_inner),this.zpp_inner.fluidProperties.wrapper()},ye.prototype.get_fluidEnabled=function(){return this.zpp_inner.fluidEnabled},ye.prototype.set_fluidEnabled=function(e){return this.zpp_inner.immutable_midstep("Shape::fluidEnabled"),(this.zpp_inner.fluidEnabled=e)&&null==this.zpp_inner.fluidProperties&&(this.zpp_inner.setFluid((new pe).zpp_inner),this.zpp_inner.immutable_midstep("Shape::fluidProperties"),null==this.zpp_inner.fluidProperties&&this.zpp_inner.setFluid((new pe).zpp_inner),this.zpp_inner.fluidProperties.wrapper()),this.zpp_inner.wake(),this.zpp_inner.fluidEnabled},ye.prototype.get_sensorEnabled=function(){return this.zpp_inner.sensorEnabled},ye.prototype.set_sensorEnabled=function(e){return this.zpp_inner.immutable_midstep("Shape::sensorEnabled"),this.zpp_inner.sensorEnabled=e,this.zpp_inner.wake(),this.zpp_inner.sensorEnabled},ye.prototype.get_bounds=function(){return this.zpp_inner.aabb.wrapper()},ye.prototype.translate=function(e){var t,i;return this.zpp_inner.immutable_midstep("Shape::translate()"),0<e.lsq()&&(0==this.zpp_inner.type?(null!=(t=e.zpp_inner)._validate&&t._validate(),t=e.zpp_inner.x,null!=(i=e.zpp_inner)._validate&&i._validate(),this.zpp_inner.circle.__translate(t,e.zpp_inner.y)):(null!=(i=e.zpp_inner)._validate&&i._validate(),t=e.zpp_inner.x,null!=(i=e.zpp_inner)._validate&&i._validate(),this.zpp_inner.polygon.__translate(t,e.zpp_inner.y))),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),this},ye.prototype.scale=function(e,t){var i;return this.zpp_inner.immutable_midstep("Shape::scale()"),0==this.zpp_inner.type?(i=e*e-t*t)*i<ur.epsilon*ur.epsilon&&this.zpp_inner.circle.__scale(e,t):this.zpp_inner.polygon.__scale(e,t),this},ye.prototype.rotate=function(e){var t;return this.zpp_inner.immutable_midstep("Shape::rotate()"),e%(2*Math.PI)!=0&&(t=Math.cos(e),e=Math.sin(e),(0==this.zpp_inner.type?this.zpp_inner.circle:this.zpp_inner.polygon).__rotate(e,t)),this},ye.prototype.transform=function(e){return this.zpp_inner.immutable_midstep("Shape::transform()"),0==this.zpp_inner.type?e.equiorthogonal()&&this.zpp_inner.circle.__transform(e):this.zpp_inner.polygon.__transform(e),this},ye.prototype.contains=function(e){Mt.validateShape(this.zpp_inner);var t,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),dr.shapeContains(this.zpp_inner,e.zpp_inner));return e.zpp_inner.weak&&(t=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t),i},ye.prototype.copy=function(){return this.zpp_inner.copy()},ye.prototype.toString=function(){return(0==this.zpp_inner.type?"Circle":"Polygon")+"#"+this.zpp_inner_i.id},Object.defineProperty(ye.prototype,"type",{get:ye.prototype.get_type}),Object.defineProperty(ye.prototype,"body",{get:ye.prototype.get_body,set:ye.prototype.set_body}),Object.defineProperty(ye.prototype,"castCircle",{get:ye.prototype.get_castCircle}),Object.defineProperty(ye.prototype,"castPolygon",{get:ye.prototype.get_castPolygon}),Object.defineProperty(ye.prototype,"worldCOM",{get:ye.prototype.get_worldCOM}),Object.defineProperty(ye.prototype,"localCOM",{get:ye.prototype.get_localCOM,set:ye.prototype.set_localCOM}),Object.defineProperty(ye.prototype,"area",{get:ye.prototype.get_area}),Object.defineProperty(ye.prototype,"inertia",{get:ye.prototype.get_inertia}),Object.defineProperty(ye.prototype,"angDrag",{get:ye.prototype.get_angDrag}),Object.defineProperty(ye.prototype,"material",{get:ye.prototype.get_material,set:ye.prototype.set_material}),Object.defineProperty(ye.prototype,"filter",{get:ye.prototype.get_filter,set:ye.prototype.set_filter}),Object.defineProperty(ye.prototype,"fluidProperties",{get:ye.prototype.get_fluidProperties,set:ye.prototype.set_fluidProperties}),Object.defineProperty(ye.prototype,"fluidEnabled",{get:ye.prototype.get_fluidEnabled,set:ye.prototype.set_fluidEnabled}),Object.defineProperty(ye.prototype,"sensorEnabled",{get:ye.prototype.get_sensorEnabled,set:ye.prototype.set_sensorEnabled}),Object.defineProperty(ye.prototype,"bounds",{get:ye.prototype.get_bounds}),ye.prototype.__class__=ye,nape.shape.Circle=function(e,t,i,n){this.zpp_inner_zn=null,ye.call(this),this.zpp_inner_zn=new ai,((this.zpp_inner_zn.outer=this).zpp_inner_zn.outer_zn=this).zpp_inner=this.zpp_inner_zn,this.zpp_inner_i=this.zpp_inner,(this.zpp_inner_i.outer_i=this).zpp_inner.immutable_midstep("Circle::radius"),e!=this.zpp_inner_zn.radius&&(this.zpp_inner_zn.radius=e,this.zpp_inner_zn.invalidate_radius()),null==t?(this.zpp_inner.localCOMx=0,this.zpp_inner.localCOMy=0):(null!=(e=t.zpp_inner)._validate&&e._validate(),this.zpp_inner.localCOMx=t.zpp_inner.x,null!=(e=t.zpp_inner)._validate&&e._validate(),this.zpp_inner.localCOMy=t.zpp_inner.y,t.zpp_inner.weak&&(e=t.zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e)),null==i?null==ri.zpp_pool?this.zpp_inner.material=new ri:(this.zpp_inner.material=ri.zpp_pool,ri.zpp_pool=this.zpp_inner.material.next,this.zpp_inner.material.next=null):(this.zpp_inner.immutable_midstep("Shape::material"),this.zpp_inner.setMaterial(i.zpp_inner),this.zpp_inner.material.wrapper()),null==n?null==zt.zpp_pool?this.zpp_inner.filter=new zt:(this.zpp_inner.filter=zt.zpp_pool,zt.zpp_pool=this.zpp_inner.filter.next,this.zpp_inner.filter.next=null):(this.zpp_inner.immutable_midstep("Shape::filter"),this.zpp_inner.setFilter(n.zpp_inner),this.zpp_inner.filter.wrapper()),this.zpp_inner_i.insert_cbtype(Ie.ANY_SHAPE.zpp_inner)}),ge=(_e.__name__=["nape","shape","Circle"],_e.__super__=ye,(_e.prototype=Object.create(ye.prototype)).zpp_inner_zn=null,_e.prototype.get_radius=function(){return this.zpp_inner_zn.radius},_e.prototype.set_radius=function(e){return this.zpp_inner.immutable_midstep("Circle::radius"),e!=this.zpp_inner_zn.radius&&(this.zpp_inner_zn.radius=e,this.zpp_inner_zn.invalidate_radius()),this.zpp_inner_zn.radius},Object.defineProperty(_e.prototype,"radius",{get:_e.prototype.get_radius,set:_e.prototype.set_radius}),_e.prototype.__class__=_e,nape.shape.Edge=function(){this.zpp_inner=null}),lt=(ge.__name__=["nape","shape","Edge"],ge.prototype.zpp_inner=null,ge.prototype.get_polygon=function(){return this.zpp_inner.polygon.outer_zn},ge.prototype.get_localNormal=function(){return null==this.zpp_inner.wrap_lnorm&&this.zpp_inner.getlnorm(),this.zpp_inner.wrap_lnorm},ge.prototype.get_worldNormal=function(){return null==this.zpp_inner.wrap_gnorm&&this.zpp_inner.getgnorm(),this.zpp_inner.wrap_gnorm},ge.prototype.get_length=function(){return this.zpp_inner.polygon.validate_laxi(),this.zpp_inner.length},ge.prototype.get_localProjection=function(){return this.zpp_inner.polygon.validate_laxi(),this.zpp_inner.lprojection},ge.prototype.get_worldProjection=function(){var e=this.zpp_inner.polygon;if(e.zip_gaxi&&null!=e.body){e.zip_gaxi=!1,e.validate_laxi();var t=e.body;if(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.zip_gverts&&null!=e.body){e.zip_gverts=!1,e.validate_lverts();for(var t=e.body,i=(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.lverts.next),n=e.gverts.next;null!=n;){var r=n,o=i,i=i.next;r.x=e.body.posx+(e.body.axisy*o.x-e.body.axisx*o.y),r.y=e.body.posy+(o.x*e.body.axisx+o.y*e.body.axisy),n=n.next}}for(var a=e.edges.head,s=p=e.gverts.next,p=p.next;null!=p;){var l=p,h=a.elt,a=a.next;h.gp0=s,h.gp1=l,h.gnormx=e.body.axisy*h.lnormx-e.body.axisx*h.lnormy,h.gnormy=h.lnormx*e.body.axisx+h.lnormy*e.body.axisy,h.gprojection=e.body.posx*h.gnormx+e.body.posy*h.gnormy+h.lprojection,null!=h.wrap_gnorm&&(h.wrap_gnorm.zpp_inner.x=h.gnormx,h.wrap_gnorm.zpp_inner.y=h.gnormy),h.tp0=h.gp0.y*h.gnormx-h.gp0.x*h.gnormy,h.tp1=h.gp1.y*h.gnormx-h.gp1.x*h.gnormy,s=l,p=p.next}t=a.elt;t.gp0=s,t.gp1=e.gverts.next,t.gnormx=e.body.axisy*t.lnormx-e.body.axisx*t.lnormy,t.gnormy=t.lnormx*e.body.axisx+t.lnormy*e.body.axisy,t.gprojection=e.body.posx*t.gnormx+e.body.posy*t.gnormy+t.lprojection,null!=t.wrap_gnorm&&(t.wrap_gnorm.zpp_inner.x=t.gnormx,t.wrap_gnorm.zpp_inner.y=t.gnormy),t.tp0=t.gp0.y*t.gnormx-t.gp0.x*t.gnormy,t.tp1=t.gp1.y*t.gnormx-t.gp1.x*t.gnormy}return this.zpp_inner.gprojection},ge.prototype.get_localVertex1=function(){this.zpp_inner.polygon.validate_laxi();var e,t=this.zpp_inner.lp0;return null==t.outer&&(t.outer=new xe,null!=(e=t.outer.zpp_inner).outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,t.outer.zpp_inner=t),t.outer},ge.prototype.get_localVertex2=function(){this.zpp_inner.polygon.validate_laxi();var e,t=this.zpp_inner.lp1;return null==t.outer&&(t.outer=new xe,null!=(e=t.outer.zpp_inner).outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,t.outer.zpp_inner=t),t.outer},ge.prototype.get_worldVertex1=function(){var e=this.zpp_inner.polygon;if(e.zip_gaxi&&null!=e.body){e.zip_gaxi=!1,e.validate_laxi();var t=e.body;if(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.zip_gverts&&null!=e.body){e.zip_gverts=!1,e.validate_lverts();for(var t=e.body,i=(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.lverts.next),n=e.gverts.next;null!=n;){var r=n,o=i,i=i.next;r.x=e.body.posx+(e.body.axisy*o.x-e.body.axisx*o.y),r.y=e.body.posy+(o.x*e.body.axisx+o.y*e.body.axisy),n=n.next}}for(var a=e.edges.head,s=p=e.gverts.next,p=p.next;null!=p;){var l=p,h=a.elt,a=a.next;h.gp0=s,h.gp1=l,h.gnormx=e.body.axisy*h.lnormx-e.body.axisx*h.lnormy,h.gnormy=h.lnormx*e.body.axisx+h.lnormy*e.body.axisy,h.gprojection=e.body.posx*h.gnormx+e.body.posy*h.gnormy+h.lprojection,null!=h.wrap_gnorm&&(h.wrap_gnorm.zpp_inner.x=h.gnormx,h.wrap_gnorm.zpp_inner.y=h.gnormy),h.tp0=h.gp0.y*h.gnormx-h.gp0.x*h.gnormy,h.tp1=h.gp1.y*h.gnormx-h.gp1.x*h.gnormy,s=l,p=p.next}t=a.elt;t.gp0=s,t.gp1=e.gverts.next,t.gnormx=e.body.axisy*t.lnormx-e.body.axisx*t.lnormy,t.gnormy=t.lnormx*e.body.axisx+t.lnormy*e.body.axisy,t.gprojection=e.body.posx*t.gnormx+e.body.posy*t.gnormy+t.lprojection,null!=t.wrap_gnorm&&(t.wrap_gnorm.zpp_inner.x=t.gnormx,t.wrap_gnorm.zpp_inner.y=t.gnormy),t.tp0=t.gp0.y*t.gnormx-t.gp0.x*t.gnormy,t.tp1=t.gp1.y*t.gnormx-t.gp1.x*t.gnormy}var u,t=this.zpp_inner.gp0;return null==t.outer&&(t.outer=new xe,null!=(u=t.outer.zpp_inner).outer&&(u.outer.zpp_inner=null,u.outer=null),u._isimmutable=null,u._validate=null,u._invalidate=null,u.next=cr.zpp_pool,cr.zpp_pool=u,t.outer.zpp_inner=t),t.outer},ge.prototype.get_worldVertex2=function(){var e=this.zpp_inner.polygon;if(e.zip_gaxi&&null!=e.body){e.zip_gaxi=!1,e.validate_laxi();var t=e.body;if(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.zip_gverts&&null!=e.body){e.zip_gverts=!1,e.validate_lverts();for(var t=e.body,i=(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.lverts.next),n=e.gverts.next;null!=n;){var r=n,o=i,i=i.next;r.x=e.body.posx+(e.body.axisy*o.x-e.body.axisx*o.y),r.y=e.body.posy+(o.x*e.body.axisx+o.y*e.body.axisy),n=n.next}}for(var a=e.edges.head,s=p=e.gverts.next,p=p.next;null!=p;){var l=p,h=a.elt,a=a.next;h.gp0=s,h.gp1=l,h.gnormx=e.body.axisy*h.lnormx-e.body.axisx*h.lnormy,h.gnormy=h.lnormx*e.body.axisx+h.lnormy*e.body.axisy,h.gprojection=e.body.posx*h.gnormx+e.body.posy*h.gnormy+h.lprojection,null!=h.wrap_gnorm&&(h.wrap_gnorm.zpp_inner.x=h.gnormx,h.wrap_gnorm.zpp_inner.y=h.gnormy),h.tp0=h.gp0.y*h.gnormx-h.gp0.x*h.gnormy,h.tp1=h.gp1.y*h.gnormx-h.gp1.x*h.gnormy,s=l,p=p.next}t=a.elt;t.gp0=s,t.gp1=e.gverts.next,t.gnormx=e.body.axisy*t.lnormx-e.body.axisx*t.lnormy,t.gnormy=t.lnormx*e.body.axisx+t.lnormy*e.body.axisy,t.gprojection=e.body.posx*t.gnormx+e.body.posy*t.gnormy+t.lprojection,null!=t.wrap_gnorm&&(t.wrap_gnorm.zpp_inner.x=t.gnormx,t.wrap_gnorm.zpp_inner.y=t.gnormy),t.tp0=t.gp0.y*t.gnormx-t.gp0.x*t.gnormy,t.tp1=t.gp1.y*t.gnormx-t.gp1.x*t.gnormy}var u,t=this.zpp_inner.gp1;return null==t.outer&&(t.outer=new xe,null!=(u=t.outer.zpp_inner).outer&&(u.outer.zpp_inner=null,u.outer=null),u._isimmutable=null,u._validate=null,u._invalidate=null,u.next=cr.zpp_pool,cr.zpp_pool=u,t.outer.zpp_inner=t),t.outer},ge.prototype.toString=function(){if(null==this.zpp_inner.polygon)return"Edge(object-pooled)";if(null==this.zpp_inner.polygon.body)return this.zpp_inner.polygon.validate_laxi(),"{ localNormal : { x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" } }";var e=this.zpp_inner.polygon;if(e.zip_gaxi&&null!=e.body){e.zip_gaxi=!1,e.validate_laxi();var t=e.body;if(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.zip_gverts&&null!=e.body){e.zip_gverts=!1,e.validate_lverts();for(var t=e.body,i=(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.lverts.next),n=e.gverts.next;null!=n;){var r=n,o=i,i=i.next;r.x=e.body.posx+(e.body.axisy*o.x-e.body.axisx*o.y),r.y=e.body.posy+(o.x*e.body.axisx+o.y*e.body.axisy),n=n.next}}for(var a=e.edges.head,s=p=e.gverts.next,p=p.next;null!=p;){var l=p,h=a.elt,a=a.next;h.gp0=s,h.gp1=l,h.gnormx=e.body.axisy*h.lnormx-e.body.axisx*h.lnormy,h.gnormy=h.lnormx*e.body.axisx+h.lnormy*e.body.axisy,h.gprojection=e.body.posx*h.gnormx+e.body.posy*h.gnormy+h.lprojection,null!=h.wrap_gnorm&&(h.wrap_gnorm.zpp_inner.x=h.gnormx,h.wrap_gnorm.zpp_inner.y=h.gnormy),h.tp0=h.gp0.y*h.gnormx-h.gp0.x*h.gnormy,h.tp1=h.gp1.y*h.gnormx-h.gp1.x*h.gnormy,s=l,p=p.next}t=a.elt;t.gp0=s,t.gp1=e.gverts.next,t.gnormx=e.body.axisy*t.lnormx-e.body.axisx*t.lnormy,t.gnormy=t.lnormx*e.body.axisx+t.lnormy*e.body.axisy,t.gprojection=e.body.posx*t.gnormx+e.body.posy*t.gnormy+t.lprojection,null!=t.wrap_gnorm&&(t.wrap_gnorm.zpp_inner.x=t.gnormx,t.wrap_gnorm.zpp_inner.y=t.gnormy),t.tp0=t.gp0.y*t.gnormx-t.gp0.x*t.gnormy,t.tp1=t.gp1.y*t.gnormx-t.gp1.x*t.gnormy}return"{ localNormal : { x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" } worldNormal : { x: "+this.zpp_inner.gnormx+" y: "+this.zpp_inner.gnormy+" } }"},Object.defineProperty(ge.prototype,"polygon",{get:ge.prototype.get_polygon}),Object.defineProperty(ge.prototype,"localNormal",{get:ge.prototype.get_localNormal}),Object.defineProperty(ge.prototype,"worldNormal",{get:ge.prototype.get_worldNormal}),Object.defineProperty(ge.prototype,"length",{get:ge.prototype.get_length}),Object.defineProperty(ge.prototype,"localProjection",{get:ge.prototype.get_localProjection}),Object.defineProperty(ge.prototype,"worldProjection",{get:ge.prototype.get_worldProjection}),Object.defineProperty(ge.prototype,"localVertex1",{get:ge.prototype.get_localVertex1}),Object.defineProperty(ge.prototype,"localVertex2",{get:ge.prototype.get_localVertex2}),Object.defineProperty(ge.prototype,"worldVertex1",{get:ge.prototype.get_worldVertex1}),Object.defineProperty(ge.prototype,"worldVertex2",{get:ge.prototype.get_worldVertex2}),ge.prototype.__class__=ge,nape.shape.EdgeIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),ve=(lt.__name__=["nape","shape","EdgeIterator"],lt.get=function(e){var t=null==lt.zpp_pool?(or.internal=!0,t=new lt,or.internal=!1,t):(lt.zpp_pool=(t=lt.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},lt.prototype.zpp_inner=null,lt.prototype.zpp_i=null,lt.prototype.zpp_critical=null,lt.prototype.zpp_next=null,lt.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=lt.zpp_pool,(lt.zpp_pool=this).zpp_inner=null,!1)},lt.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},lt.prototype.__class__=lt,nape.shape.EdgeList=function(){this.zpp_inner=null,this.zpp_inner=new or,this.zpp_inner.outer=this}),ze=(ve.__name__=["nape","shape","EdgeList"],ve.fromArray=function(e){for(var t=new ve,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},ve.prototype.zpp_inner=null,ve.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},ve.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},ve.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e!=this.zpp_inner.user_length-1&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-2-e)),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},ve.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},ve.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},ve.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.wrapper()},ve.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).wrapper(),null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.wrapper()},ve.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},ve.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},ve.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},ve.prototype.empty=function(){return null==this.zpp_inner.inner.head},ve.prototype.iterator=function(){return this.zpp_inner.valmod(),lt.get(this)},ve.prototype.copy=function(e){null==e&&(e=!1);for(var t=new ve,i=(this.zpp_inner.valmod(),lt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=lt.zpp_pool,(lt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},ve.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=lt.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=lt.zpp_pool,(lt.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},ve.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),lt.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=lt.zpp_pool,(lt.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},ve.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=lt.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=lt.zpp_pool,(lt.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=lt.zpp_pool,(lt.zpp_pool=t).zpp_inner=null;break}}return this},ve.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(ve.prototype,"length",{get:ve.prototype.get_length}),ve.prototype.__class__=ve,nape.shape.Polygon=function(e,t,i){if(this.zpp_inner_zn=null,ye.call(this),this.zpp_inner_zn=new pi,((this.zpp_inner_zn.outer=this).zpp_inner_zn.outer_zn=this).zpp_inner=this.zpp_inner_zn,this.zpp_inner_i=this.zpp_inner,this.zpp_inner_i.outer_i=this,e instanceof Array&&null==e.__enum__)for(var n=e,r=0;r<n.length;){var o,a,s=n[r],L=(++r,null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts(),this.zpp_inner_zn.wrap_lverts),p=s.zpp_inner,p=(null!=p._validate&&p._validate(),s.zpp_inner.x),l=s.zpp_inner,l=(null!=l._validate&&l._validate(),s.zpp_inner.y);null==yi.poolVec2?o=new xe:(o=yi.poolVec2,yi.poolVec2=o.zpp_pool,o.zpp_pool=null),null==o.zpp_inner?(null==cr.zpp_pool?a=new cr:(a=cr.zpp_pool,cr.zpp_pool=a.next,a.next=null),a.weak=!1,a._immutable=!1,a.x=p,a.y=l,o.zpp_inner=a,o.zpp_inner.outer=o):(null!=(s=o.zpp_inner)._validate&&s._validate(),o.zpp_inner.x==p&&(null!=(s=o.zpp_inner)._validate&&s._validate(),o.zpp_inner.y==l)||(o.zpp_inner.x=p,o.zpp_inner.y=l,null!=(s=o.zpp_inner)._invalidate&&s._invalidate(s))),o.zpp_inner.weak=!1,L.push(o)}else if(j.__instanceof(e,te))for(var h=e.iterator();;){h.zpp_inner.zpp_inner.valmod();var u=h.zpp_inner.zpp_gl();if(h.zpp_critical=!0,!(h.zpp_i<u||(h.zpp_next=ot.zpp_pool,(ot.zpp_pool=h).zpp_inner=null,!1)))break;h.zpp_critical=!1;var d,c,u=h.zpp_inner.at(h.zpp_i++),D=(null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts(),this.zpp_inner_zn.wrap_lverts),m=u.zpp_inner,m=(null!=m._validate&&m._validate(),u.zpp_inner.x),y=u.zpp_inner,y=(null!=y._validate&&y._validate(),u.zpp_inner.y);null==yi.poolVec2?d=new xe:(d=yi.poolVec2,yi.poolVec2=d.zpp_pool,d.zpp_pool=null),null==d.zpp_inner?(null==cr.zpp_pool?c=new cr:(c=cr.zpp_pool,cr.zpp_pool=c.next,c.next=null),c.weak=!1,c._immutable=!1,c.x=m,c.y=y,d.zpp_inner=c,d.zpp_inner.outer=d):(null!=(u=d.zpp_inner)._validate&&u._validate(),d.zpp_inner.x==m&&(null!=(u=d.zpp_inner)._validate&&u._validate(),d.zpp_inner.y==y)||(d.zpp_inner.x=m,d.zpp_inner.y=y,null!=(u=d.zpp_inner)._invalidate&&u._invalidate(u))),d.zpp_inner.weak=!1,D.push(d)}else if(j.__instanceof(e,_i)){var _=e.zpp_inner.vertices;if(null!=_)for(var x=_;;){var f,g,v,z,b=x.x,w=x.y,b=(null==yi.poolVec2?f=new xe:(f=yi.poolVec2,yi.poolVec2=f.zpp_pool,f.zpp_pool=null),null==f.zpp_inner?(null==cr.zpp_pool?g=new cr:(g=cr.zpp_pool,cr.zpp_pool=g.next,g.next=null),g.weak=!1,g._immutable=!1,g.x=b,g.y=w,f.zpp_inner=g,f.zpp_inner.outer=f):(null!=(S=f.zpp_inner)._validate&&S._validate(),f.zpp_inner.x==b&&(null!=(S=f.zpp_inner)._validate&&S._validate(),f.zpp_inner.y==w)||(f.zpp_inner.x=b,f.zpp_inner.y=w,null!=(S=f.zpp_inner)._invalidate&&S._invalidate(S))),f.zpp_inner.weak=!1,f),x=x.next,w=(null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts(),this.zpp_inner_zn.wrap_lverts),S=b.zpp_inner,C=(null!=S._validate&&S._validate(),b.zpp_inner.x),k=b.zpp_inner,k=(null!=k._validate&&k._validate(),b.zpp_inner.y),C=(null==yi.poolVec2?v=new xe:(v=yi.poolVec2,yi.poolVec2=v.zpp_pool,v.zpp_pool=null),null==v.zpp_inner?(null==cr.zpp_pool?z=new cr:(z=cr.zpp_pool,cr.zpp_pool=z.next,z.next=null),z.weak=!1,z._immutable=!1,z.x=C,z.y=k,v.zpp_inner=z,v.zpp_inner.outer=v):(null!=(M=v.zpp_inner)._validate&&M._validate(),v.zpp_inner.x==C&&(null!=(M=v.zpp_inner)._validate&&M._validate(),v.zpp_inner.y==k)||(v.zpp_inner.x=C,v.zpp_inner.y=k,null!=(M=v.zpp_inner)._invalidate&&M._invalidate(M))),v.zpp_inner.weak=!1,w.push(v),b.zpp_inner),k=(b.zpp_inner.outer=null,b.zpp_inner=null,b),M=(k.zpp_pool=yi.poolVec2,yi.poolVec2=k,C);if(null!=M.outer&&(M.outer.zpp_inner=null,M.outer=null),M._isimmutable=null,M._validate=null,M._invalidate=null,M.next=cr.zpp_pool,cr.zpp_pool=M,x==_)break}}if(e instanceof Array&&null==e.__enum__)for(var P=e,O=0;O<P.length;){var T=P[O],G=!!T.zpp_inner.weak&&(G=T.zpp_inner,T.zpp_inner.outer=null,T.zpp_inner=null,(T=T).zpp_pool=yi.poolVec2,yi.poolVec2=T,null!=(T=G).outer&&(T.outer.zpp_inner=null,T.outer=null),T._isimmutable=null,T._validate=null,T._invalidate=null,T.next=cr.zpp_pool,cr.zpp_pool=T,!0);G?P.splice(O,1):++O}else if(j.__instanceof(e,te)){null!=e.zpp_inner._validate&&e.zpp_inner._validate();for(var A=e.zpp_inner.inner,E=null,I=A.head;null!=I;){var R,B=I.elt;B.outer.zpp_inner.weak?(I=A.erase(E),B.outer.zpp_inner.weak&&(R=(B=B.outer).zpp_inner,B.zpp_inner.outer=null,B.zpp_inner=null,(B=B).zpp_pool=yi.poolVec2,yi.poolVec2=B,null!=(B=R).outer&&(B.outer.zpp_inner=null,B.outer=null),B._isimmutable=null,B._validate=null,B._invalidate=null,B.next=cr.zpp_pool,cr.zpp_pool=B)):I=(E=I).next}}null==t?null==ri.zpp_pool?this.zpp_inner.material=new ri:(this.zpp_inner.material=ri.zpp_pool,ri.zpp_pool=this.zpp_inner.material.next,this.zpp_inner.material.next=null):(this.zpp_inner.immutable_midstep("Shape::material"),this.zpp_inner.setMaterial(t.zpp_inner),this.zpp_inner.material.wrapper()),null==i?null==zt.zpp_pool?this.zpp_inner.filter=new zt:(this.zpp_inner.filter=zt.zpp_pool,zt.zpp_pool=this.zpp_inner.filter.next,this.zpp_inner.filter.next=null):(this.zpp_inner.immutable_midstep("Shape::filter"),this.zpp_inner.setFilter(i.zpp_inner),this.zpp_inner.filter.wrapper()),this.zpp_inner_i.insert_cbtype(Ie.ANY_SHAPE.zpp_inner)}),ht=(ze.__name__=["nape","shape","Polygon"],ze.__super__=ye,ze.prototype=Object.create(ye.prototype),ze.rect=function(e,t,i,n,r){null==r&&(r=!1),null==yi.poolVec2?l=new xe:(l=yi.poolVec2,yi.poolVec2=l.zpp_pool,l.zpp_pool=null),null==l.zpp_inner?(null==cr.zpp_pool?p=new cr:(p=cr.zpp_pool,cr.zpp_pool=p.next,p.next=null),p.weak=!1,p._immutable=!1,p.x=e,p.y=t,l.zpp_inner=p,l.zpp_inner.outer=l):(null!=(p=l.zpp_inner)._validate&&p._validate(),l.zpp_inner.x==e&&(null!=(p=l.zpp_inner)._validate&&p._validate(),l.zpp_inner.y==t)||(l.zpp_inner.x=e,l.zpp_inner.y=t,null!=(p=l.zpp_inner)._invalidate&&p._invalidate(p))),l.zpp_inner.weak=r;var o,a,s,p=l,l=e+i,l=(null==yi.poolVec2?u=new xe:(u=yi.poolVec2,yi.poolVec2=u.zpp_pool,u.zpp_pool=null),null==u.zpp_inner?(null==cr.zpp_pool?h=new cr:(h=cr.zpp_pool,cr.zpp_pool=h.next,h.next=null),h.weak=!1,h._immutable=!1,h.x=l,h.y=t,u.zpp_inner=h,u.zpp_inner.outer=u):(null!=(h=u.zpp_inner)._validate&&h._validate(),u.zpp_inner.x==l&&(null!=(h=u.zpp_inner)._validate&&h._validate(),u.zpp_inner.y==t)||(u.zpp_inner.x=l,u.zpp_inner.y=t,null!=(h=u.zpp_inner)._invalidate&&h._invalidate(h))),u.zpp_inner.weak=r,u),h=e+i,u=t+n,d=(null==yi.poolVec2?s=new xe:(s=yi.poolVec2,yi.poolVec2=s.zpp_pool,s.zpp_pool=null),null==s.zpp_inner?(null==cr.zpp_pool?d=new cr:(d=cr.zpp_pool,cr.zpp_pool=d.next,d.next=null),d.weak=!1,d._immutable=!1,d.x=h,d.y=u,s.zpp_inner=d,s.zpp_inner.outer=s):(null!=(i=s.zpp_inner)._validate&&i._validate(),s.zpp_inner.x==h&&(null!=(d=s.zpp_inner)._validate&&d._validate(),s.zpp_inner.y==u)||(s.zpp_inner.x=h,s.zpp_inner.y=u,null!=(i=s.zpp_inner)._invalidate&&i._invalidate(i))),s.zpp_inner.weak=r,s),h=t+n;return null==yi.poolVec2?o=new xe:(o=yi.poolVec2,yi.poolVec2=o.zpp_pool,o.zpp_pool=null),null==o.zpp_inner?(null==cr.zpp_pool?a=new cr:(a=cr.zpp_pool,cr.zpp_pool=a.next,a.next=null),a.weak=!1,a._immutable=!1,a.x=e,a.y=h,o.zpp_inner=a,o.zpp_inner.outer=o):(null!=(u=o.zpp_inner)._validate&&u._validate(),o.zpp_inner.x==e&&(null!=(i=o.zpp_inner)._validate&&i._validate(),o.zpp_inner.y==h)||(o.zpp_inner.x=e,o.zpp_inner.y=h,null!=(s=o.zpp_inner)._invalidate&&s._invalidate(s))),o.zpp_inner.weak=r,[p,l,d,o]},ze.box=function(e,t,i){return ze.rect(-e/2,-t/2,e,t,i=null==i?!1:i)},ze.regular=function(e,t,i,n,r){null==r&&(r=!1),null==n&&(n=0);for(var o=[],a=2*Math.PI/i,s=0;s<i;){var p,l,h,u=s++*a+n,d=Math.cos(u)*e,u=Math.sin(u)*t;null==yi.poolVec2?p=new xe:(p=yi.poolVec2,yi.poolVec2=p.zpp_pool,p.zpp_pool=null),null==p.zpp_inner?(null==cr.zpp_pool?l=new cr:(l=cr.zpp_pool,cr.zpp_pool=l.next,l.next=null),l.weak=!1,l._immutable=!1,l.x=d,l.y=u,p.zpp_inner=l,p.zpp_inner.outer=p):(null!=(h=p.zpp_inner)._validate&&h._validate(),p.zpp_inner.x==d&&(null!=(h=p.zpp_inner)._validate&&h._validate(),p.zpp_inner.y==u)||(p.zpp_inner.x=d,p.zpp_inner.y=u,null!=(h=p.zpp_inner)._invalidate&&h._invalidate(h))),p.zpp_inner.weak=r,o.push(p)}return o},ze.prototype.zpp_inner_zn=null,ze.prototype.get_localVerts=function(){return null==this.zpp_inner_zn.wrap_lverts&&this.zpp_inner_zn.getlverts(),this.zpp_inner_zn.wrap_lverts},ze.prototype.get_worldVerts=function(){return null==this.zpp_inner_zn.wrap_gverts&&this.zpp_inner_zn.getgverts(),this.zpp_inner_zn.wrap_gverts},ze.prototype.get_edges=function(){return null==this.zpp_inner_zn.wrap_edges&&this.zpp_inner_zn.getedges(),this.zpp_inner_zn.wrap_edges},ze.prototype.validity=function(){return this.zpp_inner_zn.valid()},Object.defineProperty(ze.prototype,"localVerts",{get:ze.prototype.get_localVerts}),Object.defineProperty(ze.prototype,"worldVerts",{get:ze.prototype.get_worldVerts}),Object.defineProperty(ze.prototype,"edges",{get:ze.prototype.get_edges}),ze.prototype.__class__=ze,nape.shape.ShapeIterator=function(){this.zpp_next=null,this.zpp_critical=!1,this.zpp_i=0,this.zpp_inner=null}),be=(ht.__name__=["nape","shape","ShapeIterator"],ht.get=function(e){var t=null==ht.zpp_pool?(ar.internal=!0,t=new ht,ar.internal=!1,t):(ht.zpp_pool=(t=ht.zpp_pool).zpp_next,t);return t.zpp_i=0,t.zpp_inner=e,t.zpp_critical=!1,t},ht.prototype.zpp_inner=null,ht.prototype.zpp_i=null,ht.prototype.zpp_critical=null,ht.prototype.zpp_next=null,ht.prototype.hasNext=function(){this.zpp_inner.zpp_inner.valmod();var e=this.zpp_inner,e=(e.zpp_inner.valmod(),e.zpp_inner.zip_length&&(e.zpp_inner.zip_length=!1,e.zpp_inner.user_length=e.zpp_inner.inner.length),e.zpp_inner.user_length);return this.zpp_critical=!0,this.zpp_i<e||(this.zpp_next=ht.zpp_pool,(ht.zpp_pool=this).zpp_inner=null,!1)},ht.prototype.next=function(){return this.zpp_critical=!1,this.zpp_inner.at(this.zpp_i++)},ht.prototype.__class__=ht,nape.shape.ShapeList=function(){this.zpp_inner=null,this.zpp_inner=new ar,this.zpp_inner.outer=this}),we=(be.__name__=["nape","shape","ShapeList"],be.fromArray=function(e){for(var t=new be,i=0;i<e.length;){var n=e[i];++i,t.push(n)}return t},be.prototype.zpp_inner=null,be.prototype.get_length=function(){return this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.user_length},be.prototype.has=function(e){return this.zpp_inner.valmod(),this.zpp_inner.inner.has(e.zpp_inner)},be.prototype.at=function(e){if(this.zpp_inner.valmod(),this.zpp_inner.reverse_flag&&(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),e=this.zpp_inner.user_length-1-e),e<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=e,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(e);else for(;this.zpp_inner.at_index!=e;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},be.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?this.zpp_inner.inner.add(e.zpp_inner):(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},be.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var t,i=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return i&&(this.zpp_inner.reverse_flag?(null==this.zpp_inner.push_ite&&(t=null==this.zpp_inner.inner.head?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-1)),this.zpp_inner.push_ite=t),this.zpp_inner.push_ite=this.zpp_inner.inner.insert(this.zpp_inner.push_ite,e.zpp_inner)):this.zpp_inner.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),i},be.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(e=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()):(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)),this.zpp_inner.invalidate(),i.outer},be.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_inner.valmod();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.zpp_inner.at_ite&&null==this.zpp_inner.at_ite.next&&(this.zpp_inner.at_ite=null),this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t=(i=(null==(e=1==this.zpp_inner.user_length?null:(this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),this.zpp_inner.inner.iterator_at(this.zpp_inner.user_length-2)))?this.zpp_inner.inner.head:e.next).elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.erase(e)):(t=(i=this.zpp_inner.inner.head.elt).outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.zpp_inner.inner.pop()),this.zpp_inner.invalidate(),i.outer},be.prototype.add=function(e){return this.zpp_inner.reverse_flag?this.push(e):this.unshift(e)},be.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_inner.valmod(),t=!1;for(var t,i=this.zpp_inner.inner.head;null!=i;){if(i.elt==e.zpp_inner){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.zpp_inner.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},be.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;null!=this.zpp_inner.inner.head;)this.pop();else for(;null!=this.zpp_inner.inner.head;)this.shift()},be.prototype.empty=function(){return null==this.zpp_inner.inner.head},be.prototype.iterator=function(){return this.zpp_inner.valmod(),ht.get(this)},be.prototype.copy=function(e){null==e&&(e=!1);for(var t=new be,i=(this.zpp_inner.valmod(),ht.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=ht.zpp_pool,(ht.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t.push(e?null:n)}return t},be.prototype.merge=function(e){e.zpp_inner.valmod();for(var t=ht.get(e);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=ht.zpp_pool,(ht.zpp_pool=t).zpp_inner=null,!1)))break;t.zpp_critical=!1;i=t.zpp_inner.at(t.zpp_i++);this.has(i)||(this.zpp_inner.reverse_flag?this.push(i):this.unshift(i))}},be.prototype.toString=function(){for(var e="[",t=!0,i=(this.zpp_inner.valmod(),ht.get(this));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=ht.zpp_pool,(ht.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);t||(e+=","),e+=null==n?"NULL":n.toString(),t=!1}return e+"]"},be.prototype.foreach=function(e){this.zpp_inner.valmod();for(var t=ht.get(this);;){t.zpp_inner.zpp_inner.valmod();var i=t.zpp_inner,i=(i.zpp_inner.valmod(),i.zpp_inner.zip_length&&(i.zpp_inner.zip_length=!1,i.zpp_inner.user_length=i.zpp_inner.inner.length),i.zpp_inner.user_length);if(t.zpp_critical=!0,!(t.zpp_i<i||(t.zpp_next=ht.zpp_pool,(ht.zpp_pool=t).zpp_inner=null,!1)))break;try{t.zpp_critical=!1,e(t.zpp_inner.at(t.zpp_i++))}catch(e){t.zpp_next=ht.zpp_pool,(ht.zpp_pool=t).zpp_inner=null;break}}return this},be.prototype.filter=function(e){for(var t=0;this.zpp_inner.valmod(),this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length),t<this.zpp_inner.user_length;){var i=this.at(t);try{e(i)?++t:this.remove(i)}catch(e){break}}return this},Object.defineProperty(be.prototype,"length",{get:be.prototype.get_length}),be.prototype.__class__=be,nape.shape.ShapeType=function(){}),Se=(we.__name__=["nape","shape","ShapeType"],we.CIRCLE=null,we.get_CIRCLE=function(){return null==Tn.ShapeType_CIRCLE&&(Tn.internal=!0,Tn.ShapeType_CIRCLE=new we,Tn.internal=!1),Tn.ShapeType_CIRCLE},we.POLYGON=null,we.get_POLYGON=function(){return null==Tn.ShapeType_POLYGON&&(Tn.internal=!0,Tn.ShapeType_POLYGON=new we,Tn.internal=!1),Tn.ShapeType_POLYGON},we.prototype.toString=function(){return null==Tn.ShapeType_CIRCLE&&(Tn.internal=!0,Tn.ShapeType_CIRCLE=new we,Tn.internal=!1),this==Tn.ShapeType_CIRCLE?"CIRCLE":(null==Tn.ShapeType_POLYGON&&(Tn.internal=!0,Tn.ShapeType_POLYGON=new we,Tn.internal=!1),this==Tn.ShapeType_POLYGON?"POLYGON":"")},Object.defineProperty(we,"CIRCLE",{get:we.get_CIRCLE}),Object.defineProperty(we,"POLYGON",{get:we.get_POLYGON}),we.prototype.__class__=we,nape.shape.ValidationResult=function(){}),Ce=(Se.__name__=["nape","shape","ValidationResult"],Se.VALID=null,Se.get_VALID=function(){return null==Tn.ValidationResult_VALID&&(Tn.internal=!0,Tn.ValidationResult_VALID=new Se,Tn.internal=!1),Tn.ValidationResult_VALID},Se.DEGENERATE=null,Se.get_DEGENERATE=function(){return null==Tn.ValidationResult_DEGENERATE&&(Tn.internal=!0,Tn.ValidationResult_DEGENERATE=new Se,Tn.internal=!1),Tn.ValidationResult_DEGENERATE},Se.CONCAVE=null,Se.get_CONCAVE=function(){return null==Tn.ValidationResult_CONCAVE&&(Tn.internal=!0,Tn.ValidationResult_CONCAVE=new Se,Tn.internal=!1),Tn.ValidationResult_CONCAVE},Se.SELF_INTERSECTING=null,Se.get_SELF_INTERSECTING=function(){return null==Tn.ValidationResult_SELF_INTERSECTING&&(Tn.internal=!0,Tn.ValidationResult_SELF_INTERSECTING=new Se,Tn.internal=!1),Tn.ValidationResult_SELF_INTERSECTING},Se.prototype.toString=function(){return null==Tn.ValidationResult_VALID&&(Tn.internal=!0,Tn.ValidationResult_VALID=new Se,Tn.internal=!1),this==Tn.ValidationResult_VALID?"VALID":(null==Tn.ValidationResult_DEGENERATE&&(Tn.internal=!0,Tn.ValidationResult_DEGENERATE=new Se,Tn.internal=!1),this==Tn.ValidationResult_DEGENERATE?"DEGENERATE":(null==Tn.ValidationResult_CONCAVE&&(Tn.internal=!0,Tn.ValidationResult_CONCAVE=new Se,Tn.internal=!1),this==Tn.ValidationResult_CONCAVE?"CONCAVE":(null==Tn.ValidationResult_SELF_INTERSECTING&&(Tn.internal=!0,Tn.ValidationResult_SELF_INTERSECTING=new Se,Tn.internal=!1),this==Tn.ValidationResult_SELF_INTERSECTING?"SELF_INTERSECTING":"")))},Object.defineProperty(Se,"VALID",{get:Se.get_VALID}),Object.defineProperty(Se,"DEGENERATE",{get:Se.get_DEGENERATE}),Object.defineProperty(Se,"CONCAVE",{get:Se.get_CONCAVE}),Object.defineProperty(Se,"SELF_INTERSECTING",{get:Se.get_SELF_INTERSECTING}),Se.prototype.__class__=Se,nape.space.Broadphase=function(){}),e=(Ce.__name__=["nape","space","Broadphase"],Ce.DYNAMIC_AABB_TREE=null,Ce.get_DYNAMIC_AABB_TREE=function(){return null==Tn.Broadphase_DYNAMIC_AABB_TREE&&(Tn.internal=!0,Tn.Broadphase_DYNAMIC_AABB_TREE=new Ce,Tn.internal=!1),Tn.Broadphase_DYNAMIC_AABB_TREE},Ce.SWEEP_AND_PRUNE=null,Ce.get_SWEEP_AND_PRUNE=function(){return null==Tn.Broadphase_SWEEP_AND_PRUNE&&(Tn.internal=!0,Tn.Broadphase_SWEEP_AND_PRUNE=new Ce,Tn.internal=!1),Tn.Broadphase_SWEEP_AND_PRUNE},Ce.prototype.toString=function(){return null==Tn.Broadphase_DYNAMIC_AABB_TREE&&(Tn.internal=!0,Tn.Broadphase_DYNAMIC_AABB_TREE=new Ce,Tn.internal=!1),this==Tn.Broadphase_DYNAMIC_AABB_TREE?"DYNAMIC_AABB_TREE":(null==Tn.Broadphase_SWEEP_AND_PRUNE&&(Tn.internal=!0,Tn.Broadphase_SWEEP_AND_PRUNE=new Ce,Tn.internal=!1),this==Tn.Broadphase_SWEEP_AND_PRUNE?"SWEEP_AND_PRUNE":"")},Object.defineProperty(Ce,"DYNAMIC_AABB_TREE",{get:Ce.get_DYNAMIC_AABB_TREE}),Object.defineProperty(Ce,"SWEEP_AND_PRUNE",{get:Ce.get_SWEEP_AND_PRUNE}),Ce.prototype.__class__=Ce,nape.space.Space=function(e,t){this.zpp_inner=null,this.zpp_inner=new i(null==e?null:e.zpp_inner,t),this.zpp_inner.outer=this,null!=e&&e.zpp_inner.weak&&(t=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t)}),e=(e.__name__=["nape","space","Space"],e.prototype.zpp_inner=null,e.prototype.get_userData=function(){return null==this.zpp_inner.userData&&(this.zpp_inner.userData={}),this.zpp_inner.userData},e.prototype.get_gravity=function(){return null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity(),this.zpp_inner.wrap_gravity},e.prototype.set_gravity=function(e){null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity();var t=this.zpp_inner.wrap_gravity,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),e.zpp_inner.x),n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.y),r=t.zpp_inner;return null!=r._validate&&r._validate(),t.zpp_inner.x==i&&(null!=(r=t.zpp_inner)._validate&&r._validate(),t.zpp_inner.y==n)||(t.zpp_inner.x=i,t.zpp_inner.y=n,null!=(r=t.zpp_inner)._invalidate&&r._invalidate(r)),e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),null==this.zpp_inner.wrap_gravity&&this.zpp_inner.getgravity(),this.zpp_inner.wrap_gravity},e.prototype.get_broadphase=function(){return this.zpp_inner.bphase.is_sweep?(null==Tn.Broadphase_SWEEP_AND_PRUNE&&(Tn.internal=!0,Tn.Broadphase_SWEEP_AND_PRUNE=new Ce,Tn.internal=!1),Tn.Broadphase_SWEEP_AND_PRUNE):(null==Tn.Broadphase_DYNAMIC_AABB_TREE&&(Tn.internal=!0,Tn.Broadphase_DYNAMIC_AABB_TREE=new Ce,Tn.internal=!1),Tn.Broadphase_DYNAMIC_AABB_TREE)},e.prototype.get_sortContacts=function(){return this.zpp_inner.sortcontacts},e.prototype.set_sortContacts=function(e){return this.zpp_inner.sortcontacts=e,this.zpp_inner.sortcontacts},e.prototype.get_worldAngularDrag=function(){return this.zpp_inner.global_ang_drag},e.prototype.set_worldAngularDrag=function(e){return this.zpp_inner.global_ang_drag=e,this.zpp_inner.global_ang_drag},e.prototype.get_worldLinearDrag=function(){return this.zpp_inner.global_lin_drag},e.prototype.set_worldLinearDrag=function(e){return this.zpp_inner.global_lin_drag=e,this.zpp_inner.global_lin_drag},e.prototype.get_compounds=function(){return this.zpp_inner.wrap_compounds},e.prototype.get_bodies=function(){return this.zpp_inner.wrap_bodies},e.prototype.get_liveBodies=function(){return this.zpp_inner.wrap_live},e.prototype.get_constraints=function(){return this.zpp_inner.wrap_constraints},e.prototype.get_liveConstraints=function(){return this.zpp_inner.wrap_livecon},e.prototype.visitBodies=function(e){for(var t=this.zpp_inner.wrap_bodies,i=(t.zpp_inner.valmod(),at.get(t));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=at.zpp_pool,(at.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1,e(i.zpp_inner.at(i.zpp_i++))}for(var t=this.zpp_inner.wrap_compounds,r=(t.zpp_inner.valmod(),st.get(t));;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner,o=(o.zpp_inner.valmod(),o.zpp_inner.zip_length&&(o.zpp_inner.zip_length=!1,o.zpp_inner.user_length=o.zpp_inner.inner.length),o.zpp_inner.user_length);if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=st.zpp_pool,(st.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1,r.zpp_inner.at(r.zpp_i++).visitBodies(e)}},e.prototype.visitConstraints=function(e){for(var t=this.zpp_inner.wrap_constraints,i=(t.zpp_inner.valmod(),Qe.get(t));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Qe.zpp_pool,(Qe.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1,e(i.zpp_inner.at(i.zpp_i++))}for(var t=this.zpp_inner.wrap_compounds,r=(t.zpp_inner.valmod(),st.get(t));;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner,o=(o.zpp_inner.valmod(),o.zpp_inner.zip_length&&(o.zpp_inner.zip_length=!1,o.zpp_inner.user_length=o.zpp_inner.inner.length),o.zpp_inner.user_length);if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=st.zpp_pool,(st.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1,r.zpp_inner.at(r.zpp_i++).visitConstraints(e)}},e.prototype.visitCompounds=function(e){for(var t=this.zpp_inner.wrap_compounds,i=(t.zpp_inner.valmod(),st.get(t));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=st.zpp_pool,(st.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;n=i.zpp_inner.at(i.zpp_i++);e(n),n.visitCompounds(e)}},e.prototype.get_world=function(){return this.zpp_inner.__static},e.prototype.get_arbiters=function(){var e;return null==this.zpp_inner.wrap_arbiters&&((e=new wt).space=this.zpp_inner,this.zpp_inner.wrap_arbiters=e),this.zpp_inner.wrap_arbiters},e.prototype.get_listeners=function(){return this.zpp_inner.wrap_listeners},e.prototype.clear=function(){this.zpp_inner.clear()},e.prototype.step=function(e,t,i){this.zpp_inner.step(e,t=null==t?10:t,i=null==i?10:i)},e.prototype.get_timeStamp=function(){return this.zpp_inner.stamp},e.prototype.get_elapsedTime=function(){return this.zpp_inner.time},e.prototype.interactionType=function(e,t){if(1==(null!=e.zpp_inner.body?e.zpp_inner.body.outer:null).zpp_inner.type&&1==(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null).zpp_inner.type)return null;if((null!=e.zpp_inner.body?e.zpp_inner.body.outer:null)==(null!=t.zpp_inner.body?t.zpp_inner.body.outer:null))return null;for(var i,e=e.zpp_inner,t=t.zpp_inner,n=e.body,r=t.body,o=!1,a=n.constraints.head;null!=a;){var s=a.elt;if(s.ignore&&s.pair_exists(n.id,r.id)){o=!0;break}a=a.next}if(o)i=!1;else{for(var p=e;null!=p&&null==p.group;)p=null!=p.ishape?p.ishape.body:(null!=p.icompound?p.icompound:p.ibody).compound;var l,h=null==p?null:p.group;if(null==h)l=!1;else{for(var u=t;null!=u&&null==u.group;)u=null!=u.ishape?u.ishape.body:(null!=u.icompound?u.icompound:u.ibody).compound;var d=null==u?null:u.group;if(null==d)l=!1;else{for(var c=!1;null!=h&&null!=d;){if(h==d){c=h.ignore;break}h.depth<d.depth?d=d.group:h=h.group}l=c}}i=!l}switch(i?!(!e.sensorEnabled&&!t.sensorEnabled)&&(l=e.filter,i=t.filter,0!=(l.sensorMask&i.sensorGroup)&&0!=(i.sensorMask&l.sensorGroup))?2:!!(!(!e.fluidEnabled&&!t.fluidEnabled)&&(i=e.filter,l=t.filter,0!=(i.fluidMask&l.fluidGroup)&&0!=(l.fluidMask&i.fluidGroup)))&&!(0==n.imass&&0==r.imass&&0==n.iinertia&&0==r.iinertia)?0:(l=e.filter,i=t.filter,0!=(l.collisionMask&i.collisionGroup)&&0!=(i.collisionMask&l.collisionGroup)&&!(0==n.imass&&0==r.imass&&0==n.iinertia&&0==r.iinertia)?1:-1):-1){case 0:return null==Tn.InteractionType_FLUID&&(Tn.internal=!0,Tn.InteractionType_FLUID=new m,Tn.internal=!1),Tn.InteractionType_FLUID;case 1:return null==Tn.InteractionType_COLLISION&&(Tn.internal=!0,Tn.InteractionType_COLLISION=new m,Tn.internal=!1),Tn.InteractionType_COLLISION;case 2:return null==Tn.InteractionType_SENSOR&&(Tn.internal=!0,Tn.InteractionType_SENSOR=new m,Tn.internal=!1),Tn.InteractionType_SENSOR;default:return null}},e.prototype.shapesUnderPoint=function(e,t,i){var n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.x),r=e.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.shapesUnderPoint(n,e.zpp_inner.y,null==t?null:t.zpp_inner,i));return e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),r},e.prototype.bodiesUnderPoint=function(e,t,i){var n=e.zpp_inner,n=(null!=n._validate&&n._validate(),e.zpp_inner.x),r=e.zpp_inner,r=(null!=r._validate&&r._validate(),this.zpp_inner.bodiesUnderPoint(n,e.zpp_inner.y,null==t?null:t.zpp_inner,i));return e.zpp_inner.weak&&(n=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n),r},e.prototype.shapesInAABB=function(e,t,i,n,r){return this.zpp_inner.shapesInAABB(e,i=null==i?!0:i,t=null==t?!1:t,null==n?null:n.zpp_inner,r)},e.prototype.bodiesInAABB=function(e,t,i,n,r){return this.zpp_inner.bodiesInAABB(e,i=null==i?!0:i,t=null==t?!1:t,null==n?null:n.zpp_inner,r)},e.prototype.shapesInCircle=function(e,t,i,n,r){t=this.zpp_inner.shapesInCircle(e,t,i=null==i?!1:i,null==n?null:n.zpp_inner,r);return e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),t},e.prototype.bodiesInCircle=function(e,t,i,n,r){t=this.zpp_inner.bodiesInCircle(e,t,i=null==i?!1:i,null==n?null:n.zpp_inner,r);return e.zpp_inner.weak&&(i=e.zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i),t},e.prototype.shapesInShape=function(e,t,i,n){return this.zpp_inner.shapesInShape(e.zpp_inner,t=null==t?!1:t,null==i?null:i.zpp_inner,n)},e.prototype.bodiesInShape=function(e,t,i,n){return this.zpp_inner.bodiesInShape(e.zpp_inner,t=null==t?!1:t,null==i?null:i.zpp_inner,n)},e.prototype.shapesInBody=function(e,t,i){for(var n=null==i?new be:i,i=e.zpp_inner.wrap_shapes,r=(i.zpp_inner.valmod(),ht.get(i));;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner,o=(o.zpp_inner.valmod(),o.zpp_inner.zip_length&&(o.zpp_inner.zip_length=!1,o.zpp_inner.user_length=o.zpp_inner.inner.length),o.zpp_inner.user_length);if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=ht.zpp_pool,(ht.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1,this.shapesInShape(r.zpp_inner.at(r.zpp_i++),!1,t,n)}return n},e.prototype.bodiesInBody=function(e,t,i){for(var n=null==i?new re:i,i=e.zpp_inner.wrap_shapes,r=(i.zpp_inner.valmod(),ht.get(i));;){r.zpp_inner.zpp_inner.valmod();var o=r.zpp_inner,o=(o.zpp_inner.valmod(),o.zpp_inner.zip_length&&(o.zpp_inner.zip_length=!1,o.zpp_inner.user_length=o.zpp_inner.inner.length),o.zpp_inner.user_length);if(r.zpp_critical=!0,!(r.zpp_i<o||(r.zpp_next=ht.zpp_pool,(ht.zpp_pool=r).zpp_inner=null,!1)))break;r.zpp_critical=!1,this.bodiesInShape(r.zpp_inner.at(r.zpp_i++),!1,t,n)}return n},e.prototype.convexCast=function(e,t,i,n){return this.zpp_inner.convexCast(e.zpp_inner,t,n,i=null==i?!1:i)},e.prototype.convexMultiCast=function(e,t,i,n,r){return this.zpp_inner.convexMultiCast(e.zpp_inner,t,n,i=null==i?!1:i,r)},e.prototype.rayCast=function(e,t,i){return this.zpp_inner.rayCast(e,t=null==t?!1:t,i)},e.prototype.rayMultiCast=function(e,t,i,n){return this.zpp_inner.rayMultiCast(e,t=null==t?!1:t,i,n)},Object.defineProperty(e.prototype,"userData",{get:e.prototype.get_userData}),Object.defineProperty(e.prototype,"gravity",{get:e.prototype.get_gravity,set:e.prototype.set_gravity}),Object.defineProperty(e.prototype,"broadphase",{get:e.prototype.get_broadphase}),Object.defineProperty(e.prototype,"sortContacts",{get:e.prototype.get_sortContacts,set:e.prototype.set_sortContacts}),Object.defineProperty(e.prototype,"worldAngularDrag",{get:e.prototype.get_worldAngularDrag,set:e.prototype.set_worldAngularDrag}),Object.defineProperty(e.prototype,"worldLinearDrag",{get:e.prototype.get_worldLinearDrag,set:e.prototype.set_worldLinearDrag}),Object.defineProperty(e.prototype,"compounds",{get:e.prototype.get_compounds}),Object.defineProperty(e.prototype,"bodies",{get:e.prototype.get_bodies}),Object.defineProperty(e.prototype,"liveBodies",{get:e.prototype.get_liveBodies}),Object.defineProperty(e.prototype,"constraints",{get:e.prototype.get_constraints}),Object.defineProperty(e.prototype,"liveConstraints",{get:e.prototype.get_liveConstraints}),Object.defineProperty(e.prototype,"world",{get:e.prototype.get_world}),Object.defineProperty(e.prototype,"arbiters",{get:e.prototype.get_arbiters}),Object.defineProperty(e.prototype,"listeners",{get:e.prototype.get_listeners}),Object.defineProperty(e.prototype,"timeStamp",{get:e.prototype.get_timeStamp}),Object.defineProperty(e.prototype,"elapsedTime",{get:e.prototype.get_elapsedTime}),e.prototype.__class__=e,nape.util.Debug=function(){}),e=(e.__name__=["nape","util","Debug"],e.version=function(){return"Nape 2.0.19"},e.clearObjectPools=function(){for(;null!=Qe.zpp_pool;){var e=Qe.zpp_pool.zpp_next;Qe.zpp_pool.zpp_next=null,Qe.zpp_pool=e}for(;null!=pt.zpp_pool;){var t=pt.zpp_pool.zpp_next;pt.zpp_pool.zpp_next=null,pt.zpp_pool=t}for(;null!=at.zpp_pool;){var i=at.zpp_pool.zpp_next;at.zpp_pool.zpp_next=null,at.zpp_pool=i}for(;null!=st.zpp_pool;){var n=st.zpp_pool.zpp_next;st.zpp_pool.zpp_next=null,st.zpp_pool=n}for(;null!=Je.zpp_pool;){var r=Je.zpp_pool.zpp_next;Je.zpp_pool.zpp_next=null,Je.zpp_pool=r}for(;null!=Ze.zpp_pool;){var o=Ze.zpp_pool.zpp_next;Ze.zpp_pool.zpp_next=null,Ze.zpp_pool=o}for(;null!=it.zpp_pool;){var a=it.zpp_pool.zpp_next;it.zpp_pool.zpp_next=null,it.zpp_pool=a}for(;null!=nt.zpp_pool;){var s=nt.zpp_pool.zpp_next;nt.zpp_pool.zpp_next=null,nt.zpp_pool=s}for(;null!=ot.zpp_pool;){var p=ot.zpp_pool.zpp_next;ot.zpp_pool.zpp_next=null,ot.zpp_pool=p}for(;null!=rt.zpp_pool;){var l=rt.zpp_pool.zpp_next;rt.zpp_pool.zpp_next=null,rt.zpp_pool=l}for(;null!=ht.zpp_pool;){var h=ht.zpp_pool.zpp_next;ht.zpp_pool.zpp_next=null,ht.zpp_pool=h}for(;null!=lt.zpp_pool;){var u=lt.zpp_pool.zpp_next;lt.zpp_pool.zpp_next=null,lt.zpp_pool=u}for(;null!=et.zpp_pool;){var d=et.zpp_pool.zpp_next;et.zpp_pool.zpp_next=null,et.zpp_pool=d}for(;null!=$e.zpp_pool;){var c=$e.zpp_pool.zpp_next;$e.zpp_pool.zpp_next=null,$e.zpp_pool=c}for(;null!=tt.zpp_pool;){var m=tt.zpp_pool.zpp_next;tt.zpp_pool.zpp_next=null,tt.zpp_pool=m}for(;null!=Dt.zpp_pool;){var y=Dt.zpp_pool.next;Dt.zpp_pool.next=null,Dt.zpp_pool=y}for(;null!=an.zpp_pool;){var _=an.zpp_pool.next;an.zpp_pool.next=null,an.zpp_pool=_}for(;null!=ri.zpp_pool;){var x=ri.zpp_pool.next;ri.zpp_pool.next=null,ri.zpp_pool=x}for(;null!=sn.zpp_pool;){var f=sn.zpp_pool.next;sn.zpp_pool.next=null,sn.zpp_pool=f}for(;null!=ni.zpp_pool;){var g=ni.zpp_pool.next;ni.zpp_pool.next=null,ni.zpp_pool=g}for(;null!=pn.zpp_pool;){var v=pn.zpp_pool.next;pn.zpp_pool.next=null,pn.zpp_pool=v}for(;null!=ln.zpp_pool;){var z=ln.zpp_pool.next;ln.zpp_pool.next=null,ln.zpp_pool=z}for(;null!=hn.zpp_pool;){var b=hn.zpp_pool.next;hn.zpp_pool.next=null,hn.zpp_pool=b}for(;null!=En.zpp_pool;){var w=En.zpp_pool.next;En.zpp_pool.next=null,En.zpp_pool=w}for(;null!=We.zpp_pool;){var S=We.zpp_pool.next;We.zpp_pool.next=null,We.zpp_pool=S}for(;null!=On.zpp_pool;){var C=On.zpp_pool.next;On.zpp_pool.next=null,On.zpp_pool=C}for(;null!=In.zpp_pool;){var k=In.zpp_pool.next;In.zpp_pool.next=null,In.zpp_pool=k}for(;null!=jt.zpp_pool;){var M=jt.zpp_pool.next;jt.zpp_pool.next=null,jt.zpp_pool=M}for(;null!=Bn.zpp_pool;){var P=Bn.zpp_pool.next;Bn.zpp_pool.next=null,Bn.zpp_pool=P}for(;null!=un.zpp_pool;){var O=un.zpp_pool.next;un.zpp_pool.next=null,un.zpp_pool=O}for(;null!=ut.zpp_pool;){var T=ut.zpp_pool.next;ut.zpp_pool.next=null,ut.zpp_pool=T}for(;null!=Pn.zpp_pool;){var G=Pn.zpp_pool.next;Pn.zpp_pool.next=null,Pn.zpp_pool=G}for(;null!=dn.zpp_pool;){var A=dn.zpp_pool.next;dn.zpp_pool.next=null,dn.zpp_pool=A}for(;null!=cn.zpp_pool;){var E=cn.zpp_pool.next;cn.zpp_pool.next=null,cn.zpp_pool=E}for(;null!=Xi.zpp_pool;){var I=Xi.zpp_pool.next;Xi.zpp_pool.next=null,Xi.zpp_pool=I}for(;null!=Ot.zpp_pool;){var B=Ot.zpp_pool.next;Ot.zpp_pool.next=null,Ot.zpp_pool=B}for(;null!=Gt.zpp_pool;){var L=Gt.zpp_pool.next;Gt.zpp_pool.next=null,Gt.zpp_pool=L}for(;null!=Ut.zpp_pool;){var D=Ut.zpp_pool.next;Ut.zpp_pool.next=null,Ut.zpp_pool=D}for(;null!=fi.zpp_pool;){var R=fi.zpp_pool.next;fi.zpp_pool.next=null,fi.zpp_pool=R}for(;null!=gi.zpp_pool;){var j=gi.zpp_pool.next;gi.zpp_pool.next=null,gi.zpp_pool=j}for(;null!=mn.zpp_pool;){var F=mn.zpp_pool.next;mn.zpp_pool.next=null,mn.zpp_pool=F}for(;null!=yn.zpp_pool;){var N=yn.zpp_pool.next;yn.zpp_pool.next=null,yn.zpp_pool=N}for(;null!=cr.zpp_pool;){var U=cr.zpp_pool.next;cr.zpp_pool.next=null,cr.zpp_pool=U}for(;null!=_n.zpp_pool;){var H=_n.zpp_pool.next;_n.zpp_pool.next=null,_n.zpp_pool=H}for(;null!=It.zpp_pool;){var V=It.zpp_pool.next;It.zpp_pool.next=null,It.zpp_pool=V}for(;null!=qe.zpp_pool;){var W=qe.zpp_pool.next;qe.zpp_pool.next=null,qe.zpp_pool=W}for(;null!=Xt.zpp_pool;){var q=Xt.zpp_pool.next;Xt.zpp_pool.next=null,Xt.zpp_pool=q}for(;null!=Yt.zpp_pool;){var X=Yt.zpp_pool.next;Yt.zpp_pool.next=null,Yt.zpp_pool=X}for(;null!=Bt.zpp_pool;){var Y=Bt.zpp_pool.next;Bt.zpp_pool.next=null,Bt.zpp_pool=Y}for(;null!=xn.zpp_pool;){var K=xn.zpp_pool.next;xn.zpp_pool.next=null,xn.zpp_pool=K}for(;null!=fn.zpp_pool;){var Z=fn.zpp_pool.next;fn.zpp_pool.next=null,fn.zpp_pool=Z}for(;null!=Qt.zpp_pool;){var J=Qt.zpp_pool.next;Qt.zpp_pool.next=null,Qt.zpp_pool=J}for(;null!=Xe.zpp_pool;){var Q=Xe.zpp_pool.next;Xe.zpp_pool.next=null,Xe.zpp_pool=Q}for(;null!=gn.zpp_pool;){var $=gn.zpp_pool.next;gn.zpp_pool.next=null,gn.zpp_pool=$}for(;null!=Nt.zpp_pool;){var ee=Nt.zpp_pool.next;Nt.zpp_pool.next=null,Nt.zpp_pool=ee}for(;null!=Ye.zpp_pool;){var te=Ye.zpp_pool.next;Ye.zpp_pool.next=null,Ye.zpp_pool=te}for(;null!=Vt.zpp_pool;){var ie=Vt.zpp_pool.next;Vt.zpp_pool.next=null,Vt.zpp_pool=ie}for(;null!=Wt.zpp_pool;){var ne=Wt.zpp_pool.next;Wt.zpp_pool.next=null,Wt.zpp_pool=ne}for(;null!=hr.zpp_pool;){var re=hr.zpp_pool.next;hr.zpp_pool.next=null,hr.zpp_pool=re}for(;null!=Ke.zpp_pool;){var oe=Ke.zpp_pool.next;Ke.zpp_pool.next=null,Ke.zpp_pool=oe}for(;null!=He.zpp_pool;){var ae=He.zpp_pool.next;He.zpp_pool.next=null,He.zpp_pool=ae}for(;null!=Ve.zpp_pool;){var se=Ve.zpp_pool.next;Ve.zpp_pool.next=null,Ve.zpp_pool=se}for(;null!=Zt.zpp_pool;){var pe=Zt.zpp_pool.next;Zt.zpp_pool.next=null,Zt.zpp_pool=pe}for(;null!=vn.zpp_pool;){var le=vn.zpp_pool.next;vn.zpp_pool.next=null,vn.zpp_pool=le}for(;null!=zn.zpp_pool;){var he=zn.zpp_pool.next;zn.zpp_pool.next=null,zn.zpp_pool=he}for(;null!=Tt.zpp_pool;){var ue=Tt.zpp_pool.next;Tt.zpp_pool.next=null,Tt.zpp_pool=ue}for(;null!=Yi.zpp_pool;){var de=Yi.zpp_pool.next;Yi.zpp_pool.next=null,Yi.zpp_pool=de}for(;null!=bn.zpp_pool;){var ce=bn.zpp_pool.next;bn.zpp_pool.next=null,bn.zpp_pool=ce}for(;null!=si.zpp_pool;){var me=si.zpp_pool.next;si.zpp_pool.next=null,si.zpp_pool=me}for(;null!=Ft.zpp_pool;){var ye=Ft.zpp_pool.next;Ft.zpp_pool.next=null,Ft.zpp_pool=ye}for(;null!=wn.zpp_pool;){var _e=wn.zpp_pool.next;wn.zpp_pool.next=null,wn.zpp_pool=_e}for(;null!=wi.zpp_pool;){var xe=wi.zpp_pool.next;wi.zpp_pool.next=null,wi.zpp_pool=xe}for(;null!=hi.zpp_pool;){var fe=hi.zpp_pool.next;hi.zpp_pool.next=null,hi.zpp_pool=fe}for(;null!=ui.zpp_pool;){var ge=ui.zpp_pool.next;ui.zpp_pool.next=null,ui.zpp_pool=ge}for(;null!=Sn.zpp_pool;){var ve=Sn.zpp_pool.next;Sn.zpp_pool.next=null,Sn.zpp_pool=ve}for(;null!=An.zpp_pool;){var ze=An.zpp_pool.next;An.zpp_pool.next=null,An.zpp_pool=ze}for(;null!=Cn.zpp_pool;){var be=Cn.zpp_pool.next;Cn.zpp_pool.next=null,Cn.zpp_pool=be}for(;null!=mi.zpp_pool;){var we=mi.zpp_pool.next;mi.zpp_pool.next=null,mi.zpp_pool=we}for(;null!=zi.zpp_pool;){var Se=zi.zpp_pool.next;zi.zpp_pool.next=null,zi.zpp_pool=Se}for(;null!=Fn.zpp_pool;){var Ce=Fn.zpp_pool.next;Fn.zpp_pool.next=null,Fn.zpp_pool=Ce}for(;null!=Dn.zpp_pool;){var ke=Dn.zpp_pool.next;Dn.zpp_pool.next=null,Dn.zpp_pool=ke}for(;null!=Rn.zpp_pool;){var Me=Rn.zpp_pool.next;Rn.zpp_pool.next=null,Rn.zpp_pool=Me}for(;null!=mr.zpp_pool;){var Pe=mr.zpp_pool.next;mr.zpp_pool.next=null,mr.zpp_pool=Pe}for(;null!=Nn.zpp_pool;){var Oe=Nn.zpp_pool.next;Nn.zpp_pool.next=null,Nn.zpp_pool=Oe}for(;null!=Gn.zpp_pool;){var Te=Gn.zpp_pool.next;Gn.zpp_pool.next=null,Gn.zpp_pool=Te}for(;null!=Un.zpp_pool;){var Ge=Un.zpp_pool.next;Un.zpp_pool.next=null,Un.zpp_pool=Ge}for(;null!=kn.zpp_pool;){var Ae=kn.zpp_pool.next;kn.zpp_pool.next=null,kn.zpp_pool=Ae}for(;null!=Hn.zpp_pool;){var Ee=Hn.zpp_pool.next;Hn.zpp_pool.next=null,Hn.zpp_pool=Ee}for(;null!=Mn.zpp_pool;){var Ie=Mn.zpp_pool.next;Mn.zpp_pool.next=null,Mn.zpp_pool=Ie}for(;null!=Vn.zpp_pool;){var Be=Vn.zpp_pool.next;Vn.zpp_pool.next=null,Vn.zpp_pool=Be}for(;null!=zt.zpp_pool;){var Le=zt.zpp_pool.next;zt.zpp_pool.next=null,zt.zpp_pool=Le}for(;null!=Wn.zpp_pool;){var De=Wn.zpp_pool.next;Wn.zpp_pool.next=null,Wn.zpp_pool=De}for(;null!=qn.zpp_pool;){var Re=qn.zpp_pool.next;qn.zpp_pool.next=null,qn.zpp_pool=Re}for(;null!=Xn.zpp_pool;){var je=Xn.zpp_pool.next;Xn.zpp_pool.next=null,Xn.zpp_pool=je}for(;null!=yi.poolGeomPoly;){var Fe=yi.poolGeomPoly.zpp_pool;yi.poolGeomPoly.zpp_pool=null,yi.poolGeomPoly=Fe}for(;null!=yi.poolVec2;){var Ne=yi.poolVec2.zpp_pool;yi.poolVec2.zpp_pool=null,yi.poolVec2=Ne}for(;null!=yi.poolVec3;){var Ue=yi.poolVec3.zpp_pool;yi.poolVec3.zpp_pool=null,yi.poolVec3=Ue}},e.prototype.__class__=e,sandbox.Main=function(){}),ke=(e.__name__=["sandbox","Main"],e.main=function(){},e.prototype.__class__=e,zpp_nape.ZPP_Const=function(){}),Me=(ke.__name__=["zpp_nape","ZPP_Const"],ke.POSINF=function(){return 1/0},ke.NEGINF=function(){return-1/0},ke.prototype.__class__=ke,zpp_nape.ZPP_ID=function(){}),ut=(Me.__name__=["zpp_nape","ZPP_ID"],Me.Constraint=function(){return Me._Constraint++},Me.Interactor=function(){return Me._Interactor++},Me.CbType=function(){return Me._CbType++},Me.CbSet=function(){return Me._CbSet++},Me.Listener=function(){return Me._Listener++},Me.ZPP_SimpleVert=function(){return Me._ZPP_SimpleVert++},Me.ZPP_SimpleSeg=function(){return Me._ZPP_SimpleSeg++},Me.Space=function(){return Me._Space++},Me.InteractionGroup=function(){return Me._InteractionGroup++},Me.prototype.__class__=Me,zpp_nape.callbacks.ZPP_Callback=function(){this.constraint=null,this.body=null,this.pre_swapped=!1,this.pre_arbiter=null,this.wrap_arbiters=null,this.set=null,this.int2=null,this.int1=null,this.length=0,this.prev=null,this.next=null,this.index=0,this.space=null,this.listener=null,this.event=0,this.outer_int=null,this.outer_con=null,this.outer_body=null,this.length=0}),Pn=(ut.__name__=["zpp_nape","callbacks","ZPP_Callback"],ut.prototype.outer_body=null,ut.prototype.outer_con=null,ut.prototype.outer_int=null,ut.prototype.wrapper_body=function(){return null==this.outer_body&&(this.outer_body=new _,this.outer_body.zpp_inner=this),this.outer_body},ut.prototype.wrapper_con=function(){return null==this.outer_con&&(this.outer_con=new z,this.outer_con.zpp_inner=this),this.outer_con},ut.prototype.wrapper_int=function(){return null==this.outer_int&&(this.outer_int=new b,this.outer_int.zpp_inner=this),null==this.wrap_arbiters?this.wrap_arbiters=pr.get(this.set.arbiters,!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters,this.wrap_arbiters.zpp_inner.zip_length=!0,this.wrap_arbiters.zpp_inner.at_ite=null,this.outer_int},ut.prototype.event=null,ut.prototype.listener=null,ut.prototype.space=null,ut.prototype.index=null,ut.prototype.next=null,ut.prototype.prev=null,ut.prototype.length=null,ut.prototype.push=function(e){null!=this.prev?this.prev.next=e:this.next=e,e.prev=this.prev,e.next=null,this.prev=e,this.length++},ut.prototype.push_rev=function(e){null!=this.next?this.next.prev=e:this.prev=e,e.next=this.next,e.prev=null,this.next=e,this.length++},ut.prototype.pop=function(){var e=this.next;return this.next=e.next,null==this.next?this.prev=null:this.next.prev=null,this.length--,e},ut.prototype.pop_rev=function(){var e=this.prev;return this.prev=e.prev,null==this.prev?this.next=null:this.prev.next=null,this.length--,e},ut.prototype.empty=function(){return null==this.next},ut.prototype.clear=function(){for(;!this.empty();)this.pop()},ut.prototype.splice=function(e){var t=e.next;return null==e.prev?(this.next=e.next,null!=this.next?this.next.prev=null:this.prev=null):(e.prev.next=e.next,null!=e.next?e.next.prev=e.prev:this.prev=e.prev),this.length--,t},ut.prototype.rotateL=function(){this.push(this.pop())},ut.prototype.rotateR=function(){this.push_rev(this.pop_rev())},ut.prototype.cycleNext=function(e){return(null==e.next?this:e).next},ut.prototype.cyclePrev=function(e){return(null==e.prev?this:e).prev},ut.prototype.at=function(e){for(var t=this.next;0!=e--;)t=t.next;return t},ut.prototype.rev_at=function(e){for(var t=this.prev;0!=e--;)t=t.prev;return t},ut.prototype.free=function(){this.int1=this.int2=null,this.body=null,this.constraint=null,(this.listener=null)!=this.wrap_arbiters&&(this.wrap_arbiters.zpp_inner.inner=null),this.set=null},ut.prototype.alloc=function(){},ut.prototype.int1=null,ut.prototype.int2=null,ut.prototype.set=null,ut.prototype.wrap_arbiters=null,ut.prototype.pre_arbiter=null,ut.prototype.pre_swapped=null,ut.prototype.genarbs=function(){null==this.wrap_arbiters?this.wrap_arbiters=pr.get(this.set.arbiters,!0):this.wrap_arbiters.zpp_inner.inner=this.set.arbiters,this.wrap_arbiters.zpp_inner.zip_length=!0,this.wrap_arbiters.zpp_inner.at_ite=null},ut.prototype.body=null,ut.prototype.constraint=null,ut.prototype.__class__=ut,zpp_nape.callbacks.ZPP_CbSet=function(){this.wrap_constraints=null,this.constraints=null,this.wrap_interactors=null,this.interactors=null,this.zip_conlisteners=!1,this.conlisteners=null,this.zip_bodylisteners=!1,this.bodylisteners=null,this.zip_listeners=!1,this.listeners=null,this.cbpairs=null,this.manager=null,this.id=0,this.next=null,this.count=0,this.cbTypes=null,this.cbTypes=new Re,this.listeners=new Pe,this.zip_listeners=!0,this.bodylisteners=new Oe,this.zip_bodylisteners=!0,this.conlisteners=new Te,this.zip_conlisteners=!0,this.constraints=new Ge,this.interactors=new Ae,this.id=Me.CbSet(),this.cbpairs=new Ii}),On=(Pn.__name__=["zpp_nape","callbacks","ZPP_CbSet"],Pn.setlt=function(e,t){for(var i=e.cbTypes.head,n=t.cbTypes.head;null!=i&&null!=n;){var r=i.elt,o=n.elt;if(r.id<o.id)return!0;if(o.id<r.id)return!1;i=i.next,n=n.next}return null!=n&&null==i},Pn.get=function(e){null==Pn.zpp_pool?t=new Pn:(t=Pn.zpp_pool,Pn.zpp_pool=t.next,t.next=null);for(var t,i=null,n=e.head;null!=n;){var r=n.elt,i=t.cbTypes.insert(i,r);r.cbsets.add(t),n=n.next}return t},Pn.compatible=function(e,t,i){var n=e.options1,r=t.cbTypes;return!!(!(!n.nonemptyintersection(r,n.includes)||n.nonemptyintersection(r,n.excludes))&&(r=e.options2,n=i.cbTypes,!!r.nonemptyintersection(n,r.includes)&&!r.nonemptyintersection(n,r.excludes)))||(n=e.options2,r=t.cbTypes,!(!n.nonemptyintersection(r,n.includes)||n.nonemptyintersection(r,n.excludes))&&(t=e.options1,r=i.cbTypes,!!t.nonemptyintersection(r,t.includes)&&!t.nonemptyintersection(r,t.excludes)))},Pn.empty_intersection=function(e,t){for(var i,n=null,r=(e.cbpairs.length<t.cbpairs.length?e:t).cbpairs.head;null!=r;){var o=r.elt;if(o.a==e&&o.b==t||o.a==t&&o.b==e){n=o;break}r=r.next}return null==n&&(null==On.zpp_pool?i=new On:(i=On.zpp_pool,On.zpp_pool=i.next,i.next=null),i.zip_listeners=!0,Pn.setlt(e,t)?(i.a=e,i.b=t):(i.a=t,i.b=e),n=i,e.cbpairs.add(n),t!=e&&t.cbpairs.add(n)),n.zip_listeners&&(n.zip_listeners=!1,n.__validate()),null==n.listeners.head},Pn.single_intersection=function(e,t,i){for(var n=null,r=(e.cbpairs.length<t.cbpairs.length?e:t).cbpairs.head;null!=r;){var o=r.elt;if(o.a==e&&o.b==t||o.a==t&&o.b==e){n=o;break}r=r.next}null==n&&(null==On.zpp_pool?a=new On:(a=On.zpp_pool,On.zpp_pool=a.next,a.next=null),a.zip_listeners=!0,Pn.setlt(e,t)?(a.a=e,a.b=t):(a.a=t,a.b=e),n=a,e.cbpairs.add(n),t!=e&&t.cbpairs.add(n)),n.zip_listeners&&(n.zip_listeners=!1,n.__validate());var a=n.listeners.head;return null!=a&&a.elt==i&&null==a.next},Pn.find_all=function(e,t,i,n){for(var r,o=null,a=(e.cbpairs.length<t.cbpairs.length?e:t).cbpairs.head;null!=a;){var s=a.elt;if(s.a==e&&s.b==t||s.a==t&&s.b==e){o=s;break}a=a.next}null==o&&(null==On.zpp_pool?r=new On:(r=On.zpp_pool,On.zpp_pool=r.next,r.next=null),r.zip_listeners=!0,Pn.setlt(e,t)?(r.a=e,r.b=t):(r.a=t,r.b=e),o=r,e.cbpairs.add(o),t!=e&&t.cbpairs.add(o)),o.zip_listeners&&(o.zip_listeners=!1,o.__validate());for(var p=o.listeners.head;null!=p;){var l=p.elt;l.event==i&&n(l),p=p.next}},Pn.prototype.cbTypes=null,Pn.prototype.count=null,Pn.prototype.next=null,Pn.prototype.id=null,Pn.prototype.manager=null,Pn.prototype.cbpairs=null,Pn.prototype.increment=function(){this.count++},Pn.prototype.decrement=function(){return 0==--this.count},Pn.prototype.invalidate_pairs=function(){for(var e=this.cbpairs.head;null!=e;)e.elt.zip_listeners=!0,e=e.next},Pn.prototype.listeners=null,Pn.prototype.zip_listeners=null,Pn.prototype.invalidate_listeners=function(){this.zip_listeners=!0,this.invalidate_pairs()},Pn.prototype.validate_listeners=function(){this.zip_listeners&&(this.zip_listeners=!1,this.realvalidate_listeners())},Pn.prototype.realvalidate_listeners=function(){this.listeners.clear();for(var e=this.cbTypes.head;null!=e;){for(var t=null,i=this.listeners.head,n=e.elt.listeners.head;null!=n;){var r,o,a=n.elt;null!=i&&i.elt==a?(n=n.next,i=(t=i).next):null==i||(r=i.elt,!(a.precedence<=r.precedence)||a.precedence==r.precedence&&a.id>r.id)?(a.space==this.manager.space&&(r=this.listeners,null==In.zpp_pool?o=new In:(o=In.zpp_pool,In.zpp_pool=o.next,o.next=null),o.elt=a,a=o,null==t?(a.next=r.head,r.head=a):(a.next=t.next,t.next=a),r.pushmod=r.modified=!0,r.length++,t=a),n=n.next):i=(t=i).next}e=e.next}},Pn.prototype.bodylisteners=null,Pn.prototype.zip_bodylisteners=null,Pn.prototype.invalidate_bodylisteners=function(){this.zip_bodylisteners=!0},Pn.prototype.validate_bodylisteners=function(){this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners())},Pn.prototype.realvalidate_bodylisteners=function(){this.bodylisteners.clear();for(var e=this.cbTypes.head;null!=e;){for(var t=null,i=this.bodylisteners.head,n=e.elt.bodylisteners.head;null!=n;){var r,o,a,s=n.elt;null!=i&&i.elt==s?(n=n.next,i=(t=i).next):null==i||(r=i.elt,!(s.precedence<=r.precedence)||s.precedence==r.precedence&&s.id>r.id)?(!(r=s.options).nonemptyintersection(this.cbTypes,r.excludes)&&s.space==this.manager.space&&(o=this.bodylisteners,null==un.zpp_pool?a=new un:(a=un.zpp_pool,un.zpp_pool=a.next,a.next=null),a.elt=s,s=a,null==t?(s.next=o.head,o.head=s):(s.next=t.next,t.next=s),o.pushmod=o.modified=!0,o.length++,t=s),n=n.next):i=(t=i).next}e=e.next}},Pn.prototype.conlisteners=null,Pn.prototype.zip_conlisteners=null,Pn.prototype.invalidate_conlisteners=function(){this.zip_conlisteners=!0},Pn.prototype.validate_conlisteners=function(){this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},Pn.prototype.realvalidate_conlisteners=function(){this.conlisteners.clear();for(var e=this.cbTypes.head;null!=e;){for(var t=null,i=this.conlisteners.head,n=e.elt.conlisteners.head;null!=n;){var r,o,a,s=n.elt;null!=i&&i.elt==s?(n=n.next,i=(t=i).next):null==i||(r=i.elt,!(s.precedence<=r.precedence)||s.precedence==r.precedence&&s.id>r.id)?(!(r=s.options).nonemptyintersection(this.cbTypes,r.excludes)&&s.space==this.manager.space&&(o=this.conlisteners,null==cn.zpp_pool?a=new cn:(a=cn.zpp_pool,cn.zpp_pool=a.next,a.next=null),a.elt=s,s=a,null==t?(s.next=o.head,o.head=s):(s.next=t.next,t.next=s),o.pushmod=o.modified=!0,o.length++,t=s),n=n.next):i=(t=i).next}e=e.next}},Pn.prototype.validate=function(){this.zip_listeners&&(this.zip_listeners=!1,this.realvalidate_listeners()),this.zip_bodylisteners&&(this.zip_bodylisteners=!1,this.realvalidate_bodylisteners()),this.zip_conlisteners&&(this.zip_conlisteners=!1,this.realvalidate_conlisteners())},Pn.prototype.interactors=null,Pn.prototype.wrap_interactors=null,Pn.prototype.constraints=null,Pn.prototype.wrap_constraints=null,Pn.prototype.addConstraint=function(e){this.constraints.add(e)},Pn.prototype.addInteractor=function(e){this.interactors.add(e)},Pn.prototype.remConstraint=function(e){this.constraints.remove(e)},Pn.prototype.remInteractor=function(e){this.interactors.remove(e)},Pn.prototype.free=function(){for(this.listeners.clear(),this.zip_listeners=!0,this.bodylisteners.clear(),this.zip_bodylisteners=!0,this.conlisteners.clear(),this.zip_conlisteners=!0;null!=this.cbTypes.head;)this.cbTypes.pop_unsafe().cbsets.remove(this)},Pn.prototype.alloc=function(){},Pn.prototype.__class__=Pn,zpp_nape.callbacks.ZPP_CbSetPair=function(){this.listeners=null,this.zip_listeners=!1,this.next=null,this.b=null,this.a=null,this.listeners=new Pe}),Pe=(On.__name__=["zpp_nape","callbacks","ZPP_CbSetPair"],On.get=function(e,t){var i;return null==On.zpp_pool?i=new On:(i=On.zpp_pool,On.zpp_pool=i.next,i.next=null),i.zip_listeners=!0,Pn.setlt(e,t)?(i.a=e,i.b=t):(i.a=t,i.b=e),i},On.setlt=function(e,t){return!!Pn.setlt(e.a,t.a)||e.a==t.a&&Pn.setlt(e.b,t.b)},On.prototype.a=null,On.prototype.b=null,On.prototype.next=null,On.prototype.free=function(){this.a=this.b=null,this.listeners.clear()},On.prototype.alloc=function(){this.zip_listeners=!0},On.prototype.compatible=function(e){var t=e.options1,i=this.a.cbTypes;return!!(!(!t.nonemptyintersection(i,t.includes)||t.nonemptyintersection(i,t.excludes))&&(i=e.options2,t=this.b.cbTypes,!!i.nonemptyintersection(t,i.includes)&&!i.nonemptyintersection(t,i.excludes)))||(t=e.options2,i=this.a.cbTypes,!(!t.nonemptyintersection(i,t.includes)||t.nonemptyintersection(i,t.excludes))&&(i=e.options1,t=this.b.cbTypes,!!i.nonemptyintersection(t,i.includes)&&!i.nonemptyintersection(t,i.excludes)))},On.prototype.zip_listeners=null,On.prototype.listeners=null,On.prototype.invalidate=function(){this.zip_listeners=!0},On.prototype.validate=function(){this.zip_listeners&&(this.zip_listeners=!1,this.__validate())},On.prototype.__validate=function(){this.listeners.clear();for(var e=this.a.listeners.head,t=this.b.listeners.head;null!=e&&null!=t;){var i,n,r=e.elt,o=t.elt;r==o?(n=r.options1,i=this.a.cbTypes,(!!(!(!n.nonemptyintersection(i,n.includes)||n.nonemptyintersection(i,n.excludes))&&(i=r.options2,n=this.b.cbTypes,!!i.nonemptyintersection(n,i.includes)&&!i.nonemptyintersection(n,i.excludes)))||(n=r.options2,i=this.a.cbTypes,!(!n.nonemptyintersection(i,n.includes)||n.nonemptyintersection(i,n.excludes))&&(i=r.options1,n=this.b.cbTypes,!!i.nonemptyintersection(n,i.includes)&&!i.nonemptyintersection(n,i.excludes))))&&this.listeners.add(r),e=e.next,t=t.next):r.precedence>o.precedence||r.precedence==o.precedence&&r.id>o.id?e=e.next:t=t.next}},On.prototype.empty_intersection=function(){return null==this.listeners.head},On.prototype.single_intersection=function(e){var t=this.listeners.head;return null!=t&&t.elt==e&&null==t.next},On.prototype.forall=function(e,t){for(var i=this.listeners.head;null!=i;){var n=i.elt;n.event==e&&t(n),i=i.next}},On.prototype.__class__=On,zpp_nape.util.ZNPList_ZPP_InteractionListener=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Oe=(Pe.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionListener"],Pe.prototype.head=null,Pe.prototype.begin=function(){return this.head},Pe.prototype.modified=null,Pe.prototype.pushmod=null,Pe.prototype.length=null,Pe.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Pe.prototype.add=function(e){null==In.zpp_pool?t=new In:(t=In.zpp_pool,In.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Pe.prototype.inlined_add=function(e){null==In.zpp_pool?t=new In:(t=In.zpp_pool,In.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Pe.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Pe.prototype.insert=function(e,t){null==In.zpp_pool?i=new In:(i=In.zpp_pool,In.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Pe.prototype.inlined_insert=function(e,t){null==In.zpp_pool?i=new In:(i=In.zpp_pool,In.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Pe.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=In.zpp_pool,In.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Pe.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=In.zpp_pool,In.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Pe.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Pe.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Pe.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=In.zpp_pool,In.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Pe.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Pe.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=In.zpp_pool,In.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Pe.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=In.zpp_pool,In.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Pe.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=In.zpp_pool,In.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Pe.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=In.zpp_pool,In.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Pe.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Pe.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=In.zpp_pool,In.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Pe.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=In.zpp_pool,In.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Pe.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Pe.prototype.empty=function(){return null==this.head},Pe.prototype.size=function(){return this.length},Pe.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Pe.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Pe.prototype.front=function(){return this.head.elt},Pe.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Pe.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Pe.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Pe.prototype.__class__=Pe,zpp_nape.util.ZNPList_ZPP_BodyListener=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Te=(Oe.__name__=["zpp_nape","util","ZNPList_ZPP_BodyListener"],Oe.prototype.head=null,Oe.prototype.begin=function(){return this.head},Oe.prototype.modified=null,Oe.prototype.pushmod=null,Oe.prototype.length=null,Oe.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Oe.prototype.add=function(e){null==un.zpp_pool?t=new un:(t=un.zpp_pool,un.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Oe.prototype.inlined_add=function(e){null==un.zpp_pool?t=new un:(t=un.zpp_pool,un.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Oe.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Oe.prototype.insert=function(e,t){null==un.zpp_pool?i=new un:(i=un.zpp_pool,un.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Oe.prototype.inlined_insert=function(e,t){null==un.zpp_pool?i=new un:(i=un.zpp_pool,un.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Oe.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=un.zpp_pool,un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Oe.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=un.zpp_pool,un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Oe.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Oe.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Oe.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=un.zpp_pool,un.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Oe.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Oe.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=un.zpp_pool,un.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Oe.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=un.zpp_pool,un.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Oe.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=un.zpp_pool,un.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Oe.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=un.zpp_pool,un.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Oe.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Oe.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=un.zpp_pool,un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Oe.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=un.zpp_pool,un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Oe.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Oe.prototype.empty=function(){return null==this.head},Oe.prototype.size=function(){return this.length},Oe.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Oe.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Oe.prototype.front=function(){return this.head.elt},Oe.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Oe.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Oe.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Oe.prototype.__class__=Oe,zpp_nape.util.ZNPList_ZPP_ConstraintListener=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ge=(Te.__name__=["zpp_nape","util","ZNPList_ZPP_ConstraintListener"],Te.prototype.head=null,Te.prototype.begin=function(){return this.head},Te.prototype.modified=null,Te.prototype.pushmod=null,Te.prototype.length=null,Te.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Te.prototype.add=function(e){null==cn.zpp_pool?t=new cn:(t=cn.zpp_pool,cn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Te.prototype.inlined_add=function(e){null==cn.zpp_pool?t=new cn:(t=cn.zpp_pool,cn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Te.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Te.prototype.insert=function(e,t){null==cn.zpp_pool?i=new cn:(i=cn.zpp_pool,cn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Te.prototype.inlined_insert=function(e,t){null==cn.zpp_pool?i=new cn:(i=cn.zpp_pool,cn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Te.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=cn.zpp_pool,cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Te.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=cn.zpp_pool,cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Te.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Te.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Te.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=cn.zpp_pool,cn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Te.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Te.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=cn.zpp_pool,cn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Te.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=cn.zpp_pool,cn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Te.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=cn.zpp_pool,cn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Te.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=cn.zpp_pool,cn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Te.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Te.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=cn.zpp_pool,cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Te.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=cn.zpp_pool,cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Te.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Te.prototype.empty=function(){return null==this.head},Te.prototype.size=function(){return this.length},Te.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Te.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Te.prototype.front=function(){return this.head.elt},Te.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Te.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Te.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Te.prototype.__class__=Te,zpp_nape.util.ZNPList_ZPP_Constraint=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ae=(Ge.__name__=["zpp_nape","util","ZNPList_ZPP_Constraint"],Ge.prototype.head=null,Ge.prototype.begin=function(){return this.head},Ge.prototype.modified=null,Ge.prototype.pushmod=null,Ge.prototype.length=null,Ge.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ge.prototype.add=function(e){null==ln.zpp_pool?t=new ln:(t=ln.zpp_pool,ln.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ge.prototype.inlined_add=function(e){null==ln.zpp_pool?t=new ln:(t=ln.zpp_pool,ln.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ge.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ge.prototype.insert=function(e,t){null==ln.zpp_pool?i=new ln:(i=ln.zpp_pool,ln.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ge.prototype.inlined_insert=function(e,t){null==ln.zpp_pool?i=new ln:(i=ln.zpp_pool,ln.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ge.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=ln.zpp_pool,ln.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ge.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=ln.zpp_pool,ln.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ge.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ge.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ge.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=ln.zpp_pool,ln.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ge.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ge.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=ln.zpp_pool,ln.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ge.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=ln.zpp_pool,ln.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ge.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=ln.zpp_pool,ln.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ge.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=ln.zpp_pool,ln.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ge.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ge.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=ln.zpp_pool,ln.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ge.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=ln.zpp_pool,ln.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ge.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ge.prototype.empty=function(){return null==this.head},Ge.prototype.size=function(){return this.length},Ge.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ge.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ge.prototype.front=function(){return this.head.elt},Ge.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ge.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ge.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ge.prototype.__class__=Ge,zpp_nape.util.ZNPList_ZPP_Interactor=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ee=(Ae.__name__=["zpp_nape","util","ZNPList_ZPP_Interactor"],Ae.prototype.head=null,Ae.prototype.begin=function(){return this.head},Ae.prototype.modified=null,Ae.prototype.pushmod=null,Ae.prototype.length=null,Ae.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ae.prototype.add=function(e){null==Bn.zpp_pool?t=new Bn:(t=Bn.zpp_pool,Bn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ae.prototype.inlined_add=function(e){null==Bn.zpp_pool?t=new Bn:(t=Bn.zpp_pool,Bn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ae.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ae.prototype.insert=function(e,t){null==Bn.zpp_pool?i=new Bn:(i=Bn.zpp_pool,Bn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ae.prototype.inlined_insert=function(e,t){null==Bn.zpp_pool?i=new Bn:(i=Bn.zpp_pool,Bn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ae.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Bn.zpp_pool,Bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ae.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Bn.zpp_pool,Bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ae.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ae.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ae.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Bn.zpp_pool,Bn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ae.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ae.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Bn.zpp_pool,Bn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ae.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Bn.zpp_pool,Bn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ae.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Bn.zpp_pool,Bn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ae.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Bn.zpp_pool,Bn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ae.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ae.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Bn.zpp_pool,Bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ae.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Bn.zpp_pool,Bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ae.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ae.prototype.empty=function(){return null==this.head},Ae.prototype.size=function(){return this.length},Ae.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ae.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ae.prototype.front=function(){return this.head.elt},Ae.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ae.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ae.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ae.prototype.__class__=Ae,zpp_nape.util.ZNPList_ZPP_CbSet=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ie=(Ee.__name__=["zpp_nape","util","ZNPList_ZPP_CbSet"],Ee.prototype.head=null,Ee.prototype.begin=function(){return this.head},Ee.prototype.modified=null,Ee.prototype.pushmod=null,Ee.prototype.length=null,Ee.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ee.prototype.add=function(e){null==jt.zpp_pool?t=new jt:(t=jt.zpp_pool,jt.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ee.prototype.inlined_add=function(e){null==jt.zpp_pool?t=new jt:(t=jt.zpp_pool,jt.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ee.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ee.prototype.insert=function(e,t){null==jt.zpp_pool?i=new jt:(i=jt.zpp_pool,jt.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ee.prototype.inlined_insert=function(e,t){null==jt.zpp_pool?i=new jt:(i=jt.zpp_pool,jt.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ee.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=jt.zpp_pool,jt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ee.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=jt.zpp_pool,jt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ee.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ee.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ee.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=jt.zpp_pool,jt.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ee.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ee.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=jt.zpp_pool,jt.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ee.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=jt.zpp_pool,jt.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ee.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=jt.zpp_pool,jt.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ee.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=jt.zpp_pool,jt.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ee.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ee.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=jt.zpp_pool,jt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ee.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=jt.zpp_pool,jt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ee.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ee.prototype.empty=function(){return null==this.head},Ee.prototype.size=function(){return this.length},Ee.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ee.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ee.prototype.front=function(){return this.head.elt},Ee.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ee.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ee.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ee.prototype.__class__=Ee,zpp_nape.callbacks.ZPP_CbType=function(){this.conlisteners=null,this.bodylisteners=null,this.listeners=null,this.cbsets=null,this.id=0,this.userData=null,this.outer=null,this.id=Me.CbType(),this.listeners=new Pe,this.bodylisteners=new Oe,this.conlisteners=new Te,this.constraints=new Ge,this.interactors=new Ae,this.cbsets=new Ee}),Tn=(Ie.__name__=["zpp_nape","callbacks","ZPP_CbType"],Ie.setlt=function(e,t){return e.id<t.id},Ie.prototype.outer=null,Ie.prototype.userData=null,Ie.prototype.id=null,Ie.prototype.cbsets=null,Ie.prototype.interactors=null,Ie.prototype.wrap_interactors=null,Ie.prototype.constraints=null,Ie.prototype.wrap_constraints=null,Ie.prototype.addConstraint=function(e){this.constraints.add(e)},Ie.prototype.addInteractor=function(e){this.interactors.add(e)},Ie.prototype.remConstraint=function(e){this.constraints.remove(e)},Ie.prototype.remInteractor=function(e){this.interactors.remove(e)},Ie.prototype.listeners=null,Ie.prototype.addint=function(e){for(var t=null,i=this.listeners.head;null!=i;){var n=i.elt;if(e.precedence>n.precedence||e.precedence==n.precedence&&e.id>n.id)break;i=(t=i).next}for(var r,o=this.listeners,a=(null==In.zpp_pool?r=new In:(r=In.zpp_pool,In.zpp_pool=r.next,r.next=null),r.elt=e,null==t?(r.next=o.head,o.head=r):(r.next=t.next,t.next=r),o.pushmod=o.modified=!0,o.length++,this.cbsets.head);null!=a;){var s=a.elt;s.zip_listeners=!0,s.invalidate_pairs(),a=a.next}},Ie.prototype.removeint=function(e){this.listeners.remove(e);for(var t=this.cbsets.head;null!=t;){var i=t.elt;i.zip_listeners=!0,i.invalidate_pairs(),t=t.next}},Ie.prototype.invalidateint=function(){for(var e=this.cbsets.head;null!=e;){var t=e.elt;t.zip_listeners=!0,t.invalidate_pairs(),e=e.next}},Ie.prototype.bodylisteners=null,Ie.prototype.addbody=function(e){for(var t=null,i=this.bodylisteners.head;null!=i;){var n=i.elt;if(e.precedence>n.precedence||e.precedence==n.precedence&&e.id>n.id)break;i=(t=i).next}for(var r,o=this.bodylisteners,a=(null==un.zpp_pool?r=new un:(r=un.zpp_pool,un.zpp_pool=r.next,r.next=null),r.elt=e,null==t?(r.next=o.head,o.head=r):(r.next=t.next,t.next=r),o.pushmod=o.modified=!0,o.length++,this.cbsets.head);null!=a;)a.elt.zip_bodylisteners=!0,a=a.next},Ie.prototype.removebody=function(e){this.bodylisteners.remove(e);for(var t=this.cbsets.head;null!=t;)t.elt.zip_bodylisteners=!0,t=t.next},Ie.prototype.invalidatebody=function(){for(var e=this.cbsets.head;null!=e;)e.elt.zip_bodylisteners=!0,e=e.next},Ie.prototype.conlisteners=null,Ie.prototype.addconstraint=function(e){for(var t=null,i=this.conlisteners.head;null!=i;){var n=i.elt;if(e.precedence>n.precedence||e.precedence==n.precedence&&e.id>n.id)break;i=(t=i).next}for(var r,o=this.conlisteners,a=(null==cn.zpp_pool?r=new cn:(r=cn.zpp_pool,cn.zpp_pool=r.next,r.next=null),r.elt=e,null==t?(r.next=o.head,o.head=r):(r.next=t.next,t.next=r),o.pushmod=o.modified=!0,o.length++,this.cbsets.head);null!=a;)a.elt.zip_conlisteners=!0,a=a.next},Ie.prototype.removeconstraint=function(e){this.conlisteners.remove(e);for(var t=this.cbsets.head;null!=t;)t.elt.zip_conlisteners=!0,t=t.next},Ie.prototype.invalidateconstraint=function(){for(var e=this.cbsets.head;null!=e;)e.elt.zip_conlisteners=!0,e=e.next},Ie.prototype.__class__=Ie,zpp_nape.util.ZPP_Flags=function(){}),Be=(Tn.__name__=["zpp_nape","util","ZPP_Flags"],Tn.GravMassMode_DEFAULT=null,Tn.GravMassMode_FIXED=null,Tn.GravMassMode_SCALED=null,Tn.InertiaMode_DEFAULT=null,Tn.InertiaMode_FIXED=null,Tn.MassMode_DEFAULT=null,Tn.MassMode_FIXED=null,Tn.BodyType_STATIC=null,Tn.BodyType_DYNAMIC=null,Tn.BodyType_KINEMATIC=null,Tn.ListenerType_BODY=null,Tn.PreFlag_ACCEPT=null,Tn.ListenerType_CONSTRAINT=null,Tn.PreFlag_IGNORE=null,Tn.ListenerType_INTERACTION=null,Tn.PreFlag_ACCEPT_ONCE=null,Tn.ListenerType_PRE=null,Tn.PreFlag_IGNORE_ONCE=null,Tn.CbEvent_BEGIN=null,Tn.InteractionType_COLLISION=null,Tn.CbEvent_ONGOING=null,Tn.InteractionType_SENSOR=null,Tn.CbEvent_END=null,Tn.InteractionType_FLUID=null,Tn.CbEvent_WAKE=null,Tn.InteractionType_ANY=null,Tn.CbEvent_SLEEP=null,Tn.CbEvent_BREAK=null,Tn.CbEvent_PRE=null,Tn.Winding_UNDEFINED=null,Tn.Winding_CLOCKWISE=null,Tn.Winding_ANTICLOCKWISE=null,Tn.ValidationResult_VALID=null,Tn.ValidationResult_DEGENERATE=null,Tn.ValidationResult_CONCAVE=null,Tn.ValidationResult_SELF_INTERSECTING=null,Tn.ShapeType_CIRCLE=null,Tn.ShapeType_POLYGON=null,Tn.Broadphase_DYNAMIC_AABB_TREE=null,Tn.Broadphase_SWEEP_AND_PRUNE=null,Tn.ArbiterType_COLLISION=null,Tn.ArbiterType_SENSOR=null,Tn.ArbiterType_FLUID=null,Tn.prototype.__class__=Tn,zpp_nape.callbacks.ZPP_Listener=function(){this.space=null,this.interaction=null,this.constraint=null,this.body=null,this.precedence=0,this.event=0,this.type=0,this.id=0,this.outer=null,this.id=Me.Listener()}),Le=(Be.__name__=["zpp_nape","callbacks","ZPP_Listener"],Be.setlt=function(e,t){return!(e.precedence<=t.precedence)||e.precedence==t.precedence&&e.id>t.id},Be.prototype.outer=null,Be.prototype.id=null,Be.prototype.type=null,Be.prototype.event=null,Be.prototype.precedence=null,Be.prototype.body=null,Be.prototype.constraint=null,Be.prototype.interaction=null,Be.prototype.space=null,Be.prototype.swapEvent=function(e){},Be.prototype.invalidate_precedence=function(){},Be.prototype.addedToSpace=function(){},Be.prototype.removedFromSpace=function(){},Be.prototype.__class__=Be,zpp_nape.callbacks.ZPP_BodyListener=function(e,t,i){this.handler=null,this.options=null,this.outer_zn=null,Be.call(this),this.event=t,this.handler=i,(this.body=this).type=0,this.options=e.zpp_inner}),De=(Le.__name__=["zpp_nape","callbacks","ZPP_BodyListener"],Le.__super__=Be,Le.prototype=Object.create(Be.prototype),Le.prototype.outer_zn=null,Le.prototype.options=null,Le.prototype.handler=null,Le.prototype.addedToSpace=function(){this.options.handler=Z(this,this.cbtype_change);for(var e=this.options.includes.head;null!=e;){for(var t=e.elt,i=null,n=t.bodylisteners.head;null!=n;){var r=n.elt;if(this.precedence>r.precedence||this.precedence==r.precedence&&this.id>r.id)break;n=(i=n).next}for(var o,a=t.bodylisteners,s=(null==un.zpp_pool?o=new un:(o=un.zpp_pool,un.zpp_pool=o.next,o.next=null),o.elt=this,o),p=(null==i?(s.next=a.head,a.head=s):(s.next=i.next,i.next=s),a.pushmod=a.modified=!0,a.length++,t.cbsets.head);null!=p;)p.elt.zip_bodylisteners=!0,p=p.next;e=e.next}},Le.prototype.removedFromSpace=function(){for(var e=this.options.includes.head;null!=e;){for(var t=e.elt,i=(t.bodylisteners.remove(this),t.cbsets.head);null!=i;)i.elt.zip_bodylisteners=!0,i=i.next;e=e.next}this.options.handler=null},Le.prototype.cbtype_change=function(e,t,i){this.removedFromSpace();var n=this.options;if(t)if(i){for(var r=null,o=n.includes.head;null!=o&&!(e.id<o.elt.id);)o=(r=o).next;t=n.includes,null==Dt.zpp_pool?l=new Dt:(l=Dt.zpp_pool,Dt.zpp_pool=l.next,l.next=null),l.elt=e;null==r?(l.next=t.head,t.head=l):(l.next=r.next,r.next=l),t.pushmod=t.modified=!0,t.length++}else n.includes.remove(e);else if(i){for(var a=null,s=n.excludes.head;null!=s&&!(e.id<s.elt.id);)s=(a=s).next;var p,l=n.excludes,t=(null==Dt.zpp_pool?p=new Dt:(p=Dt.zpp_pool,Dt.zpp_pool=p.next,p.next=null),p.elt=e,p);null==a?(t.next=l.head,l.head=t):(t.next=a.next,a.next=t),l.pushmod=l.modified=!0,l.length++}else n.excludes.remove(e);this.addedToSpace()},Le.prototype.invalidate_precedence=function(){null!=this.space&&(this.removedFromSpace(),this.addedToSpace())},Le.prototype.swapEvent=function(e){this.removedFromSpace(),this.event=e,this.addedToSpace()},Le.prototype.__class__=Le,zpp_nape.callbacks.ZPP_ConstraintListener=function(e,t,i){this.handler=null,this.options=null,this.outer_zn=null,Be.call(this),this.event=t,this.handler=i,(this.constraint=this).type=1,this.options=e.zpp_inner}),Re=(De.__name__=["zpp_nape","callbacks","ZPP_ConstraintListener"],De.__super__=Be,De.prototype=Object.create(Be.prototype),De.prototype.outer_zn=null,De.prototype.options=null,De.prototype.handler=null,De.prototype.addedToSpace=function(){this.options.handler=Z(this,this.cbtype_change);for(var e=this.options.includes.head;null!=e;){for(var t=e.elt,i=null,n=t.conlisteners.head;null!=n;){var r=n.elt;if(this.precedence>r.precedence||this.precedence==r.precedence&&this.id>r.id)break;n=(i=n).next}for(var o,a=t.conlisteners,s=(null==cn.zpp_pool?o=new cn:(o=cn.zpp_pool,cn.zpp_pool=o.next,o.next=null),o.elt=this,o),p=(null==i?(s.next=a.head,a.head=s):(s.next=i.next,i.next=s),a.pushmod=a.modified=!0,a.length++,t.cbsets.head);null!=p;)p.elt.zip_conlisteners=!0,p=p.next;e=e.next}},De.prototype.removedFromSpace=function(){for(var e=this.options.includes.head;null!=e;){for(var t=e.elt,i=(t.conlisteners.remove(this),t.cbsets.head);null!=i;)i.elt.zip_conlisteners=!0,i=i.next;e=e.next}this.options.handler=null},De.prototype.cbtype_change=function(e,t,i){this.removedFromSpace();var n=this.options;if(t)if(i){for(var r=null,o=n.includes.head;null!=o&&!(e.id<o.elt.id);)o=(r=o).next;t=n.includes,null==Dt.zpp_pool?l=new Dt:(l=Dt.zpp_pool,Dt.zpp_pool=l.next,l.next=null),l.elt=e;null==r?(l.next=t.head,t.head=l):(l.next=r.next,r.next=l),t.pushmod=t.modified=!0,t.length++}else n.includes.remove(e);else if(i){for(var a=null,s=n.excludes.head;null!=s&&!(e.id<s.elt.id);)s=(a=s).next;var p,l=n.excludes,t=(null==Dt.zpp_pool?p=new Dt:(p=Dt.zpp_pool,Dt.zpp_pool=p.next,p.next=null),p.elt=e,p);null==a?(t.next=l.head,l.head=t):(t.next=a.next,a.next=t),l.pushmod=l.modified=!0,l.length++}else n.excludes.remove(e);this.addedToSpace()},De.prototype.invalidate_precedence=function(){null!=this.space&&(this.removedFromSpace(),this.addedToSpace())},De.prototype.swapEvent=function(e){this.removedFromSpace(),this.event=e,this.addedToSpace()},De.prototype.__class__=De,zpp_nape.util.ZNPList_ZPP_CbType=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ht=(Re.__name__=["zpp_nape","util","ZNPList_ZPP_CbType"],Re.prototype.head=null,Re.prototype.begin=function(){return this.head},Re.prototype.modified=null,Re.prototype.pushmod=null,Re.prototype.length=null,Re.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Re.prototype.add=function(e){null==Dt.zpp_pool?t=new Dt:(t=Dt.zpp_pool,Dt.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Re.prototype.inlined_add=function(e){null==Dt.zpp_pool?t=new Dt:(t=Dt.zpp_pool,Dt.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Re.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Re.prototype.insert=function(e,t){null==Dt.zpp_pool?i=new Dt:(i=Dt.zpp_pool,Dt.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Re.prototype.inlined_insert=function(e,t){null==Dt.zpp_pool?i=new Dt:(i=Dt.zpp_pool,Dt.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Re.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Dt.zpp_pool,Dt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Re.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Dt.zpp_pool,Dt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Re.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Re.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Re.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Dt.zpp_pool,Dt.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Re.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Re.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Dt.zpp_pool,Dt.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Re.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Dt.zpp_pool,Dt.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Re.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Dt.zpp_pool,Dt.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Re.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Dt.zpp_pool,Dt.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Re.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Re.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Dt.zpp_pool,Dt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Re.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Dt.zpp_pool,Dt.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Re.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Re.prototype.empty=function(){return null==this.head},Re.prototype.size=function(){return this.length},Re.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Re.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Re.prototype.front=function(){return this.head.elt},Re.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Re.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Re.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Re.prototype.__class__=Re,zpp_nape.callbacks.ZPP_InteractionListener=function(e,t,i,n){this.handlerp=null,this.pure=!1,this.allowSleepingCallbacks=!1,this.handleri=null,this.options2=null,this.options1=null,this.itype=0,this.outer_znp=null,this.outer_zni=null,Be.call(this),this.type=n,(this.interaction=this).event=i,this.options1=e.zpp_inner,this.options2=t.zpp_inner,this.allowSleepingCallbacks=!1}),je=(Ht.__name__=["zpp_nape","callbacks","ZPP_InteractionListener"],Ht.__super__=Be,Ht.prototype=Object.create(Be.prototype),Ht.prototype.outer_zni=null,Ht.prototype.outer_znp=null,Ht.prototype.itype=null,Ht.prototype.options1=null,Ht.prototype.options2=null,Ht.prototype.handleri=null,Ht.prototype.allowSleepingCallbacks=null,Ht.prototype.pure=null,Ht.prototype.handlerp=null,Ht.prototype.setInteractionType=function(e){this.itype=e},Ht.prototype.wake=function(){for(var e=this.options1.includes.head,t=this.options2.includes.head;null!=e&&null!=t;){var i=e.elt,n=t.elt;if(i==n){for(var r=i.interactors.head;null!=r;)r.elt.wake(),r=r.next;e=e.next,t=t.next}else if(i.id<n.id){for(var o=i.interactors.head;null!=o;)o.elt.wake(),o=o.next;e=e.next}else{for(var a=n.interactors.head;null!=a;)a.elt.wake(),a=a.next;t=t.next}}for(;null!=e;){for(var s=e.elt.interactors.head;null!=s;)s.elt.wake(),s=s.next;e=e.next}for(;null!=t;){for(var p=t.elt.interactors.head;null!=p;)p.elt.wake(),p=p.next;t=t.next}},Ht.prototype.CbSetset=function(e,t,i){for(var n=Ht.UCbSet,r=Ht.VCbSet,o=Ht.WCbSet,a=e.head,s=t.head;null!=a&&null!=s;){var p,l,h,u,d=a.elt,c=s.elt;d==c?(null==jt.zpp_pool?p=new jt:(p=jt.zpp_pool,jt.zpp_pool=p.next,p.next=null),p.elt=d,(h=p).next=o.head,o.head=h,o.modified=!0,o.length++,a=a.next,s=s.next):Pn.setlt(d,c)?(null==jt.zpp_pool?l=new jt:(l=jt.zpp_pool,jt.zpp_pool=l.next,l.next=null),l.elt=d,(h=l).next=n.head,n.head=h,n.modified=!0,n.length++,a=a.next):(null==jt.zpp_pool?u=new jt:(u=jt.zpp_pool,jt.zpp_pool=u.next,u.next=null),u.elt=c,(d=u).next=r.head,r.head=d,r.modified=!0,r.length++,s=s.next)}for(;null!=a;){var m,y=a.elt,y=(null==jt.zpp_pool?m=new jt:(m=jt.zpp_pool,jt.zpp_pool=m.next,m.next=null),m.elt=y,m);y.next=n.head,n.head=y,n.modified=!0,n.length++,a=a.next}for(;null!=s;){var _,x=s.elt,x=(null==jt.zpp_pool?_=new jt:(_=jt.zpp_pool,jt.zpp_pool=_.next,_.next=null),_.elt=x,_);x.next=r.head,r.head=x,r.modified=!0,r.length++,s=s.next}for(;null!=n.head;)for(var f=n.pop_unsafe(),g=t.head;null!=g;)i(f,g.elt),g=g.next;for(;null!=r.head;)for(var v=r.pop_unsafe(),z=o.head;null!=z;)i(v,z.elt),z=z.next;for(;null!=o.head;)for(var b=o.pop_unsafe(),w=(i(b,b),o.head);null!=w;)i(b,w.elt),w=w.next},Ht.prototype.CbTypeset=function(e,t,i){for(var n=Ht.UCbType,r=Ht.VCbType,o=Ht.WCbType,a=e.head,s=t.head;null!=a&&null!=s;){var p,l,h,u,d=a.elt,c=s.elt;d==c?(null==Dt.zpp_pool?p=new Dt:(p=Dt.zpp_pool,Dt.zpp_pool=p.next,p.next=null),p.elt=d,(h=p).next=o.head,o.head=h,o.modified=!0,o.length++,a=a.next,s=s.next):d.id<c.id?(null==Dt.zpp_pool?l=new Dt:(l=Dt.zpp_pool,Dt.zpp_pool=l.next,l.next=null),l.elt=d,(h=l).next=n.head,n.head=h,n.modified=!0,n.length++,a=a.next):(null==Dt.zpp_pool?u=new Dt:(u=Dt.zpp_pool,Dt.zpp_pool=u.next,u.next=null),u.elt=c,(d=u).next=r.head,r.head=d,r.modified=!0,r.length++,s=s.next)}for(;null!=a;){var m,y=a.elt,y=(null==Dt.zpp_pool?m=new Dt:(m=Dt.zpp_pool,Dt.zpp_pool=m.next,m.next=null),m.elt=y,m);y.next=n.head,n.head=y,n.modified=!0,n.length++,a=a.next}for(;null!=s;){var _,x=s.elt,x=(null==Dt.zpp_pool?_=new Dt:(_=Dt.zpp_pool,Dt.zpp_pool=_.next,_.next=null),_.elt=x,_);x.next=r.head,r.head=x,r.modified=!0,r.length++,s=s.next}for(;null!=n.head;)for(var f=n.pop_unsafe(),g=t.head;null!=g;)i(f,g.elt),g=g.next;for(;null!=r.head;)for(var v=r.pop_unsafe(),z=o.head;null!=z;)i(v,z.elt),z=z.next;for(;null!=o.head;)for(var b=o.pop_unsafe(),w=(i(b,b),o.head);null!=w;)i(b,w.elt),w=w.next},Ht.prototype.with_uniquesets=function(L){for(var e,t=this,D=(null==Ut.zpp_pool?e=new Ut:(e=Ut.zpp_pool,Ut.zpp_pool=e.next,e.next=null),e.lt=On.setlt,this.options2.includes),i=Ht.UCbType,n=Ht.VCbType,R=Ht.WCbType,r=this.options1.includes.head,o=D.head;null!=r&&null!=o;){var j,F,N,U,H=r.elt,V=o.elt;H==V?(null==Dt.zpp_pool?j=new Dt:(j=Dt.zpp_pool,Dt.zpp_pool=j.next,j.next=null),j.elt=H,(N=j).next=R.head,R.head=N,R.modified=!0,R.length++,r=r.next,o=o.next):H.id<V.id?(null==Dt.zpp_pool?F=new Dt:(F=Dt.zpp_pool,Dt.zpp_pool=F.next,F.next=null),F.elt=H,(N=F).next=i.head,i.head=N,i.modified=!0,i.length++,r=r.next):(null==Dt.zpp_pool?U=new Dt:(U=Dt.zpp_pool,Dt.zpp_pool=U.next,U.next=null),U.elt=V,(H=U).next=n.head,n.head=H,n.modified=!0,n.length++,o=o.next)}for(;null!=r;){var W,q=r.elt,q=(null==Dt.zpp_pool?W=new Dt:(W=Dt.zpp_pool,Dt.zpp_pool=W.next,W.next=null),W.elt=q,W);q.next=i.head,i.head=q,i.modified=!0,i.length++,r=r.next}for(;null!=o;){var X,Y=o.elt,Y=(null==Dt.zpp_pool?X=new Dt:(X=Dt.zpp_pool,Dt.zpp_pool=X.next,X.next=null),X.elt=Y,X);Y.next=n.head,n.head=Y,n.modified=!0,n.length++,o=o.next}for(;null!=i.head;)for(var K=i.pop_unsafe(),Z=D.head;null!=Z;){for(var J=Z.elt.cbsets,a=Ht.UCbSet,s=Ht.VCbSet,Q=Ht.WCbSet,p=K.cbsets.head,l=J.head;null!=p&&null!=l;){var $,ee,te,ie,ne=p.elt,re=l.elt;ne==re?(null==jt.zpp_pool?$=new jt:($=jt.zpp_pool,jt.zpp_pool=$.next,$.next=null),$.elt=ne,(te=$).next=Q.head,Q.head=te,Q.modified=!0,Q.length++,p=p.next,l=l.next):Pn.setlt(ne,re)?(null==jt.zpp_pool?ee=new jt:(ee=jt.zpp_pool,jt.zpp_pool=ee.next,ee.next=null),ee.elt=ne,(te=ee).next=a.head,a.head=te,a.modified=!0,a.length++,p=p.next):(null==jt.zpp_pool?ie=new jt:(ie=jt.zpp_pool,jt.zpp_pool=ie.next,ie.next=null),ie.elt=re,(ne=ie).next=s.head,s.head=ne,s.modified=!0,s.length++,l=l.next)}for(;null!=p;){var oe,ae=p.elt,ae=(null==jt.zpp_pool?oe=new jt:(oe=jt.zpp_pool,jt.zpp_pool=oe.next,oe.next=null),oe.elt=ae,oe);ae.next=a.head,a.head=ae,a.modified=!0,a.length++,p=p.next}for(;null!=l;){var se,pe=l.elt,pe=(null==jt.zpp_pool?se=new jt:(se=jt.zpp_pool,jt.zpp_pool=se.next,se.next=null),se.elt=pe,se);pe.next=s.head,s.head=pe,s.modified=!0,s.length++,l=l.next}for(;null!=a.head;)for(var le=a.pop_unsafe(),he=J.head;null!=he;){var h,ue=he.elt;le.validate(),ue.validate(),Pn.single_intersection(le,ue,t)&&(null==On.zpp_pool?h=new On:(h=On.zpp_pool,On.zpp_pool=h.next,h.next=null),h.zip_listeners=!0,Pn.setlt(le,ue)?(h.a=le,h.b=ue):(h.a=ue,h.b=le),e.try_insert(h)),he=he.next}for(;null!=s.head;)for(var de=s.pop_unsafe(),ce=Q.head;null!=ce;){var u,me=ce.elt;de.validate(),me.validate(),Pn.single_intersection(de,me,t)&&(null==On.zpp_pool?u=new On:(u=On.zpp_pool,On.zpp_pool=u.next,u.next=null),u.zip_listeners=!0,Pn.setlt(de,me)?(u.a=de,u.b=me):(u.a=me,u.b=de),e.try_insert(u)),ce=ce.next}for(;null!=Q.head;)for(var ye,d=Q.pop_unsafe(),_e=(d.validate(),d.validate(),Pn.single_intersection(d,d,t)&&(null==On.zpp_pool?ye=new On:(ye=On.zpp_pool,On.zpp_pool=ye.next,ye.next=null),ye.zip_listeners=!0,Pn.setlt(d,d),ye.a=d,ye.b=d,e.try_insert(ye)),Q.head);null!=_e;){var c,xe=_e.elt;d.validate(),xe.validate(),Pn.single_intersection(d,xe,t)&&(null==On.zpp_pool?c=new On:(c=On.zpp_pool,On.zpp_pool=c.next,c.next=null),c.zip_listeners=!0,Pn.setlt(d,xe)?(c.a=d,c.b=xe):(c.a=xe,c.b=d),e.try_insert(c)),_e=_e.next}Z=Z.next}for(;null!=n.head;)for(var fe=n.pop_unsafe(),ge=R.head;null!=ge;){for(var ve=ge.elt.cbsets,m=Ht.UCbSet,y=Ht.VCbSet,ze=Ht.WCbSet,_=fe.cbsets.head,x=ve.head;null!=_&&null!=x;){var be,we,Se,Ce,ke=_.elt,Me=x.elt;ke==Me?(null==jt.zpp_pool?be=new jt:(be=jt.zpp_pool,jt.zpp_pool=be.next,be.next=null),be.elt=ke,(Se=be).next=ze.head,ze.head=Se,ze.modified=!0,ze.length++,_=_.next,x=x.next):Pn.setlt(ke,Me)?(null==jt.zpp_pool?we=new jt:(we=jt.zpp_pool,jt.zpp_pool=we.next,we.next=null),we.elt=ke,(Se=we).next=m.head,m.head=Se,m.modified=!0,m.length++,_=_.next):(null==jt.zpp_pool?Ce=new jt:(Ce=jt.zpp_pool,jt.zpp_pool=Ce.next,Ce.next=null),Ce.elt=Me,(ke=Ce).next=y.head,y.head=ke,y.modified=!0,y.length++,x=x.next)}for(;null!=_;){var Pe,Oe=_.elt,Oe=(null==jt.zpp_pool?Pe=new jt:(Pe=jt.zpp_pool,jt.zpp_pool=Pe.next,Pe.next=null),Pe.elt=Oe,Pe);Oe.next=m.head,m.head=Oe,m.modified=!0,m.length++,_=_.next}for(;null!=x;){var Te,Ge=x.elt,Ge=(null==jt.zpp_pool?Te=new jt:(Te=jt.zpp_pool,jt.zpp_pool=Te.next,Te.next=null),Te.elt=Ge,Te);Ge.next=y.head,y.head=Ge,y.modified=!0,y.length++,x=x.next}for(;null!=m.head;)for(var Ae=m.pop_unsafe(),Ee=ve.head;null!=Ee;){var f,Ie=Ee.elt;Ae.validate(),Ie.validate(),Pn.single_intersection(Ae,Ie,t)&&(null==On.zpp_pool?f=new On:(f=On.zpp_pool,On.zpp_pool=f.next,f.next=null),f.zip_listeners=!0,Pn.setlt(Ae,Ie)?(f.a=Ae,f.b=Ie):(f.a=Ie,f.b=Ae),e.try_insert(f)),Ee=Ee.next}for(;null!=y.head;)for(var Be=y.pop_unsafe(),Le=ze.head;null!=Le;){var g,De=Le.elt;Be.validate(),De.validate(),Pn.single_intersection(Be,De,t)&&(null==On.zpp_pool?g=new On:(g=On.zpp_pool,On.zpp_pool=g.next,g.next=null),g.zip_listeners=!0,Pn.setlt(Be,De)?(g.a=Be,g.b=De):(g.a=De,g.b=Be),e.try_insert(g)),Le=Le.next}for(;null!=ze.head;)for(var Re,v=ze.pop_unsafe(),je=(v.validate(),v.validate(),Pn.single_intersection(v,v,t)&&(null==On.zpp_pool?Re=new On:(Re=On.zpp_pool,On.zpp_pool=Re.next,Re.next=null),Re.zip_listeners=!0,Pn.setlt(v,v),Re.a=v,Re.b=v,e.try_insert(Re)),ze.head);null!=je;){var z,Fe=je.elt;v.validate(),Fe.validate(),Pn.single_intersection(v,Fe,t)&&(null==On.zpp_pool?z=new On:(z=On.zpp_pool,On.zpp_pool=z.next,z.next=null),z.zip_listeners=!0,Pn.setlt(v,Fe)?(z.a=v,z.b=Fe):(z.a=Fe,z.b=v),e.try_insert(z)),je=je.next}ge=ge.next}for(;null!=R.head;){for(var Ne=R.pop_unsafe(),Ue=Ne.cbsets,b=Ht.UCbSet,w=Ht.VCbSet,He=Ht.WCbSet,S=Ne.cbsets.head,C=Ue.head;null!=S&&null!=C;){var Ve,We,qe,Xe,Ye=S.elt,Ke=C.elt;Ye==Ke?(null==jt.zpp_pool?Ve=new jt:(Ve=jt.zpp_pool,jt.zpp_pool=Ve.next,Ve.next=null),Ve.elt=Ye,(qe=Ve).next=He.head,He.head=qe,He.modified=!0,He.length++,S=S.next,C=C.next):Pn.setlt(Ye,Ke)?(null==jt.zpp_pool?We=new jt:(We=jt.zpp_pool,jt.zpp_pool=We.next,We.next=null),We.elt=Ye,(qe=We).next=b.head,b.head=qe,b.modified=!0,b.length++,S=S.next):(null==jt.zpp_pool?Xe=new jt:(Xe=jt.zpp_pool,jt.zpp_pool=Xe.next,Xe.next=null),Xe.elt=Ke,(Ye=Xe).next=w.head,w.head=Ye,w.modified=!0,w.length++,C=C.next)}for(;null!=S;){var Ze,Je=S.elt,Je=(null==jt.zpp_pool?Ze=new jt:(Ze=jt.zpp_pool,jt.zpp_pool=Ze.next,Ze.next=null),Ze.elt=Je,Ze);Je.next=b.head,b.head=Je,b.modified=!0,b.length++,S=S.next}for(;null!=C;){var Qe,$e=C.elt,$e=(null==jt.zpp_pool?Qe=new jt:(Qe=jt.zpp_pool,jt.zpp_pool=Qe.next,Qe.next=null),Qe.elt=$e,Qe);$e.next=w.head,w.head=$e,w.modified=!0,w.length++,C=C.next}for(;null!=b.head;)for(var et=b.pop_unsafe(),tt=Ue.head;null!=tt;){var k,it=tt.elt;et.validate(),it.validate(),Pn.single_intersection(et,it,t)&&(null==On.zpp_pool?k=new On:(k=On.zpp_pool,On.zpp_pool=k.next,k.next=null),k.zip_listeners=!0,Pn.setlt(et,it)?(k.a=et,k.b=it):(k.a=it,k.b=et),e.try_insert(k)),tt=tt.next}for(;null!=w.head;)for(var nt=w.pop_unsafe(),rt=He.head;null!=rt;){var M,ot=rt.elt;nt.validate(),ot.validate(),Pn.single_intersection(nt,ot,t)&&(null==On.zpp_pool?M=new On:(M=On.zpp_pool,On.zpp_pool=M.next,M.next=null),M.zip_listeners=!0,Pn.setlt(nt,ot)?(M.a=nt,M.b=ot):(M.a=ot,M.b=nt),e.try_insert(M)),rt=rt.next}for(;null!=He.head;)for(var at,P=He.pop_unsafe(),st=(P.validate(),P.validate(),Pn.single_intersection(P,P,t)&&(null==On.zpp_pool?at=new On:(at=On.zpp_pool,On.zpp_pool=at.next,at.next=null),at.zip_listeners=!0,Pn.setlt(P,P),at.a=P,at.b=P,e.try_insert(at)),He.head);null!=st;){var O,pt=st.elt;P.validate(),pt.validate(),Pn.single_intersection(P,pt,t)&&(null==On.zpp_pool?O=new On:(O=On.zpp_pool,On.zpp_pool=O.next,O.next=null),O.zip_listeners=!0,Pn.setlt(P,pt)?(O.a=P,O.b=pt):(O.a=pt,O.b=P),e.try_insert(O)),st=st.next}for(var lt=R.head;null!=lt;){for(var ht=lt.elt.cbsets,T=Ht.UCbSet,G=Ht.VCbSet,ut=Ht.WCbSet,A=Ne.cbsets.head,dt=ht.head;null!=A&&null!=dt;){var ct,mt,yt,_t,xt=A.elt,ft=dt.elt;xt==ft?(null==jt.zpp_pool?ct=new jt:(ct=jt.zpp_pool,jt.zpp_pool=ct.next,ct.next=null),ct.elt=xt,(yt=ct).next=ut.head,ut.head=yt,ut.modified=!0,ut.length++,A=A.next,dt=dt.next):Pn.setlt(xt,ft)?(null==jt.zpp_pool?mt=new jt:(mt=jt.zpp_pool,jt.zpp_pool=mt.next,mt.next=null),mt.elt=xt,(yt=mt).next=T.head,T.head=yt,T.modified=!0,T.length++,A=A.next):(null==jt.zpp_pool?_t=new jt:(_t=jt.zpp_pool,jt.zpp_pool=_t.next,_t.next=null),_t.elt=ft,(xt=_t).next=G.head,G.head=xt,G.modified=!0,G.length++,dt=dt.next)}for(;null!=A;){var gt,vt=A.elt,vt=(null==jt.zpp_pool?gt=new jt:(gt=jt.zpp_pool,jt.zpp_pool=gt.next,gt.next=null),gt.elt=vt,gt);vt.next=T.head,T.head=vt,T.modified=!0,T.length++,A=A.next}for(;null!=dt;){var zt,bt=dt.elt,bt=(null==jt.zpp_pool?zt=new jt:(zt=jt.zpp_pool,jt.zpp_pool=zt.next,zt.next=null),zt.elt=bt,zt);bt.next=G.head,G.head=bt,G.modified=!0,G.length++,dt=dt.next}for(;null!=T.head;)for(var wt=T.pop_unsafe(),St=ht.head;null!=St;){var Ct,kt=St.elt;wt.validate(),kt.validate(),Pn.single_intersection(wt,kt,t)&&(null==On.zpp_pool?Ct=new On:(Ct=On.zpp_pool,On.zpp_pool=Ct.next,Ct.next=null),Ct.zip_listeners=!0,Pn.setlt(wt,kt)?(Ct.a=wt,Ct.b=kt):(Ct.a=kt,Ct.b=wt),e.try_insert(Ct)),St=St.next}for(;null!=G.head;)for(var Mt=G.pop_unsafe(),Pt=ut.head;null!=Pt;){var Ot,Tt=Pt.elt;Mt.validate(),Tt.validate(),Pn.single_intersection(Mt,Tt,t)&&(null==On.zpp_pool?Ot=new On:(Ot=On.zpp_pool,On.zpp_pool=Ot.next,Ot.next=null),Ot.zip_listeners=!0,Pn.setlt(Mt,Tt)?(Ot.a=Mt,Ot.b=Tt):(Ot.a=Tt,Ot.b=Mt),e.try_insert(Ot)),Pt=Pt.next}for(;null!=ut.head;)for(var Gt,E=ut.pop_unsafe(),At=(E.validate(),E.validate(),Pn.single_intersection(E,E,t)&&(null==On.zpp_pool?Gt=new On:(Gt=On.zpp_pool,On.zpp_pool=Gt.next,Gt.next=null),Gt.zip_listeners=!0,Pn.setlt(E,E),Gt.a=E,Gt.b=E,e.try_insert(Gt)),ut.head);null!=At;){var Et,It=At.elt;E.validate(),It.validate(),Pn.single_intersection(E,It,t)&&(null==On.zpp_pool?Et=new On:(Et=On.zpp_pool,On.zpp_pool=Et.next,Et.next=null),Et.zip_listeners=!0,Pn.setlt(E,It)?(Et.a=E,Et.b=It):(Et.a=It,Et.b=E),e.try_insert(Et)),At=At.next}lt=lt.next}}if(null!=e.parent){for(var I,Bt,B=e.parent;null!=B;)B=null!=B.prev?B.prev:null!=B.next?B.next:(I=B.data,L?t.space.freshListenerType(I.a,I.b):t.space.nullListenerType(I.a,I.b),I.a=I.b=null,I.listeners.clear(),I.next=On.zpp_pool,On.zpp_pool=I,null!=(I=B.parent)&&(B==I.prev?I.prev=null:I.next=null,B.parent=null),(Bt=B).data=null,Bt.lt=null,Bt.swapped=null,Bt.next=Ut.zpp_pool,Ut.zpp_pool=Bt,I);e.parent=null}var Lt=e;Lt.data=null,Lt.lt=null,Lt.swapped=null,Lt.next=Ut.zpp_pool,Ut.zpp_pool=Lt},Ht.prototype.with_union=function(e){for(var t=this.options1.includes.head,i=this.options2.includes.head;null!=t&&null!=i;){var n=t.elt,r=i.elt;n==r?(e(n),t=t.next,i=i.next):n.id<r.id?(e(n),t=t.next):(e(r),i=i.next)}for(;null!=t;)e(t.elt),t=t.next;for(;null!=i;)e(i.elt),i=i.next},Ht.prototype.addedToSpace=function(){for(var e=this,t=3==this.type,i=this.options1.includes.head,n=this.options2.includes.head;null!=i&&null!=n;){var r=i.elt,o=n.elt;if(r==o){for(var a=null,s=r.listeners.head;null!=s;){var L=s.elt;if(e.precedence>L.precedence||e.precedence==L.precedence&&e.id>L.id)break;s=(a=s).next}for(var p,l=r.listeners,h=(null==In.zpp_pool?p=new In:(p=In.zpp_pool,In.zpp_pool=p.next,p.next=null),p.elt=e,p),u=(null==a?(h.next=l.head,l.head=h):(h.next=a.next,a.next=h),l.pushmod=l.modified=!0,l.length++,r.cbsets.head);null!=u;){var D=u.elt;D.zip_listeners=!0,D.invalidate_pairs(),u=u.next}if(t)for(var d=r.interactors.head;null!=d;)d.elt.wake(),d=d.next;i=i.next,n=n.next}else if(r.id<o.id){for(var c=null,m=r.listeners.head;null!=m;){var R=m.elt;if(e.precedence>R.precedence||e.precedence==R.precedence&&e.id>R.id)break;m=(c=m).next}for(var y,h=r.listeners,l=(null==In.zpp_pool?y=new In:(y=In.zpp_pool,In.zpp_pool=y.next,y.next=null),y.elt=e,y),_=(null==c?(l.next=h.head,h.head=l):(l.next=c.next,c.next=l),h.pushmod=h.modified=!0,h.length++,r.cbsets.head);null!=_;){var j=_.elt;j.zip_listeners=!0,j.invalidate_pairs(),_=_.next}if(t)for(var x=r.interactors.head;null!=x;)x.elt.wake(),x=x.next;i=i.next}else{for(var f=null,g=o.listeners.head;null!=g;){var F=g.elt;if(e.precedence>F.precedence||e.precedence==F.precedence&&e.id>F.id)break;g=(f=g).next}for(var v,r=o.listeners,z=(null==In.zpp_pool?v=new In:(v=In.zpp_pool,In.zpp_pool=v.next,v.next=null),v.elt=e,v),b=(null==f?(z.next=r.head,r.head=z):(z.next=f.next,f.next=z),r.pushmod=r.modified=!0,r.length++,o.cbsets.head);null!=b;){var N=b.elt;N.zip_listeners=!0,N.invalidate_pairs(),b=b.next}if(t)for(var w=o.interactors.head;null!=w;)w.elt.wake(),w=w.next;n=n.next}}for(;null!=i;){for(var S=i.elt,C=null,k=S.listeners.head;null!=k;){var U=k.elt;if(e.precedence>U.precedence||e.precedence==U.precedence&&e.id>U.id)break;k=(C=k).next}for(var M,P=S.listeners,O=(null==In.zpp_pool?M=new In:(M=In.zpp_pool,In.zpp_pool=M.next,M.next=null),M.elt=e,M),T=(null==C?(O.next=P.head,P.head=O):(O.next=C.next,C.next=O),P.pushmod=P.modified=!0,P.length++,S.cbsets.head);null!=T;){var H=T.elt;H.zip_listeners=!0,H.invalidate_pairs(),T=T.next}if(t)for(var G=S.interactors.head;null!=G;)G.elt.wake(),G=G.next;i=i.next}for(;null!=n;){for(var A=n.elt,E=null,V=A.listeners.head;null!=V;){var W=V.elt;if(e.precedence>W.precedence||e.precedence==W.precedence&&e.id>W.id)break;V=(E=V).next}for(var I,B=A.listeners,q=(null==In.zpp_pool?I=new In:(I=In.zpp_pool,In.zpp_pool=I.next,I.next=null),I.elt=e,I),X=(null==E?(q.next=B.head,B.head=q):(q.next=E.next,E.next=q),B.pushmod=B.modified=!0,B.length++,A.cbsets.head);null!=X;){var Y=X.elt;Y.zip_listeners=!0,Y.invalidate_pairs(),X=X.next}if(t)for(var K=A.interactors.head;null!=K;)K.elt.wake(),K=K.next;n=n.next}this.options1.handler=Z(this,this.cbtype_change1),this.options2.handler=Z(this,this.cbtype_change2),this.with_uniquesets(!0)},Ht.prototype.removedFromSpace=function(){this.with_uniquesets(!1);for(var e=3==this.type,t=this.options1.includes.head,i=this.options2.includes.head;null!=t&&null!=i;){var n=t.elt,r=i.elt;if(n==r){n.listeners.remove(this);for(var o=n.cbsets.head;null!=o;){var a=o.elt;a.zip_listeners=!0,a.invalidate_pairs(),o=o.next}if(e)for(var s=n.interactors.head;null!=s;)s.elt.wake(),s=s.next;t=t.next,i=i.next}else if(n.id<r.id){n.listeners.remove(this);for(var p=n.cbsets.head;null!=p;){var l=p.elt;l.zip_listeners=!0,l.invalidate_pairs(),p=p.next}if(e)for(var h=n.interactors.head;null!=h;)h.elt.wake(),h=h.next;t=t.next}else{r.listeners.remove(this);for(var u=r.cbsets.head;null!=u;){var d=u.elt;d.zip_listeners=!0,d.invalidate_pairs(),u=u.next}if(e)for(var c=r.interactors.head;null!=c;)c.elt.wake(),c=c.next;i=i.next}}for(;null!=t;){for(var m=t.elt,y=(m.listeners.remove(this),m.cbsets.head);null!=y;){var _=y.elt;_.zip_listeners=!0,_.invalidate_pairs(),y=y.next}if(e)for(var x=m.interactors.head;null!=x;)x.elt.wake(),x=x.next;t=t.next}for(;null!=i;){for(var f=i.elt,g=(f.listeners.remove(this),f.cbsets.head);null!=g;){var v=g.elt;v.zip_listeners=!0,v.invalidate_pairs(),g=g.next}if(e)for(var z=f.interactors.head;null!=z;)z.elt.wake(),z=z.next;i=i.next}this.options1.handler=null,this.options2.handler=null},Ht.prototype.invalidate_precedence=function(){var e=this;if(null!=this.space){for(var t=3==this.type,i=this.options1.includes.head,n=this.options2.includes.head;null!=i&&null!=n;){var r=i.elt,o=n.elt;if(r==o){r.listeners.remove(e);for(var a=r.cbsets.head;null!=a;){var L=a.elt;L.zip_listeners=!0,L.invalidate_pairs(),a=a.next}for(var s=null,p=r.listeners.head;null!=p;){var D=p.elt;if(e.precedence>D.precedence||e.precedence==D.precedence&&e.id>D.id)break;p=(s=p).next}for(var l,h=r.listeners,u=(null==In.zpp_pool?l=new In:(l=In.zpp_pool,In.zpp_pool=l.next,l.next=null),l.elt=e,l),d=(null==s?(u.next=h.head,h.head=u):(u.next=s.next,s.next=u),h.pushmod=h.modified=!0,h.length++,r.cbsets.head);null!=d;){var R=d.elt;R.zip_listeners=!0,R.invalidate_pairs(),d=d.next}if(t)for(var c=r.interactors.head;null!=c;)c.elt.wake(),c=c.next;i=i.next,n=n.next}else if(r.id<o.id){r.listeners.remove(e);for(var m=r.cbsets.head;null!=m;){var j=m.elt;j.zip_listeners=!0,j.invalidate_pairs(),m=m.next}for(var y=null,_=r.listeners.head;null!=_;){var F=_.elt;if(e.precedence>F.precedence||e.precedence==F.precedence&&e.id>F.id)break;_=(y=_).next}for(var x,u=r.listeners,h=(null==In.zpp_pool?x=new In:(x=In.zpp_pool,In.zpp_pool=x.next,x.next=null),x.elt=e,x),f=(null==y?(h.next=u.head,u.head=h):(h.next=y.next,y.next=h),u.pushmod=u.modified=!0,u.length++,r.cbsets.head);null!=f;){var N=f.elt;N.zip_listeners=!0,N.invalidate_pairs(),f=f.next}if(t)for(var g=r.interactors.head;null!=g;)g.elt.wake(),g=g.next;i=i.next}else{o.listeners.remove(e);for(var v=o.cbsets.head;null!=v;){var U=v.elt;U.zip_listeners=!0,U.invalidate_pairs(),v=v.next}for(var z=null,b=o.listeners.head;null!=b;){var H=b.elt;if(e.precedence>H.precedence||e.precedence==H.precedence&&e.id>H.id)break;b=(z=b).next}for(var w,r=o.listeners,S=(null==In.zpp_pool?w=new In:(w=In.zpp_pool,In.zpp_pool=w.next,w.next=null),w.elt=e,w),C=(null==z?(S.next=r.head,r.head=S):(S.next=z.next,z.next=S),r.pushmod=r.modified=!0,r.length++,o.cbsets.head);null!=C;){var V=C.elt;V.zip_listeners=!0,V.invalidate_pairs(),C=C.next}if(t)for(var k=o.interactors.head;null!=k;)k.elt.wake(),k=k.next;n=n.next}}for(;null!=i;){for(var M=i.elt,P=(M.listeners.remove(e),M.cbsets.head);null!=P;){var W=P.elt;W.zip_listeners=!0,W.invalidate_pairs(),P=P.next}for(var O=null,T=M.listeners.head;null!=T;){var q=T.elt;if(e.precedence>q.precedence||e.precedence==q.precedence&&e.id>q.id)break;T=(O=T).next}for(var G,A=M.listeners,X=(null==In.zpp_pool?G=new In:(G=In.zpp_pool,In.zpp_pool=G.next,G.next=null),G.elt=e,G),Y=(null==O?(X.next=A.head,A.head=X):(X.next=O.next,O.next=X),A.pushmod=A.modified=!0,A.length++,M.cbsets.head);null!=Y;){var K=Y.elt;K.zip_listeners=!0,K.invalidate_pairs(),Y=Y.next}if(t)for(var Z=M.interactors.head;null!=Z;)Z.elt.wake(),Z=Z.next;i=i.next}for(;null!=n;){for(var E=n.elt,J=(E.listeners.remove(e),E.cbsets.head);null!=J;){var Q=J.elt;Q.zip_listeners=!0,Q.invalidate_pairs(),J=J.next}for(var $=null,ee=E.listeners.head;null!=ee;){var te=ee.elt;if(e.precedence>te.precedence||e.precedence==te.precedence&&e.id>te.id)break;ee=($=ee).next}for(var I,B=E.listeners,ie=(null==In.zpp_pool?I=new In:(I=In.zpp_pool,In.zpp_pool=I.next,I.next=null),I.elt=e,I),ne=(null==$?(ie.next=B.head,B.head=ie):(ie.next=$.next,$.next=ie),B.pushmod=B.modified=!0,B.length++,E.cbsets.head);null!=ne;){var re=ne.elt;re.zip_listeners=!0,re.invalidate_pairs(),ne=ne.next}if(t)for(var oe=E.interactors.head;null!=oe;)oe.elt.wake(),oe=oe.next;n=n.next}}},Ht.prototype.cbtype_change1=function(e,t,i){this.cbtype_change(this.options1,e,t,i)},Ht.prototype.cbtype_change2=function(e,t,i){this.cbtype_change(this.options2,e,t,i)},Ht.prototype.cbtype_change=function(e,t,i,n){if(this.removedFromSpace(),i)if(n){for(var r=null,o=e.includes.head;null!=o&&!(t.id<o.elt.id);)o=(r=o).next;i=e.includes,null==Dt.zpp_pool?l=new Dt:(l=Dt.zpp_pool,Dt.zpp_pool=l.next,l.next=null),l.elt=t;null==r?(l.next=i.head,i.head=l):(l.next=r.next,r.next=l),i.pushmod=i.modified=!0,i.length++}else e.includes.remove(t);else if(n){for(var a=null,s=e.excludes.head;null!=s&&!(t.id<s.elt.id);)s=(a=s).next;var p,l=e.excludes,i=(null==Dt.zpp_pool?p=new Dt:(p=Dt.zpp_pool,Dt.zpp_pool=p.next,p.next=null),p.elt=t,p);null==a?(i.next=l.head,l.head=i):(i.next=a.next,a.next=i),l.pushmod=l.modified=!0,l.length++}else e.excludes.remove(t);this.addedToSpace()},Ht.prototype.swapEvent=function(e){this.removedFromSpace(),this.event=e,this.addedToSpace()},Ht.prototype.__class__=Ht,zpp_nape.callbacks.ZPP_OptionType=function(){this.wrap_excludes=null,this.wrap_includes=null,this.excludes=null,this.includes=null,this.handler=null,this.outer=null,this.includes=new Re,this.excludes=new Re}),Fe=(je.__name__=["zpp_nape","callbacks","ZPP_OptionType"],je.argument=function(e){return null==e?new C:j.__instanceof(e,C)?e:(new C).including(e)},je.prototype.outer=null,je.prototype.handler=null,je.prototype.includes=null,je.prototype.excludes=null,je.prototype.wrap_includes=null,je.prototype.wrap_excludes=null,je.prototype.setup_includes=function(){this.wrap_includes=er.get(this.includes,!0)},je.prototype.setup_excludes=function(){this.wrap_excludes=er.get(this.excludes,!0)},je.prototype.excluded=function(e){return this.nonemptyintersection(e,this.excludes)},je.prototype.included=function(e){return this.nonemptyintersection(e,this.includes)},je.prototype.compatible=function(e){return!!this.nonemptyintersection(e,this.includes)&&!this.nonemptyintersection(e,this.excludes)},je.prototype.nonemptyintersection=function(e,t){for(var i=!1,n=e.head,r=t.head;null!=r&&null!=n;){var o=r.elt,a=n.elt;if(o==a){i=!0;break}o.id<a.id?r=r.next:n=n.next}return i},je.prototype.effect_change=function(e,t,i){if(t)if(i){for(var n=null,r=this.includes.head;null!=r&&!(e.id<r.elt.id);)r=(n=r).next;t=this.includes,null==Dt.zpp_pool?p=new Dt:(p=Dt.zpp_pool,Dt.zpp_pool=p.next,p.next=null),p.elt=e;null==n?(p.next=t.head,t.head=p):(p.next=n.next,n.next=p),t.pushmod=t.modified=!0,t.length++}else this.includes.remove(e);else if(i){for(var o=null,a=this.excludes.head;null!=a&&!(e.id<a.elt.id);)a=(o=a).next;var s,p=this.excludes,t=(null==Dt.zpp_pool?s=new Dt:(s=Dt.zpp_pool,Dt.zpp_pool=s.next,s.next=null),s.elt=e,s);null==o?(t.next=p.head,p.head=t):(t.next=o.next,o.next=t),p.pushmod=p.modified=!0,p.length++}else this.excludes.remove(e)},je.prototype.append_type=function(e,t){if(e==this.includes){if(!this.includes.has(t))if(this.excludes.has(t))null!=this.handler?this.handler(t,!1,!1):this.excludes.remove(t);else if(null!=this.handler)this.handler(t,!0,!0);else{for(var i=null,n=this.includes.head;null!=n&&!(t.id<n.elt.id);)n=(i=n).next;e=this.includes,null==Dt.zpp_pool?s=new Dt:(s=Dt.zpp_pool,Dt.zpp_pool=s.next,s.next=null),s.elt=t;null==i?(s.next=e.head,e.head=s):(s.next=i.next,i.next=s),e.pushmod=e.modified=!0,e.length++}}else if(!this.excludes.has(t))if(this.includes.has(t))null!=this.handler?this.handler(t,!0,!1):this.includes.remove(t);else if(null!=this.handler)this.handler(t,!1,!0);else{for(var r=null,o=this.excludes.head;null!=o&&!(t.id<o.elt.id);)o=(r=o).next;var a,s=this.excludes,e=(null==Dt.zpp_pool?a=new Dt:(a=Dt.zpp_pool,Dt.zpp_pool=a.next,a.next=null),a.elt=t,a);null==r?(e.next=s.head,s.head=e):(e.next=r.next,r.next=e),s.pushmod=s.modified=!0,s.length++}},je.prototype.set=function(e){if(e!=this){for(;null!=this.includes.head;)this.append_type(this.excludes,this.includes.head.elt);for(;null!=this.excludes.head;)this.append_type(this.includes,this.excludes.head.elt);for(var t=e.excludes.head;null!=t;)this.append_type(this.excludes,t.elt),t=t.next;for(var i=e.includes.head;null!=i;)this.append_type(this.includes,i.elt),i=i.next}return this},je.prototype.append=function(e,t){if(j.__instanceof(t,g))this.append_type(e,t.zpp_inner);else if(j.__instanceof(t,v))for(var i=t,n=(i.zpp_inner.valmod(),Ze.get(i));;){n.zpp_inner.zpp_inner.valmod();var r=n.zpp_inner,r=(r.zpp_inner.valmod(),r.zpp_inner.zip_length&&(r.zpp_inner.zip_length=!1,r.zpp_inner.user_length=r.zpp_inner.inner.length),r.zpp_inner.user_length);if(n.zpp_critical=!0,!(n.zpp_i<r||(n.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=n).zpp_inner=null,!1)))break;n.zpp_critical=!1,this.append_type(e,n.zpp_inner.at(n.zpp_i++).zpp_inner)}else if(t instanceof Array&&null==t.__enum__)for(var o=t,a=0;a<o.length;){var s=o[a];++a,this.append_type(e,s.zpp_inner)}},je.prototype.__class__=je,zpp_nape.constraint.ZPP_Constraint=function(){this.pre_dt=0,this.wrap_cbTypes=null,this.cbSet=null,this.cbTypes=null,this.__velocity=!1,this.ignore=!1,this.component=null,this.removeOnBreak=!1,this.breakUnderError=!1,this.breakUnderForce=!1,this.maxError=0,this.maxForce=0,this.damping=0,this.frequency=0,this.stiff=!1,this.active=!1,this.space=null,this.compound=null,this.userData=null,this.id=0,this.outer=null,this.__velocity=!1,this.id=Me.Constraint(),this.stiff=!0,this.active=!0,this.ignore=!1,this.frequency=10,this.damping=1,this.maxForce=1/0,this.maxError=1/0,this.breakUnderForce=!1,this.removeOnBreak=!0,this.pre_dt=-1,this.cbTypes=new Re}),Ne=(Fe.__name__=["zpp_nape","constraint","ZPP_Constraint"],Fe.prototype.outer=null,Fe.prototype.clear=function(){},Fe.prototype.id=null,Fe.prototype.userData=null,Fe.prototype.compound=null,Fe.prototype.space=null,Fe.prototype.active=null,Fe.prototype.stiff=null,Fe.prototype.frequency=null,Fe.prototype.damping=null,Fe.prototype.maxForce=null,Fe.prototype.maxError=null,Fe.prototype.breakUnderForce=null,Fe.prototype.breakUnderError=null,Fe.prototype.removeOnBreak=null,Fe.prototype.component=null,Fe.prototype.ignore=null,Fe.prototype.__velocity=null,Fe.prototype.immutable_midstep=function(e){},Fe.prototype.cbTypes=null,Fe.prototype.cbSet=null,Fe.prototype.wrap_cbTypes=null,Fe.prototype.setupcbTypes=function(){this.wrap_cbTypes=er.get(this.cbTypes),this.wrap_cbTypes.zpp_inner.adder=Z(this,this.wrap_cbTypes_adder),this.wrap_cbTypes.zpp_inner.subber=Z(this,this.wrap_cbTypes_subber),this.wrap_cbTypes.zpp_inner.dontremove=!0},Fe.prototype.wrap_cbTypes_subber=function(e){e=e.zpp_inner;this.cbTypes.has(e)&&(null!=this.space&&(this.dealloc_cbSet(),e.constraints.remove(this)),this.cbTypes.remove(e),null!=this.space&&(this.alloc_cbSet(),this.wake()))},Fe.prototype.wrap_cbTypes_adder=function(e){return this.insert_cbtype(e.zpp_inner),!1},Fe.prototype.insert_cbtype=function(e){if(!this.cbTypes.has(e)){null!=this.space&&(this.dealloc_cbSet(),e.constraints.add(this));for(var t=null,i=this.cbTypes.head;null!=i&&!(e.id<i.elt.id);)i=(t=i).next;var n,r=this.cbTypes;null==Dt.zpp_pool?n=new Dt:(n=Dt.zpp_pool,Dt.zpp_pool=n.next,n.next=null),n.elt=e;null==t?(n.next=r.head,r.head=n):(n.next=t.next,t.next=n),r.pushmod=r.modified=!0,r.length++,null!=this.space&&(this.alloc_cbSet(),this.wake())}},Fe.prototype.alloc_cbSet=function(){null!=(this.cbSet=this.space.cbsets.get(this.cbTypes))&&(this.cbSet.count++,this.cbSet.constraints.add(this))},Fe.prototype.dealloc_cbSet=function(){if(null!=this.cbSet){if(this.cbSet.constraints.remove(this),0==--this.cbSet.count){this.space.cbsets.remove(this.cbSet);var e=this.cbSet;for(e.listeners.clear(),e.zip_listeners=!0,e.bodylisteners.clear(),e.zip_bodylisteners=!0,e.conlisteners.clear(),e.zip_conlisteners=!0;null!=e.cbTypes.head;)e.cbTypes.pop_unsafe().cbsets.remove(e);e.next=Pn.zpp_pool,Pn.zpp_pool=e}this.cbSet=null}},Fe.prototype.activate=function(){null!=this.space&&this.activeInSpace()},Fe.prototype.deactivate=function(){null!=this.space&&this.inactiveOrOutSpace()},Fe.prototype.addedToSpace=function(){this.active&&this.activeInSpace(),this.activeBodies();for(var e=this.cbTypes.head;null!=e;)e.elt.constraints.add(this),e=e.next},Fe.prototype.removedFromSpace=function(){this.active&&this.inactiveOrOutSpace(),this.inactiveBodies();for(var e=this.cbTypes.head;null!=e;)e.elt.constraints.remove(this),e=e.next},Fe.prototype.activeInSpace=function(){this.alloc_cbSet(),null==zi.zpp_pool?this.component=new zi:(this.component=zi.zpp_pool,zi.zpp_pool=this.component.next,this.component.next=null),this.component.isBody=!1,this.component.constraint=this},Fe.prototype.inactiveOrOutSpace=function(){this.dealloc_cbSet();var e=this.component;e.body=null,e.constraint=null,e.next=zi.zpp_pool,zi.zpp_pool=e,this.component=null},Fe.prototype.activeBodies=function(){},Fe.prototype.inactiveBodies=function(){},Fe.prototype.clearcache=function(){},Fe.prototype.validate=function(){},Fe.prototype.wake_connected=function(){},Fe.prototype.forest=function(){},Fe.prototype.pair_exists=function(e,t){return!1},Fe.prototype.broken=function(){},Fe.prototype.warmStart=function(){},Fe.prototype.pre_dt=null,Fe.prototype.preStep=function(e){return!1},Fe.prototype.applyImpulseVel=function(){return!1},Fe.prototype.applyImpulsePos=function(){return!1},Fe.prototype.wake=function(){null!=this.space&&this.space.wake_constraint(this)},Fe.prototype.draw=function(e){},Fe.prototype.copy=function(e,t){return null},Fe.prototype.copyto=function(e){for(var t=this.outer,i=(null==t.zpp_inner.wrap_cbTypes&&t.zpp_inner.setupcbTypes(),t.zpp_inner.wrap_cbTypes),n=(i.zpp_inner.valmod(),Ze.get(i));;){n.zpp_inner.zpp_inner.valmod();var r=n.zpp_inner,r=(r.zpp_inner.valmod(),r.zpp_inner.zip_length&&(r.zpp_inner.zip_length=!1,r.zpp_inner.user_length=r.zpp_inner.inner.length),r.zpp_inner.user_length);if(n.zpp_critical=!0,!(n.zpp_i<r||(n.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=n).zpp_inner=null,!1)))break;n.zpp_critical=!1;var r=n.zpp_inner.at(n.zpp_i++),o=(null==e.zpp_inner.wrap_cbTypes&&e.zpp_inner.setupcbTypes(),e.zpp_inner.wrap_cbTypes);o.zpp_inner.reverse_flag?o.push(r):o.unshift(r)}e.zpp_inner.removeOnBreak=t.zpp_inner.removeOnBreak;i=t.zpp_inner.breakUnderError,e.zpp_inner.breakUnderError!=i&&(e.zpp_inner.breakUnderError=i,e.zpp_inner.wake()),i=t.zpp_inner.breakUnderForce,e.zpp_inner.breakUnderForce!=i&&(e.zpp_inner.breakUnderForce=i,e.zpp_inner.wake()),i=t.zpp_inner.maxError,e.zpp_inner.maxError!=i&&(e.zpp_inner.maxError=i,e.zpp_inner.wake()),i=t.zpp_inner.maxForce,e.zpp_inner.maxForce!=i&&(e.zpp_inner.maxForce=i,e.zpp_inner.wake()),i=t.zpp_inner.damping,e.zpp_inner.damping!=i&&(e.zpp_inner.damping=i,e.zpp_inner.stiff||e.zpp_inner.wake()),i=t.zpp_inner.frequency,e.zpp_inner.frequency!=i&&(e.zpp_inner.frequency=i,e.zpp_inner.stiff||e.zpp_inner.wake()),i=t.zpp_inner.stiff,e.zpp_inner.stiff!=i&&(e.zpp_inner.stiff=i,e.zpp_inner.wake()),i=t.zpp_inner.ignore,e.zpp_inner.ignore!=i&&(e.zpp_inner.ignore=i,e.zpp_inner.wake()),i=t.zpp_inner.active;e.zpp_inner.active!=i&&(null!=e.zpp_inner.component&&(e.zpp_inner.component.woken=!1),e.zpp_inner.clearcache(),i?(e.zpp_inner.active=i,e.zpp_inner.activate(),null!=e.zpp_inner.space&&(null!=e.zpp_inner.component&&(e.zpp_inner.component.sleeping=!0),e.zpp_inner.space.wake_constraint(e.zpp_inner,!0))):(null!=e.zpp_inner.space&&(e.zpp_inner.wake(),e.zpp_inner.space.live_constraints.remove(e.zpp_inner)),e.zpp_inner.active=i,e.zpp_inner.deactivate()))},Fe.prototype.__class__=Fe,zpp_nape.constraint.ZPP_AngleJoint=function(){this.stepped=!1,this.bias=0,this.gamma=0,this.jMax=0,this.jAcc=0,this.kMass=0,this.b2=null,this.b1=null,this.scale=0,this.equal=!1,this.slack=!1,this.jointMax=0,this.jointMin=0,this.ratio=0,this.outer_zn=null,Fe.call(this),this.ratio=1,this.jAcc=0,this.slack=!1,this.jMax=1/0,this.stepped=!1}),Ue=(Ne.__name__=["zpp_nape","constraint","ZPP_AngleJoint"],Ne.__super__=Fe,Ne.prototype=Object.create(Fe.prototype),Ne.prototype.outer_zn=null,Ne.prototype.ratio=null,Ne.prototype.jointMin=null,Ne.prototype.jointMax=null,Ne.prototype.slack=null,Ne.prototype.equal=null,Ne.prototype.scale=null,Ne.prototype.is_slack=function(){var e,t=this.ratio*this.b2.rot-this.b1.rot;return this.equal?(e=!1,this.scale=1):e=t<this.jointMin?!(this.scale=-1):t>this.jointMax?(t-=this.jointMax,!(this.scale=1)):!(t=this.scale=0),e},Ne.prototype.bodyImpulse=function(e){return this.stepped?e==this.b1?d.get(0,0,-this.scale*this.jAcc):d.get(0,0,this.ratio*this.scale*this.jAcc):d.get(0,0,0)},Ne.prototype.activeBodies=function(){null!=this.b1&&this.b1.constraints.add(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},Ne.prototype.inactiveBodies=function(){null!=this.b1&&this.b1.constraints.remove(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},Ne.prototype.b1=null,Ne.prototype.b2=null,Ne.prototype.kMass=null,Ne.prototype.jAcc=null,Ne.prototype.jMax=null,Ne.prototype.gamma=null,Ne.prototype.bias=null,Ne.prototype.stepped=null,Ne.prototype.copy=function(e,t){var i=new M(null,null,this.jointMin,this.jointMax,this.ratio);if(this.copyto(i),null!=e&&null!=this.b1){for(var n=null,r=0;r<e.length;){var o=e[r];if(++r,o.id==this.b1.id){n=o.bc;break}}null!=n?i.zpp_inner_zn.b1=n.zpp_inner:t.push(Ue.todo(this.b1.id,function(e){i.zpp_inner_zn.b1=e.zpp_inner}))}if(null!=e&&null!=this.b2){for(var a=null,s=0;s<e.length;){var p=e[s];if(++s,p.id==this.b2.id){a=p.bc;break}}null!=a?i.zpp_inner_zn.b2=a.zpp_inner:t.push(Ue.todo(this.b2.id,function(e){i.zpp_inner_zn.b2=e.zpp_inner}))}return i},Ne.prototype.validate=function(){if(null==this.b1||null==this.b2)throw new c("Error: AngleJoint cannot be simulated null bodies");if(this.b1==this.b2)throw new c("Error: AngleJoint cannot be simulated with body1 == body2");if(this.b1.space!=this.space||this.b2.space!=this.space)throw new c("Error: Constraints must have each body within the same space to which the constraint has been assigned");if(this.jointMin>this.jointMax)throw new c("Error: AngleJoint must have jointMin <= jointMax");if(2!=this.b1.type&&2!=this.b2.type)throw new c("Error: Constraints cannot have both bodies non-dynamic")},Ne.prototype.wake_connected=function(){null!=this.b1&&2==this.b1.type&&this.b1.wake(),null!=this.b2&&2==this.b2.type&&this.b2.wake()},Ne.prototype.forest=function(){if(2==this.b1.type){var e,t;if(this.b1.component==this.b1.component.parent)e=this.b1.component;else{for(var i=this.b1.component,n=null;i!=i.parent;){var r=i.parent;i.parent=n,n=i,i=r}for(;null!=n;){var o=n.parent;n.parent=i,n=o}e=i}if(this.component==this.component.parent)t=this.component;else{for(var a=this.component,s=null;a!=a.parent;){var p=a.parent;a.parent=s,s=a,a=p}for(;null!=s;){var l=s.parent;s.parent=a,s=l}t=a}e!=t&&(e.rank<t.rank?e.parent=t:e.rank>t.rank?t.parent=e:(t.parent=e).rank++)}if(2==this.b2.type){var h,u;if(this.b2.component==this.b2.component.parent)h=this.b2.component;else{for(var d=this.b2.component,c=null;d!=d.parent;){var m=d.parent;d.parent=c,c=d,d=m}for(;null!=c;){var y=c.parent;c.parent=d,c=y}h=d}if(this.component==this.component.parent)u=this.component;else{for(var _=this.component,x=null;_!=_.parent;){var f=_.parent;_.parent=x,x=_,_=f}for(;null!=x;){var g=x.parent;x.parent=_,x=g}u=_}h!=u&&(h.rank<u.rank?h.parent=u:h.rank>u.rank?u.parent=h:(u.parent=h).rank++)}},Ne.prototype.pair_exists=function(e,t){return this.b1.id==e&&this.b2.id==t||this.b1.id==t&&this.b2.id==e},Ne.prototype.clearcache=function(){this.jAcc=0,this.pre_dt=-1,this.slack=!1},Ne.prototype.preStep=function(e){-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt,i=(this.pre_dt=e,this.stepped=!0,this.equal=this.jointMin==this.jointMax,this.ratio*this.b2.rot-this.b1.rot);this.equal?(i-=this.jointMax,this.slack=!1,this.scale=1):i<this.jointMin?(i=this.jointMin-i,this.scale=-1,this.slack=!1):i>this.jointMax?(i-=this.jointMax,this.scale=1,this.slack=!1):(this.scale=0,this.slack=!(i=0));if(!this.slack){if(this.kMass=this.b1.sinertia+this.ratio*this.ratio*this.b2.sinertia,0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0,this.stiff)this.bias=0,this.gamma=0;else{if(this.breakUnderError&&i*i>this.maxError*this.maxError)return!0;var n=2*Math.PI*this.frequency,r=(this.gamma=1/(e*n*(2*this.damping+n*e)),1/(1+this.gamma)),n=e*n*n*this.gamma;this.gamma*=r,this.kMass*=r,this.bias=-i*n,this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=t,this.jMax=this.maxForce*e}return!1},Ne.prototype.warmStart=function(){this.slack||(this.b1.angvel-=this.scale*this.b1.iinertia*this.jAcc,this.b2.angvel+=this.ratio*this.scale*this.b2.iinertia*this.jAcc)},Ne.prototype.applyImpulseVel=function(){if(this.slack)return!1;var e=this.kMass*(this.bias-this.scale*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel))-this.jAcc*this.gamma,t=this.jAcc;return this.jAcc+=e,!this.equal&&0<this.jAcc&&(this.jAcc=0),!(!this.breakUnderForce||!(this.jAcc>this.jMax||this.jAcc<-this.jMax))||(this.stiff||(this.jAcc>this.jMax?this.jAcc=this.jMax:this.jAcc<-this.jMax&&(this.jAcc=-this.jMax)),e=this.jAcc-t,this.b1.angvel-=this.scale*this.b1.iinertia*e,this.b2.angvel+=this.ratio*this.scale*this.b2.iinertia*e,!1)},Ne.prototype.applyImpulsePos=function(){var e=this.ratio*this.b2.rot-this.b1.rot;if(this.equal?(e-=this.jointMax,o=!1,this.scale=1):o=e<this.jointMin?(e=this.jointMin-e,!(this.scale=-1)):e>this.jointMax?(e-=this.jointMax,!(this.scale=1)):!(e=this.scale=0),e=e,!o){if(this.breakUnderError&&e*e>this.maxError*this.maxError)return!0;var t,i,n,r,o=-(e*=.5)*this.kMass;(this.equal||o<0)&&(e=this.b1,i=-this.scale*o*this.b1.iinertia,e.rot+=i,1e-4<i*i?(e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)):(r=((t=1-.5*(n=i*i))*e.axisx+i*e.axisy)*(n=1-n*n/8),e.axisy=(t*e.axisy-i*e.axisx)*n,e.axisx=r),t=this.b2,i=this.ratio*this.scale*o*this.b2.iinertia,t.rot+=i,1e-4<i*i?(t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)):(o=((e=1-.5*(n=i*i))*t.axisx+i*t.axisy)*(r=1-n*n/8),t.axisy=(e*t.axisy-i*t.axisx)*r,t.axisx=o))}return!1},Ne.prototype.draw=function(e){},Ne.prototype.__class__=Ne,zpp_nape.constraint.ZPP_CopyHelper=function(){this.cb=null,this.bc=null,this.id=0}),dt=(Ue.__name__=["zpp_nape","constraint","ZPP_CopyHelper"],Ue.dict=function(e,t){var i=new Ue;return i.id=e,i.bc=t,i},Ue.todo=function(e,t){var i=new Ue;return i.id=e,i.cb=t,i},Ue.prototype.id=null,Ue.prototype.bc=null,Ue.prototype.cb=null,Ue.prototype.__class__=Ue,zpp_nape.constraint.ZPP_DistanceJoint=function(){this.stepped=!1,this.bias=0,this.gamma=0,this.jMax=0,this.jAcc=0,this.kMass=0,this.wrap_a2=null,this.a2rely=0,this.a2relx=0,this.a2localy=0,this.a2localx=0,this.b2=null,this.wrap_a1=null,this.a1rely=0,this.a1relx=0,this.a1localy=0,this.a1localx=0,this.b1=null,this.cx2=0,this.cx1=0,this.ny=0,this.nx=0,this.equal=!1,this.slack=!1,this.jointMax=0,this.jointMin=0,this.outer_zn=null,Fe.call(this),this.a1localx=0,this.a1localy=0,this.a1relx=0,this.a1rely=0,this.a2localx=0,this.a2localy=0,this.a2relx=0,this.a2rely=0,this.jAcc=0,this.jMax=1/0,this.stepped=!1,this.cx1=this.cx2=0}),ct=(dt.__name__=["zpp_nape","constraint","ZPP_DistanceJoint"],dt.__super__=Fe,dt.prototype=Object.create(Fe.prototype),dt.prototype.outer_zn=null,dt.prototype.jointMin=null,dt.prototype.jointMax=null,dt.prototype.slack=null,dt.prototype.equal=null,dt.prototype.is_slack=function(){this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy;var e=(e=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx))*e+(e=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely))*e,e=e<ur.epsilon||(e=Math.sqrt(e),!this.equal&&(!(e<this.jointMin)&&(e>this.jointMax?(e-=this.jointMax,!1):!(e=0))));return e},dt.prototype.nx=null,dt.prototype.ny=null,dt.prototype.cx1=null,dt.prototype.cx2=null,dt.prototype.bodyImpulse=function(e){return this.stepped?e==this.b1?d.get(-this.jAcc*this.nx,-this.jAcc*this.ny,-this.cx1*this.jAcc):d.get(this.jAcc*this.nx,this.jAcc*this.ny,this.cx2*this.jAcc):d.get(0,0,0)},dt.prototype.activeBodies=function(){null!=this.b1&&this.b1.constraints.add(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},dt.prototype.inactiveBodies=function(){null!=this.b1&&this.b1.constraints.remove(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},dt.prototype.b1=null,dt.prototype.a1localx=null,dt.prototype.a1localy=null,dt.prototype.a1relx=null,dt.prototype.a1rely=null,dt.prototype.validate_a1=function(){this.wrap_a1.zpp_inner.x=this.a1localx,this.wrap_a1.zpp_inner.y=this.a1localy},dt.prototype.invalidate_a1=function(e){this.immutable_midstep("Constraint::a1"),this.a1localx=e.x,this.a1localy=e.y,this.wake()},dt.prototype.setup_a1=function(){var e,t,i=this.a1localx,n=this.a1localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a1=e,this.wrap_a1.zpp_inner._inuse=!0,this.wrap_a1.zpp_inner._validate=Z(this,this.validate_a1),this.wrap_a1.zpp_inner._invalidate=Z(this,this.invalidate_a1)},dt.prototype.wrap_a1=null,dt.prototype.b2=null,dt.prototype.a2localx=null,dt.prototype.a2localy=null,dt.prototype.a2relx=null,dt.prototype.a2rely=null,dt.prototype.validate_a2=function(){this.wrap_a2.zpp_inner.x=this.a2localx,this.wrap_a2.zpp_inner.y=this.a2localy},dt.prototype.invalidate_a2=function(e){this.immutable_midstep("Constraint::a2"),this.a2localx=e.x,this.a2localy=e.y,this.wake()},dt.prototype.setup_a2=function(){var e,t,i=this.a2localx,n=this.a2localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a2=e,this.wrap_a2.zpp_inner._inuse=!0,this.wrap_a2.zpp_inner._validate=Z(this,this.validate_a2),this.wrap_a2.zpp_inner._invalidate=Z(this,this.invalidate_a2)},dt.prototype.wrap_a2=null,dt.prototype.kMass=null,dt.prototype.jAcc=null,dt.prototype.jMax=null,dt.prototype.gamma=null,dt.prototype.bias=null,dt.prototype.stepped=null,dt.prototype.copy=function(e,t){var i=this.outer_zn,i=(null==i.zpp_inner_zn.wrap_a1&&i.zpp_inner_zn.setup_a1(),i.zpp_inner_zn.wrap_a1),n=this.outer_zn,r=(null==n.zpp_inner_zn.wrap_a2&&n.zpp_inner_zn.setup_a2(),new O(null,null,i,n.zpp_inner_zn.wrap_a2,this.jointMin,this.jointMax));if(this.copyto(r),null!=e&&null!=this.b1){for(var o=null,a=0;a<e.length;){var s=e[a];if(++a,s.id==this.b1.id){o=s.bc;break}}null!=o?r.zpp_inner_zn.b1=o.zpp_inner:t.push(Ue.todo(this.b1.id,function(e){r.zpp_inner_zn.b1=e.zpp_inner}))}if(null!=e&&null!=this.b2){for(var p=null,l=0;l<e.length;){var h=e[l];if(++l,h.id==this.b2.id){p=h.bc;break}}null!=p?r.zpp_inner_zn.b2=p.zpp_inner:t.push(Ue.todo(this.b2.id,function(e){r.zpp_inner_zn.b2=e.zpp_inner}))}return r},dt.prototype.validate=function(){if(null==this.b1||null==this.b2)throw new c("Error: DistanceJoint cannot be simulated null bodies");if(this.b1==this.b2)throw new c("Error: DistanceJoint cannot be simulated with body1 == body2");if(this.b1.space!=this.space||this.b2.space!=this.space)throw new c("Error: Constraints must have each body within the same space to which the constraint has been assigned");if(this.jointMin>this.jointMax)throw new c("Error: DistanceJoint must have jointMin <= jointMax");if(2!=this.b1.type&&2!=this.b2.type)throw new c("Error: Constraints cannot have both bodies non-dynamic")},dt.prototype.wake_connected=function(){null!=this.b1&&2==this.b1.type&&this.b1.wake(),null!=this.b2&&2==this.b2.type&&this.b2.wake()},dt.prototype.forest=function(){if(2==this.b1.type){var e,t;if(this.b1.component==this.b1.component.parent)e=this.b1.component;else{for(var i=this.b1.component,n=null;i!=i.parent;){var r=i.parent;i.parent=n,n=i,i=r}for(;null!=n;){var o=n.parent;n.parent=i,n=o}e=i}if(this.component==this.component.parent)t=this.component;else{for(var a=this.component,s=null;a!=a.parent;){var p=a.parent;a.parent=s,s=a,a=p}for(;null!=s;){var l=s.parent;s.parent=a,s=l}t=a}e!=t&&(e.rank<t.rank?e.parent=t:e.rank>t.rank?t.parent=e:(t.parent=e).rank++)}if(2==this.b2.type){var h,u;if(this.b2.component==this.b2.component.parent)h=this.b2.component;else{for(var d=this.b2.component,c=null;d!=d.parent;){var m=d.parent;d.parent=c,c=d,d=m}for(;null!=c;){var y=c.parent;c.parent=d,c=y}h=d}if(this.component==this.component.parent)u=this.component;else{for(var _=this.component,x=null;_!=_.parent;){var f=_.parent;_.parent=x,x=_,_=f}for(;null!=x;){var g=x.parent;x.parent=_,x=g}u=_}h!=u&&(h.rank<u.rank?h.parent=u:h.rank>u.rank?u.parent=h:(u.parent=h).rank++)}},dt.prototype.pair_exists=function(e,t){return this.b1.id==e&&this.b2.id==t||this.b1.id==t&&this.b2.id==e},dt.prototype.clearcache=function(){this.jAcc=0,this.pre_dt=-1},dt.prototype.preStep=function(e){-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt,i=(this.pre_dt=e,this.stepped=!0,this.equal=this.jointMin==this.jointMax,this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,this.nx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),this.ny=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),this.nx*this.nx+this.ny*this.ny),n=(i<ur.epsilon?(this.nx=0,this.ny=0,this.slack=!(i=0)):(n=1/(i=Math.sqrt(i)),this.nx*=n,this.ny*=n,this.equal?(i-=this.jointMax,this.slack=!1):i<this.jointMin?(i=this.jointMin-i,this.nx=-this.nx,this.ny=-this.ny,this.slack=!1):i>this.jointMax?(i-=this.jointMax,this.slack=!1):(this.nx=0,this.ny=0,this.slack=!(i=0))),i);if(!this.slack){if(this.cx1=this.ny*this.a1relx-this.nx*this.a1rely,this.cx2=this.ny*this.a2relx-this.nx*this.a2rely,this.kMass=this.b1.smass+this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia,0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0,this.stiff)this.bias=0,this.gamma=0;else{if(this.breakUnderError&&n*n>this.maxError*this.maxError)return!0;var i=2*Math.PI*this.frequency,r=(this.gamma=1/(e*i*(2*this.damping+i*e)),1/(1+this.gamma)),i=e*i*i*this.gamma;this.gamma*=r,this.kMass*=r,this.bias=-n*i,this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=t,this.jMax=this.maxForce*e}return!1},dt.prototype.warmStart=function(){var e;this.slack||(e=this.b1.imass*this.jAcc,this.b1.velx-=this.nx*e,this.b1.vely-=this.ny*e,e=this.b2.imass*this.jAcc,this.b2.velx+=this.nx*e,this.b2.vely+=this.ny*e,this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc,this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc)},dt.prototype.applyImpulseVel=function(){if(this.slack)return!1;var e=this.kMass*(this.bias-(this.nx*(this.b2.velx+this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.ny*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1))-this.jAcc*this.gamma,t=this.jAcc;if(this.jAcc+=e,!this.equal&&0<this.jAcc&&(this.jAcc=0),this.breakUnderForce&&this.jAcc<-this.jMax)return!0;this.stiff||this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);e=this.jAcc-t,t=this.b1.imass*e,this.b1.velx-=this.nx*t,this.b1.vely-=this.ny*t,t=this.b2.imass*e;return this.b2.velx+=this.nx*t,this.b2.vely+=this.ny*t,this.b1.angvel-=this.cx1*this.b1.iinertia*e,this.b2.angvel+=this.cx2*this.b2.iinertia*e,!1},dt.prototype.applyImpulsePos=function(){var e=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,t=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,i=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,n=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,r=0,o=0,a=(r=this.b2.posx+i-(this.b1.posx+e))*r+(o=this.b2.posy+n-(this.b1.posy+t))*o,s=a<ur.epsilon?!(a=o=r=0):(r*=s=1/(a=Math.sqrt(a)),o*=s,this.equal?(a-=this.jointMax,!1):a<this.jointMin?(a=this.jointMin-a,r=-r,o=-o,!1):a>this.jointMax?(a-=this.jointMax,!1):!(a=o=r=0));if(!s){if(this.breakUnderError&&a*a>this.maxError*this.maxError)return!0;if(a*a<ur.constraintLinearSlop*ur.constraintLinearSlop)return!1;6<(a*=.5)*a&&(s=this.b1.smass+this.b2.smass,ur.epsilon<s&&(p=-a*(s=.75/s),(this.equal||p<0)&&(s=p*this.b1.imass,this.b1.posx-=r*s,this.b1.posy-=o*s,s=p*this.b2.imass,this.b2.posx+=r*s,this.b2.posy+=o*s,(s=(r=this.b2.posx+i-(this.b1.posx+e))*r+(o=this.b2.posy+n-(this.b1.posy+t))*o)<ur.epsilon?s=o=r=0:(r*=l=1/(s=Math.sqrt(s)),o*=l,this.equal?s-=this.jointMax:s<this.jointMin?(s=this.jointMin-s,r=-r,o=-o):s>this.jointMax?s-=this.jointMax:s=o=r=0),a=s,a*=.5)));var p,l,e=this.b1.smass+this.b2.smass+(l=o*e-r*t)*l*this.b1.sinertia+(s=o*i-r*n)*s*this.b2.sinertia;p=-a*(e=0!=e?1/e:e),(this.equal||p<0)&&(t=this.b1.imass*p,this.b1.posx-=r*t,this.b1.posy-=o*t,i=this.b2.imass*p,this.b2.posx+=r*i,this.b2.posy+=o*i,n=this.b1,a=-l*this.b1.iinertia*p,n.rot+=a,1e-4<a*a?(n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)):(o=((t=1-.5*(e=a*a))*n.axisx+a*n.axisy)*(r=1-e*e/8),n.axisy=(t*n.axisy-a*n.axisx)*r,n.axisx=o),i=this.b2,l=s*this.b2.iinertia*p,i.rot+=l,1e-4<l*l?(i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)):(r=((t=1-.5*(e=l*l))*i.axisx+l*i.axisy)*(a=1-e*e/8),i.axisy=(t*i.axisy-l*i.axisx)*a,i.axisx=r))}return!1},dt.prototype.draw=function(e){},dt.prototype.__class__=dt,zpp_nape.constraint.ZPP_LineJoint=function(){this.biasy=0,this.biasx=0,this.jAccy=0,this.jAccx=0,this.kMassc=0,this.kMassb=0,this.kMassa=0,this.wrap_n=null,this.nrely=0,this.nrelx=0,this.nlocaly=0,this.nlocalx=0,this.wrap_a2=null,this.a2rely=0,this.a2relx=0,this.a2localy=0,this.a2localx=0,this.wrap_a1=null,this.a1rely=0,this.a1relx=0,this.a1localy=0,this.a1localx=0,this.cx2=0,this.cx1=0,this.dot2=0,this.dot1=0,this.equal=!1,this.jointMax=0,this.jointMin=0,this.scale=0,this.outer_zn=null,Fe.call(this),this.a1localx=0,this.a1localy=0,this.a1relx=0,this.a1rely=0,this.a2localx=0,this.a2localy=0,this.a2relx=0,this.a2rely=0,this.nlocalx=0,this.nlocaly=0,this.nrelx=0,this.nrely=0,this.jAccx=0,this.jAccy=0,this.jMax=1/0,this.jointMin=-1/0,this.jointMax=1/0,this.stepped=!1}),mt=(ct.__name__=["zpp_nape","constraint","ZPP_LineJoint"],ct.__super__=Fe,ct.prototype=Object.create(Fe.prototype),ct.prototype.outer_zn=null,ct.prototype.scale=null,ct.prototype.jointMin=null,ct.prototype.jointMax=null,ct.prototype.equal=null,ct.prototype.dot1=null,ct.prototype.dot2=null,ct.prototype.cx1=null,ct.prototype.cx2=null,ct.prototype.bodyImpulse=function(e){var t,i;return this.stepped?(t=this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,i=this.nrelx*this.jAccx+this.scale*this.nrely*this.jAccy,e==this.b1?d.get(-t,-i,this.scale*this.cx1*i-this.dot1*t):d.get(t,i,this.scale*this.cx1*i-this.dot1*t)):d.get(0,0,0)},ct.prototype.activeBodies=function(){null!=this.b1&&this.b1.constraints.add(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},ct.prototype.inactiveBodies=function(){null!=this.b1&&this.b1.constraints.remove(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},ct.prototype.b1=null,ct.prototype.a1localx=null,ct.prototype.a1localy=null,ct.prototype.a1relx=null,ct.prototype.a1rely=null,ct.prototype.validate_a1=function(){this.wrap_a1.zpp_inner.x=this.a1localx,this.wrap_a1.zpp_inner.y=this.a1localy},ct.prototype.invalidate_a1=function(e){this.immutable_midstep("Constraint::a1"),this.a1localx=e.x,this.a1localy=e.y,this.wake()},ct.prototype.setup_a1=function(){var e,t,i=this.a1localx,n=this.a1localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a1=e,this.wrap_a1.zpp_inner._inuse=!0,this.wrap_a1.zpp_inner._validate=Z(this,this.validate_a1),this.wrap_a1.zpp_inner._invalidate=Z(this,this.invalidate_a1)},ct.prototype.wrap_a1=null,ct.prototype.b2=null,ct.prototype.a2localx=null,ct.prototype.a2localy=null,ct.prototype.a2relx=null,ct.prototype.a2rely=null,ct.prototype.validate_a2=function(){this.wrap_a2.zpp_inner.x=this.a2localx,this.wrap_a2.zpp_inner.y=this.a2localy},ct.prototype.invalidate_a2=function(e){this.immutable_midstep("Constraint::a2"),this.a2localx=e.x,this.a2localy=e.y,this.wake()},ct.prototype.setup_a2=function(){var e,t,i=this.a2localx,n=this.a2localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a2=e,this.wrap_a2.zpp_inner._inuse=!0,this.wrap_a2.zpp_inner._validate=Z(this,this.validate_a2),this.wrap_a2.zpp_inner._invalidate=Z(this,this.invalidate_a2)},ct.prototype.wrap_a2=null,ct.prototype.zip_n=null,ct.prototype.nlocalx=null,ct.prototype.nlocaly=null,ct.prototype.nrelx=null,ct.prototype.nrely=null,ct.prototype.validate_n=function(){this.wrap_n.zpp_inner.x=this.nlocalx,this.wrap_n.zpp_inner.y=this.nlocaly},ct.prototype.invalidate_n=function(e){this.immutable_midstep("Constraint::n"),this.nlocalx=e.x,this.nlocaly=e.y,this.zip_n=!0,this.wake()},ct.prototype.setup_n=function(){var e,t,i=this.nlocalx,n=this.nlocaly;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_n=e,this.wrap_n.zpp_inner._inuse=!0,this.wrap_n.zpp_inner._validate=Z(this,this.validate_n),this.wrap_n.zpp_inner._invalidate=Z(this,this.invalidate_n)},ct.prototype.wrap_n=null,ct.prototype.validate_norm=function(){var e;this.zip_n&&(this.zip_n=!1,e=1/Math.sqrt(this.nlocalx*this.nlocalx+this.nlocaly*this.nlocaly),this.nlocalx*=e,this.nlocaly*=e)},ct.prototype.kMassa=null,ct.prototype.kMassb=null,ct.prototype.kMassc=null,ct.prototype.jAccx=null,ct.prototype.jAccy=null,ct.prototype.jMax=null,ct.prototype.gamma=null,ct.prototype.biasx=null,ct.prototype.biasy=null,ct.prototype.stepped=null,ct.prototype.copy=function(e,t){var i=this.outer_zn,i=(null==i.zpp_inner_zn.wrap_a1&&i.zpp_inner_zn.setup_a1(),i.zpp_inner_zn.wrap_a1),n=this.outer_zn,n=(null==n.zpp_inner_zn.wrap_a2&&n.zpp_inner_zn.setup_a2(),n.zpp_inner_zn.wrap_a2),r=this.outer_zn,o=(null==r.zpp_inner_zn.wrap_n&&r.zpp_inner_zn.setup_n(),new T(null,null,i,n,r.zpp_inner_zn.wrap_n,this.jointMin,this.jointMax));if(this.copyto(o),null!=e&&null!=this.b1){for(var a=null,s=0;s<e.length;){var p=e[s];if(++s,p.id==this.b1.id){a=p.bc;break}}null!=a?o.zpp_inner_zn.b1=a.zpp_inner:t.push(Ue.todo(this.b1.id,function(e){o.zpp_inner_zn.b1=e.zpp_inner}))}if(null!=e&&null!=this.b2){for(var l=null,h=0;h<e.length;){var u=e[h];if(++h,u.id==this.b2.id){l=u.bc;break}}null!=l?o.zpp_inner_zn.b2=l.zpp_inner:t.push(Ue.todo(this.b2.id,function(e){o.zpp_inner_zn.b2=e.zpp_inner}))}return o},ct.prototype.validate=function(){if(null==this.b1||null==this.b2)throw new c("Error: AngleJoint cannot be simulated null bodies");if(this.b1==this.b2)throw new c("Error: DistanceJoint cannot be simulated with body1 == body2");if(this.b1.space!=this.space||this.b2.space!=this.space)throw new c("Error: Constraints must have each body within the same space to which the constraint has been assigned");if(this.jointMin>this.jointMax)throw new c("Error: DistanceJoint must have jointMin <= jointMax");if(this.nlocalx*this.nlocalx+this.nlocaly*this.nlocaly<ur.epsilon)throw new c("Error: DistanceJoint direction must be non-degenerate");if(2!=this.b1.type&&2!=this.b2.type)throw new c("Error: Constraints cannot have both bodies non-dynamic")},ct.prototype.wake_connected=function(){null!=this.b1&&2==this.b1.type&&this.b1.wake(),null!=this.b2&&2==this.b2.type&&this.b2.wake()},ct.prototype.forest=function(){if(2==this.b1.type){var e,t;if(this.b1.component==this.b1.component.parent)e=this.b1.component;else{for(var i=this.b1.component,n=null;i!=i.parent;){var r=i.parent;i.parent=n,n=i,i=r}for(;null!=n;){var o=n.parent;n.parent=i,n=o}e=i}if(this.component==this.component.parent)t=this.component;else{for(var a=this.component,s=null;a!=a.parent;){var p=a.parent;a.parent=s,s=a,a=p}for(;null!=s;){var l=s.parent;s.parent=a,s=l}t=a}e!=t&&(e.rank<t.rank?e.parent=t:e.rank>t.rank?t.parent=e:(t.parent=e).rank++)}if(2==this.b2.type){var h,u;if(this.b2.component==this.b2.component.parent)h=this.b2.component;else{for(var d=this.b2.component,c=null;d!=d.parent;){var m=d.parent;d.parent=c,c=d,d=m}for(;null!=c;){var y=c.parent;c.parent=d,c=y}h=d}if(this.component==this.component.parent)u=this.component;else{for(var _=this.component,x=null;_!=_.parent;){var f=_.parent;_.parent=x,x=_,_=f}for(;null!=x;){var g=x.parent;x.parent=_,x=g}u=_}h!=u&&(h.rank<u.rank?h.parent=u:h.rank>u.rank?u.parent=h:(u.parent=h).rank++)}},ct.prototype.pair_exists=function(e,t){return this.b1.id==e&&this.b2.id==t||this.b1.id==t&&this.b2.id==e},ct.prototype.clearcache=function(){this.jAccx=0,this.jAccy=0,this.pre_dt=-1},ct.prototype.preStep=function(e){-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt,i=(this.pre_dt=e,this.equal=this.jointMin==this.jointMax,this.stepped=!0,this.validate_norm(),this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,this.nrelx=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly,this.nrely=this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy,this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,0),n=this.b2.posx+this.a2relx-this.b1.posx-this.a1relx,r=(o=this.b2.posy+this.a2rely-this.b1.posy-this.a1rely)*this.nrelx-n*this.nrely,i=this.nrelx*n+this.nrely*o,n=(this.equal?(i-=this.jointMin,this.scale=1):i>this.jointMax?(i-=this.jointMax,this.scale=1):i<this.jointMin?(i=this.jointMin-i,this.scale=-1):this.scale=i=0,n+this.a1relx),o=o+this.a1rely,o=(this.dot1=this.nrelx*n+this.nrely*o,this.cx1=o*this.nrelx-n*this.nrely,this.dot2=this.nrelx*this.a2relx+this.nrely*this.a2rely,this.cx2=this.a2rely*this.nrelx-this.a2relx*this.nrely,this.kMassa=this.b1.smass+this.b2.smass+this.dot1*this.dot1*this.b1.sinertia+this.dot2*this.dot2*this.b2.sinertia,this.kMassb=-this.scale*(this.dot1*this.cx1*this.b1.sinertia+this.dot2*this.cx2*this.b2.sinertia),this.kMassc=this.scale*this.scale*(this.b1.smass+this.b2.smass+this.cx1*this.cx1*this.b1.sinertia+this.cx2*this.cx2*this.b2.sinertia),this.kMassa*this.kMassc-this.kMassb*this.kMassb);if(0!=(1&(n=o!=o?(this.kMassa=this.kMassb=this.kMassc=0,3):0==o?((n=0)!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,n=1),0!=this.kMassc?this.kMassc=1/this.kMassc:(this.kMassc=0,n|=2),this.kMassb=0,n):(n=this.kMassc*(o=1/o),this.kMassc=this.kMassa*o,this.kMassa=n,this.kMassb*=-o,0)))&&(this.jAccx=0),0!=(2&n)&&(this.jAccy=0),this.stiff)this.gamma=0,this.biasx=0,this.biasy=0;else{if(this.breakUnderError&&r*r+i*i>this.maxError*this.maxError)return!0;o=2*Math.PI*this.frequency,n=(this.gamma=1/(e*o*(2*this.damping+o*e)),1/(1+this.gamma)),o=e*o*o*this.gamma,n=(this.gamma*=n,this.kMassa*=n,this.kMassb*=n,this.kMassc*=n,this.biasx=r,this.biasy=i,-o),r=(this.biasx*=n,this.biasy*=n,this.maxError),i=this.biasx*this.biasx+this.biasy*this.biasy;r*r<i&&(o=r*(1/Math.sqrt(i)),this.biasx*=o,this.biasy*=o)}return this.jAccx*=t,this.jAccy*=t,this.jMax=this.maxForce*e,!1},ct.prototype.warmStart=function(){var e=this.scale*this.nrelx*this.jAccy-this.nrely*this.jAccx,t=this.nrelx*this.jAccx+this.scale*this.nrely*this.jAccy,i=this.b1.imass,i=(this.b1.velx-=e*i,this.b1.vely-=t*i,this.b2.imass);this.b2.velx+=e*i,this.b2.vely+=t*i,this.b1.angvel+=(this.scale*this.cx1*this.jAccy-this.dot1*this.jAccx)*this.b1.iinertia,this.b2.angvel+=(this.dot2*this.jAccx-this.scale*this.cx2*this.jAccy)*this.b2.iinertia},ct.prototype.applyImpulseVel=function(){var e=0,t=this.b2.velx-this.b1.velx,i=this.b2.vely-this.b1.vely,e=(t+=this.b2.kinvelx-this.b1.kinvelx,(i+=this.b2.kinvely-this.b1.kinvely)*this.nrelx-t*this.nrely+(this.b2.angvel+this.b2.kinangvel)*this.dot2-(this.b1.angvel+this.b1.kinangvel)*this.dot1),t=this.scale*(this.nrelx*t+this.nrely*i-(this.b2.angvel+this.b2.kinangvel)*this.cx2+(this.b1.angvel+this.b1.kinangvel)*this.cx1),i=this.biasx-e,e=this.biasy-t,t=this.kMassa*i+this.kMassb*e,t=(e=this.kMassb*i+this.kMassc*e,i=t,this.gamma),t=(i-=this.jAccx*t,e-=this.jAccy*t,this.jAccx),n=this.jAccy;if(this.jAccx+=i,this.jAccy+=e,0<this.jAccy&&(this.jAccy=0),this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(o=this.jMax)*o<(r=this.jAccx*this.jAccx+this.jAccy*this.jAccy)&&(o=o*(1/Math.sqrt(r)),this.jAccx*=o,this.jAccy*=o);i=this.jAccx-t,e=this.jAccy-n;var r=this.scale*this.nrelx*e-this.nrely*i,o=this.nrelx*i+this.scale*this.nrely*e,t=this.b1.imass,n=(this.b1.velx-=r*t,this.b1.vely-=o*t,this.b2.imass);return this.b2.velx+=r*n,this.b2.vely+=o*n,this.b1.angvel+=(this.scale*this.cx1*e-this.dot1*i)*this.b1.iinertia,this.b2.angvel+=(this.dot2*i-this.scale*this.cx2*e)*this.b2.iinertia,!1},ct.prototype.applyImpulsePos=function(){var e=this.b1.axisy*this.nlocalx-this.b1.axisx*this.nlocaly,t=this.nlocalx*this.b1.axisx+this.nlocaly*this.b1.axisy,i=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,n=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,r=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,o=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,a=0,s=0,p=0,l=0,a=this.b2.posx+r-this.b1.posx-i,p=(s=this.b2.posy+o-this.b1.posy-n)*e-a*t,l=e*a+t*s,h=this.equal?(l-=this.jointMin,1):l>this.jointMax?(l-=this.jointMax,1):l<this.jointMin?(l=this.jointMin-l,-1):l=0;if(this.breakUnderError&&p*p+l*l>this.maxError*this.maxError)return!0;if(p*p+l*l<ur.constraintLinearSlop*ur.constraintLinearSlop)return!1;var u=0,d=0,c=(6<(p*=.5)*p+(l*=.5)*l&&(m=this.b1.smass+this.b2.smass,ur.epsilon<m&&(y=(m=.8/m)*(t*p-h*e*l),m=m*(e*p*h-t*p),c=this.b1.imass,this.b1.posx-=y*c,this.b1.posy-=m*c,c=this.b2.imass,this.b2.posx+=y*c,this.b2.posy+=m*c,a=this.b2.posx+r-this.b1.posx-i,p=(s=this.b2.posy+o-this.b1.posy-n)*e-a*t,l=e*a+t*s,h=this.equal?(l-=this.jointMin,1):l>this.jointMax?(l-=this.jointMax,1):l<this.jointMin?(l=this.jointMin-l,-1):l=0,p*=.5,l*=.5)),e*(y=a+i)+t*(m=s+n)),a=m*e-y*t,i=e*r+t*o,s=o*e-r*t,n=this.b1.smass+this.b2.smass+c*c*this.b1.sinertia+i*i*this.b2.sinertia,m=-h*(c*a*this.b1.sinertia+i*s*this.b2.sinertia),o=(u=-p,d=-l,n*(y=h*h*(this.b1.smass+this.b2.smass+a*a*this.b1.sinertia+s*s*this.b2.sinertia))-m*m),p=(o!=o?u=d=0:0==o?(0!=n?u/=n:u=0,0!=y?d/=y:d=0):(r=(o=1/o)*(y*u-m*d),d=o*(n*d-m*u),u=r),h*e*(d=0<d?0:d)-t*u),l=e*u+h*t*d,y=this.b1.imass,o=(this.b1.posx-=p*y,this.b1.posy-=l*y,this.b2.imass),n=(this.b2.posx+=p*o,this.b2.posy+=l*o,this.b1),m=(h*a*d-c*u)*this.b1.iinertia,p=(n.rot+=m,1e-4<m*m?(n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)):(y=((e=1-.5*(r=m*m))*n.axisx+m*n.axisy)*(t=1-r*r/8),n.axisy=(e*n.axisy-m*n.axisx)*t,n.axisx=y),this.b2),l=(i*u-h*s*d)*this.b2.iinertia;return p.rot+=l,1e-4<l*l?(p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)):(r=((a=1-.5*(o=l*l))*p.axisx+l*p.axisy)*(c=1-o*o/8),p.axisy=(a*p.axisy-l*p.axisx)*c,p.axisx=r),!1},ct.prototype.draw=function(e){},ct.prototype.__class__=ct,zpp_nape.constraint.ZPP_MotorJoint=function(){this.stepped=!1,this.jMax=0,this.jAcc=0,this.kMass=0,this.b2=null,this.b1=null,this.rate=0,this.ratio=0,this.outer_zn=null,Fe.call(this),this.jAcc=0,this.stepped=!1,this.__velocity=!0}),yt=(mt.__name__=["zpp_nape","constraint","ZPP_MotorJoint"],mt.__super__=Fe,mt.prototype=Object.create(Fe.prototype),mt.prototype.outer_zn=null,mt.prototype.ratio=null,mt.prototype.rate=null,mt.prototype.bodyImpulse=function(e){return this.stepped?e==this.b1?d.get(0,0,-this.jAcc):d.get(0,0,this.ratio*this.jAcc):d.get(0,0,0)},mt.prototype.activeBodies=function(){null!=this.b1&&this.b1.constraints.add(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},mt.prototype.inactiveBodies=function(){null!=this.b1&&this.b1.constraints.remove(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},mt.prototype.b1=null,mt.prototype.b2=null,mt.prototype.kMass=null,mt.prototype.jAcc=null,mt.prototype.jMax=null,mt.prototype.stepped=null,mt.prototype.copy=function(e,t){var i=new A(null,null,this.rate,this.ratio);if(this.copyto(i),null!=e&&null!=this.b1){for(var n=null,r=0;r<e.length;){var o=e[r];if(++r,o.id==this.b1.id){n=o.bc;break}}null!=n?i.zpp_inner_zn.b1=n.zpp_inner:t.push(Ue.todo(this.b1.id,function(e){i.zpp_inner_zn.b1=e.zpp_inner}))}if(null!=e&&null!=this.b2){for(var a=null,s=0;s<e.length;){var p=e[s];if(++s,p.id==this.b2.id){a=p.bc;break}}null!=a?i.zpp_inner_zn.b2=a.zpp_inner:t.push(Ue.todo(this.b2.id,function(e){i.zpp_inner_zn.b2=e.zpp_inner}))}return i},mt.prototype.validate=function(){if(null==this.b1||null==this.b2)throw new c("Error: AngleJoint cannot be simulated null bodies");if(this.b1==this.b2)throw new c("Error: MotorJoint cannot be simulated with body1 == body2");if(this.b1.space!=this.space||this.b2.space!=this.space)throw new c("Error: Constraints must have each body within the same space to which the constraint has been assigned");if(2!=this.b1.type&&2!=this.b2.type)throw new c("Error: Constraints cannot have both bodies non-dynamic")},mt.prototype.wake_connected=function(){null!=this.b1&&2==this.b1.type&&this.b1.wake(),null!=this.b2&&2==this.b2.type&&this.b2.wake()},mt.prototype.forest=function(){if(2==this.b1.type){var e,t;if(this.b1.component==this.b1.component.parent)e=this.b1.component;else{for(var i=this.b1.component,n=null;i!=i.parent;){var r=i.parent;i.parent=n,n=i,i=r}for(;null!=n;){var o=n.parent;n.parent=i,n=o}e=i}if(this.component==this.component.parent)t=this.component;else{for(var a=this.component,s=null;a!=a.parent;){var p=a.parent;a.parent=s,s=a,a=p}for(;null!=s;){var l=s.parent;s.parent=a,s=l}t=a}e!=t&&(e.rank<t.rank?e.parent=t:e.rank>t.rank?t.parent=e:(t.parent=e).rank++)}if(2==this.b2.type){var h,u;if(this.b2.component==this.b2.component.parent)h=this.b2.component;else{for(var d=this.b2.component,c=null;d!=d.parent;){var m=d.parent;d.parent=c,c=d,d=m}for(;null!=c;){var y=c.parent;c.parent=d,c=y}h=d}if(this.component==this.component.parent)u=this.component;else{for(var _=this.component,x=null;_!=_.parent;){var f=_.parent;_.parent=x,x=_,_=f}for(;null!=x;){var g=x.parent;x.parent=_,x=g}u=_}h!=u&&(h.rank<u.rank?h.parent=u:h.rank>u.rank?u.parent=h:(u.parent=h).rank++)}},mt.prototype.pair_exists=function(e,t){return this.b1.id==e&&this.b2.id==t||this.b1.id==t&&this.b2.id==e},mt.prototype.clearcache=function(){this.jAcc=0,this.pre_dt=-1},mt.prototype.preStep=function(e){-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt;return this.pre_dt=e,this.stepped=!0,this.kMass=this.b1.sinertia+this.ratio*this.ratio*this.b2.sinertia,this.kMass=1/this.kMass,this.jAcc*=t,this.jMax=this.maxForce*e,!1},mt.prototype.warmStart=function(){this.b1.angvel-=this.b1.iinertia*this.jAcc,this.b2.angvel+=this.ratio*this.b2.iinertia*this.jAcc},mt.prototype.applyImpulseVel=function(){var e=-this.kMass*(this.ratio*(this.b2.angvel+this.b2.kinangvel)-this.b1.angvel-this.b1.kinangvel-this.rate),t=this.jAcc;if(this.jAcc+=e,this.breakUnderForce){if(this.jAcc>this.jMax||this.jAcc<-this.jMax)return!0}else this.jAcc<-this.jMax?this.jAcc=-this.jMax:this.jAcc>this.jMax&&(this.jAcc=this.jMax);return e=this.jAcc-t,this.b1.angvel-=this.b1.iinertia*e,this.b2.angvel+=this.ratio*this.b2.iinertia*e,!1},mt.prototype.applyImpulsePos=function(){return!1},mt.prototype.__class__=mt,zpp_nape.constraint.ZPP_PivotJoint=function(){this.stepped=!1,this.biasy=0,this.biasx=0,this.gamma=0,this.jMax=0,this.jAccy=0,this.jAccx=0,this.kMassc=0,this.kMassb=0,this.kMassa=0,this.wrap_a2=null,this.a2rely=0,this.a2relx=0,this.a2localy=0,this.a2localx=0,this.b2=null,this.wrap_a1=null,this.a1rely=0,this.a1relx=0,this.a1localy=0,this.a1localx=0,this.b1=null,this.outer_zn=null,Fe.call(this),this.stepped=!1,this.jAccx=0,this.jAccy=0,this.jMax=1/0,this.a1localx=0,this.a1localy=0,this.a1relx=0,this.a1rely=0,this.a2localx=0,this.a2localy=0,this.a2relx=0,this.a2rely=0}),_t=(yt.__name__=["zpp_nape","constraint","ZPP_PivotJoint"],yt.__super__=Fe,yt.prototype=Object.create(Fe.prototype),yt.prototype.outer_zn=null,yt.prototype.bodyImpulse=function(e){return this.stepped?e==this.b1?d.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely)):d.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely):d.get(0,0,0)},yt.prototype.activeBodies=function(){null!=this.b1&&this.b1.constraints.add(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},yt.prototype.inactiveBodies=function(){null!=this.b1&&this.b1.constraints.remove(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},yt.prototype.b1=null,yt.prototype.a1localx=null,yt.prototype.a1localy=null,yt.prototype.a1relx=null,yt.prototype.a1rely=null,yt.prototype.validate_a1=function(){this.wrap_a1.zpp_inner.x=this.a1localx,this.wrap_a1.zpp_inner.y=this.a1localy},yt.prototype.invalidate_a1=function(e){this.immutable_midstep("Constraint::a1"),this.a1localx=e.x,this.a1localy=e.y,this.wake()},yt.prototype.setup_a1=function(){var e,t,i=this.a1localx,n=this.a1localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a1=e,this.wrap_a1.zpp_inner._inuse=!0,this.wrap_a1.zpp_inner._validate=Z(this,this.validate_a1),this.wrap_a1.zpp_inner._invalidate=Z(this,this.invalidate_a1)},yt.prototype.wrap_a1=null,yt.prototype.b2=null,yt.prototype.a2localx=null,yt.prototype.a2localy=null,yt.prototype.a2relx=null,yt.prototype.a2rely=null,yt.prototype.validate_a2=function(){this.wrap_a2.zpp_inner.x=this.a2localx,this.wrap_a2.zpp_inner.y=this.a2localy},yt.prototype.invalidate_a2=function(e){this.immutable_midstep("Constraint::a2"),this.a2localx=e.x,this.a2localy=e.y,this.wake()},yt.prototype.setup_a2=function(){var e,t,i=this.a2localx,n=this.a2localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a2=e,this.wrap_a2.zpp_inner._inuse=!0,this.wrap_a2.zpp_inner._validate=Z(this,this.validate_a2),this.wrap_a2.zpp_inner._invalidate=Z(this,this.invalidate_a2)},yt.prototype.wrap_a2=null,yt.prototype.kMassa=null,yt.prototype.kMassb=null,yt.prototype.kMassc=null,yt.prototype.jAccx=null,yt.prototype.jAccy=null,yt.prototype.jMax=null,yt.prototype.gamma=null,yt.prototype.biasx=null,yt.prototype.biasy=null,yt.prototype.stepped=null,yt.prototype.copy=function(e,t){var i=this.outer_zn,i=(null==i.zpp_inner_zn.wrap_a1&&i.zpp_inner_zn.setup_a1(),i.zpp_inner_zn.wrap_a1),n=this.outer_zn,r=(null==n.zpp_inner_zn.wrap_a2&&n.zpp_inner_zn.setup_a2(),new E(null,null,i,n.zpp_inner_zn.wrap_a2));if(this.copyto(r),null!=e&&null!=this.b1){for(var o=null,a=0;a<e.length;){var s=e[a];if(++a,s.id==this.b1.id){o=s.bc;break}}null!=o?r.zpp_inner_zn.b1=o.zpp_inner:t.push(Ue.todo(this.b1.id,function(e){r.zpp_inner_zn.b1=e.zpp_inner}))}if(null!=e&&null!=this.b2){for(var p=null,l=0;l<e.length;){var h=e[l];if(++l,h.id==this.b2.id){p=h.bc;break}}null!=p?r.zpp_inner_zn.b2=p.zpp_inner:t.push(Ue.todo(this.b2.id,function(e){r.zpp_inner_zn.b2=e.zpp_inner}))}return r},yt.prototype.validate=function(){if(null==this.b1||null==this.b2)throw new c("Error: PivotJoint cannot be simulated null bodies");if(this.b1==this.b2)throw new c("Error: PivotJoint cannot be simulated with body1 == body2 (body1=body2="+this.b1.outer.toString()+")");if(this.b1.space!=this.space||this.b2.space!=this.space)throw new c("Error: Constraints must have each body within the same space to which the constraint has been assigned (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")");if(2!=this.b1.type&&2!=this.b2.type)throw new c("Error: Constraints cannot have both bodies non-dynamic (body1="+this.b1.outer.toString()+", body2="+this.b2.outer.toString()+")")},yt.prototype.wake_connected=function(){null!=this.b1&&2==this.b1.type&&this.b1.wake(),null!=this.b2&&2==this.b2.type&&this.b2.wake()},yt.prototype.forest=function(){if(2==this.b1.type){var e,t;if(this.b1.component==this.b1.component.parent)e=this.b1.component;else{for(var i=this.b1.component,n=null;i!=i.parent;){var r=i.parent;i.parent=n,n=i,i=r}for(;null!=n;){var o=n.parent;n.parent=i,n=o}e=i}if(this.component==this.component.parent)t=this.component;else{for(var a=this.component,s=null;a!=a.parent;){var p=a.parent;a.parent=s,s=a,a=p}for(;null!=s;){var l=s.parent;s.parent=a,s=l}t=a}e!=t&&(e.rank<t.rank?e.parent=t:e.rank>t.rank?t.parent=e:(t.parent=e).rank++)}if(2==this.b2.type){var h,u;if(this.b2.component==this.b2.component.parent)h=this.b2.component;else{for(var d=this.b2.component,c=null;d!=d.parent;){var m=d.parent;d.parent=c,c=d,d=m}for(;null!=c;){var y=c.parent;c.parent=d,c=y}h=d}if(this.component==this.component.parent)u=this.component;else{for(var _=this.component,x=null;_!=_.parent;){var f=_.parent;_.parent=x,x=_,_=f}for(;null!=x;){var g=x.parent;x.parent=_,x=g}u=_}h!=u&&(h.rank<u.rank?h.parent=u:h.rank>u.rank?u.parent=h:(u.parent=h).rank++)}},yt.prototype.pair_exists=function(e,t){return this.b1.id==e&&this.b2.id==t||this.b1.id==t&&this.b2.id==e},yt.prototype.clearcache=function(){this.jAccx=0,this.jAccy=0,this.pre_dt=-1},yt.prototype.preStep=function(e){-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt,i=(this.pre_dt=e,this.stepped=!0,this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,this.b1.smass+this.b2.smass),i=(this.kMassa=i,this.kMassb=0,this.kMassc=i,0!=this.b1.sinertia&&(i=this.a1relx*this.b1.sinertia,n=this.a1rely*this.b1.sinertia,this.kMassa+=n*this.a1rely,this.kMassb+=-n*this.a1relx,this.kMassc+=i*this.a1relx),0!=this.b2.sinertia&&(n=this.a2relx*this.b2.sinertia,i=this.a2rely*this.b2.sinertia,this.kMassa+=i*this.a2rely,this.kMassb+=-i*this.a2relx,this.kMassc+=n*this.a2relx),this.kMassa*this.kMassc-this.kMassb*this.kMassb);if(0!=(1&(n=i!=i?(this.kMassa=this.kMassb=this.kMassc=0,3):0==i?((n=0)!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,n=1),0!=this.kMassc?this.kMassc=1/this.kMassc:(this.kMassc=0,n|=2),this.kMassb=0,n):(n=this.kMassc*(i=1/i),this.kMassc=this.kMassa*i,this.kMassa=n,this.kMassb*=-i,0)))&&(this.jAccx=0),0!=(2&n)&&(this.jAccy=0),this.stiff)this.biasx=0,this.biasy=0,this.gamma=0;else{var i=2*Math.PI*this.frequency,n=(this.gamma=1/(e*i*(2*this.damping+i*e)),1/(1+this.gamma)),i=e*i*i*this.gamma;if(this.gamma*=n,this.kMassa*=n,this.kMassb*=n,this.kMassc*=n,this.biasx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),this.biasy=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy>this.maxError*this.maxError)return!0;n=-i,i=(this.biasx*=n,this.biasy*=n,this.maxError),n=this.biasx*this.biasx+this.biasy*this.biasy;i*i<n&&(i=i*(1/Math.sqrt(n)),this.biasx*=i,this.biasy*=i)}return this.jAccx*=t,this.jAccy*=t,this.jMax=this.maxForce*e,!1},yt.prototype.warmStart=function(){var e=this.b1.imass,e=(this.b1.velx-=this.jAccx*e,this.b1.vely-=this.jAccy*e,this.b2.imass);this.b2.velx+=this.jAccx*e,this.b2.vely+=this.jAccy*e,this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely)*this.b1.iinertia,this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely)*this.b2.iinertia},yt.prototype.applyImpulseVel=function(){var e=this.b2.velx+this.b2.kinvelx-this.a2rely*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),t=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),e=this.biasx-e,t=this.biasy-t,i=this.kMassa*e+this.kMassb*t,i=(t=this.kMassb*e+this.kMassc*t,e=i,this.gamma),i=(e-=this.jAccx*i,t-=this.jAccy*i,this.jAccx),n=this.jAccy;if(this.jAccx+=e,this.jAccy+=t,this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy>this.jMax*this.jMax)return!0}else this.stiff||(o=this.jMax)*o<(r=this.jAccx*this.jAccx+this.jAccy*this.jAccy)&&(o=o*(1/Math.sqrt(r)),this.jAccx*=o,this.jAccy*=o);e=this.jAccx-i,t=this.jAccy-n;var r=this.b1.imass,o=(this.b1.velx-=e*r,this.b1.vely-=t*r,this.b2.imass);return this.b2.velx+=e*o,this.b2.vely+=t*o,this.b1.angvel-=(t*this.a1relx-e*this.a1rely)*this.b1.iinertia,this.b2.angvel+=(t*this.a2relx-e*this.a2rely)*this.b2.iinertia,!1},yt.prototype.applyImpulsePos=function(){var e=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,t=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,i=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,n=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,r=0,o=0,r=this.b2.posx+i-(this.b1.posx+e),o=this.b2.posy+n-(this.b1.posy+t);if(this.breakUnderError&&r*r+o*o>this.maxError*this.maxError)return!0;if(r*r+o*o<ur.constraintLinearSlop*ur.constraintLinearSlop)return!1;var a=0,s=0,p=(6<(r*=.5)*r+(o*=.5)*o&&(p=this.b1.smass+this.b2.smass,ur.epsilon<p&&(400<(p=(a=-r*(p=.75/p))*a+(s=-o*p)*s)&&(a*=p=1/Math.sqrt(p)*20,s*=p),p=this.b1.imass,this.b1.posx-=a*p,this.b1.posy-=s*p,p=this.b2.imass,this.b2.posx+=a*p,this.b2.posy+=s*p,r=this.b2.posx+i-(this.b1.posx+e),o=this.b2.posy+n-(this.b1.posy+t),r*=.5,o*=.5)),0),l=0,h=0,u=this.b1.smass+this.b2.smass,d=(h=p=u,(l=0)!=this.b1.sinertia&&(d=e*this.b1.sinertia,p=u+(c=t*this.b1.sinertia)*t,l+=-c*e,h=u+d*e),0!=this.b2.sinertia&&(c=i*this.b2.sinertia,p+=(u=n*this.b2.sinertia)*n,l+=-u*i,h+=c*i),(a=-r)*a+(s=-o)*s),c=(36<d&&(a*=u=1/Math.sqrt(d)*6,s*=u),p*h-l*l),o=(c!=c?a=s=0:0==c?(0!=p?a/=p:a=0,0!=h?s/=h:s=0):(r=(c=1/c)*(h*a-l*s),s=c*(p*s-l*a),a=r),this.b1.imass),d=(this.b1.posx-=a*o,this.b1.posy-=s*o,this.b2.imass),u=(this.b2.posx+=a*d,this.b2.posy+=s*d,this.b1),h=-(s*e-a*t)*this.b1.iinertia,o=(u.rot+=h,1e-4<h*h?(u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)):(r=((p=1-.5*(c=h*h))*u.axisx+h*u.axisy)*(l=1-c*c/8),u.axisy=(p*u.axisy-h*u.axisx)*l,u.axisx=r),this.b2),d=(s*i-a*n)*this.b2.iinertia;return o.rot+=d,1e-4<d*d?(o.axisx=Math.sin(o.rot),o.axisy=Math.cos(o.rot)):(p=((t=1-.5*(e=d*d))*o.axisx+d*o.axisy)*(c=1-e*e/8),o.axisy=(t*o.axisy-d*o.axisx)*c,o.axisx=p),!1},yt.prototype.draw=function(e){},yt.prototype.__class__=yt,zpp_nape.constraint.ZPP_PulleyJoint=function(){this.stepped=!1,this.bias=0,this.gamma=0,this.jMax=0,this.jAcc=0,this.kMass=0,this.wrap_a4=null,this.a4rely=0,this.a4relx=0,this.a4localy=0,this.a4localx=0,this.b4=null,this.wrap_a3=null,this.a3rely=0,this.a3relx=0,this.a3localy=0,this.a3localx=0,this.b3=null,this.wrap_a2=null,this.a2rely=0,this.a2relx=0,this.a2localy=0,this.a2localx=0,this.b2=null,this.wrap_a1=null,this.a1rely=0,this.a1relx=0,this.a1localy=0,this.a1localx=0,this.b1=null,this.cx4=0,this.cx3=0,this.cx2=0,this.cx1=0,this.n34y=0,this.n34x=0,this.n12y=0,this.n12x=0,this.equal=!1,this.slack=!1,this.jointMax=0,this.jointMin=0,this.ratio=1,this.outer_zn=null,Fe.call(this),this.a1localx=0,this.a1localy=0,this.a1relx=0,this.a1rely=0,this.a2localx=0,this.a2localy=0,this.a2relx=0,this.a2rely=0,this.a3localx=0,this.a3localy=0,this.a3relx=0,this.a3rely=0,this.a4localx=0,this.a4localy=0,this.a4relx=0,this.a4rely=0,this.n12x=1,this.n12y=0,this.n34x=1,this.n34y=0,this.jAcc=0,this.jMax=1/0,this.stepped=!1,this.cx1=this.cx2=this.cx3=this.cx4=0}),xt=(_t.__name__=["zpp_nape","constraint","ZPP_PulleyJoint"],_t.__super__=Fe,_t.prototype=Object.create(Fe.prototype),_t.prototype.outer_zn=null,_t.prototype.ratio=null,_t.prototype.jointMin=null,_t.prototype.jointMax=null,_t.prototype.slack=null,_t.prototype.equal=null,_t.prototype.is_slack=function(){this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,this.a3relx=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy,this.a3rely=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy,this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy,this.a4rely=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy;var e=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),t=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),i=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx),n=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely),e=Math.sqrt(e*e+t*t),t=Math.sqrt(i*i+n*n),i=(0==t&&Math.sqrt(0),e+this.ratio*t),n=!this.equal&&(!(i<this.jointMin)&&(i>this.jointMax?(i-=this.jointMax,!1):!(i=0)));return n},_t.prototype.n12x=null,_t.prototype.n12y=null,_t.prototype.n34x=null,_t.prototype.n34y=null,_t.prototype.cx1=null,_t.prototype.cx2=null,_t.prototype.cx3=null,_t.prototype.cx4=null,_t.prototype.bodyImpulse=function(e){var t,i;return this.stepped?(t=d.get(),e==this.b1&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x=t.zpp_inner.x-this.jAcc*this.n12x,null!=(i=t.zpp_inner)._validate&&i._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y=t.zpp_inner.y-this.jAcc*this.n12y,null!=(i=t.zpp_inner)._validate&&i._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.z=t.zpp_inner.z-this.cx1*this.jAcc,null!=(i=t.zpp_inner)._validate&&i._validate()),e==this.b2&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x=t.zpp_inner.x+this.jAcc*this.n12x,null!=(i=t.zpp_inner)._validate&&i._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y=t.zpp_inner.y+this.jAcc*this.n12y,null!=(i=t.zpp_inner)._validate&&i._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.z=t.zpp_inner.z+this.cx2*this.jAcc,null!=(i=t.zpp_inner)._validate&&i._validate()),e==this.b3&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x=t.zpp_inner.x-this.jAcc*this.n34x,null!=(i=t.zpp_inner)._validate&&i._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y=t.zpp_inner.y-this.jAcc*this.n34y,null!=(i=t.zpp_inner)._validate&&i._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.z=t.zpp_inner.z-this.cx3*this.jAcc,null!=(i=t.zpp_inner)._validate&&i._validate()),e==this.b4&&(null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.x=t.zpp_inner.x+this.jAcc*this.n34x,null!=(e=t.zpp_inner)._validate&&e._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.y=t.zpp_inner.y+this.jAcc*this.n34y,null!=(e=t.zpp_inner)._validate&&e._validate(),null!=(i=t.zpp_inner)._validate&&i._validate(),t.zpp_inner.z=t.zpp_inner.z+this.cx4*this.jAcc,null!=(e=t.zpp_inner)._validate&&e._validate()),t):d.get(0,0,0)},_t.prototype.activeBodies=function(){null!=this.b1&&this.b1.constraints.add(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this),this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.add(this),this.b4!=this.b1&&this.b4!=this.b2&&this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.add(this)},_t.prototype.inactiveBodies=function(){null!=this.b1&&this.b1.constraints.remove(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this),this.b3!=this.b1&&this.b3!=this.b2&&null!=this.b3&&this.b3.constraints.remove(this),this.b4!=this.b1&&this.b4!=this.b2&&this.b4!=this.b3&&null!=this.b4&&this.b4.constraints.remove(this)},_t.prototype.b1=null,_t.prototype.a1localx=null,_t.prototype.a1localy=null,_t.prototype.a1relx=null,_t.prototype.a1rely=null,_t.prototype.validate_a1=function(){this.wrap_a1.zpp_inner.x=this.a1localx,this.wrap_a1.zpp_inner.y=this.a1localy},_t.prototype.invalidate_a1=function(e){this.immutable_midstep("Constraint::a1"),this.a1localx=e.x,this.a1localy=e.y,this.wake()},_t.prototype.setup_a1=function(){var e,t,i=this.a1localx,n=this.a1localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a1=e,this.wrap_a1.zpp_inner._inuse=!0,this.wrap_a1.zpp_inner._validate=Z(this,this.validate_a1),this.wrap_a1.zpp_inner._invalidate=Z(this,this.invalidate_a1)},_t.prototype.wrap_a1=null,_t.prototype.b2=null,_t.prototype.a2localx=null,_t.prototype.a2localy=null,_t.prototype.a2relx=null,_t.prototype.a2rely=null,_t.prototype.validate_a2=function(){this.wrap_a2.zpp_inner.x=this.a2localx,this.wrap_a2.zpp_inner.y=this.a2localy},_t.prototype.invalidate_a2=function(e){this.immutable_midstep("Constraint::a2"),this.a2localx=e.x,this.a2localy=e.y,this.wake()},_t.prototype.setup_a2=function(){var e,t,i=this.a2localx,n=this.a2localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a2=e,this.wrap_a2.zpp_inner._inuse=!0,this.wrap_a2.zpp_inner._validate=Z(this,this.validate_a2),this.wrap_a2.zpp_inner._invalidate=Z(this,this.invalidate_a2)},_t.prototype.wrap_a2=null,_t.prototype.b3=null,_t.prototype.a3localx=null,_t.prototype.a3localy=null,_t.prototype.a3relx=null,_t.prototype.a3rely=null,_t.prototype.validate_a3=function(){this.wrap_a3.zpp_inner.x=this.a3localx,this.wrap_a3.zpp_inner.y=this.a3localy},_t.prototype.invalidate_a3=function(e){this.immutable_midstep("Constraint::a3"),this.a3localx=e.x,this.a3localy=e.y,this.wake()},_t.prototype.setup_a3=function(){var e,t,i=this.a3localx,n=this.a3localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a3=e,this.wrap_a3.zpp_inner._inuse=!0,this.wrap_a3.zpp_inner._validate=Z(this,this.validate_a3),this.wrap_a3.zpp_inner._invalidate=Z(this,this.invalidate_a3)},_t.prototype.wrap_a3=null,_t.prototype.b4=null,_t.prototype.a4localx=null,_t.prototype.a4localy=null,_t.prototype.a4relx=null,_t.prototype.a4rely=null,_t.prototype.validate_a4=function(){this.wrap_a4.zpp_inner.x=this.a4localx,this.wrap_a4.zpp_inner.y=this.a4localy},_t.prototype.invalidate_a4=function(e){this.immutable_midstep("Constraint::a4"),this.a4localx=e.x,this.a4localy=e.y,this.wake()},_t.prototype.setup_a4=function(){var e,t,i=this.a4localx,n=this.a4localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a4=e,this.wrap_a4.zpp_inner._inuse=!0,this.wrap_a4.zpp_inner._validate=Z(this,this.validate_a4),this.wrap_a4.zpp_inner._invalidate=Z(this,this.invalidate_a4)},_t.prototype.wrap_a4=null,_t.prototype.kMass=null,_t.prototype.jAcc=null,_t.prototype.jMax=null,_t.prototype.gamma=null,_t.prototype.bias=null,_t.prototype.stepped=null,_t.prototype.copy=function(e,t){var i=this.outer_zn,i=(null==i.zpp_inner_zn.wrap_a1&&i.zpp_inner_zn.setup_a1(),i.zpp_inner_zn.wrap_a1),n=this.outer_zn,n=(null==n.zpp_inner_zn.wrap_a2&&n.zpp_inner_zn.setup_a2(),n.zpp_inner_zn.wrap_a2),r=this.outer_zn,r=(null==r.zpp_inner_zn.wrap_a3&&r.zpp_inner_zn.setup_a3(),r.zpp_inner_zn.wrap_a3),o=this.outer_zn,a=(null==o.zpp_inner_zn.wrap_a4&&o.zpp_inner_zn.setup_a4(),new I(null,null,null,null,i,n,r,o.zpp_inner_zn.wrap_a4,this.jointMin,this.jointMax,this.ratio));if(this.copyto(a),null!=e&&null!=this.b1){for(var s=null,p=0;p<e.length;){var l=e[p];if(++p,l.id==this.b1.id){s=l.bc;break}}null!=s?a.zpp_inner_zn.b1=s.zpp_inner:t.push(Ue.todo(this.b1.id,function(e){a.zpp_inner_zn.b1=e.zpp_inner}))}if(null!=e&&null!=this.b2){for(var h=null,u=0;u<e.length;){var d=e[u];if(++u,d.id==this.b2.id){h=d.bc;break}}null!=h?a.zpp_inner_zn.b2=h.zpp_inner:t.push(Ue.todo(this.b2.id,function(e){a.zpp_inner_zn.b2=e.zpp_inner}))}if(null!=e&&null!=this.b3){for(var c=null,m=0;m<e.length;){var y=e[m];if(++m,y.id==this.b3.id){c=y.bc;break}}null!=c?a.zpp_inner_zn.b3=c.zpp_inner:t.push(Ue.todo(this.b3.id,function(e){a.zpp_inner_zn.b3=e.zpp_inner}))}if(null!=e&&null!=this.b4){for(var _=null,x=0;x<e.length;){var f=e[x];if(++x,f.id==this.b4.id){_=f.bc;break}}null!=_?a.zpp_inner_zn.b4=_.zpp_inner:t.push(Ue.todo(this.b4.id,function(e){a.zpp_inner_zn.b4=e.zpp_inner}))}return a},_t.prototype.validate=function(){if(null==this.b1||null==this.b2||null==this.b3||null==this.b4)throw new c("Error: PulleyJoint cannot be simulated with null bodies");if(this.b1==this.b2||this.b3==this.b4)throw new c("Error: PulleyJoint cannot have body1==body2 or body3==body4");if(this.b1.space!=this.space||this.b2.space!=this.space||this.b3.space!=this.space||this.b4.space!=this.space)throw new c("Error: Constraints must have each body within the same space to which the constraint has been assigned");if(this.jointMin>this.jointMax)throw new c("Error: PulleyJoint must have jointMin <= jointMax");if(2!=this.b1.type&&2!=this.b2.type)throw new c("Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic");if(2!=this.b3.type&&2!=this.b4.type)throw new c("Error: PulleyJoint cannot have both bodies in a linked pair non-dynamic")},_t.prototype.wake_connected=function(){null!=this.b1&&2==this.b1.type&&this.b1.wake(),null!=this.b2&&2==this.b2.type&&this.b2.wake(),null!=this.b3&&2==this.b3.type&&this.b3.wake(),null!=this.b4&&2==this.b4.type&&this.b4.wake()},_t.prototype.forest=function(){if(2==this.b1.type){var e,t;if(this.b1.component==this.b1.component.parent)e=this.b1.component;else{for(var i=this.b1.component,n=null;i!=i.parent;){var r=i.parent;i.parent=n,n=i,i=r}for(;null!=n;){var o=n.parent;n.parent=i,n=o}e=i}if(this.component==this.component.parent)t=this.component;else{for(var a=this.component,s=null;a!=a.parent;){var p=a.parent;a.parent=s,s=a,a=p}for(;null!=s;){var l=s.parent;s.parent=a,s=l}t=a}e!=t&&(e.rank<t.rank?e.parent=t:e.rank>t.rank?t.parent=e:(t.parent=e).rank++)}if(2==this.b2.type){var h,u;if(this.b2.component==this.b2.component.parent)h=this.b2.component;else{for(var d=this.b2.component,c=null;d!=d.parent;){var m=d.parent;d.parent=c,c=d,d=m}for(;null!=c;){var y=c.parent;c.parent=d,c=y}h=d}if(this.component==this.component.parent)u=this.component;else{for(var _=this.component,x=null;_!=_.parent;){var f=_.parent;_.parent=x,x=_,_=f}for(;null!=x;){var g=x.parent;x.parent=_,x=g}u=_}h!=u&&(h.rank<u.rank?h.parent=u:h.rank>u.rank?u.parent=h:(u.parent=h).rank++)}if(2==this.b3.type){var v,z;if(this.b3.component==this.b3.component.parent)v=this.b3.component;else{for(var b=this.b3.component,w=null;b!=b.parent;){var S=b.parent;b.parent=w,w=b,b=S}for(;null!=w;){var C=w.parent;w.parent=b,w=C}v=b}if(this.component==this.component.parent)z=this.component;else{for(var k=this.component,M=null;k!=k.parent;){var P=k.parent;k.parent=M,M=k,k=P}for(;null!=M;){var O=M.parent;M.parent=k,M=O}z=k}v!=z&&(v.rank<z.rank?v.parent=z:v.rank>z.rank?z.parent=v:(z.parent=v).rank++)}if(2==this.b4.type){var T,G;if(this.b4.component==this.b4.component.parent)T=this.b4.component;else{for(var A=this.b4.component,E=null;A!=A.parent;){var L=A.parent;A.parent=E,E=A,A=L}for(;null!=E;){var D=E.parent;E.parent=A,E=D}T=A}if(this.component==this.component.parent)G=this.component;else{for(var I=this.component,B=null;I!=I.parent;){var R=I.parent;I.parent=B,B=I,I=R}for(;null!=B;){var j=B.parent;B.parent=I,B=j}G=I}T!=G&&(T.rank<G.rank?T.parent=G:T.rank>G.rank?G.parent=T:(G.parent=T).rank++)}},_t.prototype.pair_exists=function(e,t){return this.b1.id==e&&(this.b2.id==t||this.b3.id==t||this.b4.id==t)||this.b2.id==e&&(this.b3.id==t||this.b4.id==t||this.b1.id==t)||this.b3.id==e&&(this.b4.id==t||this.b1.id==t||this.b2.id==t)||this.b4.id==e&&(this.b1.id==t||this.b2.id==t||this.b3.id==t)},_t.prototype.clearcache=function(){this.jAcc=0,this.pre_dt=-1},_t.prototype.preStep=function(e){-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt,i=(this.pre_dt=e,this.stepped=!0,this.equal=this.jointMin==this.jointMax,this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,this.a3relx=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy,this.a3rely=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy,this.a4relx=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy,this.a4rely=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy,this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx)),n=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),r=this.b4.posx+this.a4relx-(this.b3.posx+this.a3relx),o=this.b4.posy+this.a4rely-(this.b3.posy+this.a3rely),a=Math.sqrt(i*i+n*n),s=Math.sqrt(r*r+o*o),o=(0!=a&&(this.n12x=i*(i=1/a),this.n12y=n*i),0!=s?(this.n34x=r*(n=1/s),this.n34y=o*n,i=this.ratio,this.n34x*=i,this.n34y*=i):(r=this.ratio/Math.sqrt(this.n34x*this.n34x+this.n34y*this.n34y),this.n34x*=r,this.n34y*=r),a+this.ratio*s),n=(this.equal?(o-=this.jointMax,this.slack=!1):o<this.jointMin?(o=this.jointMin-o,this.n12x=-this.n12x,this.n12y=-this.n12y,this.n34x=-this.n34x,this.n34y=-this.n34y,this.slack=!1):o>this.jointMax?(o-=this.jointMax,this.slack=!1):(this.n12x=0,this.n12y=0,this.n34x=0,this.n34y=0,this.slack=!(o=0)),o);if(!this.slack){this.cx1=this.n12y*this.a1relx-this.n12x*this.a1rely,this.cx2=this.n12y*this.a2relx-this.n12x*this.a2rely,this.cx3=this.n34y*this.a3relx-this.n34x*this.a3rely,this.cx4=this.n34y*this.a4relx-this.n34x*this.a4rely;i=this.b1.smass+this.b2.smass+this.ratio*this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*this.cx1*this.cx1+this.b2.sinertia*this.cx2*this.cx2+this.b3.sinertia*this.cx3*this.cx3+this.b4.sinertia*this.cx4*this.cx4;if(this.b1==this.b4&&(i-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx4*this.b1.sinertia)),this.b1==this.b3&&(i+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b1.smass+this.cx1*this.cx3*this.b1.sinertia)),this.b2==this.b3&&(i-=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx3*this.b2.sinertia)),this.b2==this.b4&&(i+=2*((this.n12x*this.n34x+this.n12y*this.n34y)*this.b2.smass+this.cx2*this.cx4*this.b2.sinertia)),this.kMass=i,0!=this.kMass?this.kMass=1/this.kMass:this.jAcc=0,this.stiff)this.bias=0,this.gamma=0;else{if(this.breakUnderError&&n*n>this.maxError*this.maxError)return!0;r=2*Math.PI*this.frequency,a=(this.gamma=1/(e*r*(2*this.damping+r*e)),1/(1+this.gamma)),s=e*r*r*this.gamma;this.gamma*=a,this.kMass*=a,this.bias=-n*s,this.bias<-this.maxError?this.bias=-this.maxError:this.bias>this.maxError&&(this.bias=this.maxError)}this.jAcc*=t,this.jMax=this.maxForce*e}return!1},_t.prototype.warmStart=function(){var e;this.slack||(e=this.b1.imass*this.jAcc,this.b1.velx-=this.n12x*e,this.b1.vely-=this.n12y*e,e=this.b2.imass*this.jAcc,this.b2.velx+=this.n12x*e,this.b2.vely+=this.n12y*e,e=this.b3.imass*this.jAcc,this.b3.velx-=this.n34x*e,this.b3.vely-=this.n34y*e,e=this.b4.imass*this.jAcc,this.b4.velx+=this.n34x*e,this.b4.vely+=this.n34y*e,this.b1.angvel-=this.cx1*this.b1.iinertia*this.jAcc,this.b2.angvel+=this.cx2*this.b2.iinertia*this.jAcc,this.b3.angvel-=this.cx3*this.b3.iinertia*this.jAcc,this.b4.angvel+=this.cx4*this.b4.iinertia*this.jAcc)},_t.prototype.applyImpulseVel=function(){if(this.slack)return!1;var e=this.kMass*(this.bias-(this.n12x*(this.b2.velx+this.b2.kinvelx-this.b1.velx-this.b1.kinvelx)+this.n12y*(this.b2.vely+this.b2.kinvely-this.b1.vely-this.b1.kinvely)+this.n34x*(this.b4.velx+this.b4.kinvelx-this.b3.velx-this.b3.kinvelx)+this.n34y*(this.b4.vely+this.b4.kinvely-this.b3.vely-this.b3.kinvely)+(this.b2.angvel+this.b2.kinangvel)*this.cx2-(this.b1.angvel+this.b1.kinangvel)*this.cx1+(this.b4.angvel+this.b4.kinangvel)*this.cx4-(this.b3.angvel+this.b3.kinangvel)*this.cx3))-this.jAcc*this.gamma,t=this.jAcc;if(this.jAcc+=e,!this.equal&&0<this.jAcc&&(this.jAcc=0),this.breakUnderForce&&this.jAcc<-this.jMax)return!0;this.stiff||this.jAcc<-this.jMax&&(this.jAcc=-this.jMax);e=this.jAcc-t,t=this.b1.imass*e,this.b1.velx-=this.n12x*t,this.b1.vely-=this.n12y*t,t=this.b2.imass*e,this.b2.velx+=this.n12x*t,this.b2.vely+=this.n12y*t,t=this.b3.imass*e,this.b3.velx-=this.n34x*t,this.b3.vely-=this.n34y*t,t=this.b4.imass*e;return this.b4.velx+=this.n34x*t,this.b4.vely+=this.n34y*t,this.b1.angvel-=this.cx1*this.b1.iinertia*e,this.b2.angvel+=this.cx2*this.b2.iinertia*e,this.b3.angvel-=this.cx3*this.b3.iinertia*e,this.b4.angvel+=this.cx4*this.b4.iinertia*e,!1},_t.prototype.applyImpulsePos=function(){var e=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,t=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,i=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,n=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,r=this.b3.axisy*this.a3localx-this.b3.axisx*this.a3localy,o=this.a3localx*this.b3.axisx+this.a3localy*this.b3.axisy,a=this.b4.axisy*this.a4localx-this.b4.axisx*this.a4localy,s=this.a4localx*this.b4.axisx+this.a4localy*this.b4.axisy,p=0,l=0,h=0,u=0,d=(p=this.n12x,l=this.n12y,h=this.n34x,u=this.n34y,this.b2.posx+i-(this.b1.posx+e)),c=this.b2.posy+n-(this.b1.posy+t),m=this.b4.posx+a-(this.b3.posx+r),y=this.b4.posy+s-(this.b3.posy+o),_=Math.sqrt(d*d+c*c),x=Math.sqrt(m*m+y*y),y=(0!=_&&(p=d*(d=1/_),l=c*d),0!=x?(h=m*(c=1/x),u=y*c,h*=d=this.ratio,u*=d):(h*=m=this.ratio/Math.sqrt(h*h+u*u),u*=m),_+this.ratio*x),c=this.equal?(y-=this.jointMax,!1):y<this.jointMin?(y=this.jointMin-y,p=-p,l=-l,h=-h,u=-u,!1):y>this.jointMax?(y-=this.jointMax,!1):!(y=u=h=l=p=0),d=y;if(!c){if(this.breakUnderError&&d*d>this.maxError*this.maxError)return!0;if(d*d<ur.constraintLinearSlop*ur.constraintLinearSlop)return!1;6<(d*=.5)*d&&(m=this.b1.smass+this.b2.smass,ur.epsilon<m&&(f=-d*(m=.75/m),(this.equal||f<0)&&(_=f*this.b1.imass,this.b1.posx-=p*_,this.b1.posy-=l*_,x=f*this.b2.imass,this.b2.posx+=p*x,this.b2.posy+=l*x,y=f*this.b3.imass,this.b3.posx-=h*y,this.b3.posy-=u*y,c=f*this.b4.imass,this.b4.posx+=h*c,this.b4.posy+=u*c,y=x=_=m=0,m=this.b2.posx+i-(this.b1.posx+e),_=this.b2.posy+n-(this.b1.posy+t),x=this.b4.posx+a-(this.b3.posx+r),y=this.b4.posy+s-(this.b3.posy+o),0!=(c=Math.sqrt(m*m+_*_))&&(p=m*(m=1/c),l=_*m),0!=(_=Math.sqrt(x*x+y*y))?(h=x*(m=1/_),u=y*m,h*=x=this.ratio,u*=x):(h*=y=this.ratio/Math.sqrt(h*h+u*u),u*=y),m=c+this.ratio*_,this.equal?m-=this.jointMax:m<this.jointMin?(m=this.jointMin-m,p=-p,l=-l,h=-h,u=-u):m>this.jointMax?m-=this.jointMax:m=u=h=l=p=0,d=m,d*=.5)));var f,m=this.b1.smass+this.b2.smass+this.ratio*this.ratio*(this.b3.smass+this.b4.smass)+this.b1.sinertia*(x=l*e-p*t)*x+this.b2.sinertia*(y=l*i-p*n)*y+this.b3.sinertia*(c=u*r-h*o)*c+this.b4.sinertia*(_=u*a-h*s)*_;this.b1==this.b4&&(m-=2*((p*h+l*u)*this.b1.smass+x*_*this.b1.sinertia)),this.b1==this.b3&&(m+=2*((p*h+l*u)*this.b1.smass+x*c*this.b1.sinertia)),this.b2==this.b3&&(m-=2*((p*h+l*u)*this.b2.smass+y*c*this.b2.sinertia)),this.b2==this.b4&&(m+=2*((p*h+l*u)*this.b2.smass+y*_*this.b2.sinertia));f=-d*(0!=m?1/m:m),(this.equal||f<0)&&(e=this.b1.imass*f,this.b1.posx-=p*e,this.b1.posy-=l*e,t=this.b2.imass*f,this.b2.posx+=p*t,this.b2.posy+=l*t,i=this.b3.imass*f,this.b3.posx-=h*i,this.b3.posy-=u*i,n=this.b4.imass*f,this.b4.posx+=h*n,this.b4.posy+=u*n,r=this.b1,o=-x*this.b1.iinertia*f,r.rot+=o,1e-4<o*o?(r.axisx=Math.sin(r.rot),r.axisy=Math.cos(r.rot)):(m=((s=1-.5*(a=o*o))*r.axisx+o*r.axisy)*(d=1-a*a/8),r.axisy=(s*r.axisy-o*r.axisx)*d,r.axisx=m),e=this.b2,p=y*this.b2.iinertia*f,e.rot+=p,1e-4<p*p?(e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)):(h=((t=1-.5*(l=p*p))*e.axisx+p*e.axisy)*(i=1-l*l/8),e.axisy=(t*e.axisy-p*e.axisx)*i,e.axisx=h),u=this.b3,n=-c*this.b3.iinertia*f,u.rot+=n,1e-4<n*n?(u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)):(o=((a=1-.5*(x=n*n))*u.axisx+n*u.axisy)*(s=1-x*x/8),u.axisy=(a*u.axisy-n*u.axisx)*s,u.axisx=o),d=this.b4,r=_*this.b4.iinertia*f,d.rot+=r,1e-4<r*r?(d.axisx=Math.sin(d.rot),d.axisy=Math.cos(d.rot)):(t=((y=1-.5*(m=r*r))*d.axisx+r*d.axisy)*(l=1-m*m/8),d.axisy=(y*d.axisy-r*d.axisx)*l,d.axisx=t))}return!1},_t.prototype.draw=function(e){},_t.prototype.__class__=_t,zpp_nape.constraint.ZPP_UserConstraint=function(e,t){this.jOld=null,this.J=null,this.vec3=null,this.Keff=null,this.jMax=0,this.velonly=!1,this.gamma=0,this.soft=0,this.y=null,this.L=null,this.stepped=!1,this.bias=null,this.jAcc=null,this.dim=0,this.bodies=null,this.outer_zn=null,Fe.call(this),this.bodies=[],this.dim=e,this.velonly=t,this.jAcc=[],this.bias=[],this.L=[],this.J=[],this.jOld=[],this.y=[],this.Keff=[],this.vec3=d.get(0,0,0);for(var i=0;i<e;)for(var n=i++,r=(this.J[n]=this.jOld[n]=this.y[n]=0,this.bias[n]=0,this.jAcc[n]=0);r<e;)this.L[n*e+r++]=0;this.stepped=!1}),ft=(xt.__name__=["zpp_nape","constraint","ZPP_UserConstraint"],xt.__super__=Fe,xt.prototype=Object.create(Fe.prototype),xt.prototype.outer_zn=null,xt.prototype.bindVec2_invalidate=function(e){this.outer_zn.__invalidate()},xt.prototype.bodies=null,xt.prototype.dim=null,xt.prototype.jAcc=null,xt.prototype.bias=null,xt.prototype.addBody=function(e){for(var t=null,i=0,n=this.bodies;i<n.length;){var r=n[i];if(++i,r.body==e){t=r;break}}null==t?(this.bodies.push(new ft(1,e)),this.active&&null!=this.space&&null!=e&&e.constraints.add(this)):t.cnt++},xt.prototype.remBody=function(e){for(var t=null,i=0|this.bodies.length,n=0;n<i;){var r=this.bodies[n];if(r.body==e){r.cnt--,0==r.cnt&&(0<i&&(this.bodies[n]=this.bodies[i-1]),this.bodies.pop(),this.active&&null!=this.space&&null!=e&&e.constraints.remove(this)),t=r;break}++n}return null!=t},xt.prototype.bodyImpulse=function(e){for(var t=0,i=this.dim;t<i;){var n=t++;this.J[n]=this.jAcc[n]}var r=d.get(0,0,0);return this.stepped&&this.outer_zn.__impulse(this.J,e.outer,r),r},xt.prototype.activeBodies=function(){for(var e=0,t=this.bodies;e<t.length;){var i=t[e];++e,null!=i.body&&i.body.constraints.add(this)}},xt.prototype.inactiveBodies=function(){for(var e=0,t=this.bodies;e<t.length;){var i=t[e];++e,null!=i.body&&i.body.constraints.remove(this)}},xt.prototype.stepped=null,xt.prototype.copy=function(e,t){throw this.copyto(this.outer_zn.__copy()),new c("not done yet")},xt.prototype.validate=function(){for(var e=0,t=this.bodies;e<t.length;){var i=t[e];if(++e,i.body.space!=this.space)throw new c("Error: Constraints must have each body within the same sapce to which the constraint has been assigned")}this.outer_zn.__validate()},xt.prototype.wake_connected=function(){for(var e=0,t=this.bodies;e<t.length;){var i=t[e];++e,2==i.body.type&&i.body.wake()}},xt.prototype.forest=function(){for(var e=0,t=this.bodies;e<t.length;){var i,n,r=t[e];if(++e,2==r.body.type){if(r.body.component==r.body.component.parent)i=r.body.component;else{for(var o=r.body.component,a=null;o!=o.parent;){var s=o.parent;o.parent=a,a=o,o=s}for(;null!=a;){var p=a.parent;a.parent=o,a=p}i=o}if(this.component==this.component.parent)n=this.component;else{for(var l=this.component,h=null;l!=l.parent;){var u=l.parent;l.parent=h,h=l,l=u}for(;null!=h;){var d=h.parent;h.parent=l,h=d}n=l}i!=n&&(i.rank<n.rank?i.parent=n:i.rank>n.rank?n.parent=i:(n.parent=i).rank++)}}},xt.prototype.pair_exists=function(e,t){for(var i=!1,n=0|this.bodies.length,r=0;r<n;){for(var o=r++,a=this.bodies[o].body,s=1+o;s<n;){var p=this.bodies[s++].body;if(a.id==e&&p.id==t||a.id==t&&p.id==e){i=!0;break}}if(i)break}return i},xt.prototype.broken=function(){this.outer_zn.__broken()},xt.prototype.clearcache=function(){for(var e=0,t=this.dim;e<t;)this.jAcc[e++]=0;this.pre_dt=-1},xt.prototype.lsq=function(e){for(var t=0,i=0,n=this.dim;i<n;){var r=i++;t+=e[r]*e[r]}return t},xt.prototype._clamp=function(e,t){var i=this.lsq(e);if(t*t<i)for(var n=t/Math.sqrt(i),r=0,o=this.dim;r<o;)e[r++]*=n},xt.prototype.L=null,xt.prototype.solve=function(e){for(var t=0,i=0,n=this.dim;i<n;){for(var r=i++,o=0,a=0,s=r-1;a<s;){var p=a++;o+=this.L[r*this.dim+p]*this.L[r*this.dim+p]}var l=Math.sqrt(e[t++]-o);if(0!=(this.L[r*this.dim+r]=l))for(var l=1/l,h=1+r,u=this.dim;h<u;){for(var d=h++,c=0,m=0,y=r-1;m<y;){var _=m++;c+=this.L[d*this.dim+_]*this.L[r*this.dim+_]}this.L[d*this.dim+r]=l*(e[t++]-c)}else{for(var x=1+r,f=this.dim;x<f;)this.L[x++*this.dim+r]=0;t+=this.dim-r-1}}return this.L},xt.prototype.y=null,xt.prototype.transform=function(e,t){for(var i=0,n=this.dim;i<n;){var r=i++,o=t[r],a=e[r*this.dim+r];if(0!=a){for(var s=0;s<r;){var p=s++;o-=e[r*this.dim+p]*this.y[p]}this.y[r]=o/a}else this.y[r]=0}for(var l=0,h=this.dim;l<h;){var u=this.dim-1-l++,d=e[u*this.dim+u];if(0!=d){for(var c=this.y[u],m=1+u,y=this.dim;m<y;){var _=m++;c-=e[_*this.dim+u]*t[_]}t[u]=c/d}else t[u]=0}},xt.prototype.soft=null,xt.prototype.gamma=null,xt.prototype.velonly=null,xt.prototype.jMax=null,xt.prototype.Keff=null,xt.prototype.preStep=function(e){this.outer_zn.__validate(),-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt;if(this.pre_dt=e,this.stepped=!0,this.outer_zn.__prepare(),this.outer_zn.__eff_mass(this.Keff),this.L=this.solve(this.Keff),this.stiff||this.velonly){for(var i=0,n=this.dim;i<n;)this.bias[i++]=0;this.gamma=0,this.soft=1}else{var r=2*Math.PI*this.frequency,o=(this.gamma=1/(e*r*(2*this.damping+r*e)),1/(1+this.gamma)),a=e*r*r*this.gamma;if(this.gamma*=o,this.soft=o,this.outer_zn.__position(this.bias),this.breakUnderError&&this.lsq(this.bias)>this.maxError*this.maxError)return!0;for(var s=0,p=this.dim;s<p;)this.bias[s++]*=-a;this._clamp(this.bias,this.maxError)}for(var l=0,h=this.dim;l<h;)this.jAcc[l++]*=t;return this.jMax=this.maxForce*e,!1},xt.prototype.vec3=null,xt.prototype.warmStart=function(){for(var e=0,t=this.bodies;e<t.length;){var i=t[e],i=(++e,i.body),n=(this.outer_zn.__impulse(this.jAcc,i.outer,this.vec3),i.imass),r=this.vec3,o=r.zpp_inner,o=(null!=o._validate&&o._validate(),i.velx+=r.zpp_inner.x*n,this.vec3),r=o.zpp_inner,r=(null!=r._validate&&r._validate(),i.vely+=o.zpp_inner.y*n,this.vec3),o=r.zpp_inner;null!=o._validate&&o._validate(),i.angvel+=r.zpp_inner.z*i.iinertia}},xt.prototype.J=null,xt.prototype.jOld=null,xt.prototype.applyImpulseVel=function(){this.outer_zn.__velocity(this.J);for(var e=0,t=this.dim;e<t;){var i=e++;this.J[i]=this.bias[i]-this.J[i]}this.transform(this.L,this.J);for(var n=0,r=this.dim;n<r;){var o=n++;this.jOld[o]=this.jAcc[o],this.jAcc[o]+=this.J[o]=this.J[o]*this.soft-this.jAcc[o]*this.gamma}if(this.outer_zn.__clamp(this.jAcc),(this.breakUnderForce||!this.stiff)&&this.lsq(this.jAcc)>this.jMax*this.jMax){if(this.breakUnderForce)return!0;this.stiff||this._clamp(this.jAcc,this.jMax)}for(var a=0,s=this.dim;a<s;){var p=a++;this.J[p]=this.jAcc[p]-this.jOld[p]}for(var l=0,h=this.bodies;l<h.length;){var u=h[l],u=(++l,u.body),d=(this.outer_zn.__impulse(this.J,u.outer,this.vec3),u.imass),c=this.vec3,m=c.zpp_inner,m=(null!=m._validate&&m._validate(),u.velx+=c.zpp_inner.x*d,this.vec3),c=m.zpp_inner,c=(null!=c._validate&&c._validate(),u.vely+=m.zpp_inner.y*d,this.vec3),m=c.zpp_inner;null!=m._validate&&m._validate(),u.angvel+=c.zpp_inner.z*u.iinertia}return!1},xt.prototype.applyImpulsePos=function(){if(this.velonly)return!1;this.outer_zn.__prepare(),this.outer_zn.__position(this.J);var e=this.lsq(this.J);if(this.breakUnderError&&e>this.maxError*this.maxError)return!0;if(e<ur.constraintLinearSlop*ur.constraintLinearSlop)return!1;for(var t=0,i=this.dim;t<i;)this.J[t++]*=-1;this.outer_zn.__eff_mass(this.Keff),this.transform(this.solve(this.Keff),this.J),this.outer_zn.__clamp(this.J);for(var n=0,r=this.bodies;n<r.length;){var o,a=r[n],a=(++n,a.body),s=(this.outer_zn.__impulse(this.J,a.outer,this.vec3),a.imass),p=this.vec3,l=p.zpp_inner,l=(null!=l._validate&&l._validate(),a.posx+=p.zpp_inner.x*s,this.vec3),p=l.zpp_inner,p=(null!=p._validate&&p._validate(),a.posy+=l.zpp_inner.y*s,this.vec3),l=p.zpp_inner,s=(null!=l._validate&&l._validate(),p.zpp_inner.z*a.iinertia);a.rot+=s,1e-4<s*s?(a.axisx=Math.sin(a.rot),a.axisy=Math.cos(a.rot)):(o=((p=1-.5*(l=s*s))*a.axisx+s*a.axisy)*(l=1-l*l/8),a.axisy=(p*a.axisy-s*a.axisx)*l,a.axisx=o)}return!1},xt.prototype.draw=function(e){this.outer_zn.__draw(e)},xt.prototype.__class__=xt,zpp_nape.constraint.ZPP_UserBody=function(e,t){this.body=null,this.cnt=0,this.cnt=e,this.body=t}),gt=(ft.__name__=["zpp_nape","constraint","ZPP_UserBody"],ft.prototype.cnt=null,ft.prototype.body=null,ft.prototype.__class__=ft,zpp_nape.constraint.ZPP_WeldJoint=function(){this.stepped=!1,this.biasz=0,this.biasy=0,this.biasx=0,this.gamma=0,this.jMax=0,this.jAccz=0,this.jAccy=0,this.jAccx=0,this.kMassf=0,this.kMasse=0,this.kMassc=0,this.kMassd=0,this.kMassb=0,this.kMassa=0,this.phase=0,this.wrap_a2=null,this.a2rely=0,this.a2relx=0,this.a2localy=0,this.a2localx=0,this.b2=null,this.wrap_a1=null,this.a1rely=0,this.a1relx=0,this.a1localy=0,this.a1localx=0,this.b1=null,this.outer_zn=null,Fe.call(this),this.phase=0,this.jAccx=0,this.jAccy=0,this.jAccz=0,this.jMax=1/0,this.stepped=!1,this.a1localx=0,this.a1localy=0,this.a1relx=0,this.a1rely=0,this.a2localx=0,this.a2localy=0,this.a2relx=0,this.a2rely=0}),Rt=(gt.__name__=["zpp_nape","constraint","ZPP_WeldJoint"],gt.__super__=Fe,gt.prototype=Object.create(Fe.prototype),gt.prototype.outer_zn=null,gt.prototype.bodyImpulse=function(e){return this.stepped?e==this.b1?d.get(-this.jAccx,-this.jAccy,-(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)):d.get(this.jAccx,this.jAccy,this.jAccy*this.a2relx-this.jAccx*this.a2rely+this.jAccz):d.get(0,0,0)},gt.prototype.activeBodies=function(){null!=this.b1&&this.b1.constraints.add(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.add(this)},gt.prototype.inactiveBodies=function(){null!=this.b1&&this.b1.constraints.remove(this),this.b2!=this.b1&&null!=this.b2&&this.b2.constraints.remove(this)},gt.prototype.b1=null,gt.prototype.a1localx=null,gt.prototype.a1localy=null,gt.prototype.a1relx=null,gt.prototype.a1rely=null,gt.prototype.validate_a1=function(){this.wrap_a1.zpp_inner.x=this.a1localx,this.wrap_a1.zpp_inner.y=this.a1localy},gt.prototype.invalidate_a1=function(e){this.immutable_midstep("Constraint::a1"),this.a1localx=e.x,this.a1localy=e.y,this.wake()},gt.prototype.setup_a1=function(){var e,t,i=this.a1localx,n=this.a1localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a1=e,this.wrap_a1.zpp_inner._inuse=!0,this.wrap_a1.zpp_inner._validate=Z(this,this.validate_a1),this.wrap_a1.zpp_inner._invalidate=Z(this,this.invalidate_a1)},gt.prototype.wrap_a1=null,gt.prototype.b2=null,gt.prototype.a2localx=null,gt.prototype.a2localy=null,gt.prototype.a2relx=null,gt.prototype.a2rely=null,gt.prototype.validate_a2=function(){this.wrap_a2.zpp_inner.x=this.a2localx,this.wrap_a2.zpp_inner.y=this.a2localy},gt.prototype.invalidate_a2=function(e){this.immutable_midstep("Constraint::a2"),this.a2localx=e.x,this.a2localy=e.y,this.wake()},gt.prototype.setup_a2=function(){var e,t,i=this.a2localx,n=this.a2localy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_a2=e,this.wrap_a2.zpp_inner._inuse=!0,this.wrap_a2.zpp_inner._validate=Z(this,this.validate_a2),this.wrap_a2.zpp_inner._invalidate=Z(this,this.invalidate_a2)},gt.prototype.wrap_a2=null,gt.prototype.phase=null,gt.prototype.kMassa=null,gt.prototype.kMassb=null,gt.prototype.kMassd=null,gt.prototype.kMassc=null,gt.prototype.kMasse=null,gt.prototype.kMassf=null,gt.prototype.jAccx=null,gt.prototype.jAccy=null,gt.prototype.jAccz=null,gt.prototype.jMax=null,gt.prototype.gamma=null,gt.prototype.biasx=null,gt.prototype.biasy=null,gt.prototype.biasz=null,gt.prototype.stepped=null,gt.prototype.copy=function(e,t){var i=this.outer_zn,i=(null==i.zpp_inner_zn.wrap_a1&&i.zpp_inner_zn.setup_a1(),i.zpp_inner_zn.wrap_a1),n=this.outer_zn,r=(null==n.zpp_inner_zn.wrap_a2&&n.zpp_inner_zn.setup_a2(),new B(null,null,i,n.zpp_inner_zn.wrap_a2));if(this.copyto(r),null!=e&&null!=this.b1){for(var o=null,a=0;a<e.length;){var s=e[a];if(++a,s.id==this.b1.id){o=s.bc;break}}null!=o?r.zpp_inner_zn.b1=o.zpp_inner:t.push(Ue.todo(this.b1.id,function(e){r.zpp_inner_zn.b1=e.zpp_inner}))}if(null!=e&&null!=this.b2){for(var p=null,l=0;l<e.length;){var h=e[l];if(++l,h.id==this.b2.id){p=h.bc;break}}null!=p?r.zpp_inner_zn.b2=p.zpp_inner:t.push(Ue.todo(this.b2.id,function(e){r.zpp_inner_zn.b2=e.zpp_inner}))}return r},gt.prototype.validate=function(){if(null==this.b1||null==this.b2)throw new c("Error: AngleJoint cannot be simulated null bodies");if(this.b1==this.b2)throw new c("Error: WeldJoint cannot be simulated with body1 == body2");if(this.b1.space!=this.space||this.b2.space!=this.space)throw new c("Error: Constraints must have each body within the same space to which the constraint has been assigned");if(2!=this.b1.type&&2!=this.b2.type)throw new c("Error: Constraints cannot have both bodies non-dynamic")},gt.prototype.wake_connected=function(){null!=this.b1&&2==this.b1.type&&this.b1.wake(),null!=this.b2&&2==this.b2.type&&this.b2.wake()},gt.prototype.forest=function(){if(2==this.b1.type){var e,t;if(this.b1.component==this.b1.component.parent)e=this.b1.component;else{for(var i=this.b1.component,n=null;i!=i.parent;){var r=i.parent;i.parent=n,n=i,i=r}for(;null!=n;){var o=n.parent;n.parent=i,n=o}e=i}if(this.component==this.component.parent)t=this.component;else{for(var a=this.component,s=null;a!=a.parent;){var p=a.parent;a.parent=s,s=a,a=p}for(;null!=s;){var l=s.parent;s.parent=a,s=l}t=a}e!=t&&(e.rank<t.rank?e.parent=t:e.rank>t.rank?t.parent=e:(t.parent=e).rank++)}if(2==this.b2.type){var h,u;if(this.b2.component==this.b2.component.parent)h=this.b2.component;else{for(var d=this.b2.component,c=null;d!=d.parent;){var m=d.parent;d.parent=c,c=d,d=m}for(;null!=c;){var y=c.parent;c.parent=d,c=y}h=d}if(this.component==this.component.parent)u=this.component;else{for(var _=this.component,x=null;_!=_.parent;){var f=_.parent;_.parent=x,x=_,_=f}for(;null!=x;){var g=x.parent;x.parent=_,x=g}u=_}h!=u&&(h.rank<u.rank?h.parent=u:h.rank>u.rank?u.parent=h:(u.parent=h).rank++)}},gt.prototype.pair_exists=function(e,t){return this.b1.id==e&&this.b2.id==t||this.b1.id==t&&this.b2.id==e},gt.prototype.clearcache=function(){this.jAccx=0,this.jAccy=0,this.jAccz=0,this.pre_dt=-1},gt.prototype.preStep=function(e){-1==this.pre_dt&&(this.pre_dt=e);var t=e/this.pre_dt,i=(this.pre_dt=e,this.stepped=!0,this.a1relx=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,this.a1rely=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,this.a2relx=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,this.a2rely=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,this.b1.smass+this.b2.smass),i=(this.kMassa=i,this.kMassb=0,this.kMassd=i,this.kMassc=0,this.kMasse=0,(this.kMassf=0)!=this.b1.sinertia&&(i=this.a1relx*this.b1.sinertia,a=this.a1rely*this.b1.sinertia,this.kMassa+=a*this.a1rely,this.kMassb+=-a*this.a1relx,this.kMassd+=i*this.a1relx,this.kMassc+=-a,this.kMasse+=i,this.kMassf+=this.b1.sinertia),0!=this.b2.sinertia&&(a=this.a2relx*this.b2.sinertia,i=this.a2rely*this.b2.sinertia,this.kMassa+=i*this.a2rely,this.kMassb+=-i*this.a2relx,this.kMassd+=a*this.a2relx,this.kMassc+=-i,this.kMasse+=a,this.kMassf+=this.b2.sinertia),this.kMassa*(this.kMassd*this.kMassf-this.kMasse*this.kMasse)+this.kMassb*(this.kMassc*this.kMasse-this.kMassb*this.kMassf)+this.kMassc*(this.kMassb*this.kMasse-this.kMassc*this.kMassd));if(0!=(1&(a=i!=i?(this.kMassa=0,this.kMassb=0,this.kMassd=0,this.kMassc=0,this.kMasse=0,this.kMassf=0,7):0==i?((a=0)!=this.kMassa?this.kMassa=1/this.kMassa:(this.kMassa=0,a=1),0!=this.kMassd?this.kMassd=1/this.kMassd:(this.kMassd=0,a|=2),0!=this.kMassf?this.kMassf=1/this.kMassf:(this.kMassf=0,a|=4),this.kMassb=this.kMassc=this.kMasse=0,a):(a=(i=1/i)*(this.kMassd*this.kMassf-this.kMasse*this.kMasse),n=i*(this.kMasse*this.kMassc-this.kMassb*this.kMassf),r=i*(this.kMassa*this.kMassf-this.kMassc*this.kMassc),o=i*(this.kMassb*this.kMasse-this.kMassc*this.kMassd),s=i*(this.kMassb*this.kMassc-this.kMassa*this.kMasse),p=this.kMassa*this.kMassd-this.kMassb*this.kMassb,this.kMassa=a,this.kMassb=n,this.kMassd=r,this.kMassc=o,this.kMasse=s,this.kMassf=i*p,0)))&&(this.jAccx=0),0!=(2&a)&&(this.jAccy=0),0!=(4&a)&&(this.jAccz=0),this.stiff)this.biasx=0,this.biasy=0,this.biasz=0,this.gamma=0;else{var n=2*Math.PI*this.frequency,r=(this.gamma=1/(e*n*(2*this.damping+n*e)),1/(1+this.gamma)),o=e*n*n*this.gamma;if(this.gamma*=r,this.kMassa*=r,this.kMassb*=r,this.kMassd*=r,this.kMassc*=r,this.kMasse*=r,this.kMassf*=r,this.biasx=this.b2.posx+this.a2relx-(this.b1.posx+this.a1relx),this.biasy=this.b2.posy+this.a2rely-(this.b1.posy+this.a1rely),this.biasz=this.b2.rot-this.b1.rot-this.phase,this.breakUnderError&&this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz>this.maxError*this.maxError)return!0;var a,s=-o,i=(this.biasx*=s,this.biasy*=s,this.biasz*=s,this.maxError),p=this.biasx*this.biasx+this.biasy*this.biasy+this.biasz*this.biasz;i*i<p&&(a=i*(1/Math.sqrt(p)),this.biasx*=a,this.biasy*=a,this.biasz*=a)}return this.jAccx*=t,this.jAccy*=t,this.jAccz*=t,this.jMax=this.maxForce*e,!1},gt.prototype.warmStart=function(){var e=this.b1.imass,e=(this.b1.velx-=this.jAccx*e,this.b1.vely-=this.jAccy*e,this.b2.imass);this.b2.velx+=this.jAccx*e,this.b2.vely+=this.jAccy*e,this.b1.angvel-=(this.jAccy*this.a1relx-this.jAccx*this.a1rely+this.jAccz)*this.b1.iinertia,this.b2.angvel+=(this.jAccy*this.a2relx-this.jAccx*this.a2rely+this.jAccz)*this.b2.iinertia},gt.prototype.applyImpulseVel=function(){var e=this.b2.velx+this.b2.kinvelx-this.a2rely*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.a1rely*(this.b1.angvel+this.b1.kinangvel)),t=this.b2.vely+this.b2.kinvely+this.a2relx*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.a1relx*(this.b1.angvel+this.b1.kinangvel)),i=this.b2.angvel+this.b2.kinangvel-this.b1.angvel-this.b1.kinangvel,e=this.biasx-e,t=this.biasy-t,i=this.biasz-i,n=this.kMassa*e+this.kMassb*t+this.kMassc*i,r=this.kMassb*e+this.kMassd*t+this.kMasse*i,n=(i=this.kMassc*e+this.kMasse*t+this.kMassf*i,e=n,t=r,this.gamma),r=(e-=this.jAccx*n,t-=this.jAccy*n,i-=this.jAccz*n,this.jAccx),n=this.jAccy,o=this.jAccz;if(this.jAccx+=e,this.jAccy+=t,this.jAccz+=i,this.breakUnderForce){if(this.jAccx*this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz>this.jMax*this.jMax)return!0}else this.stiff||(s=this.jMax)*s<(a=this.jAccx*this.jAccx+this.jAccy*this.jAccy+this.jAccz*this.jAccz)&&(s=s*(1/Math.sqrt(a)),this.jAccx*=s,this.jAccy*=s,this.jAccz*=s);e=this.jAccx-r,t=this.jAccy-n,i=this.jAccz-o;var a=this.b1.imass,s=(this.b1.velx-=e*a,this.b1.vely-=t*a,this.b2.imass);return this.b2.velx+=e*s,this.b2.vely+=t*s,this.b1.angvel-=(t*this.a1relx-e*this.a1rely+i)*this.b1.iinertia,this.b2.angvel+=(t*this.a2relx-e*this.a2rely+i)*this.b2.iinertia,!1},gt.prototype.applyImpulsePos=function(){var e=this.b1.axisy*this.a1localx-this.b1.axisx*this.a1localy,t=this.a1localx*this.b1.axisx+this.a1localy*this.b1.axisy,i=this.b2.axisy*this.a2localx-this.b2.axisx*this.a2localy,n=this.a2localx*this.b2.axisx+this.a2localy*this.b2.axisy,r=0,o=0,a=0,r=this.b2.posx+i-(this.b1.posx+e),o=this.b2.posy+n-(this.b1.posy+t),a=this.b2.rot-this.b1.rot-this.phase,s=0,p=0,l=0;if(this.breakUnderError&&r*r+o*o+a*a>this.maxError*this.maxError)return!0;var h=!0;r*r+o*o<ur.constraintLinearSlop*ur.constraintLinearSlop&&(h=!1,o=r=0);var u=ur.constraintAngularSlop;if(a*a<u*u){if(!h)return!1;a=0}a*=.5,6<(r*=.5)*r+(o*=.5)*o&&(u=this.b1.smass+this.b2.smass,ur.epsilon<u&&(400<(h=(s=-r*(u=.75/u))*s+(p=-o*u)*p)&&(s*=u=1/Math.sqrt(h)*20,p*=u),h=this.b1.imass,this.b1.posx-=s*h,this.b1.posy-=p*h,u=this.b2.imass,this.b2.posx+=s*u,this.b2.posy+=p*u,r=this.b2.posx+i-(this.b1.posx+e),o=this.b2.posy+n-(this.b1.posy+t),a=this.b2.rot-this.b1.rot-this.phase,r*=.5,o*=.5,a*=.5));var d,h=0,u=0,c=0,m=0,y=0,_=0,x=this.b1.smass+this.b2.smass,f=(c=h=x,(_=y=m=u=0)!=this.b1.sinertia&&(f=e*this.b1.sinertia,h=x+(d=t*this.b1.sinertia)*t,u+=-d*e,c=x+f*e,m+=-d,y+=f,_+=this.b1.sinertia),0!=this.b2.sinertia&&(x=i*this.b2.sinertia,h+=(d=n*this.b2.sinertia)*n,u+=-d*i,c+=x*i,m+=-d,y+=x,_+=this.b2.sinertia),l=-a,(s=-r)*s+(p=-o)*p),x=(36<f&&(s*=d=1/Math.sqrt(f)*6,p*=d),h*(c*_-y*y)+u*(m*y-u*_)+m*(u*y-m*c)),a=(x!=x?s=p=l=0:0==x?(0!=h?s/=h:s=0,0!=c?p/=c:p=0,0!=_?l/=_:l=0):(o=(x=1/x)*(s*(c*_-y*y)+p*(a=y*m-u*_)+l*(r=u*y-m*c)),d=x*(s*a+p*(h*_-m*m)+l*(f=u*m-h*y)),l=x*(s*r+p*f+l*(h*c-u*u)),s=o,p=d),this.b1.imass),_=(this.b1.posx-=s*a,this.b1.posy-=p*a,this.b2.imass),m=(this.b2.posx+=s*_,this.b2.posy+=p*_,this.b1),y=-(p*e-s*t+l)*this.b1.iinertia,c=(m.rot+=y,1e-4<y*y?(m.axisx=Math.sin(m.rot),m.axisy=Math.cos(m.rot)):(h=((r=1-.5*(x=y*y))*m.axisx+y*m.axisy)*(f=1-x*x/8),m.axisy=(r*m.axisy-y*m.axisx)*f,m.axisx=h),this.b2),u=(p*i-s*n+l)*this.b2.iinertia;return c.rot+=u,1e-4<u*u?(c.axisx=Math.sin(c.rot),c.axisy=Math.cos(c.rot)):(_=((d=1-.5*(o=u*u))*c.axisx+u*c.axisy)*(a=1-o*o/8),c.axisy=(d*c.axisy-u*c.axisx)*a,c.axisx=_),!1},gt.prototype.draw=function(e){},gt.prototype.__class__=gt,zpp_nape.dynamics.ZPP_Arbiter=function(){this.sensorarb=null,this.fluidarb=null,this.colarb=null,this.type=0,this.pair=null,this.ws2=null,this.ws1=null,this.b2=null,this.b1=null,this.invalidated=!1,this.immState=0,this.fresh=!1,this.continuous=!1,this.presentable=!1,this.intchange=!1,this.present=0,this.sleeping=!1,this.cleared=!1,this.active=!1,this.endGenerated=0,this.sleep_stamp=0,this.up_stamp=0,this.stamp=0,this.di=0,this.id=0,this.hnext=null,this.outer=null}),Dn=(Rt.__name__=["zpp_nape","dynamics","ZPP_Arbiter"],Rt.prototype.outer=null,Rt.prototype.wrapper=function(){return null==this.outer&&(Rt.internal=!0,this.type==Rt.COL?(this.colarb.outer_zn=new F,this.outer=this.colarb.outer_zn):this.type==Rt.FLUID?(this.fluidarb.outer_zn=new H,this.outer=this.fluidarb.outer_zn):this.outer=new L,this.outer.zpp_inner=this,Rt.internal=!1),this.outer},Rt.prototype.inactiveme=function(){return!this.active},Rt.prototype.hnext=null,Rt.prototype.id=null,Rt.prototype.di=null,Rt.prototype.stamp=null,Rt.prototype.up_stamp=null,Rt.prototype.sleep_stamp=null,Rt.prototype.endGenerated=null,Rt.prototype.active=null,Rt.prototype.cleared=null,Rt.prototype.sleeping=null,Rt.prototype.present=null,Rt.prototype.intchange=null,Rt.prototype.presentable=null,Rt.prototype.continuous=null,Rt.prototype.fresh=null,Rt.prototype.immState=null,Rt.prototype.acting=function(){return!!this.active&&0!=(1&this.immState)},Rt.prototype.invalidated=null,Rt.prototype.b1=null,Rt.prototype.b2=null,Rt.prototype.ws1=null,Rt.prototype.ws2=null,Rt.prototype.pair=null,Rt.prototype.swap_features=function(){var e=this.b1,e=(this.b1=this.b2,this.b2=e,this.ws1),e=(this.ws1=this.ws2,this.ws2=e,this.colarb.s1);this.colarb.s1=this.colarb.s2,this.colarb.s2=e},Rt.prototype.type=null,Rt.prototype.colarb=null,Rt.prototype.fluidarb=null,Rt.prototype.sensorarb=null,Rt.prototype.lazyRetire=function(e,t){if(this.cleared=!0,null==t||this.b2==t)for(var i=this.b1.arbiters,n=null,r=i.head;null!=r;){if(r.elt==this){null==n?(a=(o=i.head).next,i.head=a,null==i.head&&(i.pushmod=!0)):(a=(o=n.next).next,null==(n.next=a)&&(i.pushmod=!0));var o,a,s=o;s.elt=null,s.next=En.zpp_pool,En.zpp_pool=s,i.modified=!0,i.length--,i.pushmod=!0;break}r=(n=r).next}if(null==t||this.b1==t)for(var p=this.b2.arbiters,l=null,h=p.head;null!=h;){if(h.elt==this){null==l?(d=(u=p.head).next,p.head=d,null==p.head&&(p.pushmod=!0)):(d=(u=l.next).next,null==(l.next=d)&&(p.pushmod=!0));var u,d,c=u;c.elt=null,c.next=En.zpp_pool,En.zpp_pool=c,p.modified=!0,p.length--,p.pushmod=!0;break}h=(l=h).next}null!=this.pair&&(this.pair.arb=null,this.pair=null),this.active=!1,e.f_arbiters.modified=!0},Rt.prototype.sup_assign=function(e,t,i,n){this.b1=e.body,this.ws1=e,this.b2=t.body,this.ws2=t,this.id=i,this.di=n;var r,o,e=this.b1.arbiters,t=(null==En.zpp_pool?r=new En:(r=En.zpp_pool,En.zpp_pool=r.next,r.next=null),r.elt=this,r),i=(t.next=e.head,e.head=t,e.modified=!0,e.length++,this.b2.arbiters),n=(null==En.zpp_pool?o=new En:(o=En.zpp_pool,En.zpp_pool=o.next,o.next=null),o.elt=this,o);n.next=i.head,i.head=n,i.modified=!0,i.length++,this.active=!0,this.present=0,this.cleared=!1,this.sleeping=!1,this.fresh=!1,this.presentable=!1},Rt.prototype.sup_retire=function(){if(!this.cleared){for(var e=this.b1.arbiters,t=null,i=e.head;null!=i;){if(i.elt==this){null==t?(r=(n=e.head).next,e.head=r,null==e.head&&(e.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(e.pushmod=!0));var n,r,o=n;o.elt=null,o.next=En.zpp_pool,En.zpp_pool=o,e.modified=!0,e.length--,e.pushmod=!0;break}i=(t=i).next}for(var a=this.b2.arbiters,s=null,p=a.head;null!=p;){if(p.elt==this){null==s?(h=(l=a.head).next,a.head=h,null==a.head&&(a.pushmod=!0)):(h=(l=s.next).next,null==(s.next=h)&&(a.pushmod=!0));var l,h,u=l;u.elt=null,u.next=En.zpp_pool,En.zpp_pool=u,a.modified=!0,a.length--,a.pushmod=!0;break}p=(s=p).next}null!=this.pair&&(this.pair.arb=null,this.pair=null)}this.b1=this.b2=null,this.active=!1,this.intchange=!1},Rt.prototype.__class__=Rt,zpp_nape.dynamics.ZPP_SensorArbiter=function(){this.next=null,Rt.call(this),this.type=Rt.SENSOR,this.sensorarb=this}),Rn=(Dn.__name__=["zpp_nape","dynamics","ZPP_SensorArbiter"],Dn.__super__=Rt,Dn.prototype=Object.create(Rt.prototype),Dn.prototype.next=null,Dn.prototype.alloc=function(){},Dn.prototype.free=function(){},Dn.prototype.assign=function(e,t,i,n){this.b1=e.body,this.ws1=e,this.b2=t.body,this.ws2=t,this.id=i,this.di=n;var r,o,e=this.b1.arbiters,t=(null==En.zpp_pool?r=new En:(r=En.zpp_pool,En.zpp_pool=r.next,r.next=null),r.elt=this,r),i=(t.next=e.head,e.head=t,e.modified=!0,e.length++,this.b2.arbiters),n=(null==En.zpp_pool?o=new En:(o=En.zpp_pool,En.zpp_pool=o.next,o.next=null),o.elt=this,o);n.next=i.head,i.head=n,i.modified=!0,i.length++,this.active=!0,this.present=0,this.cleared=!1,this.sleeping=!1,this.fresh=!1,this.presentable=!1},Dn.prototype.retire=function(){if(!this.cleared){for(var e=this.b1.arbiters,t=null,i=e.head;null!=i;){if(i.elt==this){null==t?(r=(n=e.head).next,e.head=r,null==e.head&&(e.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(e.pushmod=!0));var n,r,o=n;o.elt=null,o.next=En.zpp_pool,En.zpp_pool=o,e.modified=!0,e.length--,e.pushmod=!0;break}i=(t=i).next}for(var a=this.b2.arbiters,s=null,p=a.head;null!=p;){if(p.elt==this){null==s?(h=(l=a.head).next,a.head=h,null==a.head&&(a.pushmod=!0)):(h=(l=s.next).next,null==(s.next=h)&&(a.pushmod=!0));var l,h,u=l;u.elt=null,u.next=En.zpp_pool,En.zpp_pool=u,a.modified=!0,a.length--,a.pushmod=!0;break}p=(s=p).next}null!=this.pair&&(this.pair.arb=null,this.pair=null)}this.b1=this.b2=null,this.active=!1,this.intchange=!1;this.next=Dn.zpp_pool,Dn.zpp_pool=this},Dn.prototype.makemutable=function(){},Dn.prototype.makeimmutable=function(){},Dn.prototype.__class__=Dn,zpp_nape.dynamics.ZPP_FluidArbiter=function(){this.pre_dt=0,this.mutable=!1,this.wrap_position=null,this.buoyy=0,this.buoyx=0,this.ny=0,this.nx=0,this.lgamma=0,this.dampy=0,this.dampx=0,this.vMassc=0,this.vMassb=0,this.vMassa=0,this.agamma=0,this.adamp=0,this.wMass=0,this.nodrag=!1,this.r2y=0,this.r2x=0,this.r1y=0,this.r1x=0,this.overlap=0,this.centroidy=0,this.centroidx=0,this.next=null,this.outer_zn=null,Rt.call(this),this.type=Rt.FLUID,(this.fluidarb=this).buoyx=0,this.buoyy=0,this.pre_dt=-1}),Gn=(Rn.__name__=["zpp_nape","dynamics","ZPP_FluidArbiter"],Rn.__super__=Rt,Rn.prototype=Object.create(Rt.prototype),Rn.prototype.outer_zn=null,Rn.prototype.next=null,Rn.prototype.alloc=function(){},Rn.prototype.free=function(){},Rn.prototype.centroidx=null,Rn.prototype.centroidy=null,Rn.prototype.overlap=null,Rn.prototype.r1x=null,Rn.prototype.r1y=null,Rn.prototype.r2x=null,Rn.prototype.r2y=null,Rn.prototype.nodrag=null,Rn.prototype.wMass=null,Rn.prototype.adamp=null,Rn.prototype.agamma=null,Rn.prototype.vMassa=null,Rn.prototype.vMassb=null,Rn.prototype.vMassc=null,Rn.prototype.dampx=null,Rn.prototype.dampy=null,Rn.prototype.lgamma=null,Rn.prototype.nx=null,Rn.prototype.ny=null,Rn.prototype.buoyx=null,Rn.prototype.buoyy=null,Rn.prototype.position_validate=function(){this.wrap_position.zpp_inner.x=this.centroidx,this.wrap_position.zpp_inner.y=this.centroidy},Rn.prototype.position_invalidate=function(e){this.centroidx=e.x,this.centroidy=e.y},Rn.prototype.wrap_position=null,Rn.prototype.getposition=function(){var e,t;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=0,t.y=0,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),0==e.zpp_inner.x&&(null!=(t=e.zpp_inner)._validate&&t._validate(),0==e.zpp_inner.y)||(e.zpp_inner.x=0,e.zpp_inner.y=0,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_position=e,this.wrap_position.zpp_inner._inuse=!0,this.wrap_position.zpp_inner._immutable=!this.mutable,this.wrap_position.zpp_inner._validate=Z(this,this.position_validate),this.wrap_position.zpp_inner._invalidate=Z(this,this.position_invalidate)},Rn.prototype.assign=function(e,t,i,n){this.b1=e.body,this.ws1=e,this.b2=t.body,this.ws2=t,this.id=i,this.di=n;var r,o,e=this.b1.arbiters,t=(null==En.zpp_pool?r=new En:(r=En.zpp_pool,En.zpp_pool=r.next,r.next=null),r.elt=this,r),i=(t.next=e.head,e.head=t,e.modified=!0,e.length++,this.b2.arbiters),n=(null==En.zpp_pool?o=new En:(o=En.zpp_pool,En.zpp_pool=o.next,o.next=null),o.elt=this,o);n.next=i.head,i.head=n,i.modified=!0,i.length++,this.active=!0,this.present=0,this.cleared=!1,this.sleeping=!1,this.fresh=!1,this.presentable=!1,this.nx=0,this.ny=1,this.dampx=0,this.dampy=0,this.adamp=0},Rn.prototype.retire=function(){if(!this.cleared){for(var e=this.b1.arbiters,t=null,i=e.head;null!=i;){if(i.elt==this){null==t?(r=(n=e.head).next,e.head=r,null==e.head&&(e.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(e.pushmod=!0));var n,r,o=n;o.elt=null,o.next=En.zpp_pool,En.zpp_pool=o,e.modified=!0,e.length--,e.pushmod=!0;break}i=(t=i).next}for(var a=this.b2.arbiters,s=null,p=a.head;null!=p;){if(p.elt==this){null==s?(h=(l=a.head).next,a.head=h,null==a.head&&(a.pushmod=!0)):(h=(l=s.next).next,null==(s.next=h)&&(a.pushmod=!0));var l,h,u=l;u.elt=null,u.next=En.zpp_pool,En.zpp_pool=u,a.modified=!0,a.length--,a.pushmod=!0;break}p=(s=p).next}null!=this.pair&&(this.pair.arb=null,this.pair=null)}this.b1=this.b2=null,this.active=!1,this.intchange=!1;this.next=Rn.zpp_pool,(Rn.zpp_pool=this).pre_dt=-1},Rn.prototype.mutable=null,Rn.prototype.makemutable=function(){this.mutable=!0,null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!1)},Rn.prototype.makeimmutable=function(){this.mutable=!1,null!=this.wrap_position&&(this.wrap_position.zpp_inner._immutable=!0)},Rn.prototype.inject=function(e,t,i){this.overlap=e,this.centroidx=t,this.centroidy=i},Rn.prototype.pre_dt=null,Rn.prototype.preStep=function(e,t){-1==this.pre_dt&&(this.pre_dt=t);var i=t/this.pre_dt,n=(this.pre_dt=t,this.r1x=this.centroidx-this.b1.posx,this.r1y=this.centroidy-this.b1.posy,this.r2x=this.centroidx-this.b2.posx,this.r2y=this.centroidy-this.b2.posy,0),r=0,r=this.ws1.fluidEnabled&&null!=this.ws1.fluidProperties.wrap_gravity?(n=this.ws1.fluidProperties.gravityx,this.ws1.fluidProperties.gravityy):(n=e.gravityx,e.gravityy),o=0,a=0,a=this.ws2.fluidEnabled&&null!=this.ws2.fluidProperties.wrap_gravity?(o=this.ws2.fluidProperties.gravityx,this.ws2.fluidProperties.gravityy):(o=e.gravityx,e.gravityy),e=0,s=0;if(this.ws1.fluidEnabled&&this.ws2.fluidEnabled?(h=this.overlap*this.ws1.fluidProperties.density,(d=this.overlap*this.ws2.fluidProperties.density)<h?(e-=n*(l=h+d),s-=r*l):h<d?(e+=o*(l=h+d),s+=a*l):(p=l=0,l=n+o,p=r+a,this.ws1.worldCOMx*(l*=.5)+this.ws1.worldCOMy*(p*=.5)>this.ws2.worldCOMx*l+this.ws2.worldCOMy*p?(e-=l*(u=h+d),s-=p*u):(e+=l*(u=h+d),s+=p*u))):this.ws1.fluidEnabled?(e-=n*(l=this.overlap*this.ws1.fluidProperties.density),s-=r*l):this.ws2.fluidEnabled&&(e+=o*(h=this.overlap*this.ws2.fluidProperties.density),s+=a*h),s*=t,this.buoyx=e*=t,this.buoyy=s,2==this.b1.type&&(d=this.b1.imass,this.b1.velx-=e*d,this.b1.vely-=s*d,this.b1.angvel-=(s*this.r1x-e*this.r1y)*this.b1.iinertia),2==this.b2.type&&(p=this.b2.imass,this.b2.velx+=e*p,this.b2.vely+=s*p,this.b2.angvel+=(s*this.r2x-e*this.r2y)*this.b2.iinertia),this.ws1.fluidEnabled&&0!=this.ws1.fluidProperties.viscosity||this.ws2.fluidEnabled&&0!=this.ws2.fluidProperties.viscosity){this.nodrag=!1;var p,l,h,u=0,o=(this.ws1.fluidEnabled&&(this.ws2.validate_angDrag(),u=this.ws1.fluidProperties.viscosity*this.ws2.angDrag*this.overlap/this.ws2.area),this.ws2.fluidEnabled&&(this.ws1.validate_angDrag(),u+=this.ws2.fluidProperties.viscosity*this.ws1.angDrag*this.overlap/this.ws1.area),0!=u?(n=this.b1.sinertia+this.b2.sinertia,this.wMass=0!=n?1/n:0,u*=4e-4,r=2*Math.PI*u,this.agamma=1/(t*r*(2+r*t)),l=1/(1+this.agamma),this.agamma*=l,this.wMass*=l):(this.wMass=0,this.agamma=0),this.b2.velx+this.b2.kinvelx-this.r2y*(this.b2.angvel+this.b2.kinangvel)-(this.b1.velx+this.b1.kinvelx-this.r1y*(this.b2.angvel+this.b2.kinangvel))),a=this.b2.vely+this.b2.kinvely+this.r2x*(this.b2.angvel+this.b2.kinangvel)-(this.b1.vely+this.b1.kinvely+this.r1x*(this.b1.angvel+this.b1.kinangvel)),d=(o*o+a*a<ur.epsilon*ur.epsilon||(a*=h=1/Math.sqrt(o*o+a*a),this.nx=o*=h,this.ny=a),0);if(this.ws1.fluidEnabled){var c=-this.ws1.fluidProperties.viscosity*this.overlap/this.ws2.area;if(0==this.ws2.type)d=0-c*this.ws2.circle.radius*ur.fluidLinearDrag/(2*this.ws2.circle.radius*Math.PI);else{for(var m=0,y=0,_=this.ws2.polygon.edges.head;null!=_;){var x=_.elt,x=(m+=x.length,c*x.length*(x.gnormx*this.nx+x.gnormy*this.ny));0<x&&(x*=-ur.fluidVacuumDrag),y-=.5*x*ur.fluidLinearDrag,_=_.next}d=y/m}}if(this.ws2.fluidEnabled){var f=-this.ws2.fluidProperties.viscosity*this.overlap/this.ws1.area;if(0==this.ws1.type)d-=f*this.ws1.circle.radius*ur.fluidLinearDrag/(2*this.ws1.circle.radius*Math.PI);else{for(var g=0,v=0,z=this.ws1.polygon.edges.head;null!=z;){var b=z.elt,b=(g+=b.length,f*b.length*(b.gnormx*this.nx+b.gnormy*this.ny));0<b&&(b*=-ur.fluidVacuumDrag),v-=.5*b*ur.fluidLinearDrag,z=z.next}d+=v/g}}0!=d?(e=s=p=0,e=p=n=this.b1.smass+this.b2.smass,(s=0)!=this.b1.sinertia&&(u=this.r1x*this.b1.sinertia,p=n+(r=this.r1y*this.b1.sinertia)*this.r1y,s+=-r*this.r1x,e=n+u*this.r1x),0!=this.b2.sinertia&&(l=this.r2x*this.b2.sinertia,p+=(h=this.r2y*this.b2.sinertia)*this.r2y,s+=-h*this.r2x,e+=l*this.r2x),(o=p*e-s*s)!=o?p=s=e=0:0==o?(p=0!=p?1/p:0,e=0!=e?1/e:0,s=0):(a=e*(o=1/o),e=p*o,p=a,s*=-o),this.vMassa=p,this.vMassb=s,this.vMassc=e,r=2*Math.PI*d,this.lgamma=1/(t*r*(2+r*t)),n=1/(1+this.lgamma),this.lgamma*=n,this.vMassa*=n,this.vMassb*=n,this.vMassc*=n):(this.vMassa=0,this.vMassb=0,this.vMassc=0,this.lgamma=0)}else this.nodrag=!0,this.dampx=0,this.dampy=0,this.adamp=0;this.dampx*=i,this.dampy*=i,this.adamp*=i},Rn.prototype.warmStart=function(){var e=this.b1.imass,e=(this.b1.velx-=this.dampx*e,this.b1.vely-=this.dampy*e,this.b2.imass);this.b2.velx+=this.dampx*e,this.b2.vely+=this.dampy*e,this.b1.angvel-=this.b1.iinertia*(this.dampy*this.r1x-this.dampx*this.r1y),this.b2.angvel+=this.b2.iinertia*(this.dampy*this.r2x-this.dampx*this.r2y),this.b1.angvel-=this.adamp*this.b1.iinertia,this.b2.angvel+=this.adamp*this.b2.iinertia},Rn.prototype.applyImpulseVel=function(){var e,t,i,n,r;this.nodrag||(e=this.b1.angvel+this.b1.kinangvel,t=this.b2.angvel+this.b2.kinangvel,n=this.b1.velx+this.b1.kinvelx-this.r1y*e-(this.b2.velx+this.b2.kinvelx-this.r2y*t),i=this.b1.vely+this.b1.kinvely+this.r1x*e-(this.b2.vely+this.b2.kinvely+this.r2x*t),r=this.vMassa*n+this.vMassb*i,i=this.vMassb*n+this.vMassc*i,n=r,r=this.lgamma,n-=this.dampx*r,i-=this.dampy*r,this.dampx+=n,this.dampy+=i,r=this.b1.imass,this.b1.velx-=n*r,this.b1.vely-=i*r,r=this.b2.imass,this.b2.velx+=n*r,this.b2.vely+=i*r,this.b1.angvel-=this.b1.iinertia*(i*this.r1x-n*this.r1y),this.b2.angvel+=this.b2.iinertia*(i*this.r2x-n*this.r2y),r=(e-t)*this.wMass-this.adamp*this.agamma,this.adamp+=r,this.b1.angvel-=r*this.b1.iinertia,this.b2.angvel+=r*this.b2.iinertia)},Rn.prototype.__class__=Rn,zpp_nape.dynamics.ZPP_ColArbiter=function(){this.pre_dt=0,this.mutable=!1,this.stat=!1,this.next=null,this.hpc2=!1,this.hc2=!1,this.oc2=null,this.c2=null,this.oc1=null,this.c1=null,this.__ref_vertex=0,this.__ref_edge2=null,this.__ref_edge1=null,this.biasCoef=0,this.rev=!1,this.radius=0,this.lproj=0,this.lnormy=0,this.lnormx=0,this.surfacey=0,this.surfacex=0,this.k2y=0,this.k2x=0,this.k1y=0,this.k1x=0,this.rt2b=0,this.rn2b=0,this.rt2a=0,this.rn2a=0,this.rt1b=0,this.rn1b=0,this.rt1a=0,this.rn1a=0,this.jrAcc=0,this.rMass=0,this.Kc=0,this.Kb=0,this.Ka=0,this.kMassc=0,this.kMassb=0,this.kMassa=0,this.wrap_normal=null,this.ny=0,this.nx=0,this.innards=null,this.wrap_contacts=null,this.contacts=null,this.s2=null,this.s1=null,this.userdef_rfric=!1,this.userdef_restitution=!1,this.userdef_stat_fric=!1,this.userdef_dyn_fric=!1,this.rfric=0,this.restitution=0,this.stat_fric=0,this.dyn_fric=0,this.outer_zn=null,Rt.call(this),this.pre_dt=-1,this.contacts=new An,this.innards=new vt,this.type=Rt.COL,this.colarb=this}),An=(Gn.__name__=["zpp_nape","dynamics","ZPP_ColArbiter"],Gn.__super__=Rt,Gn.prototype=Object.create(Rt.prototype),Gn.prototype.outer_zn=null,Gn.prototype.dyn_fric=null,Gn.prototype.stat_fric=null,Gn.prototype.restitution=null,Gn.prototype.rfric=null,Gn.prototype.userdef_dyn_fric=null,Gn.prototype.userdef_stat_fric=null,Gn.prototype.userdef_restitution=null,Gn.prototype.userdef_rfric=null,Gn.prototype.s1=null,Gn.prototype.s2=null,Gn.prototype.contacts=null,Gn.prototype.wrap_contacts=null,Gn.prototype.innards=null,Gn.prototype.nx=null,Gn.prototype.ny=null,Gn.prototype.normal_validate=function(){if(this.cleared)throw new c("Error: Arbiter not currently in use");this.wrap_normal.zpp_inner.x=this.nx,this.wrap_normal.zpp_inner.y=this.ny,this.ws1.id>this.ws2.id&&(this.wrap_normal.zpp_inner.x=-this.wrap_normal.zpp_inner.x,this.wrap_normal.zpp_inner.y=-this.wrap_normal.zpp_inner.y)},Gn.prototype.wrap_normal=null,Gn.prototype.getnormal=function(){var e,t;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=0,t.y=0,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),0==e.zpp_inner.x&&(null!=(t=e.zpp_inner)._validate&&t._validate(),0==e.zpp_inner.y)||(e.zpp_inner.x=0,e.zpp_inner.y=0,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_normal=e,this.wrap_normal.zpp_inner._immutable=!0,this.wrap_normal.zpp_inner._inuse=!0,this.wrap_normal.zpp_inner._validate=Z(this,this.normal_validate)},Gn.prototype.kMassa=null,Gn.prototype.kMassb=null,Gn.prototype.kMassc=null,Gn.prototype.Ka=null,Gn.prototype.Kb=null,Gn.prototype.Kc=null,Gn.prototype.rMass=null,Gn.prototype.jrAcc=null,Gn.prototype.rn1a=null,Gn.prototype.rt1a=null,Gn.prototype.rn1b=null,Gn.prototype.rt1b=null,Gn.prototype.rn2a=null,Gn.prototype.rt2a=null,Gn.prototype.rn2b=null,Gn.prototype.rt2b=null,Gn.prototype.k1x=null,Gn.prototype.k1y=null,Gn.prototype.k2x=null,Gn.prototype.k2y=null,Gn.prototype.surfacex=null,Gn.prototype.surfacey=null,Gn.prototype.ptype=null,Gn.prototype.lnormx=null,Gn.prototype.lnormy=null,Gn.prototype.lproj=null,Gn.prototype.radius=null,Gn.prototype.rev=null,Gn.prototype.biasCoef=null,Gn.prototype.__ref_edge1=null,Gn.prototype.__ref_edge2=null,Gn.prototype.__ref_vertex=null,Gn.prototype.c1=null,Gn.prototype.oc1=null,Gn.prototype.c2=null,Gn.prototype.oc2=null,Gn.prototype.hc2=null,Gn.prototype.hpc2=null,Gn.prototype.next=null,Gn.prototype.alloc=function(){},Gn.prototype.free=function(){this.userdef_dyn_fric=!1,this.userdef_stat_fric=!1,this.userdef_restitution=!1,this.userdef_rfric=!1,this.__ref_edge1=this.__ref_edge2=null},Gn.prototype.stat=null,Gn.prototype.injectContact=function(e,t,i,n,r,o,a){null==a&&(a=!1);for(var s,p,l,h=null,u=this.contacts.next;null!=u;){var d=u;if(o==d.hash){h=d;break}u=u.next}return null==h?(null==An.zpp_pool?h=new An:(h=An.zpp_pool,An.zpp_pool=h.next,h.next=null),(s=h.inner).jnAcc=s.jtAcc=0,h.hash=o,h.fresh=!0,(h.arbiter=this).jrAcc=0,p=this.contacts,h._inuse=!0,(l=h).next=p.next,p.next=l,p.modified=!0,p.length++,this.innards.add(s)):h.fresh=!1,h.px=e,h.py=t,this.nx=i,this.ny=n,h.dist=r,h.stamp=this.stamp,h.posOnly=a,h},Gn.prototype.assign=function(e,t,i,n){this.b1=e.body,this.ws1=e,this.b2=t.body,this.ws2=t,this.id=i,this.di=n;var r,i=this.b1.arbiters,n=(null==En.zpp_pool?o=new En:(o=En.zpp_pool,En.zpp_pool=o.next,o.next=null),o.elt=this,o),o=(n.next=i.head,i.head=n,i.modified=!0,i.length++,this.b2.arbiters),n=(null==En.zpp_pool?r=new En:(r=En.zpp_pool,En.zpp_pool=r.next,r.next=null),r.elt=this,r);n.next=o.head,o.head=n,o.modified=!0,o.length++,this.active=!0,this.present=0,this.cleared=!1,this.sleeping=!1,this.fresh=!1,this.presentable=!1,this.s1=e,this.s2=t,this.userdef_restitution||(this.s1.material.elasticity<=-1/0||this.s2.material.elasticity<=-1/0?this.restitution=0:this.s1.material.elasticity>=1/0||this.s2.material.elasticity>=1/0?this.restitution=1:this.restitution=(this.s1.material.elasticity+this.s2.material.elasticity)/2,this.restitution<0&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},Gn.prototype.calcProperties=function(){this.userdef_restitution||(this.s1.material.elasticity<=-1/0||this.s2.material.elasticity<=-1/0?this.restitution=0:this.s1.material.elasticity>=1/0||this.s2.material.elasticity>=1/0?this.restitution=1:this.restitution=(this.s1.material.elasticity+this.s2.material.elasticity)/2,this.restitution<0&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))},Gn.prototype.validate_props=function(){this.invalidated&&(this.invalidated=!1,this.userdef_restitution||(this.s1.material.elasticity<=-1/0||this.s2.material.elasticity<=-1/0?this.restitution=0:this.s1.material.elasticity>=1/0||this.s2.material.elasticity>=1/0?this.restitution=1:this.restitution=(this.s1.material.elasticity+this.s2.material.elasticity)/2,this.restitution<0&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction)))},Gn.prototype.retire=function(){if(!this.cleared){for(var e=this.b1.arbiters,t=null,i=e.head;null!=i;){if(i.elt==this){null==t?(r=(n=e.head).next,e.head=r,null==e.head&&(e.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(e.pushmod=!0));var n,r,o=n;o.elt=null,o.next=En.zpp_pool,En.zpp_pool=o,e.modified=!0,e.length--,e.pushmod=!0;break}i=(t=i).next}for(var a=this.b2.arbiters,s=null,p=a.head;null!=p;){if(p.elt==this){null==s?(h=(l=a.head).next,a.head=h,null==a.head&&(a.pushmod=!0)):(h=(l=s.next).next,null==(s.next=h)&&(a.pushmod=!0));var l,h,u=l;u.elt=null,u.next=En.zpp_pool,En.zpp_pool=u,a.modified=!0,a.length--,a.pushmod=!0;break}p=(s=p).next}null!=this.pair&&(this.pair.arb=null,this.pair=null)}for(this.b1=this.b2=null,this.active=!1,this.intchange=!1;null!=this.contacts.next;){var d=this.contacts,c=d.next,d=(d.pop(),c.arbiter=null,c.next=An.zpp_pool,An.zpp_pool=c,this.innards),c=d.next;d.next=c.next,c._inuse=!1,null==d.next&&(d.pushmod=!0),d.modified=!0,d.length--}this.userdef_dyn_fric=!1,this.userdef_stat_fric=!1,this.userdef_restitution=!1,this.userdef_rfric=!1,this.__ref_edge1=this.__ref_edge2=null,this.next=Gn.zpp_pool,(Gn.zpp_pool=this).pre_dt=-1},Gn.prototype.mutable=null,Gn.prototype.makemutable=function(){this.mutable=!0,null!=this.wrap_normal&&(this.wrap_normal.zpp_inner._immutable=!1),null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=!1)},Gn.prototype.makeimmutable=function(){this.mutable=!1,null!=this.wrap_normal&&(this.wrap_normal.zpp_inner._immutable=!0),null!=this.wrap_contacts&&(this.wrap_contacts.zpp_inner.immutable=!0)},Gn.prototype.contacts_adder=function(e){return!1},Gn.prototype.contacts_subber=function(e){for(var t=null,i=null,n=this.innards.next,r=this.contacts.next;null!=r;){var o=r;if(o==e.zpp_inner){this.contacts.erase(t),this.innards.erase(i),o.arbiter=null,o.next=An.zpp_pool,An.zpp_pool=o;break}t=r,n=(i=n).next,r=r.next}},Gn.prototype.setupcontacts=function(){this.wrap_contacts=lr.get(this.contacts,!0),this.wrap_contacts.zpp_inner.immutable=!this.mutable,this.wrap_contacts.zpp_inner.adder=Z(this,this.contacts_adder),this.wrap_contacts.zpp_inner.dontremove=!0,this.wrap_contacts.zpp_inner.subber=Z(this,this.contacts_subber)},Gn.prototype.cleanupContacts=function(){for(var e,t=!0,i=null,n=null,r=this.innards.next,o=(this.hc2=!1,this.contacts.next);null!=o;){var a,s,p,l,h,u,d=o;d.stamp+ur.arbiterExpirationDelay<this.stamp?(h=this.contacts,h=(null==i?(s=(a=h.next).next,h.next=s,null==h.next&&(h.pushmod=!0)):(s=(a=i.next).next,null==(i.next=s)&&(h.pushmod=!0)),a._inuse=!1,h.modified=!0,h.length--,h.pushmod=!0,o=s,this.innards),null==n?(l=(p=h.next).next,h.next=l,null==h.next&&(h.pushmod=!0)):(l=(p=n.next).next,null==(n.next=l)&&(h.pushmod=!0)),p._inuse=!1,h.modified=!0,h.length--,h.pushmod=!0,r=l,d.arbiter=null,d.next=An.zpp_pool,An.zpp_pool=d):(h=d.inner,u=d.active,d.active=d.stamp==this.stamp,d.active&&(t?(t=!1,this.c1=h,this.oc1=d):(this.hc2=!0,this.c2=h,this.oc2=d)),u!=d.active&&(this.contacts.modified=!0),i=o,r=(n=r).next,o=o.next)}return this.hc2?(this.hpc2=!0,this.oc1.posOnly?(e=this.c1,this.c1=this.c2,this.c2=e,e=this.oc1,this.oc1=this.oc2,this.oc2=e,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&(t=!0)):this.hpc2=!1,t},Gn.prototype.pre_dt=null,Gn.prototype.preStep=function(e){this.invalidated&&(this.invalidated=!1,this.userdef_restitution||(this.s1.material.elasticity<=-1/0||this.s2.material.elasticity<=-1/0?this.restitution=0:this.s1.material.elasticity>=1/0||this.s2.material.elasticity>=1/0?this.restitution=1:this.restitution=(this.s1.material.elasticity+this.s2.material.elasticity)/2,this.restitution<0&&(this.restitution=0),1<this.restitution&&(this.restitution=1)),this.userdef_dyn_fric||(this.dyn_fric=Math.sqrt(this.s1.material.dynamicFriction*this.s2.material.dynamicFriction)),this.userdef_stat_fric||(this.stat_fric=Math.sqrt(this.s1.material.staticFriction*this.s2.material.staticFriction)),this.userdef_rfric||(this.rfric=Math.sqrt(this.s1.material.rollingFriction*this.s2.material.rollingFriction))),-1==this.pre_dt&&(this.pre_dt=e);for(var t,i=e/this.pre_dt,n=(this.pre_dt=e,this.b1.smass+this.b2.smass),r=!(this.hc2=!1),o=(this.biasCoef=2!=this.b1.type||2!=this.b2.type?this.continuous?ur.contactContinuousStaticBiasCoef:ur.contactStaticBiasCoef:this.continuous?ur.contactContinuousBiasCoef:ur.contactBiasCoef,this.continuous=!1,null),a=null,s=this.innards.next,p=this.contacts.next;null!=p;){var l,h,u,d,c,m,y,_,x,f=p;f.stamp+ur.arbiterExpirationDelay<this.stamp?(c=this.contacts,c=(null==o?(h=(l=c.next).next,c.next=h,null==c.next&&(c.pushmod=!0)):(h=(l=o.next).next,null==(o.next=h)&&(c.pushmod=!0)),l._inuse=!1,c.modified=!0,c.length--,c.pushmod=!0,p=h,this.innards),null==a?(d=(u=c.next).next,c.next=d,null==c.next&&(c.pushmod=!0)):(d=(u=a.next).next,null==(a.next=d)&&(c.pushmod=!0)),u._inuse=!1,c.modified=!0,c.length--,c.pushmod=!0,s=d,f.arbiter=null,f.next=An.zpp_pool,An.zpp_pool=f):(c=f.inner,m=f.active,f.active=f.stamp==this.stamp,f.active&&(r?(r=!1,this.c1=c,this.oc1=f):(this.hc2=!0,this.c2=c,this.oc2=f),c.r2x=f.px-this.b2.posx,c.r2y=f.py-this.b2.posy,c.r1x=f.px-this.b1.posx,c.r1y=f.py-this.b1.posy,x=c.r2x*this.nx+c.r2y*this.ny,x=n+this.b2.sinertia*(x*x),y=c.r1x*this.nx+c.r1y*this.ny,x+=this.b1.sinertia*(y*y),c.tMass=x<ur.epsilon*ur.epsilon?0:1/x,y=this.ny*c.r2x-this.nx*c.r2y,x=n+this.b2.sinertia*(y*y),y=this.ny*c.r1x-this.nx*c.r1y,x+=this.b1.sinertia*(y*y),c.nMass=x<ur.epsilon*ur.epsilon?0:1/x,x=y=0,_=this.b2.angvel+this.b2.kinangvel,y=this.b2.velx+this.b2.kinvelx-c.r2y*_,x=this.b2.vely+this.b2.kinvely+c.r2x*_,_=this.b1.angvel+this.b1.kinangvel,y-=this.b1.velx+this.b1.kinvelx-c.r1y*_,x-=this.b1.vely+this.b1.kinvely+c.r1x*_,_=this.nx*y+this.ny*x,f.elasticity=this.restitution,c.bounce=_*f.elasticity,c.bounce>-ur.elasticThreshold&&(c.bounce=0),_=x*this.nx-y*this.ny,c.friction=(x=ur.staticFrictionThreshold)*x<_*_?this.dyn_fric:this.stat_fric,c.jnAcc*=i,c.jtAcc*=i),m!=f.active&&(this.contacts.modified=!0),o=p,s=(a=s).next,p=p.next)}return this.hc2?(this.hpc2=!0,this.oc1.posOnly?(e=this.c1,this.c1=this.c2,this.c2=e,e=this.oc1,this.oc1=this.oc2,this.oc2=e,this.hc2=!1):this.oc2.posOnly&&(this.hc2=!1),this.oc1.posOnly&&(r=!0)):this.hpc2=!1,this.jrAcc*=i,r||(this.rn1a=this.ny*this.c1.r1x-this.nx*this.c1.r1y,this.rt1a=this.c1.r1x*this.nx+this.c1.r1y*this.ny,this.rn1b=this.ny*this.c1.r2x-this.nx*this.c1.r2y,this.rt1b=this.c1.r2x*this.nx+this.c1.r2y*this.ny,this.k1x=this.b2.kinvelx-this.c1.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c1.r1y*this.b1.kinangvel),this.k1y=this.b2.kinvely+this.c1.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c1.r1x*this.b1.kinangvel)),this.hc2&&(this.rn2a=this.ny*this.c2.r1x-this.nx*this.c2.r1y,this.rt2a=this.c2.r1x*this.nx+this.c2.r1y*this.ny,this.rn2b=this.ny*this.c2.r2x-this.nx*this.c2.r2y,this.rt2b=this.c2.r2x*this.nx+this.c2.r2y*this.ny,this.k2x=this.b2.kinvelx-this.c2.r2y*this.b2.kinangvel-(this.b1.kinvelx-this.c2.r1y*this.b1.kinangvel),this.k2y=this.b2.kinvely+this.c2.r2x*this.b2.kinangvel-(this.b1.kinvely+this.c2.r1x*this.b1.kinangvel),this.kMassa=n+this.b1.sinertia*this.rn1a*this.rn1a+this.b2.sinertia*this.rn1b*this.rn1b,this.kMassb=n+this.b1.sinertia*this.rn1a*this.rn2a+this.b2.sinertia*this.rn1b*this.rn2b,this.kMassc=n+this.b1.sinertia*this.rn2a*this.rn2a+this.b2.sinertia*this.rn2b*this.rn2b,this.kMassa*this.kMassa+2*this.kMassb*this.kMassb+this.kMassc*this.kMassc<ur.illConditionedThreshold*(this.kMassa*this.kMassc-this.kMassb*this.kMassb)?(this.Ka=this.kMassa,this.Kb=this.kMassb,this.Kc=this.kMassc,(e=this.kMassa*this.kMassc-this.kMassb*this.kMassb)!=e?this.kMassa=this.kMassb=this.kMassc=0:0==e?(0!=this.kMassa?this.kMassa=1/this.kMassa:this.kMassa=0,0!=this.kMassc?this.kMassc=1/this.kMassc:this.kMassc=0,this.kMassb=0):(t=this.kMassc*(e=1/e),this.kMassc=this.kMassa*e,this.kMassa=t,this.kMassb*=-e)):(this.hc2=!1,this.oc2.dist<this.oc1.dist&&(t=this.c1,this.c1=this.c2,this.c2=t),this.oc2.active=!1,this.contacts.modified=!0)),this.surfacex=this.b2.svelx,this.surfacey=this.b2.svely,this.surfacex+=this.b1.svelx,this.surfacey+=this.b1.svely,this.surfacex=-this.surfacex,this.surfacey=-this.surfacey,this.rMass=this.b1.sinertia+this.b2.sinertia,0!=this.rMass&&(this.rMass=1/this.rMass),r},Gn.prototype.warmStart=function(){var e=this.nx*this.c1.jnAcc-this.ny*this.c1.jtAcc,t=this.ny*this.c1.jnAcc+this.nx*this.c1.jtAcc,i=this.b1.imass,i=(this.b1.velx-=e*i,this.b1.vely-=t*i,this.b1.angvel-=this.b1.iinertia*(t*this.c1.r1x-e*this.c1.r1y),this.b2.imass);this.b2.velx+=e*i,this.b2.vely+=t*i,this.b2.angvel+=this.b2.iinertia*(t*this.c1.r2x-e*this.c1.r2y),this.hc2&&(i=this.nx*this.c2.jnAcc-this.ny*this.c2.jtAcc,t=this.ny*this.c2.jnAcc+this.nx*this.c2.jtAcc,e=this.b1.imass,this.b1.velx-=i*e,this.b1.vely-=t*e,this.b1.angvel-=this.b1.iinertia*(t*this.c2.r1x-i*this.c2.r1y),e=this.b2.imass,this.b2.velx+=i*e,this.b2.vely+=t*e,this.b2.angvel+=this.b2.iinertia*(t*this.c2.r2x-i*this.c2.r2y)),this.b2.angvel+=this.jrAcc*this.b2.iinertia,this.b1.angvel-=this.jrAcc*this.b1.iinertia},Gn.prototype.applyImpulseVel=function(){var e,t,i,n,r,o,a,s,p,l,h,u,d=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),c=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel);i=(c*this.nx-d*this.ny+this.surfacex)*this.c1.tMass,(n=this.c1.friction*this.c1.jnAcc)<(o=(r=this.c1.jtAcc)-i)?o=n:o<-n&&(o=-n),i=o-r,this.c1.jtAcc=o,e=-this.ny*i,t=this.nx*i,this.b2.velx+=e*this.b2.imass,this.b2.vely+=t*this.b2.imass,this.b1.velx-=e*this.b1.imass,this.b1.vely-=t*this.b1.imass,this.b2.angvel+=this.rt1b*i*this.b2.iinertia,this.b1.angvel-=this.rt1a*i*this.b1.iinertia,this.hc2?(l=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),i=((h=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel))*this.nx-l*this.ny+this.surfacex)*this.c2.tMass,(n=this.c2.friction*this.c2.jnAcc)<(o=(r=this.c2.jtAcc)-i)?o=n:o<-n&&(o=-n),i=o-r,this.c2.jtAcc=o,e=-this.ny*i,t=this.nx*i,this.b2.velx+=e*this.b2.imass,this.b2.vely+=t*this.b2.imass,this.b1.velx-=e*this.b1.imass,this.b1.vely-=t*this.b1.imass,this.b2.angvel+=this.rt2b*i*this.b2.iinertia,this.b1.angvel-=this.rt2a*i*this.b1.iinertia,d=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),c=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),l=this.k2x+this.b2.velx-this.c2.r2y*this.b2.angvel-(this.b1.velx-this.c2.r1y*this.b1.angvel),h=this.k2y+this.b2.vely+this.c2.r2x*this.b2.angvel-(this.b1.vely+this.c2.r1x*this.b1.angvel),a=this.c1.jnAcc,s=this.c2.jnAcc,p=d*this.nx+c*this.ny+this.surfacey+this.c1.bounce-(this.Ka*a+this.Kb*s),l=l*this.nx+h*this.ny+this.surfacey+this.c2.bounce-(this.Kb*a+this.Kc*s),h=-(this.kMassa*p+this.kMassb*l),u=-(this.kMassb*p+this.kMassc*l),0<=h&&0<=u?(p=h-a,l=u-s,this.c1.jnAcc=h,this.c2.jnAcc=u):0<=(h=-this.c1.nMass*p)&&0<=this.Kb*h+l?(p=h-a,l=-s,this.c1.jnAcc=h,this.c2.jnAcc=0):0<=(u=-this.c2.nMass*l)&&0<=this.Kb*u+p?(p=-a,l=u-s,this.c1.jnAcc=0,this.c2.jnAcc=u):0<=p&&0<=l?(p=-a,l=-s,this.c1.jnAcc=this.c2.jnAcc=0):l=p=0,e=this.nx*(i=p+l),t=this.ny*i,this.b2.velx+=e*this.b2.imass,this.b2.vely+=t*this.b2.imass,this.b1.velx-=e*this.b1.imass,this.b1.vely-=t*this.b1.imass,this.b2.angvel+=(this.rn1b*p+this.rn2b*l)*this.b2.iinertia,this.b1.angvel-=(this.rn1a*p+this.rn2a*l)*this.b1.iinertia):(0!=this.radius&&(i=(this.b2.angvel-this.b1.angvel)*this.rMass,n=this.rfric*this.c1.jnAcc,r=this.jrAcc,this.jrAcc-=i,this.jrAcc>n?this.jrAcc=n:this.jrAcc<-n&&(this.jrAcc=-n),i=this.jrAcc-r,this.b2.angvel+=i*this.b2.iinertia,this.b1.angvel-=i*this.b1.iinertia),d=this.k1x+this.b2.velx-this.c1.r2y*this.b2.angvel-(this.b1.velx-this.c1.r1y*this.b1.angvel),c=this.k1y+this.b2.vely+this.c1.r2x*this.b2.angvel-(this.b1.vely+this.c1.r1x*this.b1.angvel),i=(this.c1.bounce+(this.nx*d+this.ny*c)+this.surfacey)*this.c1.nMass,i=(o=(o=(r=this.c1.jnAcc)-i)<0?0:o)-r,this.c1.jnAcc=o,e=this.nx*i,t=this.ny*i,this.b2.velx+=e*this.b2.imass,this.b2.vely+=t*this.b2.imass,this.b1.velx-=e*this.b1.imass,this.b1.vely-=t*this.b1.imass,this.b2.angvel+=this.rn1b*i*this.b2.iinertia,this.b1.angvel-=this.rn1a*i*this.b1.iinertia)},Gn.prototype.applyImpulsePos=function(){if(2==this.ptype){var e=this.c1,t=(h=this.b2.axisy*e.lr2x-this.b2.axisx*e.lr2y,l=e.lr2x*this.b2.axisx+e.lr2y*this.b2.axisy,h+=this.b2.posx,l+=this.b2.posy,p=this.b1.axisy*e.lr1x-this.b1.axisx*e.lr1y,e=e.lr1x*this.b1.axisx+e.lr1y*this.b1.axisy,0),i=0,t=h-(p+=this.b1.posx),i=l-(e+=this.b1.posy),n=Math.sqrt(t*t+i*i),r=this.radius-ur.collisionSlop,o=n-r;t*this.nx+i*this.ny<0&&(t=-t,i=-i,o-=this.radius),o<0&&(n<ur.epsilon?0!=this.b1.smass?this.b1.posx+=10*ur.epsilon:this.b2.posx+=10*ur.epsilon:(o=(i*=o=1/n)*((p=.5*(p+h))-this.b1.posx)-(t*=o)*((h=.5*(e+l))-this.b1.posy),e=i*(p-this.b2.posx)-t*(h-this.b2.posy),0!=(l=this.b2.smass+e*e*this.b2.sinertia+this.b1.smass+o*o*this.b1.sinertia)&&(h=p=0,h=i*(i=-this.biasCoef*(n-r)/l),n=this.b1.imass,this.b1.posx-=(p=t*i)*n,this.b1.posy-=h*n,r=this.b1,l=-o*this.b1.iinertia*i,r.rot+=l,1e-4<l*l?(r.axisx=Math.sin(r.rot),r.axisy=Math.cos(r.rot)):(t=((n=1-.5*(t=l*l))*r.axisx+l*r.axisy)*(o=1-t*t/8),r.axisy=(n*r.axisy-l*r.axisx)*o,r.axisx=t),n=this.b2.imass,this.b2.posx+=p*n,this.b2.posy+=h*n,l=this.b2,o=e*this.b2.iinertia*i,l.rot+=o,1e-4<o*o?(l.axisx=Math.sin(l.rot),l.axisy=Math.cos(l.rot)):(h=((t=1-.5*(r=o*o))*l.axisx+o*l.axisy)*(p=1-r*r/8),l.axisy=(t*l.axisy-o*l.axisx)*p,l.axisx=h))))}else{var a=0,s=0,n=0,e=0,i=0,r=0,t=(0==this.ptype?(a=this.b1.axisy*this.lnormx-this.b1.axisx*this.lnormy,s=this.lnormx*this.b1.axisx+this.lnormy*this.b1.axisy,u=this.lproj+(a*this.b1.posx+s*this.b1.posy),n=this.b2.axisy*this.c1.lr1x-this.b2.axisx*this.c1.lr1y,e=this.c1.lr1x*this.b2.axisx+this.c1.lr1y*this.b2.axisy,n+=this.b2.posx,e+=this.b2.posy,this.hpc2&&(i=this.b2.axisy*this.c2.lr1x-this.b2.axisx*this.c2.lr1y,r=this.c2.lr1x*this.b2.axisx+this.c2.lr1y*this.b2.axisy,i+=this.b2.posx,r+=this.b2.posy)):(a=this.b2.axisy*this.lnormx-this.b2.axisx*this.lnormy,s=this.lnormx*this.b2.axisx+this.lnormy*this.b2.axisy,u=this.lproj+(a*this.b2.posx+s*this.b2.posy),n=this.b1.axisy*this.c1.lr1x-this.b1.axisx*this.c1.lr1y,e=this.c1.lr1x*this.b1.axisx+this.c1.lr1y*this.b1.axisy,n+=this.b1.posx,e+=this.b1.posy,this.hpc2&&(i=this.b1.axisy*this.c2.lr1x-this.b1.axisx*this.c2.lr1y,r=this.c2.lr1x*this.b1.axisx+this.c2.lr1y*this.b1.axisy,i+=this.b1.posx,r+=this.b1.posy)),n*a+e*s-u-this.radius),o=0;if(this.hpc2&&(o=i*a+r*s-u-this.radius,o+=ur.collisionSlop),(t+=ur.collisionSlop)<0||o<0){this.rev&&(a=-a,s=-s);var p=n-this.b1.posx,l=e-this.b1.posy,h=n-this.b2.posx,u=e-this.b2.posy;if(this.hpc2)for(var d=s*p-a*l,c=s*h-a*u,m=s*(i-this.b1.posx)-a*(r-this.b1.posy),y=s*(i-this.b2.posx)-a*(r-this.b2.posy),n=this.b1.smass+this.b2.smass,L=(this.kMassa=n+this.b1.sinertia*d*d+this.b2.sinertia*c*c,this.kMassb=n+this.b1.sinertia*d*m+this.b2.sinertia*c*y,this.kMassc=n+this.b1.sinertia*m*m+this.b2.sinertia*y*y,this.kMassa),D=this.kMassb,R=this.kMassc,_=t*this.biasCoef,j=o*this.biasCoef;;){var x=0,f=0,g=(x=-(x=_),f=-(f=j),this.kMassa*this.kMassc-this.kMassb*this.kMassb);if(g!=g?x=f=0:0==g?(0!=this.kMassa?x/=this.kMassa:x=0,0!=this.kMassc?f/=this.kMassc:f=0):(z=(g=1/g)*(this.kMassc*x-this.kMassb*f),f=g*(this.kMassa*f-this.kMassb*x),x=z),0<=x&&0<=f){var v,g=(x+f)*this.b1.imass,z=(this.b1.posx-=a*g,this.b1.posy-=s*g,this.b1),g=-this.b1.iinertia*(d*x+m*f),b=(z.rot+=g,1e-4<g*g?(z.axisx=Math.sin(z.rot),z.axisy=Math.cos(z.rot)):(v=((b=1-.5*(w=g*g))*z.axisx+g*z.axisy)*(w=1-w*w/8),z.axisy=(b*z.axisy-g*z.axisx)*w,z.axisx=v),(x+f)*this.b2.imass),g=(this.b2.posx+=a*b,this.b2.posy+=s*b,this.b2),w=this.b2.iinertia*(c*x+y*f);g.rot+=w,1e-4<w*w?(g.axisx=Math.sin(g.rot),g.axisy=Math.cos(g.rot)):(S=((k=1-.5*(v=w*w))*g.axisx+w*g.axisy)*(M=1-v*v/8),g.axisy=(k*g.axisy-w*g.axisx)*M,g.axisx=S);break}if((f=0)<=(x=-_/L)&&0<=D*x+j){var S,C,k=(x+f)*this.b1.imass,M=(this.b1.posx-=a*k,this.b1.posy-=s*k,this.b1),g=-this.b1.iinertia*(d*x+m*f),P=(M.rot+=g,1e-4<g*g?(M.axisx=Math.sin(M.rot),M.axisy=Math.cos(M.rot)):(C=((P=1-.5*(S=g*g))*M.axisx+g*M.axisy)*(O=1-S*S/8),M.axisy=(P*M.axisy-g*M.axisx)*O,M.axisx=C),(x+f)*this.b2.imass),g=(this.b2.posx+=a*P,this.b2.posy+=s*P,this.b2),O=this.b2.iinertia*(c*x+y*f);g.rot+=O,1e-4<O*O?(g.axisx=Math.sin(g.rot),g.axisy=Math.cos(g.rot)):(T=((A=1-.5*(C=O*O))*g.axisx+O*g.axisy)*(E=1-C*C/8),g.axisy=(A*g.axisy-O*g.axisx)*E,g.axisx=T);break}if((x=0)<=(f=-j/R)&&0<=D*f+_){var T,G,F,A=(x+f)*this.b1.imass,E=(this.b1.posx-=a*A,this.b1.posy-=s*A,this.b1),g=-this.b1.iinertia*(d*x+m*f),I=(E.rot+=g,1e-4<g*g?(E.axisx=Math.sin(E.rot),E.axisy=Math.cos(E.rot)):(G=((I=1-.5*(T=g*g))*E.axisx+g*E.axisy)*(B=1-T*T/8),E.axisy=(I*E.axisy-g*E.axisx)*B,E.axisx=G),(x+f)*this.b2.imass),g=(this.b2.posx+=a*I,this.b2.posy+=s*I,this.b2),B=this.b2.iinertia*(c*x+y*f);g.rot+=B,1e-4<B*B?(g.axisx=Math.sin(g.rot),g.axisy=Math.cos(g.rot)):(F=((x=1-.5*(G=B*B))*g.axisx+B*g.axisy)*(f=1-G*G/8),g.axisy=(x*g.axisy-B*g.axisx)*f,g.axisx=F);break}break}else{var e=s*p-a*l,i=s*h-a*u,r=this.b2.smass+i*i*this.b2.sinertia+this.b1.smass+e*e*this.b1.sinertia;0!=r&&(o=n=0,o=s*(p=-this.biasCoef*t/r),l=this.b1.imass,this.b1.posx-=(n=a*p)*l,this.b1.posy-=o*l,h=this.b1,u=-e*this.b1.iinertia*p,h.rot+=u,1e-4<u*u?(h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)):(e=((r=1-.5*(t=u*u))*h.axisx+u*h.axisy)*(l=1-t*t/8),h.axisy=(r*h.axisy-u*h.axisx)*l,h.axisx=e),t=this.b2.imass,this.b2.posx+=n*t,this.b2.posy+=o*t,r=this.b2,u=i*this.b2.iinertia*p,r.rot+=u,1e-4<u*u?(r.axisx=Math.sin(r.rot),r.axisy=Math.cos(r.rot)):(n=((h=1-.5*(l=u*u))*r.axisx+u*r.axisy)*(e=1-l*l/8),r.axisy=(h*r.axisy-u*r.axisx)*e,r.axisx=n))}}}},Gn.prototype.__class__=Gn,zpp_nape.dynamics.ZPP_Contact=function(){this.length=0,this.pushmod=!1,this.modified=!1,this._inuse=!1,this.next=null,this.elasticity=0,this.dist=0,this.fresh=!1,this.hash=0,this.stamp=0,this.posOnly=!1,this.active=!1,this.inner=null,this.arbiter=null,this.wrap_position=null,this.py=0,this.px=0,this.outer=null,this.inner=new vt}),vt=(An.__name__=["zpp_nape","dynamics","ZPP_Contact"],An.prototype.outer=null,An.prototype.wrapper=function(){return null==this.outer&&(An.internal=!0,this.outer=new N,An.internal=!1,this.outer.zpp_inner=this),this.outer},An.prototype.px=null,An.prototype.py=null,An.prototype.position_validate=function(){this.wrap_position.zpp_inner.x=this.px,this.wrap_position.zpp_inner.y=this.py},An.prototype.wrap_position=null,An.prototype.getposition=function(){var e,t;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=0,t.y=0,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),0==e.zpp_inner.x&&(null!=(t=e.zpp_inner)._validate&&t._validate(),0==e.zpp_inner.y)||(e.zpp_inner.x=0,e.zpp_inner.y=0,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_position=e,this.wrap_position.zpp_inner._inuse=!0,this.wrap_position.zpp_inner._immutable=!0,this.wrap_position.zpp_inner._validate=Z(this,this.position_validate)},An.prototype.inactiveme=function(){return!(this.active&&null!=this.arbiter&&this.arbiter.active)},An.prototype.arbiter=null,An.prototype.inner=null,An.prototype.active=null,An.prototype.posOnly=null,An.prototype.stamp=null,An.prototype.hash=null,An.prototype.fresh=null,An.prototype.dist=null,An.prototype.elasticity=null,An.prototype.free=function(){this.arbiter=null},An.prototype.alloc=function(){},An.prototype.next=null,An.prototype.elem=function(){return this},An.prototype.begin=function(){return this.next},An.prototype._inuse=null,An.prototype.modified=null,An.prototype.pushmod=null,An.prototype.length=null,An.prototype.setbegin=function(e){this.next=e,this.modified=!0,this.pushmod=!0},An.prototype.add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},An.prototype.inlined_add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},An.prototype.addAll=function(e){for(var t=e.next;null!=t;)this.add(t),t=t.next},An.prototype.insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},An.prototype.inlined_insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},An.prototype.pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},An.prototype.inlined_pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},An.prototype.pop_unsafe=function(){var e=this.next;return this.pop(),e},An.prototype.inlined_pop_unsafe=function(){var e=this.next;return this.pop(),e},An.prototype.remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},An.prototype.try_remove=function(e){for(var t=null,i=this.next,n=!1;null!=i;){if(i==e){this.erase(t),n=!0;break}i=(t=i).next}return n},An.prototype.inlined_remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},An.prototype.inlined_try_remove=function(e){for(var t,i,n=null,r=this.next,o=!1;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,o=this.pushmod=!0;break}r=(n=r).next}return o},An.prototype.erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},An.prototype.inlined_erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},An.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},An.prototype.clear=function(){},An.prototype.inlined_clear=function(){},An.prototype.reverse=function(){for(var e=this.next,t=null;null!=e;){var i=e.next;e.next=t,t=this.next=e,e=i}this.modified=!0,this.pushmod=!0},An.prototype.empty=function(){return null==this.next},An.prototype.size=function(){return this.length},An.prototype.has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},An.prototype.inlined_has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},An.prototype.front=function(){return this.next},An.prototype.back=function(){for(var e=this.next,t=e;null!=t;)t=(e=t).next;return e},An.prototype.iterator_at=function(e){for(var t=this.next;0<e--&&null!=t;)t=t.next;return t},An.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e:null},An.prototype.__class__=An,zpp_nape.dynamics.ZPP_IContact=function(){this.length=0,this.pushmod=!1,this.modified=!1,this._inuse=!1,this.next=null,this.lr2y=0,this.lr2x=0,this.lr1y=0,this.lr1x=0,this.jtAcc=0,this.jnAcc=0,this.friction=0,this.bounce=0,this.tMass=0,this.nMass=0,this.r2y=0,this.r2x=0,this.r1y=0,this.r1x=0}),zt=(vt.__name__=["zpp_nape","dynamics","ZPP_IContact"],vt.prototype.r1x=null,vt.prototype.r1y=null,vt.prototype.r2x=null,vt.prototype.r2y=null,vt.prototype.nMass=null,vt.prototype.tMass=null,vt.prototype.bounce=null,vt.prototype.friction=null,vt.prototype.jnAcc=null,vt.prototype.jtAcc=null,vt.prototype.lr1x=null,vt.prototype.lr1y=null,vt.prototype.lr2x=null,vt.prototype.lr2y=null,vt.prototype.next=null,vt.prototype.elem=function(){return this},vt.prototype.begin=function(){return this.next},vt.prototype._inuse=null,vt.prototype.modified=null,vt.prototype.pushmod=null,vt.prototype.length=null,vt.prototype.setbegin=function(e){this.next=e,this.modified=!0,this.pushmod=!0},vt.prototype.add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},vt.prototype.inlined_add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},vt.prototype.addAll=function(e){for(var t=e.next;null!=t;)this.add(t),t=t.next},vt.prototype.insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},vt.prototype.inlined_insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},vt.prototype.pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},vt.prototype.inlined_pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},vt.prototype.pop_unsafe=function(){var e=this.next;return this.pop(),e},vt.prototype.inlined_pop_unsafe=function(){var e=this.next;return this.pop(),e},vt.prototype.remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},vt.prototype.try_remove=function(e){for(var t=null,i=this.next,n=!1;null!=i;){if(i==e){this.erase(t),n=!0;break}i=(t=i).next}return n},vt.prototype.inlined_remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},vt.prototype.inlined_try_remove=function(e){for(var t,i,n=null,r=this.next,o=!1;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,o=this.pushmod=!0;break}r=(n=r).next}return o},vt.prototype.erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},vt.prototype.inlined_erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},vt.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},vt.prototype.clear=function(){},vt.prototype.inlined_clear=function(){},vt.prototype.reverse=function(){for(var e=this.next,t=null;null!=e;){var i=e.next;e.next=t,t=this.next=e,e=i}this.modified=!0,this.pushmod=!0},vt.prototype.empty=function(){return null==this.next},vt.prototype.size=function(){return this.length},vt.prototype.has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},vt.prototype.inlined_has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},vt.prototype.front=function(){return this.next},vt.prototype.back=function(){for(var e=this.next,t=e;null!=t;)t=(e=t).next;return e},vt.prototype.iterator_at=function(e){for(var t=this.next;0<e--&&null!=t;)t=t.next;return t},vt.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e:null},vt.prototype.__class__=vt,zpp_nape.dynamics.ZPP_InteractionFilter=function(){this.fluidMask=0,this.fluidGroup=0,this.sensorMask=0,this.sensorGroup=0,this.collisionMask=0,this.collisionGroup=0,this.wrap_shapes=null,this.shapes=null,this.outer=null,this.userData=null,this.next=null,this.shapes=new Ti,this.collisionGroup=this.sensorGroup=this.fluidGroup=1,this.collisionMask=this.sensorMask=this.fluidMask=-1}),bt=(zt.__name__=["zpp_nape","dynamics","ZPP_InteractionFilter"],zt.prototype.next=null,zt.prototype.userData=null,zt.prototype.outer=null,zt.prototype.wrapper=function(){var e;return null==this.outer&&(this.outer=new V,(e=this.outer.zpp_inner).outer=null,e.next=zt.zpp_pool,zt.zpp_pool=e,this.outer.zpp_inner=this),this.outer},zt.prototype.free=function(){this.outer=null},zt.prototype.alloc=function(){},zt.prototype.shapes=null,zt.prototype.wrap_shapes=null,zt.prototype.feature_cons=function(){this.shapes=new Ti},zt.prototype.addShape=function(e){this.shapes.add(e)},zt.prototype.remShape=function(e){this.shapes.remove(e)},zt.prototype.copy=function(){var e;return null==zt.zpp_pool?e=new zt:(e=zt.zpp_pool,zt.zpp_pool=e.next,e.next=null),e.collisionGroup=this.collisionGroup,e.collisionMask=this.collisionMask,e.sensorGroup=this.sensorGroup,e.sensorMask=this.sensorMask,e.fluidGroup=this.fluidGroup,e.fluidMask=this.fluidMask,e},zt.prototype.collisionGroup=null,zt.prototype.collisionMask=null,zt.prototype.shouldCollide=function(e){return 0!=(this.collisionMask&e.collisionGroup)&&0!=(e.collisionMask&this.collisionGroup)},zt.prototype.sensorGroup=null,zt.prototype.sensorMask=null,zt.prototype.shouldSense=function(e){return 0!=(this.sensorMask&e.sensorGroup)&&0!=(e.sensorMask&this.sensorGroup)},zt.prototype.fluidGroup=null,zt.prototype.fluidMask=null,zt.prototype.shouldFlow=function(e){return 0!=(this.fluidMask&e.fluidGroup)&&0!=(e.fluidMask&this.fluidGroup)},zt.prototype.invalidate=function(){for(var e=this.shapes.head;null!=e;)e.elt.invalidate_filter(),e=e.next},zt.prototype.__class__=zt,zpp_nape.dynamics.ZPP_InteractionGroup=function(){this.depth=0,this.wrap_interactors=null,this.interactors=null,this.wrap_groups=null,this.groups=null,this.group=null,this.ignore=!1,this.outer=null,this.depth=0,this.groups=new en,this.interactors=new Ae}),wt=(bt.__name__=["zpp_nape","dynamics","ZPP_InteractionGroup"],bt.prototype.outer=null,bt.prototype.ignore=null,bt.prototype.group=null,bt.prototype.setGroup=function(e){this.group!=e&&(null!=this.group&&(this.group.groups.remove(this),this.depth=0,this.group.invalidate(!0)),null!=(this.group=e)?(e.groups.add(this),this.depth=e.depth+1,e.invalidate(!0)):this.invalidate(!0))},bt.prototype.groups=null,bt.prototype.wrap_groups=null,bt.prototype.interactors=null,bt.prototype.wrap_interactors=null,bt.prototype.depth=null,bt.prototype.invalidate=function(e){if((e=null==e?!1:e)||this.ignore){for(var t=this.interactors.head;null!=t;){var i=t.elt;(null!=i.ibody?i.ibody:null!=i.ishape?i.ishape.body:i.icompound).wake(),t=t.next}for(var n=this.groups.head;null!=n;)n.elt.invalidate(e),n=n.next}},bt.prototype.addGroup=function(e){this.groups.add(e),e.depth=this.depth+1},bt.prototype.remGroup=function(e){this.groups.remove(e),e.depth=0},bt.prototype.addInteractor=function(e){this.interactors.add(e)},bt.prototype.remInteractor=function(e,t){null==t&&(t=-1),this.interactors.remove(e)},bt.prototype.__class__=bt,zpp_nape.dynamics.ZPP_SpaceArbiterList=function(){this.at_index_3=0,this.at_index_2=0,this.at_index_1=0,this.at_index_0=0,this.ite_3=null,this.ite_2=null,this.ite_1=null,this.ite_0=null,this.lengths=null,this.zip_length=!1,this._length=0,this.space=null,D.call(this),this.at_index_0=0,this.at_index_1=0,this.at_index_2=0,this.at_index_3=0,this.zip_length=!0,this._length=0,this.lengths=[];for(var e=0;e<4;)++e,this.lengths.push(0)}),Nt=(wt.__name__=["zpp_nape","dynamics","ZPP_SpaceArbiterList"],wt.__super__=D,wt.prototype=Object.create(D.prototype),wt.prototype.space=null,wt.prototype._length=null,wt.prototype.zip_length=null,wt.prototype.zpp_gl=function(){if(this.zpp_vm(),this.zip_length){for(var e=this._length=0,t=this.space.c_arbiters_true.head;null!=t;)t.elt.active&&++e,t=t.next;this.lengths[0]=e,this._length+=e;for(var i=0,n=this.space.c_arbiters_false.head;null!=n;)n.elt.active&&++i,n=n.next;this.lengths[1]=i,this._length+=i;for(var r=0,o=this.space.f_arbiters.head;null!=o;)o.elt.active&&++r,o=o.next;this.lengths[2]=r,this._length+=r;for(var a=0,s=this.space.s_arbiters.head;null!=s;)s.elt.active&&++a,s=s.next;this.lengths[3]=a,this._length+=a,this.zip_length=!1}return this._length},wt.prototype.lengths=null,wt.prototype.ite_0=null,wt.prototype.ite_1=null,wt.prototype.ite_2=null,wt.prototype.ite_3=null,wt.prototype.at_index_0=null,wt.prototype.at_index_1=null,wt.prototype.at_index_2=null,wt.prototype.at_index_3=null,wt.prototype.zpp_vm=function(){var e=!1;this.space.c_arbiters_true.modified&&(this.space.c_arbiters_true.modified=!(e=!0)),this.space.c_arbiters_false.modified&&(this.space.c_arbiters_false.modified=!(e=!0)),this.space.f_arbiters.modified&&(this.space.f_arbiters.modified=!(e=!0)),this.space.s_arbiters.modified&&(this.space.s_arbiters.modified=!(e=!0)),e&&(this.zip_length=!0,this._length=0,this.ite_0=null,this.ite_1=null,this.ite_2=null,this.ite_3=null)},wt.prototype.push=function(e){return!1},wt.prototype.pop=function(){return null},wt.prototype.unshift=function(e){return!1},wt.prototype.shift=function(){return null},wt.prototype.remove=function(e){return!1},wt.prototype.clear=function(){},wt.prototype.at=function(e){this.zpp_vm();var t=null,i=0;if(null==t)if(e<this.lengths[0]){var n=e;if(n<this.at_index_0||null==this.ite_0)for(this.at_index_0=0,this.ite_0=this.space.c_arbiters_true.head;!this.ite_0.elt.active;)this.ite_0=this.ite_0.next;for(;this.at_index_0!=n;)for(this.at_index_0++,this.ite_0=this.ite_0.next;!this.ite_0.elt.active;)this.ite_0=this.ite_0.next;t=this.ite_0.elt.wrapper()}else i=this.lengths[0];if(null==t)if(e<i+this.lengths[1]){var r=e-i;if(r<this.at_index_1||null==this.ite_1)for(this.at_index_1=0,this.ite_1=this.space.c_arbiters_false.head;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next;for(;this.at_index_1!=r;)for(this.at_index_1++,this.ite_1=this.ite_1.next;!this.ite_1.elt.active;)this.ite_1=this.ite_1.next;t=this.ite_1.elt.wrapper()}else i+=this.lengths[1];if(null==t)if(e<i+this.lengths[2]){var o=e-i;if(o<this.at_index_2||null==this.ite_2)for(this.at_index_2=0,this.ite_2=this.space.f_arbiters.head;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next;for(;this.at_index_2!=o;)for(this.at_index_2++,this.ite_2=this.ite_2.next;!this.ite_2.elt.active;)this.ite_2=this.ite_2.next;t=this.ite_2.elt.wrapper()}else i+=this.lengths[2];if(null==t)if(e<i+this.lengths[3]){var a=e-i;if(a<this.at_index_3||null==this.ite_3)for(this.at_index_3=0,this.ite_3=this.space.s_arbiters.head;!this.ite_3.elt.active;)this.ite_3=this.ite_3.next;for(;this.at_index_3!=a;)for(this.at_index_3++,this.ite_3=this.ite_3.next;!this.ite_3.elt.active;)this.ite_3=this.ite_3.next;t=this.ite_3.elt.wrapper()}else i+=this.lengths[3];return t},wt.prototype.__class__=wt,zpp_nape.geom.ZPP_AABB=function(){this.wrap_max=null,this.maxy=0,this.maxx=0,this.wrap_min=null,this.miny=0,this.minx=0,this.next=null,this.outer=null,this._immutable=!1,this._validate=null,this._invalidate=null}),St=(Nt.__name__=["zpp_nape","geom","ZPP_AABB"],Nt.get=function(e,t,i,n){var r;return null==Nt.zpp_pool?r=new Nt:(r=Nt.zpp_pool,Nt.zpp_pool=r.next,r.next=null),r.minx=e,r.miny=t,r.maxx=i,r.maxy=n,r},Nt.prototype._invalidate=null,Nt.prototype._validate=null,Nt.prototype._immutable=null,Nt.prototype.validate=function(){null!=this._validate&&this._validate()},Nt.prototype.invalidate=function(){null!=this._invalidate&&this._invalidate(this)},Nt.prototype.outer=null,Nt.prototype.wrapper=function(){var e;return null==this.outer&&(this.outer=new q,null!=(e=this.outer.zpp_inner).outer&&(e.outer.zpp_inner=null,e.outer=null),e.wrap_min=e.wrap_max=null,e._invalidate=null,e._validate=null,e.next=Nt.zpp_pool,Nt.zpp_pool=e,this.outer.zpp_inner=this),this.outer},Nt.prototype.next=null,Nt.prototype.alloc=function(){},Nt.prototype.free=function(){null!=this.outer&&(this.outer.zpp_inner=null,this.outer=null),this.wrap_min=this.wrap_max=null,this._invalidate=null,this._validate=null},Nt.prototype.copy=function(){var e,t=this.minx,i=this.miny,n=this.maxx,r=this.maxy;return null==Nt.zpp_pool?e=new Nt:(e=Nt.zpp_pool,Nt.zpp_pool=e.next,e.next=null),e.minx=t,e.miny=i,e.maxx=n,e.maxy=r,e},Nt.prototype.width=function(){return this.maxx-this.minx},Nt.prototype.height=function(){return this.maxy-this.miny},Nt.prototype.perimeter=function(){return 2*(this.maxx-this.minx+(this.maxy-this.miny))},Nt.prototype.minx=null,Nt.prototype.miny=null,Nt.prototype.wrap_min=null,Nt.prototype.getmin=function(){var e,t,i,n;return null==this.wrap_min&&(e=this.minx,t=this.miny,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,this.wrap_min=i,this.wrap_min.zpp_inner._inuse=!0,this._immutable?this.wrap_min.zpp_inner._immutable=!0:this.wrap_min.zpp_inner._invalidate=Z(this,this.mod_min),this.wrap_min.zpp_inner._validate=Z(this,this.dom_min)),this.wrap_min},Nt.prototype.dom_min=function(){null!=this._validate&&this._validate(),this.wrap_min.zpp_inner.x=this.minx,this.wrap_min.zpp_inner.y=this.miny},Nt.prototype.mod_min=function(e){e.x==this.minx&&e.y==this.miny||(this.minx=e.x,this.miny=e.y,null!=this._invalidate&&this._invalidate(this))},Nt.prototype.maxx=null,Nt.prototype.maxy=null,Nt.prototype.wrap_max=null,Nt.prototype.getmax=function(){var e,t,i,n;return null==this.wrap_max&&(e=this.maxx,t=this.maxy,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,this.wrap_max=i,this.wrap_max.zpp_inner._inuse=!0,this._immutable?this.wrap_max.zpp_inner._immutable=!0:this.wrap_max.zpp_inner._invalidate=Z(this,this.mod_max),this.wrap_max.zpp_inner._validate=Z(this,this.dom_max)),this.wrap_max},Nt.prototype.dom_max=function(){null!=this._validate&&this._validate(),this.wrap_max.zpp_inner.x=this.maxx,this.wrap_max.zpp_inner.y=this.maxy},Nt.prototype.mod_max=function(e){e.x==this.maxx&&e.y==this.maxy||(this.maxx=e.x,this.maxy=e.y,null!=this._invalidate&&this._invalidate(this))},Nt.prototype.intersectX=function(e){return!(e.minx>this.maxx||this.minx>e.maxx)},Nt.prototype.intersectY=function(e){return!(e.miny>this.maxy||this.miny>e.maxy)},Nt.prototype.intersect=function(e){return e.miny<=this.maxy&&this.miny<=e.maxy&&e.minx<=this.maxx&&this.minx<=e.maxx},Nt.prototype.combine=function(e){e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy)},Nt.prototype.contains=function(e){return e.minx>=this.minx&&e.miny>=this.miny&&e.maxx<=this.maxx&&e.maxy<=this.maxy},Nt.prototype.containsPoint=function(e){return e.x>=this.minx&&e.x<=this.maxx&&e.y>=this.miny&&e.y<=this.maxy},Nt.prototype.setCombine=function(e,t){this.minx=(e.minx<t.minx?e:t).minx,this.miny=(e.miny<t.miny?e:t).miny,this.maxx=(e.maxx>t.maxx?e:t).maxx,this.maxy=(e.maxy>t.maxy?e:t).maxy},Nt.prototype.setExpand=function(e,t){this.minx=e.minx-t,this.miny=e.miny-t,this.maxx=e.maxx+t,this.maxy=e.maxy+t},Nt.prototype.setExpandPoint=function(e,t){e<this.minx&&(this.minx=e),e>this.maxx&&(this.maxx=e),t<this.miny&&(this.miny=t),t>this.maxy&&(this.maxy=t)},Nt.prototype.toString=function(){return"{ x: "+this.minx+" y: "+this.miny+" w: "+(this.maxx-this.minx)+" h: "+(this.maxy-this.miny)+" }"},Nt.prototype.__class__=Nt,zpp_nape.util.ZNPList_ZPP_Vec2=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),dr=(St.__name__=["zpp_nape","util","ZNPList_ZPP_Vec2"],St.prototype.head=null,St.prototype.begin=function(){return this.head},St.prototype.modified=null,St.prototype.pushmod=null,St.prototype.length=null,St.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},St.prototype.add=function(e){null==bn.zpp_pool?t=new bn:(t=bn.zpp_pool,bn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},St.prototype.inlined_add=function(e){null==bn.zpp_pool?t=new bn:(t=bn.zpp_pool,bn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},St.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},St.prototype.insert=function(e,t){null==bn.zpp_pool?i=new bn:(i=bn.zpp_pool,bn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},St.prototype.inlined_insert=function(e,t){null==bn.zpp_pool?i=new bn:(i=bn.zpp_pool,bn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},St.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=bn.zpp_pool,bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},St.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=bn.zpp_pool,bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},St.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},St.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},St.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=bn.zpp_pool,bn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},St.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},St.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=bn.zpp_pool,bn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},St.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=bn.zpp_pool,bn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},St.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=bn.zpp_pool,bn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},St.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=bn.zpp_pool,bn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},St.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},St.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=bn.zpp_pool,bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},St.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=bn.zpp_pool,bn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},St.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},St.prototype.empty=function(){return null==this.head},St.prototype.size=function(){return this.length},St.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},St.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},St.prototype.front=function(){return this.head.elt},St.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},St.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},St.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},St.prototype.__class__=St,zpp_nape.geom.ZPP_Collide=function(){}),Ct=(dr.__name__=["zpp_nape","geom","ZPP_Collide"],dr.circleContains=function(e,t){var i;return(i=t.x-e.worldCOMx)*i+(i=t.y-e.worldCOMy)*i<e.radius*e.radius},dr.polyContains=function(e,t){for(var i=!0,n=e.edges.head;null!=n;){var r=n.elt;if(!(r.gnormx*t.x+r.gnormy*t.y<=r.gprojection)){i=!1;break}n=n.next}return i},dr.shapeContains=function(e,t){return 0==e.type?dr.circleContains(e.circle,t):dr.polyContains(e.polygon,t)},dr.bodyContains=function(e,t){for(var i=!1,n=e.shapes.head;null!=n;){if(dr.shapeContains(n.elt,t)){i=!0;break}n=n.next}return i},dr.containTest=function(e,t){var i,n=e.aabb,r=t.aabb;if(r.minx>=n.minx&&r.miny>=n.miny&&r.maxx<=n.maxx&&r.maxy<=n.maxy){if(0==e.type){if(0==t.type)return r=e.circle.radius+-t.circle.radius,i=n=0,(n=t.circle.worldCOMx-e.circle.worldCOMx)*n+(i=t.circle.worldCOMy-e.circle.worldCOMy)*i<=r*r;for(var o=!0,a=t.polygon.gverts.next;null!=a;){var s,p=a,l=e.circle.radius;if(!((s=p.x-e.circle.worldCOMx)*s+(s=p.y-e.circle.worldCOMy)*s<=l*l)){o=!1;break}a=a.next}return o}if(0==t.type){for(var h=!0,u=e.polygon.edges.head;null!=u;){var d=u.elt;if(!(d.gnormx*t.circle.worldCOMx+d.gnormy*t.circle.worldCOMy+t.circle.radius<=d.gprojection)){h=!1;break}u=u.next}return h}for(var c=!0,m=e.polygon.edges.head;null!=m;){for(var y=m.elt,_=-1e100,x=t.polygon.gverts.next;null!=x;){var f=x,f=y.gnormx*f.x+y.gnormy*f.y;_<f&&(_=f),x=x.next}if(!(_<=y.gprojection)){c=!1;break}m=m.next}return c}return!1},dr.contactCollide=function(e,t,i,n){if(1==t.type){if(1==e.type){for(var L=!0,D=-1e100,R=-1,j=null,F=null,N=e.polygon.edges.head;null!=N;){for(var U=N.elt,H=1e100,V=t.polygon.gverts.next;null!=V;){var W=V,W=U.gnormx*W.x+U.gnormy*W.y;if((H=W<H?W:H)-U.gprojection<=D)break;V=V.next}if(0<=(H-=U.gprojection)){L=!1;break}D<H&&(D=H,j=U,R=1),N=N.next}if(L){for(var q=t.polygon.edges.head;null!=q;){for(var X=q.elt,Y=1e100,K=e.polygon.gverts.next;null!=K;){var Z=K,Z=X.gnormx*Z.x+X.gnormy*Z.y;if((Y=Z<Y?Z:Y)-X.gprojection<=D)break;K=K.next}if(0<=(Y-=X.gprojection)){L=!1;break}D<Y&&(D=Y,F=X,R=2),q=q.next}if(L){for(var r,o=1==R?(w=t.polygon,r=j,1):(w=e.polygon,r=F,-1),a=null,J=1e100,Q=w.edges.head;null!=Q;){var $=Q.elt,ee=r.gnormx*$.gnormx+r.gnormy*$.gnormy;ee<J&&(J=ee,a=$),Q=Q.next}var s=0,p=0,s=a.gp0.x,p=a.gp0.y,l=0,h=0,u=(l=a.gp1.x)-s,d=(h=a.gp1.y)-p,c=r.gnormy*s-r.gnormx*p,m=r.gnormy*l-r.gnormx*h,y=1/(m-c),c=(-r.tp1-c)*y,c=(ur.epsilon<c&&(s+=u*c,p+=d*c),(-r.tp0-m)*y),m=(c<-ur.epsilon&&(l+=u*c,h+=d*c),0),y=0,u=o,m=r.gnormx*u,y=r.gnormy*u,d=(i.lnormx=r.lnormx,i.lnormy=r.lnormy,i.lproj=r.lprojection,i.radius=0,i.rev=n!=(-1==o),i.ptype=i.rev?1:0,s*r.gnormx+p*r.gnormy-r.gprojection),c=l*r.gnormx+h*r.gnormy-r.gprojection;if(0<d&&0<c)return!1;n&&(m=-m,y=-y);for(var u=s-r.gnormx*d*.5,o=p-r.gnormy*d*.5,te=i.rev?1:0,_=null,ie=i.contacts.next;null!=ie;){var ne=ie;if(te==ne.hash){_=ne;break}ie=ie.next}null==_?(null==An.zpp_pool?_=new An:(_=An.zpp_pool,An.zpp_pool=_.next,_.next=null),(g=_.inner).jnAcc=g.jtAcc=0,_.hash=te,_.fresh=!0,(_.arbiter=i).jrAcc=0,f=i.contacts,_._inuse=!0,(x=_).next=f.next,f.next=x,f.modified=!0,f.length++,i.innards.add(g)):_.fresh=!1,_.px=u,_.py=o,i.nx=m,i.ny=y,_.dist=d,_.stamp=i.stamp,_.posOnly=0<d;for(var x=_,f=(s-=w.body.posx,p-=w.body.posy,x.inner.lr1x=s*w.body.axisy+p*w.body.axisx,x.inner.lr1y=p*w.body.axisy-s*w.body.axisx,l-r.gnormx*c*.5),g=h-r.gnormy*c*.5,re=i.rev?0:1,v=null,oe=i.contacts.next;null!=oe;){var ae=oe;if(re==ae.hash){v=ae;break}oe=oe.next}return null==v?(null==An.zpp_pool?v=new An:(v=An.zpp_pool,An.zpp_pool=v.next,v.next=null),(u=v.inner).jnAcc=u.jtAcc=0,v.hash=re,v.fresh=!0,(v.arbiter=i).jrAcc=0,o=i.contacts,v._inuse=!0,(d=v).next=o.next,o.next=d,o.modified=!0,o.length++,i.innards.add(u)):v.fresh=!1,v.px=f,v.py=g,i.nx=m,i.ny=y,v.dist=c,v.stamp=i.stamp,v.posOnly=0<c,x=v,l-=w.body.posx,h-=w.body.posy,x.inner.lr1x=l*w.body.axisy+h*w.body.axisx,x.inner.lr1y=h*w.body.axisy-l*w.body.axisx,1==R?(i.__ref_edge1=r,i.__ref_edge2=a):(i.__ref_edge2=r,i.__ref_edge1=a),!0}return!1}return!1}for(var se=-1e100,pe=!0,z=null,le=null,he=t.polygon.gverts.next,ue=t.polygon.edges.head;null!=ue;){var de=ue.elt,ce=de.gnormx*e.circle.worldCOMx+de.gnormy*e.circle.worldCOMy-de.gprojection-e.circle.radius;if(0<ce){pe=!1;break}se<ce&&(se=ce,z=de,le=he),he=he.next,ue=ue.next}if(pe){p=le,s=(null==le.next?t.polygon.gverts:le).next,d=e.circle.worldCOMy*z.gnormx-e.circle.worldCOMx*z.gnormy;if(d<=p.y*z.gnormx-p.x*z.gnormy){o=e.circle.radius,g=(u=p.x-e.circle.worldCOMx)*u+(f=p.y-e.circle.worldCOMy)*f;if(o*o<g)M=null;else if(g<ur.epsilon*ur.epsilon){for(var m=e.circle.worldCOMx,y=e.circle.worldCOMy,b=null,me=i.contacts.next;null!=me;){var ye=me;if(0==ye.hash){b=ye;break}me=me.next}null==b?(null==An.zpp_pool?b=new An:(b=An.zpp_pool,An.zpp_pool=b.next,b.next=null),(c=b.inner).jnAcc=c.jtAcc=0,b.hash=0,b.fresh=!0,(b.arbiter=i).jrAcc=0,x=i.contacts,b._inuse=!0,(h=b).next=x.next,x.next=h,x.modified=!0,x.length++,i.innards.add(c)):b.fresh=!1,b.px=m,b.py=y,i.nx=1,i.ny=0,b.dist=-o,b.stamp=i.stamp,b.posOnly=!1,M=b}else{var l=1/Math.sqrt(g),w=l<ur.epsilon?1e100:1/l,h=.5+(e.circle.radius-.5*o)*l;if(n){for(var x=e.circle.worldCOMx+u*h,c=e.circle.worldCOMy+f*h,S=null,_e=i.contacts.next;null!=_e;){var xe=_e;if(0==xe.hash){S=xe;break}_e=_e.next}null==S?(null==An.zpp_pool?S=new An:(S=An.zpp_pool,An.zpp_pool=S.next,S.next=null),(m=S.inner).jnAcc=m.jtAcc=0,S.hash=0,S.fresh=!0,(S.arbiter=i).jrAcc=0,y=i.contacts,S._inuse=!0,(g=S).next=y.next,y.next=g,y.modified=!0,y.length++,i.innards.add(m)):S.fresh=!1,S.px=x,S.py=c,i.nx=-u*l,i.ny=-f*l,S.dist=w-o,S.stamp=i.stamp,S.posOnly=!1,M=S}else{for(var g=e.circle.worldCOMx+u*h,y=e.circle.worldCOMy+f*h,C=null,fe=i.contacts.next;null!=fe;){var ge=fe;if(0==ge.hash){C=ge;break}fe=fe.next}null==C?(null==An.zpp_pool?C=new An:(C=An.zpp_pool,An.zpp_pool=C.next,C.next=null),(m=C.inner).jnAcc=m.jtAcc=0,C.hash=0,C.fresh=!0,(C.arbiter=i).jrAcc=0,x=i.contacts,C._inuse=!0,(c=C).next=x.next,x.next=c,x.modified=!0,x.length++,i.innards.add(m)):C.fresh=!1,C.px=g,C.py=y,i.nx=u*l,i.ny=f*l,C.dist=w-o,C.stamp=i.stamp,C.posOnly=!1,M=C}}return null!=M&&(h=M.inner,i.ptype=2,x=c=0,c=p.x-t.polygon.body.posx,x=p.y-t.polygon.body.posy,i.__ref_edge1=z,i.__ref_vertex=-1,n?(h.lr1x=c*t.polygon.body.axisy+x*t.polygon.body.axisx,h.lr1y=x*t.polygon.body.axisy-c*t.polygon.body.axisx,h.lr2x=e.circle.localCOMx,h.lr2y=e.circle.localCOMy):(h.lr2x=c*t.polygon.body.axisy+x*t.polygon.body.axisx,h.lr2y=x*t.polygon.body.axisy-c*t.polygon.body.axisx,h.lr1x=e.circle.localCOMx,h.lr1y=e.circle.localCOMy),i.radius=e.circle.radius),null!=M}if(d>=s.y*z.gnormx-s.x*z.gnormy){m=e.circle.radius,u=(g=s.x-e.circle.worldCOMx)*g+(y=s.y-e.circle.worldCOMy)*y;if(m*m<u)A=null;else if(u<ur.epsilon*ur.epsilon){for(var f=e.circle.worldCOMx,l=e.circle.worldCOMy,k=null,ve=i.contacts.next;null!=ve;){var ze=ve;if(0==ze.hash){k=ze;break}ve=ve.next}null==k?(null==An.zpp_pool?k=new An:(k=An.zpp_pool,An.zpp_pool=k.next,k.next=null),(w=k.inner).jnAcc=w.jtAcc=0,k.hash=0,k.fresh=!0,(k.arbiter=i).jrAcc=0,o=i.contacts,k._inuse=!0,(p=k).next=o.next,o.next=p,o.modified=!0,o.length++,i.innards.add(w)):k.fresh=!1,k.px=f,k.py=l,i.nx=1,i.ny=0,k.dist=-m,k.stamp=i.stamp,k.posOnly=!1,A=k}else{x=1/Math.sqrt(u),c=x<ur.epsilon?1e100:1/x,h=.5+(e.circle.radius-.5*m)*x;if(n){for(var M=e.circle.worldCOMx+g*h,d=e.circle.worldCOMy+y*h,P=null,be=i.contacts.next;null!=be;){var we=be;if(0==we.hash){P=we;break}be=be.next}null==P?(null==An.zpp_pool?P=new An:(P=An.zpp_pool,An.zpp_pool=P.next,P.next=null),(p=P.inner).jnAcc=p.jtAcc=0,P.hash=0,P.fresh=!0,(P.arbiter=i).jrAcc=0,o=i.contacts,P._inuse=!0,(w=P).next=o.next,o.next=w,o.modified=!0,o.length++,i.innards.add(p)):P.fresh=!1,P.px=M,P.py=d,i.nx=-g*x,i.ny=-y*x,P.dist=c-m,P.stamp=i.stamp,P.posOnly=!1,A=P}else{for(var f=e.circle.worldCOMx+g*h,l=e.circle.worldCOMy+y*h,O=null,Se=i.contacts.next;null!=Se;){var Ce=Se;if(0==Ce.hash){O=Ce;break}Se=Se.next}null==O?(null==An.zpp_pool?O=new An:(O=An.zpp_pool,An.zpp_pool=O.next,O.next=null),(u=O.inner).jnAcc=u.jtAcc=0,O.hash=0,O.fresh=!0,(O.arbiter=i).jrAcc=0,w=i.contacts,O._inuse=!0,(o=O).next=w.next,w.next=o,w.modified=!0,w.length++,i.innards.add(u)):O.fresh=!1,O.px=f,O.py=l,i.nx=g*x,i.ny=y*x,O.dist=c-m,O.stamp=i.stamp,O.posOnly=!1,A=O}}return null!=A&&(p=A.inner,i.ptype=2,d=M=0,M=s.x-t.polygon.body.posx,d=s.y-t.polygon.body.posy,i.__ref_edge1=z,i.__ref_vertex=1,n?(p.lr1x=M*t.polygon.body.axisy+d*t.polygon.body.axisx,p.lr1y=d*t.polygon.body.axisy-M*t.polygon.body.axisx,p.lr2x=e.circle.localCOMx,p.lr2y=e.circle.localCOMy):(p.lr2x=M*t.polygon.body.axisy+d*t.polygon.body.axisx,p.lr2y=d*t.polygon.body.axisy-M*t.polygon.body.axisx,p.lr1x=e.circle.localCOMx,p.lr1y=e.circle.localCOMy),i.radius=e.circle.radius),null!=A}h=e.circle.radius+.5*se,o=z.gnormx*h,w=z.gnormy*h,u=e.circle.worldCOMx-o,f=e.circle.worldCOMy-w;if(n){for(var l=z.gnormx,g=z.gnormy,T=null,ke=i.contacts.next;null!=ke;){var Me=ke;if(0==Me.hash){T=Me;break}ke=ke.next}null==T?(null==An.zpp_pool?T=new An:(T=An.zpp_pool,An.zpp_pool=T.next,T.next=null),(y=T.inner).jnAcc=y.jtAcc=0,T.hash=0,T.fresh=!0,(T.arbiter=i).jrAcc=0,x=i.contacts,T._inuse=!0,(c=T).next=x.next,x.next=c,x.modified=!0,x.length++,i.innards.add(y)):T.fresh=!1,T.px=u,T.py=f,i.nx=l,i.ny=g,T.dist=se,T.stamp=i.stamp,T.posOnly=!1,Ee=T}else{for(var m=-z.gnormx,s=-z.gnormy,G=null,Pe=i.contacts.next;null!=Pe;){var Oe=Pe;if(0==Oe.hash){G=Oe;break}Pe=Pe.next}null==G?(null==An.zpp_pool?G=new An:(G=An.zpp_pool,An.zpp_pool=G.next,G.next=null),(d=G.inner).jnAcc=d.jtAcc=0,G.hash=0,G.fresh=!0,(G.arbiter=i).jrAcc=0,M=i.contacts,G._inuse=!0,(p=G).next=M.next,M.next=p,M.modified=!0,M.length++,i.innards.add(d)):G.fresh=!1,G.px=u,G.py=f,i.nx=m,i.ny=s,G.dist=se,G.stamp=i.stamp,G.posOnly=!1,Ee=G}return i.ptype=n?0:1,i.lnormx=z.lnormx,i.lnormy=z.lnormy,i.rev=!n,i.lproj=z.lprojection,i.radius=e.circle.radius,Ee.inner.lr1x=e.circle.localCOMx,Ee.inner.lr1y=e.circle.localCOMy,i.__ref_edge1=z,!(i.__ref_vertex=0)}return!1}var Te,A=e.circle.radius+t.circle.radius,w=(h=t.circle.worldCOMx-e.circle.worldCOMx)*h+(o=t.circle.worldCOMy-e.circle.worldCOMy)*o;if(A*A<w)Te=null;else if(w<ur.epsilon*ur.epsilon){for(var c=e.circle.worldCOMx,x=e.circle.worldCOMy,E=null,Ge=i.contacts.next;null!=Ge;){var Ae=Ge;if(0==Ae.hash){E=Ae;break}Ge=Ge.next}null==E?(null==An.zpp_pool?E=new An:(E=An.zpp_pool,An.zpp_pool=E.next,E.next=null),(y=E.inner).jnAcc=y.jtAcc=0,E.hash=0,E.fresh=!0,(E.arbiter=i).jrAcc=0,l=i.contacts,E._inuse=!0,(g=E).next=l.next,l.next=g,l.modified=!0,l.length++,i.innards.add(y)):E.fresh=!1,E.px=c,E.py=x,i.nx=1,i.ny=0,E.dist=-A,E.stamp=i.stamp,E.posOnly=!1,Te=E}else{p=1/Math.sqrt(w),M=p<ur.epsilon?1e100:1/p,d=.5+(e.circle.radius-.5*A)*p;if(n){for(var Ee,u=e.circle.worldCOMx+h*d,f=e.circle.worldCOMy+o*d,I=null,Ie=i.contacts.next;null!=Ie;){var Be=Ie;if(0==Be.hash){I=Be;break}Ie=Ie.next}null==I?(null==An.zpp_pool?I=new An:(I=An.zpp_pool,An.zpp_pool=I.next,I.next=null),(m=I.inner).jnAcc=m.jtAcc=0,I.hash=0,I.fresh=!0,(I.arbiter=i).jrAcc=0,s=i.contacts,I._inuse=!0,(Ee=I).next=s.next,s.next=Ee,s.modified=!0,s.length++,i.innards.add(m)):I.fresh=!1,I.px=u,I.py=f,i.nx=-h*p,i.ny=-o*p,I.dist=M-A,I.stamp=i.stamp,I.posOnly=!1,Te=I}else{for(var g=e.circle.worldCOMx+h*d,l=e.circle.worldCOMy+o*d,B=null,Le=i.contacts.next;null!=Le;){var De=Le;if(0==De.hash){B=De;break}Le=Le.next}null==B?(null==An.zpp_pool?B=new An:(B=An.zpp_pool,An.zpp_pool=B.next,B.next=null),(y=B.inner).jnAcc=y.jtAcc=0,B.hash=0,B.fresh=!0,(B.arbiter=i).jrAcc=0,c=i.contacts,B._inuse=!0,(x=B).next=c.next,c.next=x,c.modified=!0,c.length++,i.innards.add(y)):B.fresh=!1,B.px=g,B.py=l,i.nx=h*p,i.ny=o*p,B.dist=M-A,B.stamp=i.stamp,B.posOnly=!1,Te=B}}return null!=Te&&(w=Te.inner,n?(w.lr1x=t.circle.localCOMx,w.lr1y=t.circle.localCOMy,w.lr2x=e.circle.localCOMx,w.lr2y=e.circle.localCOMy):(w.lr1x=e.circle.localCOMx,w.lr1y=e.circle.localCOMy,w.lr2x=t.circle.localCOMx,w.lr2y=t.circle.localCOMy),i.radius=e.circle.radius+t.circle.radius,i.ptype=2,!0)},dr.testCollide_safe=function(e,t){var i;return 0==t.type&&(i=e,e=t,t=i),dr.testCollide(e,t)},dr.testCollide=function(e,t){if(1!=t.type)return m=e.circle.radius+t.circle.radius,c=x=0,(x=t.circle.worldCOMx-e.circle.worldCOMx)*x+(c=t.circle.worldCOMy-e.circle.worldCOMy)*c<=m*m;if(1==e.type){for(var i=!0,n=e.polygon.edges.head;null!=n;){for(var r=n.elt,o=1e100,a=t.polygon.gverts.next;null!=a;){var s=a,s=r.gnormx*s.x+r.gnormy*s.y;s<o&&(o=s),a=a.next}if(0<(o-=r.gprojection)){i=!1;break}n=n.next}if(i){for(var p=t.polygon.edges.head;null!=p;){for(var l=p.elt,h=1e100,u=e.polygon.gverts.next;null!=u;){var d=u,d=l.gnormx*d.x+l.gnormy*d.y;d<h&&(h=d),u=u.next}if(0<(h-=l.gprojection)){i=!1;break}p=p.next}return i}return!1}for(var c,m,y,_,x,f,g=null,v=null,z=!0,b=-1e100,w=t.polygon.gverts.next,S=t.polygon.edges.head;null!=S;){var C=S.elt,k=C.gnormx*e.circle.worldCOMx+C.gnormy*e.circle.worldCOMy-C.gprojection-e.circle.radius;if(0<k){z=!1;break}b<k&&(b=k,g=C,v=w),w=w.next,S=S.next}return!!z&&(c=(null==(x=v).next?t.polygon.gverts:v).next,(m=e.circle.worldCOMy*g.gnormx-e.circle.worldCOMx*g.gnormy)<=x.y*g.gnormx-x.x*g.gnormy?(y=e.circle.radius,f=_=0,(_=x.x-e.circle.worldCOMx)*_+(f=x.y-e.circle.worldCOMy)*f<=y*y):!(m>=c.y*g.gnormx-c.x*g.gnormy)||(_=e.circle.radius,f=x=0,(x=c.x-e.circle.worldCOMx)*x+(f=c.y-e.circle.worldCOMy)*f<=_*_))},dr.flowCollide=function(e,t,i){if(1!=t.type)return c=e.circle,m=d=0,d=(a=t.circle).worldCOMx-c.worldCOMx,m=a.worldCOMy-c.worldCOMy,!((y=c.radius+a.radius)*y<(y=d*d+m*m))&&(y<ur.epsilon*ur.epsilon?c.radius<a.radius?(n=c.area,u=c.worldCOMx,p=c.worldCOMy,i.overlap=n,i.centroidx=u,i.centroidy=p):(n=a.area,u=a.worldCOMx,p=a.worldCOMy,i.overlap=n,i.centroidx=u,i.centroidy=p):(p=.5*((n=Math.sqrt(y))-(a.radius*a.radius-c.radius*c.radius)*(u=1/n)))<=-c.radius?(y=c.area,g=c.worldCOMx,f=c.worldCOMy,i.overlap=y,i.centroidx=g,i.centroidy=f):(y=n-p)<=-a.radius?(g=a.area,f=a.worldCOMx,h=a.worldCOMy,i.overlap=g,i.centroidx=f,i.centroidy=h):(h=f=g=0,s=p/c.radius,x=Math.sqrt(1-s*s),l=Math.acos(s),g=c.radius*(c.radius*l-p*x),f=.6666666666666666*c.radius*x*x*x/(l-s*x),p=y/a.radius,l=Math.sqrt(1-p*p),s=Math.acos(p),x=g+(h=a.radius*(a.radius*s-y*l)),y=(f*g+(n-.6666666666666666*a.radius*l*l*l/(s-p*l))*h)/x*u,f=c.worldCOMx+d*y,g=c.worldCOMy+m*y,i.overlap=x,i.centroidx=f,i.centroidy=g),!0);if(1==e.type){for(var L=[],D=[],R=!0,j=!0,F=e.polygon.edges.head;null!=F;){for(var N=F.elt,U=1e100,H=0,V=t.polygon.gverts.next;null!=V;){var W=V,W=N.gnormx*W.x+N.gnormy*W.y;W<U&&(U=W),W>=N.gprojection+ur.epsilon&&(j=!(D[H]=!0)),++H,V=V.next}if(0<(U-=N.gprojection)){R=!1;break}F=F.next}if(j){var n=t.polygon;if(n.zip_worldCOM&&null!=n.body){if(n.zip_worldCOM=!1,n.zip_localCOM){if(n.zip_localCOM=!1,1==n.type){var r=n.polygon;if(null==r.lverts.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y;else if(null==r.lverts.next.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y,r.localCOMx+=r.lverts.next.next.x,r.localCOMy+=r.lverts.next.next.y,r.localCOMx*=.5,r.localCOMy*=.5;else{r.localCOMx=0;var q=r.localCOMy=0,X=r.lverts.next,Y=X,o=X=X.next;for(X=X.next;null!=X;){var K=X,Z=(q+=o.x*(K.y-Y.y),K.y*o.x-K.x*o.y);r.localCOMx+=(o.x+K.x)*Z,r.localCOMy+=(o.y+K.y)*Z,Y=o,o=K,X=X.next}var a=X=r.lverts.next,s=(q+=o.x*(a.y-Y.y),a.y*o.x-a.x*o.y),p=(r.localCOMx+=(o.x+a.x)*s,r.localCOMy+=(o.y+a.y)*s,Y=o,X=X.next),l=(q+=a.x*(p.y-Y.y),p.y*a.x-p.x*a.y),h=(r.localCOMx+=(a.x+p.x)*l,r.localCOMy+=(a.y+p.y)*l,q=1/(3*q));r.localCOMx*=h,r.localCOMy*=h}}null!=n.wrap_localCOM&&(n.wrap_localCOM.zpp_inner.x=n.localCOMx,n.wrap_localCOM.zpp_inner.y=n.localCOMy)}var u=n.body;u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),n.worldCOMx=n.body.posx+(n.body.axisy*n.localCOMx-n.body.axisx*n.localCOMy),n.worldCOMy=n.body.posy+(n.localCOMx*n.body.axisx+n.localCOMy*n.body.axisy)}var d=t.polygon.area,c=t.polygon.worldCOMx,m=t.polygon.worldCOMy;return i.overlap=d,i.centroidx=c,i.centroidy=m,!0}if(R){for(var j=!0,J=t.polygon.edges.head;null!=J;){for(var Q=J.elt,$=1e100,ee=0,te=e.polygon.gverts.next;null!=te;){var ie=te,ie=Q.gnormx*ie.x+Q.gnormy*ie.y;ie<$&&($=ie),ie>=Q.gprojection+ur.epsilon&&(j=!(L[ee]=!0)),++ee,te=te.next}if(0<($-=Q.gprojection)){R=!1;break}J=J.next}if(j){var y=e.polygon;if(y.zip_worldCOM&&null!=y.body){if(y.zip_worldCOM=!1,y.zip_localCOM){if(y.zip_localCOM=!1,1==y.type){var _=y.polygon;if(null==_.lverts.next.next)_.localCOMx=_.lverts.next.x,_.localCOMy=_.lverts.next.y;else if(null==_.lverts.next.next.next)_.localCOMx=_.lverts.next.x,_.localCOMy=_.lverts.next.y,_.localCOMx+=_.lverts.next.next.x,_.localCOMy+=_.lverts.next.next.y,_.localCOMx*=.5,_.localCOMy*=.5;else{_.localCOMx=0;var ne=_.localCOMy=0,re=_.lverts.next,oe=re,ae=re=re.next;for(re=re.next;null!=re;){var se=re,pe=(ne+=ae.x*(se.y-oe.y),se.y*ae.x-se.x*ae.y);_.localCOMx+=(ae.x+se.x)*pe,_.localCOMy+=(ae.y+se.y)*pe,oe=ae,ae=se,re=re.next}var x=re=_.lverts.next,f=(ne+=ae.x*(x.y-oe.y),x.y*ae.x-x.x*ae.y),g=(_.localCOMx+=(ae.x+x.x)*f,_.localCOMy+=(ae.y+x.y)*f,oe=ae,re=re.next),s=(ne+=x.x*(g.y-oe.y),g.y*x.x-g.x*x.y),a=(_.localCOMx+=(x.x+g.x)*s,_.localCOMy+=(x.y+g.y)*s,ne=1/(3*ne));_.localCOMx*=a,_.localCOMy*=a}}null!=y.wrap_localCOM&&(y.wrap_localCOM.zpp_inner.x=y.localCOMx,y.wrap_localCOM.zpp_inner.y=y.localCOMy)}p=y.body;p.zip_axis&&(p.zip_axis=!1,p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)),y.worldCOMx=y.body.posx+(y.body.axisy*y.localCOMx-y.body.axisx*y.localCOMy),y.worldCOMy=y.body.posy+(y.localCOMx*y.body.axisx+y.localCOMy*y.body.axisy)}l=e.polygon.area,h=e.polygon.worldCOMx,u=e.polygon.worldCOMy;return i.overlap=l,i.centroidx=h,i.centroidy=u,!0}if(R){for(;null!=dr.flowpoly.head;){var le=dr.flowpoly.pop_unsafe();le._inuse||(null!=le.outer&&(le.outer.zpp_inner=null,le.outer=null),le._isimmutable=null,le._validate=null,le._invalidate=null,le.next=cr.zpp_pool,cr.zpp_pool=le)}for(var v=null,he=!1,z=e.polygon.gverts.next,ue=0,b=t.polygon.gverts.next,de=0,ce=0,me=t.polygon.edgeCnt;ce<me;){var ye=ce++;if(!D[ye]){de=ye;break}b=b.next}if(null==b){for(var b=t.polygon.gverts.next,he=!0,_e=0,xe=e.polygon.edgeCnt;_e<xe;){var fe=_e++;if(!L[fe]){ue=fe;break}z=z.next}null==z?z=e.polygon.gverts.next:(dr.flowpoly.add(z),v=dr.flowpoly.head.elt)}else dr.flowpoly.add(b),v=dr.flowpoly.head.elt;var ge=1;if(null==dr.flowpoly.head){for(var ve=!0,ze=e.polygon.gverts.next,w=ze,be=ze.next;null!=be;){for(var we=be,Se=2,Ce=t.polygon.gverts.next,ke=Ce,Me=Ce.next;null!=Me;){var Pe,Oe,Te,Ge=Me,Ae=0,Ee=w.x-ke.x,Ie=w.y-ke.y,Be=we.x-w.x,Le=(Pe=we.y-w.y)*(Te=Ge.x-ke.x)-Be*(Oe=Ge.y-ke.y);ur.epsilon*ur.epsilon<Le*Le&&(Oe=(Oe*Ee-Te*Ie)*(Le=1/Le),ur.epsilon<Oe&&Oe<1-ur.epsilon&&(ur.epsilon<(Te=(Pe*Ee-Be*Ie)*Le)&&Te<1-ur.epsilon&&(Ae=Oe,!0)))&&Ae<Se&&(Se=Ae,b=Ce),ke=Ge,Me=(Ce=Me).next}for(;;){var De,Re,je=Me=t.polygon.gverts.next,Fe=0,Ne=w.x-ke.x,Ue=w.y-ke.y,He=we.x-w.x,Ve=(De=we.y-w.y)*(Re=je.x-ke.x)-He*(je=je.y-ke.y);ur.epsilon*ur.epsilon<Ve*Ve&&(je=(je*Ne-Re*Ue)*(Ve=1/Ve),ur.epsilon<je&&je<1-ur.epsilon&&(ur.epsilon<(Re=(De*Ne-He*Ue)*Ve)&&Re<1-ur.epsilon&&(Fe=je,!0)))&&Fe<Se&&(Se=Fe,b=Ce);break}if(2!=Se){var We,qe=Se,Xe=w.x+(we.x-w.x)*qe,qe=w.y+(we.y-w.y)*qe;null==cr.zpp_pool?We=new cr:(We=cr.zpp_pool,cr.zpp_pool=We.next,We.next=null),We.weak=!1,We._immutable=!1,We.x=Xe,We.y=qe,v=We,dr.flowpoly.add(v),z=ze,ve=!(he=!0);break}w=we,be=(ze=be).next}if(ve)for(;;){for(var Ye=be=e.polygon.gverts.next,Ke=2,Ze=t.polygon.gverts.next,Je=Ze,Qe=Ze.next;null!=Qe;){var $e,et,tt,it=Qe,nt=0,rt=w.x-Je.x,ot=w.y-Je.y,at=Ye.x-w.x,st=($e=Ye.y-w.y)*(tt=it.x-Je.x)-at*(et=it.y-Je.y);ur.epsilon*ur.epsilon<st*st&&(et=(et*rt-tt*ot)*(st=1/st),ur.epsilon<et&&et<1-ur.epsilon&&(ur.epsilon<(tt=($e*rt-at*ot)*st)&&tt<1-ur.epsilon&&(nt=et,!0)))&&nt<Ke&&(Ke=nt,b=Ze),Je=it,Qe=(Ze=Qe).next}for(;;){var pt,lt,ht=Qe=t.polygon.gverts.next,ut=0,dt=w.x-Je.x,ct=w.y-Je.y,mt=Ye.x-w.x,yt=(pt=Ye.y-w.y)*(lt=ht.x-Je.x)-mt*(ht=ht.y-Je.y);ur.epsilon*ur.epsilon<yt*yt&&(ht=(ht*dt-lt*ct)*(yt=1/yt),ur.epsilon<ht&&ht<1-ur.epsilon&&(ur.epsilon<(lt=(pt*dt-mt*ct)*yt)&&lt<1-ur.epsilon&&(ut=ht,!0)))&&ut<Ke&&(Ke=ut,b=Ze);break}if(2==Ke)break;var _t,xt=Ke,ft=w.x+(Ye.x-w.x)*xt,xt=w.y+(Ye.y-w.y)*xt;null==cr.zpp_pool?_t=new cr:(_t=cr.zpp_pool,cr.zpp_pool=_t.next,_t.next=null),_t.weak=!1,_t._immutable=!1,_t.x=ft,_t.y=xt,v=_t,dr.flowpoly.add(v),he=!0,z=ze;break}ge=2}for(;;)if(he)if(++ue,null==(z=z.next)&&(z=e.polygon.gverts.next,ue=0),L[ue]){for(var gt=dr.flowpoly.head.elt,vt=z,zt=b,S=b.next,bt=-1,wt=null,St=0,Ct=0,kt=S=null==S?t.polygon.gverts.next:S,Mt=S;;){var Pt,Ot,Tt,Gt=Mt,At=0,Et=zt.x-gt.x,It=zt.y-gt.y,Bt=Gt.x-zt.x,Lt=(Pt=Gt.y-zt.y)*(Tt=vt.x-gt.x)-Bt*(Ot=vt.y-gt.y);if(ur.epsilon*ur.epsilon<Lt*Lt&&(Ot=(Ot*Et-Tt*It)*(Lt=1/Lt),ur.epsilon<Ot&&Ot<1-ur.epsilon&&(ur.epsilon<(Tt=(Pt*Et-Bt*It)*Lt)&&Tt<1-ur.epsilon&&(At=Ot,!0)))&&-1<=At){if(wt=b,St=de,(Ct=1)==ge){bt=At,Mt=kt;break}bt=At}zt=Gt,b=Mt,++de>=t.polygon.edgeCnt&&(de=0),null==(Mt=Mt.next)&&(Mt=t.polygon.gverts.next);break}for(;Mt!=kt;){var Dt,Rt,jt,Ft=Mt,Nt=0,Ut=zt.x-gt.x,Ht=zt.y-gt.y,Vt=Ft.x-zt.x,Wt=(Dt=Ft.y-zt.y)*(jt=vt.x-gt.x)-Vt*(Rt=vt.y-gt.y);if(ur.epsilon*ur.epsilon<Wt*Wt&&(Rt=(Rt*Ut-jt*Ht)*(Wt=1/Wt),ur.epsilon<Rt&&Rt<1-ur.epsilon&&(ur.epsilon<(jt=(Dt*Ut-Vt*Ht)*Wt)&&jt<1-ur.epsilon&&(Nt=Rt,!0)))&&bt<=Nt){if(wt=b,St=de,++Ct==ge){bt=Nt;break}bt=Nt}zt=Ft,b=Mt,++de>=t.polygon.edgeCnt&&(de=0),null==(Mt=Mt.next)&&(Mt=t.polygon.gverts.next)}if(null==wt)break;var qt,S=wt,Xt=wt.next,Xt=Xt=null==Xt?t.polygon.gverts.next:Xt,Yt=bt,Kt=S.x+(Xt.x-S.x)*Yt,Xt=S.y+(Xt.y-S.y)*Yt;if(null!=v&&(Yt=S=0,(S=Kt-v.x)*S+(Yt=Xt-v.y)*Yt<ur.epsilon))break;null==cr.zpp_pool?qt=new cr:(qt=cr.zpp_pool,cr.zpp_pool=qt.next,qt.next=null),qt.weak=!1,qt._immutable=!1,qt.x=Kt,qt.y=Xt,dr.flowpoly.add(qt),null==v&&(v=dr.flowpoly.head.elt),b=wt,de=St,he=!he,ge=2}else{S=z;if(null!=v&&(Yt=S.x,Kt=S.y,$t=Xt=0,(Xt=Yt-v.x)*Xt+($t=Kt-v.y)*$t<ur.epsilon))break;dr.flowpoly.add(S),null==v&&(v=dr.flowpoly.head.elt),ge=1}else if(++de,null==(b=b.next)&&(b=t.polygon.gverts.next,de=0),D[de]){for(var Zt=dr.flowpoly.head.elt,Jt=b,Qt=z,$t=z.next,ei=-1,ti=null,ii=0,ni=0,ri=$t=null==$t?e.polygon.gverts.next:$t,oi=$t;;){var ai,si,pi,li=oi,hi=0,ui=Qt.x-Zt.x,di=Qt.y-Zt.y,ci=li.x-Qt.x,mi=(ai=li.y-Qt.y)*(pi=Jt.x-Zt.x)-ci*(si=Jt.y-Zt.y);if(ur.epsilon*ur.epsilon<mi*mi&&(si=(si*ui-pi*di)*(mi=1/mi),ur.epsilon<si&&si<1-ur.epsilon&&(ur.epsilon<(pi=(ai*ui-ci*di)*mi)&&pi<1-ur.epsilon&&(hi=si,!0)))&&-1<=hi){if(ti=z,ii=ue,(ni=1)==ge){ei=hi,oi=ri;break}ei=hi}Qt=li,z=oi,++ue>=e.polygon.edgeCnt&&(ue=0),null==(oi=oi.next)&&(oi=e.polygon.gverts.next);break}for(;oi!=ri;){var yi,_i,xi,fi=oi,gi=0,vi=Qt.x-Zt.x,zi=Qt.y-Zt.y,bi=fi.x-Qt.x,wi=(yi=fi.y-Qt.y)*(xi=Jt.x-Zt.x)-bi*(_i=Jt.y-Zt.y);if(ur.epsilon*ur.epsilon<wi*wi&&(_i=(_i*vi-xi*zi)*(wi=1/wi),ur.epsilon<_i&&_i<1-ur.epsilon&&(ur.epsilon<(xi=(yi*vi-bi*zi)*wi)&&xi<1-ur.epsilon&&(gi=_i,!0)))&&ei<=gi){if(ti=z,ii=ue,++ni==ge){ei=gi;break}ei=gi}Qt=fi,z=oi,++ue>=e.polygon.edgeCnt&&(ue=0),null==(oi=oi.next)&&(oi=e.polygon.gverts.next)}if(null==ti)break;var Si,Ci=ti,ki=ti.next,ki=ki=null==ki?e.polygon.gverts.next:ki,Mi=ei,Pi=Ci.x+(ki.x-Ci.x)*Mi,ki=Ci.y+(ki.y-Ci.y)*Mi;if(null!=v&&(Mi=Ci=0,(Ci=Pi-v.x)*Ci+(Mi=ki-v.y)*Mi<ur.epsilon))break;null==cr.zpp_pool?Si=new cr:(Si=cr.zpp_pool,cr.zpp_pool=Si.next,Si.next=null),Si.weak=!1,Si._immutable=!1,Si.x=Pi,Si.y=ki,dr.flowpoly.add(Si),null==v&&(v=dr.flowpoly.head.elt),z=ti,ue=ii,he=!he,ge=2}else{var Oi,Ci=b;if(null!=v&&(Mi=Ci.x,Pi=Ci.y,Oi=ki=0,(ki=Mi-v.x)*ki+(Oi=Pi-v.y)*Oi<ur.epsilon))break;dr.flowpoly.add(Ci),null==v&&(v=dr.flowpoly.head.elt),ge=1}if(null==dr.flowpoly.head||null==dr.flowpoly.head.next||null==dr.flowpoly.head.next.next)return!1;var Ti=0,Gi=0,Ai=0,Gi=0,Ai=0,Ti=0,Ei=dr.flowpoly.head,Ii=Ei.elt,Bi=(Ei=Ei.next).elt;for(Ei=Ei.next;null!=Ei;){var Li=Ei.elt,Di=(Ti+=Bi.x*(Li.y-Ii.y),Li.y*Bi.x-Li.x*Bi.y);Gi+=(Bi.x+Li.x)*Di,Ai+=(Bi.y+Li.y)*Di,Ii=Bi,Bi=Li,Ei=Ei.next}n=(Ei=dr.flowpoly.head).elt,d=(Ti+=Bi.x*(n.y-Ii.y),n.y*Bi.x-n.x*Bi.y),c=(Gi+=(Bi.x+n.x)*d,Ai+=(Bi.y+n.y)*d,Ii=Bi,(Ei=Ei.next).elt),m=(Ti+=n.x*(c.y-Ii.y),c.y*n.x-c.x*n.y),f=1/(6*(Ti*=.5));return Gi=(Gi+(n.x+c.x)*m)*f,Ai=(Ai+(n.y+c.y)*m)*f,i.overlap=-Ti,i.centroidx=Gi,i.centroidy=Ai,!0}return!1}return!1}for(var Ri=[],ji=!0,Fi=null,Ni=null,Ui=-1e100,Hi=!0,Vi=t.polygon.gverts.next,Wi=0,qi=t.polygon.edges.head;null!=qi;){var Xi=qi.elt,Yi=Xi.gnormx*e.circle.worldCOMx+Xi.gnormy*e.circle.worldCOMy;if(Yi>Xi.gprojection+e.circle.radius){Hi=!1;break}Yi+e.circle.radius>Xi.gprojection+ur.epsilon&&(Ri[Wi]=!(ji=!1)),Ui<(Yi-=Xi.gprojection+e.circle.radius)&&(Ui=Yi,Fi=Xi,Ni=Vi),Vi=Vi.next,++Wi,qi=qi.next}if(Hi){if(ji)return x=e.circle.area,g=e.circle.worldCOMx,s=e.circle.worldCOMy,i.overlap=x,i.centroidx=g,i.centroidy=s,!0;a=Ni,p=(null==Ni.next?t.polygon.gverts:Ni).next,y=e.circle.worldCOMy*Fi.gnormx-e.circle.worldCOMx*Fi.gnormy;if(y<=a.y*Fi.gnormx-a.x*Fi.gnormy?(l=e.circle.radius,u=h=0,(h=a.x-e.circle.worldCOMx)*h+(u=a.y-e.circle.worldCOMy)*u<=l*l):!(y>=p.y*Fi.gnormx-p.x*Fi.gnormy)||(d=e.circle.radius,c=n=0,(n=p.x-e.circle.worldCOMx)*n+(c=p.y-e.circle.worldCOMy)*c<=d*d)){for(var Ki=[],Zi=0,Ji=!0,C=null,Qi=0,$i=t.polygon.gverts.next;null!=$i;){var en=$i,tn=en.x,en=en.y,nn=e.circle.worldCOMx,rn=e.circle.worldCOMy;(Ki[Zi]=(tn=tn-nn)*tn+(nn=en-rn)*nn<=e.circle.radius*e.circle.radius)?(Qi=Zi,C=$i):Ji=!1,++Zi,$i=$i.next}if(Ji){m=t.polygon;if(m.zip_worldCOM&&null!=m.body){if(m.zip_worldCOM=!1,m.zip_localCOM){if(m.zip_localCOM=!1,1==m.type){var k=m.polygon;if(null==k.lverts.next.next)k.localCOMx=k.lverts.next.x,k.localCOMy=k.lverts.next.y;else if(null==k.lverts.next.next.next)k.localCOMx=k.lverts.next.x,k.localCOMy=k.lverts.next.y,k.localCOMx+=k.lverts.next.next.x,k.localCOMy+=k.lverts.next.next.y,k.localCOMx*=.5,k.localCOMy*=.5;else{k.localCOMx=0;var on=k.localCOMy=0,an=k.lverts.next,sn=an,pn=an=an.next;for(an=an.next;null!=an;){var ln=an,hn=(on+=pn.x*(ln.y-sn.y),ln.y*pn.x-ln.x*pn.y);k.localCOMx+=(pn.x+ln.x)*hn,k.localCOMy+=(pn.y+ln.y)*hn,sn=pn,pn=ln,an=an.next}f=an=k.lverts.next,x=(on+=pn.x*(f.y-sn.y),f.y*pn.x-f.x*pn.y),g=(k.localCOMx+=(pn.x+f.x)*x,k.localCOMy+=(pn.y+f.y)*x,sn=pn,an=an.next),s=(on+=f.x*(g.y-sn.y),g.y*f.x-g.x*f.y),h=(k.localCOMx+=(f.x+g.x)*s,k.localCOMy+=(f.y+g.y)*s,on=1/(3*on));k.localCOMx*=h,k.localCOMy*=h}}null!=m.wrap_localCOM&&(m.wrap_localCOM.zpp_inner.x=m.localCOMx,m.wrap_localCOM.zpp_inner.y=m.localCOMy)}a=m.body;a.zip_axis&&(a.zip_axis=!1,a.axisx=Math.sin(a.rot),a.axisy=Math.cos(a.rot)),m.worldCOMx=m.body.posx+(m.body.axisy*m.localCOMx-m.body.axisx*m.localCOMy),m.worldCOMy=m.body.posy+(m.localCOMx*m.body.axisx+m.localCOMy*m.body.axisy)}u=t.polygon.area,l=t.polygon.worldCOMx,y=t.polygon.worldCOMy;return i.overlap=u,i.centroidx=l,i.centroidy=y,!0}for(;null!=dr.flowpoly.head;){var un=dr.flowpoly.pop_unsafe();un._inuse||(null!=un.outer&&(un.outer.zpp_inner=null,un.outer=null),un._isimmutable=null,un._validate=null,un._invalidate=null,un.next=cr.zpp_pool,cr.zpp_pool=un)}dr.flowsegs.clear();var M=null,dn=1;for(null==C?(C=t.polygon.gverts.next,dn=2):(M=C,dr.flowpoly.add(M));0!=dn;)if(1==dn)if(null==(C=C.next)&&(C=t.polygon.gverts.next),Ki[Qi=++Qi>=t.polygon.edgeCnt?0:Qi]){var cn=M.x,mn=M.y;if((cn=cn-C.x)*cn+(cn=mn-C.y)*cn<ur.epsilon)break;dr.flowpoly.add(C)}else{var yn,mn=dr.flowpoly.head.elt,cn=C,_n=(P=cn.x-mn.x)*P+(xn=cn.y-mn.y)*xn,xn=2*((fn=mn.x-e.circle.worldCOMx)*P+(P=mn.y-e.circle.worldCOMy)*xn),fn=Math.sqrt(xn*xn-4*_n*(fn*fn+P*P-e.circle.radius*e.circle.radius)),P=(-xn-fn)*(_n=1/(2*_n)),xn=P<ur.epsilon?(-xn+fn)*_n:P,fn=mn.x+(cn.x-mn.x)*xn,_n=mn.y+(cn.y-mn.y)*xn;if((P=M.x-fn)*P+(xn=M.y-_n)*xn<ur.epsilon)break;null==cr.zpp_pool?yn=new cr:(yn=cr.zpp_pool,cr.zpp_pool=yn.next,yn.next=null),yn.weak=!1,yn._immutable=!1,yn.x=fn,yn.y=_n,dr.flowpoly.add(yn),dn=2}else if(2==dn){for(var P=C.next,O=C,dn=0,gn=P=null==P?t.polygon.gverts.next:P,vn=P;;){var zn=vn,bn=Qi+1;if(bn==t.polygon.edgeCnt&&(bn=0),Ri[Qi]){if(Ki[bn]){var wn,Sn=(G=zn.x-O.x)*G+(T=zn.y-O.y)*T,T=2*((Cn=O.x-e.circle.worldCOMx)*G+(G=O.y-e.circle.worldCOMy)*T),Cn=Math.sqrt(T*T-4*Sn*(Cn*Cn+G*G-e.circle.radius*e.circle.radius)),G=(-T-Cn)*(Sn=1/(2*Sn)),T=G<ur.epsilon?(-T+Cn)*Sn:G,Cn=O.x+(zn.x-O.x)*T,Sn=O.y+(zn.y-O.y)*T;if((G=M.x-Cn)*G+(T=M.y-Sn)*T<ur.epsilon){dn=0,vn=gn;break}null==cr.zpp_pool?wn=new cr:(wn=cr.zpp_pool,cr.zpp_pool=wn.next,wn.next=null),wn.weak=!1,wn._immutable=!1,wn.x=Cn,wn.y=Sn;G=wn;dr.flowsegs.add(dr.flowpoly.head.elt),dr.flowsegs.add(G),dr.flowpoly.add(G),dn=1,vn=gn;break}var T=0,Cn=0,kn=(Sn=zn.x-O.x)*Sn+(G=zn.y-O.y)*G,Mn=2*((A=O.x-e.circle.worldCOMx)*Sn+(Pn=O.y-e.circle.worldCOMy)*G),A=Mn*Mn-4*kn*(A*A+Pn*Pn-e.circle.radius*e.circle.radius),Pn=A*A<ur.epsilon?(T=A<0?10:Cn=-Mn/(2*kn),!1):(T=(-Mn-(A=Math.sqrt(A)))*(kn=1/(2*kn)),Cn=(-Mn+A)*kn,!0);if(T<1-ur.epsilon&&ur.epsilon<Cn){var On,Mn=T,A=O.x+(zn.x-O.x)*Mn,kn=O.y+(zn.y-O.y)*Mn;if(null!=M&&(Gn=Mn=0,(Mn=M.x-A)*Mn+(Gn=M.y-kn)*Gn<ur.epsilon)){dn=0,vn=gn;break}null==cr.zpp_pool?On=new cr:(On=cr.zpp_pool,cr.zpp_pool=On.next,On.next=null),On.weak=!1,On._immutable=!1,On.x=A,On.y=kn;var Tn,Gn,Mn=On;null!=dr.flowpoly.head&&(dr.flowsegs.add(dr.flowpoly.head.elt),dr.flowsegs.add(Mn)),dr.flowpoly.add(Mn),null==M&&(M=dr.flowpoly.head.elt),Pn&&(A=Gn=0,kn=Cn,Gn=O.x+(zn.x-O.x)*kn,A=O.y+(zn.y-O.y)*kn,null==cr.zpp_pool?Tn=new cr:(Tn=cr.zpp_pool,cr.zpp_pool=Tn.next,Tn.next=null),Tn.weak=!1,Tn._immutable=!1,Tn.x=Gn,Tn.y=A,dr.flowpoly.add(Tn))}}O=zn,Qi=bn,null==(vn=(C=vn).next)&&(vn=t.polygon.gverts.next);break}for(;vn!=gn;){var An=vn,En=Qi+1;if(En==t.polygon.edgeCnt&&(En=0),Ri[Qi]){if(Ki[En]){var In,Bn=(I=An.x-O.x)*I+(E=An.y-O.y)*E,E=2*((Ln=O.x-e.circle.worldCOMx)*I+(I=O.y-e.circle.worldCOMy)*E),Ln=Math.sqrt(E*E-4*Bn*(Ln*Ln+I*I-e.circle.radius*e.circle.radius)),I=(-E-Ln)*(Bn=1/(2*Bn)),E=I<ur.epsilon?(-E+Ln)*Bn:I,Ln=O.x+(An.x-O.x)*E,Bn=O.y+(An.y-O.y)*E;if((I=M.x-Ln)*I+(E=M.y-Bn)*E<ur.epsilon){dn=0;break}null==cr.zpp_pool?In=new cr:(In=cr.zpp_pool,cr.zpp_pool=In.next,In.next=null),In.weak=!1,In._immutable=!1,In.x=Ln,In.y=Bn;I=In;dr.flowsegs.add(dr.flowpoly.head.elt),dr.flowsegs.add(I),dr.flowpoly.add(I),dn=1;break}var E=0,Ln=0,Dn=(Bn=An.x-O.x)*Bn+(I=An.y-O.y)*I,Rn=2*((B=O.x-e.circle.worldCOMx)*Bn+(jn=O.y-e.circle.worldCOMy)*I),B=Rn*Rn-4*Dn*(B*B+jn*jn-e.circle.radius*e.circle.radius),jn=B*B<ur.epsilon?(E=B<0?10:Ln=-Rn/(2*Dn),!1):(E=(-Rn-(B=Math.sqrt(B)))*(Dn=1/(2*Dn)),Ln=(-Rn+B)*Dn,!0);if(E<1-ur.epsilon&&ur.epsilon<Ln){var Fn,Rn=E,B=O.x+(An.x-O.x)*Rn,Dn=O.y+(An.y-O.y)*Rn;if(null!=M&&(Un=Rn=0,(Rn=M.x-B)*Rn+(Un=M.y-Dn)*Un<ur.epsilon)){dn=0;break}null==cr.zpp_pool?Fn=new cr:(Fn=cr.zpp_pool,cr.zpp_pool=Fn.next,Fn.next=null),Fn.weak=!1,Fn._immutable=!1,Fn.x=B,Fn.y=Dn;var Nn,Un,Rn=Fn;null!=dr.flowpoly.head&&(dr.flowsegs.add(dr.flowpoly.head.elt),dr.flowsegs.add(Rn)),dr.flowpoly.add(Rn),null==M&&(M=dr.flowpoly.head.elt),jn&&(B=Un=0,Dn=Ln,Un=O.x+(An.x-O.x)*Dn,B=O.y+(An.y-O.y)*Dn,null==cr.zpp_pool?Nn=new cr:(Nn=cr.zpp_pool,cr.zpp_pool=Nn.next,Nn.next=null),Nn.weak=!1,Nn._immutable=!1,Nn.x=Un,Nn.y=B,dr.flowpoly.add(Nn))}}O=An,Qi=En,null==(vn=(C=vn).next)&&(vn=t.polygon.gverts.next)}}if(null==dr.flowpoly.head)return!1;if(null==dr.flowpoly.head.next){for(var Hn=!0,Vn=t.polygon.edges.head;null!=Vn;){var Wn=Vn.elt;if(Wn.gnormx*e.circle.worldCOMx+Wn.gnormy*e.circle.worldCOMy>Wn.gprojection){Hn=!1;break}Vn=Vn.next}return!!Hn&&(n=e.circle.area,p=e.circle.worldCOMx,c=e.circle.worldCOMy,i.overlap=n,i.centroidx=p,i.centroidy=c,!0)}var qn=0,Xn=0,Yn=0;if(null!=dr.flowpoly.head.next.next){var Kn=0,Zn=0,Jn=0,Zn=0,Jn=0,Kn=0,Qn=dr.flowpoly.head,$n=Qn.elt,er=(Qn=Qn.next).elt;for(Qn=Qn.next;null!=Qn;){var tr=Qn.elt,ir=(Kn+=er.x*(tr.y-$n.y),tr.y*er.x-tr.x*er.y);Zn+=(er.x+tr.x)*ir,Jn+=(er.y+tr.y)*ir,$n=er,er=tr,Qn=Qn.next}d=(Qn=dr.flowpoly.head).elt,x=(Kn+=er.x*(d.y-$n.y),d.y*er.x-d.x*er.y),f=(Zn+=(er.x+d.x)*x,Jn+=(er.y+d.y)*x,$n=er,(Qn=Qn.next).elt),g=(Kn+=d.x*(f.y-$n.y),f.y*d.x-f.x*d.y),s=1/(6*(Kn*=.5)),h=-Kn;qn+=(Zn=(Zn+(d.x+f.x)*g)*s)*h,Xn+=(Jn=(Jn+(d.y+f.y)*g)*s)*h,Yn=0-Kn}else dr.flowsegs.add(dr.flowpoly.head.elt),dr.flowsegs.add(dr.flowpoly.head.next.elt);for(;null!=dr.flowsegs.head;){var nr=dr.flowsegs.pop_unsafe(),rr=dr.flowsegs.pop_unsafe(),or=0,ar=0,or=rr.x-nr.x,ar=rr.y-nr.y,sr=1/Math.sqrt(or*or+ar*ar),sr=(ar*=sr,or*=sr),pr=nr.x+rr.x,nr=nr.y+rr.y,rr=(nr*=.5,(or=-ar)*((pr*=.5)-e.circle.worldCOMx)+(ar=sr)*(nr-=e.circle.worldCOMy)),sr=rr/e.circle.radius,lr=Math.sqrt(1-sr*sr),hr=Math.acos(sr),rr=e.circle.radius*(e.circle.radius*hr-rr*lr),hr=.6666666666666666*e.circle.radius*lr*lr*lr/(hr-sr*lr);pr=e.circle.worldCOMx,nr=e.circle.worldCOMy,qn+=(pr+=or*hr)*rr,Xn+=(nr+=ar*hr)*rr,Yn+=rr}a=1/Yn;return qn*=a,Xn*=a,i.overlap=Yn,i.centroidx=qn,i.centroidy=Xn,!0}return!1}return!1},dr.prototype.__class__=dr,zpp_nape.geom.ZPP_Convex=function(){}),kt=(Ct.__name__=["zpp_nape","geom","ZPP_Convex"],Ct.isinner=function(e,t,i){var n=e.x-t.x,e=e.y-t.y,r=i.x-t.x;return 0<=(i.y-t.y)*n-r*e},Ct.optimise=function(e){var t=e.vertices,i=e.vertices;if(null!=t)for(var n=t;;)if(n.sort(),(n=n.next)==i)break;var t=e.vertices,r=e.vertices;if(null!=t)for(var o=t;;){for(var a=o,s=a.prev,p=null,l=a.diagonals.head;null!=l;){var h=l.elt;if(Ct.isinner(null==l.next?a.next:l.next.elt,a,s)){for(var u=!0,d=h.prev,c=null,m=h.diagonals.head;null!=m;){var y=m.elt;if(y==a){u=Ct.isinner(null==m.next?h.next:m.next.elt,h,d);break}d=y,m=(c=m).next}u?(l=a.diagonals.erase(p),h.diagonals.erase(c)):(s=h,l=(p=l).next)}else s=h,l=(p=l).next}if((o=o.next)==r)break}},Ct.prototype.__class__=Ct,zpp_nape.geom.ZPP_ConvexRayResult=function(){this.toiDistance=0,this.next=null,this.inner=!1,this.ray=null,this.position=null,this.convex=null,this.shape=null,this.normal=null}),fi=(kt.__name__=["zpp_nape","geom","ZPP_ConvexRayResult"],kt.getRay=function(e,t,i,n){null==kt.rayPool?(kt.internal=!0,(r=new $).zpp_inner=new kt,r.zpp_inner.ray=r,kt.internal=!1):(r=kt.rayPool.ray,kt.rayPool=kt.rayPool.next,r.zpp_inner.next=null);var r,o=r.zpp_inner;return(o.normal=e).zpp_inner._immutable=!0,o.toiDistance=t,o.inner=i,o.shape=n,r},kt.getConvex=function(e,t,i,n){null==kt.convexPool?(kt.internal=!0,(r=new X).zpp_inner=new kt,r.zpp_inner.convex=r,kt.internal=!1):(r=kt.convexPool.convex,kt.convexPool=kt.convexPool.next,r.zpp_inner.next=null);var r,o=r.zpp_inner;return o.normal=e,o.position=t,e.zpp_inner._immutable=!0,t.zpp_inner._immutable=!0,o.toiDistance=i,o.shape=n,r},kt.prototype.normal=null,kt.prototype.shape=null,kt.prototype.convex=null,kt.prototype.position=null,kt.prototype.ray=null,kt.prototype.inner=null,kt.prototype.next=null,kt.prototype.toiDistance=null,kt.prototype.disposed=function(){},kt.prototype.free=function(){this.normal.zpp_inner._immutable=!1;var e=this.normal,t=e.zpp_inner;e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,null!=this.position&&(this.position.zpp_inner._immutable=!1,t=(e=this.position).zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t),this.shape=null,this.toiDistance=0,null!=this.convex?(this.next=kt.convexPool,kt.convexPool=this):(this.next=kt.rayPool,kt.rayPool=this)},kt.prototype.__class__=kt,zpp_nape.geom.ZPP_CutVert=function(){this.used=!1,this.rank=0,this.parent=null,this.positive=!1,this.value=0,this.vert=null,this.posy=0,this.posx=0,this.next=null,this.prev=null}),gi=(fi.__name__=["zpp_nape","geom","ZPP_CutVert"],fi.path=function(e){var t;return null==fi.zpp_pool?t=new fi:(t=fi.zpp_pool,fi.zpp_pool=t.next,t.next=null),t.vert=e,(t.parent=t).rank=0,t.used=!1,t},fi.prototype.prev=null,fi.prototype.next=null,fi.prototype.posx=null,fi.prototype.posy=null,fi.prototype.vert=null,fi.prototype.value=null,fi.prototype.positive=null,fi.prototype.parent=null,fi.prototype.rank=null,fi.prototype.used=null,fi.prototype.alloc=function(){},fi.prototype.free=function(){this.vert=null,this.parent=null},fi.prototype.__class__=fi,zpp_nape.geom.ZPP_CutInt=function(){this.path1=null,this.start=null,this.end=null,this.path0=null,this.vertex=!1,this.virtualint=!1,this.time=0,this.next=null}),vi=(gi.__name__=["zpp_nape","geom","ZPP_CutInt"],gi.get=function(e,t,i,n,r,o,a){var s;return null==a&&(a=!1),null==o&&(o=!1),null==gi.zpp_pool?s=new gi:(s=gi.zpp_pool,gi.zpp_pool=s.next,s.next=null),s.virtualint=o,s.end=t,s.start=i,s.path0=n,s.path1=r,s.time=e,s.vertex=a,s},gi.prototype.next=null,gi.prototype.time=null,gi.prototype.virtualint=null,gi.prototype.vertex=null,gi.prototype.path0=null,gi.prototype.end=null,gi.prototype.start=null,gi.prototype.path1=null,gi.prototype.alloc=function(){},gi.prototype.free=function(){this.end=this.start=null,this.path0=this.path1=null},gi.prototype.__class__=gi,zpp_nape.geom.ZPP_Cutter=function(){}),Mt=(vi.__name__=["zpp_nape","geom","ZPP_Cutter"],vi.run=function(L,e,t,D,R,j){for(var F,N,U,H,i=e.zpp_inner,i=(null!=i._validate&&i._validate(),F=e.zpp_inner.x,e.zpp_inner),i=(null!=i._validate&&i._validate(),N=e.zpp_inner.y,t.zpp_inner),e=(null!=i._validate&&i._validate(),U=t.zpp_inner.x-F,t.zpp_inner),V=(null!=e._validate&&e._validate(),D?0:-1/0),W=R?1:1/0,q=-(N*U-F*(H=t.zpp_inner.y-N)),n=null,X=!1,Y=L;;){null==fi.zpp_pool?r=new fi:(r=fi.zpp_pool,fi.zpp_pool=r.next,r.next=null),r.vert=Y,r.posx=r.vert.x,r.posy=r.vert.y,r.value=r.posy*U-r.posx*H+q,r.positive=0<r.value,0==r.value&&(X=!0);var r,K=r;if(null==n?n=K.prev=K.next=K:(K.prev=n,K.next=n.next,n.next.prev=K,n.next=K),n=K,(Y=Y.next)==L)break}if(X){var Z=null,J=n;if(null!=n)for(var Q=n;;){var $=Q;if(0!=$.value){Z=$;break}if((Q=Q.next)==J)break}for(var ee=U,te=H,i=1/Math.sqrt(ee*ee+te*te),e=ee*=i,o=(ee=-(te*=i),te=e,null),a=Z;;)if(0==a.value||null!=o&&a!=o.next){var ie=o.value*a.value;if(0==ie){if((a=a.next)==Z)break}else{var ne,re=o.next;if(0<ie)ne=o.positive;else{var ie=re.next,oe=re.posx+ie.posx,ie=re.posy+ie.posy,ae=(oe*=.5)+1e-8*ee,se=(ie*=.5)+1e-8*te,pe=!1;if(null!=L)for(var le=L;;){var he=le,ue=he.prev;if((he.y<se&&ue.y>=se||ue.y<se&&he.y>=se)&&(he.x<=ae||ue.x<=ae)&&he.x+(se-he.y)/(ue.y-he.y)*(ue.x-he.x)<ae&&(pe=!pe),(le=le.next)==L)break}ne=pe}var de=a;if(null!=re)for(var ce=re;;)if(ce.positive=ne,(ce=ce.next)==de)break;if((a=(o=a).next)==Z)break}}else if((a=(o=a).next)==Z)break;for(;;){if(0!=a.value&&(null==o||a==o.next)){a=(o=a).next;break}var me=o.value*a.value;if(0==me){a=a.next;break}var ye,_e=o.next;if(0<me)ye=o.positive;else{var me=_e.next,xe=_e.posx+me.posx,me=_e.posy+me.posy,fe=(xe*=.5)+1e-8*ee,ge=(me*=.5)+1e-8*te,ve=!1;if(null!=L)for(var ze=L;;){var be=ze,we=be.prev;if((be.y<ge&&we.y>=ge||we.y<ge&&be.y>=ge)&&(be.x<=fe||we.x<=fe)&&be.x+(ge-be.y)/(we.y-be.y)*(we.x-be.x)<fe&&(ve=!ve),(ze=ze.next)==L)break}ye=ve}var Se=a;if(null!=_e)for(var Ce=_e;;)if(Ce.positive=ye,(Ce=Ce.next)==Se)break;a=(o=a).next;break}}null==vi.ints&&(vi.ints=new Bi),null==vi.paths&&(vi.paths=new Li);for(var ke,s=null,D=n.posx,R=n.posy,t=(null==Xi.zpp_pool?x=new Xi:(x=Xi.zpp_pool,Xi.zpp_pool=x.next,x.next=null),x.forced=!1,x.x=D,x.y=R,x),i=(null==s?s=t.prev=t.next=t:(t.next=s,t.prev=s.prev,s.prev.next=t,s.prev=t),s),e=(null==fi.zpp_pool?ke=new fi:(ke=fi.zpp_pool,fi.zpp_pool=ke.next,ke.next=null),ke.vert=s,(ke.parent=ke).rank=0,ke.used=!1,ke),p=(vi.paths.add(e),n);;){var Me,Pe,l,Oe,Te,h,Ge,Ae,u,Ee,Ie,d,Be,Le,c,De,Re,je,Fe,Ne,m,y=p.next,_=y.posx,Ue=y.posy,_=(null==Xi.zpp_pool?Me=new Xi:(Me=Xi.zpp_pool,Xi.zpp_pool=Me.next,Me.next=null),Me.forced=!1,Me.x=_,Me.y=Ue,Me);if(p.positive==y.positive?null==s?s=_.prev=_.next=_:(_.next=s,_.prev=s.prev,s.prev.next=_,s.prev=_):(Ue=0,Ue=y.posx-p.posx,De=c=Fe=0,(Pe=((Fe=y.posy-p.posy)*(c=F-p.posx)-Ue*(De=N-p.posy))*(je=1/(H*Ue-U*Fe)))<V||W<Pe?(null==gi.zpp_pool?l=new gi:(l=gi.zpp_pool,gi.zpp_pool=l.next,l.next=null),l.virtualint=!0,l.end=null,l.start=null,l.path0=null,l.path1=null,l.time=Pe,l.vertex=!1,vi.ints.add(l),null==s?s=_.prev=_.next=_:(_.next=s,_.prev=s.prev,s.prev.next=_,s.prev=_)):0==p.value?(u=(Ge=s.prev).x,Ae=Ge.y,(s=null)==Xi.zpp_pool?Oe=new Xi:(Oe=Xi.zpp_pool,Xi.zpp_pool=Oe.next,Oe.next=null),Oe.forced=!1,Oe.x=u,Oe.y=Ae,u=Oe,null==s?s=u.prev=u.next=u:(u.next=s,u.prev=s.prev,s.prev.next=u,s.prev=u),null==s?s=_.prev=_.next=_:(_.next=s,_.prev=s.prev,s.prev.next=_,s.prev=_),Ae=vi.paths.head.elt,null==fi.zpp_pool?Te=new fi:(Te=fi.zpp_pool,fi.zpp_pool=Te.next,Te.next=null),Te.vert=s,(Te.parent=Te).rank=0,Te.used=!1,vi.paths.add(Te),u=vi.paths.head.elt,null==gi.zpp_pool?h=new gi:(h=gi.zpp_pool,gi.zpp_pool=h.next,h.next=null),h.virtualint=!0,h.end=Ge,h.start=s,h.path0=Ae,h.path1=u,h.time=Pe,h.vertex=!1,vi.ints.add(h)):0==y.value?(null==s?s=_.prev=_.next=_:(_.next=s,_.prev=s.prev,s.prev.next=_,s.prev=_),Ge=s.prev,Ae=y.posx,u=y.posy,(s=null)==Xi.zpp_pool?Ee=new Xi:(Ee=Xi.zpp_pool,Xi.zpp_pool=Ee.next,Ee.next=null),Ee.forced=!1,Ee.x=Ae,Ee.y=u,y=Ee,null==s?s=y.prev=y.next=y:(y.next=s,y.prev=s.prev,s.prev.next=y,s.prev=y),y=vi.paths.head.elt,null==fi.zpp_pool?Ie=new fi:(Ie=fi.zpp_pool,fi.zpp_pool=Ie.next,Ie.next=null),Ie.vert=s,(Ie.parent=Ie).rank=0,Ie.used=!1,vi.paths.add(Ie),Le=vi.paths.head.elt,null==gi.zpp_pool?d=new gi:(d=gi.zpp_pool,gi.zpp_pool=d.next,d.next=null),d.virtualint=!0,d.end=Ge,d.start=s,d.path0=y,d.path1=Le,d.time=Pe,d.vertex=!1,vi.ints.add(d)):(Le=y=0,y=p.posx,Le=p.posy,y+=Ue*(Ue=(H*c-U*De)*je),Le+=Fe*Ue,null==Xi.zpp_pool?Be=new Xi:(Be=Xi.zpp_pool,Xi.zpp_pool=Be.next,Be.next=null),Be.forced=!1,Be.x=y,Be.y=Le,c=Be,null==s?s=c.prev=c.next=c:(c.next=s,c.prev=s.prev,s.prev.next=c,s.prev=c),De=s.prev,(s=null)==Xi.zpp_pool?Re=new Xi:(Re=Xi.zpp_pool,Xi.zpp_pool=Re.next,Re.next=null),Re.forced=!1,Re.x=y,Re.y=Le,je=Re,null==s?s=je.prev=je.next=je:(je.next=s,je.prev=s.prev,s.prev.next=je,s.prev=je),null==s?s=_.prev=_.next=_:(_.next=s,_.prev=s.prev,s.prev.next=_,s.prev=_),Fe=vi.paths.head.elt,null==fi.zpp_pool?Ne=new fi:(Ne=fi.zpp_pool,fi.zpp_pool=Ne.next,Ne.next=null),Ne.vert=s,(Ne.parent=Ne).rank=0,Ne.used=!1,vi.paths.add(Ne),Ue=vi.paths.head.elt,null==gi.zpp_pool?m=new gi:(m=gi.zpp_pool,gi.zpp_pool=m.next,m.next=null),m.virtualint=!1,m.end=De,m.start=s,m.path0=Fe,m.path1=Ue,m.time=Pe,m.vertex=!1,vi.ints.add(m))),(p=p.next)==n)break}var He,Ve,D=s.prev,R=(D.next.prev=i.prev,i.prev.next=D.next,(D.next=i).prev=D,vi.paths.head.elt);if(e==e.parent)He=e;else{for(var We=e,qe=null;We!=We.parent;){var Xe=We.parent;We.parent=qe,qe=We,We=Xe}for(;null!=qe;){var Ye=qe.parent;qe.parent=We,qe=Ye}He=We}if(R==R.parent)Ve=R;else{for(var Ke=R,Ze=null;Ke!=Ke.parent;){var Je=Ke.parent;Ke.parent=Ze,Ze=Ke,Ke=Je}for(;null!=Ze;){var Qe=Ze.parent;Ze.parent=Ke,Ze=Qe}Ve=Ke}He!=Ve&&(He.rank<Ve.rank?He.parent=Ve:He.rank>Ve.rank?Ve.parent=He:(Ve.parent=He).rank++);var x=vi.ints;if(null!=x.head&&null!=x.head.next){for(var $e,et,tt,it=x.head,nt=null,rt=null,ot=null,at=null,st=1;;){for($e=0,rt=it,nt=it=null;null!=rt;){for(++$e,ot=rt,et=0,tt=st;null!=ot&&et<st;)++et,ot=ot.next;for(;0<et||0<tt&&null!=ot;)0!=et&&(0==tt||null==ot||rt.elt.time<ot.elt.time)?(rt=(at=rt).next,--et):(ot=(at=ot).next,--tt),null!=nt?nt.next=at:it=at,nt=at;rt=ot}if(nt.next=null,st<<=1,!(1<$e))break}x.head=it,x.modified=!0,x.pushmod=!0}for(;null!=vi.ints.head;){var pt,lt,ht,ut,f=vi.ints.pop_unsafe(),g=vi.ints.pop_unsafe();if(f.virtualint||g.virtualint){if(f.virtualint&&!g.virtualint){var dt,v,z,ct,b,w,mt,S,C,k,yt,_t,xt=null!=g.end&&g.end.prev==g.end?((g.end.next=g.end.prev=null)!=(z=g.end).wrap&&(z.wrap.zpp_inner._inuse=!1,v=(dt=z.wrap).zpp_inner,dt.zpp_inner.outer=null,dt.zpp_inner=null,dt.zpp_pool=yi.poolVec2,yi.poolVec2=dt,null!=v.outer&&(v.outer.zpp_inner=null,v.outer=null),v._isimmutable=null,v._validate=null,v._invalidate=null,v.next=cr.zpp_pool,cr.zpp_pool=v,z.wrap=null),z.prev=z.next=null,z.next=Xi.zpp_pool,Xi.zpp_pool=z,null):(dt=g.end.prev,g.end.prev.next=g.end.next,g.end.next.prev=g.end.prev,(g.end.next=g.end.prev=null)!=(v=g.end).wrap&&(v.wrap.zpp_inner._inuse=!1,xt=(z=v.wrap).zpp_inner,z.zpp_inner.outer=null,z.zpp_inner=null,z.zpp_pool=yi.poolVec2,yi.poolVec2=z,null!=xt.outer&&(xt.outer.zpp_inner=null,xt.outer=null),xt._isimmutable=null,xt._validate=null,xt._invalidate=null,xt.next=cr.zpp_pool,cr.zpp_pool=xt,v.wrap=null),v.prev=v.next=null,v.next=Xi.zpp_pool,Xi.zpp_pool=v,g.end=null,dt);if(g.end=xt,g.vertex||(g.end!=g.path0.vert?(g.start.x=g.end.x,g.start.y=g.end.y,mt=null!=g.end&&g.end.prev==g.end?((g.end.next=g.end.prev=null)!=(w=g.end).wrap&&(w.wrap.zpp_inner._inuse=!1,b=(ct=w.wrap).zpp_inner,ct.zpp_inner.outer=null,ct.zpp_inner=null,ct.zpp_pool=yi.poolVec2,yi.poolVec2=ct,null!=b.outer&&(b.outer.zpp_inner=null,b.outer=null),b._isimmutable=null,b._validate=null,b._invalidate=null,b.next=cr.zpp_pool,cr.zpp_pool=b,w.wrap=null),w.prev=w.next=null,w.next=Xi.zpp_pool,Xi.zpp_pool=w,null):(ct=g.end.prev,g.end.prev.next=g.end.next,g.end.next.prev=g.end.prev,(g.end.next=g.end.prev=null)!=(b=g.end).wrap&&(b.wrap.zpp_inner._inuse=!1,mt=(w=b.wrap).zpp_inner,w.zpp_inner.outer=null,w.zpp_inner=null,w.zpp_pool=yi.poolVec2,yi.poolVec2=w,null!=mt.outer&&(mt.outer.zpp_inner=null,mt.outer=null),mt._isimmutable=null,mt._validate=null,mt._invalidate=null,mt.next=cr.zpp_pool,cr.zpp_pool=mt,b.wrap=null),b.prev=b.next=null,b.next=Xi.zpp_pool,Xi.zpp_pool=b,g.end=null,ct),g.end=mt):(M=g.start.next,g.start.x=M.x,g.start.y=M.y,null!=M&&M.prev==M?((M.next=M.prev=null)!=(k=M).wrap&&(k.wrap.zpp_inner._inuse=!1,C=(S=k.wrap).zpp_inner,S.zpp_inner.outer=null,S.zpp_inner=null,S.zpp_pool=yi.poolVec2,yi.poolVec2=S,null!=C.outer&&(C.outer.zpp_inner=null,C.outer=null),C._isimmutable=null,C._validate=null,C._invalidate=null,C.next=cr.zpp_pool,cr.zpp_pool=C,k.wrap=null),k.prev=k.next=null,k.next=Xi.zpp_pool,Xi.zpp_pool=k,M=null):(M.prev.next=M.next,M.next.prev=M.prev,(M.next=M.prev=null)!=(S=M).wrap&&(S.wrap.zpp_inner._inuse=!1,k=(C=S.wrap).zpp_inner,C.zpp_inner.outer=null,C.zpp_inner=null,C.zpp_pool=yi.poolVec2,yi.poolVec2=C,null!=k.outer&&(k.outer.zpp_inner=null,k.outer=null),k._isimmutable=null,k._validate=null,k._invalidate=null,k.next=cr.zpp_pool,cr.zpp_pool=k,S.wrap=null),S.prev=S.next=null,S.next=Xi.zpp_pool,Xi.zpp_pool=S))),g.end.next.prev=g.start.prev,g.start.prev.next=g.end.next,g.end.next=g.start,g.start.prev=g.end,g.path0==g.path0.parent)yt=g.path0;else{for(var ft=g.path0,gt=null;ft!=ft.parent;){var vt=ft.parent;ft.parent=gt,gt=ft,ft=vt}for(;null!=gt;){var zt=gt.parent;gt.parent=ft,gt=zt}yt=ft}if(g.path1==g.path1.parent)_t=g.path1;else{for(var bt=g.path1,wt=null;bt!=bt.parent;){var St=bt.parent;bt.parent=wt,wt=bt,bt=St}for(;null!=wt;){var Ct=wt.parent;wt.parent=bt,wt=Ct}_t=bt}yt!=_t&&(yt.rank<_t.rank?yt.parent=_t:yt.rank>_t.rank?_t.parent=yt:(_t.parent=yt).rank++)}else if(g.virtualint&&!f.virtualint){var M,kt,P,O,Mt,T,Pt,G,A,E,I,Ot,Tt,Gt=null!=f.end&&f.end.prev==f.end?((f.end.next=f.end.prev=null)!=(M=f.end).wrap&&(M.wrap.zpp_inner._inuse=!1,P=(kt=M.wrap).zpp_inner,kt.zpp_inner.outer=null,kt.zpp_inner=null,kt.zpp_pool=yi.poolVec2,yi.poolVec2=kt,null!=P.outer&&(P.outer.zpp_inner=null,P.outer=null),P._isimmutable=null,P._validate=null,P._invalidate=null,P.next=cr.zpp_pool,cr.zpp_pool=P,M.wrap=null),M.prev=M.next=null,M.next=Xi.zpp_pool,Xi.zpp_pool=M,null):(kt=f.end.prev,f.end.prev.next=f.end.next,f.end.next.prev=f.end.prev,(f.end.next=f.end.prev=null)!=(P=f.end).wrap&&(P.wrap.zpp_inner._inuse=!1,O=(Gt=P.wrap).zpp_inner,Gt.zpp_inner.outer=null,Gt.zpp_inner=null,Gt.zpp_pool=yi.poolVec2,yi.poolVec2=Gt,null!=O.outer&&(O.outer.zpp_inner=null,O.outer=null),O._isimmutable=null,O._validate=null,O._invalidate=null,O.next=cr.zpp_pool,cr.zpp_pool=O,P.wrap=null),P.prev=P.next=null,P.next=Xi.zpp_pool,Xi.zpp_pool=P,f.end=null,kt);if(f.end=Gt,f.vertex||(f.end!=f.path0.vert?(f.start.x=f.end.x,f.start.y=f.end.y,Pt=null!=f.end&&f.end.prev==f.end?((f.end.next=f.end.prev=null)!=(O=f.end).wrap&&(O.wrap.zpp_inner._inuse=!1,T=(Mt=O.wrap).zpp_inner,Mt.zpp_inner.outer=null,Mt.zpp_inner=null,Mt.zpp_pool=yi.poolVec2,yi.poolVec2=Mt,null!=T.outer&&(T.outer.zpp_inner=null,T.outer=null),T._isimmutable=null,T._validate=null,T._invalidate=null,T.next=cr.zpp_pool,cr.zpp_pool=T,O.wrap=null),O.prev=O.next=null,O.next=Xi.zpp_pool,Xi.zpp_pool=O,null):(Mt=f.end.prev,f.end.prev.next=f.end.next,f.end.next.prev=f.end.prev,(f.end.next=f.end.prev=null)!=(T=f.end).wrap&&(T.wrap.zpp_inner._inuse=!1,G=(Pt=T.wrap).zpp_inner,Pt.zpp_inner.outer=null,Pt.zpp_inner=null,Pt.zpp_pool=yi.poolVec2,yi.poolVec2=Pt,null!=G.outer&&(G.outer.zpp_inner=null,G.outer=null),G._isimmutable=null,G._validate=null,G._invalidate=null,G.next=cr.zpp_pool,cr.zpp_pool=G,T.wrap=null),T.prev=T.next=null,T.next=Xi.zpp_pool,Xi.zpp_pool=T,f.end=null,Mt),f.end=Pt):(G=f.start.next,f.start.x=G.x,f.start.y=G.y,null!=G&&G.prev==G?((G.next=G.prev=null)!=(I=G).wrap&&(I.wrap.zpp_inner._inuse=!1,E=(A=I.wrap).zpp_inner,A.zpp_inner.outer=null,A.zpp_inner=null,A.zpp_pool=yi.poolVec2,yi.poolVec2=A,null!=E.outer&&(E.outer.zpp_inner=null,E.outer=null),E._isimmutable=null,E._validate=null,E._invalidate=null,E.next=cr.zpp_pool,cr.zpp_pool=E,I.wrap=null),I.prev=I.next=null,I.next=Xi.zpp_pool,Xi.zpp_pool=I,G=null):(G.prev.next=G.next,G.next.prev=G.prev,(G.next=G.prev=null)!=(A=G).wrap&&(A.wrap.zpp_inner._inuse=!1,I=(E=A.wrap).zpp_inner,E.zpp_inner.outer=null,E.zpp_inner=null,E.zpp_pool=yi.poolVec2,yi.poolVec2=E,null!=I.outer&&(I.outer.zpp_inner=null,I.outer=null),I._isimmutable=null,I._validate=null,I._invalidate=null,I.next=cr.zpp_pool,cr.zpp_pool=I,A.wrap=null),A.prev=A.next=null,A.next=Xi.zpp_pool,Xi.zpp_pool=A))),f.end.next.prev=f.start.prev,f.start.prev.next=f.end.next,f.end.next=f.start,f.start.prev=f.end,f.path0==f.path0.parent)Ot=f.path0;else{for(var At=f.path0,Et=null;At!=At.parent;){var It=At.parent;At.parent=Et,Et=At,At=It}for(;null!=Et;){var Bt=Et.parent;Et.parent=At,Et=Bt}Ot=At}if(f.path1==f.path1.parent)Tt=f.path1;else{for(var Lt=f.path1,Dt=null;Lt!=Lt.parent;){var Rt=Lt.parent;Lt.parent=Dt,Dt=Lt,Lt=Rt}for(;null!=Dt;){var jt=Dt.parent;Dt.parent=Lt,Dt=jt}Tt=Lt}Ot!=Tt&&(Ot.rank<Tt.rank?Ot.parent=Tt:Ot.rank>Tt.rank?Tt.parent=Ot:(Tt.parent=Ot).rank++)}}else{if(f.end.next.prev=g.start.prev,g.start.prev.next=f.end.next,f.end.next=g.start,g.start.prev=f.end,g.end.next.prev=f.start.prev,f.start.prev.next=g.end.next,g.end.next=f.start,f.start.prev=g.end,f.path0==f.path0.parent)pt=f.path0;else{for(var Ft=f.path0,Nt=null;Ft!=Ft.parent;){var Ut=Ft.parent;Ft.parent=Nt,Nt=Ft,Ft=Ut}for(;null!=Nt;){var Ht=Nt.parent;Nt.parent=Ft,Nt=Ht}pt=Ft}if(g.path1==g.path1.parent)lt=g.path1;else{for(var Vt=g.path1,Wt=null;Vt!=Vt.parent;){var qt=Vt.parent;Vt.parent=Wt,Wt=Vt,Vt=qt}for(;null!=Wt;){var Xt=Wt.parent;Wt.parent=Vt,Wt=Xt}lt=Vt}if(pt!=lt&&(pt.rank<lt.rank?pt.parent=lt:pt.rank>lt.rank?lt.parent=pt:(lt.parent=pt).rank++),f.path1==f.path1.parent)ht=f.path1;else{for(var Yt=f.path1,Kt=null;Yt!=Yt.parent;){var Zt=Yt.parent;Yt.parent=Kt,Kt=Yt,Yt=Zt}for(;null!=Kt;){var Jt=Kt.parent;Kt.parent=Yt,Kt=Jt}ht=Yt}if(g.path0==g.path0.parent)ut=g.path0;else{for(var Qt=g.path0,$t=null;Qt!=Qt.parent;){var ei=Qt.parent;Qt.parent=$t,$t=Qt,Qt=ei}for(;null!=$t;){var ti=$t.parent;$t.parent=Qt,$t=ti}ut=Qt}ht!=ut&&(ht.rank<ut.rank?ht.parent=ut:ht.rank>ut.rank?ut.parent=ht:(ut.parent=ht).rank++)}f.end=f.start=null,f.path0=f.path1=null,f.next=gi.zpp_pool,gi.zpp_pool=f,g.end=g.start=null,g.path0=g.path1=null,g.next=gi.zpp_pool,gi.zpp_pool=g}for(var ii=null==j?new xi:j,ni=vi.paths.head;null!=ni;){var ri,oi=ni.elt;if(oi==oi.parent)ri=oi;else{for(var ai=oi,si=null;ai!=ai.parent;){var pi=ai.parent;ai.parent=si,si=ai,ai=pi}for(;null!=si;){var li=si.parent;si.parent=ai,si=li}ri=ai}if(ri.used)ni=ni.next;else{ri.used=!0;for(var B=ri.vert,hi=!0;null!=ri.vert&&(hi||B!=ri.vert);)var ui,hi=!1,B=B.x==B.next.x&&B.y==B.next.y?(B==ri.vert&&(ri.vert=B.next==B?null:B.next,hi=!0),null!=B&&B.prev==B?B.next=B.prev=null:(ui=B.next,B.prev.next=B.next,B.next.prev=B.prev,B.next=B.prev=null,B=null,ui)):B.next;null!=ri.vert&&((oi=_i.get()).zpp_inner.vertices=ri.vert,ii.zpp_inner.reverse_flag?ii.push(oi):ii.unshift(oi)),ni=ni.next}}for(;null!=vi.paths.head;){var di=vi.paths.pop_unsafe();di.vert=null,di.parent=null,di.next=fi.zpp_pool,fi.zpp_pool=di}for(;null!=n;)var ci,mi,n=null!=n&&n.prev==n?(n.next=n.prev=null,(ci=n).vert=null,ci.parent=null,ci.next=fi.zpp_pool,fi.zpp_pool=ci,null):(ci=n.next,n.prev.next=n.next,n.next.prev=n.prev,n.next=n.prev=null,(mi=n).vert=null,mi.parent=null,mi.next=fi.zpp_pool,fi.zpp_pool=mi,n=null,ci);return ii},vi.prototype.__class__=vi,zpp_nape.geom.ZPP_Geom=function(){}),Xi=(Mt.__name__=["zpp_nape","geom","ZPP_Geom"],Mt.validateShape=function(e){if(1==e.type){var t=e.polygon;if(t.zip_gaxi&&null!=t.body){t.zip_gaxi=!1,t.validate_laxi();var i=t.body;if(i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),t.zip_gverts&&null!=t.body){t.zip_gverts=!1,t.validate_lverts();for(var i=t.body,n=(i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),t.lverts.next),r=t.gverts.next;null!=r;){var o=r,a=n,n=n.next;o.x=t.body.posx+(t.body.axisy*a.x-t.body.axisx*a.y),o.y=t.body.posy+(a.x*t.body.axisx+a.y*t.body.axisy),r=r.next}}for(var s=t.edges.head,p=l=t.gverts.next,l=l.next;null!=l;){var h=l,u=s.elt,s=s.next;u.gp0=p,u.gp1=h,u.gnormx=t.body.axisy*u.lnormx-t.body.axisx*u.lnormy,u.gnormy=u.lnormx*t.body.axisx+u.lnormy*t.body.axisy,u.gprojection=t.body.posx*u.gnormx+t.body.posy*u.gnormy+u.lprojection,null!=u.wrap_gnorm&&(u.wrap_gnorm.zpp_inner.x=u.gnormx,u.wrap_gnorm.zpp_inner.y=u.gnormy),u.tp0=u.gp0.y*u.gnormx-u.gp0.x*u.gnormy,u.tp1=u.gp1.y*u.gnormx-u.gp1.x*u.gnormy,p=h,l=l.next}i=s.elt;i.gp0=p,i.gp1=t.gverts.next,i.gnormx=t.body.axisy*i.lnormx-t.body.axisx*i.lnormy,i.gnormy=i.lnormx*t.body.axisx+i.lnormy*t.body.axisy,i.gprojection=t.body.posx*i.gnormx+t.body.posy*i.gnormy+i.lprojection,null!=i.wrap_gnorm&&(i.wrap_gnorm.zpp_inner.x=i.gnormx,i.wrap_gnorm.zpp_inner.y=i.gnormy),i.tp0=i.gp0.y*i.gnormx-i.gp0.x*i.gnormy,i.tp1=i.gp1.y*i.gnormx-i.gp1.x*i.gnormy}}if(e.zip_aabb&&null!=e.body)if(e.zip_aabb=!1,0==e.type){i=e.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var d=i.polygon;if(null==d.lverts.next.next)d.localCOMx=d.lverts.next.x,d.localCOMy=d.lverts.next.y;else if(null==d.lverts.next.next.next)d.localCOMx=d.lverts.next.x,d.localCOMy=d.lverts.next.y,d.localCOMx+=d.lverts.next.next.x,d.localCOMy+=d.lverts.next.next.y,d.localCOMx*=.5,d.localCOMy*=.5;else{d.localCOMx=0;var c=d.localCOMy=0,m=d.lverts.next,y=m,_=m=m.next;for(m=m.next;null!=m;){var x=m,f=(c+=_.x*(x.y-y.y),x.y*_.x-x.x*_.y);d.localCOMx+=(_.x+x.x)*f,d.localCOMy+=(_.y+x.y)*f,y=_,_=x,m=m.next}var g=m=d.lverts.next,v=(c+=_.x*(g.y-y.y),g.y*_.x-g.x*_.y),v=(d.localCOMx+=(_.x+g.x)*v,d.localCOMy+=(_.y+g.y)*v,y=_,m=m.next),z=(c+=g.x*(v.y-y.y),v.y*g.x-v.x*g.y),g=(d.localCOMx+=(g.x+v.x)*z,d.localCOMy+=(g.y+v.y)*z,c=1/(3*c));d.localCOMx*=g,d.localCOMy*=g}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}v=i.body;v.zip_axis&&(v.zip_axis=!1,v.axisx=Math.sin(v.rot),v.axisy=Math.cos(v.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}z=i.radius,g=i.radius;i.aabb.minx=i.worldCOMx-z,i.aabb.miny=i.worldCOMy-g,i.aabb.maxx=i.worldCOMx+z,i.aabb.maxy=i.worldCOMy+g}else{var b=e.polygon;if(b.zip_gverts&&null!=b.body){b.zip_gverts=!1,b.validate_lverts();for(var v=b.body,w=(v.zip_axis&&(v.zip_axis=!1,v.axisx=Math.sin(v.rot),v.axisy=Math.cos(v.rot)),b.lverts.next),S=b.gverts.next;null!=S;){var C=S,k=w,w=w.next;C.x=b.body.posx+(b.body.axisy*k.x-b.body.axisx*k.y),C.y=b.body.posy+(k.x*b.body.axisx+k.y*b.body.axisy),S=S.next}}for(var z=b.gverts.next,M=(b.aabb.minx=z.x,b.aabb.miny=z.y,b.aabb.maxx=z.x,b.aabb.maxy=z.y,b.gverts.next.next);null!=M;){var P=M;P.x<b.aabb.minx&&(b.aabb.minx=P.x),P.x>b.aabb.maxx&&(b.aabb.maxx=P.x),P.y<b.aabb.miny&&(b.aabb.miny=P.y),P.y>b.aabb.maxy&&(b.aabb.maxy=P.y),M=M.next}}if(e.zip_worldCOM&&null!=e.body){if(e.zip_worldCOM=!1,e.zip_localCOM){if(e.zip_localCOM=!1,1==e.type){var O=e.polygon;if(null==O.lverts.next.next)O.localCOMx=O.lverts.next.x,O.localCOMy=O.lverts.next.y;else if(null==O.lverts.next.next.next)O.localCOMx=O.lverts.next.x,O.localCOMy=O.lverts.next.y,O.localCOMx+=O.lverts.next.next.x,O.localCOMy+=O.lverts.next.next.y,O.localCOMx*=.5,O.localCOMy*=.5;else{O.localCOMx=0;var T=O.localCOMy=0,G=O.lverts.next,A=G,E=G=G.next;for(G=G.next;null!=G;){var I=G,B=(T+=E.x*(I.y-A.y),I.y*E.x-I.x*E.y);O.localCOMx+=(E.x+I.x)*B,O.localCOMy+=(E.y+I.y)*B,A=E,E=I,G=G.next}i=G=O.lverts.next,g=(T+=E.x*(i.y-A.y),i.y*E.x-i.x*E.y),v=(O.localCOMx+=(E.x+i.x)*g,O.localCOMy+=(E.y+i.y)*g,A=E,G=G.next),z=(T+=i.x*(v.y-A.y),v.y*i.x-v.x*i.y),g=(O.localCOMx+=(i.x+v.x)*z,O.localCOMy+=(i.y+v.y)*z,T=1/(3*T));O.localCOMx*=g,O.localCOMy*=g}}null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=e.localCOMy)}i=e.body;i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),e.worldCOMx=e.body.posx+(e.body.axisy*e.localCOMx-e.body.axisx*e.localCOMy),e.worldCOMy=e.body.posy+(e.localCOMx*e.body.axisx+e.localCOMy*e.body.axisy)}},Mt.prototype.__class__=Mt,zpp_nape.geom.ZPP_GeomVert=function(){this.forced=!1,this.wrap=null,this.next=null,this.prev=null,this.y=0,this.x=0}),Pt=(Xi.__name__=["zpp_nape","geom","ZPP_GeomVert"],Xi.get=function(e,t){var i;return null==Xi.zpp_pool?i=new Xi:(i=Xi.zpp_pool,Xi.zpp_pool=i.next,i.next=null),i.forced=!1,i.x=e,i.y=t,i},Xi.prototype.x=null,Xi.prototype.y=null,Xi.prototype.prev=null,Xi.prototype.next=null,Xi.prototype.wrap=null,Xi.prototype.forced=null,Xi.prototype.free=function(){var e,t;null!=this.wrap&&(this.wrap.zpp_inner._inuse=!1,t=(e=this.wrap).zpp_inner,e.zpp_inner.outer=null,e.zpp_inner=null,e.zpp_pool=yi.poolVec2,yi.poolVec2=e,null!=t.outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,this.wrap=null),this.prev=this.next=null},Xi.prototype.alloc=function(){this.forced=!1},Xi.prototype.wrapper=function(){var e,t,i,n;return null==this.wrap&&(e=this.x,t=this.y,null==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,i.zpp_inner=n,i.zpp_inner.outer=i):(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.x==e&&(null!=(n=i.zpp_inner)._validate&&n._validate(),i.zpp_inner.y==t)||(i.zpp_inner.x=e,i.zpp_inner.y=t,null!=(n=i.zpp_inner)._invalidate&&n._invalidate(n))),i.zpp_inner.weak=!1,this.wrap=i,this.wrap.zpp_inner._inuse=!0,this.wrap.zpp_inner._invalidate=Z(this,this.modwrap),this.wrap.zpp_inner._validate=Z(this,this.getwrap)),this.wrap},Xi.prototype.modwrap=function(e){this.x=e.x,this.y=e.y},Xi.prototype.getwrap=function(){this.wrap.zpp_inner.x=this.x,this.wrap.zpp_inner.y=this.y},Xi.prototype.__class__=Xi,zpp_nape.geom.ZPP_GeomPoly=function(e){this.vertices=null,this.outer=null,this.outer=e}),Ot=(Pt.__name__=["zpp_nape","geom","ZPP_GeomPoly"],Pt.prototype.outer=null,Pt.prototype.vertices=null,Pt.prototype.__class__=Pt,zpp_nape.geom.ZPP_GeomVertexIterator=function(){this.next=null,this.outer=null,this.forward=!1,this.first=!1,this.start=null,this.ptr=null,this.outer=new Y}),Tt=(Ot.__name__=["zpp_nape","geom","ZPP_GeomVertexIterator"],Ot.get=function(e,t){var i;return null==Ot.zpp_pool?i=new Ot:(i=Ot.zpp_pool,Ot.zpp_pool=i.next,i.next=null),(i.outer.zpp_inner=i).ptr=e,i.forward=t,i.start=e,i.first=null!=e,i.outer},Ot.prototype.ptr=null,Ot.prototype.start=null,Ot.prototype.first=null,Ot.prototype.forward=null,Ot.prototype.outer=null,Ot.prototype.next=null,Ot.prototype.free=function(){this.outer.zpp_inner=null,this.ptr=this.start=null},Ot.prototype.alloc=function(){},Ot.prototype.__class__=Ot,zpp_nape.geom.ZPP_MarchSpan=function(){this.next=null,this.out=!1,this.rank=0,this.parent=null,this.parent=this}),Yi=(Tt.__name__=["zpp_nape","geom","ZPP_MarchSpan"],Tt.prototype.parent=null,Tt.prototype.rank=null,Tt.prototype.out=null,Tt.prototype.next=null,Tt.prototype.free=function(){this.parent=this},Tt.prototype.alloc=function(){this.out=!1,this.rank=0},Tt.prototype.__class__=Tt,zpp_nape.geom.ZPP_MarchPair=function(){this.next=null,this.spanr=null,this.span2=null,this.span1=null,this.pd=null,this.okeyr=0,this.keyr=0,this.pr=null,this.okey2=0,this.key2=0,this.p2=null,this.okey1=0,this.key1=0,this.p1=null}),Ki=(Yi.__name__=["zpp_nape","geom","ZPP_MarchPair"],Yi.prototype.p1=null,Yi.prototype.key1=null,Yi.prototype.okey1=null,Yi.prototype.p2=null,Yi.prototype.key2=null,Yi.prototype.okey2=null,Yi.prototype.pr=null,Yi.prototype.keyr=null,Yi.prototype.okeyr=null,Yi.prototype.pd=null,Yi.prototype.span1=null,Yi.prototype.span2=null,Yi.prototype.spanr=null,Yi.prototype.next=null,Yi.prototype.free=function(){this.p1=this.p2=this.pr=this.pd=null,this.span1=this.span2=this.spanr=null},Yi.prototype.alloc=function(){},Yi.prototype.__class__=Yi,zpp_nape.geom.ZPP_MarchingSquares=function(){}),Gt=(Ki.__name__=["zpp_nape","geom","ZPP_MarchingSquares"],Ki.isos=null,Ki.ints=null,Ki.map=null,Ki.run=function(L,e,t,D,R,i,j,n,r){for(var F=D-e,o=i.zpp_inner,o=(null!=o._validate&&o._validate(),F/i.zpp_inner.x),a=0|o,F=R-t,s=i.zpp_inner,s=(null!=s._validate&&s._validate(),F/i.zpp_inner.y),p=0|s,N=(o!=a&&++a,s!=p&&++p,n&&(null==Ki.map?Ki.map=new Mi(a,p):Ki.map.resize(a,p,null)),null==Ki.isos?Ki.isos=new Ci(a+1,p+1):Ki.isos.resize(a+1,p+1,0),0),U=p+1;N<U;)for(var H,V,W=N++,q=(V=0==W?t:W<=p?(null!=(H=i.zpp_inner)._validate&&H._validate(),t+i.zpp_inner.y*W):R,0),X=a+1;q<X;){var Y,K=q++,Z=(Y=0==K?e:K<=a?(null!=(Y=i.zpp_inner)._validate&&Y._validate(),e+i.zpp_inner.x*K):D,Ki.isos),J=L(Y,V);Z.list[W*Z.width+K]=J}null==Ki.ints?Ki.ints=new ki(a+1,1+(p<<1)):Ki.ints.resize(a+1,1+(p<<1),null);for(var l=null,Q=(n&&(null==Tt.zpp_pool?l=new Tt:(l=Tt.zpp_pool,Tt.zpp_pool=l.next,l.next=null),l.out=!1,l.rank=0),t),$=0,ee=p;$<ee;)for(var te,h=$++,ie=Q,ne=h==p-1?R:(null!=(te=i.zpp_inner)._validate&&te._validate(),t+i.zpp_inner.y*(1+h)),Q=ne,re=e,u=null,oe=0,ae=a;oe<ae;){var d,c=oe++,m=re,se=c==a-1?D:(null!=(se=i.zpp_inner)._validate&&se._validate(),e+i.zpp_inner.x*(1+c)),re=se,m=Ki.me.marchSquare(L,Ki.isos,Ki.ints,m,ie,se,ne,c,h,0==c||!n,0==h||!n,c==a-1||!n,h==p-1||!n,j);null==m?u=null:n?(d=null!=m.p2&&14!=m.okey2?m.p2:m.p1,m.pd=(0==(128&(d==m.p2?m.okey2:m.okey1))?d:d.prev).prev,(d=Ki.map).list[h*d.width+c]=m,null!=u&&(d=0!=(1&(c=1&(d=m.key1)|(192&d)>>5))?1:0,0!=(2&c)&&++d,0!=(4&c)&&++d,2<=d)?(Ki.me.combLR(u,m),m.span1=u.spanr):(null==Tt.zpp_pool?m.span1=new Tt:(m.span1=Tt.zpp_pool,Tt.zpp_pool=m.span1.next,m.span1.next=null),(c=m.span1).out=!1,c.rank=0,m.span1.next=l,l=m.span1),null!=m.p2?(null==Tt.zpp_pool?m.span2=new Tt:(m.span2=Tt.zpp_pool,Tt.zpp_pool=m.span2.next,m.span2.next=null),(d=m.span2).out=!1,d.rank=0,m.span2.next=l,l=m.span2,m.spanr=m.span2):m.spanr=m.span1,d=0!=(1&(c=(28&m.keyr)>>2))?1:0,0!=(2&c)&&++d,0!=(4&c)&&++d,u=2<=d?m:null):(Ki.me.output(r,m.p1),null!=m.p2&&Ki.me.output(r,m.p2),m.p1=m.p2=m.pr=m.pd=null,m.span1=m.span2=m.spanr=null,m.next=Yi.zpp_pool,Yi.zpp_pool=m)}if(n){for(var pe=1,le=p;pe<le;)for(var he=pe++,y=null,ue=0,de=a;ue<de;){var _=ue++,x=Ki.map,x=x.list[he*x.width+_];if(null==x)y=null;else{var f=7&(null!=x.p2&&14==x.okey2?x.okey2:x.okey1),g=0!=(1&f)?1:0;if(0!=(2&f)&&++g,0!=(4&f)&&++g,g<2)y=null;else{f=Ki.map,g=f.list[(he-1)*f.width+_];if(null==g)y=null;else{f=(112&(null!=g.p2&&56==g.okey2?g.okey2:g.okey1))>>4,_=0!=(1&f)?1:0;if(0!=(2&f)&&++_,0!=(4&f)&&++_,_<2)y=null;else{var ce,me,v,z,f=null!=g.p2&&56==g.okey2?g.span2:g.span1,_=null!=x.p2&&14==x.okey2?x.span2:x.span1;if(f==f.parent)ce=f;else{for(var b=f,w=null;b!=b.parent;){var ye=b.parent;b.parent=w,w=b,b=ye}for(;null!=w;){var _e=w.parent;w.parent=b,w=_e}ce=b}if(_==_.parent)me=_;else{for(var S=_,C=null;S!=S.parent;){var xe=S.parent;S.parent=C,C=S,S=xe}for(;null!=C;){var fe=C.parent;C.parent=S,C=fe}me=S}if(ce==me)y!=_&&Ki.me.combUD_virtual(g,x);else{if(f==f.parent)v=f;else{for(var k=f,M=null;k!=k.parent;){var ge=k.parent;k.parent=M,M=k,k=ge}for(;null!=M;){var ve=M.parent;M.parent=k,M=ve}v=k}if(_==_.parent)z=_;else{for(var P=_,O=null;P!=P.parent;){var ze=P.parent;P.parent=O,O=P,P=ze}for(;null!=O;){var be=O.parent;O.parent=P,O=be}z=P}v!=z&&(v.rank<z.rank?v.parent=z:v.rank>z.rank?z.parent=v:(z.parent=v).rank++),Ki.me.combUD(g,x)}y=0!=(4&(_==x.span2?x.okey2:x.okey1))?_:null}}}}}for(var we=0,Se=p;we<Se;)for(var Ce=we++,ke=0,Me=a;ke<Me;){var T,Pe=ke++,G=Ki.map,G=G.list[Ce*G.width+Pe];if(null!=G){if(G.span1==G.span1.parent)T=G.span1;else{for(var A=G.span1,E=null;A!=A.parent;){var Oe=A.parent;A.parent=E,E=A,A=Oe}for(;null!=E;){var Te=E.parent;E.parent=A,E=Te}T=A}if(T.out||(T.out=!0,Ki.me.output(r,G.p1)),null!=G.p2){if(G.span2==G.span2.parent)T=G.span2;else{for(var I=G.span2,B=null;I!=I.parent;){var Ge=I.parent;I.parent=B,B=I,I=Ge}for(;null!=B;){var Ae=B.parent;B.parent=I,B=Ae}T=I}T.out||(T.out=!0,Ki.me.output(r,G.p2))}G.p1=G.p2=G.pr=G.pd=null,G.span1=G.span2=G.spanr=null,G.next=Yi.zpp_pool,Yi.zpp_pool=G;G=Ki.map;G.list[Ce*G.width+Pe]=null}}for(;null!=l;){var Ee=l,l=Ee.next;(Ee.parent=Ee).next=Tt.zpp_pool,Tt.zpp_pool=Ee}}},Ki.ISO=function(e,t,i){return e(t,i)},Ki.prototype.output=function(e,t){var i;if(null==t||t.next==t||t.next==t.prev)p=!0;else{var n=0,r=t;if(null!=t)for(var o=t;;){var a=o;if(n+=a.x*(a.next.y-a.prev.y),(o=o.next)==r)break}var s=.5*n,p=s*s<ur.epsilon*ur.epsilon}if(p)for(;null!=t;)t=null!=t&&t.prev==t?t.next=t.prev=null:(i=t.next,t.prev.next=t.next,t.next.prev=t.prev,t.next=t.prev=null,t=null,i);else{s=_i.get();s.zpp_inner.vertices=t,e.zpp_inner.reverse_flag?e.push(s):e.unshift(s)}},Ki.prototype.linkright=function(e,t){t&=7;return 0==t?e:(3==t?e.next:e).next},Ki.prototype.linkleft=function(e,t){return 0==(1&t)?e.prev:e},Ki.prototype.linkdown=function(e,t){return(0==(128&t)?e:e.prev).prev},Ki.prototype.linkup=function(e,t){return e},Ki.prototype.combLR=function(e,t){var i,n,r=e.pr,o=7&e.okeyr,o=0==o?r:(3==o?r.next:r).next,r=t.p1,r=0==(1&t.okey1)?r.prev:r,a=o.next,s=r.prev,p=(0!=(4&e.keyr)?(t.pr==t.p1&&(t.pr=o.prev),t.p1=o.prev,o.prev.next=r.next,r.next.prev=o.prev,null!=(n=o).wrap&&(n.wrap.zpp_inner._inuse=!1,i=(p=n.wrap).zpp_inner,p.zpp_inner.outer=null,p.zpp_inner=null,p.zpp_pool=yi.poolVec2,yi.poolVec2=p,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i,n.wrap=null),n.prev=n.next=null,n.next=Xi.zpp_pool,Xi.zpp_pool=n):(o.next=r.next,r.next.prev=o),r);null!=p.wrap&&(p.wrap.zpp_inner._inuse=!1,n=(i=p.wrap).zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n,p.wrap=null),p.prev=p.next=null,p.next=Xi.zpp_pool,Xi.zpp_pool=p,0!=(16&e.keyr)?(t.pd=a.next,a.next.prev=s.prev,s.prev.next=a.next,null!=a.wrap&&(a.wrap.zpp_inner._inuse=!1,r=(o=a.wrap).zpp_inner,o.zpp_inner.outer=null,o.zpp_inner=null,o.zpp_pool=yi.poolVec2,yi.poolVec2=o,null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r,a.wrap=null),a.prev=a.next=null,a.next=Xi.zpp_pool,Xi.zpp_pool=a):(a.prev=s.prev,s.prev.next=a),null!=s.wrap&&(s.wrap.zpp_inner._inuse=!1,n=(i=s.wrap).zpp_inner,i.zpp_inner.outer=null,i.zpp_inner=null,i.zpp_pool=yi.poolVec2,yi.poolVec2=i,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n,s.wrap=null),s.prev=s.next=null,s.next=Xi.zpp_pool,Xi.zpp_pool=s},Ki.prototype.combUD=function(e,t){null!=e.p2&&e.key2;var i,t=null!=t.p2&&14==t.key2?t.p2:t.p1,n=e.pd,r=n.prev,o=t.next;t.next=n.next,n.next.prev=t,null!=n.wrap&&(n.wrap.zpp_inner._inuse=!1,i=(t=n.wrap).zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i,n.wrap=null),n.prev=n.next=null,n.next=Xi.zpp_pool,Xi.zpp_pool=n,o.prev=r.prev,r.prev.next=o,r==e.p1&&(e.p1=o),null!=r.wrap&&(r.wrap.zpp_inner._inuse=!1,i=(t=r.wrap).zpp_inner,t.zpp_inner.outer=null,t.zpp_inner=null,t.zpp_pool=yi.poolVec2,yi.poolVec2=t,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i,r.wrap=null),r.prev=r.next=null,r.next=Xi.zpp_pool,Xi.zpp_pool=r},Ki.prototype.combUD_virtual=function(e,t){null!=e.p2&&e.key2;t=null!=t.p2&&14==t.key2?t.p2:t.p1,e=e.pd;e.forced=t.forced=e.prev.forced=t.next.forced=!0},Ki.prototype.combLeft=function(e){var e=1&e|(192&e)>>5,t=0!=(1&e)?1:0;return 0!=(2&e)&&++t,0!=(4&e)&&++t,2<=t},Ki.prototype.combRight=function(e){var e=(28&e)>>2,t=0!=(1&e)?1:0;return 0!=(2&e)&&++t,0!=(4&e)&&++t,2<=t},Ki.prototype.combUp=function(e){var e=7&e,t=0!=(1&e)?1:0;return 0!=(2&e)&&++t,0!=(4&e)&&++t,2<=t},Ki.prototype.combDown=function(e){var e=(112&e)>>4,t=0!=(1&e)?1:0;return 0!=(2&e)&&++t,0!=(4&e)&&++t,2<=t},Ki.prototype.comb=function(e){var t=0!=(1&e)?1:0;return 0!=(2&e)&&++t,0!=(4&e)&&++t,2<=t},Ki.prototype.marchSquare=function(e,L,t,i,n,r,o,a,s,p,l,h,u,d){var c,D=0,R=L.list[s*L.width+a],j=(R<0&&(D=8),L.list[s*L.width+(a+1)]),F=(j<0&&(D|=4),L.list[(s+1)*L.width+(a+1)]),N=(F<0&&(D|=2),L.list[(s+1)*L.width+a]);if(N<0&&(D|=1),0==D)return null;if(null==Yi.zpp_pool?c=new Yi:(c=Yi.zpp_pool,Yi.zpp_pool=c.next,c.next=null),10!=D&&5!=D){for(var m=Ki.look_march[D],U=(c.okey1=m,0);U<8;){var H,V,W,q,X,Y,K,y,Z,J,Q,$,ee,te,ie,ne,re,oe,_=U++;0!=(m&1<<_)&&(y=null,0==_?(null==Xi.zpp_pool?H=new Xi:(H=Xi.zpp_pool,Xi.zpp_pool=H.next,H.next=null),H.forced=!1,H.x=i,H.y=n,y=H,(p||l)&&(y.forced=!0)):2==_?(null==Xi.zpp_pool?V=new Xi:(V=Xi.zpp_pool,Xi.zpp_pool=V.next,V.next=null),V.forced=!1,V.x=r,V.y=n,y=V,(h||l)&&(y.forced=!0)):4==_?(null==Xi.zpp_pool?W=new Xi:(W=Xi.zpp_pool,Xi.zpp_pool=W.next,W.next=null),W.forced=!1,W.x=r,W.y=o,y=W,(h||u)&&(y.forced=!0)):6==_?(null==Xi.zpp_pool?q=new Xi:(q=Xi.zpp_pool,Xi.zpp_pool=q.next,q.next=null),q.forced=!1,q.x=i,q.y=o,y=q,(p||u)&&(y.forced=!0)):1==_?(null==(y=t.list[(s<<1)*t.width+a])?(Y=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?X=new Xi:(X=Xi.zpp_pool,Xi.zpp_pool=X.next,X.next=null),X.forced=!1,X.x=Y,X.y=n,y=X,t.list[(s<<1)*t.width+a]=y):(Y=y.x,Z=y.y,null==Xi.zpp_pool?K=new Xi:(K=Xi.zpp_pool,Xi.zpp_pool=K.next,K.next=null),K.forced=!1,K.x=Y,K.y=Z,y=K),l&&(y.forced=!0),y.x!=i&&y.x!=r||(y.x==i&&0!=(1&m)||y.x==r&&0!=(4&m))&&(m^=2)):5==_?(null==(y=t.list[(2+(s<<1))*t.width+a])?(Z=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?J=new Xi:(J=Xi.zpp_pool,Xi.zpp_pool=J.next,J.next=null),J.forced=!1,J.x=Z,J.y=o,y=J,t.list[(2+(s<<1))*t.width+a]=y):($=y.x,te=y.y,null==Xi.zpp_pool?Q=new Xi:(Q=Xi.zpp_pool,Xi.zpp_pool=Q.next,Q.next=null),Q.forced=!1,Q.x=$,Q.y=te,y=Q),u&&(y.forced=!0),y.x!=i&&y.x!=r||(y.x==i&&0!=(64&m)||y.x==r&&0!=(16&m))&&(m^=32)):3==_?(null==(y=t.list[(1+(s<<1))*t.width+(a+1)])?($=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?ee=new Xi:(ee=Xi.zpp_pool,Xi.zpp_pool=ee.next,ee.next=null),ee.forced=!1,ee.x=r,ee.y=$,y=ee,t.list[(1+(s<<1))*t.width+(a+1)]=y):(te=y.x,_=y.y,null==Xi.zpp_pool?ie=new Xi:(ie=Xi.zpp_pool,Xi.zpp_pool=ie.next,ie.next=null),ie.forced=!1,ie.x=te,ie.y=_,y=ie),h&&(y.forced=!0),y.y!=n&&y.y!=o||(y.y==n&&0!=(4&m)||y.y==o&&0!=(16&m))&&(m^=8)):(null==(y=t.list[(1+(s<<1))*t.width+a])?(_=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?ne=new Xi:(ne=Xi.zpp_pool,Xi.zpp_pool=ne.next,ne.next=null),ne.forced=!1,ne.x=i,ne.y=_,y=ne,t.list[(1+(s<<1))*t.width+a]=y):(_=y.x,re=y.y,null==Xi.zpp_pool?oe=new Xi:(oe=Xi.zpp_pool,Xi.zpp_pool=oe.next,oe.next=null),oe.forced=!1,oe.x=_,oe.y=re,y=oe),p&&(y.forced=!0),y.y!=n&&y.y!=o||(y.y==n&&0!=(1&m)||y.y==o&&0!=(64&m))&&(m^=128)),_=y,null==c.p1?c.p1=_.prev=_.next=_:(_.prev=c.p1,_.next=c.p1.next,c.p1.next.prev=_,c.p1.next=_),c.p1=_)}c.p1=c.p1.next,1!=(c.key1=m)&&4!=m&&16!=m&&64!=m&&3!=m&&12!=m&&48!=m&&192!=m&&129!=m&&6!=m&&24!=m&&96!=m&&5!=m&&20!=m&&80!=m&&65!=m&&17!=m&&68!=m||(c.key1=m=0,c.p1=null),0==m?c=null:(c.pr=c.p1,c.okeyr=c.okey1,c.keyr=c.key1)}else{L=e(.5*(i+r),.5*(n+o))<0;if(10==D)if(L){for(var x=187,ae=(c.okey1=187,0);ae<8;){var se,pe,le,he,ue,de,ce,f,me,ye,_e,xe,fe,ge,ve,ze,be,we,g=ae++;0!=(x&1<<g)&&(f=null,0==g?(null==Xi.zpp_pool?se=new Xi:(se=Xi.zpp_pool,Xi.zpp_pool=se.next,se.next=null),se.forced=!1,se.x=i,se.y=n,f=se,(p||l)&&(f.forced=!0)):2==g?(null==Xi.zpp_pool?pe=new Xi:(pe=Xi.zpp_pool,Xi.zpp_pool=pe.next,pe.next=null),pe.forced=!1,pe.x=r,pe.y=n,f=pe,(h||l)&&(f.forced=!0)):4==g?(null==Xi.zpp_pool?le=new Xi:(le=Xi.zpp_pool,Xi.zpp_pool=le.next,le.next=null),le.forced=!1,le.x=r,le.y=o,f=le,(h||u)&&(f.forced=!0)):6==g?(null==Xi.zpp_pool?he=new Xi:(he=Xi.zpp_pool,Xi.zpp_pool=he.next,he.next=null),he.forced=!1,he.x=i,he.y=o,f=he,(p||u)&&(f.forced=!0)):1==g?(null==(f=t.list[(s<<1)*t.width+a])?(de=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?ue=new Xi:(ue=Xi.zpp_pool,Xi.zpp_pool=ue.next,ue.next=null),ue.forced=!1,ue.x=de,ue.y=n,f=ue,t.list[(s<<1)*t.width+a]=f):(de=f.x,me=f.y,null==Xi.zpp_pool?ce=new Xi:(ce=Xi.zpp_pool,Xi.zpp_pool=ce.next,ce.next=null),ce.forced=!1,ce.x=de,ce.y=me,f=ce),l&&(f.forced=!0),f.x!=i&&f.x!=r||(f.x==i&&0!=(1&x)||f.x==r&&0!=(4&x))&&(x^=2)):5==g?(null==(f=t.list[(2+(s<<1))*t.width+a])?(me=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?ye=new Xi:(ye=Xi.zpp_pool,Xi.zpp_pool=ye.next,ye.next=null),ye.forced=!1,ye.x=me,ye.y=o,f=ye,t.list[(2+(s<<1))*t.width+a]=f):(xe=f.x,ge=f.y,null==Xi.zpp_pool?_e=new Xi:(_e=Xi.zpp_pool,Xi.zpp_pool=_e.next,_e.next=null),_e.forced=!1,_e.x=xe,_e.y=ge,f=_e),u&&(f.forced=!0),f.x!=i&&f.x!=r||(f.x==i&&0!=(64&x)||f.x==r&&0!=(16&x))&&(x^=32)):3==g?(null==(f=t.list[(1+(s<<1))*t.width+(a+1)])?(xe=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?fe=new Xi:(fe=Xi.zpp_pool,Xi.zpp_pool=fe.next,fe.next=null),fe.forced=!1,fe.x=r,fe.y=xe,f=fe,t.list[(1+(s<<1))*t.width+(a+1)]=f):(ge=f.x,g=f.y,null==Xi.zpp_pool?ve=new Xi:(ve=Xi.zpp_pool,Xi.zpp_pool=ve.next,ve.next=null),ve.forced=!1,ve.x=ge,ve.y=g,f=ve),h&&(f.forced=!0),f.y!=n&&f.y!=o||(f.y==n&&0!=(4&x)||f.y==o&&0!=(16&x))&&(x^=8)):(null==(f=t.list[(1+(s<<1))*t.width+a])?(g=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?ze=new Xi:(ze=Xi.zpp_pool,Xi.zpp_pool=ze.next,ze.next=null),ze.forced=!1,ze.x=i,ze.y=g,f=ze,t.list[(1+(s<<1))*t.width+a]=f):(g=f.x,be=f.y,null==Xi.zpp_pool?we=new Xi:(we=Xi.zpp_pool,Xi.zpp_pool=we.next,we.next=null),we.forced=!1,we.x=g,we.y=be,f=we),p&&(f.forced=!0),f.y!=n&&f.y!=o||(f.y==n&&0!=(1&x)||f.y==o&&0!=(64&x))&&(x^=128)),g=f,null==c.p1?c.p1=g.prev=g.next=g:(g.prev=c.p1,g.next=c.p1.next,c.p1.next.prev=g,c.p1.next=g),c.p1=g)}c.p1=c.p1.next,1!=(c.key1=x)&&4!=x&&16!=x&&64!=x&&3!=x&&12!=x&&48!=x&&192!=x&&129!=x&&6!=x&&24!=x&&96!=x&&5!=x&&20!=x&&80!=x&&65!=x&&17!=x&&68!=x||(c.key1=x=0,c.p1=null),0==x?c=null:(c.pr=c.p1,c.okeyr=c.okey1,c.keyr=c.key1)}else{for(var v=131,Se=(c.okey1=131,0);Se<8;){var Ce,ke,Me,Pe,Oe,Te,Ge,z,Ae,Ee,Ie,Be,Le,De,Re,je,Fe,Ne,b=Se++;0!=(v&1<<b)&&(z=null,0==b?(null==Xi.zpp_pool?Ce=new Xi:(Ce=Xi.zpp_pool,Xi.zpp_pool=Ce.next,Ce.next=null),Ce.forced=!1,Ce.x=i,Ce.y=n,z=Ce,(p||l)&&(z.forced=!0)):2==b?(null==Xi.zpp_pool?ke=new Xi:(ke=Xi.zpp_pool,Xi.zpp_pool=ke.next,ke.next=null),ke.forced=!1,ke.x=r,ke.y=n,z=ke,(h||l)&&(z.forced=!0)):4==b?(null==Xi.zpp_pool?Me=new Xi:(Me=Xi.zpp_pool,Xi.zpp_pool=Me.next,Me.next=null),Me.forced=!1,Me.x=r,Me.y=o,z=Me,(h||u)&&(z.forced=!0)):6==b?(null==Xi.zpp_pool?Pe=new Xi:(Pe=Xi.zpp_pool,Xi.zpp_pool=Pe.next,Pe.next=null),Pe.forced=!1,Pe.x=i,Pe.y=o,z=Pe,(p||u)&&(z.forced=!0)):1==b?(null==(z=t.list[(s<<1)*t.width+a])?(Te=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?Oe=new Xi:(Oe=Xi.zpp_pool,Xi.zpp_pool=Oe.next,Oe.next=null),Oe.forced=!1,Oe.x=Te,Oe.y=n,z=Oe,t.list[(s<<1)*t.width+a]=z):(Te=z.x,Ae=z.y,null==Xi.zpp_pool?Ge=new Xi:(Ge=Xi.zpp_pool,Xi.zpp_pool=Ge.next,Ge.next=null),Ge.forced=!1,Ge.x=Te,Ge.y=Ae,z=Ge),l&&(z.forced=!0),z.x!=i&&z.x!=r||(z.x==i&&0!=(1&v)||z.x==r&&0!=(4&v))&&(v^=2)):5==b?(null==(z=t.list[(2+(s<<1))*t.width+a])?(Ae=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?Ee=new Xi:(Ee=Xi.zpp_pool,Xi.zpp_pool=Ee.next,Ee.next=null),Ee.forced=!1,Ee.x=Ae,Ee.y=o,z=Ee,t.list[(2+(s<<1))*t.width+a]=z):(Be=z.x,De=z.y,null==Xi.zpp_pool?Ie=new Xi:(Ie=Xi.zpp_pool,Xi.zpp_pool=Ie.next,Ie.next=null),Ie.forced=!1,Ie.x=Be,Ie.y=De,z=Ie),u&&(z.forced=!0),z.x!=i&&z.x!=r||(z.x==i&&0!=(64&v)||z.x==r&&0!=(16&v))&&(v^=32)):3==b?(null==(z=t.list[(1+(s<<1))*t.width+(a+1)])?(Be=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?Le=new Xi:(Le=Xi.zpp_pool,Xi.zpp_pool=Le.next,Le.next=null),Le.forced=!1,Le.x=r,Le.y=Be,z=Le,t.list[(1+(s<<1))*t.width+(a+1)]=z):(De=z.x,b=z.y,null==Xi.zpp_pool?Re=new Xi:(Re=Xi.zpp_pool,Xi.zpp_pool=Re.next,Re.next=null),Re.forced=!1,Re.x=De,Re.y=b,z=Re),h&&(z.forced=!0),z.y!=n&&z.y!=o||(z.y==n&&0!=(4&v)||z.y==o&&0!=(16&v))&&(v^=8)):(null==(z=t.list[(1+(s<<1))*t.width+a])?(b=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?je=new Xi:(je=Xi.zpp_pool,Xi.zpp_pool=je.next,je.next=null),je.forced=!1,je.x=i,je.y=b,z=je,t.list[(1+(s<<1))*t.width+a]=z):(b=z.x,Fe=z.y,null==Xi.zpp_pool?Ne=new Xi:(Ne=Xi.zpp_pool,Xi.zpp_pool=Ne.next,Ne.next=null),Ne.forced=!1,Ne.x=b,Ne.y=Fe,z=Ne),p&&(z.forced=!0),z.y!=n&&z.y!=o||(z.y==n&&0!=(1&v)||z.y==o&&0!=(64&v))&&(v^=128)),b=z,null==c.p1?c.p1=b.prev=b.next=b:(b.prev=c.p1,b.next=c.p1.next,c.p1.next.prev=b,c.p1.next=b),c.p1=b)}if(c.p1=c.p1.next,1!=(c.key1=v)&&4!=v&&16!=v&&64!=v&&3!=v&&12!=v&&48!=v&&192!=v&&129!=v&&6!=v&&24!=v&&96!=v&&5!=v&&20!=v&&80!=v&&65!=v&&17!=v&&68!=v||(c.key1=v=0,c.p1=null),0!=v){for(var w=56,Ue=(c.okey2=56,0);Ue<8;){var He,Ve,We,qe,Xe,Ye,Ke,S,Ze,Je,Qe,$e,et,tt,it,nt,rt,ot,C=Ue++;0!=(w&1<<C)&&(S=null,0==C?(null==Xi.zpp_pool?He=new Xi:(He=Xi.zpp_pool,Xi.zpp_pool=He.next,He.next=null),He.forced=!1,He.x=i,He.y=n,S=He,(p||l)&&(S.forced=!0)):2==C?(null==Xi.zpp_pool?Ve=new Xi:(Ve=Xi.zpp_pool,Xi.zpp_pool=Ve.next,Ve.next=null),Ve.forced=!1,Ve.x=r,Ve.y=n,S=Ve,(h||l)&&(S.forced=!0)):4==C?(null==Xi.zpp_pool?We=new Xi:(We=Xi.zpp_pool,Xi.zpp_pool=We.next,We.next=null),We.forced=!1,We.x=r,We.y=o,S=We,(h||u)&&(S.forced=!0)):6==C?(null==Xi.zpp_pool?qe=new Xi:(qe=Xi.zpp_pool,Xi.zpp_pool=qe.next,qe.next=null),qe.forced=!1,qe.x=i,qe.y=o,S=qe,(p||u)&&(S.forced=!0)):1==C?(null==(S=t.list[(s<<1)*t.width+a])?(Ye=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?Xe=new Xi:(Xe=Xi.zpp_pool,Xi.zpp_pool=Xe.next,Xe.next=null),Xe.forced=!1,Xe.x=Ye,Xe.y=n,S=Xe,t.list[(s<<1)*t.width+a]=S):(Ye=S.x,Ze=S.y,null==Xi.zpp_pool?Ke=new Xi:(Ke=Xi.zpp_pool,Xi.zpp_pool=Ke.next,Ke.next=null),Ke.forced=!1,Ke.x=Ye,Ke.y=Ze,S=Ke),l&&(S.forced=!0),S.x!=i&&S.x!=r||(S.x==i&&0!=(1&w)||S.x==r&&0!=(4&w))&&(w^=2)):5==C?(null==(S=t.list[(2+(s<<1))*t.width+a])?(Ze=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?Je=new Xi:(Je=Xi.zpp_pool,Xi.zpp_pool=Je.next,Je.next=null),Je.forced=!1,Je.x=Ze,Je.y=o,S=Je,t.list[(2+(s<<1))*t.width+a]=S):($e=S.x,tt=S.y,null==Xi.zpp_pool?Qe=new Xi:(Qe=Xi.zpp_pool,Xi.zpp_pool=Qe.next,Qe.next=null),Qe.forced=!1,Qe.x=$e,Qe.y=tt,S=Qe),u&&(S.forced=!0),S.x!=i&&S.x!=r||(S.x==i&&0!=(64&w)||S.x==r&&0!=(16&w))&&(w^=32)):3==C?(null==(S=t.list[(1+(s<<1))*t.width+(a+1)])?($e=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?et=new Xi:(et=Xi.zpp_pool,Xi.zpp_pool=et.next,et.next=null),et.forced=!1,et.x=r,et.y=$e,S=et,t.list[(1+(s<<1))*t.width+(a+1)]=S):(tt=S.x,C=S.y,null==Xi.zpp_pool?it=new Xi:(it=Xi.zpp_pool,Xi.zpp_pool=it.next,it.next=null),it.forced=!1,it.x=tt,it.y=C,S=it),h&&(S.forced=!0),S.y!=n&&S.y!=o||(S.y==n&&0!=(4&w)||S.y==o&&0!=(16&w))&&(w^=8)):(null==(S=t.list[(1+(s<<1))*t.width+a])?(C=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?nt=new Xi:(nt=Xi.zpp_pool,Xi.zpp_pool=nt.next,nt.next=null),nt.forced=!1,nt.x=i,nt.y=C,S=nt,t.list[(1+(s<<1))*t.width+a]=S):(C=S.x,rt=S.y,null==Xi.zpp_pool?ot=new Xi:(ot=Xi.zpp_pool,Xi.zpp_pool=ot.next,ot.next=null),ot.forced=!1,ot.x=C,ot.y=rt,S=ot),p&&(S.forced=!0),S.y!=n&&S.y!=o||(S.y==n&&0!=(1&w)||S.y==o&&0!=(64&w))&&(w^=128)),C=S,null==c.p2?c.p2=C.prev=C.next=C:(C.prev=c.p2,C.next=c.p2.next,c.p2.next.prev=C,c.p2.next=C),c.p2=C)}c.p2=c.p2.next,1!=(c.key2=w)&&4!=w&&16!=w&&64!=w&&3!=w&&12!=w&&48!=w&&192!=w&&129!=w&&6!=w&&24!=w&&96!=w&&5!=w&&20!=w&&80!=w&&65!=w&&17!=w&&68!=w||(c.key2=w=0,c.p2=null),0==w?(c.pr=c.p1,c.okeyr=c.okey1,c.keyr=c.key1):(c.pr=c.p2,c.okeyr=c.okey2,c.keyr=c.key2)}else{for(var k=56,at=(c.okey1=56,0);at<8;){var st,pt,lt,ht,ut,dt,ct,M,mt,yt,_t,xt,ft,gt,vt,zt,bt,wt,St=at++;0!=(k&1<<St)&&(M=null,0==St?(null==Xi.zpp_pool?st=new Xi:(st=Xi.zpp_pool,Xi.zpp_pool=st.next,st.next=null),st.forced=!1,st.x=i,st.y=n,M=st,(p||l)&&(M.forced=!0)):2==St?(null==Xi.zpp_pool?pt=new Xi:(pt=Xi.zpp_pool,Xi.zpp_pool=pt.next,pt.next=null),pt.forced=!1,pt.x=r,pt.y=n,M=pt,(h||l)&&(M.forced=!0)):4==St?(null==Xi.zpp_pool?lt=new Xi:(lt=Xi.zpp_pool,Xi.zpp_pool=lt.next,lt.next=null),lt.forced=!1,lt.x=r,lt.y=o,M=lt,(h||u)&&(M.forced=!0)):6==St?(null==Xi.zpp_pool?ht=new Xi:(ht=Xi.zpp_pool,Xi.zpp_pool=ht.next,ht.next=null),ht.forced=!1,ht.x=i,ht.y=o,M=ht,(p||u)&&(M.forced=!0)):1==St?(null==(M=t.list[(s<<1)*t.width+a])?(dt=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?ut=new Xi:(ut=Xi.zpp_pool,Xi.zpp_pool=ut.next,ut.next=null),ut.forced=!1,ut.x=dt,ut.y=n,M=ut,t.list[(s<<1)*t.width+a]=M):(dt=M.x,mt=M.y,null==Xi.zpp_pool?ct=new Xi:(ct=Xi.zpp_pool,Xi.zpp_pool=ct.next,ct.next=null),ct.forced=!1,ct.x=dt,ct.y=mt,M=ct),l&&(M.forced=!0),M.x!=i&&M.x!=r||(M.x==i&&0!=(1&k)||M.x==r&&0!=(4&k))&&(k^=2)):5==St?(null==(M=t.list[(2+(s<<1))*t.width+a])?(mt=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?yt=new Xi:(yt=Xi.zpp_pool,Xi.zpp_pool=yt.next,yt.next=null),yt.forced=!1,yt.x=mt,yt.y=o,M=yt,t.list[(2+(s<<1))*t.width+a]=M):(xt=M.x,gt=M.y,null==Xi.zpp_pool?_t=new Xi:(_t=Xi.zpp_pool,Xi.zpp_pool=_t.next,_t.next=null),_t.forced=!1,_t.x=xt,_t.y=gt,M=_t),u&&(M.forced=!0),M.x!=i&&M.x!=r||(M.x==i&&0!=(64&k)||M.x==r&&0!=(16&k))&&(k^=32)):3==St?(null==(M=t.list[(1+(s<<1))*t.width+(a+1)])?(xt=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?ft=new Xi:(ft=Xi.zpp_pool,Xi.zpp_pool=ft.next,ft.next=null),ft.forced=!1,ft.x=r,ft.y=xt,M=ft,t.list[(1+(s<<1))*t.width+(a+1)]=M):(gt=M.x,St=M.y,null==Xi.zpp_pool?vt=new Xi:(vt=Xi.zpp_pool,Xi.zpp_pool=vt.next,vt.next=null),vt.forced=!1,vt.x=gt,vt.y=St,M=vt),h&&(M.forced=!0),M.y!=n&&M.y!=o||(M.y==n&&0!=(4&k)||M.y==o&&0!=(16&k))&&(k^=8)):(null==(M=t.list[(1+(s<<1))*t.width+a])?(St=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?zt=new Xi:(zt=Xi.zpp_pool,Xi.zpp_pool=zt.next,zt.next=null),zt.forced=!1,zt.x=i,zt.y=St,M=zt,t.list[(1+(s<<1))*t.width+a]=M):(St=M.x,bt=M.y,null==Xi.zpp_pool?wt=new Xi:(wt=Xi.zpp_pool,Xi.zpp_pool=wt.next,wt.next=null),wt.forced=!1,wt.x=St,wt.y=bt,M=wt),p&&(M.forced=!0),M.y!=n&&M.y!=o||(M.y==n&&0!=(1&k)||M.y==o&&0!=(64&k))&&(k^=128)),St=M,null==c.p1?c.p1=St.prev=St.next=St:(St.prev=c.p1,St.next=c.p1.next,c.p1.next.prev=St,c.p1.next=St),c.p1=St)}c.p1=c.p1.next,1!=(c.key1=k)&&4!=k&&16!=k&&64!=k&&3!=k&&12!=k&&48!=k&&192!=k&&129!=k&&6!=k&&24!=k&&96!=k&&5!=k&&20!=k&&80!=k&&65!=k&&17!=k&&68!=k||(c.key1=k=0,c.p1=null),0==k?c=null:(c.pr=c.p1,c.okeyr=c.okey1,c.keyr=c.key1)}}else if(L){for(var P=238,Ct=(c.okey1=238,0);Ct<8;){var kt,Mt,Pt,Ot,Tt,Gt,At,O,Et,It,Bt,Lt,Dt,Rt,jt,Ft,Nt,Ut,Ht=Ct++;0!=(P&1<<Ht)&&(O=null,0==Ht?(null==Xi.zpp_pool?kt=new Xi:(kt=Xi.zpp_pool,Xi.zpp_pool=kt.next,kt.next=null),kt.forced=!1,kt.x=i,kt.y=n,O=kt,(p||l)&&(O.forced=!0)):2==Ht?(null==Xi.zpp_pool?Mt=new Xi:(Mt=Xi.zpp_pool,Xi.zpp_pool=Mt.next,Mt.next=null),Mt.forced=!1,Mt.x=r,Mt.y=n,O=Mt,(h||l)&&(O.forced=!0)):4==Ht?(null==Xi.zpp_pool?Pt=new Xi:(Pt=Xi.zpp_pool,Xi.zpp_pool=Pt.next,Pt.next=null),Pt.forced=!1,Pt.x=r,Pt.y=o,O=Pt,(h||u)&&(O.forced=!0)):6==Ht?(null==Xi.zpp_pool?Ot=new Xi:(Ot=Xi.zpp_pool,Xi.zpp_pool=Ot.next,Ot.next=null),Ot.forced=!1,Ot.x=i,Ot.y=o,O=Ot,(p||u)&&(O.forced=!0)):1==Ht?(null==(O=t.list[(s<<1)*t.width+a])?(Gt=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?Tt=new Xi:(Tt=Xi.zpp_pool,Xi.zpp_pool=Tt.next,Tt.next=null),Tt.forced=!1,Tt.x=Gt,Tt.y=n,O=Tt,t.list[(s<<1)*t.width+a]=O):(Gt=O.x,Et=O.y,null==Xi.zpp_pool?At=new Xi:(At=Xi.zpp_pool,Xi.zpp_pool=At.next,At.next=null),At.forced=!1,At.x=Gt,At.y=Et,O=At),l&&(O.forced=!0),O.x!=i&&O.x!=r||(O.x==i&&0!=(1&P)||O.x==r&&0!=(4&P))&&(P^=2)):5==Ht?(null==(O=t.list[(2+(s<<1))*t.width+a])?(Et=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?It=new Xi:(It=Xi.zpp_pool,Xi.zpp_pool=It.next,It.next=null),It.forced=!1,It.x=Et,It.y=o,O=It,t.list[(2+(s<<1))*t.width+a]=O):(Lt=O.x,Rt=O.y,null==Xi.zpp_pool?Bt=new Xi:(Bt=Xi.zpp_pool,Xi.zpp_pool=Bt.next,Bt.next=null),Bt.forced=!1,Bt.x=Lt,Bt.y=Rt,O=Bt),u&&(O.forced=!0),O.x!=i&&O.x!=r||(O.x==i&&0!=(64&P)||O.x==r&&0!=(16&P))&&(P^=32)):3==Ht?(null==(O=t.list[(1+(s<<1))*t.width+(a+1)])?(Lt=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?Dt=new Xi:(Dt=Xi.zpp_pool,Xi.zpp_pool=Dt.next,Dt.next=null),Dt.forced=!1,Dt.x=r,Dt.y=Lt,O=Dt,t.list[(1+(s<<1))*t.width+(a+1)]=O):(Rt=O.x,Ht=O.y,null==Xi.zpp_pool?jt=new Xi:(jt=Xi.zpp_pool,Xi.zpp_pool=jt.next,jt.next=null),jt.forced=!1,jt.x=Rt,jt.y=Ht,O=jt),h&&(O.forced=!0),O.y!=n&&O.y!=o||(O.y==n&&0!=(4&P)||O.y==o&&0!=(16&P))&&(P^=8)):(null==(O=t.list[(1+(s<<1))*t.width+a])?(Ht=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?Ft=new Xi:(Ft=Xi.zpp_pool,Xi.zpp_pool=Ft.next,Ft.next=null),Ft.forced=!1,Ft.x=i,Ft.y=Ht,O=Ft,t.list[(1+(s<<1))*t.width+a]=O):(Ht=O.x,Nt=O.y,null==Xi.zpp_pool?Ut=new Xi:(Ut=Xi.zpp_pool,Xi.zpp_pool=Ut.next,Ut.next=null),Ut.forced=!1,Ut.x=Ht,Ut.y=Nt,O=Ut),p&&(O.forced=!0),O.y!=n&&O.y!=o||(O.y==n&&0!=(1&P)||O.y==o&&0!=(64&P))&&(P^=128)),Ht=O,null==c.p1?c.p1=Ht.prev=Ht.next=Ht:(Ht.prev=c.p1,Ht.next=c.p1.next,c.p1.next.prev=Ht,c.p1.next=Ht),c.p1=Ht)}c.p1=c.p1.next,1!=(c.key1=P)&&4!=P&&16!=P&&64!=P&&3!=P&&12!=P&&48!=P&&192!=P&&129!=P&&6!=P&&24!=P&&96!=P&&5!=P&&20!=P&&80!=P&&65!=P&&17!=P&&68!=P||(c.key1=P=0,c.p1=null),0==P?c=null:(c.pr=c.p1,c.okeyr=c.okey1,c.keyr=c.key1)}else{for(var T=224,Vt=(c.okey1=224,0);Vt<8;){var Wt,qt,Xt,Yt,Kt,Zt,Jt,G,Qt,$t,ei,ti,ii,ni,ri,oi,ai,si,pi=Vt++;0!=(T&1<<pi)&&(G=null,0==pi?(null==Xi.zpp_pool?Wt=new Xi:(Wt=Xi.zpp_pool,Xi.zpp_pool=Wt.next,Wt.next=null),Wt.forced=!1,Wt.x=i,Wt.y=n,G=Wt,(p||l)&&(G.forced=!0)):2==pi?(null==Xi.zpp_pool?qt=new Xi:(qt=Xi.zpp_pool,Xi.zpp_pool=qt.next,qt.next=null),qt.forced=!1,qt.x=r,qt.y=n,G=qt,(h||l)&&(G.forced=!0)):4==pi?(null==Xi.zpp_pool?Xt=new Xi:(Xt=Xi.zpp_pool,Xi.zpp_pool=Xt.next,Xt.next=null),Xt.forced=!1,Xt.x=r,Xt.y=o,G=Xt,(h||u)&&(G.forced=!0)):6==pi?(null==Xi.zpp_pool?Yt=new Xi:(Yt=Xi.zpp_pool,Xi.zpp_pool=Yt.next,Yt.next=null),Yt.forced=!1,Yt.x=i,Yt.y=o,G=Yt,(p||u)&&(G.forced=!0)):1==pi?(null==(G=t.list[(s<<1)*t.width+a])?(Zt=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?Kt=new Xi:(Kt=Xi.zpp_pool,Xi.zpp_pool=Kt.next,Kt.next=null),Kt.forced=!1,Kt.x=Zt,Kt.y=n,G=Kt,t.list[(s<<1)*t.width+a]=G):(Zt=G.x,Qt=G.y,null==Xi.zpp_pool?Jt=new Xi:(Jt=Xi.zpp_pool,Xi.zpp_pool=Jt.next,Jt.next=null),Jt.forced=!1,Jt.x=Zt,Jt.y=Qt,G=Jt),l&&(G.forced=!0),G.x!=i&&G.x!=r||(G.x==i&&0!=(1&T)||G.x==r&&0!=(4&T))&&(T^=2)):5==pi?(null==(G=t.list[(2+(s<<1))*t.width+a])?(Qt=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?$t=new Xi:($t=Xi.zpp_pool,Xi.zpp_pool=$t.next,$t.next=null),$t.forced=!1,$t.x=Qt,$t.y=o,G=$t,t.list[(2+(s<<1))*t.width+a]=G):(ti=G.x,ni=G.y,null==Xi.zpp_pool?ei=new Xi:(ei=Xi.zpp_pool,Xi.zpp_pool=ei.next,ei.next=null),ei.forced=!1,ei.x=ti,ei.y=ni,G=ei),u&&(G.forced=!0),G.x!=i&&G.x!=r||(G.x==i&&0!=(64&T)||G.x==r&&0!=(16&T))&&(T^=32)):3==pi?(null==(G=t.list[(1+(s<<1))*t.width+(a+1)])?(ti=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?ii=new Xi:(ii=Xi.zpp_pool,Xi.zpp_pool=ii.next,ii.next=null),ii.forced=!1,ii.x=r,ii.y=ti,G=ii,t.list[(1+(s<<1))*t.width+(a+1)]=G):(ni=G.x,pi=G.y,null==Xi.zpp_pool?ri=new Xi:(ri=Xi.zpp_pool,Xi.zpp_pool=ri.next,ri.next=null),ri.forced=!1,ri.x=ni,ri.y=pi,G=ri),h&&(G.forced=!0),G.y!=n&&G.y!=o||(G.y==n&&0!=(4&T)||G.y==o&&0!=(16&T))&&(T^=8)):(null==(G=t.list[(1+(s<<1))*t.width+a])?(pi=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?oi=new Xi:(oi=Xi.zpp_pool,Xi.zpp_pool=oi.next,oi.next=null),oi.forced=!1,oi.x=i,oi.y=pi,G=oi,t.list[(1+(s<<1))*t.width+a]=G):(pi=G.x,ai=G.y,null==Xi.zpp_pool?si=new Xi:(si=Xi.zpp_pool,Xi.zpp_pool=si.next,si.next=null),si.forced=!1,si.x=pi,si.y=ai,G=si),p&&(G.forced=!0),G.y!=n&&G.y!=o||(G.y==n&&0!=(1&T)||G.y==o&&0!=(64&T))&&(T^=128)),pi=G,null==c.p1?c.p1=pi.prev=pi.next=pi:(pi.prev=c.p1,pi.next=c.p1.next,c.p1.next.prev=pi,c.p1.next=pi),c.p1=pi)}if(c.p1=c.p1.next,1!=(c.key1=T)&&4!=T&&16!=T&&64!=T&&3!=T&&12!=T&&48!=T&&192!=T&&129!=T&&6!=T&&24!=T&&96!=T&&5!=T&&20!=T&&80!=T&&65!=T&&17!=T&&68!=T||(c.key1=T=0,c.p1=null),0!=T){for(var A=14,li=(c.okey2=14,0);li<8;){var hi,ui,di,ci,mi,yi,_i,E,xi,fi,gi,vi,zi,bi,wi,Si,Ci,ki,Mi=li++;0!=(A&1<<Mi)&&(E=null,0==Mi?(null==Xi.zpp_pool?hi=new Xi:(hi=Xi.zpp_pool,Xi.zpp_pool=hi.next,hi.next=null),hi.forced=!1,hi.x=i,hi.y=n,E=hi,(p||l)&&(E.forced=!0)):2==Mi?(null==Xi.zpp_pool?ui=new Xi:(ui=Xi.zpp_pool,Xi.zpp_pool=ui.next,ui.next=null),ui.forced=!1,ui.x=r,ui.y=n,E=ui,(h||l)&&(E.forced=!0)):4==Mi?(null==Xi.zpp_pool?di=new Xi:(di=Xi.zpp_pool,Xi.zpp_pool=di.next,di.next=null),di.forced=!1,di.x=r,di.y=o,E=di,(h||u)&&(E.forced=!0)):6==Mi?(null==Xi.zpp_pool?ci=new Xi:(ci=Xi.zpp_pool,Xi.zpp_pool=ci.next,ci.next=null),ci.forced=!1,ci.x=i,ci.y=o,E=ci,(p||u)&&(E.forced=!0)):1==Mi?(null==(E=t.list[(s<<1)*t.width+a])?(yi=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?mi=new Xi:(mi=Xi.zpp_pool,Xi.zpp_pool=mi.next,mi.next=null),mi.forced=!1,mi.x=yi,mi.y=n,E=mi,t.list[(s<<1)*t.width+a]=E):(yi=E.x,xi=E.y,null==Xi.zpp_pool?_i=new Xi:(_i=Xi.zpp_pool,Xi.zpp_pool=_i.next,_i.next=null),_i.forced=!1,_i.x=yi,_i.y=xi,E=_i),l&&(E.forced=!0),E.x!=i&&E.x!=r||(E.x==i&&0!=(1&A)||E.x==r&&0!=(4&A))&&(A^=2)):5==Mi?(null==(E=t.list[(2+(s<<1))*t.width+a])?(xi=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?fi=new Xi:(fi=Xi.zpp_pool,Xi.zpp_pool=fi.next,fi.next=null),fi.forced=!1,fi.x=xi,fi.y=o,E=fi,t.list[(2+(s<<1))*t.width+a]=E):(vi=E.x,bi=E.y,null==Xi.zpp_pool?gi=new Xi:(gi=Xi.zpp_pool,Xi.zpp_pool=gi.next,gi.next=null),gi.forced=!1,gi.x=vi,gi.y=bi,E=gi),u&&(E.forced=!0),E.x!=i&&E.x!=r||(E.x==i&&0!=(64&A)||E.x==r&&0!=(16&A))&&(A^=32)):3==Mi?(null==(E=t.list[(1+(s<<1))*t.width+(a+1)])?(vi=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?zi=new Xi:(zi=Xi.zpp_pool,Xi.zpp_pool=zi.next,zi.next=null),zi.forced=!1,zi.x=r,zi.y=vi,E=zi,t.list[(1+(s<<1))*t.width+(a+1)]=E):(bi=E.x,Mi=E.y,null==Xi.zpp_pool?wi=new Xi:(wi=Xi.zpp_pool,Xi.zpp_pool=wi.next,wi.next=null),wi.forced=!1,wi.x=bi,wi.y=Mi,E=wi),h&&(E.forced=!0),E.y!=n&&E.y!=o||(E.y==n&&0!=(4&A)||E.y==o&&0!=(16&A))&&(A^=8)):(null==(E=t.list[(1+(s<<1))*t.width+a])?(Mi=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?Si=new Xi:(Si=Xi.zpp_pool,Xi.zpp_pool=Si.next,Si.next=null),Si.forced=!1,Si.x=i,Si.y=Mi,E=Si,t.list[(1+(s<<1))*t.width+a]=E):(Mi=E.x,Ci=E.y,null==Xi.zpp_pool?ki=new Xi:(ki=Xi.zpp_pool,Xi.zpp_pool=ki.next,ki.next=null),ki.forced=!1,ki.x=Mi,ki.y=Ci,E=ki),p&&(E.forced=!0),E.y!=n&&E.y!=o||(E.y==n&&0!=(1&A)||E.y==o&&0!=(64&A))&&(A^=128)),Mi=E,null==c.p2?c.p2=Mi.prev=Mi.next=Mi:(Mi.prev=c.p2,Mi.next=c.p2.next,c.p2.next.prev=Mi,c.p2.next=Mi),c.p2=Mi)}c.p2=c.p2.next,1!=(c.key2=A)&&4!=A&&16!=A&&64!=A&&3!=A&&12!=A&&48!=A&&192!=A&&129!=A&&6!=A&&24!=A&&96!=A&&5!=A&&20!=A&&80!=A&&65!=A&&17!=A&&68!=A||(c.key2=A=0,c.p2=null),0==A?(c.pr=c.p1,c.okeyr=c.okey1,c.keyr=c.key1):(c.pr=c.p2,c.okeyr=c.okey2,c.keyr=c.key2)}else{for(var I=14,Pi=(c.okey1=14,0);Pi<8;){var Oi,Ti,Gi,Ai,Ei,Ii,Bi,B,Li,Di,Ri,ji,Fi,Ni,Ui,Hi,Vi,Wi,qi=Pi++;0!=(I&1<<qi)&&(B=null,0==qi?(null==Xi.zpp_pool?Oi=new Xi:(Oi=Xi.zpp_pool,Xi.zpp_pool=Oi.next,Oi.next=null),Oi.forced=!1,Oi.x=i,Oi.y=n,B=Oi,(p||l)&&(B.forced=!0)):2==qi?(null==Xi.zpp_pool?Ti=new Xi:(Ti=Xi.zpp_pool,Xi.zpp_pool=Ti.next,Ti.next=null),Ti.forced=!1,Ti.x=r,Ti.y=n,B=Ti,(h||l)&&(B.forced=!0)):4==qi?(null==Xi.zpp_pool?Gi=new Xi:(Gi=Xi.zpp_pool,Xi.zpp_pool=Gi.next,Gi.next=null),Gi.forced=!1,Gi.x=r,Gi.y=o,B=Gi,(h||u)&&(B.forced=!0)):6==qi?(null==Xi.zpp_pool?Ai=new Xi:(Ai=Xi.zpp_pool,Xi.zpp_pool=Ai.next,Ai.next=null),Ai.forced=!1,Ai.x=i,Ai.y=o,B=Ai,(p||u)&&(B.forced=!0)):1==qi?(null==(B=t.list[(s<<1)*t.width+a])?(Ii=this.xlerp(i,r,n,R,j,e,d),null==Xi.zpp_pool?Ei=new Xi:(Ei=Xi.zpp_pool,Xi.zpp_pool=Ei.next,Ei.next=null),Ei.forced=!1,Ei.x=Ii,Ei.y=n,B=Ei,t.list[(s<<1)*t.width+a]=B):(Ii=B.x,Li=B.y,null==Xi.zpp_pool?Bi=new Xi:(Bi=Xi.zpp_pool,Xi.zpp_pool=Bi.next,Bi.next=null),Bi.forced=!1,Bi.x=Ii,Bi.y=Li,B=Bi),l&&(B.forced=!0),B.x!=i&&B.x!=r||(B.x==i&&0!=(1&I)||B.x==r&&0!=(4&I))&&(I^=2)):5==qi?(null==(B=t.list[(2+(s<<1))*t.width+a])?(Li=this.xlerp(i,r,o,N,F,e,d),null==Xi.zpp_pool?Di=new Xi:(Di=Xi.zpp_pool,Xi.zpp_pool=Di.next,Di.next=null),Di.forced=!1,Di.x=Li,Di.y=o,B=Di,t.list[(2+(s<<1))*t.width+a]=B):(ji=B.x,Ni=B.y,null==Xi.zpp_pool?Ri=new Xi:(Ri=Xi.zpp_pool,Xi.zpp_pool=Ri.next,Ri.next=null),Ri.forced=!1,Ri.x=ji,Ri.y=Ni,B=Ri),u&&(B.forced=!0),B.x!=i&&B.x!=r||(B.x==i&&0!=(64&I)||B.x==r&&0!=(16&I))&&(I^=32)):3==qi?(null==(B=t.list[(1+(s<<1))*t.width+(a+1)])?(ji=this.ylerp(n,o,r,j,F,e,d),null==Xi.zpp_pool?Fi=new Xi:(Fi=Xi.zpp_pool,Xi.zpp_pool=Fi.next,Fi.next=null),Fi.forced=!1,Fi.x=r,Fi.y=ji,B=Fi,t.list[(1+(s<<1))*t.width+(a+1)]=B):(Ni=B.x,qi=B.y,null==Xi.zpp_pool?Ui=new Xi:(Ui=Xi.zpp_pool,Xi.zpp_pool=Ui.next,Ui.next=null),Ui.forced=!1,Ui.x=Ni,Ui.y=qi,B=Ui),h&&(B.forced=!0),B.y!=n&&B.y!=o||(B.y==n&&0!=(4&I)||B.y==o&&0!=(16&I))&&(I^=8)):(null==(B=t.list[(1+(s<<1))*t.width+a])?(qi=this.ylerp(n,o,i,R,N,e,d),null==Xi.zpp_pool?Hi=new Xi:(Hi=Xi.zpp_pool,Xi.zpp_pool=Hi.next,Hi.next=null),Hi.forced=!1,Hi.x=i,Hi.y=qi,B=Hi,t.list[(1+(s<<1))*t.width+a]=B):(qi=B.x,Vi=B.y,null==Xi.zpp_pool?Wi=new Xi:(Wi=Xi.zpp_pool,Xi.zpp_pool=Wi.next,Wi.next=null),Wi.forced=!1,Wi.x=qi,Wi.y=Vi,B=Wi),p&&(B.forced=!0),B.y!=n&&B.y!=o||(B.y==n&&0!=(1&I)||B.y==o&&0!=(64&I))&&(I^=128)),qi=B,null==c.p1?c.p1=qi.prev=qi.next=qi:(qi.prev=c.p1,qi.next=c.p1.next,c.p1.next.prev=qi,c.p1.next=qi),c.p1=qi)}c.p1=c.p1.next,1!=(c.key1=I)&&4!=I&&16!=I&&64!=I&&3!=I&&12!=I&&48!=I&&192!=I&&129!=I&&6!=I&&24!=I&&96!=I&&5!=I&&20!=I&&80!=I&&65!=I&&17!=I&&68!=I||(c.key1=I=0,c.p1=null),0==I?c=null:(c.pr=c.p1,c.okeyr=c.okey1,c.keyr=c.key1)}}}return c},Ki.prototype.lerp=function(e,t,i,n){return 0==i?e:0==n?t:((i=(n=i-n)*n<ur.epsilon*ur.epsilon?.5:i/n)<0?i=0:1<i&&(i=1),e+i*(t-e))},Ki.prototype.xlerp=function(e,t,i,n,r,o,a){var s,p;for(p=0==n?e:0==r?t:((s=(s=n-r)*s<ur.epsilon*ur.epsilon?.5:n/s)<0?s=0:1<s&&(s=1),e+s*(t-e));0!=a--&&e<p&&p<t;){var l=o(p,i);if(0==l)break;n*l<0?(t=p,r=l):(e=p,n=l),p=0==n?e:0==r?t:((l=(l=n-r)*l<ur.epsilon*ur.epsilon?.5:n/l)<0?l=0:1<l&&(l=1),e+l*(t-e))}return p},Ki.prototype.ylerp=function(e,t,i,n,r,o,a){var s,p;for(p=0==n?e:0==r?t:((s=(s=n-r)*s<ur.epsilon*ur.epsilon?.5:n/s)<0?s=0:1<s&&(s=1),e+s*(t-e));0!=a--&&e<p&&p<t;){var l=o(i,p);if(0==l)break;n*l<0?(t=p,r=l):(e=p,n=l),p=0==n?e:0==r?t:((l=(l=n-r)*l<ur.epsilon*ur.epsilon?.5:n/l)<0?l=0:1<l&&(l=1),e+l*(t-e))}return p},Ki.prototype.__class__=Ki,zpp_nape.geom.ZPP_Mat23=function(){this.next=null,this._invalidate=null,this.ty=0,this.tx=0,this.d=0,this.c=0,this.b=0,this.a=0,this.outer=null}),At=(Gt.__name__=["zpp_nape","geom","ZPP_Mat23"],Gt.get=function(){var e;return null==Gt.zpp_pool?e=new Gt:(e=Gt.zpp_pool,Gt.zpp_pool=e.next,e.next=null),e},Gt.identity=function(){var e=Gt.get();return e.setas(1,0,0,1,0,0),e},Gt.prototype.outer=null,Gt.prototype.wrapper=function(){var e;return null==this.outer&&(this.outer=new K,(e=this.outer.zpp_inner).next=Gt.zpp_pool,Gt.zpp_pool=e,this.outer.zpp_inner=this),this.outer},Gt.prototype.a=null,Gt.prototype.b=null,Gt.prototype.c=null,Gt.prototype.d=null,Gt.prototype.tx=null,Gt.prototype.ty=null,Gt.prototype._invalidate=null,Gt.prototype.invalidate=function(){null!=this._invalidate&&this._invalidate()},Gt.prototype.set=function(e){this.setas(e.a,e.b,e.c,e.d,e.tx,e.ty)},Gt.prototype.setas=function(e,t,i,n,r,o){this.tx=r,this.ty=o,this.a=e,this.b=t,this.c=i,this.d=n},Gt.prototype.next=null,Gt.prototype.free=function(){},Gt.prototype.alloc=function(){},Gt.prototype.__class__=Gt,zpp_nape.geom.ZPP_MatMN=function(e,t){this.x=null,this.n=0,this.m=0,this.outer=null,this.m=e,this.n=t,this.x=[];for(var i=0,n=e*t;i<n;)++i,this.x.push(0)}),Et=(At.__name__=["zpp_nape","geom","ZPP_MatMN"],At.prototype.outer=null,At.prototype.m=null,At.prototype.n=null,At.prototype.x=null,At.prototype.__class__=At,zpp_nape.geom.ZPP_Monotone=function(){}),It=(Et.__name__=["zpp_nape","geom","ZPP_Monotone"],Et.bisector=function(e){var t=e.prev,i=e.next,n=e.x-t.x,t=e.y-t.y,r=i.x-e.x,i=i.y-e.y,e=(null==cr.zpp_pool?o=new cr:(o=cr.zpp_pool,cr.zpp_pool=o.next,o.next=null),o.weak=!1,o._immutable=!1,o.x=-t-i,o.y=n+r,o),o=1/Math.sqrt(e.x*e.x+e.y*e.y);return e.x*=o,e.y*=o,i*n-r*t<0&&(e.x=-e.x,e.y=-e.y),e},Et.below=function(e,t){var i,n;return e.y<t.y||!(e.y>t.y)&&(e.x<t.x||!(e.x>t.x)&&(i=Et.bisector(e),n=Et.bisector(t),i.x+=e.x,i.y+=e.y,n.x+=t.x,n.y+=t.y,e=i.x<n.x||i.x==n.x&&i.y<n.y,null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i._isimmutable=null,i._validate=null,i._invalidate=null,i.next=cr.zpp_pool,cr.zpp_pool=i,null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n._isimmutable=null,n._validate=null,n._invalidate=null,n.next=cr.zpp_pool,cr.zpp_pool=n,e))},Et.above=function(e,t){return Et.below(t,e)},Et.left_vertex=function(e){var t=e.prev;return t.y>e.y||t.y==e.y&&e.next.y<e.y},Et.isMonotone=function(e){var t=e,i=e,n=e.next;if(null!=n)for(var r=n;;){var o=r;if(o.y<t.y&&(t=o),o.y>i.y&&(i=o),(r=r.next)==e)break}var a=!0,s=t;if(i!=t.next){var n=t.next,p=i;if(null!=n)for(var l=n;;){var h=l;if(h.y<s.y){a=!1;break}if(s=h,(l=l.next)==p)break}}if(!a)return!1;if(i!=(s=t).prev){var n=t.prev,u=i;if(null!=n)for(var d=n;;){var c=d;if(c.y<s.y){a=!1;break}if(s=c,(d=d.prev)==u)break}}return a},Et.sharedPPoly=null,Et.getShared=function(){return null==Et.sharedPPoly&&(Et.sharedPPoly=new Bt),Et.sharedPPoly},Et.decompose=function(e,t){if(null==t?t=new Bt(e):t.init(e),null==t.vertices)return t;null==Et.queue&&(Et.queue=new Di);var e=t.vertices,i=t.vertices;if(null!=e)for(var n=e;;){var r=n,o=(Et.queue.add(r),r.next.x-r.x),a=r.next.y-r.y,s=r.prev.x-r.x,o=0<(r.prev.y-r.y)*o-s*a;if(r.type=Et.below(r.prev,r)?Et.below(r.next,r)?o?0:3:4:Et.below(r,r.next)?o?1:2:4,(n=n.next)==i)break}e=Et.queue;if(null!=e.head&&null!=e.head.next){for(var p,l,h,u=e.head,d=null,c=null,m=null,y=null,_=1;;){for(p=0,c=u,d=u=null;null!=c;){for(++p,m=c,l=0,h=_;null!=m&&l<_;)++l,m=m.next;for(;0<l||0<h&&null!=m;)0!=l&&(0==h||null==m||Et.above(c.elt,m.elt))?(c=(y=c).next,--l):(m=(y=m).next,--h),null!=d?d.next=y:u=y,d=y;c=m}if(d.next=null,_<<=1,!(1<p))break}e.head=u,e.modified=!0,e.pushmod=!0}for(null==Et.edges&&(null==qe.zpp_pool?Et.edges=new qe:(Et.edges=qe.zpp_pool,qe.zpp_pool=Et.edges.next,Et.edges.next=null),Et.edges.lt=It.edge_lt,Et.edges.swapped=It.edge_swap);null!=Et.queue.head;){var x=Et.queue.pop_unsafe();switch(x.type){case 0:(x.helper=x).node=Et.edges.insert(x);break;case 1:var f=x.prev;2==f.helper.type&&t.add_diagonal(x,f.helper),Et.edges.remove_node(f.node);break;case 2:var f=x.prev,g=(2==f.helper.type&&t.add_diagonal(x,f.helper),Et.edges.remove_node(f.node),null);if(!Et.edges.empty()){for(var v=Et.edges.parent;null!=v.prev;)v=v.prev;for(;null!=v;){var z=v.data;if(!It.vert_lt(z,x)){g=z;break}if(null!=v.next)for(v=v.next;null!=v.prev;)v=v.prev;else{for(;null!=v.parent&&v==v.parent.next;)v=v.parent;v=v.parent}}}var b=g;null!=b&&(2==b.helper.type&&t.add_diagonal(x,b.helper),b.helper=x);break;case 3:var w=null;if(!Et.edges.empty()){for(var S=Et.edges.parent;null!=S.prev;)S=S.prev;for(;null!=S;){var C=S.data;if(!It.vert_lt(C,x)){w=C;break}if(null!=S.next)for(S=S.next;null!=S.prev;)S=S.prev;else{for(;null!=S.parent&&S==S.parent.next;)S=S.parent;S=S.parent}}}b=w;null!=b&&(t.add_diagonal(x,b.helper),b.helper=x),x.node=Et.edges.insert(x),x.helper=x;break;case 4:var k=x.prev;if(Et.left_vertex(x))2==k.helper.type&&t.add_diagonal(x,k.helper),Et.edges.remove_node(k.node),x.node=Et.edges.insert(x),x.helper=x;else{var M=null;if(!Et.edges.empty()){for(var P=Et.edges.parent;null!=P.prev;)P=P.prev;for(;null!=P;){var O=P.data;if(!It.vert_lt(O,x)){M=O;break}if(null!=P.next)for(P=P.next;null!=P.prev;)P=P.prev;else{for(;null!=P.parent&&P==P.parent.next;)P=P.parent;P=P.parent}}}k=M;2==k.helper.type&&t.add_diagonal(x,k.helper),k.helper=x}}}return t},Et.prototype.__class__=Et,zpp_nape.geom.ZPP_PartitionVertex=function(){this.node=null,this.prev=null,this.next=null,this.rightchain=!1,this.helper=null,this.type=0,this.diagonals=null,this.forced=!1,this.y=0,this.x=0,this.mag=0,this.id=0,this.id=It.nextId++,this.diagonals=new Di}),Bt=(It.__name__=["zpp_nape","geom","ZPP_PartitionVertex"],It.get=function(e){var t;return null==It.zpp_pool?t=new It:(t=It.zpp_pool,It.zpp_pool=t.next,t.next=null),t.x=e.x,t.y=e.y,t},It.rightdistance=function(e,t){var i=e.next.y>e.y,n=e.next.x-e.x,r=e.next.y-e.y,o=t.x-e.x;return(i?-1:1)*((t.y-e.y)*n-o*r)},It.vert_lt=function(e,t){var i,n;return t==e||t==e.next||(e.y==e.next.y?((i=e.x)<(n=e.next.x)?i:n)<=t.x:It.rightdistance(e,t)<=0)},It.edge_swap=function(e,t){var i=e.node;e.node=t.node,t.node=i},It.edge_lt=function(e,t){if(e==t&&e.next==t.next)return!1;if(e==t.next)return!It.vert_lt(e,t);if(t==e.next)return It.vert_lt(t,e);if(e.y==e.next.y)return t.y==t.next.y?(i=e.x,n=e.next.x,r=t.x,((o=t.next.x)<r?r:o)<(n<i?i:n)):0<It.rightdistance(t,e)||0<It.rightdistance(t,e.next);var i,n,r=It.rightdistance(e,t),o=It.rightdistance(e,t.next);if(0==r&&0==o)return i=e.x,n=e.next.x,a=t.x,((s=t.next.x)<a?a:s)<(n<i?i:n);if(0<=r*o)return r<0||o<0;var a=It.rightdistance(t,e),s=It.rightdistance(t,e.next);return 0<=a*s&&(0<a||0<s)},It.prototype.id=null,It.prototype.mag=null,It.prototype.x=null,It.prototype.y=null,It.prototype.forced=null,It.prototype.diagonals=null,It.prototype.type=null,It.prototype.helper=null,It.prototype.rightchain=null,It.prototype.next=null,It.prototype.prev=null,It.prototype.alloc=function(){},It.prototype.free=function(){this.helper=null},It.prototype.copy=function(){var e;return null==It.zpp_pool?e=new It:(e=It.zpp_pool,It.zpp_pool=e.next,e.next=null),e.x=this.x,e.y=this.y,e.forced=this.forced,e},It.prototype.sort=function(){var e=0,t=0,i=0,n=(e=this.prev.x-this.x,t=this.prev.y-this.y,i=this.next.x-this.x,(this.next.y-this.y)*e-i*t),r=0<n?-1:0==n?0:1,n=this.diagonals;if(null!=n.head&&null!=n.head.next){for(var o,a,s,p,l,h,u,d=n.head,c=null,m=null,y=null,_=null,x=1;;){for(o=0,m=d,c=d=null;null!=m;){for(++o,y=m,a=0,s=x;null!=y&&a<x;)++a,y=y.next;for(;0<a||0<s&&null!=y;)0!=a&&(0==s||null==y||(1==r?(e=m.elt.x-this.x,t=m.elt.y-this.y,i=y.elt.x-this.x,1==(0<(p=(y.elt.y-this.y)*e-i*t)?-1:0==p?0:1)):(e=this.prev.x-this.x,t=this.prev.y-this.y,i=m.elt.x-this.x,p=(m.elt.y-this.y)*e-i*t,e=this.prev.x-this.x,t=this.prev.y-this.y,i=y.elt.x-this.x,(u=0<p?-1:0==p?0:1)*(l=0<(l=(y.elt.y-this.y)*e-i*t)?-1:0==l?0:1)==1||u*l==0&&(1==u||1==l)?(e=m.elt.x-this.x,t=m.elt.y-this.y,i=y.elt.x-this.x,1==(0<(h=(y.elt.y-this.y)*e-i*t)?-1:0==h?0:1)):-1==u||-1==l?-1==l:0!=u||0!=l||(e=this.x-this.prev.x,t=this.y-this.prev.y,h=e*(i=m.elt.x-this.x)+t*(m.elt.y-this.y),u=e*(i=y.elt.x-this.x)+t*(y.elt.y-this.y),h<0&&0<u||!(u<0&&0<h)))))?(m=(_=m).next,--a):(y=(_=y).next,--s),null!=c?c.next=_:d=_,c=_;m=y}if(c.next=null,x<<=1,!(1<o))break}n.head=d,n.modified=!0,n.pushmod=!0}},It.prototype.node=null,It.prototype.__class__=It,zpp_nape.geom.ZPP_PartitionedPoly=function(e){this.next=null,this.vertices=null,this.init(e)}),Lt=(Bt.__name__=["zpp_nape","geom","ZPP_PartitionedPoly"],Bt.sharedPPList=null,Bt.getSharedPP=function(){return null==Bt.sharedPPList&&(Bt.sharedPPList=new ji),Bt.sharedPPList},Bt.sharedGVList=null,Bt.getShared=function(){return null==Bt.sharedGVList&&(Bt.sharedGVList=new Fi),Bt.sharedGVList},Bt.prototype.vertices=null,Bt.prototype.eq=function(e,t){var i=e.x,e=e.y;return(i=i-t.x)*i+(i=e-t.y)*i<ur.epsilon*ur.epsilon},Bt.prototype.next=null,Bt.prototype.alloc=function(){},Bt.prototype.free=function(){},Bt.prototype.init=function(e){if(null!=e){var t=0;if(null!=e)for(var i=e;;){var n=i;if(t+=n.x*(n.next.y-n.prev.y),(i=i.next)==e)break}for(var r=0<.5*t,o=e;;){var a,s,p,l=r?(null==It.zpp_pool?a=new It:(a=It.zpp_pool,It.zpp_pool=a.next,a.next=null),a.x=o.x,a.y=o.y,p=a,null==this.vertices?this.vertices=p.prev=p.next=p:(p.prev=this.vertices,p.next=this.vertices.next,this.vertices.next.prev=p,this.vertices.next=p),p):(null==It.zpp_pool?s=new It:(s=It.zpp_pool,It.zpp_pool=s.next,s.next=null),s.x=o.x,s.y=o.y,p=s,null==this.vertices?this.vertices=p.prev=p.next=p:(p.next=this.vertices,p.prev=this.vertices.prev,this.vertices.prev.next=p,this.vertices.prev=p),p);if(this.vertices=l,this.vertices.forced=o.forced,(o=o.next)==e)break}this.remove_collinear_vertices()}},Bt.prototype.remove_collinear_vertices=function(){for(var e,t=this.vertices,i=!0;i||t!=this.vertices;){var n,r,i=!1;if(this.eq(t,t.next)){if(t==this.vertices&&(this.vertices=t.next,i=!0),t.forced&&(t.next.forced=!0),null==(t=null!=t&&t.prev==t?(t.next=t.prev=null,(n=t).helper=null,n.next=It.zpp_pool,It.zpp_pool=n,null):(n=t.next,t.prev.next=t.next,t.next.prev=t.prev,t.next=t.prev=null,(r=t).helper=null,r.next=It.zpp_pool,It.zpp_pool=r,t=null,n))){this.vertices=null;break}}else t=t.next}if(null==this.vertices)return!0;for(;;){for(t=this.vertices,i=!(e=!1);i||t!=this.vertices;){i=!1;var o=t.prev,a=t.x-o.x,o=t.y-o.y,s=t.next.x-t.x,a=(t.next.y-t.y)*a-s*o;if(ur.epsilon*ur.epsilon<=a*a)t=t.next;else if(t==this.vertices&&(this.vertices=t.next,i=!0),e=!0,null==(t=null!=t&&t.prev==t?(t.next=t.prev=null,(s=t).helper=null,s.next=It.zpp_pool,It.zpp_pool=s,null):(o=t.next,t.prev.next=t.next,t.next.prev=t.prev,t.next=t.prev=null,(a=t).helper=null,a.next=It.zpp_pool,It.zpp_pool=a,t=null,o))){e=!1,this.vertices=null;break}}if(!e)break}return null==this.vertices},Bt.prototype.add_diagonal=function(e,t){e.diagonals.add(t),t.diagonals.add(e),e.forced=t.forced=!0},Bt.prototype.extract_partitions=function(e){if(null==e&&(e=new ji),null!=this.vertices){var t=this.vertices,i=this.vertices;if(null!=t)for(var n=t;;)if(n.sort(),(n=n.next)==i)break;for(this.pull_partitions(this.vertices,e);null!=this.vertices;){var r,o=null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,(r=this.vertices).helper=null,r.next=It.zpp_pool,It.zpp_pool=r,this.vertices=null):(r=this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,(o=this.vertices).helper=null,o.next=It.zpp_pool,It.zpp_pool=o,this.vertices=null,r);this.vertices=o}for(var a=null,s=e.head;null!=s;)s.elt.remove_collinear_vertices()?e.erase(a):s=(a=s).next}return e},Bt.prototype.pull_partitions=function(e,t){null==Bt.zpp_pool?i=new Bt:(i=Bt.zpp_pool,Bt.zpp_pool=i.next,i.next=null);for(var i,n=e;;){null==It.zpp_pool?r=new It:(r=It.zpp_pool,It.zpp_pool=r.next,r.next=null),r.x=n.x,r.y=n.y,r.forced=n.forced;var r,o=r;if(null==i.vertices?i.vertices=o.prev=o.next=o:(o.prev=i.vertices,o.next=i.vertices.next,i.vertices.next.prev=o,i.vertices.next=o),i.vertices=o,i.vertices.forced=n.forced,null!=n.diagonals.head){var o=n.diagonals,a=o.head.elt;if(o.pop(),a==e)break;n=this.pull_partitions(n,t)}else n=n.next;if(n==e)break}var s=0,p=i.vertices,l=i.vertices;if(null!=p)for(var h=p;;){var u=h;if(s+=u.x*(u.next.y-u.prev.y),(h=h.next)==l)break}return.5*s!=0&&t.add(i),n},Bt.prototype.extract=function(e){if(null==e&&(e=new Fi),null!=this.vertices){var t=this.vertices,i=this.vertices;if(null!=t)for(var n=t;;)if(n.sort(),(n=n.next)==i)break;for(this.pull(this.vertices,e);null!=this.vertices;){var r,o=null!=this.vertices&&this.vertices.prev==this.vertices?(this.vertices.next=this.vertices.prev=null,(r=this.vertices).helper=null,r.next=It.zpp_pool,It.zpp_pool=r,this.vertices=null):(r=this.vertices.next,this.vertices.prev.next=this.vertices.next,this.vertices.next.prev=this.vertices.prev,this.vertices.next=this.vertices.prev=null,(o=this.vertices).helper=null,o.next=It.zpp_pool,It.zpp_pool=o,this.vertices=null,r);this.vertices=o}}return e},Bt.prototype.pull=function(e,t){for(var i=null,n=e;;){var r,o=n.x,a=n.y,o=(null==Xi.zpp_pool?r=new Xi:(r=Xi.zpp_pool,Xi.zpp_pool=r.next,r.next=null),r.forced=!1,r.x=o,r.y=a,r);if(null==i?i=o.prev=o.next=o:(o.prev=i,o.next=i.next,i.next.prev=o,i.next=o),(i=o).forced=n.forced,null!=n.diagonals.head){a=n.diagonals,o=a.head.elt;if(a.pop(),o==e)break;n=this.pull(n,t)}else n=n.next;if(n==e)break}var s=0,p=i;if(null!=i)for(var l=i;;){var h=l;if(s+=h.x*(h.next.y-h.prev.y),(l=l.next)==p)break}var u=.5*s;if(ur.epsilon*ur.epsilon<=u*u){for(var d,c=i,m=!0;m||c!=i;){var m=!1,y=c.x,_=c.y,y=y-c.next.x,_=_-c.next.y;if(y*y+_*_<ur.epsilon*ur.epsilon){if(c==i&&(i=c.next,m=!0),c.forced&&(c.next.forced=!0),null==(c=null!=c&&c.prev==c?c.next=c.prev=null:(y=c.next,c.prev.next=c.next,c.next.prev=c.prev,c.next=c.prev=null,c=null,y))){i=null;break}}else c=c.next}if(null!=i)for(;;){for(c=i,m=!(d=!1);m||c!=i;){m=!1;var x=c.prev,f=c.x-x.x,x=c.y-x.y,g=c.next.x-c.x,f=(c.next.y-c.y)*f-g*x;if(ur.epsilon*ur.epsilon<=f*f)c=c.next;else if(c==i&&(i=c.next,m=!0),d=!0,null==(c=null!=c&&c.prev==c?c.next=c.prev=null:(g=c.next,c.prev.next=c.next,c.next.prev=c.prev,c.next=c.prev=null,c=null,g))){d=!1,i=null;break}}if(!d)break}null!=i&&t.add(i)}return n},Bt.prototype.__class__=Bt,zpp_nape.geom.ZPP_Ray=function(){var e,t,i,n;this.zip_dir=!1,this.absnormaly=0,this.absnormalx=0,this.normaly=0,this.normalx=0,this.idiry=0,this.idirx=0,this.diry=0,this.dirx=0,this.originy=0,this.originx=0,this.userData=null,this.maxdist=0,this.direction=null,(this.origin=null)==yi.poolVec2?i=new xe:(i=yi.poolVec2,yi.poolVec2=i.zpp_pool,i.zpp_pool=null),null==i.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=0,t.y=0,i.zpp_inner=t,i.zpp_inner.outer=i):(null!=(t=i.zpp_inner)._validate&&t._validate(),0==i.zpp_inner.x&&(null!=(t=i.zpp_inner)._validate&&t._validate(),0==i.zpp_inner.y)||(i.zpp_inner.x=0,i.zpp_inner.y=0,null!=(t=i.zpp_inner)._invalidate&&t._invalidate(t))),i.zpp_inner.weak=!1,this.origin=i,this.origin.zpp_inner._invalidate=Z(this,this.origin_invalidate),null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=0,n.y=0,e.zpp_inner=n,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),0==e.zpp_inner.x&&(null!=(i=e.zpp_inner)._validate&&i._validate(),0==e.zpp_inner.y)||(e.zpp_inner.x=0,e.zpp_inner.y=0,null!=(n=e.zpp_inner)._invalidate&&n._invalidate(n))),e.zpp_inner.weak=!1,this.direction=e,this.direction.zpp_inner._invalidate=Z(this,this.direction_invalidate),this.originx=0,this.originy=0,this.dirx=0,this.diry=0,this.zip_dir=!1}),Vt=(Lt.__name__=["zpp_nape","geom","ZPP_Ray"],Lt.prototype.origin=null,Lt.prototype.direction=null,Lt.prototype.maxdist=null,Lt.prototype.userData=null,Lt.prototype.originx=null,Lt.prototype.originy=null,Lt.prototype.dirx=null,Lt.prototype.diry=null,Lt.prototype.idirx=null,Lt.prototype.idiry=null,Lt.prototype.normalx=null,Lt.prototype.normaly=null,Lt.prototype.absnormalx=null,Lt.prototype.absnormaly=null,Lt.prototype.origin_invalidate=function(e){this.originx=e.x,this.originy=e.y},Lt.prototype.direction_invalidate=function(e){this.dirx=e.x,this.diry=e.y,this.zip_dir=!0},Lt.prototype.zip_dir=null,Lt.prototype.invalidate_dir=function(){this.zip_dir=!0},Lt.prototype.validate_dir=function(){var e;this.zip_dir&&(this.zip_dir=!1,e=1/Math.sqrt(this.dirx*this.dirx+this.diry*this.diry),this.dirx*=e,this.diry*=e,this.idirx=1/this.dirx,this.idiry=1/this.diry,this.normalx=-this.diry,this.normaly=this.dirx,e=this.normalx,this.absnormalx=e<0?-e:e,e=this.normaly,this.absnormaly=e<0?-e:e)},Lt.prototype.rayAABB=function(){var e,t,i=this.originx,n=i,r=this.originy,o=r;return this.maxdist>=1/0?(0<this.dirx?n=1/0:this.dirx<0&&(n=-1/0),0<this.diry?o=1/0:this.diry<0&&(o=-1/0)):(n+=this.maxdist*this.dirx,o+=this.maxdist*this.diry),n<i&&(e=i,i=n,n=e),o<r&&(e=r,r=o,o=e),null==Nt.zpp_pool?t=new Nt:(t=Nt.zpp_pool,Nt.zpp_pool=t.next,t.next=null),t.minx=i,t.miny=r,t.maxx=n,t.maxy=o,t},Lt.prototype.aabbtest=function(e){var t=this.normalx*(this.originx-.5*(e.minx+e.maxx))+this.normaly*(this.originy-.5*(e.miny+e.maxy));return(t<0?-t:t)<.5*this.absnormalx*(e.maxx-e.minx)+.5*this.absnormaly*(e.maxy-e.miny)},Lt.prototype.aabbsect=function(e){var t=this.originx>=e.minx&&this.originx<=e.maxx,i=this.originy>=e.miny&&this.originy<=e.maxy;if(t&&i)return 0;for(var n=-1;!(0<=this.dirx&&this.originx>=e.maxx||this.dirx<=0&&this.originx<=e.minx||0<=this.diry&&this.originy>=e.maxy||this.diry<=0&&this.originy<=e.miny);){if(0<this.dirx){var r=(e.minx-this.originx)*this.idirx;if(0<=r&&r<=this.maxdist){var o=this.originy+r*this.diry;if(o>=e.miny&&o<=e.maxy){n=r;break}}}else if(this.dirx<0){o=(e.maxx-this.originx)*this.idirx;if(0<=o&&o<=this.maxdist){r=this.originy+o*this.diry;if(r>=e.miny&&r<=e.maxy){n=o;break}}}if(0<this.diry){var a=(e.miny-this.originy)*this.idiry;if(0<=a&&a<=this.maxdist){var s=this.originx+a*this.dirx;if(s>=e.minx&&s<=e.maxx){n=a;break}}}else if(this.diry<0){s=(e.maxy-this.originy)*this.idiry;if(0<=s&&s<=this.maxdist){a=this.originx+s*this.dirx;if(a>=e.minx&&a<=e.maxx){n=s;break}}}break}return n},Lt.prototype.circlesect=function(e,t,i){if(e.zip_worldCOM&&null!=e.body){if(e.zip_worldCOM=!1,e.zip_localCOM){if(e.zip_localCOM=!1,1==e.type){var n=e.polygon;if(null==n.lverts.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y;else if(null==n.lverts.next.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y,n.localCOMx+=n.lverts.next.next.x,n.localCOMy+=n.lverts.next.next.y,n.localCOMx*=.5,n.localCOMy*=.5;else{n.localCOMx=0;var r=n.localCOMy=0,o=n.lverts.next,a=o,s=o=o.next;for(o=o.next;null!=o;){var p=o,l=(r+=s.x*(p.y-a.y),p.y*s.x-p.x*s.y);n.localCOMx+=(s.x+p.x)*l,n.localCOMy+=(s.y+p.y)*l,a=s,s=p,o=o.next}var h=o=n.lverts.next,u=(r+=s.x*(h.y-a.y),h.y*s.x-h.x*s.y),u=(n.localCOMx+=(s.x+h.x)*u,n.localCOMy+=(s.y+h.y)*u,a=s,o=o.next),d=(r+=h.x*(u.y-a.y),u.y*h.x-u.x*h.y),h=(n.localCOMx+=(h.x+u.x)*d,n.localCOMy+=(h.y+u.y)*d,r=1/(3*r));n.localCOMx*=h,n.localCOMy*=h}}null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=e.localCOMy)}u=e.body;u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),e.worldCOMx=e.body.posx+(e.body.axisy*e.localCOMx-e.body.axisx*e.localCOMy),e.worldCOMy=e.body.posy+(e.localCOMx*e.body.axisx+e.localCOMy*e.body.axisy)}var c,m,y,_,x,f,g,v,z,b,d=this.originx-e.worldCOMx,h=this.originy-e.worldCOMy,u=this.dirx*this.dirx+this.diry*this.diry,w=2*(d*this.dirx+h*this.diry),d=d*d+h*h-e.radius*e.radius,h=w*w-4*u*d;return 0==h?(b=-w/2*u,(!t||0<d)&&0<b&&b<i&&b<=this.maxdist?(y=m=0,m=this.originx,y=this.originy,m+=this.dirx*b,y+=this.diry*b,m-=e.worldCOMx,y-=e.worldCOMy,m*=_=1/Math.sqrt(m*m+y*y),y*=_,d<=0&&(m=-m,y=-y),null==yi.poolVec2?f=new xe:(f=yi.poolVec2,yi.poolVec2=f.zpp_pool,f.zpp_pool=null),null==f.zpp_inner?(null==cr.zpp_pool?c=new cr:(c=cr.zpp_pool,cr.zpp_pool=c.next,c.next=null),c.weak=!1,c._immutable=!1,c.x=m,c.y=y,f.zpp_inner=c,f.zpp_inner.outer=f):(null!=(_=f.zpp_inner)._validate&&_._validate(),f.zpp_inner.x==m&&(null!=(c=f.zpp_inner)._validate&&c._validate(),f.zpp_inner.y==y)||(f.zpp_inner.x=m,f.zpp_inner.y=y,null!=(_=f.zpp_inner)._invalidate&&_._invalidate(_))),f.zpp_inner.weak=!1,kt.getRay(f,b,d<=0,e.outer)):null):(c=(-w-(h=Math.sqrt(h)))*(u=1/(2*u)),m=(-w+h)*u,0<c?c<i&&c<=this.maxdist?(_=y=0,y=this.originx,_=this.originy,y+=this.dirx*c,_+=this.diry*c,y-=e.worldCOMx,_-=e.worldCOMy,y*=f=1/Math.sqrt(y*y+_*_),_*=f,null==yi.poolVec2?x=new xe:(x=yi.poolVec2,yi.poolVec2=x.zpp_pool,x.zpp_pool=null),null==x.zpp_inner?(null==cr.zpp_pool?z=new cr:(z=cr.zpp_pool,cr.zpp_pool=z.next,z.next=null),z.weak=!1,z._immutable=!1,z.x=y,z.y=_,x.zpp_inner=z,x.zpp_inner.outer=x):(null!=(b=x.zpp_inner)._validate&&b._validate(),x.zpp_inner.x==y&&(null!=(d=x.zpp_inner)._validate&&d._validate(),x.zpp_inner.y==_)||(x.zpp_inner.x=y,x.zpp_inner.y=_,null!=(w=x.zpp_inner)._invalidate&&w._invalidate(w))),x.zpp_inner.weak=!1,kt.getRay(x,c,!1,e.outer)):null:0<m&&t&&m<i&&m<=this.maxdist?(u=h=0,h=this.originx,u=this.originy,h+=this.dirx*m,u+=this.diry*m,h-=e.worldCOMx,u-=e.worldCOMy,h=-(h*=f=1/Math.sqrt(h*h+u*u)),u=-(u*=f),null==yi.poolVec2?g=new xe:(g=yi.poolVec2,yi.poolVec2=g.zpp_pool,g.zpp_pool=null),null==g.zpp_inner?(null==cr.zpp_pool?v=new cr:(v=cr.zpp_pool,cr.zpp_pool=v.next,v.next=null),v.weak=!1,v._immutable=!1,v.x=h,v.y=u,g.zpp_inner=v,g.zpp_inner.outer=g):(null!=(z=g.zpp_inner)._validate&&z._validate(),g.zpp_inner.x==h&&(null!=(b=g.zpp_inner)._validate&&b._validate(),g.zpp_inner.y==u)||(g.zpp_inner.x=h,g.zpp_inner.y=u,null!=(d=g.zpp_inner)._invalidate&&d._invalidate(d))),g.zpp_inner.weak=!1,kt.getRay(g,m,!0,e.outer)):null)},Lt.prototype.circlesect2=function(e,t,i){if(e.zip_worldCOM&&null!=e.body){if(e.zip_worldCOM=!1,e.zip_localCOM){if(e.zip_localCOM=!1,1==e.type){var n=e.polygon;if(null==n.lverts.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y;else if(null==n.lverts.next.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y,n.localCOMx+=n.lverts.next.next.x,n.localCOMy+=n.lverts.next.next.y,n.localCOMx*=.5,n.localCOMy*=.5;else{n.localCOMx=0;var r=n.localCOMy=0,o=n.lverts.next,a=o,s=o=o.next;for(o=o.next;null!=o;){var p=o,l=(r+=s.x*(p.y-a.y),p.y*s.x-p.x*s.y);n.localCOMx+=(s.x+p.x)*l,n.localCOMy+=(s.y+p.y)*l,a=s,s=p,o=o.next}var h=o=n.lverts.next,u=(r+=s.x*(h.y-a.y),h.y*s.x-h.x*s.y),u=(n.localCOMx+=(s.x+h.x)*u,n.localCOMy+=(s.y+h.y)*u,a=s,o=o.next),d=(r+=h.x*(u.y-a.y),u.y*h.x-u.x*h.y),h=(n.localCOMx+=(h.x+u.x)*d,n.localCOMy+=(h.y+u.y)*d,r=1/(3*r));n.localCOMx*=h,n.localCOMy*=h}}null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=e.localCOMy)}u=e.body;u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),e.worldCOMx=e.body.posx+(e.body.axisy*e.localCOMx-e.body.axisx*e.localCOMy),e.worldCOMy=e.body.posy+(e.localCOMx*e.body.axisx+e.localCOMy*e.body.axisy)}var d=this.originx-e.worldCOMx,h=this.originy-e.worldCOMy,u=this.dirx*this.dirx+this.diry*this.diry,c=2*(d*this.dirx+h*this.diry),d=d*d+h*h-e.radius*e.radius;if(0==(h=c*c-4*u*d)){var m=-c/2*u;if((!t||0<d)&&0<m&&m<=this.maxdist){var y=0,_=0,y=this.originx,_=this.originy;y+=this.dirx*m,_+=this.diry*m,y-=e.worldCOMx,_-=e.worldCOMy;for(var x=1/Math.sqrt(y*y+_*_),f=(y*=x,_*=x,d<=0&&(y=-y,_=-_),null==yi.poolVec2?b=new xe:(b=yi.poolVec2,yi.poolVec2=b.zpp_pool,b.zpp_pool=null),null==b.zpp_inner?(null==cr.zpp_pool?z=new cr:(z=cr.zpp_pool,cr.zpp_pool=z.next,z.next=null),z.weak=!1,z._immutable=!1,z.x=y,z.y=_,b.zpp_inner=z,b.zpp_inner.outer=b):(null!=(x=b.zpp_inner)._validate&&x._validate(),b.zpp_inner.x==y&&(null!=(z=b.zpp_inner)._validate&&z._validate(),b.zpp_inner.y==_)||(b.zpp_inner.x=y,b.zpp_inner.y=_,null!=(x=b.zpp_inner)._invalidate&&x._invalidate(x))),b.zpp_inner.weak=!1,kt.getRay(b,m,d<=0,e.outer)),g=null,v=i.zpp_inner.inner.head;null!=v&&!(f.zpp_inner.toiDistance<v.elt.zpp_inner.toiDistance);)v=(g=v).next;var z=i.zpp_inner.inner,y=(null==Xn.zpp_pool?T=new Xn:(T=Xn.zpp_pool,Xn.zpp_pool=T.next,T.next=null),T.elt=f,T);null==g?(y.next=z.head,z.head=y):(y.next=g.next,g.next=y),z.pushmod=z.modified=!0,z.length++}}else{_=(-c-(h=Math.sqrt(h)))*(u=1/(2*u)),x=(-c+h)*u;if(0<_&&_<=this.maxdist){var b=this.originx,m=this.originy;b+=this.dirx*_,m+=this.diry*_,b-=e.worldCOMx,m-=e.worldCOMy;for(var w,d=1/Math.sqrt(b*b+m*m),S=(b*=d,m*=d,null==yi.poolVec2?w=new xe:(w=yi.poolVec2,yi.poolVec2=w.zpp_pool,w.zpp_pool=null),null==w.zpp_inner?(null==cr.zpp_pool?G=new cr:(G=cr.zpp_pool,cr.zpp_pool=G.next,G.next=null),G.weak=!1,G._immutable=!1,G.x=b,G.y=m,w.zpp_inner=G,w.zpp_inner.outer=w):(null!=(T=w.zpp_inner)._validate&&T._validate(),w.zpp_inner.x==b&&(null!=(y=w.zpp_inner)._validate&&y._validate(),w.zpp_inner.y==m)||(w.zpp_inner.x=b,w.zpp_inner.y=m,null!=(z=w.zpp_inner)._invalidate&&z._invalidate(z))),w.zpp_inner.weak=!1,kt.getRay(w,_,!1,e.outer)),C=null,k=i.zpp_inner.inner.head;null!=k&&!(S.zpp_inner.toiDistance<k.elt.zpp_inner.toiDistance);)k=(C=k).next;var M,c=i.zpp_inner.inner,h=(null==Xn.zpp_pool?M=new Xn:(M=Xn.zpp_pool,Xn.zpp_pool=M.next,M.next=null),M.elt=S,M);null==C?(h.next=c.head,c.head=h):(h.next=C.next,C.next=h),c.pushmod=c.modified=!0,c.length++}if(0<x&&x<=this.maxdist&&t){u=this.originx,d=this.originy;u+=this.dirx*x,d+=this.diry*x,u-=e.worldCOMx,d-=e.worldCOMy;for(var P,O,T,G=1/Math.sqrt(u*u+d*d),A=(u=-(u*=G),d=-(d*=G),null==yi.poolVec2?P=new xe:(P=yi.poolVec2,yi.poolVec2=P.zpp_pool,P.zpp_pool=null),null==P.zpp_inner?(null==cr.zpp_pool?O=new cr:(O=cr.zpp_pool,cr.zpp_pool=O.next,O.next=null),O.weak=!1,O._immutable=!1,O.x=u,O.y=d,P.zpp_inner=O,P.zpp_inner.outer=P):(null!=(T=P.zpp_inner)._validate&&T._validate(),P.zpp_inner.x==u&&(null!=(y=P.zpp_inner)._validate&&y._validate(),P.zpp_inner.y==d)||(P.zpp_inner.x=u,P.zpp_inner.y=d,null!=(b=P.zpp_inner)._invalidate&&b._invalidate(b))),P.zpp_inner.weak=!1,kt.getRay(P,x,!0,e.outer)),E=null,I=i.zpp_inner.inner.head;null!=I&&!(A.zpp_inner.toiDistance<I.elt.zpp_inner.toiDistance);)I=(E=I).next;var B,m=i.zpp_inner.inner,z=(null==Xn.zpp_pool?B=new Xn:(B=Xn.zpp_pool,Xn.zpp_pool=B.next,B.next=null),B.elt=A,B);null==E?(z.next=m.head,m.head=z):(z.next=E.next,E.next=z),m.pushmod=m.modified=!0,m.length++}}},Lt.prototype.polysect=function(e,t,i){for(var n,r,o,a,s=i,p=null,l=e.edges.head,i=e.gverts.next,h=i,u=i.next;null!=u;){var d,c,m,y,_=u,x=l.elt;(t||x.gnormx*this.dirx+x.gnormy*this.diry<0)&&(y=x=0,x=_.x-h.x,y=_.y-h.y,c=d=0,d=h.x-this.originx,c=h.y-this.originy,m=y*this.dirx-x*this.diry,ur.epsilon<m*m&&(0<(y=(y*d-x*c)*(m=1/m))&&y<s&&y<=this.maxdist&&(x=(this.diry*d-this.dirx*c)*m,-ur.epsilon<x&&x<1+ur.epsilon&&(s=y,p=l.elt)))),l=l.next,h=_,u=u.next}for(;;){var f,g,v,z=u=e.gverts.next,b=l.elt;(t||b.gnormx*this.dirx+b.gnormy*this.diry<0)&&(v=b=0,b=z.x-h.x,v=z.y-h.y,f=z=0,z=h.x-this.originx,f=h.y-this.originy,g=v*this.dirx-b*this.diry,ur.epsilon<g*g&&(0<(v=(v*z-b*f)*(g=1/g))&&v<s&&v<=this.maxdist&&(b=(this.diry*z-this.dirx*f)*g,-ur.epsilon<b&&b<1+ur.epsilon&&(s=v,p=l.elt)))),l=l.next;break}return null!=p?(n=i=0,i=p.gnormx,n=p.gnormy,(r=0<i*this.dirx+n*this.diry)&&(i=-i,n=-n),null==yi.poolVec2?o=new xe:(o=yi.poolVec2,yi.poolVec2=o.zpp_pool,o.zpp_pool=null),null==o.zpp_inner?(null==cr.zpp_pool?a=new cr:(a=cr.zpp_pool,cr.zpp_pool=a.next,a.next=null),a.weak=!1,a._immutable=!1,a.x=i,a.y=n,o.zpp_inner=a,o.zpp_inner.outer=o):(null!=(a=o.zpp_inner)._validate&&a._validate(),o.zpp_inner.x==i&&(null!=(a=o.zpp_inner)._validate&&a._validate(),o.zpp_inner.y==n)||(o.zpp_inner.x=i,o.zpp_inner.y=n,null!=(a=o.zpp_inner)._invalidate&&a._invalidate(a))),o.zpp_inner.weak=!1,kt.getRay(o,s,r,e.outer)):null},Lt.prototype.polysect2=function(e,t,i){for(var n=1/0,r=-1,o=null,a=null,s=e.edges.head,p=e.gverts.next,l=p,h=p.next;null!=h;){var u,d,c,m,y=h,_=s.elt;(t||_.gnormx*this.dirx+_.gnormy*this.diry<0)&&(m=_=0,_=y.x-l.x,m=y.y-l.y,d=u=0,u=l.x-this.originx,d=l.y-this.originy,c=m*this.dirx-_*this.diry,ur.epsilon<c*c&&(0<(m=(m*u-_*d)*(c=1/c))&&m<=this.maxdist&&(m<n||r<m)&&(_=(this.diry*u-this.dirx*d)*c,-ur.epsilon<_&&_<1+ur.epsilon&&(m<n&&(n=m,o=s.elt),r<m&&(r=m,a=s.elt))))),s=s.next,l=y,h=h.next}for(;;){var x,f,g,v=h=e.gverts.next,z=s.elt;(t||z.gnormx*this.dirx+z.gnormy*this.diry<0)&&(g=z=0,z=v.x-l.x,g=v.y-l.y,x=v=0,v=l.x-this.originx,x=l.y-this.originy,f=g*this.dirx-z*this.diry,ur.epsilon<f*f&&(0<(g=(g*v-z*x)*(f=1/f))&&g<=this.maxdist&&(g<n||r<g)&&(z=(this.diry*v-this.dirx*x)*f,-ur.epsilon<z&&z<1+ur.epsilon&&(g<n&&(n=g,o=s.elt),r<g&&(r=g,a=s.elt))))),s=s.next;break}if(null!=o){for(var p=0,b=0,p=o.gnormx,b=o.gnormy,w=0<p*this.dirx+b*this.diry,S=(w&&(p=-p,b=-b),null==yi.poolVec2?O=new xe:(O=yi.poolVec2,yi.poolVec2=O.zpp_pool,O.zpp_pool=null),null==O.zpp_inner?(null==cr.zpp_pool?P=new cr:(P=cr.zpp_pool,cr.zpp_pool=P.next,P.next=null),P.weak=!1,P._immutable=!1,P.x=p,P.y=b,O.zpp_inner=P,O.zpp_inner.outer=O):(null!=(P=O.zpp_inner)._validate&&P._validate(),O.zpp_inner.x==p&&(null!=(P=O.zpp_inner)._validate&&P._validate(),O.zpp_inner.y==b)||(O.zpp_inner.x=p,O.zpp_inner.y=b,null!=(P=O.zpp_inner)._invalidate&&P._invalidate(P))),O.zpp_inner.weak=!1,kt.getRay(O,n,w,e.outer)),C=null,k=i.zpp_inner.inner.head;null!=k&&!(S.zpp_inner.toiDistance<k.elt.zpp_inner.toiDistance);)k=(C=k).next;p=i.zpp_inner.inner,b=(null==Xn.zpp_pool?B=new Xn:(B=Xn.zpp_pool,Xn.zpp_pool=B.next,B.next=null),B.elt=S,B);null==C?(b.next=p.head,p.head=b):(b.next=C.next,C.next=b),p.pushmod=p.modified=!0,p.length++}if(null!=a&&o!=a){for(var M,P=0,O=0,P=a.gnormx,O=a.gnormy,w=0<P*this.dirx+O*this.diry,T=(w&&(P=-P,O=-O),null==yi.poolVec2?M=new xe:(M=yi.poolVec2,yi.poolVec2=M.zpp_pool,M.zpp_pool=null),null==M.zpp_inner?(null==cr.zpp_pool?I=new cr:(I=cr.zpp_pool,cr.zpp_pool=I.next,I.next=null),I.weak=!1,I._immutable=!1,I.x=P,I.y=O,M.zpp_inner=I,M.zpp_inner.outer=M):(null!=(B=M.zpp_inner)._validate&&B._validate(),M.zpp_inner.x==P&&(null!=(b=M.zpp_inner)._validate&&b._validate(),M.zpp_inner.y==O)||(M.zpp_inner.x=P,M.zpp_inner.y=O,null!=(p=M.zpp_inner)._invalidate&&p._invalidate(p))),M.zpp_inner.weak=!1,kt.getRay(M,r,w,e.outer)),G=null,A=i.zpp_inner.inner.head;null!=A&&!(T.zpp_inner.toiDistance<A.elt.zpp_inner.toiDistance);)A=(G=A).next;var E,I=i.zpp_inner.inner,B=(null==Xn.zpp_pool?E=new Xn:(E=Xn.zpp_pool,Xn.zpp_pool=E.next,E.next=null),E.elt=T,E);null==G?(B.next=I.head,I.head=B):(B.next=G.next,G.next=B),I.pushmod=I.modified=!0,I.length++}},Lt.prototype.__class__=Lt,zpp_nape.geom.ZPP_SimpleVert=function(){this.node=null,this.next=null,this.id=0,this.links=null,this.y=0,this.x=0,this.forced=!1,this.id=Me.ZPP_SimpleVert(),null==Ye.zpp_pool?this.links=new Ye:(this.links=Ye.zpp_pool,Ye.zpp_pool=this.links.next,this.links.next=null),this.links.lt=Vt.less_xy}),Wt=(Vt.__name__=["zpp_nape","geom","ZPP_SimpleVert"],Vt.less_xy=function(e,t){return e.y<t.y||e.y==t.y&&e.x<t.x},Vt.swap_nodes=function(e,t){var i=e.node;e.node=t.node,t.node=i},Vt.get=function(e,t){var i;return null==Vt.zpp_pool?i=new Vt:(i=Vt.zpp_pool,Vt.zpp_pool=i.next,i.next=null),i.x=e,i.y=t,i},Vt.prototype.forced=null,Vt.prototype.x=null,Vt.prototype.y=null,Vt.prototype.links=null,Vt.prototype.id=null,Vt.prototype.next=null,Vt.prototype.node=null,Vt.prototype.free=function(){this.links.clear(),this.node=null,this.forced=!1},Vt.prototype.alloc=function(){},Vt.prototype.__class__=Vt,zpp_nape.geom.ZPP_SimpleSeg=function(){this.node=null,this.prev=null,this.next=null,this.id=0,this.vertices=null,this.right=null,this.left=null,this.id=Me.ZPP_SimpleSeg(),null==Ye.zpp_pool?this.vertices=new Ye:(this.vertices=Ye.zpp_pool,Ye.zpp_pool=this.vertices.next,this.vertices.next=null),this.vertices.lt=Z(this,this.less_xy)}),He=(Wt.__name__=["zpp_nape","geom","ZPP_SimpleSeg"],Wt.get=function(e,t){var i;return null==Wt.zpp_pool?i=new Wt:(i=Wt.zpp_pool,Wt.zpp_pool=i.next,i.next=null),i.left=e,i.right=t,i.vertices.insert(e),i.vertices.insert(t),i},Wt.prototype.left=null,Wt.prototype.right=null,Wt.prototype.vertices=null,Wt.prototype.id=null,Wt.prototype.next=null,Wt.prototype.free=function(){this.left=this.right=null,this.prev=null,this.node=null,this.vertices.clear()},Wt.prototype.alloc=function(){},Wt.prototype.prev=null,Wt.prototype.node=null,Wt.prototype.less_xy=function(e,t){return e.x<t.x||e.x==t.x&&e.y<t.y},Wt.prototype.__class__=Wt,zpp_nape.geom.ZPP_SimpleEvent=function(){this.next=null,this.node=null,this.segment2=null,this.segment=null,this.vertex=null,this.type=0}),qt=(He.__name__=["zpp_nape","geom","ZPP_SimpleEvent"],He.swap_nodes=function(e,t){var i=e.node;e.node=t.node,t.node=i},He.less_xy=function(e,t){return e.vertex.x<t.vertex.x||!(e.vertex.x>t.vertex.x)&&(e.vertex.y<t.vertex.y||!(e.vertex.y>t.vertex.y)&&e.type<t.type)},He.get=function(e){var t;return null==He.zpp_pool?t=new He:(t=He.zpp_pool,He.zpp_pool=t.next,t.next=null),t.vertex=e,t},He.prototype.type=null,He.prototype.vertex=null,He.prototype.segment=null,He.prototype.segment2=null,He.prototype.node=null,He.prototype.next=null,He.prototype.free=function(){this.vertex=null,this.segment=this.segment2=null,this.node=null},He.prototype.alloc=function(){},He.prototype.__class__=He,zpp_nape.geom.ZPP_SimpleSweep=function(){this.tree=null,this.sweepx=0,null==hr.zpp_pool?this.tree=new hr:(this.tree=hr.zpp_pool,hr.zpp_pool=this.tree.next,this.tree.next=null),this.tree.lt=Z(this,this.edge_lt),this.tree.swapped=Z(this,this.swap_nodes)}),de=(qt.__name__=["zpp_nape","geom","ZPP_SimpleSweep"],qt.prototype.sweepx=null,qt.prototype.tree=null,qt.prototype.swap_nodes=function(e,t){var i=e.node;e.node=t.node,t.node=i},qt.prototype.edge_lt=function(e,t){var i,n,r=0,o=0,a=0,s=0;return(e.left!=t.left||e.right!=t.right)&&(e.left==t.right?e.left.x==e.right.x?e.left.y<e.right.y?e.left.y>t.left.y:e.right.y>t.left.y:(i=e.right.x<e.left.x,r=e.right.x-e.left.x,o=e.right.y-e.left.y,a=t.left.x-e.left.x,s=t.left.y-e.left.y,(i?o*a-r*s:s*r-a*o)<0):e.right==t.left?!(t.left.x==t.right.x?t.left.y<t.right.y?t.left.y>e.left.y:t.right.y>e.left.y:(i=t.right.x<t.left.x,r=t.right.x-t.left.x,o=t.right.y-t.left.y,a=e.left.x-t.left.x,s=e.left.y-t.left.y,(i?o*a-r*s:s*r-a*o)<0)):e.left==t.left?e.left.x==e.right.x?e.left.y<e.right.y?e.left.y>t.right.y:e.right.y>t.right.y:(i=e.right.x<e.left.x,r=e.right.x-e.left.x,o=e.right.y-e.left.y,a=t.right.x-e.left.x,s=t.right.y-e.left.y,(i?o*a-r*s:s*r-a*o)<0):e.right==t.right?e.left.x==e.right.x?e.left.y<e.right.y?e.left.y>t.left.y:e.right.y>t.left.y:(i=e.right.x<e.left.x,r=e.right.x-e.left.x,o=e.right.y-e.left.y,a=t.left.x-e.left.x,s=t.left.y-e.left.y,(i?o*a-r*s:s*r-a*o)<0):e.left.x==e.right.x?t.left.x==t.right.x?(e.left.y<e.right.y?e.right:e.left).y>(t.left.y<t.right.y?t.right:t.left).y:(i=t.right.x<t.left.x,r=t.right.x-t.left.x,o=t.right.y-t.left.y,a=e.left.x-t.left.x,s=e.left.y-t.left.y,n=i?o*a-r*s:s*r-a*o,i=t.right.x<t.left.x,r=t.right.x-t.left.x,o=t.right.y-t.left.y,a=e.right.x-t.left.x,s=e.right.y-t.left.y,0<=n*(i?o*a-r*s:s*r-a*o)?0<=n:this.sweepx>=e.left.x):t.left.x==t.right.x?(i=e.right.x<e.left.x,r=e.right.x-e.left.x,o=e.right.y-e.left.y,a=t.left.x-e.left.x,s=t.left.y-e.left.y,n=i?o*a-r*s:s*r-a*o,i=e.right.x<e.left.x,r=e.right.x-e.left.x,o=e.right.y-e.left.y,a=t.right.x-e.left.x,s=t.right.y-e.left.y,0<=n*(i?o*a-r*s:s*r-a*o)?n<0:this.sweepx<t.left.x):(i=e.right.x<e.left.x,r=e.right.x-e.left.x,o=e.right.y-e.left.y,a=t.left.x-e.left.x,s=t.left.y-e.left.y,n=(i?o*a-r*s:s*r-a*o)<0,i=e.right.x<e.left.x,r=e.right.x-e.left.x,o=e.right.y-e.left.y,a=t.right.x-e.left.x,s=t.right.y-e.left.y,n==(i?o*a-r*s:s*r-a*o)<0?n:(i=t.right.x<t.left.x,r=t.right.x-t.left.x,o=t.right.y-t.left.y,a=e.left.x-t.left.x,s=e.left.y-t.left.y,n=0<=(i?o*a-r*s:s*r-a*o),i=t.right.x<t.left.x,r=t.right.x-t.left.x,o=t.right.y-t.left.y,a=e.right.x-t.left.x,s=e.right.y-t.left.y,n==0<=(i?o*a-r*s:s*r-a*o)?n:(this.sweepx-e.left.x)/(e.right.x-e.left.x)*(e.right.y-e.left.y)+e.left.y>(this.sweepx-t.left.x)/(t.right.x-t.left.x)*(t.right.y-t.left.y)+t.left.y)))},qt.prototype.clear=function(){this.tree.clear()},qt.prototype.add=function(e){e.node=this.tree.insert(e);var t=this.tree.successor_node(e.node),i=this.tree.predecessor_node(e.node);return null!=t&&(e.next=t.data,t.data.prev=e),null!=i&&(e.prev=i.data,i.data.next=e),e},qt.prototype.remove=function(e){var t=this.tree.successor_node(e.node),i=this.tree.predecessor_node(e.node);null!=t&&(t.data.prev=e.prev),null!=i&&(i.data.next=e.next),this.tree.remove_node(e.node),e.node=null},qt.prototype.intersect=function(e,t){return null!=e&&null!=t&&(e.left!=t.left&&e.left!=t.right&&e.right!=t.left&&e.right!=t.right&&(!(0<((t.left.x-e.left.x)*(e.right.y-e.left.y)-(e.right.x-e.left.x)*(t.left.y-e.left.y))*((t.right.x-e.left.x)*(e.right.y-e.left.y)-(e.right.x-e.left.x)*(t.right.y-e.left.y)))&&!(0<((e.left.x-t.left.x)*(t.right.y-t.left.y)-(t.right.x-t.left.x)*(e.left.y-t.left.y))*((e.right.x-t.left.x)*(t.right.y-t.left.y)-(t.right.x-t.left.x)*(e.right.y-t.left.y)))))},qt.prototype.intersection=function(e,t){if(null==e||null==t)return null;if(e.left==t.left||e.left==t.right||e.right==t.left||e.right==t.right)return null;var i,n=e.right.x-e.left.x,r=e.right.y-e.left.y,o=t.right.x-t.left.x,a=(i=t.right.y-t.left.y)*n-o*r;if(0==a)return null;var s=(i*(u=t.left.x-e.left.x)-o*(p=t.left.y-e.left.y))*(a=1/a);if(s<0||1<s)return null;var p,l,h,u=(r*u-n*p)*a;if(u<0||1<u)return null;n=0==u||1==u||0==s||1==s?0==u?t.left:1==u?t.right:0==s?e.left:e.right:(p=.5*(e.left.x+n*s+t.left.x+o*u),a=.5*(e.left.y+r*s+t.left.y+i*u),null==Vt.zpp_pool?l=new Vt:(l=Vt.zpp_pool,Vt.zpp_pool=l.next,l.next=null),l.x=p,l.y=a,l),null==He.zpp_pool?h=new He:(h=He.zpp_pool,He.zpp_pool=h.next,h.next=null),h.vertex=n;o=h;return o.type=0,o.segment=e,o.segment2=t,o},qt.prototype.__class__=qt,zpp_nape.geom.ZPP_Simple=function(){}),Xt=(de.__name__=["zpp_nape","geom","ZPP_Simple"],de.decompose=function(L,D){null==de.sweep&&(de.sweep=new qt,de.inthash=new Pi),null==de.vertices&&(null==Ye.zpp_pool?de.vertices=new Ye:(de.vertices=Ye.zpp_pool,Ye.zpp_pool=de.vertices.next,de.vertices.next=null),de.vertices.lt=Vt.less_xy,de.vertices.swapped=Vt.swap_nodes),null==de.queue&&(null==Ke.zpp_pool?de.queue=new Ke:(de.queue=Ke.zpp_pool,Ke.zpp_pool=de.queue.next,de.queue.next=null),de.queue.lt=He.less_xy,de.queue.swapped=He.swap_nodes);var R=null,e=null;if(null!=L)for(var j=L;;){for(var F,t=j,i=t.x,t=t.y,n=(null==Vt.zpp_pool?F=new Vt:(F=Vt.zpp_pool,Vt.zpp_pool=F.next,F.next=null),F.x=i,F.y=t,F),r=de.vertices.parent;null!=r;)if(de.vertices.lt(n,r.data))r=r.prev;else{if(!de.vertices.lt(r.data,n))break;r=r.next}var N,U,H,i=r;if(null!=i?((t=n).links.clear(),t.node=null,t.forced=!1,t.next=Vt.zpp_pool,Vt.zpp_pool=t,n=i.data):n.node=de.vertices.insert(n),null!=e&&(null==He.zpp_pool?N=new He:(N=He.zpp_pool,He.zpp_pool=N.next,N.next=null),N.vertex=e,t=N,null==He.zpp_pool?U=new He:(U=He.zpp_pool,He.zpp_pool=U.next,U.next=null),U.vertex=n,i=U,H=He.less_xy(t,i)?(t.type=1,i.type=2,Wt.get(e,n)):(t.type=2,i.type=1,Wt.get(n,e)),t.segment=i.segment=H,de.queue.insert(t),de.queue.insert(i),e.links.insert(n),n.links.insert(e)),e=n,null==R&&(R=n),(j=j.next)==L)break}null==He.zpp_pool?o=new He:(o=He.zpp_pool,He.zpp_pool=o.next,o.next=null),o.vertex=e;null==He.zpp_pool?a=new He:(a=He.zpp_pool,He.zpp_pool=a.next,a.next=null),a.vertex=R;var o,a,V=He.less_xy(o,a)?(o.type=1,a.type=2,Wt.get(e,R)):(o.type=2,a.type=1,Wt.get(R,e));for(o.segment=a.segment=V,de.queue.insert(o),de.queue.insert(a),e.links.insert(R),R.links.insert(e),null==de.ints&&(null==Ke.zpp_pool?de.ints=new Ke:(de.ints=Ke.zpp_pool,Ke.zpp_pool=de.ints.next,de.ints.next=null),de.ints.lt=He.less_xy);!de.queue.empty();){var s=de.queue.pop_front();if(de.sweep.sweepx=s.vertex.x,1==s.type){var p=s.segment;if(de.sweep.add(p),null!=p.next&&null!=p&&!(p.next.id<p.id?de.inthash.has(p.next.id,p.id):de.inthash.has(p.id,p.next.id))){var l=de.sweep.intersection(p.next,p);if(null!=l)if(l.vertex.x>=de.sweep.sweepx){for(var h=de.queue.parent;null!=h;)if(de.queue.lt(l,h.data))h=h.prev;else{if(!de.queue.lt(h.data,l))break;h=h.next}if(null==h){for(var u=de.ints.parent;null!=u;)if(de.ints.lt(l,u.data))u=u.prev;else{if(!de.ints.lt(u.data,l))break;u=u.next}var W,q,X,d=u;null!=d?((W=l.vertex).links.clear(),W.node=null,W.forced=!1,W.next=Vt.zpp_pool,Vt.zpp_pool=W,l.vertex=d.data.vertex,d.data=l,de.queue.insert(l)):(de.queue.insert(l),de.ints.insert(l)),p.next.id<p.id?(W=p.next.id,d=p.id,null==Ve.zpp_pool?q=new Ve:(q=Ve.zpp_pool,Ve.zpp_pool=q.next,q.next=null),q.id=W,q.di=d,(d=q).value=!0,de.inthash.add(d)):(d=p.id,Y=p.next.id,null==Ve.zpp_pool?X=new Ve:(X=Ve.zpp_pool,Ve.zpp_pool=X.next,X.next=null),X.id=d,X.di=Y,(d=X).value=!0,de.inthash.add(d))}else{var Y=l.vertex;Y.links.clear(),Y.node=null,Y.forced=!1,Y.next=Vt.zpp_pool,Vt.zpp_pool=Y,l.vertex=null,l.segment=l.segment2=null,l.node=null,l.next=He.zpp_pool,He.zpp_pool=l}}else{d=l.vertex;d.links.clear(),d.node=null,d.forced=!1,d.next=Vt.zpp_pool,Vt.zpp_pool=d,l.vertex=null,l.segment=l.segment2=null,l.node=null,l.next=He.zpp_pool,He.zpp_pool=l}}if(null!=p&&null!=p.prev&&!(p.id<p.prev.id?de.inthash.has(p.id,p.prev.id):de.inthash.has(p.prev.id,p.id))){var c=de.sweep.intersection(p,p.prev);if(null!=c)if(c.vertex.x>=de.sweep.sweepx){for(var m=de.queue.parent;null!=m;)if(de.queue.lt(c,m.data))m=m.prev;else{if(!de.queue.lt(m.data,c))break;m=m.next}if(null==m){for(var y=de.ints.parent;null!=y;)if(de.ints.lt(c,y.data))y=y.prev;else{if(!de.ints.lt(y.data,c))break;y=y.next}var K,Z,J,_=y;null!=_?((K=c.vertex).links.clear(),K.node=null,K.forced=!1,K.next=Vt.zpp_pool,Vt.zpp_pool=K,c.vertex=_.data.vertex,_.data=c,de.queue.insert(c)):(de.queue.insert(c),de.ints.insert(c)),p.id<p.prev.id?(K=p.id,_=p.prev.id,null==Ve.zpp_pool?Z=new Ve:(Z=Ve.zpp_pool,Ve.zpp_pool=Z.next,Z.next=null),Z.id=K,Z.di=_,(_=Z).value=!0,de.inthash.add(_)):(_=p.prev.id,p=p.id,null==Ve.zpp_pool?J=new Ve:(J=Ve.zpp_pool,Ve.zpp_pool=J.next,J.next=null),J.id=_,J.di=p,(_=J).value=!0,de.inthash.add(_))}else{p=c.vertex;p.links.clear(),p.node=null,p.forced=!1,p.next=Vt.zpp_pool,Vt.zpp_pool=p,c.vertex=null,c.segment=c.segment2=null,c.node=null,c.next=He.zpp_pool,He.zpp_pool=c}}else{_=c.vertex;_.links.clear(),_.node=null,_.forced=!1,_.next=Vt.zpp_pool,Vt.zpp_pool=_,c.vertex=null,c.segment=c.segment2=null,c.node=null,c.next=He.zpp_pool,He.zpp_pool=c}}}else if(2==s.type){p=s.segment;if(null!=p.node){var x=p.next,f=p.prev;if(de.sweep.remove(p),p.left=p.right=null,p.prev=null,p.node=null,p.vertices.clear(),p.next=Wt.zpp_pool,Wt.zpp_pool=p,null!=x&&null!=f&&!(x.id<f.id?de.inthash.has(x.id,f.id):de.inthash.has(f.id,x.id))){var g=de.sweep.intersection(x,f);if(null!=g)if(g.vertex.x>=de.sweep.sweepx){for(var v=de.queue.parent;null!=v;)if(de.queue.lt(g,v.data))v=v.prev;else{if(!de.queue.lt(v.data,g))break;v=v.next}if(null==v){for(var z=de.ints.parent;null!=z;)if(de.ints.lt(g,z.data))z=z.prev;else{if(!de.ints.lt(z.data,g))break;z=z.next}var Q,$,ee,b=z;null!=b?((Q=g.vertex).links.clear(),Q.node=null,Q.forced=!1,Q.next=Vt.zpp_pool,Vt.zpp_pool=Q,g.vertex=b.data.vertex,b.data=g,de.queue.insert(g)):(de.queue.insert(g),de.ints.insert(g)),x.id<f.id?(Q=x.id,b=f.id,null==Ve.zpp_pool?$=new Ve:($=Ve.zpp_pool,Ve.zpp_pool=$.next,$.next=null),$.id=Q,$.di=b,(b=$).value=!0,de.inthash.add(b)):(b=f.id,f=x.id,null==Ve.zpp_pool?ee=new Ve:(ee=Ve.zpp_pool,Ve.zpp_pool=ee.next,ee.next=null),ee.id=b,ee.di=f,(x=ee).value=!0,de.inthash.add(x))}else{b=g.vertex;b.links.clear(),b.node=null,b.forced=!1,b.next=Vt.zpp_pool,Vt.zpp_pool=b,g.vertex=null,g.segment=g.segment2=null,g.node=null,g.next=He.zpp_pool,He.zpp_pool=g}}else{f=g.vertex;f.links.clear(),f.node=null,f.forced=!1,f.next=Vt.zpp_pool,Vt.zpp_pool=f,g.vertex=null,g.segment=g.segment2=null,g.node=null,g.next=He.zpp_pool,He.zpp_pool=g}}}}else{for(var w=s.vertex,x=null==w.node,S=s.segment,C=s.segment2,k=(C.next!=S&&(f=S,S=C,C=f),S.vertices.parent);null!=k;)if(S.vertices.lt(w,k.data))k=k.prev;else{if(!S.vertices.lt(k.data,w))break;k=k.next}for(var M=null==k,P=C.vertices.parent;null!=P;)if(C.vertices.lt(w,P.data))P=P.prev;else{if(!C.vertices.lt(P.data,w))break;P=P.next}var O,T=null==P;if(M&&(M=S.vertices.insert(w),O=w==S.left?w:S.vertices.predecessor_node(M).data,M=w==S.right?w:S.vertices.successor_node(M).data,O.links.remove(M),w!=O&&O.links.insert(w),M.links.remove(O),w!=M&&M.links.insert(w),w!=O&&w.links.insert(O),w!=M&&w.links.insert(M)),T&&(O=C.vertices.insert(w),M=w==C.left?w:C.vertices.predecessor_node(O).data,T=w==C.right?w:C.vertices.successor_node(O).data,M.links.remove(T),w!=M&&M.links.insert(w),T.links.remove(M),w!=T&&T.links.insert(w),w!=M&&w.links.insert(M),w!=T&&w.links.insert(T)),x&&(w.node=de.vertices.insert(w)),w.forced=!0,x&&(M=S.node,T=C.node,M.data=C,(T.data=S).node=T,C.node=M,C.next=S.next,S.next=C,S.prev=C.prev,null!=(C.prev=S).prev&&(S.prev.next=S),null!=C.next&&(C.next.prev=C)),null!=C.next&&null!=C&&!(C.next.id<C.id?de.inthash.has(C.next.id,C.id):de.inthash.has(C.id,C.next.id))){var G=de.sweep.intersection(C.next,C);if(null!=G)if(G.vertex.x>=de.sweep.sweepx){for(var A=de.queue.parent;null!=A;)if(de.queue.lt(G,A.data))A=A.prev;else{if(!de.queue.lt(A.data,G))break;A=A.next}if(null==A){for(var E=de.ints.parent;null!=E;)if(de.ints.lt(G,E.data))E=E.prev;else{if(!de.ints.lt(E.data,G))break;E=E.next}var te,ie,T=E;null!=T?((M=G.vertex).links.clear(),M.node=null,M.forced=!1,M.next=Vt.zpp_pool,Vt.zpp_pool=M,G.vertex=T.data.vertex,T.data=G,de.queue.insert(G)):(de.queue.insert(G),de.ints.insert(G)),C.next.id<C.id?(M=C.next.id,T=C.id,null==Ve.zpp_pool?te=new Ve:(te=Ve.zpp_pool,Ve.zpp_pool=te.next,te.next=null),te.id=M,te.di=T,(M=te).value=!0,de.inthash.add(M)):(T=C.id,M=C.next.id,null==Ve.zpp_pool?ie=new Ve:(ie=Ve.zpp_pool,Ve.zpp_pool=ie.next,ie.next=null),ie.id=T,ie.di=M,(T=ie).value=!0,de.inthash.add(T))}else{M=G.vertex;M.links.clear(),M.node=null,M.forced=!1,M.next=Vt.zpp_pool,Vt.zpp_pool=M,G.vertex=null,G.segment=G.segment2=null,G.node=null,G.next=He.zpp_pool,He.zpp_pool=G}}else{T=G.vertex;T.links.clear(),T.node=null,T.forced=!1,T.next=Vt.zpp_pool,Vt.zpp_pool=T,G.vertex=null,G.segment=G.segment2=null,G.node=null,G.next=He.zpp_pool,He.zpp_pool=G}}if(null!=S&&null!=S.prev&&!(S.id<S.prev.id?de.inthash.has(S.id,S.prev.id):de.inthash.has(S.prev.id,S.id))){var I=de.sweep.intersection(S,S.prev);if(null!=I)if(I.vertex.x>=de.sweep.sweepx){for(var B=de.queue.parent;null!=B;)if(de.queue.lt(I,B.data))B=B.prev;else{if(!de.queue.lt(B.data,I))break;B=B.next}if(null==B){for(var ne=de.ints.parent;null!=ne;)if(de.ints.lt(I,ne.data))ne=ne.prev;else{if(!de.ints.lt(ne.data,I))break;ne=ne.next}var re,oe,M=ne;null!=M?((T=I.vertex).links.clear(),T.node=null,T.forced=!1,T.next=Vt.zpp_pool,Vt.zpp_pool=T,I.vertex=M.data.vertex,M.data=I,de.queue.insert(I)):(de.queue.insert(I),de.ints.insert(I)),S.id<S.prev.id?(T=S.id,M=S.prev.id,null==Ve.zpp_pool?re=new Ve:(re=Ve.zpp_pool,Ve.zpp_pool=re.next,re.next=null),re.id=T,re.di=M,(T=re).value=!0,de.inthash.add(T)):(M=S.prev.id,T=S.id,null==Ve.zpp_pool?oe=new Ve:(oe=Ve.zpp_pool,Ve.zpp_pool=oe.next,oe.next=null),oe.id=M,oe.di=T,(M=oe).value=!0,de.inthash.add(M))}else{T=I.vertex;T.links.clear(),T.node=null,T.forced=!1,T.next=Vt.zpp_pool,Vt.zpp_pool=T,I.vertex=null,I.segment=I.segment2=null,I.node=null,I.next=He.zpp_pool,He.zpp_pool=I}}else{M=I.vertex;M.links.clear(),M.node=null,M.forced=!1,M.next=Vt.zpp_pool,Vt.zpp_pool=M,I.vertex=null,I.segment=I.segment2=null,I.node=null,I.next=He.zpp_pool,He.zpp_pool=I}}de.ints.remove(s)}s.vertex=null,s.segment=s.segment2=null,s.node=null,s.next=He.zpp_pool,He.zpp_pool=s}for(var ae=0,se=de.inthash.table.length;ae<se;){var pe=ae++,le=de.inthash.table[pe];if(null!=le){for(;null!=le;){var he=le.hnext,ue=(le.hnext=null,le);ue.next=Ve.zpp_pool,Ve.zpp_pool=ue,le=he}de.inthash.table[pe]=null}}for(null==D&&(D=new Fi);!de.vertices.empty();)de.clip_polygon(de.vertices,D);return D},de.clip_polygon=function(e,t){var i,n=null,r=e.first(),o=r,a=r.links.parent,s=null==a.prev?a.next:a.prev,a=a.data,p=s.data,s=r.x-a.x,l=r.y-a.y,h=p.x-r.x,s=((p.y-r.y)*s-h*l<0&&(p=a),r.x),h=r.y,l=(null==Xi.zpp_pool?i=new Xi:(i=Xi.zpp_pool,Xi.zpp_pool=i.next,i.next=null),i.forced=!1,i.x=s,i.y=h,i);for(null==n?n=l.prev=l.next=l:(l.prev=n,l.next=n.next,n.next.prev=l,n.next=l),(n=l).forced=r.forced;;){if(r.links.remove(p),p.links.remove(r),p==o){r.links.empty()&&(e.remove(r),(d=r).links.clear(),d.node=null,d.forced=!1,d.next=Vt.zpp_pool,Vt.zpp_pool=d);break}var u,d=p.x,c=p.y,c=(null==Xi.zpp_pool?u=new Xi:(u=Xi.zpp_pool,Xi.zpp_pool=u.next,u.next=null),u.forced=!1,u.x=d,u.y=c,u);if(null==n?n=c.prev=c.next=c:(c.prev=n,c.next=n.next,n.next.prev=c,n.next=c),(n=c).forced=p.forced,p.links.singular())r.links.empty()&&(e.remove(r),(c=r).links.clear(),c.node=null,c.forced=!1,c.next=Vt.zpp_pool,Vt.zpp_pool=c),p=(r=p).links.parent.data;else{var m=null,y=0;if(!p.links.empty()){for(var _=p.links.parent;null!=_.prev;)_=_.prev;for(;null!=_;){var x,f,g,v,z,b,w,S=_.data;if(null==m?(g=x=0,x=p.x-r.x,g=p.y-r.y,f=0,f=(m=S).x-p.x,y=(S.y-p.y)*x-f*g):(f=x=0,x=p.x-r.x,f=p.y-r.y,g=0,g=S.x-p.x,0<(v=(S.y-p.y)*x-g*f)&&y<=0?(m=S,y=v):0<=y*v&&(b=z=0,z=p.x-S.x,b=p.y-S.y,w=0,w=m.x-p.x,0<(m.y-p.y)*z-w*b&&(m=S,y=v))),null!=_.next)for(_=_.next;null!=_.prev;)_=_.prev;else{for(;null!=_.parent&&_==_.parent.next;)_=_.parent;_=_.parent}}}r.links.empty()&&(e.remove(r),(c=r).links.clear(),c.node=null,c.forced=!1,c.next=Vt.zpp_pool,Vt.zpp_pool=c),r=p,p=m}}e.remove(o),o.links.clear(),o.node=null,o.forced=!1,o.next=Vt.zpp_pool,Vt.zpp_pool=o,t.add(n)},de.isSimple=function(e){null==de.sweep&&(de.sweep=new qt,de.inthash=new Pi);var t=de.list_vertices;if(null==t&&(t=de.list_vertices=new Ni),null!=e)for(var i=e;;){var n,r=i,o=r.x,r=r.y;if(null==Vt.zpp_pool?n=new Vt:(n=Vt.zpp_pool,Vt.zpp_pool=n.next,n.next=null),n.x=o,n.y=r,t.add(n),(i=i.next)==e)break}var a=de.list_queue;null==a&&(a=de.list_queue=new Ui);for(var s=(p=t.head).elt,p=p.next;null!=p;){var l,h,u=p.elt,d=(null==He.zpp_pool?l=new He:(l=He.zpp_pool,He.zpp_pool=l.next,l.next=null),l.vertex=s,a.add(l)),c=(null==He.zpp_pool?h=new He:(h=He.zpp_pool,He.zpp_pool=h.next,h.next=null),h.vertex=u,a.add(h)),m=He.less_xy(d,c)?(d.type=1,c.type=2,Wt.get(s,u)):(d.type=2,c.type=1,Wt.get(u,s));d.segment=c.segment=m,s=u,p=p.next}var y=t.head.elt,_=(null==He.zpp_pool?_=new He:(_=He.zpp_pool,He.zpp_pool=_.next,_.next=null),_.vertex=s,a.add(_)),x=(null==He.zpp_pool?x=new He:(x=He.zpp_pool,He.zpp_pool=x.next,x.next=null),x.vertex=y,a.add(x)),y=He.less_xy(_,x)?(_.type=1,x.type=2,Wt.get(s,y)):(_.type=2,x.type=1,Wt.get(y,s)),_=(_.segment=x.segment=y,a);if(null!=_.head&&null!=_.head.next){for(var f,g,v,z=_.head,b=null,w=null,S=null,C=null,k=1;;){for(f=0,w=z,b=z=null;null!=w;){for(++f,S=w,g=0,v=k;null!=S&&g<k;)++g,S=S.next;for(;0<g||0<v&&null!=S;)0!=g&&(0==v||null==S||He.less_xy(w.elt,S.elt))?(w=(C=w).next,--g):(S=(C=S).next,--v),null!=b?b.next=C:z=C,b=C;w=S}if(b.next=null,k<<=1,!(1<f))break}_.head=z,_.modified=!0,_.pushmod=!0}for(var M=!0;null!=a.head;){var P=a.pop_unsafe(),O=P.segment;if(1==P.type){if(de.sweep.add(O),de.sweep.intersect(O,O.next)||de.sweep.intersect(O,O.prev)){M=!1;break}}else if(2==P.type){if(de.sweep.intersect(O.prev,O.next)){M=!1;break}de.sweep.remove(O),O.left=O.right=null,O.prev=null,O.node=null,O.vertices.clear(),O.next=Wt.zpp_pool,Wt.zpp_pool=O}P.vertex=null,P.segment=P.segment2=null,P.node=null,P.next=He.zpp_pool,He.zpp_pool=P}for(;null!=a.head;){var T,G=a.pop_unsafe();2==G.type&&((T=G.segment).left=T.right=null,T.prev=null,T.node=null,T.vertices.clear(),T.next=Wt.zpp_pool,Wt.zpp_pool=T),G.vertex=null,G.segment=G.segment2=null,G.node=null,G.next=He.zpp_pool,He.zpp_pool=G}for(de.sweep.clear();null!=t.head;){var A=t.pop_unsafe();A.links.clear(),A.node=null,A.forced=!1,A.next=Vt.zpp_pool,Vt.zpp_pool=A}return M},de.prototype.__class__=de,zpp_nape.geom.ZPP_SimplifyV=function(){this.forced=!1,this.flag=!1,this.prev=null,this.next=null,this.y=0,this.x=0}),Yt=(Xt.__name__=["zpp_nape","geom","ZPP_SimplifyV"],Xt.get=function(e){var t;return null==Xt.zpp_pool?t=new Xt:(t=Xt.zpp_pool,Xt.zpp_pool=t.next,t.next=null),t.x=e.x,t.y=e.y,t.flag=!1,t},Xt.prototype.x=null,Xt.prototype.y=null,Xt.prototype.next=null,Xt.prototype.prev=null,Xt.prototype.flag=null,Xt.prototype.forced=null,Xt.prototype.free=function(){},Xt.prototype.alloc=function(){},Xt.prototype.__class__=Xt,zpp_nape.geom.ZPP_SimplifyP=function(){this.max=null,this.min=null,this.next=null}),Kt=(Yt.__name__=["zpp_nape","geom","ZPP_SimplifyP"],Yt.get=function(e,t){var i;return null==Yt.zpp_pool?i=new Yt:(i=Yt.zpp_pool,Yt.zpp_pool=i.next,i.next=null),i.min=e,i.max=t,i},Yt.prototype.next=null,Yt.prototype.min=null,Yt.prototype.max=null,Yt.prototype.free=function(){this.min=this.max=null},Yt.prototype.alloc=function(){},Yt.prototype.__class__=Yt,zpp_nape.geom.ZPP_Simplify=function(){}),Zt=(Kt.__name__=["zpp_nape","geom","ZPP_Simplify"],Kt.lessval=function(e,t){return e.x-t.x+(e.y-t.y)},Kt.less=function(e,t){return e.x-t.x+(e.y-t.y)<0},Kt.distance=function(e,t,i){var n,r,o,a=i.x-t.x,s=i.y-t.y,p=0,l=0,p=e.x-t.x,l=e.y-t.y;return a*a+s*s==0||(t=(p*a+l*s)/(a*a+s*s))<=0?p*p+l*l:1<=t?(n=e.x,e=e.y,o=r=0,(r=n-i.x)*r+(o=e-i.y)*o):(p-=a*t)*p+(l-=s*t)*l},Kt.simplify=function(e,t){for(var i,n,r,o,a,s,p,l=null,h=null,u=null,d=(t*=t,null==Kt.stack&&(Kt.stack=new Ri),null),c=null,m=e;;){null==Xt.zpp_pool?y=new Xt:(y=Xt.zpp_pool,Xt.zpp_pool=y.next,y.next=null),y.x=m.x,y.y=m.y,y.flag=!1;var y,_,x=y;if(x.forced=m.forced,x.forced&&(x.flag=!0,null!=d?(null==Yt.zpp_pool?_=new Yt:(_=Yt.zpp_pool,Yt.zpp_pool=_.next,_.next=null),_.min=d,_.max=x,Kt.stack.add(_)):c=x,d=x),null==l?l=x.prev=x.next=x:(x.prev=l,x.next=l.next,l.next.prev=x,l.next=x),l=x,null==h?u=h=x:(x.x-h.x+(x.y-h.y)<0&&(h=x),u.x-x.x+(u.y-x.y)<0&&(u=x)),(m=m.next)==e)break}for(null==Kt.stack.head?null==c?(h.flag=u.flag=!0,null==Yt.zpp_pool?i=new Yt:(i=Yt.zpp_pool,Yt.zpp_pool=i.next,i.next=null),i.min=h,i.max=u,Kt.stack.add(i),null==Yt.zpp_pool?n=new Yt:(n=Yt.zpp_pool,Yt.zpp_pool=n.next,n.next=null),n.min=u,n.max=h,Kt.stack.add(n)):(i=h.x-c.x+(h.y-c.y),(n=(n=u.x-c.x+(u.y-c.y))<0?-n:n)<(i=i<0?-i:i)?(h.flag=c.flag=!0,null==Yt.zpp_pool?r=new Yt:(r=Yt.zpp_pool,Yt.zpp_pool=r.next,r.next=null),r.min=h,r.max=c,Kt.stack.add(r),null==Yt.zpp_pool?o=new Yt:(o=Yt.zpp_pool,Yt.zpp_pool=o.next,o.next=null),o.min=c,o.max=h,Kt.stack.add(o)):(u.flag=c.flag=!0,null==Yt.zpp_pool?a=new Yt:(a=Yt.zpp_pool,Yt.zpp_pool=a.next,a.next=null),a.min=u,a.max=c,Kt.stack.add(a),null==Yt.zpp_pool?s=new Yt:(s=Yt.zpp_pool,Yt.zpp_pool=s.next,s.next=null),s.min=c,s.max=u,Kt.stack.add(s))):(null==Yt.zpp_pool?p=new Yt:(p=Yt.zpp_pool,Yt.zpp_pool=p.next,p.next=null),p.min=d,p.max=c,Kt.stack.add(p));null!=Kt.stack.head;){for(var f,g,v=Kt.stack.pop_unsafe(),z=v.min,b=v.max,w=(v.min=v.max=null,v.next=Yt.zpp_pool,Yt.zpp_pool=v,t),S=null,C=z.next;C!=b;){var k=Kt.distance(C,z,b);w<k&&(w=k,S=C),C=C.next}null!=S&&(S.flag=!0,null==Yt.zpp_pool?f=new Yt:(f=Yt.zpp_pool,Yt.zpp_pool=f.next,f.next=null),f.min=z,f.max=S,Kt.stack.add(f),null==Yt.zpp_pool?g=new Yt:(g=Yt.zpp_pool,Yt.zpp_pool=g.next,g.next=null),g.min=S,g.max=b,Kt.stack.add(g))}for(var M,P,O,T,G=null;null!=l;)l.flag&&(O=l.x,P=l.y,null==Xi.zpp_pool?M=new Xi:(M=Xi.zpp_pool,Xi.zpp_pool=M.next,M.next=null),M.forced=!1,M.x=O,M.y=P,O=M,null==G?G=O.prev=O.next=O:(O.prev=G,O.next=G.next,G.next.prev=O,G.next=O),(G=O).forced=l.forced),l=null!=l&&l.prev==l?(l.next=l.prev=null,(P=l).next=Xt.zpp_pool,Xt.zpp_pool=P,null):(O=l.next,l.prev.next=l.next,l.next.prev=l.prev,l.next=l.prev=null,(T=l).next=Xt.zpp_pool,Xt.zpp_pool=T,l=null,O);return G},Kt.prototype.__class__=Kt,zpp_nape.geom.ZPP_ToiEvent=function(){this.kinematic=!1,this.failed=!1,this.slipped=!1,this.axis=null,this.c2=null,this.c1=null,this.frozen2=!1,this.frozen1=!1,this.arbiter=null,this.s2=null,this.s1=null,this.toi=0,this.next=null,this.c1=new cr,this.c2=new cr,this.axis=new cr}),Jt=(Zt.__name__=["zpp_nape","geom","ZPP_ToiEvent"],Zt.prototype.next=null,Zt.prototype.alloc=function(){this.failed=!1,this.s1=this.s2=null,this.arbiter=null},Zt.prototype.free=function(){},Zt.prototype.toi=null,Zt.prototype.s1=null,Zt.prototype.s2=null,Zt.prototype.arbiter=null,Zt.prototype.frozen1=null,Zt.prototype.frozen2=null,Zt.prototype.c1=null,Zt.prototype.c2=null,Zt.prototype.axis=null,Zt.prototype.slipped=null,Zt.prototype.failed=null,Zt.prototype.kinematic=null,Zt.prototype.__class__=Zt,zpp_nape.geom.ZPP_SweepDistance=function(){}),Qt=(Jt.__name__=["zpp_nape","geom","ZPP_SweepDistance"],Jt.dynamicSweep=function(L,D,R,j,F){var e=L.s1,t=L.s2,i=e.body,n=t.body,N=n.velx-i.velx,U=n.vely-i.vely,H=i.angvel,V=n.angvel,W=e.sweepCoef*(H=H<0?-H:H)+t.sweepCoef*(V=V<0?-V:V);if(!(F=null==F?!1:F)&&!L.kinematic&&N*N+U*U<ur.dynamicSweepLinearThreshold*ur.dynamicSweepLinearThreshold&&W<ur.dynamicSweepAngularThreshold)return L.toi=-1,void(L.failed=!0);for(var q=L.c1,X=L.c2,r=L.axis,Y=R,K=0;;){var o=Y*D,a=o-i.sweepTime;if(0!=a&&(i.sweepTime=o,i.posx+=i.velx*a,i.posy+=i.vely*a,0!=i.angvel&&(o=i.sweep_angvel*a,i.rot+=o,1e-4<o*o?(i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)):(oe=((Z=1-.5*(a=o*o))*i.axisx+o*i.axisy)*(a=1-a*a/8),i.axisy=(Z*i.axisy-o*i.axisx)*a,i.axisx=oe))),0==e.type)e.worldCOMx=i.posx+(i.axisy*e.localCOMx-i.axisx*e.localCOMy),e.worldCOMy=i.posy+(e.localCOMx*i.axisx+e.localCOMy*i.axisy);else{for(var Z=e.polygon,J=Z.lverts.next,Q=Z.gverts.next;null!=Q;){var $=Q,ee=J,J=J.next;$.x=i.posx+(i.axisy*ee.x-i.axisx*ee.y),$.y=i.posy+(ee.x*i.axisx+ee.y*i.axisy),Q=Q.next}for(var te=Z.edges.head,ie=ne=Z.gverts.next,ne=ne.next;null!=ne;){var re=ne,s=te.elt,te=te.next;s.gnormx=i.axisy*s.lnormx-i.axisx*s.lnormy,s.gnormy=s.lnormx*i.axisx+s.lnormy*i.axisy,s.gprojection=i.posx*s.gnormx+i.posy*s.gnormy+s.lprojection,s.tp0=ie.y*s.gnormx-ie.x*s.gnormy,s.tp1=re.y*s.gnormx-re.x*s.gnormy,ie=re,ne=ne.next}o=Z.gverts.next,a=te.elt;a.gnormx=i.axisy*a.lnormx-i.axisx*a.lnormy,a.gnormy=a.lnormx*i.axisx+a.lnormy*i.axisy,a.gprojection=i.posx*a.gnormx+i.posy*a.gnormy+a.lprojection,a.tp0=ie.y*a.gnormx-ie.x*a.gnormy,a.tp1=o.y*a.gnormx-o.x*a.gnormy}var oe=Y*D,o=oe-n.sweepTime;if(0!=o&&(n.sweepTime=oe,n.posx+=n.velx*o,n.posy+=n.vely*o,0!=n.angvel&&(a=n.sweep_angvel*o,n.rot+=a,1e-4<a*a?(n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)):(ye=((ae=1-.5*(o=a*a))*n.axisx+a*n.axisy)*(o=1-o*o/8),n.axisy=(ae*n.axisy-a*n.axisx)*o,n.axisx=ye))),0==t.type)t.worldCOMx=n.posx+(n.axisy*t.localCOMx-n.axisx*t.localCOMy),t.worldCOMy=n.posy+(t.localCOMx*n.axisx+t.localCOMy*n.axisy);else{for(var ae=t.polygon,se=ae.lverts.next,pe=ae.gverts.next;null!=pe;){var le=pe,he=se,se=se.next;le.x=n.posx+(n.axisy*he.x-n.axisx*he.y),le.y=n.posy+(he.x*n.axisx+he.y*n.axisy),pe=pe.next}for(var ue=ae.edges.head,de=ce=ae.gverts.next,ce=ce.next;null!=ce;){var me=ce,p=ue.elt,ue=ue.next;p.gnormx=n.axisy*p.lnormx-n.axisx*p.lnormy,p.gnormy=p.lnormx*n.axisx+p.lnormy*n.axisy,p.gprojection=n.posx*p.gnormx+n.posy*p.gnormy+p.lprojection,p.tp0=de.y*p.gnormx-de.x*p.gnormy,p.tp1=me.y*p.gnormx-me.x*p.gnormy,de=me,ce=ce.next}a=ae.gverts.next,o=ue.elt;o.gnormx=n.axisy*o.lnormx-n.axisx*o.lnormy,o.gnormy=o.lnormx*n.axisx+o.lnormy*n.axisy,o.gprojection=n.posx*o.gnormx+n.posy*o.gnormy+o.lprojection,o.tp0=de.y*o.gnormx-de.x*o.gnormy,o.tp1=a.y*o.gnormx-a.x*o.gnormy}var ye=e,a=t,o=q,l=X;if(0==e.type&&0==t.type){var _e=e.circle,xe=t.circle,fe=0,ge=0,fe=xe.worldCOMx-_e.worldCOMx,ge=xe.worldCOMy-_e.worldCOMy,ve=Math.sqrt(fe*fe+ge*ge),ze=ve-(_e.radius+xe.radius);ze<1e100&&(0==ve?(fe=1,ge=0):(fe*=ve=1/ve,ge*=ve),ve=_e.radius,q.x=_e.worldCOMx+fe*ve,q.y=_e.worldCOMy+ge*ve,_e=-xe.radius,X.x=xe.worldCOMx+fe*_e,X.y=xe.worldCOMy+ge*_e,r.x=fe,r.y=ge),ve=ze}else{xe=!1;if(0==e.type&&1==t.type&&(ye=t,a=e,o=X,l=q,xe=!0),1==ye.type&&0==a.type){for(var h,u,be,we,_e=ye.polygon,d=a.circle,Se=-1e100,c=null,Ce=_e.edges.head;null!=Ce;){var ke=Ce.elt,Me=ke.gnormx*d.worldCOMx+ke.gnormy*d.worldCOMy-ke.gprojection-d.radius;if(1e100<Me){Se=Me;break}0<Me?Se<Me&&(Se=Me,c=ke):Se<0&&Se<Me&&(Se=Me,c=ke),Ce=Ce.next}Se<1e100&&(fe=c.gp0,ge=c.gp1,(ze=d.worldCOMy*c.gnormx-d.worldCOMx*c.gnormy)<=fe.y*c.gnormx-fe.x*c.gnormy?(be=u=0,u=d.worldCOMx-fe.x,be=d.worldCOMy-fe.y,(Se=(h=Math.sqrt(u*u+be*be))-d.radius)<1e100&&(0==h?(u=1,be=0):(u*=h=1/h,be*=h),o.x=fe.x+0*u,o.y=fe.y+0*be,h=-d.radius,l.x=d.worldCOMx+u*h,l.y=d.worldCOMy+be*h,r.x=u,r.y=be)):ze>=ge.y*c.gnormx-ge.x*c.gnormy?(u=h=0,h=d.worldCOMx-ge.x,u=d.worldCOMy-ge.y,(Se=(be=Math.sqrt(h*h+u*u))-d.radius)<1e100&&(0==be?(h=1,u=0):(h*=we=1/be,u*=we),o.x=ge.x+0*h,o.y=ge.y+0*u,we=-d.radius,l.x=d.worldCOMx+h*we,l.y=d.worldCOMy+u*we,r.x=h,r.y=u)):(Ve=-d.radius,l.x=d.worldCOMx+c.gnormx*Ve,l.y=d.worldCOMy+c.gnormy*Ve,o.x=l.x+c.gnormx*(Ve=-Se),o.y=l.y+c.gnormy*Ve,r.x=c.gnormx,r.y=c.gnormy)),xe&&(r.x=-r.x,r.y=-r.y),ve=Se}else{for(var Pe=ye.polygon,Oe=a.polygon,m=-1e100,Te=null,Ge=null,Ae=0,Ee=Pe.edges.head;null!=Ee;){for(var Ie=Ee.elt,Be=1e100,Le=Oe.gverts.next;null!=Le;){var De=Le,De=Ie.gnormx*De.x+Ie.gnormy*De.y;De<Be&&(Be=De),Le=Le.next}if(1e100<(Be-=Ie.gprojection)){m=Be;break}0<Be?m<Be&&(m=Be,Te=Ie,Ae=1):m<0&&m<Be&&(m=Be,Te=Ie,Ae=1),Ee=Ee.next}if(m<1e100){for(var Re=Oe.edges.head;null!=Re;){for(var je=Re.elt,Fe=1e100,Ne=Pe.gverts.next;null!=Ne;){var Ue=Ne,Ue=je.gnormx*Ue.x+je.gnormy*Ue.y;Ue<Fe&&(Fe=Ue),Ne=Ne.next}if(1e100<(Fe-=je.gprojection)){m=Fe;break}0<Fe?m<Fe&&(m=Fe,Ge=je,Ae=2):m<0&&m<Fe&&(m=Fe,Ge=je,Ae=2),Re=Re.next}if(m<1e100){1==Ae?(He=Oe,y=Te):(He=Pe,y=Ge,Ve=o,o=l,l=Ve,xe=!xe);for(var He,y,Ve,We,_,x,qe,Xe,Ye,Ke,Ze,Je,Qe,f,$e,g,et,tt=null,it=1e100,nt=He.edges.head;null!=nt;){var rt=nt.elt,ot=y.gnormx*rt.gnormx+y.gnormy*rt.gnormy;ot<it&&(it=ot,tt=rt),nt=nt.next}xe?(r.x=-y.gnormx,r.y=-y.gnormy):(r.x=y.gnormx,r.y=y.gnormy),ve=0<=m?(a=y.gp0,$e=y.gp1,g=tt.gp0,_=tt.gp1,x=v=Je=Ze=0,f=1/((Ze=$e.x-a.x)*Ze+(Je=$e.y-a.y)*Je),z=1/((v=_.x-g.x)*v+(x=_.y-g.y)*x),(b=-(Ze*(a.x-g.x)+Je*(a.y-g.y))*f)<0?b=0:1<b&&(b=1),(f=-(Ze*(a.x-_.x)+Je*(a.y-_.y))*f)<0?f=0:1<f&&(f=1),(Qe=-(v*(g.x-a.x)+x*(g.y-a.y))*z)<0?Qe=0:1<Qe&&(Qe=1),(z=-(v*(g.x-$e.x)+x*(g.y-$e.y))*z)<0?z=0:1<z&&(z=1),ht=lt=0,b=b,lt=a.x+Ze*b,ht=a.y+Je*b,We=b=0,f=f,b=a.x+Ze*f,We=a.y+Je*f,Je=Ze=0,f=Qe,Ze=g.x+v*f,Je=g.y+x*f,f=Qe=0,z=z,Qe=g.x+v*z,f=g.y+x*z,at=et=Ke=Ye=Xe=qe=pt=z=x=v=0,st=null,(v=(v=lt-g.x)*v+(x=ht-g.y)*x)<(x=(z=b-_.x)*z+(pt=We-_.y)*pt)?(et=lt,at=ht,st=g):(et=b,at=We,st=_,v=x),pt=z=0,lt=null,(ht=(qe=Ze-a.x)*qe+(Xe=Je-a.y)*Xe)<(g=(Ye=Qe-$e.x)*Ye+(Ke=f-$e.y)*Ke)?(z=Ze,pt=Je,lt=a):(z=Qe,pt=f,lt=$e,ht=g),0!=(m=v<ht?(o.x=et,o.y=at,l.x=st.x,l.y=st.y,Math.sqrt(v)):(l.x=z,l.y=pt,o.x=lt.x,o.y=lt.y,Math.sqrt(ht)))&&(r.x=l.x-o.x,r.y=l.y-o.y,r.x*=b=1/m,r.y*=b,xe&&(r.x=-r.x,r.y=-r.y)),m):(_=We=0,We=tt.gp0.x,_=tt.gp0.y,Ye=Xe=qe=x=0,Xe=(x=tt.gp1.x)-We,Ye=(qe=tt.gp1.y)-_,Ke=y.gnormy*We-y.gnormx*_,Ze=y.gnormy*x-y.gnormx*qe,a=(-y.tp1-Ke)*(Je=1/(Ze-Ke)),ur.epsilon<a&&(We+=Xe*a,_+=Ye*a),(Qe=(-y.tp0-Ze)*Je)<-ur.epsilon&&(x+=Xe*Qe,qe+=Ye*Qe),(f=We*y.gnormx+_*y.gnormy-y.gprojection)<($e=x*y.gnormx+qe*y.gnormy-y.gprojection)?(l.x=We,l.y=_,o.x=l.x+y.gnormx*(g=-f),o.y=l.y+y.gnormy*g,f):(l.x=x,l.y=qe,o.x=l.x+y.gnormx*(et=-$e),o.y=l.y+y.gnormy*et,$e))}else ve=1e100}else ve=1e100}}var at=ve+j,st=N*r.x+U*r.y;if(at<ur.distanceThresholdCCD){if(F)break;var v=q.x-i.posx,z=q.y-i.posy,pt=X.x-n.posx,lt=X.y-n.posy,ht=st-i.sweep_angvel*(r.y*v-r.x*z)+n.sweep_angvel*(r.y*pt-r.x*lt);if(0<ht&&(L.slipped=!0),ht<=0||at<.5*ur.distanceThresholdCCD)break}var b=(W-st)*D;if(b<=0){Y=-1;break}a=at/b;if(1<=(Y+=a=a<1e-6?1e-6:a)){var o=(Y=1)*D,l=o-i.sweepTime;if(0!=l&&(i.sweepTime=o,i.posx+=i.velx*l,i.posy+=i.vely*l,0!=i.angvel&&(a=i.sweep_angvel*l,i.rot+=a,1e-4<a*a?(i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)):(gt=((l=1-.5*(o=a*a))*i.axisx+a*i.axisy)*(o=1-o*o/8),i.axisy=(l*i.axisy-a*i.axisx)*o,i.axisx=gt))),0==e.type)e.worldCOMx=i.posx+(i.axisy*e.localCOMx-i.axisx*e.localCOMy),e.worldCOMy=i.posy+(e.localCOMx*i.axisx+e.localCOMy*i.axisy);else{for(var l=e.polygon,ut=l.lverts.next,dt=l.gverts.next;null!=dt;){var ct=dt,mt=ut,ut=ut.next;ct.x=i.posx+(i.axisy*mt.x-i.axisx*mt.y),ct.y=i.posy+(mt.x*i.axisx+mt.y*i.axisy),dt=dt.next}for(var yt=l.edges.head,_t=xt=l.gverts.next,xt=xt.next;null!=xt;){var ft=xt,w=yt.elt,yt=yt.next;w.gnormx=i.axisy*w.lnormx-i.axisx*w.lnormy,w.gnormy=w.lnormx*i.axisx+w.lnormy*i.axisy,w.gprojection=i.posx*w.gnormx+i.posy*w.gnormy+w.lprojection,w.tp0=_t.y*w.gnormx-_t.x*w.gnormy,w.tp1=ft.y*w.gnormx-ft.x*w.gnormy,_t=ft,xt=xt.next}a=l.gverts.next,o=yt.elt;o.gnormx=i.axisy*o.lnormx-i.axisx*o.lnormy,o.gnormy=o.lnormx*i.axisx+o.lnormy*i.axisy,o.gprojection=i.posx*o.gnormx+i.posy*o.gnormy+o.lprojection,o.tp0=_t.y*o.gnormx-_t.x*o.gnormy,o.tp1=a.y*o.gnormx-a.x*o.gnormy}var gt=Y*D,l=gt-n.sweepTime;if(0!=l&&(n.sweepTime=gt,n.posx+=n.velx*l,n.posy+=n.vely*l,0!=n.angvel&&(a=n.sweep_angvel*l,n.rot+=a,1e-4<a*a?(n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)):(Pt=((l=1-.5*(o=a*a))*n.axisx+a*n.axisy)*(o=1-o*o/8),n.axisy=(l*n.axisy-a*n.axisx)*o,n.axisx=Pt))),0==t.type)t.worldCOMx=n.posx+(n.axisy*t.localCOMx-n.axisx*t.localCOMy),t.worldCOMy=n.posy+(t.localCOMx*n.axisx+t.localCOMy*n.axisy);else{for(var l=t.polygon,vt=l.lverts.next,zt=l.gverts.next;null!=zt;){var bt=zt,wt=vt,vt=vt.next;bt.x=n.posx+(n.axisy*wt.x-n.axisx*wt.y),bt.y=n.posy+(wt.x*n.axisx+wt.y*n.axisy),zt=zt.next}for(var St=l.edges.head,Ct=kt=l.gverts.next,kt=kt.next;null!=kt;){var Mt=kt,S=St.elt,St=St.next;S.gnormx=n.axisy*S.lnormx-n.axisx*S.lnormy,S.gnormy=S.lnormx*n.axisx+S.lnormy*n.axisy,S.gprojection=n.posx*S.gnormx+n.posy*S.gnormy+S.lprojection,S.tp0=Ct.y*S.gnormx-Ct.x*S.gnormy,S.tp1=Mt.y*S.gnormx-Mt.x*S.gnormy,Ct=Mt,kt=kt.next}a=l.gverts.next,o=St.elt;o.gnormx=n.axisy*o.lnormx-n.axisx*o.lnormy,o.gnormy=o.lnormx*n.axisx+o.lnormy*n.axisy,o.gprojection=n.posx*o.gnormx+n.posy*o.gnormy+o.lprojection,o.tp0=Ct.y*o.gnormx-Ct.x*o.gnormy,o.tp1=a.y*o.gnormx-a.x*o.gnormy}var Pt=e,l=t,a=q,o=X;if(0==e.type&&0==t.type){var Ot=e.circle,Tt=t.circle,Gt=0,At=0,Gt=Tt.worldCOMx-Ot.worldCOMx,At=Tt.worldCOMy-Ot.worldCOMy,Et=Math.sqrt(Gt*Gt+At*At),It=Et-(Ot.radius+Tt.radius);It<1e100&&(0==Et?(Gt=1,At=0):(Gt*=Et=1/Et,At*=Et),Et=Ot.radius,q.x=Ot.worldCOMx+Gt*Et,q.y=Ot.worldCOMy+At*Et,Ot=-Tt.radius,X.x=Tt.worldCOMx+Gt*Ot,X.y=Tt.worldCOMy+At*Ot,r.x=Gt,r.y=At),Et=It}else{Tt=!1;if(0==e.type&&1==t.type&&(Pt=t,l=e,a=X,o=q,Tt=!0),1==Pt.type&&0==l.type){for(var C,k,Bt,Lt,Ot=Pt.polygon,M=l.circle,Dt=-1e100,P=null,Rt=Ot.edges.head;null!=Rt;){var jt=Rt.elt,Ft=jt.gnormx*M.worldCOMx+jt.gnormy*M.worldCOMy-jt.gprojection-M.radius;if(1e100<Ft){Dt=Ft;break}0<Ft?Dt<Ft&&(Dt=Ft,P=jt):Dt<0&&Dt<Ft&&(Dt=Ft,P=jt),Rt=Rt.next}Dt<1e100&&(Gt=P.gp0,At=P.gp1,(It=M.worldCOMy*P.gnormx-M.worldCOMx*P.gnormy)<=Gt.y*P.gnormx-Gt.x*P.gnormy?(Bt=k=0,k=M.worldCOMx-Gt.x,Bt=M.worldCOMy-Gt.y,(Dt=(C=Math.sqrt(k*k+Bt*Bt))-M.radius)<1e100&&(0==C?(k=1,Bt=0):(k*=C=1/C,Bt*=C),a.x=Gt.x+0*k,a.y=Gt.y+0*Bt,C=-M.radius,o.x=M.worldCOMx+k*C,o.y=M.worldCOMy+Bt*C,r.x=k,r.y=Bt)):It>=At.y*P.gnormx-At.x*P.gnormy?(k=C=0,C=M.worldCOMx-At.x,k=M.worldCOMy-At.y,(Dt=(Bt=Math.sqrt(C*C+k*k))-M.radius)<1e100&&(0==Bt?(C=1,k=0):(C*=Lt=1/Bt,k*=Lt),a.x=At.x+0*C,a.y=At.y+0*k,Lt=-M.radius,o.x=M.worldCOMx+C*Lt,o.y=M.worldCOMy+k*Lt,r.x=C,r.y=k)):(ni=-M.radius,o.x=M.worldCOMx+P.gnormx*ni,o.y=M.worldCOMy+P.gnormy*ni,a.x=o.x+P.gnormx*(ni=-Dt),a.y=o.y+P.gnormy*ni,r.x=P.gnormx,r.y=P.gnormy)),Tt&&(r.x=-r.x,r.y=-r.y),Et=Dt}else{for(var Nt=Pt.polygon,Ut=l.polygon,O=-1e100,Ht=null,Vt=null,Wt=0,qt=Nt.edges.head;null!=qt;){for(var Xt=qt.elt,Yt=1e100,Kt=Ut.gverts.next;null!=Kt;){var Zt=Kt,Zt=Xt.gnormx*Zt.x+Xt.gnormy*Zt.y;Zt<Yt&&(Yt=Zt),Kt=Kt.next}if(1e100<(Yt-=Xt.gprojection)){O=Yt;break}0<Yt?O<Yt&&(O=Yt,Ht=Xt,Wt=1):O<0&&O<Yt&&(O=Yt,Ht=Xt,Wt=1),qt=qt.next}if(O<1e100){for(var Jt=Ut.edges.head;null!=Jt;){for(var Qt=Jt.elt,$t=1e100,ei=Nt.gverts.next;null!=ei;){var ti=ei,ti=Qt.gnormx*ti.x+Qt.gnormy*ti.y;ti<$t&&($t=ti),ei=ei.next}if(1e100<($t-=Qt.gprojection)){O=$t;break}0<$t?O<$t&&(O=$t,Vt=Qt,Wt=2):O<0&&O<$t&&(O=$t,Vt=Qt,Wt=2),Jt=Jt.next}if(O<1e100){1==Wt?(ii=Ut,T=Ht):(ii=Nt,T=Vt,ni=a,a=o,o=ni,Tt=!Tt);for(var ii,T,ni,ri,oi,G,A,ai,si,pi,li,hi,ui,di,E,ci,I,mi,yi=null,_i=1e100,xi=ii.edges.head;null!=xi;){var fi=xi.elt,gi=T.gnormx*fi.gnormx+T.gnormy*fi.gnormy;gi<_i&&(_i=gi,yi=fi),xi=xi.next}Tt?(r.x=-T.gnormx,r.y=-T.gnormy):(r.x=T.gnormx,r.y=T.gnormy),Et=0<=O?(l=T.gp0,ci=T.gp1,I=yi.gp0,G=yi.gp1,A=bi=ui=hi=0,E=1/((hi=ci.x-l.x)*hi+(ui=ci.y-l.y)*ui),B=1/((bi=G.x-I.x)*bi+(A=G.y-I.y)*A),(ri=-(hi*(l.x-I.x)+ui*(l.y-I.y))*E)<0?ri=0:1<ri&&(ri=1),(E=-(hi*(l.x-G.x)+ui*(l.y-G.y))*E)<0?E=0:1<E&&(E=1),(di=-(bi*(I.x-l.x)+A*(I.y-l.y))*B)<0?di=0:1<di&&(di=1),(B=-(bi*(I.x-ci.x)+A*(I.y-ci.y))*B)<0?B=0:1<B&&(B=1),Ci=Si=0,ri=ri,Si=l.x+hi*ri,Ci=l.y+ui*ri,oi=ri=0,E=E,ri=l.x+hi*E,oi=l.y+ui*E,ui=hi=0,E=di,hi=I.x+bi*E,ui=I.y+A*E,E=di=0,B=B,di=I.x+bi*B,E=I.y+A*B,vi=mi=li=pi=si=ai=wi=B=A=bi=0,zi=null,(bi=(bi=Si-I.x)*bi+(A=Ci-I.y)*A)<(A=(B=ri-G.x)*B+(wi=oi-G.y)*wi)?(mi=Si,vi=Ci,zi=I):(mi=ri,vi=oi,zi=G,bi=A),wi=B=0,Si=null,(Ci=(ai=hi-l.x)*ai+(si=ui-l.y)*si)<(I=(pi=di-ci.x)*pi+(li=E-ci.y)*li)?(B=hi,wi=ui,Si=l):(B=di,wi=E,Si=ci,Ci=I),0!=(O=bi<Ci?(a.x=mi,a.y=vi,o.x=zi.x,o.y=zi.y,Math.sqrt(bi)):(o.x=B,o.y=wi,a.x=Si.x,a.y=Si.y,Math.sqrt(Ci)))&&(r.x=o.x-a.x,r.y=o.y-a.y,r.x*=ri=1/O,r.y*=ri,Tt&&(r.x=-r.x,r.y=-r.y)),O):(G=oi=0,oi=yi.gp0.x,G=yi.gp0.y,pi=si=ai=A=0,si=(A=yi.gp1.x)-oi,pi=(ai=yi.gp1.y)-G,li=T.gnormy*oi-T.gnormx*G,hi=T.gnormy*A-T.gnormx*ai,l=(-T.tp1-li)*(ui=1/(hi-li)),ur.epsilon<l&&(oi+=si*l,G+=pi*l),(di=(-T.tp0-hi)*ui)<-ur.epsilon&&(A+=si*di,ai+=pi*di),(E=oi*T.gnormx+G*T.gnormy-T.gprojection)<(ci=A*T.gnormx+ai*T.gnormy-T.gprojection)?(o.x=oi,o.y=G,a.x=o.x+T.gnormx*(I=-E),a.y=o.y+T.gnormy*I,E):(o.x=A,o.y=ai,a.x=o.x+T.gnormx*(mi=-ci),a.y=o.y+T.gnormy*mi,ci))}else Et=1e100}else Et=1e100}}var vi=Et+j,zi=N*r.x+U*r.y;if(vi<ur.distanceThresholdCCD){if(F)break;var bi=q.x-i.posx,B=q.y-i.posy,wi=X.x-n.posx,Si=X.y-n.posy,Ci=zi-i.sweep_angvel*(r.y*bi-r.x*B)+n.sweep_angvel*(r.y*wi-r.x*Si);if(0<Ci&&(L.slipped=!0),Ci<=0||vi<.5*ur.distanceThresholdCCD)break}Y=-1;break}if(40<=++K){j<at&&(L.failed=!0);break}}L.toi=Y},Jt.staticSweep=function(L,D,R,j){for(var e=L.s1,F=L.s2,t=e.body,N=-t.velx,U=-t.vely,H=t.sweep_angvel,V=e.sweepCoef*(H=H<0?-H:H),W=L.c1,q=L.c2,i=L.axis,X=R,Y=0;;){var n=X*D,r=n-t.sweepTime;if(0!=r&&(t.sweepTime=n,t.posx+=t.velx*r,t.posy+=t.vely*r,0!=t.angvel&&(n=t.sweep_angvel*r,t.rot+=n,1e-4<n*n?(t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)):(re=((K=1-.5*(r=n*n))*t.axisx+n*t.axisy)*(r=1-r*r/8),t.axisy=(K*t.axisy-n*t.axisx)*r,t.axisx=re))),0==e.type)e.worldCOMx=t.posx+(t.axisy*e.localCOMx-t.axisx*e.localCOMy),e.worldCOMy=t.posy+(e.localCOMx*t.axisx+e.localCOMy*t.axisy);else{for(var K=e.polygon,Z=K.lverts.next,J=K.gverts.next;null!=J;){var Q=J,$=Z,Z=Z.next;Q.x=t.posx+(t.axisy*$.x-t.axisx*$.y),Q.y=t.posy+($.x*t.axisx+$.y*t.axisy),J=J.next}for(var ee=K.edges.head,te=ie=K.gverts.next,ie=ie.next;null!=ie;){var ne=ie,o=ee.elt,ee=ee.next;o.gnormx=t.axisy*o.lnormx-t.axisx*o.lnormy,o.gnormy=o.lnormx*t.axisx+o.lnormy*t.axisy,o.gprojection=t.posx*o.gnormx+t.posy*o.gnormy+o.lprojection,o.tp0=te.y*o.gnormx-te.x*o.gnormy,o.tp1=ne.y*o.gnormx-ne.x*o.gnormy,te=ne,ie=ie.next}n=K.gverts.next,r=ee.elt;r.gnormx=t.axisy*r.lnormx-t.axisx*r.lnormy,r.gnormy=r.lnormx*t.axisx+r.lnormy*t.axisy,r.gprojection=t.posx*r.gnormx+t.posy*r.gnormy+r.lprojection,r.tp0=te.y*r.gnormx-te.x*r.gnormy,r.tp1=n.y*r.gnormx-n.x*r.gnormy}var re=e,n=F,r=W,a=q;if(0==e.type&&0==F.type){var oe=e.circle,ae=F.circle,s=0,p=0,s=ae.worldCOMx-oe.worldCOMx,p=ae.worldCOMy-oe.worldCOMy,l=Math.sqrt(s*s+p*p),se=l-(oe.radius+ae.radius);se<1e100&&(0==l?(s=1,p=0):(s*=l=1/l,p*=l),l=oe.radius,W.x=oe.worldCOMx+s*l,W.y=oe.worldCOMy+p*l,oe=-ae.radius,q.x=ae.worldCOMx+s*oe,q.y=ae.worldCOMy+p*oe,i.x=s,i.y=p),l=se}else{ae=!1;if(0==e.type&&1==F.type&&(re=F,n=e,r=q,a=W,ae=!0),1==re.type&&0==n.type){for(var h,u,pe,le,oe=re.polygon,d=n.circle,he=-1e100,c=null,ue=oe.edges.head;null!=ue;){var de=ue.elt,ce=de.gnormx*d.worldCOMx+de.gnormy*d.worldCOMy-de.gprojection-d.radius;if(1e100<ce){he=ce;break}0<ce?he<ce&&(he=ce,c=de):he<0&&he<ce&&(he=ce,c=de),ue=ue.next}he<1e100&&(s=c.gp0,p=c.gp1,(se=d.worldCOMy*c.gnormx-d.worldCOMx*c.gnormy)<=s.y*c.gnormx-s.x*c.gnormy?(pe=u=0,u=d.worldCOMx-s.x,pe=d.worldCOMy-s.y,(he=(h=Math.sqrt(u*u+pe*pe))-d.radius)<1e100&&(0==h?(u=1,pe=0):(u*=h=1/h,pe*=h),r.x=s.x+0*u,r.y=s.y+0*pe,h=-d.radius,a.x=d.worldCOMx+u*h,a.y=d.worldCOMy+pe*h,i.x=u,i.y=pe)):se>=p.y*c.gnormx-p.x*c.gnormy?(u=h=0,h=d.worldCOMx-p.x,u=d.worldCOMy-p.y,(he=(pe=Math.sqrt(h*h+u*u))-d.radius)<1e100&&(0==pe?(h=1,u=0):(h*=le=1/pe,u*=le),r.x=p.x+0*h,r.y=p.y+0*u,le=-d.radius,a.x=d.worldCOMx+h*le,a.y=d.worldCOMy+u*le,i.x=h,i.y=u)):(Te=-d.radius,a.x=d.worldCOMx+c.gnormx*Te,a.y=d.worldCOMy+c.gnormy*Te,r.x=a.x+c.gnormx*(Te=-he),r.y=a.y+c.gnormy*Te,i.x=c.gnormx,i.y=c.gnormy)),ae&&(i.x=-i.x,i.y=-i.y),l=he}else{for(var me=re.polygon,ye=n.polygon,m=-1e100,_e=null,xe=null,fe=0,ge=me.edges.head;null!=ge;){for(var ve=ge.elt,ze=1e100,be=ye.gverts.next;null!=be;){var we=be,we=ve.gnormx*we.x+ve.gnormy*we.y;we<ze&&(ze=we),be=be.next}if(1e100<(ze-=ve.gprojection)){m=ze;break}0<ze?m<ze&&(m=ze,_e=ve,fe=1):m<0&&m<ze&&(m=ze,_e=ve,fe=1),ge=ge.next}if(m<1e100){for(var Se=ye.edges.head;null!=Se;){for(var Ce=Se.elt,ke=1e100,Me=me.gverts.next;null!=Me;){var Pe=Me,Pe=Ce.gnormx*Pe.x+Ce.gnormy*Pe.y;Pe<ke&&(ke=Pe),Me=Me.next}if(1e100<(ke-=Ce.gprojection)){m=ke;break}0<ke?m<ke&&(m=ke,xe=Ce,fe=2):m<0&&m<ke&&(m=ke,xe=Ce,fe=2),Se=Se.next}if(m<1e100){1==fe?(Oe=ye,y=_e):(Oe=me,y=xe,Te=r,r=a,a=Te,ae=!ae);for(var Oe,y,Te,Ge,_,x,Ae,Ee,Ie,Be,Le,De,Re,f,je,g,Fe,Ne=null,Ue=1e100,He=Oe.edges.head;null!=He;){var Ve=He.elt,We=y.gnormx*Ve.gnormx+y.gnormy*Ve.gnormy;We<Ue&&(Ue=We,Ne=Ve),He=He.next}ae?(i.x=-y.gnormx,i.y=-y.gnormy):(i.x=y.gnormx,i.y=y.gnormy),l=0<=m?(n=y.gp0,je=y.gp1,g=Ne.gp0,_=Ne.gp1,x=v=De=Le=0,f=1/((Le=je.x-n.x)*Le+(De=je.y-n.y)*De),z=1/((v=_.x-g.x)*v+(x=_.y-g.y)*x),(b=-(Le*(n.x-g.x)+De*(n.y-g.y))*f)<0?b=0:1<b&&(b=1),(f=-(Le*(n.x-_.x)+De*(n.y-_.y))*f)<0?f=0:1<f&&(f=1),(Re=-(v*(g.x-n.x)+x*(g.y-n.y))*z)<0?Re=0:1<Re&&(Re=1),(z=-(v*(g.x-je.x)+x*(g.y-je.y))*z)<0?z=0:1<z&&(z=1),Ze=Ke=0,b=b,Ke=n.x+Le*b,Ze=n.y+De*b,Ge=b=0,f=f,b=n.x+Le*f,Ge=n.y+De*f,De=Le=0,f=Re,Le=g.x+v*f,De=g.y+x*f,f=Re=0,z=z,Re=g.x+v*z,f=g.y+x*z,qe=Fe=Be=Ie=Ee=Ae=Ye=z=x=v=0,Xe=null,(v=(v=Ke-g.x)*v+(x=Ze-g.y)*x)<(x=(z=b-_.x)*z+(Ye=Ge-_.y)*Ye)?(Fe=Ke,qe=Ze,Xe=g):(Fe=b,qe=Ge,Xe=_,v=x),Ye=z=0,Ke=null,(Ze=(Ae=Le-n.x)*Ae+(Ee=De-n.y)*Ee)<(g=(Ie=Re-je.x)*Ie+(Be=f-je.y)*Be)?(z=Le,Ye=De,Ke=n):(z=Re,Ye=f,Ke=je,Ze=g),0!=(m=v<Ze?(r.x=Fe,r.y=qe,a.x=Xe.x,a.y=Xe.y,Math.sqrt(v)):(a.x=z,a.y=Ye,r.x=Ke.x,r.y=Ke.y,Math.sqrt(Ze)))&&(i.x=a.x-r.x,i.y=a.y-r.y,i.x*=b=1/m,i.y*=b,ae&&(i.x=-i.x,i.y=-i.y)),m):(_=Ge=0,Ge=Ne.gp0.x,_=Ne.gp0.y,Ie=Ee=Ae=x=0,Ee=(x=Ne.gp1.x)-Ge,Ie=(Ae=Ne.gp1.y)-_,Be=y.gnormy*Ge-y.gnormx*_,Le=y.gnormy*x-y.gnormx*Ae,n=(-y.tp1-Be)*(De=1/(Le-Be)),ur.epsilon<n&&(Ge+=Ee*n,_+=Ie*n),(Re=(-y.tp0-Le)*De)<-ur.epsilon&&(x+=Ee*Re,Ae+=Ie*Re),(f=Ge*y.gnormx+_*y.gnormy-y.gprojection)<(je=x*y.gnormx+Ae*y.gnormy-y.gprojection)?(a.x=Ge,a.y=_,r.x=a.x+y.gnormx*(g=-f),r.y=a.y+y.gnormy*g,f):(a.x=x,a.y=Ae,r.x=a.x+y.gnormx*(Fe=-je),r.y=a.y+y.gnormy*Fe,je))}else l=1e100}else l=1e100}}var qe=l+j,Xe=N*i.x+U*i.y;if(qe<ur.distanceThresholdCCD){var v=W.x-t.posx,z=W.y-t.posy,Ye=Xe-t.sweep_angvel*(i.y*v-i.x*z);if(0<Ye&&(L.slipped=!0),Ye<=0||qe<.5*ur.distanceThresholdCCD)break}var Ke=(V-Xe)*D;if(Ke<=0){X=-1;break}var Ze=qe/Ke;if(1<=(X+=Ze=Ze<1e-6?1e-6:Ze)){var b=(X=1)*D,n=b-t.sweepTime;if(0!=n&&(t.sweepTime=b,t.posx+=t.velx*n,t.posy+=t.vely*n,0!=t.angvel&&(r=t.sweep_angvel*n,t.rot+=r,1e-4<r*r?(t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)):(ot=((n=1-.5*(a=r*r))*t.axisx+r*t.axisy)*(a=1-a*a/8),t.axisy=(n*t.axisy-r*t.axisx)*a,t.axisx=ot))),0==e.type)e.worldCOMx=t.posx+(t.axisy*e.localCOMx-t.axisx*e.localCOMy),e.worldCOMy=t.posy+(e.localCOMx*t.axisx+e.localCOMy*t.axisy);else{for(var n=e.polygon,Je=n.lverts.next,Qe=n.gverts.next;null!=Qe;){var $e=Qe,et=Je,Je=Je.next;$e.x=t.posx+(t.axisy*et.x-t.axisx*et.y),$e.y=t.posy+(et.x*t.axisx+et.y*t.axisy),Qe=Qe.next}for(var tt=n.edges.head,it=nt=n.gverts.next,nt=nt.next;null!=nt;){var rt=nt,w=tt.elt,tt=tt.next;w.gnormx=t.axisy*w.lnormx-t.axisx*w.lnormy,w.gnormy=w.lnormx*t.axisx+w.lnormy*t.axisy,w.gprojection=t.posx*w.gnormx+t.posy*w.gnormy+w.lprojection,w.tp0=it.y*w.gnormx-it.x*w.gnormy,w.tp1=rt.y*w.gnormx-rt.x*w.gnormy,it=rt,nt=nt.next}r=n.gverts.next,a=tt.elt;a.gnormx=t.axisy*a.lnormx-t.axisx*a.lnormy,a.gnormy=a.lnormx*t.axisx+a.lnormy*t.axisy,a.gprojection=t.posx*a.gnormx+t.posy*a.gnormy+a.lprojection,a.tp0=it.y*a.gnormx-it.x*a.gnormy,a.tp1=r.y*a.gnormx-r.x*a.gnormy}var ot=e,n=F,r=W,a=q;if(0==e.type&&0==F.type){var at=e.circle,st=F.circle,pt=0,lt=0,pt=st.worldCOMx-at.worldCOMx,lt=st.worldCOMy-at.worldCOMy,ht=Math.sqrt(pt*pt+lt*lt),ut=ht-(at.radius+st.radius);ut<1e100&&(0==ht?(pt=1,lt=0):(pt*=ht=1/ht,lt*=ht),ht=at.radius,W.x=at.worldCOMx+pt*ht,W.y=at.worldCOMy+lt*ht,at=-st.radius,q.x=st.worldCOMx+pt*at,q.y=st.worldCOMy+lt*at,i.x=pt,i.y=lt),ht=ut}else{st=!1;if(0==e.type&&1==F.type&&(ot=F,n=e,r=q,a=W,st=!0),1==ot.type&&0==n.type){for(var S,C,dt,ct,at=ot.polygon,k=n.circle,mt=-1e100,M=null,yt=at.edges.head;null!=yt;){var _t=yt.elt,xt=_t.gnormx*k.worldCOMx+_t.gnormy*k.worldCOMy-_t.gprojection-k.radius;if(1e100<xt){mt=xt;break}0<xt?mt<xt&&(mt=xt,M=_t):mt<0&&mt<xt&&(mt=xt,M=_t),yt=yt.next}mt<1e100&&(pt=M.gp0,lt=M.gp1,(ut=k.worldCOMy*M.gnormx-k.worldCOMx*M.gnormy)<=pt.y*M.gnormx-pt.x*M.gnormy?(dt=C=0,C=k.worldCOMx-pt.x,dt=k.worldCOMy-pt.y,(mt=(S=Math.sqrt(C*C+dt*dt))-k.radius)<1e100&&(0==S?(C=1,dt=0):(C*=S=1/S,dt*=S),r.x=pt.x+0*C,r.y=pt.y+0*dt,S=-k.radius,a.x=k.worldCOMx+C*S,a.y=k.worldCOMy+dt*S,i.x=C,i.y=dt)):ut>=lt.y*M.gnormx-lt.x*M.gnormy?(C=S=0,S=k.worldCOMx-lt.x,C=k.worldCOMy-lt.y,(mt=(dt=Math.sqrt(S*S+C*C))-k.radius)<1e100&&(0==dt?(S=1,C=0):(S*=ct=1/dt,C*=ct),r.x=lt.x+0*S,r.y=lt.y+0*C,ct=-k.radius,a.x=k.worldCOMx+S*ct,a.y=k.worldCOMy+C*ct,i.x=S,i.y=C)):(It=-k.radius,a.x=k.worldCOMx+M.gnormx*It,a.y=k.worldCOMy+M.gnormy*It,r.x=a.x+M.gnormx*(It=-mt),r.y=a.y+M.gnormy*It,i.x=M.gnormx,i.y=M.gnormy)),st&&(i.x=-i.x,i.y=-i.y),ht=mt}else{for(var ft=ot.polygon,gt=n.polygon,P=-1e100,vt=null,zt=null,bt=0,wt=ft.edges.head;null!=wt;){for(var St=wt.elt,Ct=1e100,kt=gt.gverts.next;null!=kt;){var Mt=kt,Mt=St.gnormx*Mt.x+St.gnormy*Mt.y;Mt<Ct&&(Ct=Mt),kt=kt.next}if(1e100<(Ct-=St.gprojection)){P=Ct;break}0<Ct?P<Ct&&(P=Ct,vt=St,bt=1):P<0&&P<Ct&&(P=Ct,vt=St,bt=1),wt=wt.next}if(P<1e100){for(var Pt=gt.edges.head;null!=Pt;){for(var Ot=Pt.elt,Tt=1e100,Gt=ft.gverts.next;null!=Gt;){var At=Gt,At=Ot.gnormx*At.x+Ot.gnormy*At.y;At<Tt&&(Tt=At),Gt=Gt.next}if(1e100<(Tt-=Ot.gprojection)){P=Tt;break}0<Tt?P<Tt&&(P=Tt,zt=Ot,bt=2):P<0&&P<Tt&&(P=Tt,zt=Ot,bt=2),Pt=Pt.next}if(P<1e100){1==bt?(Et=gt,O=vt):(Et=ft,O=zt,It=r,r=a,a=It,st=!st);for(var Et,O,It,Bt,Lt,Dt,Rt,T,G,jt,Ft,Nt,Ut,Ht,Vt,Wt,A,qt,E,Xt,Yt=null,Kt=1e100,Zt=Et.edges.head;null!=Zt;){var Jt=Zt.elt,Qt=O.gnormx*Jt.gnormx+O.gnormy*Jt.gnormy;Qt<Kt&&(Kt=Qt,Yt=Jt),Zt=Zt.next}st?(i.x=-O.gnormx,i.y=-O.gnormy):(i.x=O.gnormx,i.y=O.gnormy),ht=0<=P?(n=O.gp0,qt=O.gp1,E=Yt.gp0,T=Yt.gp1,G=I=Vt=Ht=0,A=1/((Ht=qt.x-n.x)*Ht+(Vt=qt.y-n.y)*Vt),B=1/((I=T.x-E.x)*I+(G=T.y-E.y)*G),(Dt=-(Ht*(n.x-E.x)+Vt*(n.y-E.y))*A)<0?Dt=0:1<Dt&&(Dt=1),(A=-(Ht*(n.x-T.x)+Vt*(n.y-T.y))*A)<0?A=0:1<A&&(A=1),(Wt=-(I*(E.x-n.x)+G*(E.y-n.y))*B)<0?Wt=0:1<Wt&&(Wt=1),(B=-(I*(E.x-qt.x)+G*(E.y-qt.y))*B)<0?B=0:1<B&&(B=1),Bt=Lt=0,Dt=Dt,Lt=n.x+Ht*Dt,Bt=n.y+Vt*Dt,Rt=Dt=0,A=A,Dt=n.x+Ht*A,Rt=n.y+Vt*A,Vt=Ht=0,A=Wt,Ht=E.x+I*A,Vt=E.y+G*A,A=Wt=0,B=B,Wt=E.x+I*B,A=E.y+G*B,$t=Xt=Ut=Nt=Ft=jt=ti=B=G=I=0,ei=null,(I=(I=Lt-E.x)*I+(G=Bt-E.y)*G)<(G=(B=Dt-T.x)*B+(ti=Rt-T.y)*ti)?(Xt=Lt,$t=Bt,ei=E):(Xt=Dt,$t=Rt,ei=T,I=G),ti=B=0,Lt=null,(Bt=(jt=Ht-n.x)*jt+(Ft=Vt-n.y)*Ft)<(E=(Nt=Wt-qt.x)*Nt+(Ut=A-qt.y)*Ut)?(B=Ht,ti=Vt,Lt=n):(B=Wt,ti=A,Lt=qt,Bt=E),0!=(P=I<Bt?(r.x=Xt,r.y=$t,a.x=ei.x,a.y=ei.y,Math.sqrt(I)):(a.x=B,a.y=ti,r.x=Lt.x,r.y=Lt.y,Math.sqrt(Bt)))&&(i.x=a.x-r.x,i.y=a.y-r.y,i.x*=Dt=1/P,i.y*=Dt,st&&(i.x=-i.x,i.y=-i.y)),P):(T=Rt=0,Rt=Yt.gp0.x,T=Yt.gp0.y,Nt=Ft=jt=G=0,Ft=(G=Yt.gp1.x)-Rt,Nt=(jt=Yt.gp1.y)-T,Ut=O.gnormy*Rt-O.gnormx*T,Ht=O.gnormy*G-O.gnormx*jt,n=(-O.tp1-Ut)*(Vt=1/(Ht-Ut)),ur.epsilon<n&&(Rt+=Ft*n,T+=Nt*n),(Wt=(-O.tp0-Ht)*Vt)<-ur.epsilon&&(G+=Ft*Wt,jt+=Nt*Wt),(A=Rt*O.gnormx+T*O.gnormy-O.gprojection)<(qt=G*O.gnormx+jt*O.gnormy-O.gprojection)?(a.x=Rt,a.y=T,r.x=a.x+O.gnormx*(E=-A),r.y=a.y+O.gnormy*E,A):(a.x=G,a.y=jt,r.x=a.x+O.gnormx*(Xt=-qt),r.y=a.y+O.gnormy*Xt,qt))}else ht=1e100}else ht=1e100}}var $t=ht+j,ei=N*i.x+U*i.y;if($t<ur.distanceThresholdCCD){var I=W.x-t.posx,B=W.y-t.posy,ti=ei-t.sweep_angvel*(i.y*I-i.x*B);if(0<ti&&(L.slipped=!0),ti<=0||$t<.5*ur.distanceThresholdCCD)break}X=-1;break}if(40<=++Y){j<qe&&(L.failed=!0);break}}L.toi=X},Jt.distanceBody=function(e,L,D,R){null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,null==cr.zpp_pool?i=new cr:(i=cr.zpp_pool,cr.zpp_pool=i.next,i.next=null),i.weak=!1,null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1;for(var t,i,n,r=1e100,j=e.shapes.head;null!=j;){for(var F=j.elt,N=L.shapes.head;null!=N;){var o=N.elt,a=F,s=o,p=t,l=i;if(0==F.type&&0==o.type){var h=F.circle,u=o.circle,U=0,d=0,U=u.worldCOMx-h.worldCOMx,d=u.worldCOMy-h.worldCOMy,c=Math.sqrt(U*U+d*d),m=c-(h.radius+u.radius);m<r&&(0==c?(U=1,d=0):(U*=c=1/c,d*=c),c=h.radius,p.x=h.worldCOMx+U*c,p.y=h.worldCOMy+d*c,h=-u.radius,l.x=u.worldCOMx+U*h,l.y=u.worldCOMy+d*h,n.x=U,n.y=d),c=m}else{u=!1;if(0==F.type&&1==o.type&&(a=o,s=F,h=p,p=l,l=h,u=!0),1==a.type&&0==s.type){for(var y,_,x,U=a.polygon,f=s.circle,g=-1e100,v=null,H=U.edges.head;null!=H;){var V=H.elt,W=V.gnormx*f.worldCOMx+V.gnormy*f.worldCOMy-V.gprojection-f.radius;if(r<W){g=W;break}0<W?g<W&&(g=W,v=V):g<0&&g<W&&(g=W,v=V),H=H.next}g<r&&(d=v.gp0,m=v.gp1,(o=f.worldCOMy*v.gnormx-f.worldCOMx*v.gnormy)<=d.y*v.gnormx-d.x*v.gnormy?(x=_=0,_=f.worldCOMx-d.x,x=f.worldCOMy-d.y,(g=(y=Math.sqrt(_*_+x*x))-f.radius)<r&&(0==y?(_=1,x=0):(_*=y=1/y,x*=y),p.x=d.x+0*_,p.y=d.y+0*x,y=-f.radius,l.x=f.worldCOMx+_*y,l.y=f.worldCOMy+x*y,n.x=_,n.y=x)):o>=m.y*v.gnormx-m.x*v.gnormy?(_=y=0,y=f.worldCOMx-m.x,_=f.worldCOMy-m.y,(g=(x=Math.sqrt(y*y+_*_))-f.radius)<r&&(0==x?(y=1,_=0):(y*=o=1/x,_*=o),p.x=m.x+0*y,p.y=m.y+0*_,o=-f.radius,l.x=f.worldCOMx+y*o,l.y=f.worldCOMy+_*o,n.x=y,n.y=_)):(o=-f.radius,l.x=f.worldCOMx+v.gnormx*o,l.y=f.worldCOMy+v.gnormy*o,p.x=l.x+v.gnormx*(o=-g),p.y=l.y+v.gnormy*o,n.x=v.gnormx,n.y=v.gnormy)),u&&(n.x=-n.x,n.y=-n.y),c=g}else{for(var q=a.polygon,X=s.polygon,z=-1e100,Y=null,K=null,Z=0,J=q.edges.head;null!=J;){for(var Q=J.elt,b=1e100,$=X.gverts.next;null!=$;){var ee=$,ee=Q.gnormx*ee.x+Q.gnormy*ee.y;ee<b&&(b=ee),$=$.next}if(r<(b-=Q.gprojection)){z=b;break}0<b?z<b&&(z=b,Y=Q,Z=1):z<0&&z<b&&(z=b,Y=Q,Z=1),J=J.next}if(z<r){for(var te=X.edges.head;null!=te;){for(var ie=te.elt,w=1e100,ne=q.gverts.next;null!=ne;){var re=ne,re=ie.gnormx*re.x+ie.gnormy*re.y;re<w&&(w=re),ne=ne.next}if(r<(w-=ie.gprojection)){z=w;break}0<w?z<w&&(z=w,K=ie,Z=2):z<0&&z<w&&(z=w,K=ie,Z=2),te=te.next}if(z<r){1==Z?(oe=X,S=Y):(oe=q,S=K,o=p,p=l,l=o,u=!u);for(var oe,S,C,ae,se,pe,k,le,M,P,O,T,G,he,ue,de,ce,A,E,I,B,me,ye=null,_e=1e100,xe=oe.edges.head;null!=xe;){var fe=xe.elt,ge=S.gnormx*fe.gnormx+S.gnormy*fe.gnormy;ge<_e&&(_e=ge,ye=fe),xe=xe.next}u?(n.x=-S.gnormx,n.y=-S.gnormy):(n.x=S.gnormx,n.y=S.gnormy),c=0<=z?(a=S.gp0,s=S.gp1,o=ye.gp0,T=ye.gp1,G=C=E=A=0,B=1/((A=s.x-a.x)*A+(E=s.y-a.y)*E),k=1/((C=T.x-o.x)*C+(G=T.y-o.y)*G),(P=-(A*(a.x-o.x)+E*(a.y-o.y))*B)<0?P=0:1<P&&(P=1),(B=-(A*(a.x-T.x)+E*(a.y-T.y))*B)<0?B=0:1<B&&(B=1),(I=-(C*(o.x-a.x)+G*(o.y-a.y))*k)<0?I=0:1<I&&(I=1),(k=-(C*(o.x-s.x)+G*(o.y-s.y))*k)<0?k=0:1<k&&(k=1),ae=M=0,P=P,M=a.x+A*P,ae=a.y+E*P,O=P=0,B=B,P=a.x+A*B,O=a.y+E*B,E=A=0,B=I,A=o.x+C*B,E=o.y+G*B,B=I=0,k=k,I=o.x+C*k,B=o.y+G*k,se=me=ce=de=ue=he=le=k=G=C=0,pe=null,(C=(C=M-o.x)*C+(G=ae-o.y)*G)<(G=(k=P-T.x)*k+(le=O-T.y)*le)?(me=M,se=ae,pe=o):(me=P,se=O,pe=T,C=G),le=k=0,M=null,(ae=(he=A-a.x)*he+(ue=E-a.y)*ue)<(o=(de=I-s.x)*de+(ce=B-s.y)*ce)?(k=A,le=E,M=a):(k=I,le=B,M=s,ae=o),0!=(z=C<ae?(p.x=me,p.y=se,l.x=pe.x,l.y=pe.y,Math.sqrt(C)):(l.x=k,l.y=le,p.x=M.x,p.y=M.y,Math.sqrt(ae)))&&(n.x=l.x-p.x,n.y=l.y-p.y,n.x*=P=1/z,n.y*=P,u&&(n.x=-n.x,n.y=-n.y)),z):(T=O=0,O=ye.gp0.x,T=ye.gp0.y,de=ue=he=G=0,ue=(G=ye.gp1.x)-O,de=(he=ye.gp1.y)-T,ce=S.gnormy*O-S.gnormx*T,A=S.gnormy*G-S.gnormx*he,a=(-S.tp1-ce)*(E=1/(A-ce)),ur.epsilon<a&&(O+=ue*a,T+=de*a),(I=(-S.tp0-A)*E)<-ur.epsilon&&(G+=ue*I,he+=de*I),(B=O*S.gnormx+T*S.gnormy-S.gprojection)<(s=G*S.gnormx+he*S.gnormy-S.gprojection)?(l.x=O,l.y=T,p.x=l.x+S.gnormx*(o=-B),p.y=l.y+S.gnormy*o,B):(l.x=G,l.y=he,p.x=l.x+S.gnormx*(me=-s),p.y=l.y+S.gnormy*me,s))}else c=r}else c=r}}c<r&&(r=c,D.x=t.x,D.y=t.y,R.x=i.x,R.y=i.y),N=N.next}j=j.next}e=t,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,e=i,null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,e=n;return null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,r},Jt.distance=function(e,t,i,n,r,o){if(null==o&&(o=1e100),0==e.type&&0==t.type)return w=e.circle,A=s=0,s=(O=t.circle).worldCOMx-w.worldCOMx,A=O.worldCOMy-w.worldCOMy,(S=(a=Math.sqrt(s*s+A*A))-(w.radius+O.radius))<o&&(0==a?(s=1,A=0):(s*=a=1/a,A*=a),a=w.radius,i.x=w.worldCOMx+s*a,i.y=w.worldCOMy+A*a,w=-O.radius,n.x=O.worldCOMx+s*w,n.y=O.worldCOMy+A*w,r.x=s,r.y=A),S;var a=!1;if(0==e.type&&1==t.type&&(O=e,e=t,t=O,w=i,i=n,n=w,a=!0),1==e.type&&0==t.type){for(var s=e.polygon,p=t.circle,l=-1e100,h=null,L=s.edges.head;null!=L;){var u=L.elt,d=u.gnormx*p.worldCOMx+u.gnormy*p.worldCOMy-u.gprojection-p.radius;if(o<d){l=d;break}0<d?l<d&&(l=d,h=u):l<0&&l<d&&(l=d,h=u),L=L.next}return l<o&&(A=h.gp0,S=h.gp1,(O=p.worldCOMy*h.gnormx-p.worldCOMx*h.gnormy)<=A.y*h.gnormx-A.x*h.gnormy?(s=w=0,w=p.worldCOMx-A.x,s=p.worldCOMy-A.y,(l=(E=Math.sqrt(w*w+s*s))-p.radius)<o&&(0==E?(w=1,s=0):(w*=E=1/E,s*=E),i.x=A.x+0*w,i.y=A.y+0*s,E=-p.radius,n.x=p.worldCOMx+w*E,n.y=p.worldCOMy+s*E,r.x=w,r.y=s)):O>=S.y*h.gnormx-S.x*h.gnormy?(E=A=0,A=p.worldCOMx-S.x,E=p.worldCOMy-S.y,(l=(w=Math.sqrt(A*A+E*E))-p.radius)<o&&(0==w?(A=1,E=0):(A*=s=1/w,E*=s),i.x=S.x+0*A,i.y=S.y+0*E,O=-p.radius,n.x=p.worldCOMx+A*O,n.y=p.worldCOMy+E*O,r.x=A,r.y=E)):(w=-p.radius,n.x=p.worldCOMx+h.gnormx*w,n.y=p.worldCOMy+h.gnormy*w,i.x=n.x+h.gnormx*(s=-l),i.y=n.y+h.gnormy*s,r.x=h.gnormx,r.y=h.gnormy)),a&&(r.x=-r.x,r.y=-r.y),l}for(var D=e.polygon,R=t.polygon,c=-1e100,j=null,F=null,N=0,U=D.edges.head;null!=U;){for(var H=U.elt,m=1e100,V=R.gverts.next;null!=V;){var W=V,W=H.gnormx*W.x+H.gnormy*W.y;W<m&&(m=W),V=V.next}if(o<(m-=H.gprojection)){c=m;break}0<m?c<m&&(c=m,j=H,N=1):c<0&&c<m&&(c=m,j=H,N=1),U=U.next}if(c<o){for(var q=R.edges.head;null!=q;){for(var X=q.elt,y=1e100,Y=D.gverts.next;null!=Y;){var K=Y,K=X.gnormx*K.x+X.gnormy*K.y;K<y&&(y=K),Y=Y.next}if(o<(y-=X.gprojection)){c=y;break}0<y?c<y&&(c=y,F=X,N=2):c<0&&c<y&&(c=y,F=X,N=2),q=q.next}if(c<o){1==N?(G=R,_=j):(G=D,_=F,S=i,i=n,n=S,a=!a);for(var _,x,Z,J,f,g,v,z,b,w,S,C,k,M,P,O,T,G,A,E,I,B=null,Q=1e100,$=G.edges.head;null!=$;){var ee=$.elt,te=_.gnormx*ee.gnormx+_.gnormy*ee.gnormy;te<Q&&(Q=te,B=ee),$=$.next}return a?(r.x=-_.gnormx,r.y=-_.gnormy):(r.x=_.gnormx,r.y=_.gnormy),0<=c?(O=_.gp0,A=_.gp1,E=B.gp0,w=B.gp1,S=t=e=s=0,G=1/((s=A.x-O.x)*s+(e=A.y-O.y)*e),f=1/((t=w.x-E.x)*t+(S=w.y-E.y)*S),(z=-(s*(O.x-E.x)+e*(O.y-E.y))*G)<0?z=0:1<z&&(z=1),(G=-(s*(O.x-w.x)+e*(O.y-w.y))*G)<0?G=0:1<G&&(G=1),(T=-(t*(E.x-O.x)+S*(E.y-O.y))*f)<0?T=0:1<T&&(T=1),(f=-(t*(E.x-A.x)+S*(E.y-A.y))*f)<0?f=0:1<f&&(f=1),x=v=0,z=z,v=O.x+s*z,x=O.y+e*z,b=z=0,G=G,z=O.x+s*G,b=O.y+e*G,e=s=0,G=T,s=E.x+t*G,e=E.y+S*G,G=T=0,f=f,T=E.x+t*f,G=E.y+S*f,Z=I=P=M=k=C=g=f=S=t=0,J=null,(t=(t=v-E.x)*t+(S=x-E.y)*S)<(S=(f=z-w.x)*f+(g=b-w.y)*g)?(I=v,Z=x,J=E):(I=z,Z=b,J=w,t=S),g=f=0,v=null,(x=(C=s-O.x)*C+(k=e-O.y)*k)<(E=(M=T-A.x)*M+(P=G-A.y)*P)?(f=s,g=e,v=O):(f=T,g=G,v=A,x=E),0!=(c=t<x?(i.x=I,i.y=Z,n.x=J.x,n.y=J.y,Math.sqrt(t)):(n.x=f,n.y=g,i.x=v.x,i.y=v.y,Math.sqrt(x)))&&(r.x=n.x-i.x,r.y=n.y-i.y,r.x*=z=1/c,r.y*=z,a&&(r.x=-r.x,r.y=-r.y)),c):(w=b=0,b=B.gp0.x,w=B.gp0.y,M=k=C=S=0,k=(S=B.gp1.x)-b,M=(C=B.gp1.y)-w,P=_.gnormy*b-_.gnormx*w,s=_.gnormy*S-_.gnormx*C,O=(-_.tp1-P)*(e=1/(s-P)),ur.epsilon<O&&(b+=k*O,w+=M*O),(T=(-_.tp0-s)*e)<-ur.epsilon&&(S+=k*T,C+=M*T),(G=b*_.gnormx+w*_.gnormy-_.gprojection)<(A=S*_.gnormx+C*_.gnormy-_.gprojection)?(n.x=b,n.y=w,i.x=n.x+_.gnormx*(E=-G),i.y=n.y+_.gnormy*E,G):(n.x=S,n.y=C,i.x=n.x+_.gnormx*(I=-A),i.y=n.y+_.gnormy*I,A))}return o}return o},Jt.prototype.__class__=Jt,zpp_nape.geom.ZPP_PartitionPair=function(){this.node=null,this.di=0,this.id=0,this.b=null,this.a=null,this.length=0,this.pushmod=!1,this.modified=!1,this._inuse=!1,this.next=null}),$t=(Qt.__name__=["zpp_nape","geom","ZPP_PartitionPair"],Qt.get=function(e,t){var i;return null==Qt.zpp_pool?i=new Qt:(i=Qt.zpp_pool,Qt.zpp_pool=i.next,i.next=null),i.a=e,i.b=t,e.id<t.id?(i.id=e.id,i.di=t.id):(i.id=t.id,i.di=e.id),i},Qt.edge_swap=function(e,t){var i=e.node;e.node=t.node,t.node=i},Qt.edge_lt=function(e,t){return!(e.id>=t.id)||e.id==t.id&&e.di<t.di},Qt.prototype.next=null,Qt.prototype.elem=function(){return this},Qt.prototype.begin=function(){return this.next},Qt.prototype._inuse=null,Qt.prototype.modified=null,Qt.prototype.pushmod=null,Qt.prototype.length=null,Qt.prototype.setbegin=function(e){this.next=e,this.modified=!0,this.pushmod=!0},Qt.prototype.add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},Qt.prototype.inlined_add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},Qt.prototype.addAll=function(e){for(var t=e.next;null!=t;)this.add(t),t=t.next},Qt.prototype.insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Qt.prototype.inlined_insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Qt.prototype.pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},Qt.prototype.inlined_pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},Qt.prototype.pop_unsafe=function(){var e=this.next;return this.pop(),e},Qt.prototype.inlined_pop_unsafe=function(){var e=this.next;return this.pop(),e},Qt.prototype.remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},Qt.prototype.try_remove=function(e){for(var t=null,i=this.next,n=!1;null!=i;){if(i==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Qt.prototype.inlined_remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},Qt.prototype.inlined_try_remove=function(e){for(var t,i,n=null,r=this.next,o=!1;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,o=this.pushmod=!0;break}r=(n=r).next}return o},Qt.prototype.erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},Qt.prototype.inlined_erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},Qt.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Qt.prototype.clear=function(){},Qt.prototype.inlined_clear=function(){},Qt.prototype.reverse=function(){for(var e=this.next,t=null;null!=e;){var i=e.next;e.next=t,t=this.next=e,e=i}this.modified=!0,this.pushmod=!0},Qt.prototype.empty=function(){return null==this.next},Qt.prototype.size=function(){return this.length},Qt.prototype.has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},Qt.prototype.inlined_has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},Qt.prototype.front=function(){return this.next},Qt.prototype.back=function(){for(var e=this.next,t=e;null!=t;)t=(e=t).next;return e},Qt.prototype.iterator_at=function(e){for(var t=this.next;0<e--&&null!=t;)t=t.next;return t},Qt.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e:null},Qt.prototype.free=function(){this.a=this.b=null,this.node=null},Qt.prototype.alloc=function(){},Qt.prototype.a=null,Qt.prototype.b=null,Qt.prototype.id=null,Qt.prototype.di=null,Qt.prototype.node=null,Qt.prototype.__class__=Qt,zpp_nape.geom.ZPP_Triangular=function(){}),cr=($t.__name__=["zpp_nape","geom","ZPP_Triangular"],$t.lt=function(e,t){return e.y<t.y||e.y==t.y&&e.x<t.x},$t.right_turn=function(e,t,i){var n=i.x-t.x,i=i.y-t.y,r=t.x-e.x;return(t.y-e.y)*n-r*i},$t.delaunay=function(e,t,i,n){var r=0,o=0,a=0,r=i.x-t.x,o=i.y-t.y,a=t.x-e.x,s=0<=(t.y-e.y)*r-a*o||(r=n.x-i.x,o=n.y-i.y,a=i.x-t.x,0<=(i.y-t.y)*r-a*o),s=!!s||(r=e.x-n.x,o=e.y-n.y,a=n.x-i.x,0<=(n.y-i.y)*r-a*o),s=!!s||(r=t.x-e.x,o=t.y-e.y,a=e.x-n.x,0<=(e.y-n.y)*r-a*o);return!!s||0<t.x*(i.y*n.mag-i.mag*n.y)-i.x*(t.y*n.mag-t.mag*n.y)+n.x*(t.y*i.mag-t.mag*i.y)-(e.x*(i.y*n.mag-i.mag*n.y)-i.x*(e.y*n.mag-e.mag*n.y)+n.x*(e.y*i.mag-e.mag*i.y))+(e.x*(t.y*n.mag-t.mag*n.y)-t.x*(e.y*n.mag-e.mag*n.y)+n.x*(e.y*t.mag-e.mag*t.y))-(e.x*(t.y*i.mag-t.mag*i.y)-t.x*(e.y*i.mag-e.mag*i.y)+i.x*(e.y*t.mag-e.mag*t.y))},$t.optimise=function(e){var t,i=e.vertices,n=e.vertices;if(null!=i)for(var r=i;;){var o=r;if(o.sort(),o.mag=o.x*o.x+o.y*o.y,(r=r.next)==n)break}null==$t.edgeSet&&(null==Xe.zpp_pool?$t.edgeSet=new Xe:($t.edgeSet=Xe.zpp_pool,Xe.zpp_pool=$t.edgeSet.next,$t.edgeSet.next=null),$t.edgeSet.lt=Qt.edge_lt,$t.edgeSet.swapped=Qt.edge_swap),null==Qt.zpp_pool?t=new Qt:(t=Qt.zpp_pool,Qt.zpp_pool=t.next,t.next=null);var i=e.vertices,a=e.vertices;if(null!=i)for(var s=i;;){for(var p=s,l=p.next,h=(p.diagonals.reverse(),p.diagonals.head);null!=h;){var u,d,c=h.elt;c.id<p.id?(l=c,h=h.next):($t.delaunay(p,l,c,null==h.next?p.prev:h.next.elt)||(null==Qt.zpp_pool?u=new Qt:(u=Qt.zpp_pool,Qt.zpp_pool=u.next,u.next=null),u.a=p,u.b=c,p.id<c.id?(u.id=p.id,u.di=c.id):(u.id=c.id,u.di=p.id),d=u,t.add(d),d.node=$t.edgeSet.insert(d)),l=c,h=h.next)}if((s=s.next)==a)break}for(;null!=t.next;){for(var m=t.pop_unsafe(),y=m.a,_=m.b,x=y.next,f=null,g=y.diagonals.head;null!=g;){var v=g.elt;if(v==_){f=null==(g=g.next)?y.prev:g.elt;break}x=v,g=g.next}if(y.diagonals.remove(_),_.diagonals.remove(y),_==x.next)x.diagonals.add(f);else for(var z=x.diagonals.head;null!=z;){if(z.elt==_){x.diagonals.insert(z,f);break}z=z.next}if(y==f.next)f.diagonals.add(x);else for(var b=f.diagonals.head;null!=b;){if(b.elt==y){f.diagonals.insert(b,x);break}b=b.next}$t.edgeSet.remove_node(m.node),m.a=m.b=null,m.node=null,m.next=Qt.zpp_pool,Qt.zpp_pool=m}e=t;e.a=e.b=null,e.node=null,e.next=Qt.zpp_pool,Qt.zpp_pool=e},$t.triangulate=function(e){var t=e.vertices,i=e.vertices,n=e.vertices.next,r=e.vertices;if(null!=n)for(var o=n;;){var a=o;if((a.y<t.y||a.y==t.y&&a.x<t.x)&&(t=a),(i.y<a.y||i.y==a.y&&i.x<a.x)&&(i=a),(o=o.next)==r)break}null==$t.queue&&($t.queue=new Di);var s=i.prev,p=i.next;for($t.queue.add(i);s!=t||p!=t;)s==t||p!=t&&(s.y<p.y||s.y==p.y&&s.x<p.x)?($t.queue.add(p),p.rightchain=!1,p=p.next):($t.queue.add(s),s.rightchain=!0,s=s.prev);$t.queue.add(t),null==$t.stack&&($t.stack=new Di),$t.stack.add($t.queue.pop_unsafe());var l=$t.queue.pop_unsafe();for($t.stack.add(l);;){var h=$t.queue.pop_unsafe();if(null==$t.queue.head)break;if(h.rightchain!=$t.stack.head.elt.rightchain){for(;;){var u=$t.stack.pop_unsafe();if(null==$t.stack.head)break;e.add_diagonal(u,h)}$t.stack.add(l)}else{for(var d=$t.stack.pop_unsafe();null!=$t.stack.head;){var c=$t.stack.head.elt,m=h.x-d.x,y=h.y-d.y,_=d.x-c.x,m=(d.y-c.y)*m-_*y;if(h.rightchain&&0<=m||!h.rightchain&&m<=0)break;e.add_diagonal(c,h),d=c,$t.stack.pop()}$t.stack.add(d)}$t.stack.add(h),l=h}if(null!=$t.stack.head)for($t.stack.pop();null!=$t.stack.head;){var x=$t.stack.pop_unsafe();if(null==$t.stack.head)break;e.add_diagonal(i,x)}return e},$t.prototype.__class__=$t,zpp_nape.geom.ZPP_Vec2=function(){this.y=0,this.x=0,this.length=0,this.pushmod=!1,this.modified=!1,this._inuse=!1,this.next=null,this.weak=!1,this.outer=null,this._isimmutable=null,this._immutable=!1,this._validate=null,this._invalidate=null}),ei=(cr.__name__=["zpp_nape","geom","ZPP_Vec2"],cr.get=function(e,t,i){var n;return null==i&&(i=!1),null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=i,n.x=e,n.y=t,n},cr.prototype._invalidate=null,cr.prototype._validate=null,cr.prototype.validate=function(){null!=this._validate&&this._validate()},cr.prototype.invalidate=function(){null!=this._invalidate&&this._invalidate(this)},cr.prototype._immutable=null,cr.prototype._isimmutable=null,cr.prototype.immutable=function(){},cr.prototype.outer=null,cr.prototype.wrapper=function(){var e;return null==this.outer&&(this.outer=new xe,null!=(e=this.outer.zpp_inner).outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,this.outer.zpp_inner=this),this.outer},cr.prototype.weak=null,cr.prototype.free=function(){null!=this.outer&&(this.outer.zpp_inner=null,this.outer=null),this._isimmutable=null,this._validate=null,this._invalidate=null},cr.prototype.alloc=function(){this.weak=!1},cr.prototype.next=null,cr.prototype.elem=function(){return this},cr.prototype.begin=function(){return this.next},cr.prototype._inuse=null,cr.prototype.modified=null,cr.prototype.pushmod=null,cr.prototype.length=null,cr.prototype.setbegin=function(e){this.next=e,this.modified=!0,this.pushmod=!0},cr.prototype.add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},cr.prototype.inlined_add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},cr.prototype.addAll=function(e){for(var t=e.next;null!=t;)this.add(t),t=t.next},cr.prototype.insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},cr.prototype.inlined_insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},cr.prototype.pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},cr.prototype.inlined_pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},cr.prototype.pop_unsafe=function(){var e=this.next;return this.pop(),e},cr.prototype.inlined_pop_unsafe=function(){var e=this.next;return this.pop(),e},cr.prototype.remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},cr.prototype.try_remove=function(e){for(var t=null,i=this.next,n=!1;null!=i;){if(i==e){this.erase(t),n=!0;break}i=(t=i).next}return n},cr.prototype.inlined_remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},cr.prototype.inlined_try_remove=function(e){for(var t,i,n=null,r=this.next,o=!1;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,o=this.pushmod=!0;break}r=(n=r).next}return o},cr.prototype.erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},cr.prototype.inlined_erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},cr.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},cr.prototype.clear=function(){},cr.prototype.inlined_clear=function(){},cr.prototype.reverse=function(){for(var e=this.next,t=null;null!=e;){var i=e.next;e.next=t,t=this.next=e,e=i}this.modified=!0,this.pushmod=!0},cr.prototype.empty=function(){return null==this.next},cr.prototype.size=function(){return this.length},cr.prototype.has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},cr.prototype.inlined_has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},cr.prototype.front=function(){return this.next},cr.prototype.back=function(){for(var e=this.next,t=e;null!=t;)t=(e=t).next;return e},cr.prototype.iterator_at=function(e){for(var t=this.next;0<e--&&null!=t;)t=t.next;return t},cr.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e:null},cr.prototype.x=null,cr.prototype.y=null,cr.prototype.copy=function(){var e,t=this.x,i=this.y;return null==cr.zpp_pool?e=new cr:(e=cr.zpp_pool,cr.zpp_pool=e.next,e.next=null),e.weak=!1,e._immutable=!1,e.x=t,e.y=i,e},cr.prototype.toString=function(){return"{ x: "+this.x+" y: "+this.y+" }"},cr.prototype.__class__=cr,zpp_nape.geom.ZPP_Vec3=function(){this._validate=null,this.immutable=!1,this.z=0,this.y=0,this.x=0,this.outer=null,this.immutable=!1,this._validate=null}),ti=(ei.__name__=["zpp_nape","geom","ZPP_Vec3"],ei.prototype.outer=null,ei.prototype.x=null,ei.prototype.y=null,ei.prototype.z=null,ei.prototype.immutable=null,ei.prototype._validate=null,ei.prototype.validate=function(){null!=this._validate&&this._validate()},ei.prototype.__class__=ei,zpp_nape.geom.ZPP_VecMath=function(){}),jn=(ti.__name__=["zpp_nape","geom","ZPP_VecMath"],ti.vec_dsq=function(e,t,i,n){return(e=e-i)*e+(i=t-n)*i},ti.vec_distance=function(e,t,i,n){e-=i,i=t-n;return Math.sqrt(e*e+i*i)},ti.prototype.__class__=ti,zpp_nape.phys.ZPP_Interactor=function(){this.wrap_cbTypes=null,this.cbSet=null,this.cbTypes=null,this.group=null,this.cbsets=null,this.icompound=null,this.ibody=null,this.ishape=null,this.userData=null,this.id=0,this.outer_i=null,this.id=Me.Interactor(),this.cbsets=new Oi,this.cbTypes=new Re}),h=(jn.__name__=["zpp_nape","phys","ZPP_Interactor"],jn.get=function(e,t){for(var i=(e.id<t.id?e:t).id,n=(e.id<t.id?t:e).id,r=null,o=(e.cbsets.length<t.cbsets.length?e:t).cbsets.head;null!=o;){var a=o.elt;if(a.id==i&&a.di==n){r=a;break}o=o.next}return r},jn.int_callback=function(e,t,i){var n=e.int1,e=e.int2,r=t.options1,o=n.cbTypes;!(!r.nonemptyintersection(o,r.includes)||r.nonemptyintersection(o,r.excludes))&&(o=t.options2,r=e.cbTypes,!!o.nonemptyintersection(r,o.includes)&&!o.nonemptyintersection(r,o.excludes))?(i.int1=n,i.int2=e):(i.int1=e,i.int2=n)},jn.prototype.outer_i=null,jn.prototype.id=null,jn.prototype.userData=null,jn.prototype.ishape=null,jn.prototype.ibody=null,jn.prototype.icompound=null,jn.prototype.isShape=function(){return null!=this.ishape},jn.prototype.isBody=function(){return null!=this.ibody},jn.prototype.isCompound=function(){return null!=this.icompound},jn.prototype.__iaddedToSpace=function(){null!=this.group&&this.group.interactors.add(this);for(var e=this.cbTypes.head;null!=e;)e.elt.interactors.add(this),e=e.next;this.alloc_cbSet()},jn.prototype.__iremovedFromSpace=function(){null!=this.group&&this.group.interactors.remove(this);for(var e=this.cbTypes.head;null!=e;)e.elt.interactors.remove(this),e=e.next;this.dealloc_cbSet()},jn.prototype.wake=function(){var e;null!=this.ishape?null!=(e=this.ishape.body)&&null!=e.space&&e.space.non_inlined_wake(e):null!=this.ibody?null!=this.ibody.space&&this.ibody.space.non_inlined_wake(this.ibody):null!=this.icompound.space&&this.icompound.space.wakeCompound(this.icompound)},jn.prototype.cbsets=null,jn.prototype.getSpace=function(){return null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:(null!=this.ibody?this.ibody:this.icompound).space},jn.prototype.group=null,jn.prototype.cbTypes=null,jn.prototype.cbSet=null,jn.prototype.wrap_cbTypes=null,jn.prototype.setupcbTypes=function(){this.wrap_cbTypes=er.get(this.cbTypes),this.wrap_cbTypes.zpp_inner.adder=Z(this,this.wrap_cbTypes_adder),this.wrap_cbTypes.zpp_inner.subber=Z(this,this.wrap_cbTypes_subber),this.wrap_cbTypes.zpp_inner.dontremove=!0},jn.prototype.wrap_cbTypes_subber=function(e){var t,e=e.zpp_inner;this.cbTypes.has(e)&&(null!=(t=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:(null!=this.ibody?this.ibody:this.icompound).space)&&(this.dealloc_cbSet(),e.interactors.remove(this)),this.cbTypes.remove(e),null!=t&&(this.alloc_cbSet(),this.wake()))},jn.prototype.wrap_cbTypes_adder=function(e){return this.insert_cbtype(e.zpp_inner),!1},jn.prototype.insert_cbtype=function(e){if(!this.cbTypes.has(e)){for(var t=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:(null!=this.ibody?this.ibody:this.icompound).space,i=(null!=t&&(this.dealloc_cbSet(),e.interactors.add(this)),null),n=this.cbTypes.head;null!=n&&!(e.id<n.elt.id);)n=(i=n).next;var r,o=this.cbTypes;null==Dt.zpp_pool?r=new Dt:(r=Dt.zpp_pool,Dt.zpp_pool=r.next,r.next=null),r.elt=e;null==i?(r.next=o.head,o.head=r):(r.next=i.next,i.next=r),o.pushmod=o.modified=!0,o.length++,null!=t&&(this.alloc_cbSet(),this.wake())}},jn.prototype.alloc_cbSet=function(){var e=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:(null!=this.ibody?this.ibody:this.icompound).space;null!=(this.cbSet=e.cbsets.get(this.cbTypes))&&(this.cbSet.count++,this.cbSet.interactors.add(this),this.cbSet.validate(),e.freshInteractorType(this))},jn.prototype.dealloc_cbSet=function(){var e=null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:(null!=this.ibody?this.ibody:this.icompound).space;if(null!=this.cbSet){if(this.cbSet.interactors.remove(this),e.nullInteractorType(this),0==--this.cbSet.count){e.cbsets.remove(this.cbSet);var t=this.cbSet;for(t.listeners.clear(),t.zip_listeners=!0,t.bodylisteners.clear(),t.zip_bodylisteners=!0,t.conlisteners.clear(),t.zip_conlisteners=!0;null!=t.cbTypes.head;)t.cbTypes.pop_unsafe().cbsets.remove(t);t.next=Pn.zpp_pool,Pn.zpp_pool=t}this.cbSet=null}},jn.prototype.setGroup=function(e){var t;this.group!=e&&((t=null!=(null!=this.ishape?null==this.ishape.body?null:this.ishape.body.space:(null!=this.ibody?this.ibody:this.icompound).space))&&null!=this.group&&this.group.interactors.remove(this),this.group=e,t&&null!=e&&e.interactors.add(this),t&&(null!=this.ishape?this.ishape.body:null!=this.ibody?this.ibody:this.icompound).wake())},jn.prototype.immutable_midstep=function(e){null==this.ibody&&(null!=this.ishape?this.ishape.__immutable_midstep(e):this.icompound.__imutable_midstep(e))},jn.prototype.lookup_group=function(){for(var e=this;null!=e&&null==e.group;)e=null!=e.ishape?e.ishape.body:(null!=e.icompound?e.icompound:e.ibody).compound;return null==e?null:e.group},jn.prototype.copyto=function(e){e.zpp_inner_i.group=this.group;for(var t=this.outer_i,t=(null==t.zpp_inner_i.wrap_cbTypes&&t.zpp_inner_i.setupcbTypes(),t.zpp_inner_i.wrap_cbTypes),i=(t.zpp_inner.valmod(),Ze.get(t));;){i.zpp_inner.zpp_inner.valmod();var n=i.zpp_inner,n=(n.zpp_inner.valmod(),n.zpp_inner.zip_length&&(n.zpp_inner.zip_length=!1,n.zpp_inner.user_length=n.zpp_inner.inner.length),n.zpp_inner.user_length);if(i.zpp_critical=!0,!(i.zpp_i<n||(i.zpp_next=Ze.zpp_pool,(Ze.zpp_pool=i).zpp_inner=null,!1)))break;i.zpp_critical=!1;var n=i.zpp_inner.at(i.zpp_i++),r=(null==e.zpp_inner_i.wrap_cbTypes&&e.zpp_inner_i.setupcbTypes(),e.zpp_inner_i.wrap_cbTypes);r.zpp_inner.reverse_flag?r.push(n):r.unshift(n)}null!=this.userData&&(e.zpp_inner_i.userData=a.copy(this.userData))},jn.prototype.__class__=jn,zpp_nape.phys.ZPP_Body=function(){var e;this.wrap_worldCOM=null,this.wrap_localCOM=null,this.zip_worldCOM=!1,this.worldCOMy=0,this.worldCOMx=0,this.zip_localCOM=!1,this.localCOMy=0,this.localCOMx=0,this.zip_aabb=!1,this.aabb=null,this.norotate=!1,this.sinertia=0,this.iinertia=0,this.cinertia=0,this.zip_inertia=!1,this.inertia=0,this.inertiaMode=0,this.zip_gravMassScale=!1,this.gravMassScale=0,this.gravMassMode=0,this.zip_gravMass=!1,this.gravMass=0,this.nomove=!1,this.cmass=0,this.smass=0,this.imass=0,this.massMode=0,this.zip_mass=!1,this.mass=0,this.zip_axis=!1,this.axisy=0,this.axisx=0,this.rot=0,this.pre_rot=0,this.kinangvel=0,this.torque=0,this.angvel=0,this.wrapcvel=null,this.wrap_svel=null,this.svely=0,this.svelx=0,this.wrap_kinvel=null,this.kinvely=0,this.kinvelx=0,this.wrap_force=null,this.forcey=0,this.forcex=0,this.wrap_vel=null,this.vely=0,this.velx=0,this.wrap_pos=null,this.posy=0,this.posx=0,this.pre_posy=0,this.pre_posx=0,this.disableCCD=!1,this.bulletEnabled=!1,this.bullet=!1,this.sweepRadius=0,this.sweepFrozen=!1,this.sweep_angvel=0,this.sweepTime=0,this.graph_depth=0,this.component=null,this.wrap_constraints=null,this.constraints=null,this.wrap_arbiters=null,this.arbiters=null,this.space=null,this.wrap_shapes=null,this.shapes=null,this.compound=null,this.type=0,this.world=!1,this.outer=null,jn.call(this),(this.ibody=this).world=!1,this.bulletEnabled=!1,this.sweepTime=0,this.sweep_angvel=0,this.norotate=this.nomove=!1,this.disableCCD=!1,this.posx=0,this.posy=0,this.rot=0,this.axisx=0,this.axisy=1,this.svelx=0,this.svely=0,this.velx=0,this.vely=0,this.kinvelx=0,this.kinvely=0,this.forcex=0,this.forcey=0,this.torque=this.angvel=this.kinangvel=0,this.pre_posx=1/0,this.pre_posy=1/0,this.pre_rot=1/0,this.localCOMx=0,this.localCOMy=0,this.worldCOMx=0,this.worldCOMy=0,this.zip_aabb=!0,null==Nt.zpp_pool?e=new Nt:(e=Nt.zpp_pool,Nt.zpp_pool=e.next,e.next=null),e.minx=0,e.miny=0,e.maxx=0,e.maxy=0,this.aabb=e,this.aabb._immutable=!0,this.aabb._validate=Z(this,this.aabb_validate),this.massMode=0,this.gravMassMode=0,this.gravMassScale=1,this.inertiaMode=0,this.arbiters=new Ei,this.constraints=new Ge,this.shapes=new Ti,this.wrap_shapes=ar.get(this.shapes),this.wrap_shapes.zpp_inner.adder=Z(this,this.shapes_adder),this.wrap_shapes.zpp_inner.subber=Z(this,this.shapes_subber),this.wrap_shapes.zpp_inner._invalidate=Z(this,this.shapes_invalidate),this.kinematicDelaySleep=!1}),ii=(h.__name__=["zpp_nape","phys","ZPP_Body"],h.__super__=jn,h.prototype=Object.create(jn.prototype),h.bodysetlt=function(e,t){return e.id<t.id},h.__static=function(){null==Tn.BodyType_STATIC&&(Tn.internal=!0,Tn.BodyType_STATIC=new oe,Tn.internal=!1);var e=new G(Tn.BodyType_STATIC),t=e.zpp_inner;return t.world=!0,t.wrap_shapes.zpp_inner.immutable=!0,t.smass=t.imass=t.cmass=t.mass=t.gravMass=0,t.sinertia=t.iinertia=t.cinertia=t.inertia=0,t.cbTypes.clear(),e},h.prototype.outer=null,h.prototype.world=null,h.prototype.type=null,h.prototype.isStatic=function(){return 1==this.type},h.prototype.isDynamic=function(){return 2==this.type},h.prototype.isKinematic=function(){return 3==this.type},h.prototype.invalidate_type=function(){this.invalidate_mass(),this.invalidate_inertia()},h.prototype.compound=null,h.prototype.shapes=null,h.prototype.wrap_shapes=null,h.prototype.invalidate_shapes=function(){this.zip_aabb=!0,this.zip_localCOM=!0,this.zip_worldCOM=!0,this.invalidate_mass(),this.invalidate_inertia()},h.prototype.space=null,h.prototype.arbiters=null,h.prototype.wrap_arbiters=null,h.prototype.constraints=null,h.prototype.wrap_constraints=null,h.prototype.component=null,h.prototype.graph_depth=null,h.prototype.init_bodysetlist=function(){null==h.bodyset&&(h.bodyset=new We,h.bodyset.lt=h.bodysetlt,h.bodystack=new Gi)},h.prototype.connectedBodies_cont=function(e){h.bodyset.try_insert_bool(e.zpp_inner)&&(h.bodystack.add(e.zpp_inner),e.zpp_inner.graph_depth=h.cur_graph_depth+1)},h.prototype.connectedBodies=function(e,t){null==h.bodyset&&(h.bodyset=new We,h.bodyset.lt=h.bodysetlt,h.bodystack=new Gi);var i=null==t?new re:t;for(h.bodystack.add(this),h.bodyset.insert(this),this.graph_depth=0;null!=h.bodystack.head;){var n=h.bodystack.pop_unsafe();if(n.graph_depth!=e){h.cur_graph_depth=n.graph_depth;for(var r=n.constraints.head;null!=r;)r.elt.outer.visitBodies(Z(this,this.connectedBodies_cont)),r=r.next}}t=h.bodyset;if(null!=t.parent){for(var o,a,s=t.parent;null!=s;)s=null!=s.prev?s.prev:null!=s.next?s.next:((o=s.data)!=this&&(o=o.outer,i.zpp_inner.reverse_flag?i.push(o):i.unshift(o)),null!=(o=s.parent)&&(s==o.prev?o.prev=null:o.next=null,s.parent=null),(a=s).data=null,a.lt=null,a.swapped=null,a.next=We.zpp_pool,We.zpp_pool=a,o);t.parent=null}return i},h.prototype.interactingBodies=function(e,t,i){null==h.bodyset&&(h.bodyset=new We,h.bodyset.lt=h.bodysetlt,h.bodystack=new Gi);var n=null==i?new re:i;for(h.bodyset.insert(this),h.bodystack.add(this),this.graph_depth=0;null!=h.bodystack.head;){var r=h.bodystack.pop_unsafe();if(r.graph_depth!=t)for(var o=r.arbiters.head;null!=o;){var a=o.elt;0!=(a.type&e)&&(a=a.b1==r?a.b2:a.b1,h.bodyset.try_insert_bool(a)&&(h.bodystack.add(a),a.graph_depth=r.graph_depth+1)),o=o.next}}i=h.bodyset;if(null!=i.parent){for(var s,p,l=i.parent;null!=l;)l=null!=l.prev?l.prev:null!=l.next?l.next:((s=l.data)!=this&&(s=s.outer,n.zpp_inner.reverse_flag?n.push(s):n.unshift(s)),null!=(s=l.parent)&&(l==s.prev?s.prev=null:s.next=null,l.parent=null),(p=l).data=null,p.lt=null,p.swapped=null,p.next=We.zpp_pool,We.zpp_pool=p,s);i.parent=null}return n},h.prototype.atRest=function(e){var t,i,n,r,o;return 2!=this.type?this.component.sleeping:(t=ur.linearSleepThreshold,!(this.velx*this.velx+this.vely*this.vely>(t*=t))&&(i=this.posx,n=this.posy,o=r=0,!(.25*t*e*e<(r=i-this.pre_posx)*r+(o=n-this.pre_posy)*o)&&(i=t=0,r=(t=this.aabb.maxx-this.aabb.minx)*t+(i=this.aabb.maxy-this.aabb.miny)*i,n=ur.angularSleepThreshold,!(4*this.angvel*this.angvel*r>(n*=n))&&!(n*e*e<(o=this.rot-this.pre_rot)*o*r)))||(this.component.waket=this.space.stamp),this.component.waket+ur.sleepDelay<this.space.stamp)},h.prototype.refreshArbiters=function(){for(var e=this.arbiters.head;null!=e;)e.elt.invalidated=!0,e=e.next},h.prototype.sweepTime=null,h.prototype.sweep_angvel=null,h.prototype.sweepFrozen=null,h.prototype.sweepRadius=null,h.prototype.bullet=null,h.prototype.bulletEnabled=null,h.prototype.disableCCD=null,h.prototype.sweepIntegrate=function(e){var t,i,n=e-this.sweepTime;0!=n&&(this.sweepTime=e,this.posx+=this.velx*n,this.posy+=this.vely*n,0!=this.angvel&&(e=this.sweep_angvel*n,this.rot+=e,1e-4<e*e?(this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot)):(i=((t=1-.5*(n=e*e))*this.axisx+e*this.axisy)*(n=1-n*n/8),this.axisy=(t*this.axisy-e*this.axisx)*n,this.axisx=i)))},h.prototype.sweepValidate=function(e){if(0==e.type)e.worldCOMx=this.posx+(this.axisy*e.localCOMx-this.axisx*e.localCOMy),e.worldCOMy=this.posy+(e.localCOMx*this.axisx+e.localCOMy*this.axisy);else{for(var e=e.polygon,t=e.lverts.next,i=e.gverts.next;null!=i;){var n=i,r=t,t=t.next;n.x=this.posx+(this.axisy*r.x-this.axisx*r.y),n.y=this.posy+(r.x*this.axisx+r.y*this.axisy),i=i.next}for(var o=e.edges.head,a=s=e.gverts.next,s=s.next;null!=s;){var p=s,l=o.elt,o=o.next;l.gnormx=this.axisy*l.lnormx-this.axisx*l.lnormy,l.gnormy=l.lnormx*this.axisx+l.lnormy*this.axisy,l.gprojection=this.posx*l.gnormx+this.posy*l.gnormy+l.lprojection,l.tp0=a.y*l.gnormx-a.x*l.gnormy,l.tp1=p.y*l.gnormx-p.x*l.gnormy,a=p,s=s.next}var e=e.gverts.next,h=o.elt;h.gnormx=this.axisy*h.lnormx-this.axisx*h.lnormy,h.gnormy=h.lnormx*this.axisx+h.lnormy*this.axisy,h.gprojection=this.posx*h.gnormx+this.posy*h.gnormy+h.lprojection,h.tp0=a.y*h.gnormx-a.x*h.gnormy,h.tp1=e.y*h.gnormx-e.x*h.gnormy}},h.prototype.pre_posx=null,h.prototype.pre_posy=null,h.prototype.posx=null,h.prototype.posy=null,h.prototype.wrap_pos=null,h.prototype.velx=null,h.prototype.vely=null,h.prototype.wrap_vel=null,h.prototype.forcex=null,h.prototype.forcey=null,h.prototype.wrap_force=null,h.prototype.kinvelx=null,h.prototype.kinvely=null,h.prototype.wrap_kinvel=null,h.prototype.svelx=null,h.prototype.svely=null,h.prototype.wrap_svel=null,h.prototype.invalidate_pos=function(){for(var e=this.shapes.head;null!=e;){var t=e.elt;1==t.type&&(t.polygon.invalidate_gverts(),t.polygon.invalidate_gaxi()),t.invalidate_worldCOM(),e=e.next}this.zip_worldCOM=!0},h.prototype.pos_invalidate=function(e){if(this.immutable_midstep("Body::position"),this.posx!=e.x||this.posy!=e.y){this.posx=e.x,this.posy=e.y;for(var t=this.shapes.head;null!=t;){var i=t.elt;1==i.type&&(i.polygon.invalidate_gverts(),i.polygon.invalidate_gaxi()),i.invalidate_worldCOM(),t=t.next}this.zip_worldCOM=!0,this.wake()}},h.prototype.pos_validate=function(){this.wrap_pos.zpp_inner.x=this.posx,this.wrap_pos.zpp_inner.y=this.posy},h.prototype.vel_invalidate=function(e){this.velx=e.x,this.vely=e.y,this.wake()},h.prototype.vel_validate=function(){this.wrap_vel.zpp_inner.x=this.velx,this.wrap_vel.zpp_inner.y=this.vely},h.prototype.kinvel_invalidate=function(e){this.kinvelx=e.x,this.kinvely=e.y,this.wake()},h.prototype.kinvel_validate=function(){this.wrap_kinvel.zpp_inner.x=this.kinvelx,this.wrap_kinvel.zpp_inner.y=this.kinvely},h.prototype.svel_invalidate=function(e){this.svelx=e.x,this.svely=e.y,this.wake()},h.prototype.svel_validate=function(){this.wrap_svel.zpp_inner.x=this.svelx,this.wrap_svel.zpp_inner.y=this.svely},h.prototype.force_invalidate=function(e){this.forcex=e.x,this.forcey=e.y,this.wake()},h.prototype.force_validate=function(){this.wrap_force.zpp_inner.x=this.forcex,this.wrap_force.zpp_inner.y=this.forcey},h.prototype.setupPosition=function(){var e,t,i=this.posx,n=this.posy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_pos=e,this.wrap_pos.zpp_inner._inuse=!0,this.world?this.wrap_pos.zpp_inner._immutable=!0:(this.wrap_pos.zpp_inner._invalidate=Z(this,this.pos_invalidate),this.wrap_pos.zpp_inner._validate=Z(this,this.pos_validate))},h.prototype.setupVelocity=function(){var e,t,i=this.velx,n=this.vely;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_vel=e,this.wrap_vel.zpp_inner._inuse=!0,this.world?this.wrap_vel.zpp_inner._immutable=!0:(this.wrap_vel.zpp_inner._invalidate=Z(this,this.vel_invalidate),this.wrap_vel.zpp_inner._validate=Z(this,this.vel_validate))},h.prototype.setupkinvel=function(){var e,t,i=this.kinvelx,n=this.kinvely;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_kinvel=e,this.wrap_kinvel.zpp_inner._inuse=!0,this.world?this.wrap_kinvel.zpp_inner._immutable=!0:(this.wrap_kinvel.zpp_inner._invalidate=Z(this,this.kinvel_invalidate),this.wrap_kinvel.zpp_inner._validate=Z(this,this.kinvel_validate))},h.prototype.setupsvel=function(){var e,t,i=this.svelx,n=this.svely;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_svel=e,this.wrap_svel.zpp_inner._inuse=!0,this.world?this.wrap_svel.zpp_inner._immutable=!0:(this.wrap_svel.zpp_inner._invalidate=Z(this,this.svel_invalidate),this.wrap_svel.zpp_inner._validate=Z(this,this.svel_validate))},h.prototype.setupForce=function(){var e,t,i=this.forcex,n=this.forcey;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_force=e,this.wrap_force.zpp_inner._inuse=!0,this.world?this.wrap_force.zpp_inner._immutable=!0:(this.wrap_force.zpp_inner._invalidate=Z(this,this.force_invalidate),this.wrap_force.zpp_inner._validate=Z(this,this.force_validate))},h.prototype.cvel_validate=function(){this.wrapcvel.zpp_inner.x=this.velx+this.kinvelx,this.wrapcvel.zpp_inner.y=this.vely+this.kinvely,this.wrapcvel.zpp_inner.z=this.angvel+this.kinangvel},h.prototype.wrapcvel=null,h.prototype.setup_cvel=function(){this.wrapcvel=d.get(),this.wrapcvel.zpp_inner.immutable=!0,this.wrapcvel.zpp_inner._validate=Z(this,this.cvel_validate)},h.prototype.angvel=null,h.prototype.torque=null,h.prototype.kinangvel=null,h.prototype.pre_rot=null,h.prototype.rot=null,h.prototype.invalidate_rot=function(){this.zip_axis=!0;for(var e=this.shapes.head;null!=e;){var t=e.elt;1==t.type&&(t.polygon.invalidate_gverts(),t.polygon.invalidate_gaxi()),t.invalidate_worldCOM(),e=e.next}this.zip_worldCOM=!0},h.prototype.axisx=null,h.prototype.axisy=null,h.prototype.zip_axis=null,h.prototype.validate_axis=function(){this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot))},h.prototype.quick_validate_axis=function(){this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot)},h.prototype.delta_rot=function(e){var t,i,n;this.rot+=e,1e-4<e*e?(this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot)):(n=((t=1-.5*(i=e*e))*this.axisx+e*this.axisy)*(i=1-i*i/8),this.axisy=(t*this.axisy-e*this.axisx)*i,this.axisx=n)},h.prototype.kinematicDelaySleep=null,h.prototype.mass=null,h.prototype.zip_mass=null,h.prototype.massMode=null,h.prototype.imass=null,h.prototype.smass=null,h.prototype.cmass=null,h.prototype.nomove=null,h.prototype.invalidate_mass=function(){this.zip_mass=!0,this.invalidate_gravMass()},h.prototype.validate_mass=function(){if(this.zip_mass||(this.massMode,0)){if(this.zip_mass=!1,0==this.massMode){this.cmass=0;for(var e=this.shapes.head;null!=e;){var t=e.elt;t.refmaterial.density=t.material.density,t.validate_area_inertia(),this.cmass+=t.area*t.material.density,e=e.next}}2!=this.type||this.nomove?(this.mass=1/0,this.imass=this.smass=0):(this.mass=this.cmass,this.imass=this.smass=1/this.mass)}},h.prototype.gravMass=null,h.prototype.zip_gravMass=null,h.prototype.gravMassMode=null,h.prototype.gravMassScale=null,h.prototype.zip_gravMassScale=null,h.prototype.invalidate_gravMass=function(){1!=this.gravMassMode&&(this.zip_gravMass=!0),2!=this.gravMassMode&&(this.zip_gravMassScale=!0),this.wake()},h.prototype.validate_gravMass=function(){this.zip_gravMass&&(this.zip_gravMass=!1,this.validate_mass(),0==this.gravMassMode?(this.validate_mass(),this.gravMass=this.cmass):2==this.gravMassMode&&(this.validate_mass(),this.gravMass=this.cmass*this.gravMassScale))},h.prototype.invalidate_gravMassScale=function(){2!=this.gravMassMode?this.zip_gravMassScale=!0:this.invalidate_gravMass()},h.prototype.validate_gravMassScale=function(){this.zip_gravMassScale&&(this.zip_gravMassScale=!1,0==this.gravMassMode?this.gravMassScale=1:1==this.gravMassMode&&(this.validate_mass(),this.gravMassScale=this.gravMass/this.cmass))},h.prototype.inertiaMode=null,h.prototype.inertia=null,h.prototype.zip_inertia=null,h.prototype.cinertia=null,h.prototype.iinertia=null,h.prototype.sinertia=null,h.prototype.norotate=null,h.prototype.invalidate_inertia=function(){this.zip_inertia=!0,this.wake()},h.prototype.validate_inertia=function(){if(this.zip_inertia||(this.inertiaMode,0)){if(this.zip_inertia=!1,0==this.inertiaMode){this.cinertia=0;for(var e=this.shapes.head;null!=e;){var t=e.elt;t.refmaterial.density=t.material.density,t.validate_area_inertia(),this.cinertia+=t.inertia*t.area*t.material.density,e=e.next}}2!=this.type||this.norotate?(this.inertia=1/0,this.sinertia=this.iinertia=0):(this.inertia=this.cinertia,this.sinertia=this.iinertia=1/this.inertia)}},h.prototype.invalidate_wake=function(){this.wake()},h.prototype.aabb=null,h.prototype.zip_aabb=null,h.prototype.validate_aabb=function(){if(this.zip_aabb){this.zip_aabb=!1,this.aabb.minx=1/0,this.aabb.miny=1/0,this.aabb.maxx=-1/0,this.aabb.maxy=-1/0;for(var e=this.shapes.head;null!=e;){var t=e.elt;if(t.zip_aabb&&null!=t.body)if(t.zip_aabb=!1,0==t.type){var i=t.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var n=i.polygon;if(null==n.lverts.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y;else if(null==n.lverts.next.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y,n.localCOMx+=n.lverts.next.next.x,n.localCOMy+=n.lverts.next.next.y,n.localCOMx*=.5,n.localCOMy*=.5;else{n.localCOMx=0;var r=n.localCOMy=0,o=n.lverts.next,a=o,s=o=o.next;for(o=o.next;null!=o;){var p=o,l=(r+=s.x*(p.y-a.y),p.y*s.x-p.x*s.y);n.localCOMx+=(s.x+p.x)*l,n.localCOMy+=(s.y+p.y)*l,a=s,s=p,o=o.next}var h=o=n.lverts.next,u=(r+=s.x*(h.y-a.y),h.y*s.x-h.x*s.y),u=(n.localCOMx+=(s.x+h.x)*u,n.localCOMy+=(s.y+h.y)*u,a=s,o=o.next),d=(r+=h.x*(u.y-a.y),u.y*h.x-u.x*h.y),h=(n.localCOMx+=(h.x+u.x)*d,n.localCOMy+=(h.y+u.y)*d,r=1/(3*r));n.localCOMx*=h,n.localCOMy*=h}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}u=i.body;u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}d=i.radius,h=i.radius;i.aabb.minx=i.worldCOMx-d,i.aabb.miny=i.worldCOMy-h,i.aabb.maxx=i.worldCOMx+d,i.aabb.maxy=i.worldCOMy+h}else{var c=t.polygon;if(c.zip_gverts&&null!=c.body){c.zip_gverts=!1,c.validate_lverts();for(var i=c.body,m=(i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),c.lverts.next),y=c.gverts.next;null!=y;){var _=y,x=m,m=m.next;_.x=c.body.posx+(c.body.axisy*x.x-c.body.axisx*x.y),_.y=c.body.posy+(x.x*c.body.axisx+x.y*c.body.axisy),y=y.next}}for(var f=c.gverts.next,g=(c.aabb.minx=f.x,c.aabb.miny=f.y,c.aabb.maxx=f.x,c.aabb.maxy=f.y,c.gverts.next.next);null!=g;){var v=g;v.x<c.aabb.minx&&(c.aabb.minx=v.x),v.x>c.aabb.maxx&&(c.aabb.maxx=v.x),v.y<c.aabb.miny&&(c.aabb.miny=v.y),v.y>c.aabb.maxy&&(c.aabb.maxy=v.y),g=g.next}}f=this.aabb,t=t.aabb;t.minx<f.minx&&(f.minx=t.minx),t.maxx>f.maxx&&(f.maxx=t.maxx),t.miny<f.miny&&(f.miny=t.miny),t.maxy>f.maxy&&(f.maxy=t.maxy),e=e.next}}},h.prototype.invalidate_aabb=function(){this.zip_aabb=!0},h.prototype.localCOMx=null,h.prototype.localCOMy=null,h.prototype.zip_localCOM=null,h.prototype.worldCOMx=null,h.prototype.worldCOMy=null,h.prototype.zip_worldCOM=null,h.prototype.wrap_localCOM=null,h.prototype.wrap_worldCOM=null,h.prototype.invalidate_localCOM=function(){this.zip_localCOM=!0,this.zip_worldCOM=!0},h.prototype.invalidate_worldCOM=function(){this.zip_worldCOM=!0},h.prototype.validate_localCOM=function(){if(this.zip_localCOM){this.zip_localCOM=!1;for(var e,t=0,i=0,n=0,r=this.shapes.head;null!=r;){var o=r.elt;if(o.zip_localCOM){if(o.zip_localCOM=!1,1==o.type){var a=o.polygon;if(null==a.lverts.next.next)a.localCOMx=a.lverts.next.x,a.localCOMy=a.lverts.next.y;else if(null==a.lverts.next.next.next)a.localCOMx=a.lverts.next.x,a.localCOMy=a.lverts.next.y,a.localCOMx+=a.lverts.next.next.x,a.localCOMy+=a.lverts.next.next.y,a.localCOMx*=.5,a.localCOMy*=.5;else{a.localCOMx=0;var s=a.localCOMy=0,p=a.lverts.next,l=p,h=p=p.next;for(p=p.next;null!=p;){var u=p,d=(s+=h.x*(u.y-l.y),u.y*h.x-u.x*h.y);a.localCOMx+=(h.x+u.x)*d,a.localCOMy+=(h.y+u.y)*d,l=h,h=u,p=p.next}var c=p=a.lverts.next,m=(s+=h.x*(c.y-l.y),c.y*h.x-c.x*h.y),m=(a.localCOMx+=(h.x+c.x)*m,a.localCOMy+=(h.y+c.y)*m,l=h,p=p.next),y=(s+=c.x*(m.y-l.y),m.y*c.x-m.x*c.y),c=(a.localCOMx+=(c.x+m.x)*y,a.localCOMy+=(c.y+m.y)*y,s=1/(3*s));a.localCOMx*=c,a.localCOMy*=c}}null!=o.wrap_localCOM&&(o.wrap_localCOM.zpp_inner.x=o.localCOMx,o.wrap_localCOM.zpp_inner.y=o.localCOMy)}o.validate_area_inertia();m=o.area*o.material.density;t+=o.localCOMx*m,i+=o.localCOMy*m,n+=o.area*o.material.density,r=r.next}0!=n&&(this.localCOMx=t*(e=1/n),this.localCOMy=i*e),null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy),this.zip_mass&&0==this.massMode&&(this.zip_mass=!1,this.cmass=n,2==this.type?(this.mass=this.cmass,this.imass=this.smass=1/this.mass):(this.mass=1/0,this.imass=this.smass=0))}},h.prototype.validate_worldCOM=function(){this.zip_worldCOM&&(this.zip_worldCOM=!1,this.validate_localCOM(),this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot)),this.worldCOMx=this.posx+(this.axisy*this.localCOMx-this.axisx*this.localCOMy),this.worldCOMy=this.posy+(this.localCOMx*this.axisx+this.localCOMy*this.axisy),null!=this.wrap_worldCOM&&(this.wrap_worldCOM.zpp_inner.x=this.worldCOMx,this.wrap_worldCOM.zpp_inner.y=this.worldCOMy))},h.prototype.getlocalCOM=function(){this.validate_localCOM()},h.prototype.getworldCOM=function(){this.validate_worldCOM()},h.prototype.__immutable_midstep=function(e){},h.prototype.clear=function(){for(;null!=this.shapes.head;){var e=this.shapes.pop_unsafe();e.removedFromBody(),e.body=null}this.invalidate_shapes(),this.pre_posx=0,this.pre_posy=0,this.posx=0,this.posy=0,this.velx=0,this.vely=0,this.forcex=0,this.forcey=0,this.kinvelx=0,this.kinvely=0,this.svelx=0,this.svely=0,this.angvel=this.torque=this.kinangvel=this.pre_rot=this.rot=0;for(var t=this.shapes.head;null!=t;){var i=t.elt;1==i.type&&(i.polygon.invalidate_gverts(),i.polygon.invalidate_gaxi()),i.invalidate_worldCOM(),t=t.next}this.zip_worldCOM=!0,this.zip_axis=!0;for(var n=this.shapes.head;null!=n;){var r=n.elt;1==r.type&&(r.polygon.invalidate_gverts(),r.polygon.invalidate_gaxi()),r.invalidate_worldCOM(),n=n.next}this.zip_worldCOM=!0,this.axisx=0,this.axisy=1,this.zip_axis=!1,this.massMode=0,this.gravMassMode=0,this.gravMassScale=1,this.inertiaMode=0,this.norotate=!1,this.nomove=!1},h.prototype.aabb_validate=function(){if(this.zip_aabb){this.zip_aabb=!1,this.aabb.minx=1/0,this.aabb.miny=1/0,this.aabb.maxx=-1/0,this.aabb.maxy=-1/0;for(var e=this.shapes.head;null!=e;){var t=e.elt;if(t.zip_aabb&&null!=t.body)if(t.zip_aabb=!1,0==t.type){var i=t.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var n=i.polygon;if(null==n.lverts.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y;else if(null==n.lverts.next.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y,n.localCOMx+=n.lverts.next.next.x,n.localCOMy+=n.lverts.next.next.y,n.localCOMx*=.5,n.localCOMy*=.5;else{n.localCOMx=0;var r=n.localCOMy=0,o=n.lverts.next,a=o,s=o=o.next;for(o=o.next;null!=o;){var p=o,l=(r+=s.x*(p.y-a.y),p.y*s.x-p.x*s.y);n.localCOMx+=(s.x+p.x)*l,n.localCOMy+=(s.y+p.y)*l,a=s,s=p,o=o.next}var h=o=n.lverts.next,u=(r+=s.x*(h.y-a.y),h.y*s.x-h.x*s.y),u=(n.localCOMx+=(s.x+h.x)*u,n.localCOMy+=(s.y+h.y)*u,a=s,o=o.next),d=(r+=h.x*(u.y-a.y),u.y*h.x-u.x*h.y),h=(n.localCOMx+=(h.x+u.x)*d,n.localCOMy+=(h.y+u.y)*d,r=1/(3*r));n.localCOMx*=h,n.localCOMy*=h}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}u=i.body;u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}d=i.radius,h=i.radius;i.aabb.minx=i.worldCOMx-d,i.aabb.miny=i.worldCOMy-h,i.aabb.maxx=i.worldCOMx+d,i.aabb.maxy=i.worldCOMy+h}else{var c=t.polygon;if(c.zip_gverts&&null!=c.body){c.zip_gverts=!1,c.validate_lverts();for(var i=c.body,m=(i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),c.lverts.next),y=c.gverts.next;null!=y;){var _=y,x=m,m=m.next;_.x=c.body.posx+(c.body.axisy*x.x-c.body.axisx*x.y),_.y=c.body.posy+(x.x*c.body.axisx+x.y*c.body.axisy),y=y.next}}for(var f=c.gverts.next,g=(c.aabb.minx=f.x,c.aabb.miny=f.y,c.aabb.maxx=f.x,c.aabb.maxy=f.y,c.gverts.next.next);null!=g;){var v=g;v.x<c.aabb.minx&&(c.aabb.minx=v.x),v.x>c.aabb.maxx&&(c.aabb.maxx=v.x),v.y<c.aabb.miny&&(c.aabb.miny=v.y),v.y>c.aabb.maxy&&(c.aabb.maxy=v.y),g=g.next}}f=this.aabb,t=t.aabb;t.minx<f.minx&&(f.minx=t.minx),t.maxx>f.maxx&&(f.maxx=t.maxx),t.miny<f.miny&&(f.miny=t.miny),t.maxy>f.maxy&&(f.maxy=t.maxy),e=e.next}}},h.prototype.shapes_adder=function(e){var t,i,n;return e.zpp_inner.body!=this&&(null!=e.zpp_inner.body&&e.zpp_inner.body.wrap_shapes.remove(e),e.zpp_inner.body=this,e.zpp_inner.addedToBody(),null!=this.space&&(t=this.space,(n=(i=e.zpp_inner).body).world||(n.component.waket=t.stamp+(t.midstep?0:1),3==n.type&&(n.kinematicDelaySleep=!0),n.component.sleeping&&t.really_wake(n,!1)),t.bphase.insert(i),i.addedToSpace()),1==e.zpp_inner.type&&(e.zpp_inner.polygon.invalidate_gaxi(),e.zpp_inner.polygon.invalidate_gverts()),!0)},h.prototype.shapes_subber=function(e){null!=this.space&&this.space.removed_shape(e.zpp_inner),e.zpp_inner.body=null,e.zpp_inner.removedFromBody()},h.prototype.shapes_invalidate=function(e){this.invalidate_shapes()},h.prototype.addedToSpace=function(){null==zi.zpp_pool?this.component=new zi:(this.component=zi.zpp_pool,zi.zpp_pool=this.component.next,this.component.next=null),this.component.isBody=!0,(this.component.body=this).__iaddedToSpace()},h.prototype.removedFromSpace=function(){for(;null!=this.arbiters.head;){var e=this.arbiters.pop_unsafe();if(e.cleared=!0,e.b2==this)for(var t=e.b1.arbiters,i=null,n=t.head;null!=n;){if(n.elt==e){null==i?(o=(r=t.head).next,t.head=o,null==t.head&&(t.pushmod=!0)):(o=(r=i.next).next,null==(i.next=o)&&(t.pushmod=!0));var r,o,a=r;a.elt=null,a.next=En.zpp_pool,En.zpp_pool=a,t.modified=!0,t.length--,t.pushmod=!0;break}n=(i=n).next}if(e.b1==this)for(var s=e.b2.arbiters,p=null,l=s.head;null!=l;){if(l.elt==e){null==p?(u=(h=s.head).next,s.head=u,null==s.head&&(s.pushmod=!0)):(u=(h=p.next).next,null==(p.next=u)&&(s.pushmod=!0));var h,u,d=h;d.elt=null,d.next=En.zpp_pool,En.zpp_pool=d,s.modified=!0,s.length--,s.pushmod=!0;break}l=(p=l).next}null!=e.pair&&(e.pair.arb=null,e.pair=null),e.active=!1,this.space.f_arbiters.modified=!0}var c=this.component;c.body=null,c.constraint=null,c.next=zi.zpp_pool,zi.zpp_pool=c,this.component=null,this.__iremovedFromSpace()},h.prototype.copy=function(){for(var e=(new G).zpp_inner,t=(e.type=this.type,e.bulletEnabled=this.bulletEnabled,e.disableCCD=this.disableCCD,this.shapes.head);null!=t;){var i=e.outer.zpp_inner.wrap_shapes,n=t.elt.outer.copy();i.zpp_inner.reverse_flag?i.push(n):i.unshift(n),t=t.next}if(e.posx=this.posx,e.posy=this.posy,e.velx=this.velx,e.vely=this.vely,e.forcex=this.forcex,e.forcey=this.forcey,e.rot=this.rot,e.angvel=this.angvel,e.torque=this.torque,e.kinvelx=this.kinvelx,e.kinvely=this.kinvely,e.kinangvel=this.kinangvel,e.svelx=this.svelx,e.svely=this.svely,this.zip_axis){e.zip_axis=!0;for(var r=e.shapes.head;null!=r;){var o=r.elt;1==o.type&&(o.polygon.invalidate_gverts(),o.polygon.invalidate_gaxi()),o.invalidate_worldCOM(),r=r.next}e.zip_worldCOM=!0}else e.axisx=this.axisx,e.axisy=this.axisy;return e.rot=this.rot,e.massMode=this.massMode,e.gravMassMode=this.gravMassMode,e.inertiaMode=this.inertiaMode,e.norotate=this.norotate,e.nomove=this.nomove,e.cmass=this.cmass,e.cinertia=this.cinertia,this.zip_mass?e.invalidate_mass():e.mass=this.mass,this.zip_gravMass?e.invalidate_gravMass():e.gravMass=this.gravMass,this.zip_gravMassScale?e.invalidate_gravMassScale():e.gravMassScale=this.gravMassScale,this.zip_inertia?e.invalidate_inertia():e.inertia=this.inertia,this.zip_aabb?e.zip_aabb=!0:(e.aabb.minx=this.aabb.minx,e.aabb.miny=this.aabb.miny,e.aabb.maxx=this.aabb.maxx,e.aabb.maxy=this.aabb.maxy),this.zip_localCOM?(e.zip_localCOM=!0,e.zip_worldCOM=!0):(e.localCOMx=this.localCOMx,e.localCOMy=this.localCOMy),this.zip_worldCOM?e.zip_worldCOM=!0:(e.worldCOMx=this.worldCOMx,e.worldCOMy=this.worldCOMy),this.copyto(e.outer),e.outer},h.prototype.__class__=h,zpp_nape.phys.ZPP_Compound=function(){this.space=null,this.compound=null,this.depth=0,this.wrap_compounds=null,this.wrap_constraints=null,this.wrap_bodies=null,this.compounds=null,this.constraints=null,this.bodies=null,this.outer=null,jn.call(this),(this.icompound=this).depth=1,this.bodies=new Gi,this.wrap_bodies=Zn.get(this.bodies),this.wrap_bodies.zpp_inner.adder=Z(this,this.bodies_adder),this.wrap_bodies.zpp_inner.subber=Z(this,this.bodies_subber),this.constraints=new Ge,this.wrap_constraints=Kn.get(this.constraints),this.wrap_constraints.zpp_inner.adder=Z(this,this.constraints_adder),this.wrap_constraints.zpp_inner.subber=Z(this,this.constraints_subber),this.compounds=new Ai,this.wrap_compounds=Qn.get(this.compounds),this.wrap_compounds.zpp_inner.adder=Z(this,this.compounds_adder),this.wrap_compounds.zpp_inner.subber=Z(this,this.compounds_subber)}),ni=(ii.__name__=["zpp_nape","phys","ZPP_Compound"],ii.__super__=jn,ii.prototype=Object.create(jn.prototype),ii.prototype.outer=null,ii.prototype.bodies=null,ii.prototype.constraints=null,ii.prototype.compounds=null,ii.prototype.wrap_bodies=null,ii.prototype.wrap_constraints=null,ii.prototype.wrap_compounds=null,ii.prototype.depth=null,ii.prototype.compound=null,ii.prototype.space=null,ii.prototype.__imutable_midstep=function(e){},ii.prototype.addedToSpace=function(){this.__iaddedToSpace()},ii.prototype.removedFromSpace=function(){this.__iremovedFromSpace()},ii.prototype.breakApart=function(){for(null!=this.space&&(this.__iremovedFromSpace(),this.space.nullInteractorType(this)),null!=this.compound?this.compound.compounds.remove(this):null!=this.space&&this.space.compounds.remove(this);null!=this.bodies.head;){var e=this.bodies.pop_unsafe();null!=(e.compound=this.compound)?this.compound.bodies.add(e):null!=this.space&&this.space.bodies.add(e),null!=this.space&&this.space.freshInteractorType(e)}for(;null!=this.constraints.head;){var t=this.constraints.pop_unsafe();null!=(t.compound=this.compound)?this.compound.constraints.add(t):null!=this.space&&this.space.constraints.add(t)}for(;null!=this.compounds.head;){var i=this.compounds.pop_unsafe();null!=(i.compound=this.compound)?this.compound.compounds.add(i):null!=this.space&&this.space.compounds.add(i),null!=this.space&&this.space.freshInteractorType(i)}this.compound=null,this.space=null},ii.prototype.bodies_adder=function(e){return e.zpp_inner.compound!=this&&(null!=e.zpp_inner.compound?e.zpp_inner.compound.wrap_bodies.remove(e):null!=e.zpp_inner.space&&e.zpp_inner.space.wrap_bodies.remove(e),null!=(e.zpp_inner.compound=this).space&&this.space.addBody(e.zpp_inner),!0)},ii.prototype.bodies_subber=function(e){(e.zpp_inner.compound=null)!=this.space&&this.space.remBody(e.zpp_inner)},ii.prototype.constraints_adder=function(e){return e.zpp_inner.compound!=this&&(null!=e.zpp_inner.compound?e.zpp_inner.compound.wrap_constraints.remove(e):null!=e.zpp_inner.space&&e.zpp_inner.space.wrap_constraints.remove(e),null!=(e.zpp_inner.compound=this).space&&this.space.addConstraint(e.zpp_inner),!0)},ii.prototype.constraints_subber=function(e){(e.zpp_inner.compound=null)!=this.space&&this.space.remConstraint(e.zpp_inner)},ii.prototype.compounds_adder=function(e){return e.zpp_inner.compound!=this&&(null!=e.zpp_inner.compound?e.zpp_inner.compound.wrap_compounds.remove(e):null!=e.zpp_inner.space&&e.zpp_inner.space.wrap_compounds.remove(e),e.zpp_inner.compound=this,e.zpp_inner.depth=this.depth+1,null!=this.space&&this.space.addCompound(e.zpp_inner),!0)},ii.prototype.compounds_subber=function(e){e.zpp_inner.compound=null,e.zpp_inner.depth=1,null!=this.space&&this.space.remCompound(e.zpp_inner)},ii.prototype.copy=function(e,t){for(var i=null==e,n=(null==e&&(e=[]),null==t&&(t=[]),new ae),r=this.compounds.head;null!=r;){var o,a=r.elt.copy(e,t);a.zpp_inner.immutable_midstep("Compound::compound"),(null==a.zpp_inner.compound?null:a.zpp_inner.compound.outer)!=n&&(null!=(null==a.zpp_inner.compound?null:a.zpp_inner.compound.outer)&&(null==a.zpp_inner.compound?null:a.zpp_inner.compound.outer).zpp_inner.wrap_compounds.remove(a),null!=n&&((o=n.zpp_inner.wrap_compounds).zpp_inner.reverse_flag?o.push(a):o.unshift(a))),r=r.next}for(var s=this.bodies.head;null!=s;){var p=s.elt,l=p.outer.copy();e.push(Ue.dict(p.id,l)),(null==l.zpp_inner.compound?null:l.zpp_inner.compound.outer)!=n&&(null!=(null==l.zpp_inner.compound?null:l.zpp_inner.compound.outer)&&(null==l.zpp_inner.compound?null:l.zpp_inner.compound.outer).zpp_inner.wrap_bodies.remove(l),null!=n&&((p=n.zpp_inner.wrap_bodies).zpp_inner.reverse_flag?p.push(l):p.unshift(l))),s=s.next}for(var h=this.constraints.head;null!=h;){var u,d=h.elt.copy(e,t);(null==d.zpp_inner.compound?null:d.zpp_inner.compound.outer)!=n&&(null!=(null==d.zpp_inner.compound?null:d.zpp_inner.compound.outer)&&(null==d.zpp_inner.compound?null:d.zpp_inner.compound.outer).zpp_inner.wrap_constraints.remove(d),null!=n&&((u=n.zpp_inner.wrap_constraints).zpp_inner.reverse_flag?u.push(d):u.unshift(d))),h=h.next}if(i)for(;0<t.length;)for(var c=t.pop(),m=0;m<e.length;){var y=e[m];if(++m,y.id==c.id){c.cb(y.bc);break}}return this.copyto(n),n},ii.prototype.__class__=ii,zpp_nape.phys.ZPP_FluidProperties=function(){this.wrap_gravity=null,this.gravityy=0,this.gravityx=0,this.density=0,this.viscosity=0,this.wrap_shapes=null,this.shapes=null,this.outer=null,this.userData=null,this.next=null,this.shapes=new Ti,this.density=this.viscosity=1,this.wrap_gravity=null,this.gravityx=0,this.gravityy=0}),ri=(ni.__name__=["zpp_nape","phys","ZPP_FluidProperties"],ni.prototype.next=null,ni.prototype.userData=null,ni.prototype.outer=null,ni.prototype.wrapper=function(){var e;return null==this.outer&&(this.outer=new pe,(e=this.outer.zpp_inner).outer=null,e.next=ni.zpp_pool,ni.zpp_pool=e,this.outer.zpp_inner=this),this.outer},ni.prototype.free=function(){this.outer=null},ni.prototype.alloc=function(){},ni.prototype.shapes=null,ni.prototype.wrap_shapes=null,ni.prototype.feature_cons=function(){this.shapes=new Ti},ni.prototype.addShape=function(e){this.shapes.add(e)},ni.prototype.remShape=function(e){this.shapes.remove(e)},ni.prototype.copy=function(){var e;return null==ni.zpp_pool?e=new ni:(e=ni.zpp_pool,ni.zpp_pool=e.next,e.next=null),e.viscosity=this.viscosity,e.density=this.density,e},ni.prototype.viscosity=null,ni.prototype.density=null,ni.prototype.gravityx=null,ni.prototype.gravityy=null,ni.prototype.wrap_gravity=null,ni.prototype.gravity_invalidate=function(e){this.gravityx=e.x,this.gravityy=e.y,this.invalidate()},ni.prototype.gravity_validate=function(){this.wrap_gravity.zpp_inner.x=this.gravityx,this.wrap_gravity.zpp_inner.y=this.gravityy},ni.prototype.getgravity=function(){var e,t,i=this.gravityx,n=this.gravityy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_gravity=e,this.wrap_gravity.zpp_inner._inuse=!0,this.wrap_gravity.zpp_inner._invalidate=Z(this,this.gravity_invalidate),this.wrap_gravity.zpp_inner._validate=Z(this,this.gravity_validate)},ni.prototype.invalidate=function(){for(var e=this.shapes.head;null!=e;)e.elt.invalidate_fluidprops(),e=e.next},ni.prototype.__class__=ni,zpp_nape.phys.ZPP_Material=function(){this.rollingFriction=0,this.elasticity=0,this.density=0,this.staticFriction=0,this.dynamicFriction=0,this.wrap_shapes=null,this.shapes=null,this.outer=null,this.userData=null,this.next=null,this.shapes=new Ti,this.elasticity=0,this.dynamicFriction=1,this.staticFriction=2,this.density=.001,this.rollingFriction=.01}),oi=(ri.__name__=["zpp_nape","phys","ZPP_Material"],ri.prototype.next=null,ri.prototype.userData=null,ri.prototype.outer=null,ri.prototype.wrapper=function(){var e;return null==this.outer&&(this.outer=new me,(e=this.outer.zpp_inner).outer=null,e.next=ri.zpp_pool,ri.zpp_pool=e,this.outer.zpp_inner=this),this.outer},ri.prototype.free=function(){this.outer=null},ri.prototype.alloc=function(){},ri.prototype.shapes=null,ri.prototype.wrap_shapes=null,ri.prototype.feature_cons=function(){this.shapes=new Ti},ri.prototype.addShape=function(e){this.shapes.add(e)},ri.prototype.remShape=function(e){this.shapes.remove(e)},ri.prototype.dynamicFriction=null,ri.prototype.staticFriction=null,ri.prototype.density=null,ri.prototype.elasticity=null,ri.prototype.rollingFriction=null,ri.prototype.copy=function(){var e=new ri;return e.dynamicFriction=this.dynamicFriction,e.staticFriction=this.staticFriction,e.density=this.density,e.elasticity=this.elasticity,e.rollingFriction=this.rollingFriction,e},ri.prototype.set=function(e){this.dynamicFriction=e.dynamicFriction,this.staticFriction=e.staticFriction,this.density=e.density,this.elasticity=e.elasticity,this.rollingFriction=e.rollingFriction},ri.prototype.invalidate=function(e){for(var t=this.shapes.head;null!=t;)t.elt.invalidate_material(e),t=t.next},ri.prototype.__class__=ri,zpp_nape.shape.ZPP_Shape=function(e){var t;this.zip_aabb=!1,this.aabb=null,this.pairs=null,this.node=null,this.sweep=null,this.sensorEnabled=!1,this.fluidEnabled=!1,this.fluidProperties=null,this.filter=null,this.material=null,this.refmaterial=null,this.polygon=null,this.circle=null,this.sweepCoef=0,this.zip_sweepRadius=!1,this.sweepRadius=0,this.wrap_worldCOM=null,this.wrap_localCOM=null,this.zip_worldCOM=!1,this.worldCOMy=0,this.worldCOMx=0,this.zip_localCOM=!1,this.localCOMy=0,this.localCOMx=0,this.zip_angDrag=!1,this.angDrag=0,this.inertia=0,this.zip_area_inertia=!1,this.area=0,this.type=0,this.body=null,this.outer=null,jn.call(this),this.pairs=new Hi,(this.ishape=this).type=e,null==Nt.zpp_pool?t=new Nt:(t=Nt.zpp_pool,Nt.zpp_pool=t.next,t.next=null),t.minx=0,t.miny=0,t.maxx=0,t.maxy=0,this.aabb=t,this.aabb._immutable=!0,this.aabb._validate=Z(this,this.aabb_validate),this.zip_area_inertia=this.zip_angDrag=this.zip_localCOM=this.zip_sweepRadius=!0,this.localCOMx=0,this.localCOMy=0,this.worldCOMx=0,this.worldCOMy=0,this.fluidEnabled=!1,this.sensorEnabled=!1,this.fluidProperties=null,this.body=null,this.refmaterial=new ri,this.sweepRadius=this.sweepCoef=0}),ai=(oi.__name__=["zpp_nape","shape","ZPP_Shape"],oi.__super__=jn,oi.prototype=Object.create(jn.prototype),oi.prototype.outer=null,oi.prototype.body=null,oi.prototype.type=null,oi.prototype.isCircle=function(){return 0==this.type},oi.prototype.isPolygon=function(){return 1==this.type},oi.prototype.area=null,oi.prototype.zip_area_inertia=null,oi.prototype.inertia=null,oi.prototype.angDrag=null,oi.prototype.zip_angDrag=null,oi.prototype.localCOMx=null,oi.prototype.localCOMy=null,oi.prototype.zip_localCOM=null,oi.prototype.worldCOMx=null,oi.prototype.worldCOMy=null,oi.prototype.zip_worldCOM=null,oi.prototype.wrap_localCOM=null,oi.prototype.wrap_worldCOM=null,oi.prototype.sweepRadius=null,oi.prototype.zip_sweepRadius=null,oi.prototype.sweepCoef=null,oi.prototype.invalidate_sweepRadius=function(){this.zip_sweepRadius=!0},oi.prototype.validate_sweepRadius=function(){this.zip_sweepRadius&&(this.zip_sweepRadius=!1,(0==this.type?this.circle:this.polygon).__validate_sweepRadius())},oi.prototype.circle=null,oi.prototype.polygon=null,oi.prototype.refmaterial=null,oi.prototype.material=null,oi.prototype.filter=null,oi.prototype.fluidProperties=null,oi.prototype.fluidEnabled=null,oi.prototype.sensorEnabled=null,oi.prototype.sweep=null,oi.prototype.node=null,oi.prototype.pairs=null,oi.prototype.clear=function(){(0==this.type?this.circle:this.polygon).__clear()},oi.prototype.aabb=null,oi.prototype.zip_aabb=null,oi.prototype.validate_aabb=function(){if(this.zip_aabb&&null!=this.body)if(this.zip_aabb=!1,0==this.type){var e=this.circle;if(e.zip_worldCOM&&null!=e.body){if(e.zip_worldCOM=!1,e.zip_localCOM){if(e.zip_localCOM=!1,1==e.type){var t=e.polygon;if(null==t.lverts.next.next)t.localCOMx=t.lverts.next.x,t.localCOMy=t.lverts.next.y;else if(null==t.lverts.next.next.next)t.localCOMx=t.lverts.next.x,t.localCOMy=t.lverts.next.y,t.localCOMx+=t.lverts.next.next.x,t.localCOMy+=t.lverts.next.next.y,t.localCOMx*=.5,t.localCOMy*=.5;else{t.localCOMx=0;var i=t.localCOMy=0,n=t.lverts.next,r=n,o=n=n.next;for(n=n.next;null!=n;){var a=n,s=(i+=o.x*(a.y-r.y),a.y*o.x-a.x*o.y);t.localCOMx+=(o.x+a.x)*s,t.localCOMy+=(o.y+a.y)*s,r=o,o=a,n=n.next}var p=n=t.lverts.next,l=(i+=o.x*(p.y-r.y),p.y*o.x-p.x*o.y),l=(t.localCOMx+=(o.x+p.x)*l,t.localCOMy+=(o.y+p.y)*l,r=o,n=n.next),h=(i+=p.x*(l.y-r.y),l.y*p.x-l.x*p.y),p=(t.localCOMx+=(p.x+l.x)*h,t.localCOMy+=(p.y+l.y)*h,i=1/(3*i));t.localCOMx*=p,t.localCOMy*=p}}null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=e.localCOMy)}l=e.body;l.zip_axis&&(l.zip_axis=!1,l.axisx=Math.sin(l.rot),l.axisy=Math.cos(l.rot)),e.worldCOMx=e.body.posx+(e.body.axisy*e.localCOMx-e.body.axisx*e.localCOMy),e.worldCOMy=e.body.posy+(e.localCOMx*e.body.axisx+e.localCOMy*e.body.axisy)}h=e.radius,p=e.radius;e.aabb.minx=e.worldCOMx-h,e.aabb.miny=e.worldCOMy-p,e.aabb.maxx=e.worldCOMx+h,e.aabb.maxy=e.worldCOMy+p}else{var u=this.polygon;if(u.zip_gverts&&null!=u.body){u.zip_gverts=!1,u.validate_lverts();for(var l=u.body,d=(l.zip_axis&&(l.zip_axis=!1,l.axisx=Math.sin(l.rot),l.axisy=Math.cos(l.rot)),u.lverts.next),c=u.gverts.next;null!=c;){var m=c,y=d,d=d.next;m.x=u.body.posx+(u.body.axisy*y.x-u.body.axisx*y.y),m.y=u.body.posy+(y.x*u.body.axisx+y.y*u.body.axisy),c=c.next}}for(var h=u.gverts.next,_=(u.aabb.minx=h.x,u.aabb.miny=h.y,u.aabb.maxx=h.x,u.aabb.maxy=h.y,u.gverts.next.next);null!=_;){var x=_;x.x<u.aabb.minx&&(u.aabb.minx=x.x),x.x>u.aabb.maxx&&(u.aabb.maxx=x.x),x.y<u.aabb.miny&&(u.aabb.miny=x.y),x.y>u.aabb.maxy&&(u.aabb.maxy=x.y),_=_.next}}},oi.prototype.force_validate_aabb=function(){if(0==this.type){var e=this.circle;e.worldCOMx=e.body.posx+(e.body.axisy*e.localCOMx-e.body.axisx*e.localCOMy),e.worldCOMy=e.body.posy+(e.localCOMx*e.body.axisx+e.localCOMy*e.body.axisy),e.aabb.minx=e.worldCOMx-e.radius,e.aabb.miny=e.worldCOMy-e.radius,e.aabb.maxx=e.worldCOMx+e.radius,e.aabb.maxy=e.worldCOMy+e.radius}else for(var t=this.polygon,i=t.lverts.next,e=t.gverts.next,n=i,r=(i=i.next,e.x=t.body.posx+(t.body.axisy*n.x-t.body.axisx*n.y),e.y=t.body.posy+(n.x*t.body.axisx+n.y*t.body.axisy),t.aabb.minx=e.x,t.aabb.miny=e.y,t.aabb.maxx=e.x,t.aabb.maxy=e.y,t.gverts.next.next);null!=r;){var o=r,a=i,i=i.next;o.x=t.body.posx+(t.body.axisy*a.x-t.body.axisx*a.y),o.y=t.body.posy+(a.x*t.body.axisx+a.y*t.body.axisy),o.x<t.aabb.minx&&(t.aabb.minx=o.x),o.x>t.aabb.maxx&&(t.aabb.maxx=o.x),o.y<t.aabb.miny&&(t.aabb.miny=o.y),o.y>t.aabb.maxy&&(t.aabb.maxy=o.y),r=r.next}},oi.prototype.invalidate_aabb=function(){this.zip_aabb=!0,null!=this.body&&(this.body.zip_aabb=!0)},oi.prototype.validate_area_inertia=function(){this.zip_area_inertia&&(this.zip_area_inertia=!1,(0==this.type?this.circle:this.polygon).__validate_area_inertia())},oi.prototype.validate_angDrag=function(){!this.zip_angDrag&&this.refmaterial.dynamicFriction==this.material.dynamicFriction||(this.zip_angDrag=!1,this.refmaterial.dynamicFriction=this.material.dynamicFriction,(0==this.type?this.circle:this.polygon).__validate_angDrag())},oi.prototype.validate_localCOM=function(){if(this.zip_localCOM){if(this.zip_localCOM=!1,1==this.type){var e=this.polygon;if(null==e.lverts.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y;else if(null==e.lverts.next.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y,e.localCOMx+=e.lverts.next.next.x,e.localCOMy+=e.lverts.next.next.y,e.localCOMx*=.5,e.localCOMy*=.5;else{e.localCOMx=0;var t=e.localCOMy=0,i=e.lverts.next,n=i,r=i=i.next;for(i=i.next;null!=i;){var o=i,a=(t+=r.x*(o.y-n.y),o.y*r.x-o.x*r.y);e.localCOMx+=(r.x+o.x)*a,e.localCOMy+=(r.y+o.y)*a,n=r,r=o,i=i.next}var s=i=e.lverts.next,p=(t+=r.x*(s.y-n.y),s.y*r.x-s.x*r.y),p=(e.localCOMx+=(r.x+s.x)*p,e.localCOMy+=(r.y+s.y)*p,n=r,i=i.next),l=(t+=s.x*(p.y-n.y),p.y*s.x-p.x*s.y),s=(e.localCOMx+=(s.x+p.x)*l,e.localCOMy+=(s.y+p.y)*l,t=1/(3*t));e.localCOMx*=s,e.localCOMy*=s}}null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)}},oi.prototype.validate_worldCOM=function(){if(this.zip_worldCOM&&null!=this.body){if(this.zip_worldCOM=!1,this.zip_localCOM){if(this.zip_localCOM=!1,1==this.type){var e=this.polygon;if(null==e.lverts.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y;else if(null==e.lverts.next.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y,e.localCOMx+=e.lverts.next.next.x,e.localCOMy+=e.lverts.next.next.y,e.localCOMx*=.5,e.localCOMy*=.5;else{e.localCOMx=0;var t=e.localCOMy=0,i=e.lverts.next,n=i,r=i=i.next;for(i=i.next;null!=i;){var o=i,a=(t+=r.x*(o.y-n.y),o.y*r.x-o.x*r.y);e.localCOMx+=(r.x+o.x)*a,e.localCOMy+=(r.y+o.y)*a,n=r,r=o,i=i.next}var s=i=e.lverts.next,p=(t+=r.x*(s.y-n.y),s.y*r.x-s.x*r.y),p=(e.localCOMx+=(r.x+s.x)*p,e.localCOMy+=(r.y+s.y)*p,n=r,i=i.next),l=(t+=s.x*(p.y-n.y),p.y*s.x-p.x*s.y),s=(e.localCOMx+=(s.x+p.x)*l,e.localCOMy+=(s.y+p.y)*l,t=1/(3*t));e.localCOMx*=s,e.localCOMy*=s}}null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)}p=this.body;p.zip_axis&&(p.zip_axis=!1,p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy)}},oi.prototype.getworldCOM=function(){if(this.zip_worldCOM&&null!=this.body){if(this.zip_worldCOM=!1,this.zip_localCOM){if(this.zip_localCOM=!1,1==this.type){var e=this.polygon;if(null==e.lverts.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y;else if(null==e.lverts.next.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y,e.localCOMx+=e.lverts.next.next.x,e.localCOMy+=e.lverts.next.next.y,e.localCOMx*=.5,e.localCOMy*=.5;else{e.localCOMx=0;var t=e.localCOMy=0,i=e.lverts.next,n=i,r=i=i.next;for(i=i.next;null!=i;){var o=i,a=(t+=r.x*(o.y-n.y),o.y*r.x-o.x*r.y);e.localCOMx+=(r.x+o.x)*a,e.localCOMy+=(r.y+o.y)*a,n=r,r=o,i=i.next}var s=i=e.lverts.next,p=(t+=r.x*(s.y-n.y),s.y*r.x-s.x*r.y),p=(e.localCOMx+=(r.x+s.x)*p,e.localCOMy+=(r.y+s.y)*p,n=r,i=i.next),l=(t+=s.x*(p.y-n.y),p.y*s.x-p.x*s.y),s=(e.localCOMx+=(s.x+p.x)*l,e.localCOMy+=(s.y+p.y)*l,t=1/(3*t));e.localCOMx*=s,e.localCOMy*=s}}null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)}p=this.body;p.zip_axis&&(p.zip_axis=!1,p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy)}this.wrap_worldCOM.zpp_inner.x=this.worldCOMx,this.wrap_worldCOM.zpp_inner.y=this.worldCOMy},oi.prototype.invalidate_area_inertia=function(){var e;this.zip_area_inertia=!0,null!=this.body&&((e=this.body).zip_localCOM=!0,e.zip_worldCOM=!0,this.body.invalidate_mass(),this.body.invalidate_inertia())},oi.prototype.invalidate_angDrag=function(){this.zip_angDrag=!0},oi.prototype.invalidate_localCOM=function(){var e;this.zip_localCOM=!0,this.invalidate_area_inertia(),0==this.type&&(this.zip_sweepRadius=!0),this.invalidate_angDrag(),this.invalidate_worldCOM(),null!=this.body&&((e=this.body).zip_localCOM=!0,e.zip_worldCOM=!0)},oi.prototype.invalidate_worldCOM=function(){this.zip_worldCOM=!0,this.zip_aabb=!0,null!=this.body&&(this.body.zip_aabb=!0)},oi.prototype.invalidate_material=function(e){var t;0!=(e&ri.WAKE)&&this.wake(),0!=(e&ri.ARBITERS)&&null!=this.body&&this.body.refreshArbiters(),0!=(e&ri.PROPS)&&null!=this.body&&((t=this.body).zip_localCOM=!0,t.zip_worldCOM=!0,this.body.invalidate_mass(),this.body.invalidate_inertia()),0!=(e&ri.ANGDRAG)&&this.invalidate_angDrag(),this.refmaterial.set(this.material)},oi.prototype.invalidate_filter=function(){this.wake()},oi.prototype.invalidate_fluidprops=function(){this.fluidEnabled&&this.wake()},oi.prototype.aabb_validate=function(){if(this.zip_aabb&&null!=this.body)if(this.zip_aabb=!1,0==this.type){var e=this.circle;if(e.zip_worldCOM&&null!=e.body){if(e.zip_worldCOM=!1,e.zip_localCOM){if(e.zip_localCOM=!1,1==e.type){var t=e.polygon;if(null==t.lverts.next.next)t.localCOMx=t.lverts.next.x,t.localCOMy=t.lverts.next.y;else if(null==t.lverts.next.next.next)t.localCOMx=t.lverts.next.x,t.localCOMy=t.lverts.next.y,t.localCOMx+=t.lverts.next.next.x,t.localCOMy+=t.lverts.next.next.y,t.localCOMx*=.5,t.localCOMy*=.5;else{t.localCOMx=0;var i=t.localCOMy=0,n=t.lverts.next,r=n,o=n=n.next;for(n=n.next;null!=n;){var a=n,s=(i+=o.x*(a.y-r.y),a.y*o.x-a.x*o.y);t.localCOMx+=(o.x+a.x)*s,t.localCOMy+=(o.y+a.y)*s,r=o,o=a,n=n.next}var p=n=t.lverts.next,l=(i+=o.x*(p.y-r.y),p.y*o.x-p.x*o.y),l=(t.localCOMx+=(o.x+p.x)*l,t.localCOMy+=(o.y+p.y)*l,r=o,n=n.next),h=(i+=p.x*(l.y-r.y),l.y*p.x-l.x*p.y),p=(t.localCOMx+=(p.x+l.x)*h,t.localCOMy+=(p.y+l.y)*h,i=1/(3*i));t.localCOMx*=p,t.localCOMy*=p}}null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=e.localCOMy)}l=e.body;l.zip_axis&&(l.zip_axis=!1,l.axisx=Math.sin(l.rot),l.axisy=Math.cos(l.rot)),e.worldCOMx=e.body.posx+(e.body.axisy*e.localCOMx-e.body.axisx*e.localCOMy),e.worldCOMy=e.body.posy+(e.localCOMx*e.body.axisx+e.localCOMy*e.body.axisy)}h=e.radius,p=e.radius;e.aabb.minx=e.worldCOMx-h,e.aabb.miny=e.worldCOMy-p,e.aabb.maxx=e.worldCOMx+h,e.aabb.maxy=e.worldCOMy+p}else{var u=this.polygon;if(u.zip_gverts&&null!=u.body){u.zip_gverts=!1,u.validate_lverts();for(var l=u.body,d=(l.zip_axis&&(l.zip_axis=!1,l.axisx=Math.sin(l.rot),l.axisy=Math.cos(l.rot)),u.lverts.next),c=u.gverts.next;null!=c;){var m=c,y=d,d=d.next;m.x=u.body.posx+(u.body.axisy*y.x-u.body.axisx*y.y),m.y=u.body.posy+(y.x*u.body.axisx+y.y*u.body.axisy),c=c.next}}for(var h=u.gverts.next,_=(u.aabb.minx=h.x,u.aabb.miny=h.y,u.aabb.maxx=h.x,u.aabb.maxy=h.y,u.gverts.next.next);null!=_;){var x=_;x.x<u.aabb.minx&&(u.aabb.minx=x.x),x.x>u.aabb.maxx&&(u.aabb.maxx=x.x),x.y<u.aabb.miny&&(u.aabb.miny=x.y),x.y>u.aabb.maxy&&(u.aabb.maxy=x.y),_=_.next}}},oi.prototype.setMaterial=function(e){this.material!=e&&(null!=this.body&&null!=this.body.space&&null!=this.material&&this.material.shapes.remove(this),this.material=e,null!=this.body&&null!=this.body.space&&e.shapes.add(this),this.wake(),null!=this.body&&this.body.refreshArbiters())},oi.prototype.setFilter=function(e){this.filter!=e&&(null!=this.body&&null!=this.body.space&&null!=this.filter&&this.filter.shapes.remove(this),this.filter=e,null!=this.body&&null!=this.body.space&&e.shapes.add(this),this.wake())},oi.prototype.setFluid=function(e){this.fluidProperties!=e&&(null!=this.body&&null!=this.body.space&&null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this),this.fluidProperties=e,null!=this.body&&null!=this.body.space&&e.shapes.add(this),this.fluidEnabled&&this.wake())},oi.prototype.__immutable_midstep=function(e){},oi.prototype.addedToBody=function(){this.invalidate_worldCOM(),this.zip_aabb=!0,null!=this.body&&(this.body.zip_aabb=!0)},oi.prototype.removedFromBody=function(){},oi.prototype.addedToSpace=function(){this.__iaddedToSpace(),this.material.shapes.add(this),this.filter.shapes.add(this),null!=this.fluidProperties&&this.fluidProperties.shapes.add(this)},oi.prototype.removedFromSpace=function(){this.__iremovedFromSpace(),this.material.shapes.remove(this),this.filter.shapes.remove(this),null!=this.fluidProperties&&this.fluidProperties.shapes.remove(this)},oi.prototype.copy=function(){var e=null,e=(0==this.type?this.circle:this.polygon).__copy(),t=(this.zip_area_inertia?e.invalidate_area_inertia():(e.area=this.area,e.inertia=this.inertia),this.zip_sweepRadius?e.zip_sweepRadius=!0:(e.sweepRadius=this.sweepRadius,e.sweepCoef=this.sweepCoef),this.zip_angDrag?e.invalidate_angDrag():e.angDrag=this.angDrag,this.zip_aabb?(e.zip_aabb=!0,null!=e.body&&(e.body.zip_aabb=!0)):(e.aabb.minx=this.aabb.minx,e.aabb.miny=this.aabb.miny,e.aabb.maxx=this.aabb.maxx,e.aabb.maxy=this.aabb.maxy),e.material),t=(t.outer=null,t.next=ri.zpp_pool,ri.zpp_pool=t,e.filter);return t.outer=null,t.next=zt.zpp_pool,zt.zpp_pool=t,e.material=this.material,e.filter=this.filter,null!=this.fluidProperties&&(e.fluidProperties=this.fluidProperties),e.fluidEnabled=this.fluidEnabled,e.sensorEnabled=this.sensorEnabled,null!=this.userData&&(e.userData=a.copy(this.userData)),this.copyto(e.outer),e.outer},oi.prototype.__class__=oi,zpp_nape.shape.ZPP_Circle=function(){this.radius=0,this.outer_zn=null,oi.call(this,0),(this.circle=this).zip_localCOM=!1}),si=(ai.__name__=["zpp_nape","shape","ZPP_Circle"],ai.__super__=oi,ai.prototype=Object.create(oi.prototype),ai.prototype.outer_zn=null,ai.prototype.radius=null,ai.prototype.__clear=function(){},ai.prototype.invalidate_radius=function(){this.invalidate_area_inertia(),this.invalidate_angDrag(),this.zip_aabb=!0,null!=this.body&&(this.body.zip_aabb=!0),null!=this.body&&this.body.wake()},ai.prototype.localCOM_validate=function(){this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy},ai.prototype.localCOM_invalidate=function(e){this.localCOMx=e.x,this.localCOMy=e.y,this.invalidate_localCOM(),null!=this.body&&this.body.wake()},ai.prototype.setupLocalCOM=function(){var e,t,i=this.localCOMx,n=this.localCOMy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_localCOM=e,this.wrap_localCOM.zpp_inner._inuse=!0,this.wrap_localCOM.zpp_inner._validate=Z(this,this.localCOM_validate),this.wrap_localCOM.zpp_inner._invalidate=Z(this,this.localCOM_invalidate)},ai.prototype.__validate_aabb=function(){if(this.zip_worldCOM&&null!=this.body){if(this.zip_worldCOM=!1,this.zip_localCOM){if(this.zip_localCOM=!1,1==this.type){var e=this.polygon;if(null==e.lverts.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y;else if(null==e.lverts.next.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y,e.localCOMx+=e.lverts.next.next.x,e.localCOMy+=e.lverts.next.next.y,e.localCOMx*=.5,e.localCOMy*=.5;else{e.localCOMx=0;var t=e.localCOMy=0,i=e.lverts.next,n=i,r=i=i.next;for(i=i.next;null!=i;){var o=i,a=(t+=r.x*(o.y-n.y),o.y*r.x-o.x*r.y);e.localCOMx+=(r.x+o.x)*a,e.localCOMy+=(r.y+o.y)*a,n=r,r=o,i=i.next}var s=i=e.lverts.next,p=(t+=r.x*(s.y-n.y),s.y*r.x-s.x*r.y),p=(e.localCOMx+=(r.x+s.x)*p,e.localCOMy+=(r.y+s.y)*p,n=r,i=i.next),l=(t+=s.x*(p.y-n.y),p.y*s.x-p.x*s.y),s=(e.localCOMx+=(s.x+p.x)*l,e.localCOMy+=(s.y+p.y)*l,t=1/(3*t));e.localCOMx*=s,e.localCOMy*=s}}null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)}p=this.body;p.zip_axis&&(p.zip_axis=!1,p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)),this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy)}l=this.radius,s=this.radius;this.aabb.minx=this.worldCOMx-l,this.aabb.miny=this.worldCOMy-s,this.aabb.maxx=this.worldCOMx+l,this.aabb.maxy=this.worldCOMy+s},ai.prototype._force_validate_aabb=function(){this.worldCOMx=this.body.posx+(this.body.axisy*this.localCOMx-this.body.axisx*this.localCOMy),this.worldCOMy=this.body.posy+(this.localCOMx*this.body.axisx+this.localCOMy*this.body.axisy),this.aabb.minx=this.worldCOMx-this.radius,this.aabb.miny=this.worldCOMy-this.radius,this.aabb.maxx=this.worldCOMx+this.radius,this.aabb.maxy=this.worldCOMy+this.radius},ai.prototype.__validate_sweepRadius=function(){this.sweepCoef=Math.sqrt(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy),this.sweepRadius=this.sweepCoef+this.radius},ai.prototype.__validate_area_inertia=function(){var e=this.radius*this.radius;this.area=e*Math.PI,this.inertia=.5*e+(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy)},ai.prototype.__validate_angDrag=function(){var e=this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy,t=this.radius*this.radius;this.angDrag=(e+2*t)*(this.material.dynamicFriction*ur.fluidAngularDragFriction)+.5*ur.fluidAngularDrag*(1+ur.fluidVacuumDrag)*e,this.angDrag/=2*(e+.5*t)},ai.prototype.__scale=function(e,t){var i=((e<0?-e:e)+(t<0?-t:t))/2;this.radius*=i<0?-i:i,this.invalidate_radius(),0<this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy&&(this.localCOMx*=e,this.localCOMy*=t,this.invalidate_localCOM())},ai.prototype.__translate=function(e,t){this.localCOMx+=e,this.localCOMy+=t,this.invalidate_localCOM()},ai.prototype.__rotate=function(e,t){var i,n;0<this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy&&(n=i=0,i=t*this.localCOMx-e*this.localCOMy,n=this.localCOMx*e+this.localCOMy*t,this.localCOMx=i,this.localCOMy=n,this.invalidate_localCOM())},ai.prototype.__transform=function(e){var t=e.zpp_inner.a*e.zpp_inner.d-e.zpp_inner.b*e.zpp_inner.c,t=(t<0&&(t=-t),this.radius*=Math.sqrt(t),e.zpp_inner.a*this.localCOMx+e.zpp_inner.b*this.localCOMy+e.zpp_inner.tx);this.localCOMy=e.zpp_inner.c*this.localCOMx+e.zpp_inner.d*this.localCOMy+e.zpp_inner.ty,this.localCOMx=t,this.invalidate_radius(),this.invalidate_localCOM()},ai.prototype.__copy=function(){var e=new _e(this.radius).zpp_inner_zn;return e.localCOMx=this.localCOMx,e.localCOMy=this.localCOMy,e.zip_localCOM=!1,e},ai.prototype.__class__=ai,zpp_nape.shape.ZPP_Edge=function(){this.tp1=0,this.tp0=0,this.gp1=null,this.lp1=null,this.gp0=null,this.lp0=null,this.gprojection=0,this.lprojection=0,this.length=0,this.wrap_gnorm=null,this.gnormy=0,this.gnormx=0,this.wrap_lnorm=null,this.lnormy=0,this.lnormx=0,this.outer=null,this.polygon=null,this.next=null,this.lnormx=0,this.lnormy=0,this.gnormx=0,this.gnormy=0,this.length=0,this.lprojection=0,this.gprojection=0}),pi=(si.__name__=["zpp_nape","shape","ZPP_Edge"],si.prototype.next=null,si.prototype.free=function(){this.polygon=null},si.prototype.alloc=function(){},si.prototype.polygon=null,si.prototype.outer=null,si.prototype.wrapper=function(){return null==this.outer&&(si.internal=!0,this.outer=new ge,si.internal=!1,this.outer.zpp_inner=this),this.outer},si.prototype.lnormx=null,si.prototype.lnormy=null,si.prototype.wrap_lnorm=null,si.prototype.gnormx=null,si.prototype.gnormy=null,si.prototype.wrap_gnorm=null,si.prototype.length=null,si.prototype.lprojection=null,si.prototype.gprojection=null,si.prototype.lp0=null,si.prototype.gp0=null,si.prototype.lp1=null,si.prototype.gp1=null,si.prototype.tp0=null,si.prototype.tp1=null,si.prototype.lnorm_validate=function(){this.polygon.validate_laxi(),this.wrap_lnorm.zpp_inner.x=this.lnormx,this.wrap_lnorm.zpp_inner.y=this.lnormy},si.prototype.gnorm_validate=function(){var e=this.polygon;if(e.zip_gaxi&&null!=e.body){e.zip_gaxi=!1,e.validate_laxi();var t=e.body;if(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.zip_gverts&&null!=e.body){e.zip_gverts=!1,e.validate_lverts();for(var t=e.body,i=(t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),e.lverts.next),n=e.gverts.next;null!=n;){var r=n,o=i,i=i.next;r.x=e.body.posx+(e.body.axisy*o.x-e.body.axisx*o.y),r.y=e.body.posy+(o.x*e.body.axisx+o.y*e.body.axisy),n=n.next}}for(var a=e.edges.head,s=p=e.gverts.next,p=p.next;null!=p;){var l=p,h=a.elt,a=a.next;h.gp0=s,h.gp1=l,h.gnormx=e.body.axisy*h.lnormx-e.body.axisx*h.lnormy,h.gnormy=h.lnormx*e.body.axisx+h.lnormy*e.body.axisy,h.gprojection=e.body.posx*h.gnormx+e.body.posy*h.gnormy+h.lprojection,null!=h.wrap_gnorm&&(h.wrap_gnorm.zpp_inner.x=h.gnormx,h.wrap_gnorm.zpp_inner.y=h.gnormy),h.tp0=h.gp0.y*h.gnormx-h.gp0.x*h.gnormy,h.tp1=h.gp1.y*h.gnormx-h.gp1.x*h.gnormy,s=l,p=p.next}t=a.elt;t.gp0=s,t.gp1=e.gverts.next,t.gnormx=e.body.axisy*t.lnormx-e.body.axisx*t.lnormy,t.gnormy=t.lnormx*e.body.axisx+t.lnormy*e.body.axisy,t.gprojection=e.body.posx*t.gnormx+e.body.posy*t.gnormy+t.lprojection,null!=t.wrap_gnorm&&(t.wrap_gnorm.zpp_inner.x=t.gnormx,t.wrap_gnorm.zpp_inner.y=t.gnormy),t.tp0=t.gp0.y*t.gnormx-t.gp0.x*t.gnormy,t.tp1=t.gp1.y*t.gnormx-t.gp1.x*t.gnormy}this.wrap_gnorm.zpp_inner.x=this.gnormx,this.wrap_gnorm.zpp_inner.y=this.gnormy},si.prototype.getlnorm=function(){var e,t,i=this.lnormx,n=this.lnormy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_lnorm=e,this.wrap_lnorm.zpp_inner._immutable=!0,this.wrap_lnorm.zpp_inner._validate=Z(this,this.lnorm_validate)},si.prototype.getgnorm=function(){var e,t,i=this.gnormx,n=this.gnormy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_gnorm=e,this.wrap_gnorm.zpp_inner._immutable=!0,this.wrap_gnorm.zpp_inner._validate=Z(this,this.gnorm_validate)},si.prototype.__class__=si,zpp_nape.shape.ZPP_Polygon=function(){this.zip_sanitation=!1,this.zip_valid=!1,this.zip_gaxi=!1,this.zip_gverts=!1,this.zip_laxi=!1,this.zip_lverts=!1,this.reverse_flag=!1,this.edgeCnt=0,this.wrap_edges=null,this.edges=null,this.wrap_gverts=null,this.gverts=null,this.wrap_lverts=null,this.lverts=null,this.outer_zn=null,oi.call(this,1),(this.polygon=this).lverts=new cr,this.gverts=new cr,this.edges=new Vi,this.edgeCnt=0}),li=(pi.__name__=["zpp_nape","shape","ZPP_Polygon"],pi.__super__=oi,pi.prototype=Object.create(oi.prototype),pi.prototype.outer_zn=null,pi.prototype.lverts=null,pi.prototype.wrap_lverts=null,pi.prototype.gverts=null,pi.prototype.wrap_gverts=null,pi.prototype.edges=null,pi.prototype.wrap_edges=null,pi.prototype.edgeCnt=null,pi.prototype.reverse_flag=null,pi.prototype.__clear=function(){},pi.prototype.lverts_pa_invalidate=function(e){this.invalidate_lverts()},pi.prototype.gverts_pa_validate=function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1,this.validate_lverts();for(var e=this.body,t=(e.zip_axis&&(e.zip_axis=!1,e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)),this.lverts.next),i=this.gverts.next;null!=i;){var n=i,r=t,t=t.next;n.x=this.body.posx+(this.body.axisy*r.x-this.body.axisx*r.y),n.y=this.body.posy+(r.x*this.body.axisx+r.y*this.body.axisy),i=i.next}}},pi.prototype.lverts_post_adder=function(e){e.zpp_inner._invalidate=Z(this,this.lverts_pa_invalidate);for(var t=null,i=null,n=this.lverts.next;null!=n&&n!=e.zpp_inner;)t=(null==t?this.gverts:t).next,i=null==i?this.edges.head:i.next,n=n.next;null==cr.zpp_pool?s=new cr:(s=cr.zpp_pool,cr.zpp_pool=s.next,s.next=null),s.weak=!1,s._immutable=!0,s.x=0,s.y=0;var r,o,a,s;this.gverts.insert(t,s),null!=this.lverts.next.next&&(null==this.lverts.next.next.next?(null==si.zpp_pool?r=new si:(r=si.zpp_pool,si.zpp_pool=r.next,r.next=null),(r.polygon=this).edges.add(r),null==si.zpp_pool?o=new si:(o=si.zpp_pool,si.zpp_pool=o.next,o.next=null),(o.polygon=this).edges.add(o),this.edgeCnt+=2):(null==si.zpp_pool?a=new si:(a=si.zpp_pool,si.zpp_pool=a.next,a.next=null),(a.polygon=this).edges.insert(i,a),this.edgeCnt++)),s._validate=Z(this,this.gverts_pa_validate)},pi.prototype.lverts_subber=function(e){this.cleanup_lvert(e.zpp_inner)},pi.prototype.lverts_invalidate=function(e){this.invalidate_lverts()},pi.prototype.lverts_validate=function(){this.validate_lverts()},pi.prototype.gverts_validate=function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1,this.validate_lverts();for(var e=this.body,t=(e.zip_axis&&(e.zip_axis=!1,e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)),this.lverts.next),i=this.gverts.next;null!=i;){var n=i,r=t,t=t.next;n.x=this.body.posx+(this.body.axisy*r.x-this.body.axisx*r.y),n.y=this.body.posy+(r.x*this.body.axisx+r.y*this.body.axisy),i=i.next}}},pi.prototype.edges_validate=function(){this.validate_lverts()},pi.prototype.getlverts=function(){this.wrap_lverts=Yn.get(this.lverts),this.wrap_lverts.zpp_inner.post_adder=Z(this,this.lverts_post_adder),this.wrap_lverts.zpp_inner.subber=Z(this,this.lverts_subber),this.wrap_lverts.zpp_inner._invalidate=Z(this,this.lverts_invalidate),this.wrap_lverts.zpp_inner._validate=Z(this,this.lverts_validate),this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag},pi.prototype.getgverts=function(){this.wrap_gverts=Yn.get(this.gverts,!0),this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag,this.wrap_gverts.zpp_inner._validate=Z(this,this.gverts_validate)},pi.prototype.getedges=function(){this.wrap_edges=or.get(this.edges,!0),this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag,this.wrap_edges.zpp_inner._validate=Z(this,this.edges_validate)},pi.prototype.zip_lverts=null,pi.prototype.invalidate_lverts=function(){this.invalidate_laxi(),this.invalidate_area_inertia(),this.invalidate_angDrag(),this.invalidate_localCOM(),this.invalidate_gverts(),this.zip_lverts=!0,this.zip_valid=!0,this.zip_sanitation=!0,null!=this.body&&this.body.wake()},pi.prototype.zip_laxi=null,pi.prototype.invalidate_laxi=function(){this.invalidate_gaxi(),this.zip_sweepRadius=!0,this.zip_laxi=!0},pi.prototype.zip_gverts=null,pi.prototype.invalidate_gverts=function(){this.zip_aabb=!0,null!=this.body&&(this.body.zip_aabb=!0),this.zip_gverts=!0},pi.prototype.zip_gaxi=null,pi.prototype.invalidate_gaxi=function(){this.zip_gaxi=!0},pi.prototype.zip_valid=null,pi.prototype.validation=null,pi.prototype.valid=function(){if(this.zip_valid){if(this.zip_valid=!1,this.zip_sanitation&&(this.zip_sanitation=!1,this.splice_collinear_real()),this.lverts.length<3)return null==Tn.ValidationResult_DEGENERATE&&(Tn.internal=!0,Tn.ValidationResult_DEGENERATE=new Se,Tn.internal=!1),this.validation=Tn.ValidationResult_DEGENERATE;if(this.validate_lverts(),this.validate_area_inertia(),this.area<ur.epsilon)return null==Tn.ValidationResult_DEGENERATE&&(Tn.internal=!0,Tn.ValidationResult_DEGENERATE=new Se,Tn.internal=!1),this.validation=Tn.ValidationResult_DEGENERATE;var e=!1,t=!1,i=!0,n=l=this.lverts.next,r=l=l.next;for(l=l.next;null!=l;){var o=l,a=o.x-r.x,L=o.y-r.y,D=r.x-n.x,a=(r.y-n.y)*a-D*L;if(ur.epsilon<a?t=!0:a<-ur.epsilon&&(e=!0),t&&e){i=!1;break}n=r,r=o,l=l.next}if(i){for(var s=l=this.lverts.next;;){var p=s.x-r.x,R=s.y-r.y,j=r.x-n.x,p=(r.y-n.y)*p-j*R;if(ur.epsilon<p?t=!0:p<-ur.epsilon&&(e=!0),t&&e){i=!1;break}break}if(i)for(var l,n=r,r=s,h=l=l.next;;){var u=h.x-s.x,F=h.y-s.y,N=s.x-n.x,u=(s.y-n.y)*u-N*F;if(ur.epsilon<u?t=!0:u<-ur.epsilon&&(e=!0),t&&e)break;break}}if(t&&e)return null==Tn.ValidationResult_CONCAVE&&(Tn.internal=!0,Tn.ValidationResult_CONCAVE=new Se,Tn.internal=!1),this.validation=Tn.ValidationResult_CONCAVE;for(var d=!0,c=!0,m=y=this.lverts.next,y=y.next;null!=y;){var _=y;if(!d){c=!1;break}for(var U=!0,x=f=this.lverts.next,f=f.next;null!=f;){var g=f;if(m==x||m==g||_==x||_==g)x=g,f=f.next;else{var H=m.x-x.x,V=m.y-x.y,W=_.x-m.x,q=_.y-m.y,v=g.x-x.x,z=g.y-x.y;if(ur.epsilon<(b=q*v-W*z)*b){var b,z=(z*H-v*V)*(b=1/b);if(ur.epsilon<z&&z<1-ur.epsilon){v=(q*H-W*V)*b;if(ur.epsilon<v&&v<1-ur.epsilon){U=d=!1;break}}}x=g,f=f.next}}if(U)for(;;){var w=this.lverts.next;if(m==x||m==w||_==x||_==w)break;var X=m.x-x.x,Y=m.y-x.y,K=_.x-m.x,Z=_.y-m.y,S=w.x-x.x,w=w.y-x.y;if(ur.epsilon<(C=Z*S-K*w)*C){var C,w=(w*X-S*Y)*(C=1/C);if(ur.epsilon<w&&w<1-ur.epsilon){S=(Z*X-K*Y)*C;if(ur.epsilon<S&&S<1-ur.epsilon){d=!1;break}}}break}m=_,y=y.next}if(c)for(;;){var k=this.lverts.next;if(!d)break;for(var J=!0,M=P=this.lverts.next,P=P.next;null!=P;){var O=P;if(m==M||m==O||k==M||k==O)M=O,P=P.next;else{var Q=m.x-M.x,$=m.y-M.y,ee=k.x-m.x,te=k.y-m.y,T=O.x-M.x,G=O.y-M.y;if(ur.epsilon<(A=te*T-ee*G)*A){var A,G=(G*Q-T*$)*(A=1/A);if(ur.epsilon<G&&G<1-ur.epsilon){T=(te*Q-ee*$)*A;if(ur.epsilon<T&&T<1-ur.epsilon){J=d=!1;break}}}M=O,P=P.next}}if(J)for(;;){var E=this.lverts.next;if(m==M||m==E||k==M||k==E)break;var ie=m.x-M.x,ne=m.y-M.y,re=k.x-m.x,oe=k.y-m.y,I=E.x-M.x,E=E.y-M.y;if(ur.epsilon<(B=oe*I-re*E)*B){var B,E=(E*ie-I*ne)*(B=1/B);if(ur.epsilon<E&&E<1-ur.epsilon){I=(oe*ie-re*ne)*B;if(ur.epsilon<I&&I<1-ur.epsilon){d=!1;break}}}break}break}return d?(null==Tn.ValidationResult_VALID&&(Tn.internal=!0,Tn.ValidationResult_VALID=new Se,Tn.internal=!1),this.validation=Tn.ValidationResult_VALID):(null==Tn.ValidationResult_SELF_INTERSECTING&&(Tn.internal=!0,Tn.ValidationResult_SELF_INTERSECTING=new Se,Tn.internal=!1),this.validation=Tn.ValidationResult_SELF_INTERSECTING)}return this.validation},pi.prototype.validate_lverts=function(){this.zip_lverts&&(this.zip_lverts=!1,2<this.lverts.length&&(this.validate_area_inertia(),this.area<0&&(this.reverse_vertices(),this.area=-this.area)))},pi.prototype.cleanup_lvert=function(e){for(var t=null,i=null,n=this.lverts.next;null!=n&&n!=e;)t=(null==t?this.gverts:t).next,i=null==i?this.edges.head:i.next,n=n.next;var r=(null==t?this.gverts:t).next;this.gverts.erase(t);null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r._isimmutable=null,r._validate=null,r._invalidate=null,r.next=cr.zpp_pool,cr.zpp_pool=r,2==this.edgeCnt?((r=this.edges.pop_unsafe()).polygon=null,r.next=si.zpp_pool,si.zpp_pool=r,(r=this.edges.pop_unsafe()).polygon=null,r.next=si.zpp_pool,si.zpp_pool=r,this.edgeCnt=0):0!=this.edgeCnt&&(r=(null==i?this.edges.head:i.next).elt,this.edges.erase(i),(r=r).polygon=null,r.next=si.zpp_pool,si.zpp_pool=r,this.edgeCnt--)},pi.prototype.zip_sanitation=null,pi.prototype.splice_collinear=function(){this.zip_sanitation&&(this.zip_sanitation=!1,this.splice_collinear_real())},pi.prototype.splice_collinear_real=function(){if(null!=this.lverts.next&&null!=this.lverts.next.next&&null!=this.lverts.next.next.next){for(var e=null,t=this.lverts.next;null!=t;)var i=(null==t.next?this.lverts:t).next,n=t,r=n.x,n=n.y,t=(r=r-i.x)*r+(r=n-i.y)*r<ur.epsilon*ur.epsilon?(this.cleanup_lvert(t),this.lverts.erase(e)):(e=t).next;if(null!=this.lverts.next)for(;;){for(var o=!1,a=this.lverts.next;null!=a;)var s=(null==a.next?this.lverts:a).next,p=(null==s.next?this.lverts:s).next,l=a,h=s.x-l.x,l=s.y-l.y,u=p.x-s.x,p=(p.y-s.y)*h-u*l,a=(ur.epsilon*ur.epsilon<=p*p||(this.cleanup_lvert(s),this.lverts.erase(null==a.next?null:a),o=!0),a.next);if(!o)break}}},pi.prototype.reverse_vertices=function(){this.lverts.reverse(),this.gverts.reverse(),this.edges.reverse(),this.edges.insert(this.edges.iterator_at(this.edgeCnt-1),this.edges.pop_unsafe()),this.reverse_flag=!this.reverse_flag,null!=this.wrap_lverts&&(this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag),null!=this.wrap_gverts&&(this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag),null!=this.wrap_edges&&(this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag)},pi.prototype.validate_laxi=function(){if(this.zip_laxi){this.zip_laxi=!1,this.validate_lverts();for(var e=this.edges.head,t=i=this.lverts.next,i=i.next;null!=i;){var n=i,r=e.elt,e=e.next,o=(r.lp0=t,r.lp1=n,t.x-n.x),a=t.y-n.y,s=Math.sqrt(o*o+a*a),s=1/(r.length=s),s=(a*=s,o*=s);r.lprojection=(o=-a)*t.x+(a=s)*t.y,r.lnormx=o,r.lnormy=a,null!=r.wrap_lnorm&&(r.wrap_lnorm.zpp_inner.x=o,r.wrap_lnorm.zpp_inner.y=a),t=n,i=i.next}var p=this.lverts.next,l=e.elt,h=(l.lp0=t,l.lp1=p,t.x-p.x),p=t.y-p.y,u=Math.sqrt(h*h+p*p),u=1/(l.length=u),d=h*=u;l.lprojection=(h=-(p*=u))*t.x+(p=d)*t.y,l.lnormx=h,l.lnormy=p,null!=l.wrap_lnorm&&(l.wrap_lnorm.zpp_inner.x=h,l.wrap_lnorm.zpp_inner.y=p)}},pi.prototype.validate_gverts=function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1,this.validate_lverts();for(var e=this.body,t=(e.zip_axis&&(e.zip_axis=!1,e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)),this.lverts.next),i=this.gverts.next;null!=i;){var n=i,r=t,t=t.next;n.x=this.body.posx+(this.body.axisy*r.x-this.body.axisx*r.y),n.y=this.body.posy+(r.x*this.body.axisx+r.y*this.body.axisy),i=i.next}}},pi.prototype.validate_gaxi=function(){if(this.zip_gaxi&&null!=this.body){this.zip_gaxi=!1,this.validate_laxi();var e=this.body;if(e.zip_axis&&(e.zip_axis=!1,e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)),this.zip_gverts&&null!=this.body){this.zip_gverts=!1,this.validate_lverts();for(var e=this.body,t=(e.zip_axis&&(e.zip_axis=!1,e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)),this.lverts.next),i=this.gverts.next;null!=i;){var n=i,r=t,t=t.next;n.x=this.body.posx+(this.body.axisy*r.x-this.body.axisx*r.y),n.y=this.body.posy+(r.x*this.body.axisx+r.y*this.body.axisy),i=i.next}}for(var o=this.edges.head,a=s=this.gverts.next,s=s.next;null!=s;){var p=s,l=o.elt,o=o.next;l.gp0=a,l.gp1=p,l.gnormx=this.body.axisy*l.lnormx-this.body.axisx*l.lnormy,l.gnormy=l.lnormx*this.body.axisx+l.lnormy*this.body.axisy,l.gprojection=this.body.posx*l.gnormx+this.body.posy*l.gnormy+l.lprojection,null!=l.wrap_gnorm&&(l.wrap_gnorm.zpp_inner.x=l.gnormx,l.wrap_gnorm.zpp_inner.y=l.gnormy),l.tp0=l.gp0.y*l.gnormx-l.gp0.x*l.gnormy,l.tp1=l.gp1.y*l.gnormx-l.gp1.x*l.gnormy,a=p,s=s.next}e=o.elt;e.gp0=a,e.gp1=this.gverts.next,e.gnormx=this.body.axisy*e.lnormx-this.body.axisx*e.lnormy,e.gnormy=e.lnormx*this.body.axisx+e.lnormy*this.body.axisy,e.gprojection=this.body.posx*e.gnormx+this.body.posy*e.gnormy+e.lprojection,null!=e.wrap_gnorm&&(e.wrap_gnorm.zpp_inner.x=e.gnormx,e.wrap_gnorm.zpp_inner.y=e.gnormy),e.tp0=e.gp0.y*e.gnormx-e.gp0.x*e.gnormy,e.tp1=e.gp1.y*e.gnormx-e.gp1.x*e.gnormy}},pi.prototype.__validate_aabb=function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1,this.validate_lverts();for(var e=this.body,t=(e.zip_axis&&(e.zip_axis=!1,e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)),this.lverts.next),i=this.gverts.next;null!=i;){var n=i,r=t,t=t.next;n.x=this.body.posx+(this.body.axisy*r.x-this.body.axisx*r.y),n.y=this.body.posy+(r.x*this.body.axisx+r.y*this.body.axisy),i=i.next}}for(var e=this.gverts.next,o=(this.aabb.minx=e.x,this.aabb.miny=e.y,this.aabb.maxx=e.x,this.aabb.maxy=e.y,this.gverts.next.next);null!=o;){var a=o;a.x<this.aabb.minx&&(this.aabb.minx=a.x),a.x>this.aabb.maxx&&(this.aabb.maxx=a.x),a.y<this.aabb.miny&&(this.aabb.miny=a.y),a.y>this.aabb.maxy&&(this.aabb.maxy=a.y),o=o.next}},pi.prototype._force_validate_aabb=function(){for(var e=this.lverts.next,t=this.gverts.next,i=e,n=(e=e.next,t.x=this.body.posx+(this.body.axisy*i.x-this.body.axisx*i.y),t.y=this.body.posy+(i.x*this.body.axisx+i.y*this.body.axisy),this.aabb.minx=t.x,this.aabb.miny=t.y,this.aabb.maxx=t.x,this.aabb.maxy=t.y,this.gverts.next.next);null!=n;){var r=n,o=e,e=e.next;r.x=this.body.posx+(this.body.axisy*o.x-this.body.axisx*o.y),r.y=this.body.posy+(o.x*this.body.axisx+o.y*this.body.axisy),r.x<this.aabb.minx&&(this.aabb.minx=r.x),r.x>this.aabb.maxx&&(this.aabb.maxx=r.x),r.y<this.aabb.miny&&(this.aabb.miny=r.y),r.y>this.aabb.maxy&&(this.aabb.maxy=r.y),n=n.next}},pi.prototype.__validate_sweepRadius=function(){for(var e=0,t=0,i=(this.validate_laxi(),this.lverts.next);null!=i;){var n=i,n=n.x*n.x+n.y*n.y;e<n&&(e=n),i=i.next}for(var r=this.edges.head;null!=r;){var o=r.elt;if(o.lprojection<t&&(t=o.lprojection)<0)break;r=r.next}t<0&&(t=0),this.sweepRadius=Math.sqrt(e),this.sweepCoef=this.sweepRadius-t},pi.prototype.__validate_area_inertia=function(){if(null==this.lverts.next||null==this.lverts.next.next||null==this.lverts.next.next.next)this.area=0,this.inertia=0;else{var e=this.area=0,t=0,i=this.lverts.next,n=i,r=i=i.next;for(i=i.next;null!=i;){var o=i,a=r.y*n.x-r.x*n.y;e+=a*(r.x*r.x+r.y*r.y+(r.x*n.x+r.y*n.y)+(n.x*n.x+n.y*n.y)),t+=a,this.area+=r.x*(o.y-n.y),n=r,r=o,i=i.next}var s=i=this.lverts.next,p=r.y*n.x-r.x*n.y,p=(e+=p*(r.x*r.x+r.y*r.y+(r.x*n.x+r.y*n.y)+(n.x*n.x+n.y*n.y)),t+=p,this.area+=r.x*(s.y-n.y),n=r,i=i.next,s.y*n.x-s.x*n.y);e+=p*(s.x*s.x+s.y*s.y+(s.x*n.x+s.y*n.y)+(n.x*n.x+n.y*n.y)),t+=p,this.area+=s.x*(i.y-n.y),this.inertia=e/(6*t),this.area*=.5,this.area<0&&(this.area=-this.area,this.reverse_vertices())}},pi.prototype.__validate_angDrag=function(){this.validate_area_inertia(),this.validate_laxi();for(var e=0,t=this.edges.head,i=0,n=this.lverts.next,r=n,o=n.next;null!=o;){var a,s,p,l,h=o,u=t.elt,t=t.next,d=(i+=u.length,h.x-r.x),c=h.y-r.y,m=(e+=u.length*ur.fluidAngularDragFriction*this.material.dynamicFriction*u.lprojection*u.lprojection,-(r.y*u.lnormx-r.x*u.lnormy)/(c*u.lnormx-d*u.lnormy));0<m&&(s=p=0,p=r.x,s=r.y,p+=d*(l=1<m?1:m),s+=c*l,a=u.lnormy*r.x-u.lnormx*r.y,e+=((p=u.lnormy*p-u.lnormx*s)*p*p-a*a*a)/(3*(p-a))*l*u.length*ur.fluidAngularDrag),m<1&&(p=s=0,s=r.x,p=r.y,s+=d*(a=m<0?0:m),p+=c*a,l=u.lnormy*s-u.lnormx*p,e+=((d=u.lnormy*h.x-u.lnormx*h.y)*d*d-l*l*l)/(3*(d-l))*ur.fluidVacuumDrag*(1-a)*u.length*ur.fluidAngularDrag),r=h,o=o.next}for(;;){var y,_,x,f,g=o=this.lverts.next,v=t.elt,z=(t=t.next,i+=v.length,g.x-r.x),b=g.y-r.y,w=(e+=v.length*ur.fluidAngularDragFriction*this.material.dynamicFriction*v.lprojection*v.lprojection,-(r.y*v.lnormx-r.x*v.lnormy)/(b*v.lnormx-z*v.lnormy));0<w&&(_=x=0,x=r.x,_=r.y,x+=z*(f=1<w?1:w),_+=b*f,y=v.lnormy*r.x-v.lnormx*r.y,e+=((x=v.lnormy*x-v.lnormx*_)*x*x-y*y*y)/(3*(x-y))*f*v.length*ur.fluidAngularDrag),w<1&&(x=_=0,_=r.x,x=r.y,_+=z*(y=w<0?0:w),x+=b*y,f=v.lnormy*_-v.lnormx*x,e+=((z=v.lnormy*g.x-v.lnormx*g.y)*z*z-f*f*f)/(3*(z-f))*ur.fluidVacuumDrag*(1-y)*v.length*ur.fluidAngularDrag);break}this.angDrag=e/(this.inertia*i)},pi.prototype.__validate_localCOM=function(){if(null==this.lverts.next.next)this.localCOMx=this.lverts.next.x,this.localCOMy=this.lverts.next.y;else if(null==this.lverts.next.next.next)this.localCOMx=this.lverts.next.x,this.localCOMy=this.lverts.next.y,this.localCOMx+=this.lverts.next.next.x,this.localCOMy+=this.lverts.next.next.y,this.localCOMx*=.5,this.localCOMy*=.5;else{this.localCOMx=0;var e=this.localCOMy=0,t=this.lverts.next,i=t,n=t=t.next;for(t=t.next;null!=t;){var r=t,o=(e+=n.x*(r.y-i.y),r.y*n.x-r.x*n.y);this.localCOMx+=(n.x+r.x)*o,this.localCOMy+=(n.y+r.y)*o,i=n,n=r,t=t.next}var a=t=this.lverts.next,s=(e+=n.x*(a.y-i.y),a.y*n.x-a.x*n.y),s=(this.localCOMx+=(n.x+a.x)*s,this.localCOMy+=(n.y+a.y)*s,i=n,t=t.next),p=(e+=a.x*(s.y-i.y),s.y*a.x-s.x*a.y),a=(this.localCOMx+=(a.x+s.x)*p,this.localCOMy+=(a.y+s.y)*p,e=1/(3*e));this.localCOMx*=a,this.localCOMy*=a}},pi.prototype.localCOM_validate=function(){if(this.zip_localCOM){if(this.zip_localCOM=!1,1==this.type){var e=this.polygon;if(null==e.lverts.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y;else if(null==e.lverts.next.next.next)e.localCOMx=e.lverts.next.x,e.localCOMy=e.lverts.next.y,e.localCOMx+=e.lverts.next.next.x,e.localCOMy+=e.lverts.next.next.y,e.localCOMx*=.5,e.localCOMy*=.5;else{e.localCOMx=0;var t=e.localCOMy=0,i=e.lverts.next,n=i,r=i=i.next;for(i=i.next;null!=i;){var o=i,a=(t+=r.x*(o.y-n.y),o.y*r.x-o.x*r.y);e.localCOMx+=(r.x+o.x)*a,e.localCOMy+=(r.y+o.y)*a,n=r,r=o,i=i.next}var s=i=e.lverts.next,p=(t+=r.x*(s.y-n.y),s.y*r.x-s.x*r.y),p=(e.localCOMx+=(r.x+s.x)*p,e.localCOMy+=(r.y+s.y)*p,n=r,i=i.next),l=(t+=s.x*(p.y-n.y),p.y*s.x-p.x*s.y),s=(e.localCOMx+=(s.x+p.x)*l,e.localCOMy+=(s.y+p.y)*l,t=1/(3*t));e.localCOMx*=s,e.localCOMy*=s}}null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)}},pi.prototype.localCOM_invalidate=function(e){if(this.zip_localCOM){if(this.zip_localCOM=!1,1==this.type){var t=this.polygon;if(null==t.lverts.next.next)t.localCOMx=t.lverts.next.x,t.localCOMy=t.lverts.next.y;else if(null==t.lverts.next.next.next)t.localCOMx=t.lverts.next.x,t.localCOMy=t.lverts.next.y,t.localCOMx+=t.lverts.next.next.x,t.localCOMy+=t.lverts.next.next.y,t.localCOMx*=.5,t.localCOMy*=.5;else{t.localCOMx=0;var i=t.localCOMy=0,n=t.lverts.next,r=n,o=n=n.next;for(n=n.next;null!=n;){var a=n,s=(i+=o.x*(a.y-r.y),a.y*o.x-a.x*o.y);t.localCOMx+=(o.x+a.x)*s,t.localCOMy+=(o.y+a.y)*s,r=o,o=a,n=n.next}var p=n=t.lverts.next,l=(i+=o.x*(p.y-r.y),p.y*o.x-p.x*o.y),l=(t.localCOMx+=(o.x+p.x)*l,t.localCOMy+=(o.y+p.y)*l,r=o,n=n.next),h=(i+=p.x*(l.y-r.y),l.y*p.x-l.x*p.y),p=(t.localCOMx+=(p.x+l.x)*h,t.localCOMy+=(p.y+l.y)*h,i=1/(3*i));t.localCOMx*=p,t.localCOMy*=p}}null!=this.wrap_localCOM&&(this.wrap_localCOM.zpp_inner.x=this.localCOMx,this.wrap_localCOM.zpp_inner.y=this.localCOMy)}for(var u=e.x-this.localCOMx,d=e.y-this.localCOMy,c=this.lverts.next;null!=c;){var m=c;m.x+=u,m.y+=d,c=c.next}this.invalidate_lverts()},pi.prototype.setupLocalCOM=function(){var e,t,i=this.localCOMx,n=this.localCOMy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_localCOM=e,this.wrap_localCOM.zpp_inner._inuse=!0,this.wrap_localCOM.zpp_inner._validate=Z(this,this.localCOM_validate),this.wrap_localCOM.zpp_inner._invalidate=Z(this,this.localCOM_invalidate)},pi.prototype.__translate=function(e,t){for(var i=this.lverts.next;null!=i;){var n=i;n.x+=e,n.y+=t,i=i.next}this.invalidate_lverts()},pi.prototype.__scale=function(e,t){for(var i=this.lverts.next;null!=i;){var n=i;n.x*=e,n.y*=t,i=i.next}this.invalidate_lverts()},pi.prototype.__rotate=function(e,t){for(var i=this.lverts.next;null!=i;){var n=i,r=t*n.x-e*n.y,o=n.x*e+n.y*t;n.x=r,n.y=o,i=i.next}this.invalidate_lverts()},pi.prototype.__transform=function(e){for(var t=this.lverts.next;null!=t;){var i=t,n=e.zpp_inner.a*i.x+e.zpp_inner.b*i.y+e.zpp_inner.tx;i.y=e.zpp_inner.c*i.x+e.zpp_inner.d*i.y+e.zpp_inner.ty,i.x=n,t=t.next}this.invalidate_lverts()},pi.prototype.__copy=function(){var e=this.outer_zn;return null==e.zpp_inner_zn.wrap_lverts&&e.zpp_inner_zn.getlverts(),new ze(e.zpp_inner_zn.wrap_lverts).zpp_inner_zn},pi.prototype.__class__=pi,zpp_nape.space.ZPP_Broadphase=function(){this.circShape=null,this.matrix=null,this.aabbShape=null,this.dynab=null,this.sweep=null,this.is_sweep=!1,this.space=null}),hi=(li.__name__=["zpp_nape","space","ZPP_Broadphase"],li.prototype.space=null,li.prototype.is_sweep=null,li.prototype.sweep=null,li.prototype.dynab=null,li.prototype.insert=function(e){(this.is_sweep?this.sweep:this.dynab).__insert(e)},li.prototype.remove=function(e){(this.is_sweep?this.sweep:this.dynab).__remove(e)},li.prototype.sync=function(e){if(this.is_sweep){if(!this.sweep.space.continuous&&e.zip_aabb&&null!=e.body)if(e.zip_aabb=!1,0==e.type){var t=e.circle;if(t.zip_worldCOM&&null!=t.body){if(t.zip_worldCOM=!1,t.zip_localCOM){if(t.zip_localCOM=!1,1==t.type){var i=t.polygon;if(null==i.lverts.next.next)i.localCOMx=i.lverts.next.x,i.localCOMy=i.lverts.next.y;else if(null==i.lverts.next.next.next)i.localCOMx=i.lverts.next.x,i.localCOMy=i.lverts.next.y,i.localCOMx+=i.lverts.next.next.x,i.localCOMy+=i.lverts.next.next.y,i.localCOMx*=.5,i.localCOMy*=.5;else{i.localCOMx=0;var n=i.localCOMy=0,r=i.lverts.next,o=r,a=r=r.next;for(r=r.next;null!=r;){var s=r,p=(n+=a.x*(s.y-o.y),s.y*a.x-s.x*a.y);i.localCOMx+=(a.x+s.x)*p,i.localCOMy+=(a.y+s.y)*p,o=a,a=s,r=r.next}var l=r=i.lverts.next,h=(n+=a.x*(l.y-o.y),l.y*a.x-l.x*a.y),h=(i.localCOMx+=(a.x+l.x)*h,i.localCOMy+=(a.y+l.y)*h,o=a,r=r.next),u=(n+=l.x*(h.y-o.y),h.y*l.x-h.x*l.y),l=(i.localCOMx+=(l.x+h.x)*u,i.localCOMy+=(l.y+h.y)*u,n=1/(3*n));i.localCOMx*=l,i.localCOMy*=l}}null!=t.wrap_localCOM&&(t.wrap_localCOM.zpp_inner.x=t.localCOMx,t.wrap_localCOM.zpp_inner.y=t.localCOMy)}h=t.body;h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),t.worldCOMx=t.body.posx+(t.body.axisy*t.localCOMx-t.body.axisx*t.localCOMy),t.worldCOMy=t.body.posy+(t.localCOMx*t.body.axisx+t.localCOMy*t.body.axisy)}u=t.radius,l=t.radius;t.aabb.minx=t.worldCOMx-u,t.aabb.miny=t.worldCOMy-l,t.aabb.maxx=t.worldCOMx+u,t.aabb.maxy=t.worldCOMy+l}else{var d=e.polygon;if(d.zip_gverts&&null!=d.body){d.zip_gverts=!1,d.validate_lverts();for(var h=d.body,c=(h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),d.lverts.next),m=d.gverts.next;null!=m;){var y=m,_=c,c=c.next;y.x=d.body.posx+(d.body.axisy*_.x-d.body.axisx*_.y),y.y=d.body.posy+(_.x*d.body.axisx+_.y*d.body.axisy),m=m.next}}for(var u=d.gverts.next,x=(d.aabb.minx=u.x,d.aabb.miny=u.y,d.aabb.maxx=u.x,d.aabb.maxy=u.y,d.gverts.next.next);null!=x;){var f=x;f.x<d.aabb.minx&&(d.aabb.minx=f.x),f.x>d.aabb.maxx&&(d.aabb.maxx=f.x),f.y<d.aabb.miny&&(d.aabb.miny=f.y),f.y>d.aabb.maxy&&(d.aabb.maxy=f.y),x=x.next}}}else{t=this.dynab,l=e.node;if(!l.synced){if(!t.space.continuous&&e.zip_aabb&&null!=e.body)if(e.zip_aabb=!1,0==e.type){h=e.circle;if(h.zip_worldCOM&&null!=h.body){if(h.zip_worldCOM=!1,h.zip_localCOM){if(h.zip_localCOM=!1,1==h.type){var g=h.polygon;if(null==g.lverts.next.next)g.localCOMx=g.lverts.next.x,g.localCOMy=g.lverts.next.y;else if(null==g.lverts.next.next.next)g.localCOMx=g.lverts.next.x,g.localCOMy=g.lverts.next.y,g.localCOMx+=g.lverts.next.next.x,g.localCOMy+=g.lverts.next.next.y,g.localCOMx*=.5,g.localCOMy*=.5;else{g.localCOMx=0;var v=g.localCOMy=0,z=g.lverts.next,b=z,w=z=z.next;for(z=z.next;null!=z;){var S=z,C=(v+=w.x*(S.y-b.y),S.y*w.x-S.x*w.y);g.localCOMx+=(w.x+S.x)*C,g.localCOMy+=(w.y+S.y)*C,b=w,w=S,z=z.next}var u=z=g.lverts.next,k=(v+=w.x*(u.y-b.y),u.y*w.x-u.x*w.y),k=(g.localCOMx+=(w.x+u.x)*k,g.localCOMy+=(w.y+u.y)*k,b=w,z=z.next),M=(v+=u.x*(k.y-b.y),k.y*u.x-k.x*u.y),u=(g.localCOMx+=(u.x+k.x)*M,g.localCOMy+=(u.y+k.y)*M,v=1/(3*v));g.localCOMx*=u,g.localCOMy*=u}}null!=h.wrap_localCOM&&(h.wrap_localCOM.zpp_inner.x=h.localCOMx,h.wrap_localCOM.zpp_inner.y=h.localCOMy)}k=h.body;k.zip_axis&&(k.zip_axis=!1,k.axisx=Math.sin(k.rot),k.axisy=Math.cos(k.rot)),h.worldCOMx=h.body.posx+(h.body.axisy*h.localCOMx-h.body.axisx*h.localCOMy),h.worldCOMy=h.body.posy+(h.localCOMx*h.body.axisx+h.localCOMy*h.body.axisy)}M=h.radius,u=h.radius;h.aabb.minx=h.worldCOMx-M,h.aabb.miny=h.worldCOMy-u,h.aabb.maxx=h.worldCOMx+M,h.aabb.maxy=h.worldCOMy+u}else{var P=e.polygon;if(P.zip_gverts&&null!=P.body){P.zip_gverts=!1,P.validate_lverts();for(var k=P.body,O=(k.zip_axis&&(k.zip_axis=!1,k.axisx=Math.sin(k.rot),k.axisy=Math.cos(k.rot)),P.lverts.next),T=P.gverts.next;null!=T;){var G=T,A=O,O=O.next;G.x=P.body.posx+(P.body.axisy*A.x-P.body.axisx*A.y),G.y=P.body.posy+(A.x*P.body.axisx+A.y*P.body.axisy),T=T.next}}for(var M=P.gverts.next,E=(P.aabb.minx=M.x,P.aabb.miny=M.y,P.aabb.maxx=M.x,P.aabb.maxy=M.y,P.gverts.next.next);null!=E;){var I=E;I.x<P.aabb.minx&&(P.aabb.minx=I.x),I.x>P.aabb.maxx&&(P.aabb.maxx=I.x),I.y<P.aabb.miny&&(P.aabb.miny=I.y),I.y>P.aabb.maxy&&(P.aabb.maxy=I.y),E=E.next}}(l.dyn!=(1!=e.body.type&&!e.body.component.sleeping)||(h=l.aabb,!((u=e.aabb).minx>=h.minx&&u.miny>=h.miny&&u.maxx<=h.maxx&&u.maxy<=h.maxy)))&&(l.synced=!0,l.snext=t.syncs,t.syncs=l)}}},li.prototype.broadphase=function(e,t){},li.prototype.clear=function(){},li.prototype.shapesUnderPoint=function(e,t,i,n){return null},li.prototype.bodiesUnderPoint=function(e,t,i,n){return null},li.prototype.aabbShape=null,li.prototype.matrix=null,li.prototype.updateAABBShape=function(e){null==this.aabbShape?(null==Tn.BodyType_STATIC&&(Tn.internal=!0,Tn.BodyType_STATIC=new oe,Tn.internal=!1),u=new G(Tn.BodyType_STATIC).zpp_inner.wrap_shapes,c=this.aabbShape=new ze(ze.rect(e.minx,e.miny,e.maxx-e.minx,e.maxy-e.miny)),u.zpp_inner.reverse_flag?u.push(c):u.unshift(c)):(u=this.aabbShape.zpp_inner.aabb,c=(e.maxx-e.minx)/(u.maxx-u.minx),h=(e.maxy-e.miny)/(u.maxy-u.miny),null==this.matrix&&(this.matrix=new K),(d=this.matrix).zpp_inner.a=c,null!=(d=d.zpp_inner)._invalidate&&d._invalidate(),d=this.matrix,(i=this.matrix).zpp_inner.c=0,null!=(t=i.zpp_inner)._invalidate&&t._invalidate(),d.zpp_inner.b=i.zpp_inner.c,null!=(t=d.zpp_inner)._invalidate&&t._invalidate(),(i=this.matrix).zpp_inner.d=h,null!=(d=i.zpp_inner)._invalidate&&d._invalidate(),(t=this.matrix).zpp_inner.tx=e.minx-c*u.minx,null!=(i=t.zpp_inner)._invalidate&&i._invalidate(),(d=this.matrix).zpp_inner.ty=e.miny-h*u.miny,null!=(c=d.zpp_inner)._invalidate&&c._invalidate(),this.aabbShape.transform(this.matrix));var t=this.aabbShape.zpp_inner;if(t.zip_aabb&&null!=t.body)if(t.zip_aabb=!1,0==t.type){var i=t.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var n=i.polygon;if(null==n.lverts.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y;else if(null==n.lverts.next.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y,n.localCOMx+=n.lverts.next.next.x,n.localCOMy+=n.lverts.next.next.y,n.localCOMx*=.5,n.localCOMy*=.5;else{n.localCOMx=0;var r=n.localCOMy=0,o=n.lverts.next,a=o,s=o=o.next;for(o=o.next;null!=o;){var p=o,l=(r+=s.x*(p.y-a.y),p.y*s.x-p.x*s.y);n.localCOMx+=(s.x+p.x)*l,n.localCOMy+=(s.y+p.y)*l,a=s,s=p,o=o.next}var e=o=n.lverts.next,h=(r+=s.x*(e.y-a.y),e.y*s.x-e.x*s.y),u=(n.localCOMx+=(s.x+e.x)*h,n.localCOMy+=(s.y+e.y)*h,a=s,o=o.next),d=(r+=e.x*(u.y-a.y),u.y*e.x-u.x*e.y),c=(n.localCOMx+=(e.x+u.x)*d,n.localCOMy+=(e.y+u.y)*d,r=1/(3*r));n.localCOMx*=c,n.localCOMy*=c}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}h=i.body;h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}e=i.radius,u=i.radius;i.aabb.minx=i.worldCOMx-e,i.aabb.miny=i.worldCOMy-u,i.aabb.maxx=i.worldCOMx+e,i.aabb.maxy=i.worldCOMy+u}else{var m=t.polygon;if(m.zip_gverts&&null!=m.body){m.zip_gverts=!1,m.validate_lverts();for(var d=m.body,y=(d.zip_axis&&(d.zip_axis=!1,d.axisx=Math.sin(d.rot),d.axisy=Math.cos(d.rot)),m.lverts.next),_=m.gverts.next;null!=_;){var x=_,f=y,y=y.next;x.x=m.body.posx+(m.body.axisy*f.x-m.body.axisx*f.y),x.y=m.body.posy+(f.x*m.body.axisx+f.y*m.body.axisy),_=_.next}}for(var c=m.gverts.next,g=(m.aabb.minx=c.x,m.aabb.miny=c.y,m.aabb.maxx=c.x,m.aabb.maxy=c.y,m.gverts.next.next);null!=g;){var v=g;v.x<m.aabb.minx&&(m.aabb.minx=v.x),v.x>m.aabb.maxx&&(m.aabb.maxx=v.x),v.y<m.aabb.miny&&(m.aabb.miny=v.y),v.y>m.aabb.maxy&&(m.aabb.maxy=v.y),g=g.next}}var z=this.aabbShape.zpp_inner.polygon;if(z.zip_gaxi&&null!=z.body){z.zip_gaxi=!1,z.validate_laxi();h=z.body;if(h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),z.zip_gverts&&null!=z.body){z.zip_gverts=!1,z.validate_lverts();for(var e=z.body,b=(e.zip_axis&&(e.zip_axis=!1,e.axisx=Math.sin(e.rot),e.axisy=Math.cos(e.rot)),z.lverts.next),w=z.gverts.next;null!=w;){var S=w,C=b,b=b.next;S.x=z.body.posx+(z.body.axisy*C.x-z.body.axisx*C.y),S.y=z.body.posy+(C.x*z.body.axisx+C.y*z.body.axisy),w=w.next}}for(var k=z.edges.head,M=P=z.gverts.next,P=P.next;null!=P;){var O=P,T=k.elt,k=k.next;T.gp0=M,T.gp1=O,T.gnormx=z.body.axisy*T.lnormx-z.body.axisx*T.lnormy,T.gnormy=T.lnormx*z.body.axisx+T.lnormy*z.body.axisy,T.gprojection=z.body.posx*T.gnormx+z.body.posy*T.gnormy+T.lprojection,null!=T.wrap_gnorm&&(T.wrap_gnorm.zpp_inner.x=T.gnormx,T.wrap_gnorm.zpp_inner.y=T.gnormy),T.tp0=T.gp0.y*T.gnormx-T.gp0.x*T.gnormy,T.tp1=T.gp1.y*T.gnormx-T.gp1.x*T.gnormy,M=O,P=P.next}i=k.elt;i.gp0=M,i.gp1=z.gverts.next,i.gnormx=z.body.axisy*i.lnormx-z.body.axisx*i.lnormy,i.gnormy=i.lnormx*z.body.axisx+i.lnormy*z.body.axisy,i.gprojection=z.body.posx*i.gnormx+z.body.posy*i.gnormy+i.lprojection,null!=i.wrap_gnorm&&(i.wrap_gnorm.zpp_inner.x=i.gnormx,i.wrap_gnorm.zpp_inner.y=i.gnormy),i.tp0=i.gp0.y*i.gnormx-i.gp0.x*i.gnormy,i.tp1=i.gp1.y*i.gnormx-i.gp1.x*i.gnormy}},li.prototype.shapesInAABB=function(e,t,i,n,r){return null},li.prototype.bodiesInAABB=function(e,t,i,n,r){return null},li.prototype.circShape=null,li.prototype.updateCircShape=function(e,t,i){null==this.circShape?(null==Tn.BodyType_STATIC&&(Tn.internal=!0,Tn.BodyType_STATIC=new oe,Tn.internal=!1),u=new G(Tn.BodyType_STATIC).zpp_inner.wrap_shapes,null==yi.poolVec2?d=new xe:(d=yi.poolVec2,yi.poolVec2=d.zpp_pool,d.zpp_pool=null),null==d.zpp_inner?(null==cr.zpp_pool?n=new cr:(n=cr.zpp_pool,cr.zpp_pool=n.next,n.next=null),n.weak=!1,n._immutable=!1,n.x=e,n.y=t,d.zpp_inner=n,d.zpp_inner.outer=d):(null!=(n=d.zpp_inner)._validate&&n._validate(),d.zpp_inner.x==e&&(null!=(n=d.zpp_inner)._validate&&n._validate(),d.zpp_inner.y==t)||(d.zpp_inner.x=e,d.zpp_inner.y=t,null!=(n=d.zpp_inner)._invalidate&&n._invalidate(n))),d.zpp_inner.weak=!1,n=this.circShape=new _e(i,d),u.zpp_inner.reverse_flag?u.push(n):u.unshift(n)):(u=i/(d=this.circShape.zpp_inner.circle).radius,null==this.matrix&&(this.matrix=new K),n=this.matrix,(i=this.matrix).zpp_inner.d=u,null!=(c=i.zpp_inner)._invalidate&&c._invalidate(),n.zpp_inner.a=i.zpp_inner.d,null!=(c=n.zpp_inner)._invalidate&&c._invalidate(),i=this.matrix,(n=this.matrix).zpp_inner.c=0,null!=(c=n.zpp_inner)._invalidate&&c._invalidate(),i.zpp_inner.b=n.zpp_inner.c,null!=(c=i.zpp_inner)._invalidate&&c._invalidate(),(n=this.matrix).zpp_inner.tx=e-u*d.localCOMx,null!=(i=n.zpp_inner)._invalidate&&i._invalidate(),(c=this.matrix).zpp_inner.ty=t-u*d.localCOMy,null!=(e=c.zpp_inner)._invalidate&&e._invalidate(),this.circShape.transform(this.matrix));var n=this.circShape.zpp_inner;if(n.zip_aabb&&null!=n.body)if(n.zip_aabb=!1,0==n.type){i=n.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var r=i.polygon;if(null==r.lverts.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y;else if(null==r.lverts.next.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y,r.localCOMx+=r.lverts.next.next.x,r.localCOMy+=r.lverts.next.next.y,r.localCOMx*=.5,r.localCOMy*=.5;else{r.localCOMx=0;var o=r.localCOMy=0,a=r.lverts.next,s=a,p=a=a.next;for(a=a.next;null!=a;){var l=a,h=(o+=p.x*(l.y-s.y),l.y*p.x-l.x*p.y);r.localCOMx+=(p.x+l.x)*h,r.localCOMy+=(p.y+l.y)*h,s=p,p=l,a=a.next}var t=a=r.lverts.next,u=(o+=p.x*(t.y-s.y),t.y*p.x-t.x*p.y),d=(r.localCOMx+=(p.x+t.x)*u,r.localCOMy+=(p.y+t.y)*u,s=p,a=a.next),c=(o+=t.x*(d.y-s.y),d.y*t.x-d.x*t.y),e=(r.localCOMx+=(t.x+d.x)*c,r.localCOMy+=(t.y+d.y)*c,o=1/(3*o));r.localCOMx*=e,r.localCOMy*=e}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}u=i.body;u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}t=i.radius,d=i.radius;i.aabb.minx=i.worldCOMx-t,i.aabb.miny=i.worldCOMy-d,i.aabb.maxx=i.worldCOMx+t,i.aabb.maxy=i.worldCOMy+d}else{var m=n.polygon;if(m.zip_gverts&&null!=m.body){m.zip_gverts=!1,m.validate_lverts();for(var c=m.body,y=(c.zip_axis&&(c.zip_axis=!1,c.axisx=Math.sin(c.rot),c.axisy=Math.cos(c.rot)),m.lverts.next),_=m.gverts.next;null!=_;){var x=_,f=y,y=y.next;x.x=m.body.posx+(m.body.axisy*f.x-m.body.axisx*f.y),x.y=m.body.posy+(f.x*m.body.axisx+f.y*m.body.axisy),_=_.next}}for(var e=m.gverts.next,g=(m.aabb.minx=e.x,m.aabb.miny=e.y,m.aabb.maxx=e.x,m.aabb.maxy=e.y,m.gverts.next.next);null!=g;){var v=g;v.x<m.aabb.minx&&(m.aabb.minx=v.x),v.x>m.aabb.maxx&&(m.aabb.maxx=v.x),v.y<m.aabb.miny&&(m.aabb.miny=v.y),v.y>m.aabb.maxy&&(m.aabb.maxy=v.y),g=g.next}}},li.prototype.shapesInCircle=function(e,t,i,n,r,o){return null},li.prototype.bodiesInCircle=function(e,t,i,n,r,o){return null},li.prototype.validateShape=function(e){if(1==e.type){var t=e.polygon;if(t.zip_gaxi&&null!=t.body){t.zip_gaxi=!1,t.validate_laxi();var i=t.body;if(i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),t.zip_gverts&&null!=t.body){t.zip_gverts=!1,t.validate_lverts();for(var i=t.body,n=(i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),t.lverts.next),r=t.gverts.next;null!=r;){var o=r,a=n,n=n.next;o.x=t.body.posx+(t.body.axisy*a.x-t.body.axisx*a.y),o.y=t.body.posy+(a.x*t.body.axisx+a.y*t.body.axisy),r=r.next}}for(var s=t.edges.head,p=l=t.gverts.next,l=l.next;null!=l;){var h=l,u=s.elt,s=s.next;u.gp0=p,u.gp1=h,u.gnormx=t.body.axisy*u.lnormx-t.body.axisx*u.lnormy,u.gnormy=u.lnormx*t.body.axisx+u.lnormy*t.body.axisy,u.gprojection=t.body.posx*u.gnormx+t.body.posy*u.gnormy+u.lprojection,null!=u.wrap_gnorm&&(u.wrap_gnorm.zpp_inner.x=u.gnormx,u.wrap_gnorm.zpp_inner.y=u.gnormy),u.tp0=u.gp0.y*u.gnormx-u.gp0.x*u.gnormy,u.tp1=u.gp1.y*u.gnormx-u.gp1.x*u.gnormy,p=h,l=l.next}i=s.elt;i.gp0=p,i.gp1=t.gverts.next,i.gnormx=t.body.axisy*i.lnormx-t.body.axisx*i.lnormy,i.gnormy=i.lnormx*t.body.axisx+i.lnormy*t.body.axisy,i.gprojection=t.body.posx*i.gnormx+t.body.posy*i.gnormy+i.lprojection,null!=i.wrap_gnorm&&(i.wrap_gnorm.zpp_inner.x=i.gnormx,i.wrap_gnorm.zpp_inner.y=i.gnormy),i.tp0=i.gp0.y*i.gnormx-i.gp0.x*i.gnormy,i.tp1=i.gp1.y*i.gnormx-i.gp1.x*i.gnormy}}if(e.zip_aabb&&null!=e.body)if(e.zip_aabb=!1,0==e.type){i=e.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var d=i.polygon;if(null==d.lverts.next.next)d.localCOMx=d.lverts.next.x,d.localCOMy=d.lverts.next.y;else if(null==d.lverts.next.next.next)d.localCOMx=d.lverts.next.x,d.localCOMy=d.lverts.next.y,d.localCOMx+=d.lverts.next.next.x,d.localCOMy+=d.lverts.next.next.y,d.localCOMx*=.5,d.localCOMy*=.5;else{d.localCOMx=0;var c=d.localCOMy=0,m=d.lverts.next,y=m,_=m=m.next;for(m=m.next;null!=m;){var x=m,f=(c+=_.x*(x.y-y.y),x.y*_.x-x.x*_.y);d.localCOMx+=(_.x+x.x)*f,d.localCOMy+=(_.y+x.y)*f,y=_,_=x,m=m.next}var g=m=d.lverts.next,v=(c+=_.x*(g.y-y.y),g.y*_.x-g.x*_.y),v=(d.localCOMx+=(_.x+g.x)*v,d.localCOMy+=(_.y+g.y)*v,y=_,m=m.next),z=(c+=g.x*(v.y-y.y),v.y*g.x-v.x*g.y),g=(d.localCOMx+=(g.x+v.x)*z,d.localCOMy+=(g.y+v.y)*z,c=1/(3*c));d.localCOMx*=g,d.localCOMy*=g}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}v=i.body;v.zip_axis&&(v.zip_axis=!1,v.axisx=Math.sin(v.rot),v.axisy=Math.cos(v.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}z=i.radius,g=i.radius;i.aabb.minx=i.worldCOMx-z,i.aabb.miny=i.worldCOMy-g,i.aabb.maxx=i.worldCOMx+z,i.aabb.maxy=i.worldCOMy+g}else{var b=e.polygon;if(b.zip_gverts&&null!=b.body){b.zip_gverts=!1,b.validate_lverts();for(var v=b.body,w=(v.zip_axis&&(v.zip_axis=!1,v.axisx=Math.sin(v.rot),v.axisy=Math.cos(v.rot)),b.lverts.next),S=b.gverts.next;null!=S;){var C=S,k=w,w=w.next;C.x=b.body.posx+(b.body.axisy*k.x-b.body.axisx*k.y),C.y=b.body.posy+(k.x*b.body.axisx+k.y*b.body.axisy),S=S.next}}for(var z=b.gverts.next,M=(b.aabb.minx=z.x,b.aabb.miny=z.y,b.aabb.maxx=z.x,b.aabb.maxy=z.y,b.gverts.next.next);null!=M;){var P=M;P.x<b.aabb.minx&&(b.aabb.minx=P.x),P.x>b.aabb.maxx&&(b.aabb.maxx=P.x),P.y<b.aabb.miny&&(b.aabb.miny=P.y),P.y>b.aabb.maxy&&(b.aabb.maxy=P.y),M=M.next}}if(e.zip_worldCOM&&null!=e.body){if(e.zip_worldCOM=!1,e.zip_localCOM){if(e.zip_localCOM=!1,1==e.type){var O=e.polygon;if(null==O.lverts.next.next)O.localCOMx=O.lverts.next.x,O.localCOMy=O.lverts.next.y;else if(null==O.lverts.next.next.next)O.localCOMx=O.lverts.next.x,O.localCOMy=O.lverts.next.y,O.localCOMx+=O.lverts.next.next.x,O.localCOMy+=O.lverts.next.next.y,O.localCOMx*=.5,O.localCOMy*=.5;else{O.localCOMx=0;var T=O.localCOMy=0,G=O.lverts.next,A=G,E=G=G.next;for(G=G.next;null!=G;){var I=G,B=(T+=E.x*(I.y-A.y),I.y*E.x-I.x*E.y);O.localCOMx+=(E.x+I.x)*B,O.localCOMy+=(E.y+I.y)*B,A=E,E=I,G=G.next}i=G=O.lverts.next,g=(T+=E.x*(i.y-A.y),i.y*E.x-i.x*E.y),v=(O.localCOMx+=(E.x+i.x)*g,O.localCOMy+=(E.y+i.y)*g,A=E,G=G.next),z=(T+=i.x*(v.y-A.y),v.y*i.x-v.x*i.y),g=(O.localCOMx+=(i.x+v.x)*z,O.localCOMy+=(i.y+v.y)*z,T=1/(3*T));O.localCOMx*=g,O.localCOMy*=g}}null!=e.wrap_localCOM&&(e.wrap_localCOM.zpp_inner.x=e.localCOMx,e.wrap_localCOM.zpp_inner.y=e.localCOMy)}i=e.body;i.zip_axis&&(i.zip_axis=!1,i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)),e.worldCOMx=e.body.posx+(e.body.axisy*e.localCOMx-e.body.axisx*e.localCOMy),e.worldCOMy=e.body.posy+(e.localCOMx*e.body.axisx+e.localCOMy*e.body.axisy)}},li.prototype.shapesInShape=function(e,t,i,n){return null},li.prototype.bodiesInShape=function(e,t,i,n){return null},li.prototype.rayCast=function(e,t,i){return null},li.prototype.rayMultiCast=function(e,t,i,n){return null},li.prototype.__class__=li,zpp_nape.space.ZPP_AABBNode=function(){this.first_sync=!1,this.synced=!1,this.snext=null,this.moved=!1,this.mnext=null,this.next=null,this.rayt=0,this.height=0,this.child2=null,this.child1=null,this.parent=null,this.dyn=!1,this.shape=null,this.aabb=null,this.height=-1}),ui=(hi.__name__=["zpp_nape","space","ZPP_AABBNode"],hi.prototype.aabb=null,hi.prototype.shape=null,hi.prototype.dyn=null,hi.prototype.parent=null,hi.prototype.child1=null,hi.prototype.child2=null,hi.prototype.height=null,hi.prototype.rayt=null,hi.prototype.next=null,hi.prototype.alloc=function(){null==Nt.zpp_pool?this.aabb=new Nt:(this.aabb=Nt.zpp_pool,Nt.zpp_pool=this.aabb.next,this.aabb.next=null),this.moved=!1,this.synced=!1,this.first_sync=!1},hi.prototype.free=function(){this.height=-1;var e=this.aabb;null!=e.outer&&(e.outer.zpp_inner=null,e.outer=null),e.wrap_min=e.wrap_max=null,e._invalidate=null,e._validate=null,e.next=Nt.zpp_pool,Nt.zpp_pool=e,this.child1=this.child2=this.parent=null,this.next=null,this.snext=null,this.mnext=null},hi.prototype.mnext=null,hi.prototype.moved=null,hi.prototype.snext=null,hi.prototype.synced=null,hi.prototype.first_sync=null,hi.prototype.isLeaf=function(){return null==this.child1},hi.prototype.__class__=hi,zpp_nape.space.ZPP_AABBPair=function(){this.next=null,this.arb=null,this.di=0,this.id=0,this.sleeping=!1,this.first=!1,this.n2=null,this.n1=null}),di=(ui.__name__=["zpp_nape","space","ZPP_AABBPair"],ui.prototype.n1=null,ui.prototype.n2=null,ui.prototype.first=null,ui.prototype.sleeping=null,ui.prototype.id=null,ui.prototype.di=null,ui.prototype.arb=null,ui.prototype.next=null,ui.prototype.alloc=function(){},ui.prototype.free=function(){this.n1=this.n2=null,this.sleeping=!1},ui.prototype.__class__=ui,zpp_nape.space.ZPP_AABBTree=function(){this.root=null}),ci=(di.__name__=["zpp_nape","space","ZPP_AABBTree"],di.prototype.root=null,di.prototype.clear=function(){if(null!=this.root){var e=null;for(this.root.next=e,e=this.root;null!=e;){var t=e,e=t.next,i=((t.next=null)==t.child1?(t.shape.node=null,t.shape.removedFromSpace(),t.shape=null):(null!=t.child1&&(t.child1.next=e,e=t.child1),null!=t.child2&&(t.child2.next=e,e=t.child2)),t.height=-1,t.aabb);null!=i.outer&&(i.outer.zpp_inner=null,i.outer=null),i.wrap_min=i.wrap_max=null,i._invalidate=null,i._validate=null,i.next=Nt.zpp_pool,Nt.zpp_pool=i,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t}this.root=null}},di.prototype.insertLeaf=function(e){if(null==this.root)this.root=e,this.root.parent=null;else{for(var t=e.aabb,i=this.root;null!=i.child1;){var n=i.child1,r=i.child2,o=i.aabb,o=2*(o.maxx-o.minx+(o.maxy-o.miny)),a=di.tmpaabb,s=i.aabb,a=(a.minx=(s.minx<t.minx?s:t).minx,a.miny=(s.miny<t.miny?s:t).miny,a.maxx=(s.maxx>t.maxx?s:t).maxx,a.maxy=(s.maxy>t.maxy?s:t).maxy,di.tmpaabb),s=2*(a.maxx-a.minx+(a.maxy-a.miny)),a=2*s,s=2*(s-o),o=di.tmpaabb,p=n.aabb,o=(o.minx=(t.minx<p.minx?t:p).minx,o.miny=(t.miny<p.miny?t:p).miny,o.maxx=(t.maxx>p.maxx?t:p).maxx,o.maxy=(t.maxy>p.maxy?t:p).maxy,p=null==n.child1?2*((o=di.tmpaabb).maxx-o.minx+(o.maxy-o.miny))+s:(o=2*((p=n.aabb).maxx-p.minx+(p.maxy-p.miny)),2*((p=di.tmpaabb).maxx-p.minx+(p.maxy-p.miny))-o+s),di.tmpaabb),l=r.aabb;if(o.minx=(t.minx<l.minx?t:l).minx,o.miny=(t.miny<l.miny?t:l).miny,o.maxx=(t.maxx>l.maxx?t:l).maxx,o.maxy=(t.maxy>l.maxy?t:l).maxy,l=null==r.child1?2*((o=di.tmpaabb).maxx-o.minx+(o.maxy-o.miny))+s:(o=2*((l=r.aabb).maxx-l.minx+(l.maxy-l.miny)),2*((l=di.tmpaabb).maxx-l.minx+(l.maxy-l.miny))-o+s),a<p&&a<l)break;i=p<l?n:r}var h,u=i,d=u.parent,c=(null==hi.zpp_pool?h=new hi:(h=hi.zpp_pool,hi.zpp_pool=h.next,h.next=null),null==Nt.zpp_pool?h.aabb=new Nt:(h.aabb=Nt.zpp_pool,Nt.zpp_pool=h.aabb.next,h.aabb.next=null),h.moved=!1,h.synced=!1,h.first_sync=!1,h.parent=d,h.aabb),m=u.aabb;for(c.minx=(t.minx<m.minx?t:m).minx,c.miny=(t.miny<m.miny?t:m).miny,c.maxx=(t.maxx>m.maxx?t:m).maxx,c.maxy=(t.maxy>m.maxy?t:m).maxy,h.height=u.height+1,null!=d?(d.child1==u?d.child1=h:d.child2=h,h.child1=u,h.child2=e,u.parent=h,e.parent=h):(h.child1=u,h.child2=e,u.parent=h,e.parent=h,this.root=h),i=e.parent;null!=i;){null==i.child1||i.height<2||(O=i.child1,1<(C=(P=i.child2).height-O.height)?(b=P.child1,v=P.child2,P.child1=i,P.parent=i.parent,null!=(i.parent=P).parent?P.parent.child1==i?P.parent.child1=P:P.parent.child2=P:this.root=P,b.height>v.height?(P.child2=b,x=((i.child2=v).parent=i).aabb,y=O.aabb,_=v.aabb,x.minx=(y.minx<_.minx?y:_).minx,x.miny=(y.miny<_.miny?y:_).miny,x.maxx=(y.maxx>_.maxx?y:_).maxx,x.maxy=(y.maxy>_.maxy?y:_).maxy,x=P.aabb,y=i.aabb,_=b.aabb,x.minx=(y.minx<_.minx?y:_).minx,x.miny=(y.miny<_.miny?y:_).miny,x.maxx=(y.maxx>_.maxx?y:_).maxx,x.maxy=(y.maxy>_.maxy?y:_).maxy,x=O.height,y=v.height,i.height=1+(y<x?x:y),_=i.height,x=b.height,P.height=1+(x<_?_:x)):(P.child2=v,y=((i.child2=b).parent=i).aabb,_=O.aabb,x=b.aabb,y.minx=(_.minx<x.minx?_:x).minx,y.miny=(_.miny<x.miny?_:x).miny,y.maxx=(_.maxx>x.maxx?_:x).maxx,y.maxy=(_.maxy>x.maxy?_:x).maxy,f=P.aabb,g=i.aabb,z=v.aabb,f.minx=(g.minx<z.minx?g:z).minx,f.miny=(g.miny<z.miny?g:z).miny,f.maxx=(g.maxx>z.maxx?g:z).maxx,f.maxy=(g.maxy>z.maxy?g:z).maxy,f=O.height,g=b.height,i.height=1+(g<f?f:g),z=i.height,b=v.height,P.height=1+(b<z?z:b)),i=P):C<-1&&(f=O.child1,g=O.child2,O.child1=i,O.parent=i.parent,null!=(i.parent=O).parent?O.parent.child1==i?O.parent.child1=O:O.parent.child2=O:this.root=O,f.height>g.height?(O.child2=f,v=((i.child1=g).parent=i).aabb,z=P.aabb,b=g.aabb,v.minx=(z.minx<b.minx?z:b).minx,v.miny=(z.miny<b.miny?z:b).miny,v.maxx=(z.maxx>b.maxx?z:b).maxx,v.maxy=(z.maxy>b.maxy?z:b).maxy,C=O.aabb,w=i.aabb,S=f.aabb,C.minx=(w.minx<S.minx?w:S).minx,C.miny=(w.miny<S.miny?w:S).miny,C.maxx=(w.maxx>S.maxx?w:S).maxx,C.maxy=(w.maxy>S.maxy?w:S).maxy,C=P.height,w=g.height,i.height=1+(w<C?C:w),S=i.height,C=f.height,O.height=1+(C<S?S:C)):(O.child2=g,w=((i.child1=f).parent=i).aabb,S=P.aabb,C=f.aabb,w.minx=(S.minx<C.minx?S:C).minx,w.miny=(S.miny<C.miny?S:C).miny,w.maxx=(S.maxx>C.maxx?S:C).maxx,w.maxy=(S.maxy>C.maxy?S:C).maxy,C=O.aabb,k=i.aabb,M=g.aabb,C.minx=(k.minx<M.minx?k:M).minx,C.miny=(k.miny<M.miny?k:M).miny,C.maxx=(k.maxx>M.maxx?k:M).maxx,C.maxy=(k.maxy>M.maxy?k:M).maxy,C=P.height,k=f.height,i.height=1+(k<C?C:k),M=i.height,P=g.height,O.height=1+(P<M?M:P)),i=O));var y,_,x,f,g,v,z,b,w,S,C=i.child1,k=i.child2,M=C.height,P=k.height,O=(i.height=1+(P<M?M:P),i.aabb),T=C.aabb,G=k.aabb;O.minx=(T.minx<G.minx?T:G).minx,O.miny=(T.miny<G.miny?T:G).miny,O.maxx=(T.maxx>G.maxx?T:G).maxx,O.maxy=(T.maxy>G.maxy?T:G).maxy,i=i.parent}}},di.prototype.inlined_insertLeaf=function(e){if(null==this.root)this.root=e,this.root.parent=null;else{for(var t=e.aabb,i=this.root;null!=i.child1;){var n=i.child1,r=i.child2,o=i.aabb,o=2*(o.maxx-o.minx+(o.maxy-o.miny)),a=di.tmpaabb,s=i.aabb,a=(a.minx=(s.minx<t.minx?s:t).minx,a.miny=(s.miny<t.miny?s:t).miny,a.maxx=(s.maxx>t.maxx?s:t).maxx,a.maxy=(s.maxy>t.maxy?s:t).maxy,di.tmpaabb),s=2*(a.maxx-a.minx+(a.maxy-a.miny)),a=2*s,s=2*(s-o),o=di.tmpaabb,p=n.aabb,o=(o.minx=(t.minx<p.minx?t:p).minx,o.miny=(t.miny<p.miny?t:p).miny,o.maxx=(t.maxx>p.maxx?t:p).maxx,o.maxy=(t.maxy>p.maxy?t:p).maxy,p=null==n.child1?2*((o=di.tmpaabb).maxx-o.minx+(o.maxy-o.miny))+s:(o=2*((p=n.aabb).maxx-p.minx+(p.maxy-p.miny)),2*((p=di.tmpaabb).maxx-p.minx+(p.maxy-p.miny))-o+s),di.tmpaabb),l=r.aabb;if(o.minx=(t.minx<l.minx?t:l).minx,o.miny=(t.miny<l.miny?t:l).miny,o.maxx=(t.maxx>l.maxx?t:l).maxx,o.maxy=(t.maxy>l.maxy?t:l).maxy,l=null==r.child1?2*((o=di.tmpaabb).maxx-o.minx+(o.maxy-o.miny))+s:(o=2*((l=r.aabb).maxx-l.minx+(l.maxy-l.miny)),2*((l=di.tmpaabb).maxx-l.minx+(l.maxy-l.miny))-o+s),a<p&&a<l)break;i=p<l?n:r}var h,u=i,d=u.parent,c=(null==hi.zpp_pool?h=new hi:(h=hi.zpp_pool,hi.zpp_pool=h.next,h.next=null),null==Nt.zpp_pool?h.aabb=new Nt:(h.aabb=Nt.zpp_pool,Nt.zpp_pool=h.aabb.next,h.aabb.next=null),h.moved=!1,h.synced=!1,h.first_sync=!1,h.parent=d,h.aabb),m=u.aabb;for(c.minx=(t.minx<m.minx?t:m).minx,c.miny=(t.miny<m.miny?t:m).miny,c.maxx=(t.maxx>m.maxx?t:m).maxx,c.maxy=(t.maxy>m.maxy?t:m).maxy,h.height=u.height+1,null!=d?(d.child1==u?d.child1=h:d.child2=h,h.child1=u,h.child2=e,u.parent=h,e.parent=h):(h.child1=u,h.child2=e,u.parent=h,e.parent=h,this.root=h),i=e.parent;null!=i;){null==i.child1||i.height<2||(O=i.child1,1<(C=(P=i.child2).height-O.height)?(b=P.child1,v=P.child2,P.child1=i,P.parent=i.parent,null!=(i.parent=P).parent?P.parent.child1==i?P.parent.child1=P:P.parent.child2=P:this.root=P,b.height>v.height?(P.child2=b,x=((i.child2=v).parent=i).aabb,y=O.aabb,_=v.aabb,x.minx=(y.minx<_.minx?y:_).minx,x.miny=(y.miny<_.miny?y:_).miny,x.maxx=(y.maxx>_.maxx?y:_).maxx,x.maxy=(y.maxy>_.maxy?y:_).maxy,x=P.aabb,y=i.aabb,_=b.aabb,x.minx=(y.minx<_.minx?y:_).minx,x.miny=(y.miny<_.miny?y:_).miny,x.maxx=(y.maxx>_.maxx?y:_).maxx,x.maxy=(y.maxy>_.maxy?y:_).maxy,x=O.height,y=v.height,i.height=1+(y<x?x:y),_=i.height,x=b.height,P.height=1+(x<_?_:x)):(P.child2=v,y=((i.child2=b).parent=i).aabb,_=O.aabb,x=b.aabb,y.minx=(_.minx<x.minx?_:x).minx,y.miny=(_.miny<x.miny?_:x).miny,y.maxx=(_.maxx>x.maxx?_:x).maxx,y.maxy=(_.maxy>x.maxy?_:x).maxy,f=P.aabb,g=i.aabb,z=v.aabb,f.minx=(g.minx<z.minx?g:z).minx,f.miny=(g.miny<z.miny?g:z).miny,f.maxx=(g.maxx>z.maxx?g:z).maxx,f.maxy=(g.maxy>z.maxy?g:z).maxy,f=O.height,g=b.height,i.height=1+(g<f?f:g),z=i.height,b=v.height,P.height=1+(b<z?z:b)),i=P):C<-1&&(f=O.child1,g=O.child2,O.child1=i,O.parent=i.parent,null!=(i.parent=O).parent?O.parent.child1==i?O.parent.child1=O:O.parent.child2=O:this.root=O,f.height>g.height?(O.child2=f,v=((i.child1=g).parent=i).aabb,z=P.aabb,b=g.aabb,v.minx=(z.minx<b.minx?z:b).minx,v.miny=(z.miny<b.miny?z:b).miny,v.maxx=(z.maxx>b.maxx?z:b).maxx,v.maxy=(z.maxy>b.maxy?z:b).maxy,C=O.aabb,w=i.aabb,S=f.aabb,C.minx=(w.minx<S.minx?w:S).minx,C.miny=(w.miny<S.miny?w:S).miny,C.maxx=(w.maxx>S.maxx?w:S).maxx,C.maxy=(w.maxy>S.maxy?w:S).maxy,C=P.height,w=g.height,i.height=1+(w<C?C:w),S=i.height,C=f.height,O.height=1+(C<S?S:C)):(O.child2=g,w=((i.child1=f).parent=i).aabb,S=P.aabb,C=f.aabb,w.minx=(S.minx<C.minx?S:C).minx,w.miny=(S.miny<C.miny?S:C).miny,w.maxx=(S.maxx>C.maxx?S:C).maxx,w.maxy=(S.maxy>C.maxy?S:C).maxy,C=O.aabb,k=i.aabb,M=g.aabb,C.minx=(k.minx<M.minx?k:M).minx,C.miny=(k.miny<M.miny?k:M).miny,C.maxx=(k.maxx>M.maxx?k:M).maxx,C.maxy=(k.maxy>M.maxy?k:M).maxy,C=P.height,k=f.height,i.height=1+(k<C?C:k),M=i.height,P=g.height,O.height=1+(P<M?M:P)),i=O));var y,_,x,f,g,v,z,b,w,S,C=i.child1,k=i.child2,M=C.height,P=k.height,O=(i.height=1+(P<M?M:P),i.aabb),T=C.aabb,G=k.aabb;O.minx=(T.minx<G.minx?T:G).minx,O.miny=(T.miny<G.miny?T:G).miny,O.maxx=(T.maxx>G.maxx?T:G).maxx,O.maxy=(T.maxy>G.maxy?T:G).maxy,i=i.parent}}},di.prototype.removeLeaf=function(e){if(e==this.root)this.root=null;else{var t=e.parent,i=t.parent,e=t.child1==e?t.child2:t.child1;if(null!=i){i.child1==t?i.child1=e:i.child2=e,e.parent=i,t.height=-1;for(var n=t.aabb,r=(null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t,i);null!=r;){null==r.child1||r.height<2||(g=r.child1,1<(y=(f=r.child2).height-g.height)?(d=f.child1,h=f.child2,f.child1=r,f.parent=r.parent,null!=(r.parent=f).parent?f.parent.child1==r?f.parent.child1=f:f.parent.child2=f:this.root=f,d.height>h.height?(f.child2=d,s=((r.child2=h).parent=r).aabb,o=g.aabb,a=h.aabb,s.minx=(o.minx<a.minx?o:a).minx,s.miny=(o.miny<a.miny?o:a).miny,s.maxx=(o.maxx>a.maxx?o:a).maxx,s.maxy=(o.maxy>a.maxy?o:a).maxy,s=f.aabb,o=r.aabb,a=d.aabb,s.minx=(o.minx<a.minx?o:a).minx,s.miny=(o.miny<a.miny?o:a).miny,s.maxx=(o.maxx>a.maxx?o:a).maxx,s.maxy=(o.maxy>a.maxy?o:a).maxy,s=g.height,o=h.height,r.height=1+(o<s?s:o),a=r.height,s=d.height,f.height=1+(s<a?a:s)):(f.child2=h,o=((r.child2=d).parent=r).aabb,a=g.aabb,s=d.aabb,o.minx=(a.minx<s.minx?a:s).minx,o.miny=(a.miny<s.miny?a:s).miny,o.maxx=(a.maxx>s.maxx?a:s).maxx,o.maxy=(a.maxy>s.maxy?a:s).maxy,p=f.aabb,l=r.aabb,u=h.aabb,p.minx=(l.minx<u.minx?l:u).minx,p.miny=(l.miny<u.miny?l:u).miny,p.maxx=(l.maxx>u.maxx?l:u).maxx,p.maxy=(l.maxy>u.maxy?l:u).maxy,p=g.height,l=d.height,r.height=1+(l<p?p:l),u=r.height,d=h.height,f.height=1+(d<u?u:d)),r=f):y<-1&&(p=g.child1,l=g.child2,g.child1=r,g.parent=r.parent,null!=(r.parent=g).parent?g.parent.child1==r?g.parent.child1=g:g.parent.child2=g:this.root=g,p.height>l.height?(g.child2=p,h=((r.child1=l).parent=r).aabb,u=f.aabb,d=l.aabb,h.minx=(u.minx<d.minx?u:d).minx,h.miny=(u.miny<d.miny?u:d).miny,h.maxx=(u.maxx>d.maxx?u:d).maxx,h.maxy=(u.maxy>d.maxy?u:d).maxy,y=g.aabb,c=r.aabb,m=p.aabb,y.minx=(c.minx<m.minx?c:m).minx,y.miny=(c.miny<m.miny?c:m).miny,y.maxx=(c.maxx>m.maxx?c:m).maxx,y.maxy=(c.maxy>m.maxy?c:m).maxy,y=f.height,c=l.height,r.height=1+(c<y?y:c),m=r.height,y=p.height,g.height=1+(y<m?m:y)):(g.child2=l,c=((r.child1=p).parent=r).aabb,m=f.aabb,y=p.aabb,c.minx=(m.minx<y.minx?m:y).minx,c.miny=(m.miny<y.miny?m:y).miny,c.maxx=(m.maxx>y.maxx?m:y).maxx,c.maxy=(m.maxy>y.maxy?m:y).maxy,y=g.aabb,_=r.aabb,x=l.aabb,y.minx=(_.minx<x.minx?_:x).minx,y.miny=(_.miny<x.miny?_:x).miny,y.maxx=(_.maxx>x.maxx?_:x).maxx,y.maxy=(_.maxy>x.maxy?_:x).maxy,y=f.height,_=p.height,r.height=1+(_<y?y:_),x=r.height,f=l.height,g.height=1+(f<x?x:f)),r=g));var o,a,s,p,l,h,u,d,c,m,y=r.child1,_=r.child2,x=r.aabb,f=y.aabb,g=_.aabb,v=(x.minx=(f.minx<g.minx?f:g).minx,x.miny=(f.miny<g.miny?f:g).miny,x.maxx=(f.maxx>g.maxx?f:g).maxx,x.maxy=(f.maxy>g.maxy?f:g).maxy,y.height),z=_.height;r.height=1+(z<v?v:z),r=r.parent}}else{(this.root=e).parent=null,t.height=-1;n=t.aabb;null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t}}},di.prototype.inlined_removeLeaf=function(e){if(e==this.root)this.root=null;else{var t=e.parent,i=t.parent,e=t.child1==e?t.child2:t.child1;if(null!=i){i.child1==t?i.child1=e:i.child2=e,e.parent=i,t.height=-1;for(var n=t.aabb,r=(null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t,i);null!=r;){null==r.child1||r.height<2||(g=r.child1,1<(y=(f=r.child2).height-g.height)?(d=f.child1,h=f.child2,f.child1=r,f.parent=r.parent,null!=(r.parent=f).parent?f.parent.child1==r?f.parent.child1=f:f.parent.child2=f:this.root=f,d.height>h.height?(f.child2=d,s=((r.child2=h).parent=r).aabb,o=g.aabb,a=h.aabb,s.minx=(o.minx<a.minx?o:a).minx,s.miny=(o.miny<a.miny?o:a).miny,s.maxx=(o.maxx>a.maxx?o:a).maxx,s.maxy=(o.maxy>a.maxy?o:a).maxy,s=f.aabb,o=r.aabb,a=d.aabb,s.minx=(o.minx<a.minx?o:a).minx,s.miny=(o.miny<a.miny?o:a).miny,s.maxx=(o.maxx>a.maxx?o:a).maxx,s.maxy=(o.maxy>a.maxy?o:a).maxy,s=g.height,o=h.height,r.height=1+(o<s?s:o),a=r.height,s=d.height,f.height=1+(s<a?a:s)):(f.child2=h,o=((r.child2=d).parent=r).aabb,a=g.aabb,s=d.aabb,o.minx=(a.minx<s.minx?a:s).minx,o.miny=(a.miny<s.miny?a:s).miny,o.maxx=(a.maxx>s.maxx?a:s).maxx,o.maxy=(a.maxy>s.maxy?a:s).maxy,p=f.aabb,l=r.aabb,u=h.aabb,p.minx=(l.minx<u.minx?l:u).minx,p.miny=(l.miny<u.miny?l:u).miny,p.maxx=(l.maxx>u.maxx?l:u).maxx,p.maxy=(l.maxy>u.maxy?l:u).maxy,p=g.height,l=d.height,r.height=1+(l<p?p:l),u=r.height,d=h.height,f.height=1+(d<u?u:d)),r=f):y<-1&&(p=g.child1,l=g.child2,g.child1=r,g.parent=r.parent,null!=(r.parent=g).parent?g.parent.child1==r?g.parent.child1=g:g.parent.child2=g:this.root=g,p.height>l.height?(g.child2=p,h=((r.child1=l).parent=r).aabb,u=f.aabb,d=l.aabb,h.minx=(u.minx<d.minx?u:d).minx,h.miny=(u.miny<d.miny?u:d).miny,h.maxx=(u.maxx>d.maxx?u:d).maxx,h.maxy=(u.maxy>d.maxy?u:d).maxy,y=g.aabb,c=r.aabb,m=p.aabb,y.minx=(c.minx<m.minx?c:m).minx,y.miny=(c.miny<m.miny?c:m).miny,y.maxx=(c.maxx>m.maxx?c:m).maxx,y.maxy=(c.maxy>m.maxy?c:m).maxy,y=f.height,c=l.height,r.height=1+(c<y?y:c),m=r.height,y=p.height,g.height=1+(y<m?m:y)):(g.child2=l,c=((r.child1=p).parent=r).aabb,m=f.aabb,y=p.aabb,c.minx=(m.minx<y.minx?m:y).minx,c.miny=(m.miny<y.miny?m:y).miny,c.maxx=(m.maxx>y.maxx?m:y).maxx,c.maxy=(m.maxy>y.maxy?m:y).maxy,y=g.aabb,_=r.aabb,x=l.aabb,y.minx=(_.minx<x.minx?_:x).minx,y.miny=(_.miny<x.miny?_:x).miny,y.maxx=(_.maxx>x.maxx?_:x).maxx,y.maxy=(_.maxy>x.maxy?_:x).maxy,y=f.height,_=p.height,r.height=1+(_<y?y:_),x=r.height,f=l.height,g.height=1+(f<x?x:f)),r=g));var o,a,s,p,l,h,u,d,c,m,y=r.child1,_=r.child2,x=r.aabb,f=y.aabb,g=_.aabb,v=(x.minx=(f.minx<g.minx?f:g).minx,x.miny=(f.miny<g.miny?f:g).miny,x.maxx=(f.maxx>g.maxx?f:g).maxx,x.maxy=(f.maxy>g.maxy?f:g).maxy,y.height),z=_.height;r.height=1+(z<v?v:z),r=r.parent}}else{(this.root=e).parent=null,t.height=-1;n=t.aabb;null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t}}},di.prototype.balance=function(e){var t,i,n,r,o,a,s,p;return null==e.child1||e.height<2?e:(t=e.child1,1<(p=(i=e.child2).height-t.height)?(s=i.child1,o=i.child2,i.child1=e,i.parent=e.parent,null!=(e.parent=i).parent?i.parent.child1==e?i.parent.child1=i:i.parent.child2=i:this.root=i,s.height>o.height?(i.child2=s,a=((e.child2=o).parent=e).aabb,n=t.aabb,r=o.aabb,a.minx=(n.minx<r.minx?n:r).minx,a.miny=(n.miny<r.miny?n:r).miny,a.maxx=(n.maxx>r.maxx?n:r).maxx,a.maxy=(n.maxy>r.maxy?n:r).maxy,a=i.aabb,n=e.aabb,r=s.aabb,a.minx=(n.minx<r.minx?n:r).minx,a.miny=(n.miny<r.miny?n:r).miny,a.maxx=(n.maxx>r.maxx?n:r).maxx,a.maxy=(n.maxy>r.maxy?n:r).maxy,a=t.height,n=o.height,e.height=1+(n<a?a:n),r=e.height,a=s.height,i.height=1+(a<r?r:a)):(i.child2=o,n=((e.child2=s).parent=e).aabb,r=t.aabb,a=s.aabb,n.minx=(r.minx<a.minx?r:a).minx,n.miny=(r.miny<a.miny?r:a).miny,n.maxx=(r.maxx>a.maxx?r:a).maxx,n.maxy=(r.maxy>a.maxy?r:a).maxy,n=i.aabb,r=e.aabb,a=o.aabb,n.minx=(r.minx<a.minx?r:a).minx,n.miny=(r.miny<a.miny?r:a).miny,n.maxx=(r.maxx>a.maxx?r:a).maxx,n.maxy=(r.maxy>a.maxy?r:a).maxy,n=t.height,r=s.height,e.height=1+(r<n?n:r),a=e.height,s=o.height,i.height=1+(s<a?a:s)),i):p<-1?(n=t.child1,r=t.child2,t.child1=e,t.parent=e.parent,null!=(e.parent=t).parent?t.parent.child1==e?t.parent.child1=t:t.parent.child2=t:this.root=t,n.height>r.height?(t.child2=n,o=((e.child1=r).parent=e).aabb,a=i.aabb,s=r.aabb,o.minx=(a.minx<s.minx?a:s).minx,o.miny=(a.miny<s.miny?a:s).miny,o.maxx=(a.maxx>s.maxx?a:s).maxx,o.maxy=(a.maxy>s.maxy?a:s).maxy,p=t.aabb,o=e.aabb,a=n.aabb,p.minx=(o.minx<a.minx?o:a).minx,p.miny=(o.miny<a.miny?o:a).miny,p.maxx=(o.maxx>a.maxx?o:a).maxx,p.maxy=(o.maxy>a.maxy?o:a).maxy,s=i.height,p=r.height,e.height=1+(p<s?s:p),o=e.height,a=n.height,t.height=1+(a<o?o:a)):(t.child2=r,s=((e.child1=n).parent=e).aabb,p=i.aabb,o=n.aabb,s.minx=(p.minx<o.minx?p:o).minx,s.miny=(p.miny<o.miny?p:o).miny,s.maxx=(p.maxx>o.maxx?p:o).maxx,s.maxy=(p.maxy>o.maxy?p:o).maxy,a=t.aabb,s=e.aabb,p=r.aabb,a.minx=(s.minx<p.minx?s:p).minx,a.miny=(s.miny<p.miny?s:p).miny,a.maxx=(s.maxx>p.maxx?s:p).maxx,a.maxy=(s.maxy>p.maxy?s:p).maxy,o=i.height,a=n.height,e.height=1+(a<o?o:a),s=e.height,p=r.height,t.height=1+(p<s?s:p)),t):e)},di.prototype.__class__=di,zpp_nape.space.ZPP_DynAABBPhase=function(e){this.openlist=null,this.failed=null,this.treeStack2=null,this.treeStack=null,this.moves=null,this.syncs=null,this.pairs=null,this.dtree=null,this.stree=null,li.call(this),this.space=e,this.is_sweep=!1,(this.dynab=this).stree=new di,this.dtree=new di}),mi=(ci.__name__=["zpp_nape","space","ZPP_DynAABBPhase"],ci.__super__=li,(ci.prototype=Object.create(li.prototype)).stree=null,ci.prototype.dtree=null,ci.prototype.pairs=null,ci.prototype.syncs=null,ci.prototype.moves=null,ci.prototype.dyn=function(e){return 1!=e.body.type&&!e.body.component.sleeping},ci.prototype.__insert=function(e){var t;null==hi.zpp_pool?t=new hi:(t=hi.zpp_pool,hi.zpp_pool=t.next,t.next=null),null==Nt.zpp_pool?t.aabb=new Nt:(t.aabb=Nt.zpp_pool,Nt.zpp_pool=t.aabb.next,t.aabb.next=null),t.moved=!1,t.synced=!1,t.first_sync=!1,((t.shape=e).node=t).synced=!0,t.first_sync=!0,t.snext=this.syncs,this.syncs=t},ci.prototype.__remove=function(e){var t=e.node;if(t.first_sync||(t.dyn?this.dtree:this.stree).removeLeaf(t),e.node=null,t.synced){for(var i=null,n=this.syncs;null!=n&&n!=t;)n=(i=n).snext;null==i?this.syncs=n.snext:i.snext=n.snext,n.snext=null,t.synced=!1}if(t.moved){for(var r=null,o=this.moves;null!=o&&o!=t;)o=(r=o).mnext;null==r?this.moves=o.mnext:r.mnext=o.mnext,o.mnext=null,t.moved=!1}for(var a=null,s=this.pairs;null!=s;){var p,l=s.next;s.n1==t||s.n2==t?(null==a?this.pairs=l:a.next=l,null!=s.arb&&(s.arb.pair=null),s.arb=null,s.n1.shape.pairs.remove(s),s.n2.shape.pairs.remove(s),(p=s).n1=p.n2=null,p.sleeping=!1,p.next=ui.zpp_pool,ui.zpp_pool=p,s=l):(a=s,s=l)}for(;null!=e.pairs.head;){var h=e.pairs.pop_unsafe();(h.n1==t?h.n2:h.n1).shape.pairs.remove(h),null!=h.arb&&(h.arb.pair=null),h.arb=null,h.n1=h.n2=null,h.sleeping=!1,h.next=ui.zpp_pool,ui.zpp_pool=h}t.height=-1;var u=t.aabb;null!=u.outer&&(u.outer.zpp_inner=null,u.outer=null),u.wrap_min=u.wrap_max=null,u._invalidate=null,u._validate=null,u.next=Nt.zpp_pool,Nt.zpp_pool=u,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t},ci.prototype.__sync=function(e){var t=e.node;if(!t.synced){if(!this.space.continuous&&e.zip_aabb&&null!=e.body)if(e.zip_aabb=!1,0==e.type){var i=e.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var n=i.polygon;if(null==n.lverts.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y;else if(null==n.lverts.next.next.next)n.localCOMx=n.lverts.next.x,n.localCOMy=n.lverts.next.y,n.localCOMx+=n.lverts.next.next.x,n.localCOMy+=n.lverts.next.next.y,n.localCOMx*=.5,n.localCOMy*=.5;else{n.localCOMx=0;var r=n.localCOMy=0,o=n.lverts.next,a=o,s=o=o.next;for(o=o.next;null!=o;){var p=o,l=(r+=s.x*(p.y-a.y),p.y*s.x-p.x*s.y);n.localCOMx+=(s.x+p.x)*l,n.localCOMy+=(s.y+p.y)*l,a=s,s=p,o=o.next}var h=o=n.lverts.next,u=(r+=s.x*(h.y-a.y),h.y*s.x-h.x*s.y),u=(n.localCOMx+=(s.x+h.x)*u,n.localCOMy+=(s.y+h.y)*u,a=s,o=o.next),d=(r+=h.x*(u.y-a.y),u.y*h.x-u.x*h.y),h=(n.localCOMx+=(h.x+u.x)*d,n.localCOMy+=(h.y+u.y)*d,r=1/(3*r));n.localCOMx*=h,n.localCOMy*=h}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}u=i.body;u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}d=i.radius,h=i.radius;i.aabb.minx=i.worldCOMx-d,i.aabb.miny=i.worldCOMy-h,i.aabb.maxx=i.worldCOMx+d,i.aabb.maxy=i.worldCOMy+h}else{var c=e.polygon;if(c.zip_gverts&&null!=c.body){c.zip_gverts=!1,c.validate_lverts();for(var u=c.body,m=(u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),c.lverts.next),y=c.gverts.next;null!=y;){var _=y,x=m,m=m.next;_.x=c.body.posx+(c.body.axisy*x.x-c.body.axisx*x.y),_.y=c.body.posy+(x.x*c.body.axisx+x.y*c.body.axisy),y=y.next}}for(var d=c.gverts.next,f=(c.aabb.minx=d.x,c.aabb.miny=d.y,c.aabb.maxx=d.x,c.aabb.maxy=d.y,c.gverts.next.next);null!=f;){var g=f;g.x<c.aabb.minx&&(c.aabb.minx=g.x),g.x>c.aabb.maxx&&(c.aabb.maxx=g.x),g.y<c.aabb.miny&&(c.aabb.miny=g.y),g.y>c.aabb.maxy&&(c.aabb.maxy=g.y),f=f.next}}(t.dyn!=(1!=e.body.type&&!e.body.component.sleeping)||(i=t.aabb,!((h=e.aabb).minx>=i.minx&&h.miny>=i.miny&&h.maxx<=i.maxx&&h.maxy<=i.maxy)))&&(t.synced=!0,t.snext=this.syncs,this.syncs=t)}},ci.prototype.sync_broadphase=function(){if(this.space.validation(),null!=this.syncs)if(null==this.moves){for(var L=this.syncs;null!=L;){var D=L.shape;if(L.first_sync)L.first_sync=!1;else{var R=L.dyn?this.dtree:this.stree;if(L==R.root)R.root=null;else{var e=L.parent,j=e.parent,t=e.child1==L?e.child2:e.child1;if(null!=j){j.child1==e?j.child1=t:j.child2=t,t.parent=j,e.height=-1;for(var F=e.aabb,i=(null!=F.outer&&(F.outer.zpp_inner=null,F.outer=null),F.wrap_min=F.wrap_max=null,F._invalidate=null,F._validate=null,F.next=Nt.zpp_pool,Nt.zpp_pool=F,e.child1=e.child2=e.parent=null,e.next=null,e.snext=null,e.mnext=null,e.next=hi.zpp_pool,hi.zpp_pool=e,j);null!=i;){null==i.child1||i.height<2||(p=i.child1,1<(a=(s=i.child2).height-p.height)?(W=s.child1,H=s.child2,s.child1=i,s.parent=i.parent,null!=(i.parent=s).parent?s.parent.child1==i?s.parent.child1=s:s.parent.child2=s:R.root=s,W.height>H.height?(s.child2=W,o=((i.child2=H).parent=i).aabb,n=p.aabb,r=H.aabb,o.minx=(n.minx<r.minx?n:r).minx,o.miny=(n.miny<r.miny?n:r).miny,o.maxx=(n.maxx>r.maxx?n:r).maxx,o.maxy=(n.maxy>r.maxy?n:r).maxy,o=s.aabb,n=i.aabb,r=W.aabb,o.minx=(n.minx<r.minx?n:r).minx,o.miny=(n.miny<r.miny?n:r).miny,o.maxx=(n.maxx>r.maxx?n:r).maxx,o.maxy=(n.maxy>r.maxy?n:r).maxy,o=p.height,n=H.height,i.height=1+(n<o?o:n),r=i.height,o=W.height,s.height=1+(o<r?r:o)):(s.child2=H,n=((i.child2=W).parent=i).aabb,r=p.aabb,o=W.aabb,n.minx=(r.minx<o.minx?r:o).minx,n.miny=(r.miny<o.miny?r:o).miny,n.maxx=(r.maxx>o.maxx?r:o).maxx,n.maxy=(r.maxy>o.maxy?r:o).maxy,N=s.aabb,U=i.aabb,V=H.aabb,N.minx=(U.minx<V.minx?U:V).minx,N.miny=(U.miny<V.miny?U:V).miny,N.maxx=(U.maxx>V.maxx?U:V).maxx,N.maxy=(U.maxy>V.maxy?U:V).maxy,N=p.height,U=W.height,i.height=1+(U<N?N:U),V=i.height,W=H.height,s.height=1+(W<V?V:W)),i=s):a<-1&&(N=p.child1,U=p.child2,p.child1=i,p.parent=i.parent,null!=(i.parent=p).parent?p.parent.child1==i?p.parent.child1=p:p.parent.child2=p:R.root=p,N.height>U.height?(p.child2=N,H=((i.child1=U).parent=i).aabb,V=s.aabb,W=U.aabb,H.minx=(V.minx<W.minx?V:W).minx,H.miny=(V.miny<W.miny?V:W).miny,H.maxx=(V.maxx>W.maxx?V:W).maxx,H.maxy=(V.maxy>W.maxy?V:W).maxy,a=p.aabb,q=i.aabb,X=N.aabb,a.minx=(q.minx<X.minx?q:X).minx,a.miny=(q.miny<X.miny?q:X).miny,a.maxx=(q.maxx>X.maxx?q:X).maxx,a.maxy=(q.maxy>X.maxy?q:X).maxy,a=s.height,q=U.height,i.height=1+(q<a?a:q),X=i.height,a=N.height,p.height=1+(a<X?X:a)):(p.child2=U,q=((i.child1=N).parent=i).aabb,X=s.aabb,a=N.aabb,q.minx=(X.minx<a.minx?X:a).minx,q.miny=(X.miny<a.miny?X:a).miny,q.maxx=(X.maxx>a.maxx?X:a).maxx,q.maxy=(X.maxy>a.maxy?X:a).maxy,a=p.aabb,Y=i.aabb,K=U.aabb,a.minx=(Y.minx<K.minx?Y:K).minx,a.miny=(Y.miny<K.miny?Y:K).miny,a.maxx=(Y.maxx>K.maxx?Y:K).maxx,a.maxy=(Y.maxy>K.maxy?Y:K).maxy,a=s.height,Y=N.height,i.height=1+(Y<a?a:Y),K=i.height,s=U.height,p.height=1+(s<K?K:s)),i=p));var n,r,o,N,U,H,V,W,q,X,a=i.child1,Y=i.child2,K=i.aabb,s=a.aabb,p=Y.aabb,Z=(K.minx=(s.minx<p.minx?s:p).minx,K.miny=(s.miny<p.miny?s:p).miny,K.maxx=(s.maxx>p.maxx?s:p).maxx,K.maxy=(s.maxy>p.maxy?s:p).maxy,a.height),J=Y.height;i.height=1+(J<Z?Z:J),i=i.parent}}else{(R.root=t).parent=null,e.height=-1;F=e.aabb;null!=F.outer&&(F.outer.zpp_inner=null,F.outer=null),F.wrap_min=F.wrap_max=null,F._invalidate=null,F._validate=null,F.next=Nt.zpp_pool,Nt.zpp_pool=F,e.child1=e.child2=e.parent=null,e.next=null,e.snext=null,e.mnext=null,e.next=hi.zpp_pool,hi.zpp_pool=e}}}j=L.aabb;if(!this.space.continuous&&D.zip_aabb&&null!=D.body)if(D.zip_aabb=!1,0==D.type){t=D.circle;if(t.zip_worldCOM&&null!=t.body){if(t.zip_worldCOM=!1,t.zip_localCOM){if(t.zip_localCOM=!1,1==t.type){var l=t.polygon;if(null==l.lverts.next.next)l.localCOMx=l.lverts.next.x,l.localCOMy=l.lverts.next.y;else if(null==l.lverts.next.next.next)l.localCOMx=l.lverts.next.x,l.localCOMy=l.lverts.next.y,l.localCOMx+=l.lverts.next.next.x,l.localCOMy+=l.lverts.next.next.y,l.localCOMx*=.5,l.localCOMy*=.5;else{l.localCOMx=0;var Q=l.localCOMy=0,$=l.lverts.next,ee=$,te=$=$.next;for($=$.next;null!=$;){var ie=$,ne=(Q+=te.x*(ie.y-ee.y),ie.y*te.x-ie.x*te.y);l.localCOMx+=(te.x+ie.x)*ne,l.localCOMy+=(te.y+ie.y)*ne,ee=te,te=ie,$=$.next}var e=$=l.lverts.next,re=(Q+=te.x*(e.y-ee.y),e.y*te.x-e.x*te.y),re=(l.localCOMx+=(te.x+e.x)*re,l.localCOMy+=(te.y+e.y)*re,ee=te,$=$.next),oe=(Q+=e.x*(re.y-ee.y),re.y*e.x-re.x*e.y),re=(l.localCOMx+=(e.x+re.x)*oe,l.localCOMy+=(e.y+re.y)*oe,Q=1/(3*Q));l.localCOMx*=re,l.localCOMy*=re}}null!=t.wrap_localCOM&&(t.wrap_localCOM.zpp_inner.x=t.localCOMx,t.wrap_localCOM.zpp_inner.y=t.localCOMy)}oe=t.body;oe.zip_axis&&(oe.zip_axis=!1,oe.axisx=Math.sin(oe.rot),oe.axisy=Math.cos(oe.rot)),t.worldCOMx=t.body.posx+(t.body.axisy*t.localCOMx-t.body.axisx*t.localCOMy),t.worldCOMy=t.body.posy+(t.localCOMx*t.body.axisx+t.localCOMy*t.body.axisy)}var re=t.radius,ae=t.radius;t.aabb.minx=t.worldCOMx-re,t.aabb.miny=t.worldCOMy-ae,t.aabb.maxx=t.worldCOMx+re,t.aabb.maxy=t.worldCOMy+ae}else{var h=D.polygon;if(h.zip_gverts&&null!=h.body){h.zip_gverts=!1,h.validate_lverts();for(var ae=h.body,se=(ae.zip_axis&&(ae.zip_axis=!1,ae.axisx=Math.sin(ae.rot),ae.axisy=Math.cos(ae.rot)),h.lverts.next),pe=h.gverts.next;null!=pe;){var le=pe,he=se,se=se.next;le.x=h.body.posx+(h.body.axisy*he.x-h.body.axisx*he.y),le.y=h.body.posy+(he.x*h.body.axisx+he.y*h.body.axisy),pe=pe.next}}for(var ue=h.gverts.next,de=(h.aabb.minx=ue.x,h.aabb.miny=ue.y,h.aabb.maxx=ue.x,h.aabb.maxy=ue.y,h.gverts.next.next);null!=de;){var ce=de;ce.x<h.aabb.minx&&(h.aabb.minx=ce.x),ce.x>h.aabb.maxx&&(h.aabb.maxx=ce.x),ce.y<h.aabb.miny&&(h.aabb.miny=ce.y),ce.y>h.aabb.maxy&&(h.aabb.maxy=ce.y),de=de.next}}var ue=D.aabb,me=(j.minx=ue.minx-3,j.miny=ue.miny-3,j.maxx=ue.maxx+3,j.maxy=ue.maxy+3,(L.dyn=1!=D.body.type&&!D.body.component.sleeping)?this.dtree:this.stree);if(null==me.root)me.root=L,me.root.parent=null;else{for(var u=L.aabb,d=me.root;null!=d.child1;){var ye=d.child1,_e=d.child2,c=d.aabb,c=2*(c.maxx-c.minx+(c.maxy-c.miny)),xe=di.tmpaabb,fe=d.aabb,xe=(xe.minx=(fe.minx<u.minx?fe:u).minx,xe.miny=(fe.miny<u.miny?fe:u).miny,xe.maxx=(fe.maxx>u.maxx?fe:u).maxx,xe.maxy=(fe.maxy>u.maxy?fe:u).maxy,di.tmpaabb),fe=2*(xe.maxx-xe.minx+(xe.maxy-xe.miny)),xe=2*fe,fe=2*(fe-c),c=di.tmpaabb,ge=ye.aabb,c=(c.minx=(u.minx<ge.minx?u:ge).minx,c.miny=(u.miny<ge.miny?u:ge).miny,c.maxx=(u.maxx>ge.maxx?u:ge).maxx,c.maxy=(u.maxy>ge.maxy?u:ge).maxy,ge=null==ye.child1?2*((c=di.tmpaabb).maxx-c.minx+(c.maxy-c.miny))+fe:(c=2*((ge=ye.aabb).maxx-ge.minx+(ge.maxy-ge.miny)),2*((ge=di.tmpaabb).maxx-ge.minx+(ge.maxy-ge.miny))-c+fe),di.tmpaabb),ve=_e.aabb;if(c.minx=(u.minx<ve.minx?u:ve).minx,c.miny=(u.miny<ve.miny?u:ve).miny,c.maxx=(u.maxx>ve.maxx?u:ve).maxx,c.maxy=(u.maxy>ve.maxy?u:ve).maxy,ve=null==_e.child1?2*((c=di.tmpaabb).maxx-c.minx+(c.maxy-c.miny))+fe:(c=2*((ve=_e.aabb).maxx-ve.minx+(ve.maxy-ve.miny)),2*((ve=di.tmpaabb).maxx-ve.minx+(ve.maxy-ve.miny))-c+fe),xe<ge&&xe<ve)break;d=ge<ve?ye:_e}var ze,D=d,be=D.parent,we=(null==hi.zpp_pool?ze=new hi:(ze=hi.zpp_pool,hi.zpp_pool=ze.next,ze.next=null),null==Nt.zpp_pool?ze.aabb=new Nt:(ze.aabb=Nt.zpp_pool,Nt.zpp_pool=ze.aabb.next,ze.aabb.next=null),ze.moved=!1,ze.synced=!1,ze.first_sync=!1,ze.parent=be,ze.aabb),Se=D.aabb;for(we.minx=(u.minx<Se.minx?u:Se).minx,we.miny=(u.miny<Se.miny?u:Se).miny,we.maxx=(u.maxx>Se.maxx?u:Se).maxx,we.maxy=(u.maxy>Se.maxy?u:Se).maxy,ze.height=D.height+1,null!=be?(be.child1==D?be.child1=ze:be.child2=ze,ze.child1=D,ze.child2=L,D.parent=ze,L.parent=ze):(ze.child1=D,ze.child2=L,D.parent=ze,L.parent=ze,me.root=ze),d=L.parent;null!=d;){null==d.child1||d.height<2||(f=d.child1,1<(_=(x=d.child2).height-f.height)?(Te=x.child1,Pe=x.child2,x.child1=d,x.parent=d.parent,null!=(d.parent=x).parent?x.parent.child1==d?x.parent.child1=x:x.parent.child2=x:me.root=x,Te.height>Pe.height?(x.child2=Te,Ce=((d.child2=Pe).parent=d).aabb,m=f.aabb,y=Pe.aabb,Ce.minx=(m.minx<y.minx?m:y).minx,Ce.miny=(m.miny<y.miny?m:y).miny,Ce.maxx=(m.maxx>y.maxx?m:y).maxx,Ce.maxy=(m.maxy>y.maxy?m:y).maxy,Ce=x.aabb,m=d.aabb,y=Te.aabb,Ce.minx=(m.minx<y.minx?m:y).minx,Ce.miny=(m.miny<y.miny?m:y).miny,Ce.maxx=(m.maxx>y.maxx?m:y).maxx,Ce.maxy=(m.maxy>y.maxy?m:y).maxy,Ce=f.height,m=Pe.height,d.height=1+(m<Ce?Ce:m),y=d.height,Ce=Te.height,x.height=1+(Ce<y?y:Ce)):(x.child2=Pe,m=((d.child2=Te).parent=d).aabb,y=f.aabb,Ce=Te.aabb,m.minx=(y.minx<Ce.minx?y:Ce).minx,m.miny=(y.miny<Ce.miny?y:Ce).miny,m.maxx=(y.maxx>Ce.maxx?y:Ce).maxx,m.maxy=(y.maxy>Ce.maxy?y:Ce).maxy,ke=x.aabb,Me=d.aabb,Oe=Pe.aabb,ke.minx=(Me.minx<Oe.minx?Me:Oe).minx,ke.miny=(Me.miny<Oe.miny?Me:Oe).miny,ke.maxx=(Me.maxx>Oe.maxx?Me:Oe).maxx,ke.maxy=(Me.maxy>Oe.maxy?Me:Oe).maxy,ke=f.height,Me=Te.height,d.height=1+(Me<ke?ke:Me),Oe=d.height,Te=Pe.height,x.height=1+(Te<Oe?Oe:Te)),d=x):_<-1&&(ke=f.child1,Me=f.child2,f.child1=d,f.parent=d.parent,null!=(d.parent=f).parent?f.parent.child1==d?f.parent.child1=f:f.parent.child2=f:me.root=f,ke.height>Me.height?(f.child2=ke,Pe=((d.child1=Me).parent=d).aabb,Oe=x.aabb,Te=Me.aabb,Pe.minx=(Oe.minx<Te.minx?Oe:Te).minx,Pe.miny=(Oe.miny<Te.miny?Oe:Te).miny,Pe.maxx=(Oe.maxx>Te.maxx?Oe:Te).maxx,Pe.maxy=(Oe.maxy>Te.maxy?Oe:Te).maxy,_=f.aabb,Ge=d.aabb,Ae=ke.aabb,_.minx=(Ge.minx<Ae.minx?Ge:Ae).minx,_.miny=(Ge.miny<Ae.miny?Ge:Ae).miny,_.maxx=(Ge.maxx>Ae.maxx?Ge:Ae).maxx,_.maxy=(Ge.maxy>Ae.maxy?Ge:Ae).maxy,_=x.height,Ge=Me.height,d.height=1+(Ge<_?_:Ge),Ae=d.height,_=ke.height,f.height=1+(_<Ae?Ae:_)):(f.child2=Me,Ge=((d.child1=ke).parent=d).aabb,Ae=x.aabb,_=ke.aabb,Ge.minx=(Ae.minx<_.minx?Ae:_).minx,Ge.miny=(Ae.miny<_.miny?Ae:_).miny,Ge.maxx=(Ae.maxx>_.maxx?Ae:_).maxx,Ge.maxy=(Ae.maxy>_.maxy?Ae:_).maxy,_=f.aabb,Ee=d.aabb,Ie=Me.aabb,_.minx=(Ee.minx<Ie.minx?Ee:Ie).minx,_.miny=(Ee.miny<Ie.miny?Ee:Ie).miny,_.maxx=(Ee.maxx>Ie.maxx?Ee:Ie).maxx,_.maxy=(Ee.maxy>Ie.maxy?Ee:Ie).maxy,_=x.height,Ee=ke.height,d.height=1+(Ee<_?_:Ee),Ie=d.height,x=Me.height,f.height=1+(x<Ie?Ie:x)),d=f));var m,y,Ce,ke,Me,Pe,Oe,Te,Ge,Ae,_=d.child1,Ee=d.child2,Ie=_.height,x=Ee.height,f=(d.height=1+(x<Ie?Ie:x),d.aabb),Be=_.aabb,Le=Ee.aabb;f.minx=(Be.minx<Le.minx?Be:Le).minx,f.miny=(Be.miny<Le.miny?Be:Le).miny,f.maxx=(Be.maxx>Le.maxx?Be:Le).maxx,f.maxy=(Be.maxy>Le.maxy?Be:Le).maxy,d=d.parent}}L.synced=!1,L.moved=!0,L.mnext=L.snext,L.snext=null,L=L.mnext}var De=this.syncs;this.syncs=this.moves,this.moves=De}else for(;null!=this.syncs;){var Re=this.syncs,je=(this.syncs=Re.snext,Re.snext=null,Re.shape);if(Re.first_sync)Re.first_sync=!1;else{var Fe=Re.dyn?this.dtree:this.stree;if(Re==Fe.root)Fe.root=null;else{var g=Re.parent,Ne=g.parent,v=g.child1==Re?g.child2:g.child1;if(null!=Ne){Ne.child1==g?Ne.child1=v:Ne.child2=v,v.parent=Ne,g.height=-1;for(var Ue=g.aabb,z=(null!=Ue.outer&&(Ue.outer.zpp_inner=null,Ue.outer=null),Ue.wrap_min=Ue.wrap_max=null,Ue._invalidate=null,Ue._validate=null,Ue.next=Nt.zpp_pool,Nt.zpp_pool=Ue,g.child1=g.child2=g.parent=null,g.next=null,g.snext=null,g.mnext=null,g.next=hi.zpp_pool,hi.zpp_pool=g,Ne);null!=z;){null==z.child1||z.height<2||(k=z.child1,1<(S=(C=z.child2).height-k.height)?(Ye=C.child1,qe=C.child2,C.child1=z,C.parent=z.parent,null!=(z.parent=C).parent?C.parent.child1==z?C.parent.child1=C:C.parent.child2=C:Fe.root=C,Ye.height>qe.height?(C.child2=Ye,He=((z.child2=qe).parent=z).aabb,b=k.aabb,w=qe.aabb,He.minx=(b.minx<w.minx?b:w).minx,He.miny=(b.miny<w.miny?b:w).miny,He.maxx=(b.maxx>w.maxx?b:w).maxx,He.maxy=(b.maxy>w.maxy?b:w).maxy,He=C.aabb,b=z.aabb,w=Ye.aabb,He.minx=(b.minx<w.minx?b:w).minx,He.miny=(b.miny<w.miny?b:w).miny,He.maxx=(b.maxx>w.maxx?b:w).maxx,He.maxy=(b.maxy>w.maxy?b:w).maxy,He=k.height,b=qe.height,z.height=1+(b<He?He:b),w=z.height,He=Ye.height,C.height=1+(He<w?w:He)):(C.child2=qe,b=((z.child2=Ye).parent=z).aabb,w=k.aabb,He=Ye.aabb,b.minx=(w.minx<He.minx?w:He).minx,b.miny=(w.miny<He.miny?w:He).miny,b.maxx=(w.maxx>He.maxx?w:He).maxx,b.maxy=(w.maxy>He.maxy?w:He).maxy,Ve=C.aabb,We=z.aabb,Xe=qe.aabb,Ve.minx=(We.minx<Xe.minx?We:Xe).minx,Ve.miny=(We.miny<Xe.miny?We:Xe).miny,Ve.maxx=(We.maxx>Xe.maxx?We:Xe).maxx,Ve.maxy=(We.maxy>Xe.maxy?We:Xe).maxy,Ve=k.height,We=Ye.height,z.height=1+(We<Ve?Ve:We),Xe=z.height,Ye=qe.height,C.height=1+(Ye<Xe?Xe:Ye)),z=C):S<-1&&(Ve=k.child1,We=k.child2,k.child1=z,k.parent=z.parent,null!=(z.parent=k).parent?k.parent.child1==z?k.parent.child1=k:k.parent.child2=k:Fe.root=k,Ve.height>We.height?(k.child2=Ve,qe=((z.child1=We).parent=z).aabb,Xe=C.aabb,Ye=We.aabb,qe.minx=(Xe.minx<Ye.minx?Xe:Ye).minx,qe.miny=(Xe.miny<Ye.miny?Xe:Ye).miny,qe.maxx=(Xe.maxx>Ye.maxx?Xe:Ye).maxx,qe.maxy=(Xe.maxy>Ye.maxy?Xe:Ye).maxy,S=k.aabb,Ke=z.aabb,Ze=Ve.aabb,S.minx=(Ke.minx<Ze.minx?Ke:Ze).minx,S.miny=(Ke.miny<Ze.miny?Ke:Ze).miny,S.maxx=(Ke.maxx>Ze.maxx?Ke:Ze).maxx,S.maxy=(Ke.maxy>Ze.maxy?Ke:Ze).maxy,S=C.height,Ke=We.height,z.height=1+(Ke<S?S:Ke),Ze=z.height,S=Ve.height,k.height=1+(S<Ze?Ze:S)):(k.child2=We,Ke=((z.child1=Ve).parent=z).aabb,Ze=C.aabb,S=Ve.aabb,Ke.minx=(Ze.minx<S.minx?Ze:S).minx,Ke.miny=(Ze.miny<S.miny?Ze:S).miny,Ke.maxx=(Ze.maxx>S.maxx?Ze:S).maxx,Ke.maxy=(Ze.maxy>S.maxy?Ze:S).maxy,S=k.aabb,Je=z.aabb,Qe=We.aabb,S.minx=(Je.minx<Qe.minx?Je:Qe).minx,S.miny=(Je.miny<Qe.miny?Je:Qe).miny,S.maxx=(Je.maxx>Qe.maxx?Je:Qe).maxx,S.maxy=(Je.maxy>Qe.maxy?Je:Qe).maxy,S=C.height,Je=Ve.height,z.height=1+(Je<S?S:Je),Qe=z.height,C=We.height,k.height=1+(C<Qe?Qe:C)),z=k));var b,w,He,Ve,We,qe,Xe,Ye,Ke,Ze,S=z.child1,Je=z.child2,Qe=z.aabb,C=S.aabb,k=Je.aabb,$e=(Qe.minx=(C.minx<k.minx?C:k).minx,Qe.miny=(C.miny<k.miny?C:k).miny,Qe.maxx=(C.maxx>k.maxx?C:k).maxx,Qe.maxy=(C.maxy>k.maxy?C:k).maxy,S.height),et=Je.height;z.height=1+(et<$e?$e:et),z=z.parent}}else{(Fe.root=v).parent=null,g.height=-1;Ue=g.aabb;null!=Ue.outer&&(Ue.outer.zpp_inner=null,Ue.outer=null),Ue.wrap_min=Ue.wrap_max=null,Ue._invalidate=null,Ue._validate=null,Ue.next=Nt.zpp_pool,Nt.zpp_pool=Ue,g.child1=g.child2=g.parent=null,g.next=null,g.snext=null,g.mnext=null,g.next=hi.zpp_pool,hi.zpp_pool=g}}}Ne=Re.aabb;if(!this.space.continuous&&je.zip_aabb&&null!=je.body)if(je.zip_aabb=!1,0==je.type){v=je.circle;if(v.zip_worldCOM&&null!=v.body){if(v.zip_worldCOM=!1,v.zip_localCOM){if(v.zip_localCOM=!1,1==v.type){var M=v.polygon;if(null==M.lverts.next.next)M.localCOMx=M.lverts.next.x,M.localCOMy=M.lverts.next.y;else if(null==M.lverts.next.next.next)M.localCOMx=M.lverts.next.x,M.localCOMy=M.lverts.next.y,M.localCOMx+=M.lverts.next.next.x,M.localCOMy+=M.lverts.next.next.y,M.localCOMx*=.5,M.localCOMy*=.5;else{M.localCOMx=0;var tt=M.localCOMy=0,it=M.lverts.next,nt=it,rt=it=it.next;for(it=it.next;null!=it;){var ot=it,at=(tt+=rt.x*(ot.y-nt.y),ot.y*rt.x-ot.x*rt.y);M.localCOMx+=(rt.x+ot.x)*at,M.localCOMy+=(rt.y+ot.y)*at,nt=rt,rt=ot,it=it.next}var g=it=M.lverts.next,st=(tt+=rt.x*(g.y-nt.y),g.y*rt.x-g.x*rt.y),st=(M.localCOMx+=(rt.x+g.x)*st,M.localCOMy+=(rt.y+g.y)*st,nt=rt,it=it.next),pt=(tt+=g.x*(st.y-nt.y),st.y*g.x-st.x*g.y),st=(M.localCOMx+=(g.x+st.x)*pt,M.localCOMy+=(g.y+st.y)*pt,tt=1/(3*tt));M.localCOMx*=st,M.localCOMy*=st}}null!=v.wrap_localCOM&&(v.wrap_localCOM.zpp_inner.x=v.localCOMx,v.wrap_localCOM.zpp_inner.y=v.localCOMy)}pt=v.body;pt.zip_axis&&(pt.zip_axis=!1,pt.axisx=Math.sin(pt.rot),pt.axisy=Math.cos(pt.rot)),v.worldCOMx=v.body.posx+(v.body.axisy*v.localCOMx-v.body.axisx*v.localCOMy),v.worldCOMy=v.body.posy+(v.localCOMx*v.body.axisx+v.localCOMy*v.body.axisy)}var st=v.radius,lt=v.radius;v.aabb.minx=v.worldCOMx-st,v.aabb.miny=v.worldCOMy-lt,v.aabb.maxx=v.worldCOMx+st,v.aabb.maxy=v.worldCOMy+lt}else{var P=je.polygon;if(P.zip_gverts&&null!=P.body){P.zip_gverts=!1,P.validate_lverts();for(var lt=P.body,ht=(lt.zip_axis&&(lt.zip_axis=!1,lt.axisx=Math.sin(lt.rot),lt.axisy=Math.cos(lt.rot)),P.lverts.next),ut=P.gverts.next;null!=ut;){var dt=ut,ct=ht,ht=ht.next;dt.x=P.body.posx+(P.body.axisy*ct.x-P.body.axisx*ct.y),dt.y=P.body.posy+(ct.x*P.body.axisx+ct.y*P.body.axisy),ut=ut.next}}for(var mt=P.gverts.next,yt=(P.aabb.minx=mt.x,P.aabb.miny=mt.y,P.aabb.maxx=mt.x,P.aabb.maxy=mt.y,P.gverts.next.next);null!=yt;){var _t=yt;_t.x<P.aabb.minx&&(P.aabb.minx=_t.x),_t.x>P.aabb.maxx&&(P.aabb.maxx=_t.x),_t.y<P.aabb.miny&&(P.aabb.miny=_t.y),_t.y>P.aabb.maxy&&(P.aabb.maxy=_t.y),yt=yt.next}}var mt=je.aabb,xt=(Ne.minx=mt.minx-3,Ne.miny=mt.miny-3,Ne.maxx=mt.maxx+3,Ne.maxy=mt.maxy+3,(Re.dyn=1!=je.body.type&&!je.body.component.sleeping)?this.dtree:this.stree);if(null==xt.root)xt.root=Re,xt.root.parent=null;else{for(var O=Re.aabb,T=xt.root;null!=T.child1;){var ft=T.child1,gt=T.child2,vt=T.aabb,vt=2*(vt.maxx-vt.minx+(vt.maxy-vt.miny)),zt=di.tmpaabb,bt=T.aabb,zt=(zt.minx=(bt.minx<O.minx?bt:O).minx,zt.miny=(bt.miny<O.miny?bt:O).miny,zt.maxx=(bt.maxx>O.maxx?bt:O).maxx,zt.maxy=(bt.maxy>O.maxy?bt:O).maxy,di.tmpaabb),bt=2*(zt.maxx-zt.minx+(zt.maxy-zt.miny)),zt=2*bt,bt=2*(bt-vt),vt=di.tmpaabb,wt=ft.aabb,vt=(vt.minx=(O.minx<wt.minx?O:wt).minx,vt.miny=(O.miny<wt.miny?O:wt).miny,vt.maxx=(O.maxx>wt.maxx?O:wt).maxx,vt.maxy=(O.maxy>wt.maxy?O:wt).maxy,wt=null==ft.child1?2*((vt=di.tmpaabb).maxx-vt.minx+(vt.maxy-vt.miny))+bt:(vt=2*((wt=ft.aabb).maxx-wt.minx+(wt.maxy-wt.miny)),2*((wt=di.tmpaabb).maxx-wt.minx+(wt.maxy-wt.miny))-vt+bt),di.tmpaabb),St=gt.aabb;if(vt.minx=(O.minx<St.minx?O:St).minx,vt.miny=(O.miny<St.miny?O:St).miny,vt.maxx=(O.maxx>St.maxx?O:St).maxx,vt.maxy=(O.maxy>St.maxy?O:St).maxy,St=null==gt.child1?2*((vt=di.tmpaabb).maxx-vt.minx+(vt.maxy-vt.miny))+bt:(vt=2*((St=gt.aabb).maxx-St.minx+(St.maxy-St.miny)),2*((St=di.tmpaabb).maxx-St.minx+(St.maxy-St.miny))-vt+bt),zt<wt&&zt<St)break;T=wt<St?ft:gt}var Ct,je=T,kt=je.parent,Mt=(null==hi.zpp_pool?Ct=new hi:(Ct=hi.zpp_pool,hi.zpp_pool=Ct.next,Ct.next=null),null==Nt.zpp_pool?Ct.aabb=new Nt:(Ct.aabb=Nt.zpp_pool,Nt.zpp_pool=Ct.aabb.next,Ct.aabb.next=null),Ct.moved=!1,Ct.synced=!1,Ct.first_sync=!1,Ct.parent=kt,Ct.aabb),Pt=je.aabb;for(Mt.minx=(O.minx<Pt.minx?O:Pt).minx,Mt.miny=(O.miny<Pt.miny?O:Pt).miny,Mt.maxx=(O.maxx>Pt.maxx?O:Pt).maxx,Mt.maxy=(O.maxy>Pt.maxy?O:Pt).maxy,Ct.height=je.height+1,null!=kt?(kt.child1==je?kt.child1=Ct:kt.child2=Ct,Ct.child1=je,Ct.child2=Re,je.parent=Ct,Re.parent=Ct):(Ct.child1=je,Ct.child2=Re,je.parent=Ct,Re.parent=Ct,xt.root=Ct),T=Re.parent;null!=T;){null==T.child1||T.height<2||(B=T.child1,1<(E=(I=T.child2).height-B.height)?(It=I.child1,At=I.child2,I.child1=T,I.parent=T.parent,null!=(T.parent=I).parent?I.parent.child1==T?I.parent.child1=I:I.parent.child2=I:xt.root=I,It.height>At.height?(I.child2=It,Ot=((T.child2=At).parent=T).aabb,G=B.aabb,A=At.aabb,Ot.minx=(G.minx<A.minx?G:A).minx,Ot.miny=(G.miny<A.miny?G:A).miny,Ot.maxx=(G.maxx>A.maxx?G:A).maxx,Ot.maxy=(G.maxy>A.maxy?G:A).maxy,Ot=I.aabb,G=T.aabb,A=It.aabb,Ot.minx=(G.minx<A.minx?G:A).minx,Ot.miny=(G.miny<A.miny?G:A).miny,Ot.maxx=(G.maxx>A.maxx?G:A).maxx,Ot.maxy=(G.maxy>A.maxy?G:A).maxy,Ot=B.height,G=At.height,T.height=1+(G<Ot?Ot:G),A=T.height,Ot=It.height,I.height=1+(Ot<A?A:Ot)):(I.child2=At,G=((T.child2=It).parent=T).aabb,A=B.aabb,Ot=It.aabb,G.minx=(A.minx<Ot.minx?A:Ot).minx,G.miny=(A.miny<Ot.miny?A:Ot).miny,G.maxx=(A.maxx>Ot.maxx?A:Ot).maxx,G.maxy=(A.maxy>Ot.maxy?A:Ot).maxy,Tt=I.aabb,Gt=T.aabb,Et=At.aabb,Tt.minx=(Gt.minx<Et.minx?Gt:Et).minx,Tt.miny=(Gt.miny<Et.miny?Gt:Et).miny,Tt.maxx=(Gt.maxx>Et.maxx?Gt:Et).maxx,Tt.maxy=(Gt.maxy>Et.maxy?Gt:Et).maxy,Tt=B.height,Gt=It.height,T.height=1+(Gt<Tt?Tt:Gt),Et=T.height,It=At.height,I.height=1+(It<Et?Et:It)),T=I):E<-1&&(Tt=B.child1,Gt=B.child2,B.child1=T,B.parent=T.parent,null!=(T.parent=B).parent?B.parent.child1==T?B.parent.child1=B:B.parent.child2=B:xt.root=B,Tt.height>Gt.height?(B.child2=Tt,At=((T.child1=Gt).parent=T).aabb,Et=I.aabb,It=Gt.aabb,At.minx=(Et.minx<It.minx?Et:It).minx,At.miny=(Et.miny<It.miny?Et:It).miny,At.maxx=(Et.maxx>It.maxx?Et:It).maxx,At.maxy=(Et.maxy>It.maxy?Et:It).maxy,E=B.aabb,Bt=T.aabb,Lt=Tt.aabb,E.minx=(Bt.minx<Lt.minx?Bt:Lt).minx,E.miny=(Bt.miny<Lt.miny?Bt:Lt).miny,E.maxx=(Bt.maxx>Lt.maxx?Bt:Lt).maxx,E.maxy=(Bt.maxy>Lt.maxy?Bt:Lt).maxy,E=I.height,Bt=Gt.height,T.height=1+(Bt<E?E:Bt),Lt=T.height,E=Tt.height,B.height=1+(E<Lt?Lt:E)):(B.child2=Gt,Bt=((T.child1=Tt).parent=T).aabb,Lt=I.aabb,E=Tt.aabb,Bt.minx=(Lt.minx<E.minx?Lt:E).minx,Bt.miny=(Lt.miny<E.miny?Lt:E).miny,Bt.maxx=(Lt.maxx>E.maxx?Lt:E).maxx,Bt.maxy=(Lt.maxy>E.maxy?Lt:E).maxy,E=B.aabb,Dt=T.aabb,Rt=Gt.aabb,E.minx=(Dt.minx<Rt.minx?Dt:Rt).minx,E.miny=(Dt.miny<Rt.miny?Dt:Rt).miny,E.maxx=(Dt.maxx>Rt.maxx?Dt:Rt).maxx,E.maxy=(Dt.maxy>Rt.maxy?Dt:Rt).maxy,E=I.height,Dt=Tt.height,T.height=1+(Dt<E?E:Dt),Rt=T.height,I=Gt.height,B.height=1+(I<Rt?Rt:I)),T=B));var G,A,Ot,Tt,Gt,At,Et,It,Bt,Lt,E=T.child1,Dt=T.child2,Rt=E.height,I=Dt.height,B=(T.height=1+(I<Rt?Rt:I),T.aabb),jt=E.aabb,Ft=Dt.aabb;B.minx=(jt.minx<Ft.minx?jt:Ft).minx,B.miny=(jt.miny<Ft.miny?jt:Ft).miny,B.maxx=(jt.maxx>Ft.maxx?jt:Ft).maxx,B.maxy=(jt.maxy>Ft.maxy?jt:Ft).maxy,T=T.parent}}Re.synced=!1,Re.moved||(Re.moved=!0,Re.mnext=this.moves,this.moves=Re)}},ci.prototype.broadphase=function(L,D){for(var e=this.syncs;null!=e;){var R=e.shape;if(e.first_sync)e.first_sync=!1;else{var j=e.dyn?this.dtree:this.stree;if(e==j.root)j.root=null;else{var t=e.parent,F=t.parent,i=t.child1==e?t.child2:t.child1;if(null!=F){F.child1==t?F.child1=i:F.child2=i,i.parent=F,t.height=-1;for(var n=t.aabb,r=(null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t,F);null!=r;){null==r.child1||r.height<2||(m=r.child1,1<(d=(c=r.child2).height-m.height)?(h=c.child1,U=c.child2,c.child1=r,c.parent=r.parent,null!=(r.parent=c).parent?c.parent.child1==r?c.parent.child1=c:c.parent.child2=c:j.root=c,h.height>U.height?(c.child2=h,s=((r.child2=U).parent=r).aabb,o=m.aabb,a=U.aabb,s.minx=(o.minx<a.minx?o:a).minx,s.miny=(o.miny<a.miny?o:a).miny,s.maxx=(o.maxx>a.maxx?o:a).maxx,s.maxy=(o.maxy>a.maxy?o:a).maxy,s=c.aabb,o=r.aabb,a=h.aabb,s.minx=(o.minx<a.minx?o:a).minx,s.miny=(o.miny<a.miny?o:a).miny,s.maxx=(o.maxx>a.maxx?o:a).maxx,s.maxy=(o.maxy>a.maxy?o:a).maxy,s=m.height,o=U.height,r.height=1+(o<s?s:o),a=r.height,s=h.height,c.height=1+(s<a?a:s)):(c.child2=U,o=((r.child2=h).parent=r).aabb,a=m.aabb,s=h.aabb,o.minx=(a.minx<s.minx?a:s).minx,o.miny=(a.miny<s.miny?a:s).miny,o.maxx=(a.maxx>s.maxx?a:s).maxx,o.maxy=(a.maxy>s.maxy?a:s).maxy,N=c.aabb,p=r.aabb,l=U.aabb,N.minx=(p.minx<l.minx?p:l).minx,N.miny=(p.miny<l.miny?p:l).miny,N.maxx=(p.maxx>l.maxx?p:l).maxx,N.maxy=(p.maxy>l.maxy?p:l).maxy,N=m.height,p=h.height,r.height=1+(p<N?N:p),l=r.height,h=U.height,c.height=1+(h<l?l:h)),r=c):d<-1&&(N=m.child1,p=m.child2,m.child1=r,m.parent=r.parent,null!=(r.parent=m).parent?m.parent.child1==r?m.parent.child1=m:m.parent.child2=m:j.root=m,N.height>p.height?(m.child2=N,U=((r.child1=p).parent=r).aabb,l=c.aabb,h=p.aabb,U.minx=(l.minx<h.minx?l:h).minx,U.miny=(l.miny<h.miny?l:h).miny,U.maxx=(l.maxx>h.maxx?l:h).maxx,U.maxy=(l.maxy>h.maxy?l:h).maxy,d=m.aabb,H=r.aabb,u=N.aabb,d.minx=(H.minx<u.minx?H:u).minx,d.miny=(H.miny<u.miny?H:u).miny,d.maxx=(H.maxx>u.maxx?H:u).maxx,d.maxy=(H.maxy>u.maxy?H:u).maxy,d=c.height,H=p.height,r.height=1+(H<d?d:H),u=r.height,d=N.height,m.height=1+(d<u?u:d)):(m.child2=p,H=((r.child1=N).parent=r).aabb,u=c.aabb,d=N.aabb,H.minx=(u.minx<d.minx?u:d).minx,H.miny=(u.miny<d.miny?u:d).miny,H.maxx=(u.maxx>d.maxx?u:d).maxx,H.maxy=(u.maxy>d.maxy?u:d).maxy,d=m.aabb,V=r.aabb,W=p.aabb,d.minx=(V.minx<W.minx?V:W).minx,d.miny=(V.miny<W.miny?V:W).miny,d.maxx=(V.maxx>W.maxx?V:W).maxx,d.maxy=(V.maxy>W.maxy?V:W).maxy,d=c.height,V=N.height,r.height=1+(V<d?d:V),W=r.height,c=p.height,m.height=1+(c<W?W:c)),r=m));var o,a,s,N,p,U,l,h,H,u,d=r.child1,V=r.child2,W=r.aabb,c=d.aabb,m=V.aabb,q=(W.minx=(c.minx<m.minx?c:m).minx,W.miny=(c.miny<m.miny?c:m).miny,W.maxx=(c.maxx>m.maxx?c:m).maxx,W.maxy=(c.maxy>m.maxy?c:m).maxy,d.height),X=V.height;r.height=1+(X<q?q:X),r=r.parent}}else{(j.root=i).parent=null,t.height=-1;n=t.aabb;null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,t.child1=t.child2=t.parent=null,t.next=null,t.snext=null,t.mnext=null,t.next=hi.zpp_pool,hi.zpp_pool=t}}}F=e.aabb;if(!L.continuous&&R.zip_aabb&&null!=R.body)if(R.zip_aabb=!1,0==R.type){i=R.circle;if(i.zip_worldCOM&&null!=i.body){if(i.zip_worldCOM=!1,i.zip_localCOM){if(i.zip_localCOM=!1,1==i.type){var y=i.polygon;if(null==y.lverts.next.next)y.localCOMx=y.lverts.next.x,y.localCOMy=y.lverts.next.y;else if(null==y.lverts.next.next.next)y.localCOMx=y.lverts.next.x,y.localCOMy=y.lverts.next.y,y.localCOMx+=y.lverts.next.next.x,y.localCOMy+=y.lverts.next.next.y,y.localCOMx*=.5,y.localCOMy*=.5;else{y.localCOMx=0;var Y=y.localCOMy=0,K=y.lverts.next,Z=K,J=K=K.next;for(K=K.next;null!=K;){var Q=K,$=(Y+=J.x*(Q.y-Z.y),Q.y*J.x-Q.x*J.y);y.localCOMx+=(J.x+Q.x)*$,y.localCOMy+=(J.y+Q.y)*$,Z=J,J=Q,K=K.next}var t=K=y.lverts.next,ee=(Y+=J.x*(t.y-Z.y),t.y*J.x-t.x*J.y),ee=(y.localCOMx+=(J.x+t.x)*ee,y.localCOMy+=(J.y+t.y)*ee,Z=J,K=K.next),te=(Y+=t.x*(ee.y-Z.y),ee.y*t.x-ee.x*t.y),ee=(y.localCOMx+=(t.x+ee.x)*te,y.localCOMy+=(t.y+ee.y)*te,Y=1/(3*Y));y.localCOMx*=ee,y.localCOMy*=ee}}null!=i.wrap_localCOM&&(i.wrap_localCOM.zpp_inner.x=i.localCOMx,i.wrap_localCOM.zpp_inner.y=i.localCOMy)}te=i.body;te.zip_axis&&(te.zip_axis=!1,te.axisx=Math.sin(te.rot),te.axisy=Math.cos(te.rot)),i.worldCOMx=i.body.posx+(i.body.axisy*i.localCOMx-i.body.axisx*i.localCOMy),i.worldCOMy=i.body.posy+(i.localCOMx*i.body.axisx+i.localCOMy*i.body.axisy)}var ee=i.radius,ie=i.radius;i.aabb.minx=i.worldCOMx-ee,i.aabb.miny=i.worldCOMy-ie,i.aabb.maxx=i.worldCOMx+ee,i.aabb.maxy=i.worldCOMy+ie}else{var _=R.polygon;if(_.zip_gverts&&null!=_.body){_.zip_gverts=!1,_.validate_lverts();for(var ie=_.body,ne=(ie.zip_axis&&(ie.zip_axis=!1,ie.axisx=Math.sin(ie.rot),ie.axisy=Math.cos(ie.rot)),_.lverts.next),re=_.gverts.next;null!=re;){var oe=re,ae=ne,ne=ne.next;oe.x=_.body.posx+(_.body.axisy*ae.x-_.body.axisx*ae.y),oe.y=_.body.posy+(ae.x*_.body.axisx+ae.y*_.body.axisy),re=re.next}}for(var se=_.gverts.next,pe=(_.aabb.minx=se.x,_.aabb.miny=se.y,_.aabb.maxx=se.x,_.aabb.maxy=se.y,_.gverts.next.next);null!=pe;){var le=pe;le.x<_.aabb.minx&&(_.aabb.minx=le.x),le.x>_.aabb.maxx&&(_.aabb.maxx=le.x),le.y<_.aabb.miny&&(_.aabb.miny=le.y),le.y>_.aabb.maxy&&(_.aabb.maxy=le.y),pe=pe.next}}var se=R.aabb,he=(F.minx=se.minx-3,F.miny=se.miny-3,F.maxx=se.maxx+3,F.maxy=se.maxy+3,(e.dyn=1!=R.body.type&&!R.body.component.sleeping)?this.dtree:this.stree);if(null==he.root)he.root=e,he.root.parent=null;else{for(var x=e.aabb,f=he.root;null!=f.child1;){var ue=f.child1,de=f.child2,g=f.aabb,g=2*(g.maxx-g.minx+(g.maxy-g.miny)),ce=di.tmpaabb,me=f.aabb,ce=(ce.minx=(me.minx<x.minx?me:x).minx,ce.miny=(me.miny<x.miny?me:x).miny,ce.maxx=(me.maxx>x.maxx?me:x).maxx,ce.maxy=(me.maxy>x.maxy?me:x).maxy,di.tmpaabb),me=2*(ce.maxx-ce.minx+(ce.maxy-ce.miny)),ce=2*me,me=2*(me-g),g=di.tmpaabb,v=ue.aabb,g=(g.minx=(x.minx<v.minx?x:v).minx,g.miny=(x.miny<v.miny?x:v).miny,g.maxx=(x.maxx>v.maxx?x:v).maxx,g.maxy=(x.maxy>v.maxy?x:v).maxy,v=null==ue.child1?2*((g=di.tmpaabb).maxx-g.minx+(g.maxy-g.miny))+me:(g=2*((v=ue.aabb).maxx-v.minx+(v.maxy-v.miny)),2*((v=di.tmpaabb).maxx-v.minx+(v.maxy-v.miny))-g+me),di.tmpaabb),z=de.aabb;if(g.minx=(x.minx<z.minx?x:z).minx,g.miny=(x.miny<z.miny?x:z).miny,g.maxx=(x.maxx>z.maxx?x:z).maxx,g.maxy=(x.maxy>z.maxy?x:z).maxy,z=null==de.child1?2*((g=di.tmpaabb).maxx-g.minx+(g.maxy-g.miny))+me:(g=2*((z=de.aabb).maxx-z.minx+(z.maxy-z.miny)),2*((z=di.tmpaabb).maxx-z.minx+(z.maxy-z.miny))-g+me),ce<v&&ce<z)break;f=v<z?ue:de}var b,R=f,ye=R.parent,_e=(null==hi.zpp_pool?b=new hi:(b=hi.zpp_pool,hi.zpp_pool=b.next,b.next=null),null==Nt.zpp_pool?b.aabb=new Nt:(b.aabb=Nt.zpp_pool,Nt.zpp_pool=b.aabb.next,b.aabb.next=null),b.moved=!1,b.synced=!1,b.first_sync=!1,b.parent=ye,b.aabb),xe=R.aabb;for(_e.minx=(x.minx<xe.minx?x:xe).minx,_e.miny=(x.miny<xe.miny?x:xe).miny,_e.maxx=(x.maxx>xe.maxx?x:xe).maxx,_e.maxy=(x.maxy>xe.maxy?x:xe).maxy,b.height=R.height+1,null!=ye?(ye.child1==R?ye.child1=b:ye.child2=b,b.child1=R,b.child2=e,R.parent=b,e.parent=b):(b.child1=R,b.child2=e,R.parent=b,e.parent=b,he.root=b),f=e.parent;null!=f;){null==f.child1||f.height<2||(A=f.child1,1<(T=(G=f.child2).height-A.height)?(P=G.child1,ge=G.child2,G.child1=f,G.parent=f.parent,null!=(f.parent=G).parent?G.parent.child1==f?G.parent.child1=G:G.parent.child2=G:he.root=G,P.height>ge.height?(G.child2=P,C=((f.child2=ge).parent=f).aabb,w=A.aabb,S=ge.aabb,C.minx=(w.minx<S.minx?w:S).minx,C.miny=(w.miny<S.miny?w:S).miny,C.maxx=(w.maxx>S.maxx?w:S).maxx,C.maxy=(w.maxy>S.maxy?w:S).maxy,C=G.aabb,w=f.aabb,S=P.aabb,C.minx=(w.minx<S.minx?w:S).minx,C.miny=(w.miny<S.miny?w:S).miny,C.maxx=(w.maxx>S.maxx?w:S).maxx,C.maxy=(w.maxy>S.maxy?w:S).maxy,C=A.height,w=ge.height,f.height=1+(w<C?C:w),S=f.height,C=P.height,G.height=1+(C<S?S:C)):(G.child2=ge,w=((f.child2=P).parent=f).aabb,S=A.aabb,C=P.aabb,w.minx=(S.minx<C.minx?S:C).minx,w.miny=(S.miny<C.miny?S:C).miny,w.maxx=(S.maxx>C.maxx?S:C).maxx,w.maxy=(S.maxy>C.maxy?S:C).maxy,fe=G.aabb,k=f.aabb,M=ge.aabb,fe.minx=(k.minx<M.minx?k:M).minx,fe.miny=(k.miny<M.miny?k:M).miny,fe.maxx=(k.maxx>M.maxx?k:M).maxx,fe.maxy=(k.maxy>M.maxy?k:M).maxy,fe=A.height,k=P.height,f.height=1+(k<fe?fe:k),M=f.height,P=ge.height,G.height=1+(P<M?M:P)),f=G):T<-1&&(fe=A.child1,k=A.child2,A.child1=f,A.parent=f.parent,null!=(f.parent=A).parent?A.parent.child1==f?A.parent.child1=A:A.parent.child2=A:he.root=A,fe.height>k.height?(A.child2=fe,ge=((f.child1=k).parent=f).aabb,M=G.aabb,P=k.aabb,ge.minx=(M.minx<P.minx?M:P).minx,ge.miny=(M.miny<P.miny?M:P).miny,ge.maxx=(M.maxx>P.maxx?M:P).maxx,ge.maxy=(M.maxy>P.maxy?M:P).maxy,T=A.aabb,ve=f.aabb,O=fe.aabb,T.minx=(ve.minx<O.minx?ve:O).minx,T.miny=(ve.miny<O.miny?ve:O).miny,T.maxx=(ve.maxx>O.maxx?ve:O).maxx,T.maxy=(ve.maxy>O.maxy?ve:O).maxy,T=G.height,ve=k.height,f.height=1+(ve<T?T:ve),O=f.height,T=fe.height,A.height=1+(T<O?O:T)):(A.child2=k,ve=((f.child1=fe).parent=f).aabb,O=G.aabb,T=fe.aabb,ve.minx=(O.minx<T.minx?O:T).minx,ve.miny=(O.miny<T.miny?O:T).miny,ve.maxx=(O.maxx>T.maxx?O:T).maxx,ve.maxy=(O.maxy>T.maxy?O:T).maxy,T=A.aabb,ze=f.aabb,be=k.aabb,T.minx=(ze.minx<be.minx?ze:be).minx,T.miny=(ze.miny<be.miny?ze:be).miny,T.maxx=(ze.maxx>be.maxx?ze:be).maxx,T.maxy=(ze.maxy>be.maxy?ze:be).maxy,T=G.height,ze=fe.height,f.height=1+(ze<T?T:ze),be=f.height,G=k.height,A.height=1+(G<be?be:G)),f=A));var w,S,C,fe,k,ge,M,P,ve,O,T=f.child1,ze=f.child2,be=T.height,G=ze.height,A=(f.height=1+(G<be?be:G),f.aabb),we=T.aabb,Se=ze.aabb;A.minx=(we.minx<Se.minx?we:Se).minx,A.miny=(we.miny<Se.miny?we:Se).miny,A.maxx=(we.maxx>Se.maxx?we:Se).maxx,A.maxy=(we.maxy>Se.maxy?we:Se).maxy,f=f.parent}}e.synced=!1,e=e.snext}for(;null!=this.syncs;){var Ce=this.syncs;if(this.syncs=Ce.snext,Ce.snext=null,!Ce.moved){Ce.moved=!1;var ke=Ce.shape;if(!ke.body.component.sleeping){var Me=Ce.aabb,Pe=null;for(null!=this.dtree.root&&(this.dtree.root.next=Pe,Pe=this.dtree.root);null!=Pe;){var Oe=Pe,Pe=Oe.next;if(Oe.next=null,Oe!=Ce)if(null==Oe.child1){var Te=Oe.shape;if(Te.body!=ke.body&&(1!=Te.body.type||1!=ke.body.type)){var Ge=Oe.aabb;if(Ge.miny<=Me.maxy&&Me.miny<=Ge.maxy&&Ge.minx<=Me.maxx&&Me.minx<=Ge.maxx){for(var Ae,Ee,Ie,Be,Le=ke.id<Te.id?(Ae=ke.id,Te.id):(Ae=Te.id,ke.id),E=null,De=(ke.pairs.length<Te.pairs.length?ke:Te).pairs.head;null!=De;){var Re=De.elt;if(Re.id==Ae&&Re.di==Le){E=Re;break}De=De.next}null!=E?E.sleeping&&(E.sleeping=!1,E.next=this.pairs,(this.pairs=E).first=!0):(null==ui.zpp_pool?E=new ui:(E=ui.zpp_pool,ui.zpp_pool=E.next,E.next=null),E.n1=Ce,E.n2=Oe,E.id=Ae,E.di=Le,E.next=this.pairs,(this.pairs=E).first=!0,Ge=ke.pairs,null==Ft.zpp_pool?Ee=new Ft:(Ee=Ft.zpp_pool,Ft.zpp_pool=Ee.next,Ee.next=null),Ee.elt=E,Ie=((Ie=Ee).next=Ge.head,Ge.head=Ie,Ge.modified=!0,Ge.length++,Te.pairs),null==Ft.zpp_pool?Be=new Ft:(Be=Ft.zpp_pool,Ft.zpp_pool=Be.next,Be.next=null),Be.elt=E,(Ge=Be).next=Ie.head,Ie.head=Ge,Ie.modified=!0,Ie.length++)}}}else{Te=Oe.aabb;Te.miny<=Me.maxy&&Me.miny<=Te.maxy&&Te.minx<=Me.maxx&&Me.minx<=Te.maxx&&(null!=Oe.child1&&(Oe.child1.next=Pe,Pe=Oe.child1),null!=Oe.child2&&(Oe.child2.next=Pe,Pe=Oe.child2))}}for(null!=this.stree.root&&(this.stree.root.next=Pe,Pe=this.stree.root);null!=Pe;){var je=Pe;if(Pe=je.next,je.next=null,je!=Ce)if(null==je.child1){var Fe=je.shape;if(Fe.body!=ke.body&&(1!=Fe.body.type||1!=ke.body.type)){var Ne=je.aabb;if(Ne.miny<=Me.maxy&&Me.miny<=Ne.maxy&&Ne.minx<=Me.maxx&&Me.minx<=Ne.maxx){for(var Ue,He,Ve,We,qe=ke.id<Fe.id?(Ue=ke.id,Fe.id):(Ue=Fe.id,ke.id),I=null,Xe=(ke.pairs.length<Fe.pairs.length?ke:Fe).pairs.head;null!=Xe;){var Ye=Xe.elt;if(Ye.id==Ue&&Ye.di==qe){I=Ye;break}Xe=Xe.next}null!=I?I.sleeping&&(I.sleeping=!1,I.next=this.pairs,(this.pairs=I).first=!0):(null==ui.zpp_pool?I=new ui:(I=ui.zpp_pool,ui.zpp_pool=I.next,I.next=null),I.n1=Ce,I.n2=je,I.id=Ue,I.di=qe,I.next=this.pairs,(this.pairs=I).first=!0,Ne=ke.pairs,null==Ft.zpp_pool?He=new Ft:(He=Ft.zpp_pool,Ft.zpp_pool=He.next,He.next=null),He.elt=I,Ve=((Ve=He).next=Ne.head,Ne.head=Ve,Ne.modified=!0,Ne.length++,Fe.pairs),null==Ft.zpp_pool?We=new Ft:(We=Ft.zpp_pool,Ft.zpp_pool=We.next,We.next=null),We.elt=I,(Ne=We).next=Ve.head,Ve.head=Ne,Ve.modified=!0,Ve.length++)}}}else{Fe=je.aabb;Fe.miny<=Me.maxy&&Me.miny<=Fe.maxy&&Fe.minx<=Me.maxx&&Me.minx<=Fe.maxx&&(null!=je.child1&&(je.child1.next=Pe,Pe=je.child1),null!=je.child2&&(je.child2.next=Pe,Pe=je.child2))}}}}}for(;null!=this.moves;){var Ke=this.moves,Ze=(this.moves=Ke.mnext,Ke.mnext=null,Ke.moved=!1,Ke.shape);if(!Ze.body.component.sleeping){var Je=Ke.aabb,Qe=null;for(null!=this.dtree.root&&(this.dtree.root.next=Qe,Qe=this.dtree.root);null!=Qe;){var $e=Qe,Qe=$e.next;if($e.next=null,$e!=Ke)if(null==$e.child1){var et=$e.shape;if(et.body!=Ze.body&&(1!=et.body.type||1!=Ze.body.type)){var tt=$e.aabb;if(tt.miny<=Je.maxy&&Je.miny<=tt.maxy&&tt.minx<=Je.maxx&&Je.minx<=tt.maxx){for(var it,nt,rt,ot,at=Ze.id<et.id?(it=Ze.id,et.id):(it=et.id,Ze.id),st=null,pt=(Ze.pairs.length<et.pairs.length?Ze:et).pairs.head;null!=pt;){var lt=pt.elt;if(lt.id==it&&lt.di==at){st=lt;break}pt=pt.next}null!=st?st.sleeping&&(st.sleeping=!1,st.next=this.pairs,(this.pairs=st).first=!0):(null==ui.zpp_pool?st=new ui:(st=ui.zpp_pool,ui.zpp_pool=st.next,st.next=null),st.n1=Ke,st.n2=$e,st.id=it,st.di=at,st.next=this.pairs,(this.pairs=st).first=!0,tt=Ze.pairs,null==Ft.zpp_pool?nt=new Ft:(nt=Ft.zpp_pool,Ft.zpp_pool=nt.next,nt.next=null),nt.elt=st,rt=((rt=nt).next=tt.head,tt.head=rt,tt.modified=!0,tt.length++,et.pairs),null==Ft.zpp_pool?ot=new Ft:(ot=Ft.zpp_pool,Ft.zpp_pool=ot.next,ot.next=null),ot.elt=st,(tt=ot).next=rt.head,rt.head=tt,rt.modified=!0,rt.length++)}}}else{et=$e.aabb;et.miny<=Je.maxy&&Je.miny<=et.maxy&&et.minx<=Je.maxx&&Je.minx<=et.maxx&&(null!=$e.child1&&($e.child1.next=Qe,Qe=$e.child1),null!=$e.child2&&($e.child2.next=Qe,Qe=$e.child2))}}for(null!=this.stree.root&&(this.stree.root.next=Qe,Qe=this.stree.root);null!=Qe;){var ht=Qe;if(Qe=ht.next,ht.next=null,ht!=Ke)if(null==ht.child1){var ut=ht.shape;if(ut.body!=Ze.body&&(1!=ut.body.type||1!=Ze.body.type)){var dt=ht.aabb;if(dt.miny<=Je.maxy&&Je.miny<=dt.maxy&&dt.minx<=Je.maxx&&Je.minx<=dt.maxx){for(var ct,mt,yt,_t,xt=Ze.id<ut.id?(ct=Ze.id,ut.id):(ct=ut.id,Ze.id),ft=null,gt=(Ze.pairs.length<ut.pairs.length?Ze:ut).pairs.head;null!=gt;){var vt=gt.elt;if(vt.id==ct&&vt.di==xt){ft=vt;break}gt=gt.next}null!=ft?ft.sleeping&&(ft.sleeping=!1,ft.next=this.pairs,(this.pairs=ft).first=!0):(null==ui.zpp_pool?ft=new ui:(ft=ui.zpp_pool,ui.zpp_pool=ft.next,ft.next=null),ft.n1=Ke,ft.n2=ht,ft.id=ct,ft.di=xt,ft.next=this.pairs,(this.pairs=ft).first=!0,dt=Ze.pairs,null==Ft.zpp_pool?mt=new Ft:(mt=Ft.zpp_pool,Ft.zpp_pool=mt.next,mt.next=null),mt.elt=ft,yt=((yt=mt).next=dt.head,dt.head=yt,dt.modified=!0,dt.length++,ut.pairs),null==Ft.zpp_pool?_t=new Ft:(_t=Ft.zpp_pool,Ft.zpp_pool=_t.next,_t.next=null),_t.elt=ft,(dt=_t).next=yt.head,yt.head=dt,yt.modified=!0,yt.length++)}}}else{ut=ht.aabb;ut.miny<=Je.maxy&&Je.miny<=ut.maxy&&ut.minx<=Je.maxx&&Je.minx<=ut.maxx&&(null!=ht.child1&&(ht.child1.next=Qe,Qe=ht.child1),null!=ht.child2&&(ht.child2.next=Qe,Qe=ht.child2))}}}}for(var zt=null,B=this.pairs;null!=B;)if(!B.first&&(It=B.n1.aabb,!((Bt=B.n2.aabb).miny<=It.maxy&&It.miny<=Bt.maxy&&Bt.minx<=It.maxx&&It.minx<=Bt.maxx))){null==zt?this.pairs=B.next:zt.next=B.next;for(var bt=B.n1.shape.pairs,wt=null,St=bt.head;null!=St;){if(St.elt==B){null==wt?(kt=(Ct=bt.head).next,bt.head=kt,null==bt.head&&(bt.pushmod=!0)):(kt=(Ct=wt.next).next,null==(wt.next=kt)&&(bt.pushmod=!0));var Ct,kt,Mt=Ct;Mt.elt=null,Mt.next=Ft.zpp_pool,Ft.zpp_pool=Mt,bt.modified=!0,bt.length--,bt.pushmod=!0;break}St=(wt=St).next}for(var Pt=B.n2.shape.pairs,Ot=null,Tt=Pt.head;null!=Tt;){if(Tt.elt==B){null==Ot?(At=(Gt=Pt.head).next,Pt.head=At,null==Pt.head&&(Pt.pushmod=!0)):(At=(Gt=Ot.next).next,null==(Ot.next=At)&&(Pt.pushmod=!0));var Gt,At,Et=Gt;Et.elt=null,Et.next=Ft.zpp_pool,Ft.zpp_pool=Et,Pt.modified=!0,Pt.length--,Pt.pushmod=!0;break}Tt=(Ot=Tt).next}var It=B.next,Bt=(null!=B.arb&&(B.arb.pair=null),B.arb=null,B);Bt.n1=Bt.n2=null,Bt.sleeping=!1,Bt.next=ui.zpp_pool,ui.zpp_pool=Bt,B=It}else var Lt,Dt,Bt=B.n1.shape,It=Bt.body,Rt=B.n2.shape,jt=Rt.body,B=B.first||!It.component.sleeping&&1!=It.type||!jt.component.sleeping&&1!=jt.type?(B.first=!1,Dt=Bt.aabb,(Lt=Rt.aabb).miny<=Dt.maxy&&Dt.miny<=Lt.maxy&&Lt.minx<=Dt.maxx&&Dt.minx<=Lt.maxx&&(Dt=B.arb,B.arb=D?L.narrowPhase(Bt,Rt,2!=It.type||2!=jt.type,B.arb,!1):L.continuousEvent(Bt,Rt,2!=It.type||2!=jt.type,B.arb,!1),null==B.arb?null!=Dt&&(Dt.pair=null):B.arb.pair=B),(zt=B).next):(B.sleeping=!0,null==zt?this.pairs=B.next:zt.next=B.next,B.next)},ci.prototype.clear=function(){for(;null!=this.syncs;){var e=this.syncs.snext;this.syncs.snext=null,this.syncs.first_sync&&(this.syncs.shape.node=null,this.syncs.shape.removedFromSpace(),this.syncs.shape=null),this.syncs=e}for(;null!=this.moves;){var t=this.moves.mnext;this.moves.mnext=null,this.moves.first_sync&&(this.moves.shape.node=null,this.moves.shape.removedFromSpace(),this.moves.shape=null),this.moves=t}for(;null!=this.pairs;){for(var i=this.pairs.next,n=(null!=this.pairs.arb&&(this.pairs.arb.pair=null),this.pairs.arb=null,this.pairs.n1.shape.pairs),r=this.pairs,o=null,a=n.head;null!=a;){if(a.elt==r){null==o?(p=(s=n.head).next,n.head=p,null==n.head&&(n.pushmod=!0)):(p=(s=o.next).next,null==(o.next=p)&&(n.pushmod=!0));var s,p,l=s;l.elt=null,l.next=Ft.zpp_pool,Ft.zpp_pool=l,n.modified=!0,n.length--,n.pushmod=!0;break}a=(o=a).next}for(var h=this.pairs.n2.shape.pairs,u=this.pairs,d=null,c=h.head;null!=c;){if(c.elt==u){null==d?(y=(m=h.head).next,h.head=y,null==h.head&&(h.pushmod=!0)):(y=(m=d.next).next,null==(d.next=y)&&(h.pushmod=!0));var m,y,_=m;_.elt=null,_.next=Ft.zpp_pool,Ft.zpp_pool=_,h.modified=!0,h.length--,h.pushmod=!0;break}c=(d=c).next}var x=this.pairs;x.n1=x.n2=null,x.sleeping=!1,x.next=ui.zpp_pool,ui.zpp_pool=x,this.pairs=i}this.dtree.clear(),this.stree.clear()},ci.prototype.treeStack=null,ci.prototype.shapesUnderPoint=function(e,t,i,n){this.sync_broadphase(),null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=e,r.y=t;var r,o=r,a=null==n?new be:n;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var s=this.treeStack.pop_unsafe(),p=s.aabb;o.x>=p.minx&&o.x<=p.maxx&&o.y>=p.miny&&o.y<=p.maxy&&(null==s.child1?(null==i||0!=((p=s.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&p.collisionGroup))&&(0==s.shape.type?dr.circleContains(s.shape.circle,o)&&a.push(s.shape.outer):dr.polyContains(s.shape.polygon,o)&&a.push(s.shape.outer)):(null!=s.child1&&this.treeStack.add(s.child1),null!=s.child2&&this.treeStack.add(s.child2)))}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var l=this.treeStack.pop_unsafe(),h=l.aabb;o.x>=h.minx&&o.x<=h.maxx&&o.y>=h.miny&&o.y<=h.maxy&&(null==l.child1?(null==i||0!=((h=l.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&h.collisionGroup))&&(0==l.shape.type?dr.circleContains(l.shape.circle,o)&&a.push(l.shape.outer):dr.polyContains(l.shape.polygon,o)&&a.push(l.shape.outer)):(null!=l.child1&&this.treeStack.add(l.child1),null!=l.child2&&this.treeStack.add(l.child2)))}return null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o,a},ci.prototype.bodiesUnderPoint=function(e,t,i,n){this.sync_broadphase(),null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=e,r.y=t;var r,o=r,a=null==n?new re:n;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var s,p=this.treeStack.pop_unsafe(),l=p.aabb;o.x>=l.minx&&o.x<=l.maxx&&o.y>=l.miny&&o.y<=l.maxy&&(null==p.child1?(l=p.shape.body.outer,a.has(l)||(null==i||0!=((s=p.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&s.collisionGroup))&&(0==p.shape.type?dr.circleContains(p.shape.circle,o)&&a.push(l):dr.polyContains(p.shape.polygon,o)&&a.push(l))):(null!=p.child1&&this.treeStack.add(p.child1),null!=p.child2&&this.treeStack.add(p.child2)))}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var h,u=this.treeStack.pop_unsafe(),d=u.aabb;o.x>=d.minx&&o.x<=d.maxx&&o.y>=d.miny&&o.y<=d.maxy&&(null==u.child1?(d=u.shape.body.outer,a.has(d)||(null==i||0!=((h=u.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&h.collisionGroup))&&(0==u.shape.type?dr.circleContains(u.shape.circle,o)&&a.push(d):dr.polyContains(u.shape.polygon,o)&&a.push(d))):(null!=u.child1&&this.treeStack.add(u.child1),null!=u.child2&&this.treeStack.add(u.child2)))}return null!=o.outer&&(o.outer.zpp_inner=null,o.outer=null),o._isimmutable=null,o._validate=null,o._invalidate=null,o.next=cr.zpp_pool,cr.zpp_pool=o,a},ci.prototype.treeStack2=null,ci.prototype.shapesInAABB=function(e,t,i,n,r){this.sync_broadphase(),this.updateAABBShape(e);var o=this.aabbShape.zpp_inner.aabb,a=null==r?new be:r;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var s=this.treeStack.pop_unsafe(),p=s.aabb;if(p.minx>=o.minx&&p.miny>=o.miny&&p.maxx<=o.maxx&&p.maxy<=o.maxy)if(null==s.child1)(null==n||0!=((p=s.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&p.collisionGroup))&&a.push(s.shape.outer);else for(null==this.treeStack2&&(this.treeStack2=new Wi),this.treeStack2.add(s);null!=this.treeStack2.head;){var l,h=this.treeStack2.pop_unsafe();null==h.child1?(null==n||0!=((l=h.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&l.collisionGroup))&&a.push(h.shape.outer):(null!=h.child1&&this.treeStack2.add(h.child1),null!=h.child2&&this.treeStack2.add(h.child2))}else{var p=s.aabb;o.miny<=p.maxy&&p.miny<=o.maxy&&o.minx<=p.maxx&&p.minx<=o.maxx&&(null==s.child1?(null==n||0!=((p=s.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&p.collisionGroup))&&(t?i?dr.containTest(this.aabbShape.zpp_inner,s.shape)&&a.push(s.shape.outer):((p=s.shape.aabb).minx>=o.minx&&p.miny>=o.miny&&p.maxx<=o.maxx&&p.maxy<=o.maxy||dr.testCollide_safe(s.shape,this.aabbShape.zpp_inner))&&a.push(s.shape.outer):(!i||(p=s.shape.aabb).minx>=o.minx&&p.miny>=o.miny&&p.maxx<=o.maxx&&p.maxy<=o.maxy)&&a.push(s.shape.outer)):(null!=s.child1&&this.treeStack.add(s.child1),null!=s.child2&&this.treeStack.add(s.child2)))}}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var u=this.treeStack.pop_unsafe(),d=u.aabb;if(d.minx>=o.minx&&d.miny>=o.miny&&d.maxx<=o.maxx&&d.maxy<=o.maxy)if(null==u.child1)(null==n||0!=((d=u.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&d.collisionGroup))&&a.push(u.shape.outer);else for(null==this.treeStack2&&(this.treeStack2=new Wi),this.treeStack2.add(u);null!=this.treeStack2.head;){var c,m=this.treeStack2.pop_unsafe();null==m.child1?(null==n||0!=((c=m.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&c.collisionGroup))&&a.push(m.shape.outer):(null!=m.child1&&this.treeStack2.add(m.child1),null!=m.child2&&this.treeStack2.add(m.child2))}else{var d=u.aabb;o.miny<=d.maxy&&d.miny<=o.maxy&&o.minx<=d.maxx&&d.minx<=o.maxx&&(null==u.child1?(null==n||0!=((d=u.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&d.collisionGroup))&&(t?i?dr.containTest(this.aabbShape.zpp_inner,u.shape)&&a.push(u.shape.outer):((d=u.shape.aabb).minx>=o.minx&&d.miny>=o.miny&&d.maxx<=o.maxx&&d.maxy<=o.maxy||dr.testCollide_safe(u.shape,this.aabbShape.zpp_inner))&&a.push(u.shape.outer):(!i||(d=u.shape.aabb).minx>=o.minx&&d.miny>=o.miny&&d.maxx<=o.maxx&&d.maxy<=o.maxy)&&a.push(u.shape.outer)):(null!=u.child1&&this.treeStack.add(u.child1),null!=u.child2&&this.treeStack.add(u.child2)))}}return a},ci.prototype.failed=null,ci.prototype.bodiesInAABB=function(e,t,i,n,r){this.sync_broadphase(),this.updateAABBShape(e);var o=this.aabbShape.zpp_inner.aabb,a=null==r?new re:r;if(null==this.failed&&(this.failed=new re),null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var s=this.treeStack.pop_unsafe(),p=s.aabb;if(p.minx>=o.minx&&p.miny>=o.miny&&p.maxx<=o.maxx&&p.maxy<=o.maxy)if(null==s.child1)(null==n||0!=((p=s.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&p.collisionGroup))&&(p=s.shape.body.outer,a.has(p)||a.push(p));else for(null==this.treeStack2&&(this.treeStack2=new Wi),this.treeStack2.add(s);null!=this.treeStack2.head;){var l,h=this.treeStack2.pop_unsafe();null==h.child1?(null==n||0!=((l=h.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&l.collisionGroup))&&(l=h.shape.body.outer,a.has(l)||a.push(l)):(null!=h.child1&&this.treeStack2.add(h.child1),null!=h.child2&&this.treeStack2.add(h.child2))}else{var u,d,p=s.aabb;o.miny<=p.maxy&&p.miny<=o.maxy&&o.minx<=p.maxx&&p.minx<=o.maxx&&(null==s.child1?(p=s.shape.body.outer,(null==n||0!=((u=s.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&u.collisionGroup))&&(t?i?this.failed.has(p)||(u=dr.containTest(this.aabbShape.zpp_inner,s.shape),!a.has(p)&&u?a.push(p):u||(a.remove(p),this.failed.push(p))):!a.has(p)&&dr.testCollide_safe(s.shape,this.aabbShape.zpp_inner)&&a.push(p):i?this.failed.has(p)||(d=(d=s.shape.aabb).minx>=o.minx&&d.miny>=o.miny&&d.maxx<=o.maxx&&d.maxy<=o.maxy,!a.has(p)&&d?a.push(p):d||(a.remove(p),this.failed.push(p))):!a.has(p)&&((d=s.shape.aabb).minx>=o.minx&&d.miny>=o.miny&&d.maxx<=o.maxx&&d.maxy<=o.maxy)&&a.push(p))):(null!=s.child1&&this.treeStack.add(s.child1),null!=s.child2&&this.treeStack.add(s.child2)))}}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var c=this.treeStack.pop_unsafe(),m=c.aabb;if(m.minx>=o.minx&&m.miny>=o.miny&&m.maxx<=o.maxx&&m.maxy<=o.maxy)if(null==c.child1)(null==n||0!=((m=c.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&m.collisionGroup))&&(m=c.shape.body.outer,a.has(m)||a.push(m));else for(null==this.treeStack2&&(this.treeStack2=new Wi),this.treeStack2.add(c);null!=this.treeStack2.head;){var y,_=this.treeStack2.pop_unsafe();null==_.child1?(null==n||0!=((y=_.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&y.collisionGroup))&&(y=_.shape.body.outer,a.has(y)||a.push(y)):(null!=_.child1&&this.treeStack2.add(_.child1),null!=_.child2&&this.treeStack2.add(_.child2))}else{var x,f,m=c.aabb;o.miny<=m.maxy&&m.miny<=o.maxy&&o.minx<=m.maxx&&m.minx<=o.maxx&&(null==c.child1?(m=c.shape.body.outer,(null==n||0!=((x=c.shape.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&x.collisionGroup))&&(t?i?this.failed.has(m)||(x=dr.containTest(this.aabbShape.zpp_inner,c.shape),!a.has(m)&&x?a.push(m):x||(a.remove(m),this.failed.push(m))):!a.has(m)&&dr.testCollide_safe(c.shape,this.aabbShape.zpp_inner)&&a.push(m):i?this.failed.has(m)||(f=(f=c.shape.aabb).minx>=o.minx&&f.miny>=o.miny&&f.maxx<=o.maxx&&f.maxy<=o.maxy,!a.has(m)&&f?a.push(m):f||(a.remove(m),this.failed.push(m))):!a.has(m)&&((f=c.shape.aabb).minx>=o.minx&&f.miny>=o.miny&&f.maxx<=o.maxx&&f.maxy<=o.maxy)&&a.push(m))):(null!=c.child1&&this.treeStack.add(c.child1),null!=c.child2&&this.treeStack.add(c.child2)))}}return this.failed.clear(),a},ci.prototype.shapesInCircle=function(e,t,i,n,r,o){this.sync_broadphase(),this.updateCircShape(e,t,i);var a=this.circShape.zpp_inner.aabb,s=null==o?new be:o;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var p=this.treeStack.pop_unsafe(),l=p.aabb;a.miny<=l.maxy&&l.miny<=a.maxy&&a.minx<=l.maxx&&l.minx<=a.maxx&&(null==p.child1?(null==r||0!=((l=p.shape.filter).collisionMask&r.collisionGroup)&&0!=(r.collisionMask&l.collisionGroup))&&(n?dr.containTest(this.circShape.zpp_inner,p.shape)&&s.push(p.shape.outer):dr.testCollide_safe(p.shape,this.circShape.zpp_inner)&&s.push(p.shape.outer)):(null!=p.child1&&this.treeStack.add(p.child1),null!=p.child2&&this.treeStack.add(p.child2)))}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var h=this.treeStack.pop_unsafe(),u=h.aabb;a.miny<=u.maxy&&u.miny<=a.maxy&&a.minx<=u.maxx&&u.minx<=a.maxx&&(null==h.child1?(null==r||0!=((u=h.shape.filter).collisionMask&r.collisionGroup)&&0!=(r.collisionMask&u.collisionGroup))&&(n?dr.containTest(this.circShape.zpp_inner,h.shape)&&s.push(h.shape.outer):dr.testCollide_safe(h.shape,this.circShape.zpp_inner)&&s.push(h.shape.outer)):(null!=h.child1&&this.treeStack.add(h.child1),null!=h.child2&&this.treeStack.add(h.child2)))}return s},ci.prototype.bodiesInCircle=function(e,t,i,n,r,o){this.sync_broadphase(),this.updateCircShape(e,t,i);var a=this.circShape.zpp_inner.aabb,s=null==o?new re:o;if(null==this.failed&&(this.failed=new re),null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var p,l=this.treeStack.pop_unsafe(),h=l.aabb;a.miny<=h.maxy&&h.miny<=a.maxy&&a.minx<=h.maxx&&h.minx<=a.maxx&&(null==l.child1?(h=l.shape.body.outer,(null==r||0!=((p=l.shape.filter).collisionMask&r.collisionGroup)&&0!=(r.collisionMask&p.collisionGroup))&&(n?this.failed.has(h)||(p=dr.containTest(this.circShape.zpp_inner,l.shape),!s.has(h)&&p?s.push(h):p||(s.remove(h),this.failed.push(h))):!s.has(h)&&dr.testCollide_safe(l.shape,this.circShape.zpp_inner)&&s.push(h))):(null!=l.child1&&this.treeStack.add(l.child1),null!=l.child2&&this.treeStack.add(l.child2)))}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var u,d=this.treeStack.pop_unsafe(),c=d.aabb;a.miny<=c.maxy&&c.miny<=a.maxy&&a.minx<=c.maxx&&c.minx<=a.maxx&&(null==d.child1?(c=d.shape.body.outer,(null==r||0!=((u=d.shape.filter).collisionMask&r.collisionGroup)&&0!=(r.collisionMask&u.collisionGroup))&&(n?this.failed.has(c)||(u=dr.containTest(this.circShape.zpp_inner,d.shape),!s.has(c)&&u?s.push(c):u||(s.remove(c),this.failed.push(c))):!s.has(c)&&dr.testCollide_safe(d.shape,this.circShape.zpp_inner)&&s.push(c))):(null!=d.child1&&this.treeStack.add(d.child1),null!=d.child2&&this.treeStack.add(d.child2)))}return this.failed.clear(),s},ci.prototype.shapesInShape=function(e,t,i,n){this.sync_broadphase(),this.validateShape(e);var r=e.aabb,o=null==n?new be:n;if(null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var a=this.treeStack.pop_unsafe(),s=a.aabb;r.miny<=s.maxy&&s.miny<=r.maxy&&r.minx<=s.maxx&&s.minx<=r.maxx&&(null==a.child1?(null==i||0!=((s=a.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&s.collisionGroup))&&(t?dr.containTest(e,a.shape)&&o.push(a.shape.outer):dr.testCollide_safe(a.shape,e)&&o.push(a.shape.outer)):(null!=a.child1&&this.treeStack.add(a.child1),null!=a.child2&&this.treeStack.add(a.child2)))}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var p=this.treeStack.pop_unsafe(),l=p.aabb;r.miny<=l.maxy&&l.miny<=r.maxy&&r.minx<=l.maxx&&l.minx<=r.maxx&&(null==p.child1?(null==i||0!=((l=p.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&l.collisionGroup))&&(t?dr.containTest(e,p.shape)&&o.push(p.shape.outer):dr.testCollide_safe(p.shape,e)&&o.push(p.shape.outer)):(null!=p.child1&&this.treeStack.add(p.child1),null!=p.child2&&this.treeStack.add(p.child2)))}return o},ci.prototype.bodiesInShape=function(e,t,i,n){this.sync_broadphase(),this.validateShape(e);var r=e.aabb,o=null==n?new re:n;if(null==this.failed&&(this.failed=new re),null!=this.stree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.stree.root);null!=this.treeStack.head;){var a,s=this.treeStack.pop_unsafe(),p=s.aabb;r.miny<=p.maxy&&p.miny<=r.maxy&&r.minx<=p.maxx&&p.minx<=r.maxx&&(null==s.child1?(p=s.shape.body.outer,(null==i||0!=((a=s.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&a.collisionGroup))&&(t?this.failed.has(p)||(a=dr.containTest(e,s.shape),!o.has(p)&&a?o.push(p):a||(o.remove(p),this.failed.push(p))):!o.has(p)&&dr.testCollide_safe(s.shape,e)&&o.push(p))):(null!=s.child1&&this.treeStack.add(s.child1),null!=s.child2&&this.treeStack.add(s.child2)))}if(null!=this.dtree.root)for(null==this.treeStack&&(this.treeStack=new Wi),this.treeStack.add(this.dtree.root);null!=this.treeStack.head;){var l,h=this.treeStack.pop_unsafe(),u=h.aabb;r.miny<=u.maxy&&u.miny<=r.maxy&&r.minx<=u.maxx&&u.minx<=r.maxx&&(null==h.child1?(u=h.shape.body.outer,(null==i||0!=((l=h.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&l.collisionGroup))&&(t?this.failed.has(u)||(l=dr.containTest(e,h.shape),!o.has(u)&&l?o.push(u):l||(o.remove(u),this.failed.push(u))):!o.has(u)&&dr.testCollide_safe(h.shape,e)&&o.push(u))):(null!=h.child1&&this.treeStack.add(h.child1),null!=h.child2&&this.treeStack.add(h.child2)))}return this.failed.clear(),o},ci.prototype.openlist=null,ci.prototype.rayCast=function(e,t,i){null==this.openlist&&(this.openlist=new Wi),this.sync_broadphase(),e.validate_dir();var n=e.maxdist;if(null!=this.dtree.root&&e.aabbtest(this.dtree.root.aabb)){var r=e.aabbsect(this.dtree.root.aabb);if(0<=r&&r<n){this.dtree.root.rayt=r;for(var o=null,a=this.openlist.head;null!=a&&!(this.dtree.root.rayt<a.elt.rayt);)a=(o=a).next;r=this.openlist,null==Sn.zpp_pool?s=new Sn:(s=Sn.zpp_pool,Sn.zpp_pool=s.next,s.next=null),s.elt=this.dtree.root;null==o?(s.next=r.head,r.head=s):(s.next=o.next,o.next=s),r.pushmod=r.modified=!0,r.length++}}if(null!=this.stree.root&&e.aabbtest(this.stree.root.aabb)){var s=e.aabbsect(this.stree.root.aabb);if(0<=s&&s<n){this.stree.root.rayt=s;for(var p=null,l=this.openlist.head;null!=l&&!(this.stree.root.rayt<l.elt.rayt);)l=(p=l).next;var h,r=this.openlist,s=(null==Sn.zpp_pool?h=new Sn:(h=Sn.zpp_pool,Sn.zpp_pool=h.next,h.next=null),h.elt=this.stree.root,h);null==p?(s.next=r.head,r.head=s):(s.next=p.next,p.next=s),r.pushmod=r.modified=!0,r.length++}}for(var u=null;null!=this.openlist.head;){var d=this.openlist.pop_unsafe();if(d.rayt>=n)break;if(null==d.child1){var c,m=d.shape;!(null==i||0!=((c=m.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&c.collisionGroup))||null!=(c=0==m.type?e.circlesect(m.circle,t,n):e.aabbtest(m.aabb)?e.polysect(m.polygon,t,n):null)&&(n=c.zpp_inner.toiDistance,null!=u&&u.zpp_inner.free(),u=c)}else{if(null!=d.child1&&e.aabbtest(d.child1.aabb)){m=e.aabbsect(d.child1.aabb);if(0<=m&&m<n){d.child1.rayt=m;for(var y=null,_=this.openlist.head;null!=_&&!(d.child1.rayt<_.elt.rayt);)_=(y=_).next;var x,f=this.openlist,g=(null==Sn.zpp_pool?x=new Sn:(x=Sn.zpp_pool,Sn.zpp_pool=x.next,x.next=null),x.elt=d.child1,x);null==y?(g.next=f.head,f.head=g):(g.next=y.next,y.next=g),f.pushmod=f.modified=!0,f.length++}}if(null!=d.child2&&e.aabbtest(d.child2.aabb)){g=e.aabbsect(d.child2.aabb);if(0<=g&&g<n){d.child2.rayt=g;for(var v=null,z=this.openlist.head;null!=z&&!(d.child2.rayt<z.elt.rayt);)z=(v=z).next;var b,f=this.openlist,w=(null==Sn.zpp_pool?b=new Sn:(b=Sn.zpp_pool,Sn.zpp_pool=b.next,b.next=null),b.elt=d.child2,b);null==v?(w.next=f.head,f.head=w):(w.next=v.next,v.next=w),f.pushmod=f.modified=!0,f.length++}}}}return this.openlist.clear(),u},ci.prototype.rayMultiCast=function(e,t,i,n){null==this.openlist&&(this.openlist=new Wi),this.sync_broadphase(),e.validate_dir();var r=e.maxdist>=1/0,o=null==n?new ee:n;for(null!=this.dtree.root&&e.aabbtest(this.dtree.root.aabb)&&(r||0<=(n=e.aabbsect(this.dtree.root.aabb))&&n<e.maxdist)&&this.openlist.add(this.dtree.root),null!=this.stree.root&&e.aabbtest(this.stree.root.aabb)&&(r||0<=(n=e.aabbsect(this.stree.root.aabb))&&n<e.maxdist)&&this.openlist.add(this.stree.root);null!=this.openlist.head;){var a,s,p=this.openlist.pop_unsafe();null==p.child1?(s=p.shape,(null==i||0!=((a=s.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&a.collisionGroup))&&(0==s.type?e.circlesect2(s.circle,t,o):e.aabbtest(s.aabb)&&e.polysect2(s.polygon,t,o))):(null!=p.child1&&e.aabbtest(p.child1.aabb)&&(r||0<=(a=e.aabbsect(p.child1.aabb))&&a<e.maxdist)&&this.openlist.add(p.child1),null!=p.child2&&e.aabbtest(p.child2.aabb)&&(r||0<=(s=e.aabbsect(p.child2.aabb))&&s<e.maxdist)&&this.openlist.add(p.child2))}return this.openlist.clear(),o},ci.prototype.__class__=ci,zpp_nape.space.ZPP_Island=function(){this.waket=0,this.sleep=!1,this.comps=null,this.length=0,this.pushmod=!1,this.modified=!1,this._inuse=!1,this.next=null,this.comps=new qi}),zi=(mi.__name__=["zpp_nape","space","ZPP_Island"],mi.prototype.next=null,mi.prototype.elem=function(){return this},mi.prototype.begin=function(){return this.next},mi.prototype._inuse=null,mi.prototype.modified=null,mi.prototype.pushmod=null,mi.prototype.length=null,mi.prototype.setbegin=function(e){this.next=e,this.modified=!0,this.pushmod=!0},mi.prototype.add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},mi.prototype.inlined_add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},mi.prototype.addAll=function(e){for(var t=e.next;null!=t;)this.add(t),t=t.next},mi.prototype.insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},mi.prototype.inlined_insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},mi.prototype.pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},mi.prototype.inlined_pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},mi.prototype.pop_unsafe=function(){var e=this.next;return this.pop(),e},mi.prototype.inlined_pop_unsafe=function(){var e=this.next;return this.pop(),e},mi.prototype.remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},mi.prototype.try_remove=function(e){for(var t=null,i=this.next,n=!1;null!=i;){if(i==e){this.erase(t),n=!0;break}i=(t=i).next}return n},mi.prototype.inlined_remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},mi.prototype.inlined_try_remove=function(e){for(var t,i,n=null,r=this.next,o=!1;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,o=this.pushmod=!0;break}r=(n=r).next}return o},mi.prototype.erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},mi.prototype.inlined_erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},mi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},mi.prototype.clear=function(){},mi.prototype.inlined_clear=function(){},mi.prototype.reverse=function(){for(var e=this.next,t=null;null!=e;){var i=e.next;e.next=t,t=this.next=e,e=i}this.modified=!0,this.pushmod=!0},mi.prototype.empty=function(){return null==this.next},mi.prototype.size=function(){return this.length},mi.prototype.has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},mi.prototype.inlined_has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},mi.prototype.front=function(){return this.next},mi.prototype.back=function(){for(var e=this.next,t=e;null!=t;)t=(e=t).next;return e},mi.prototype.iterator_at=function(e){for(var t=this.next;0<e--&&null!=t;)t=t.next;return t},mi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e:null},mi.prototype.comps=null,mi.prototype.sleep=null,mi.prototype.waket=null,mi.prototype.free=function(){},mi.prototype.alloc=function(){this.waket=0},mi.prototype.__class__=mi,zpp_nape.space.ZPP_Component=function(){this.woken=!1,this.waket=0,this.sleeping=!1,this.island=null,this.constraint=null,this.body=null,this.isBody=!1,this.rank=0,this.parent=null,this.next=null,this.sleeping=!1,this.island=null,(this.parent=this).rank=0,this.woken=!1}),Fn=(zi.__name__=["zpp_nape","space","ZPP_Component"],zi.prototype.next=null,zi.prototype.parent=null,zi.prototype.rank=null,zi.prototype.isBody=null,zi.prototype.body=null,zi.prototype.constraint=null,zi.prototype.island=null,zi.prototype.sleeping=null,zi.prototype.waket=null,zi.prototype.woken=null,zi.prototype.free=function(){this.body=null,this.constraint=null},zi.prototype.alloc=function(){},zi.prototype.reset=function(){this.sleeping=!1,this.island=null,(this.parent=this).rank=0},zi.prototype.__class__=zi,zpp_nape.space.ZPP_CallbackSet=function(){this.lazydel=!1,this.freed=!1,this.length=0,this.pushmod=!1,this.modified=!1,this._inuse=!1,this.next=null,this.int2=null,this.int1=null,this.di=0,this.id=0,this.arbiters=new Ei}),bi=(Fn.__name__=["zpp_nape","space","ZPP_CallbackSet"],Fn.get=function(e,t){var i;return null==Fn.zpp_pool?i=new Fn:(i=Fn.zpp_pool,Fn.zpp_pool=i.next,i.next=null),i.freed=!1,i.lazydel=!1,i.COLLISIONstate=1,i.COLLISIONstamp=0,i.SENSORstate=1,i.SENSORstamp=0,i.FLUIDstate=1,i.FLUIDstamp=0,e.id<t.id?(i.int1=e,i.int2=t):(i.int1=t,i.int2=e),i.id=i.int1.id,i.di=i.int2.id,i},Fn.prototype.id=null,Fn.prototype.di=null,Fn.prototype.int1=null,Fn.prototype.int2=null,Fn.prototype.arbiters=null,Fn.prototype.COLLISIONstate=null,Fn.prototype.COLLISIONstamp=null,Fn.prototype.SENSORstate=null,Fn.prototype.SENSORstamp=null,Fn.prototype.FLUIDstate=null,Fn.prototype.FLUIDstamp=null,Fn.prototype.next=null,Fn.prototype.elem=function(){return this},Fn.prototype.begin=function(){return this.next},Fn.prototype._inuse=null,Fn.prototype.modified=null,Fn.prototype.pushmod=null,Fn.prototype.length=null,Fn.prototype.setbegin=function(e){this.next=e,this.modified=!0,this.pushmod=!0},Fn.prototype.add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},Fn.prototype.inlined_add=function(e){return e._inuse=!0,e.next=this.next,this.next=e,this.modified=!0,this.length++,e},Fn.prototype.addAll=function(e){for(var t=e.next;null!=t;)this.add(t),t=t.next},Fn.prototype.insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Fn.prototype.inlined_insert=function(e,t){return t._inuse=!0,null==e?(t.next=this.next,this.next=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Fn.prototype.pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},Fn.prototype.inlined_pop=function(){var e=this.next;this.next=e.next,e._inuse=!1,null==this.next&&(this.pushmod=!0),this.modified=!0,this.length--},Fn.prototype.pop_unsafe=function(){var e=this.next;return this.pop(),e},Fn.prototype.inlined_pop_unsafe=function(){var e=this.next;return this.pop(),e},Fn.prototype.remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},Fn.prototype.try_remove=function(e){for(var t=null,i=this.next,n=!1;null!=i;){if(i==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Fn.prototype.inlined_remove=function(e){for(var t,i,n=null,r=this.next;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0;break}r=(n=r).next}},Fn.prototype.inlined_try_remove=function(e){for(var t,i,n=null,r=this.next,o=!1;null!=r;){if(r==e){null==n?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=n.next).next,null==(n.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,o=this.pushmod=!0;break}r=(n=r).next}return o},Fn.prototype.erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},Fn.prototype.inlined_erase=function(e){var t,i;return null==e?(i=(t=this.next).next,this.next=i,null==this.next&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0)),t._inuse=!1,this.modified=!0,this.length--,this.pushmod=!0,i},Fn.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Fn.prototype.clear=function(){},Fn.prototype.inlined_clear=function(){},Fn.prototype.reverse=function(){for(var e=this.next,t=null;null!=e;){var i=e.next;e.next=t,t=this.next=e,e=i}this.modified=!0,this.pushmod=!0},Fn.prototype.empty=function(){return null==this.next},Fn.prototype.size=function(){return this.length},Fn.prototype.has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},Fn.prototype.inlined_has=function(e){for(var t=!1,i=this.next;null!=i;){if(i==e){t=!0;break}i=i.next}return t},Fn.prototype.front=function(){return this.next},Fn.prototype.back=function(){for(var e=this.next,t=e;null!=t;)t=(e=t).next;return e},Fn.prototype.iterator_at=function(e){for(var t=this.next;0<e--&&null!=t;)t=t.next;return t},Fn.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e:null},Fn.prototype.freed=null,Fn.prototype.lazydel=null,Fn.prototype.free=function(){this.int1=this.int2=null,this.id=this.di=-1,this.freed=!0},Fn.prototype.alloc=function(){this.freed=!1,this.lazydel=!1,this.COLLISIONstate=1,this.COLLISIONstamp=0,this.SENSORstate=1,this.SENSORstamp=0,this.FLUIDstate=1,this.FLUIDstamp=0},Fn.prototype.add_arb=function(e){for(var t,i,n=!1,r=this.arbiters.head;null!=r;){if(r.elt==e){n=!0;break}r=r.next}return!n&&(t=this.arbiters,null==En.zpp_pool?i=new En:(i=En.zpp_pool,En.zpp_pool=i.next,i.next=null),i.elt=e,(i=i).next=t.head,t.head=i,t.modified=!0,t.length++,!0)},Fn.prototype.try_remove_arb=function(e){for(var t=this.arbiters,i=null,n=t.head,r=!1;null!=n;){if(n.elt==e){null==i?(a=(o=t.head).next,t.head=a,null==t.head&&(t.pushmod=!0)):(a=(o=i.next).next,null==(i.next=a)&&(t.pushmod=!0));var o,a,s=o;s.elt=null,s.next=En.zpp_pool,En.zpp_pool=s,t.modified=!0,t.length--,r=t.pushmod=!0;break}n=(i=n).next}return r},Fn.prototype.remove_arb=function(e){for(var t=this.arbiters,i=null,n=t.head;null!=n;){if(n.elt==e){null==i?(o=(r=t.head).next,t.head=o,null==t.head&&(t.pushmod=!0)):(o=(r=i.next).next,null==(i.next=o)&&(t.pushmod=!0));var r,o,a=r;a.elt=null,a.next=En.zpp_pool,En.zpp_pool=a,t.modified=!0,t.length--,t.pushmod=!0;break}n=(i=n).next}},Fn.prototype.empty_arb=function(e){for(var t=!0,i=this.arbiters.head;null!=i;){if(0!=(i.elt.type&e)){t=!1;break}i=i.next}return t},Fn.prototype.really_empty=function(){return null==this.arbiters.head},Fn.prototype.sleeping=function(){for(var e=!0,t=this.arbiters.head;null!=t;){if(!t.elt.sleeping){e=!1;break}t=t.next}return e},Fn.prototype.__class__=Fn,zpp_nape.space.ZPP_CbSetManager=function(e){this.space=null,(this.cbsets=null)==mr.zpp_pool?this.cbsets=new mr:(this.cbsets=mr.zpp_pool,mr.zpp_pool=this.cbsets.next,this.cbsets.next=null),this.cbsets.lt=Pn.setlt,this.space=e}),i=(bi.__name__=["zpp_nape","space","ZPP_CbSetManager"],bi.prototype.cbsets=null,bi.prototype.space=null,bi.prototype.get=function(e){if(null==e.head)return null;null==Pn.zpp_pool?t=new Pn:(t=Pn.zpp_pool,Pn.zpp_pool=t.next,t.next=null);var t,i=t.cbTypes,n=(t.cbTypes=e,this.cbsets.find_weak(t)),e=null!=n?n.data:(n=Pn.get(e),this.cbsets.insert(n),n.manager=this,n),r=(t.cbTypes=i,t);for(r.listeners.clear(),r.zip_listeners=!0,r.bodylisteners.clear(),r.zip_bodylisteners=!0,r.conlisteners.clear(),r.zip_conlisteners=!0;null!=r.cbTypes.head;)r.cbTypes.pop_unsafe().cbsets.remove(r);return r.next=Pn.zpp_pool,Pn.zpp_pool=r,e},bi.prototype.remove=function(e){for(this.cbsets.remove(e);null!=e.cbpairs.head;){var t=e.cbpairs.pop_unsafe();t.a!=t.b&&(e==t.a?t.b:t.a).cbpairs.remove(t),t.a=t.b=null,t.listeners.clear(),t.next=On.zpp_pool,On.zpp_pool=t}e.manager=null},bi.prototype.clear=function(){},bi.prototype.validate=function(){if(!this.cbsets.empty()){for(var e=this.cbsets.parent;null!=e.prev;)e=e.prev;for(;null!=e;)if(e.data.validate(),null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}},bi.prototype.pair=function(e,t){for(var i,n=null,r=(e.cbpairs.length<t.cbpairs.length?e:t).cbpairs.head;null!=r;){var o=r.elt;if(o.a==e&&o.b==t||o.a==t&&o.b==e){n=o;break}r=r.next}return null==n&&(null==On.zpp_pool?i=new On:(i=On.zpp_pool,On.zpp_pool=i.next,i.next=null),i.zip_listeners=!0,Pn.setlt(e,t)?(i.a=e,i.b=t):(i.a=t,i.b=e),n=i,e.cbpairs.add(n),t!=e&&t.cbpairs.add(n)),n.zip_listeners&&(n.zip_listeners=!1,n.__validate()),n},bi.prototype.valid_listener=function(e){return e.space==this.space},bi.prototype.__class__=bi,zpp_nape.space.ZPP_Space=function(e,t){this.prelisteners=null,this.precb=null,this.continuous=!1,this.toiEvents=null,this.pre_dt=0,this.convexShapeList=null,this.cbsets=null,this.callbackset_list=null,this.callbacks=null,this.wrap_listeners=null,this.listeners=null,this.islands=null,this.staticsleep=null,this.wrap_livecon=null,this.live_constraints=null,this.wrap_live=null,this.live=null,this.wrap_arbiters=null,this.s_arbiters=null,this.f_arbiters=null,this.c_arbiters_false=null,this.c_arbiters_true=null,this.sortcontacts=!1,this.time=0,this.midstep=!1,this.stamp=0,this.global_ang_drag=0,this.global_lin_drag=0,this.__static=null,this.bphase=null,this.kinematics=null,this.wrap_constraints=null,this.constraints=null,this.wrap_compounds=null,this.compounds=null,this.wrap_bodies=null,this.bodies=null,this.wrap_gravity=null,this.gravityy=0,this.gravityx=0,this.userData=null,this.outer=null,this.toiEvents=new tn,this.global_lin_drag=.015,this.global_ang_drag=.015,this.precb=new k,this.precb.zpp_inner=new ut,this.sortcontacts=!0,this.pre_dt=0,null==t||(null==Tn.Broadphase_DYNAMIC_AABB_TREE&&(Tn.internal=!0,Tn.Broadphase_DYNAMIC_AABB_TREE=new Ce,Tn.internal=!1),t==Tn.Broadphase_DYNAMIC_AABB_TREE)?this.bphase=new ci(this):(null==Tn.Broadphase_SWEEP_AND_PRUNE&&(Tn.internal=!0,Tn.Broadphase_SWEEP_AND_PRUNE=new Ce,Tn.internal=!1),t==Tn.Broadphase_SWEEP_AND_PRUNE&&(this.bphase=new Si(this))),this.time=0,null!=e?(this.gravityx=e.x,this.gravityy=e.y):(this.gravityx=0,this.gravityy=0),this.bodies=new Gi,this.wrap_bodies=Zn.get(this.bodies),this.wrap_bodies.zpp_inner.adder=Z(this,this.bodies_adder),this.wrap_bodies.zpp_inner.subber=Z(this,this.bodies_subber),this.compounds=new Ai,this.wrap_compounds=Qn.get(this.compounds),this.wrap_compounds.zpp_inner.adder=Z(this,this.compounds_adder),this.wrap_compounds.zpp_inner.subber=Z(this,this.compounds_subber),this.kinematics=new Gi,this.c_arbiters_true=new $i,this.c_arbiters_false=new $i,this.f_arbiters=new Zi,this.s_arbiters=new Ji,this.islands=new mi,this.live=new Gi,this.wrap_live=Zn.get(this.live,!0),this.staticsleep=new Gi,this.constraints=new Ge,this.wrap_constraints=Kn.get(this.constraints),this.wrap_constraints.zpp_inner.adder=Z(this,this.constraints_adder),this.wrap_constraints.zpp_inner.subber=Z(this,this.constraints_subber),this.live_constraints=new Ge,this.wrap_livecon=Kn.get(this.live_constraints,!0),this.__static=h.__static(),(this.__static.zpp_inner.space=this).callbacks=new ut,this.midstep=!1,this.listeners=new Qi,this.wrap_listeners=$n.get(this.listeners),this.wrap_listeners.zpp_inner.adder=Z(this,this.listeners_adder),this.wrap_listeners.zpp_inner.subber=Z(this,this.listeners_subber),this.callbackset_list=new Fn,this.mrca1=new Ae,this.mrca2=new Ae,this.prelisteners=new Pe,this.cbsets=new bi(this)}),wi=(i.__name__=["zpp_nape","space","ZPP_Space"],i.prototype.outer=null,i.prototype.userData=null,i.prototype.gravityx=null,i.prototype.gravityy=null,i.prototype.wrap_gravity=null,i.prototype.getgravity=function(){var e,t,i=this.gravityx,n=this.gravityy;null==yi.poolVec2?e=new xe:(e=yi.poolVec2,yi.poolVec2=e.zpp_pool,e.zpp_pool=null),null==e.zpp_inner?(null==cr.zpp_pool?t=new cr:(t=cr.zpp_pool,cr.zpp_pool=t.next,t.next=null),t.weak=!1,t._immutable=!1,t.x=i,t.y=n,e.zpp_inner=t,e.zpp_inner.outer=e):(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.x==i&&(null!=(t=e.zpp_inner)._validate&&t._validate(),e.zpp_inner.y==n)||(e.zpp_inner.x=i,e.zpp_inner.y=n,null!=(t=e.zpp_inner)._invalidate&&t._invalidate(t))),e.zpp_inner.weak=!1,this.wrap_gravity=e,this.wrap_gravity.zpp_inner._inuse=!0,this.wrap_gravity.zpp_inner._invalidate=Z(this,this.gravity_invalidate),this.wrap_gravity.zpp_inner._validate=Z(this,this.gravity_validate)},i.prototype.gravity_invalidate=function(e){this.gravityx=e.x,this.gravityy=e.y;for(var t=new Ai,i=this.bodies.head;null!=i;){var n=i.elt;n.world||(n.component.waket=this.stamp+(this.midstep?0:1),3==n.type&&(n.kinematicDelaySleep=!0),n.component.sleeping&&this.really_wake(n,!1)),i=i.next}for(var r=this.compounds.head;null!=r;)t.add(r.elt),r=r.next;for(;null!=t.head;){for(var o=t.pop_unsafe(),a=o.bodies.head;null!=a;){var s=a.elt;s.world||(s.component.waket=this.stamp+(this.midstep?0:1),3==s.type&&(s.kinematicDelaySleep=!0),s.component.sleeping&&this.really_wake(s,!1)),a=a.next}for(var p=o.compounds.head;null!=p;)t.add(p.elt),p=p.next}},i.prototype.gravity_validate=function(){this.wrap_gravity.zpp_inner.x=this.gravityx,this.wrap_gravity.zpp_inner.y=this.gravityy},i.prototype.bodies=null,i.prototype.wrap_bodies=null,i.prototype.compounds=null,i.prototype.wrap_compounds=null,i.prototype.constraints=null,i.prototype.wrap_constraints=null,i.prototype.kinematics=null,i.prototype.bphase=null,i.prototype.__static=null,i.prototype.global_lin_drag=null,i.prototype.global_ang_drag=null,i.prototype.stamp=null,i.prototype.midstep=null,i.prototype.time=null,i.prototype.sortcontacts=null,i.prototype.c_arbiters_true=null,i.prototype.c_arbiters_false=null,i.prototype.f_arbiters=null,i.prototype.s_arbiters=null,i.prototype.wrap_arbiters=null,i.prototype.live=null,i.prototype.wrap_live=null,i.prototype.live_constraints=null,i.prototype.wrap_livecon=null,i.prototype.staticsleep=null,i.prototype.islands=null,i.prototype.listeners=null,i.prototype.wrap_listeners=null,i.prototype.callbacks=null,i.prototype.callbackset_list=null,i.prototype.cbsets=null,i.prototype.clear=function(){for(;null!=this.listeners.head;)this.remListener(this.listeners.pop_unsafe());for(;null!=this.callbackset_list.next;){var e=this.callbackset_list.pop_unsafe();e.arbiters.clear(),e.int1=e.int2=null,e.id=e.di=-1,e.freed=!0,e.next=Fn.zpp_pool,Fn.zpp_pool=e}for(;null!=this.c_arbiters_true.head;){var t=this.c_arbiters_true.pop_unsafe();if(!t.cleared){for(var i=t.b1.arbiters,n=null,r=i.head;null!=r;){if(r.elt==t){null==n?(o=(L=i.head).next,i.head=o,null==i.head&&(i.pushmod=!0)):(o=(L=n.next).next,null==(n.next=o)&&(i.pushmod=!0));var L,o,D=L;D.elt=null,D.next=En.zpp_pool,En.zpp_pool=D,i.modified=!0,i.length--,i.pushmod=!0;break}r=(n=r).next}for(var a=t.b2.arbiters,s=null,p=a.head;null!=p;){if(p.elt==t){null==s?(l=(R=a.head).next,a.head=l,null==a.head&&(a.pushmod=!0)):(l=(R=s.next).next,null==(s.next=l)&&(a.pushmod=!0));var R,l,j=R;j.elt=null,j.next=En.zpp_pool,En.zpp_pool=j,a.modified=!0,a.length--,a.pushmod=!0;break}p=(s=p).next}null!=t.pair&&(t.pair.arb=null,t.pair=null)}for(t.b1=t.b2=null,t.active=!1,t.intchange=!1;null!=t.contacts.next;){var h=t.contacts,u=h.next,h=(h.pop(),u.arbiter=null,u.next=An.zpp_pool,An.zpp_pool=u,t.innards),u=h.next;h.next=u.next,u._inuse=!1,null==h.next&&(h.pushmod=!0),h.modified=!0,h.length--}t.userdef_dyn_fric=!1,t.userdef_stat_fric=!1,t.userdef_restitution=!1,t.userdef_rfric=!1,t.__ref_edge1=t.__ref_edge2=null,t.next=Gn.zpp_pool,(Gn.zpp_pool=t).pre_dt=-1}for(;null!=this.c_arbiters_false.head;){var d=this.c_arbiters_false.pop_unsafe();if(!d.cleared){for(var c=d.b1.arbiters,m=null,y=c.head;null!=y;){if(y.elt==d){null==m?(_=(F=c.head).next,c.head=_,null==c.head&&(c.pushmod=!0)):(_=(F=m.next).next,null==(m.next=_)&&(c.pushmod=!0));var F,_,N=F;N.elt=null,N.next=En.zpp_pool,En.zpp_pool=N,c.modified=!0,c.length--,c.pushmod=!0;break}y=(m=y).next}for(var x=d.b2.arbiters,f=null,g=x.head;null!=g;){if(g.elt==d){null==f?(v=(U=x.head).next,x.head=v,null==x.head&&(x.pushmod=!0)):(v=(U=f.next).next,null==(f.next=v)&&(x.pushmod=!0));var U,v,H=U;H.elt=null,H.next=En.zpp_pool,En.zpp_pool=H,x.modified=!0,x.length--,x.pushmod=!0;break}g=(f=g).next}null!=d.pair&&(d.pair.arb=null,d.pair=null)}for(d.b1=d.b2=null,d.active=!1,d.intchange=!1;null!=d.contacts.next;){var z=d.contacts,b=z.next,z=(z.pop(),b.arbiter=null,b.next=An.zpp_pool,An.zpp_pool=b,d.innards),b=z.next;z.next=b.next,b._inuse=!1,null==z.next&&(z.pushmod=!0),z.modified=!0,z.length--}d.userdef_dyn_fric=!1,d.userdef_stat_fric=!1,d.userdef_restitution=!1,d.userdef_rfric=!1,d.__ref_edge1=d.__ref_edge2=null,d.next=Gn.zpp_pool,(Gn.zpp_pool=d).pre_dt=-1}for(;null!=this.s_arbiters.head;){var w=this.s_arbiters.pop_unsafe();if(!w.cleared){for(var S=w.b1.arbiters,C=null,k=S.head;null!=k;){if(k.elt==w){null==C?(W=(V=S.head).next,S.head=W,null==S.head&&(S.pushmod=!0)):(W=(V=C.next).next,null==(C.next=W)&&(S.pushmod=!0));var V,W,q=V;q.elt=null,q.next=En.zpp_pool,En.zpp_pool=q,S.modified=!0,S.length--,S.pushmod=!0;break}k=(C=k).next}for(var M=w.b2.arbiters,X=null,Y=M.head;null!=Y;){if(Y.elt==w){null==X?(Z=(K=M.head).next,M.head=Z,null==M.head&&(M.pushmod=!0)):(Z=(K=X.next).next,null==(X.next=Z)&&(M.pushmod=!0));var K,Z,J=K;J.elt=null,J.next=En.zpp_pool,En.zpp_pool=J,M.modified=!0,M.length--,M.pushmod=!0;break}Y=(X=Y).next}null!=w.pair&&(w.pair.arb=null,w.pair=null)}w.b1=w.b2=null,w.active=!1,w.intchange=!1,w.next=Dn.zpp_pool,Dn.zpp_pool=w}for(;null!=this.f_arbiters.head;){var P=this.f_arbiters.pop_unsafe();if(!P.cleared){for(var O=P.b1.arbiters,Q=null,$=O.head;null!=$;){if($.elt==P){null==Q?(te=(ee=O.head).next,O.head=te,null==O.head&&(O.pushmod=!0)):(te=(ee=Q.next).next,null==(Q.next=te)&&(O.pushmod=!0));var ee,te,ie=ee;ie.elt=null,ie.next=En.zpp_pool,En.zpp_pool=ie,O.modified=!0,O.length--,O.pushmod=!0;break}$=(Q=$).next}for(var T=P.b2.arbiters,ne=null,re=T.head;null!=re;){if(re.elt==P){null==ne?(ae=(oe=T.head).next,T.head=ae,null==T.head&&(T.pushmod=!0)):(ae=(oe=ne.next).next,null==(ne.next=ae)&&(T.pushmod=!0));var oe,ae,se=oe;se.elt=null,se.next=En.zpp_pool,En.zpp_pool=se,T.modified=!0,T.length--,T.pushmod=!0;break}re=(ne=re).next}null!=P.pair&&(P.pair.arb=null,P.pair=null)}P.b1=P.b2=null,P.active=!1,P.intchange=!1,P.next=Rn.zpp_pool,(Rn.zpp_pool=P).pre_dt=-1}for(this.bphase.clear();null!=this.bodies.head;){var pe=this.bodies.pop_unsafe();if(null!=pe.component){var G=pe.component.island;if(null!=G){for(;null!=G.comps.head;){var le=G.comps.pop_unsafe();le.sleeping=!1,le.island=null,(le.parent=le).rank=0}G.next=mi.zpp_pool,mi.zpp_pool=G}}pe.removedFromSpace(),pe.space=null}for(;null!=this.constraints.head;){var he=this.constraints.pop_unsafe();if(null!=he.component){var A=he.component.island;if(null!=A){for(;null!=A.comps.head;){var ue=A.comps.pop_unsafe();ue.sleeping=!1,ue.island=null,(ue.parent=ue).rank=0}A.next=mi.zpp_pool,mi.zpp_pool=A}}he.removedFromSpace(),he.space=null}this.kinematics.clear();for(var de=new Ai;null!=this.compounds.head;)de.add(this.compounds.pop_unsafe());for(;null!=de.head;){for(var E=de.pop_unsafe(),ce=(E.removedFromSpace(),E.space=null,E.bodies.head);null!=ce;){var me=ce.elt;if(null!=me.component){var I=me.component.island;if(null!=I){for(;null!=I.comps.head;){var ye=I.comps.pop_unsafe();ye.sleeping=!1,ye.island=null,(ye.parent=ye).rank=0}I.next=mi.zpp_pool,mi.zpp_pool=I}}me.removedFromSpace(),me.space=null,ce=ce.next}for(var _e=E.constraints.head;null!=_e;){var xe=_e.elt;if(null!=xe.component){var B=xe.component.island;if(null!=B){for(;null!=B.comps.head;){var fe=B.comps.pop_unsafe();fe.sleeping=!1,fe.island=null,(fe.parent=fe).rank=0}B.next=mi.zpp_pool,mi.zpp_pool=B}}xe.removedFromSpace(),xe.space=null,_e=_e.next}for(var ge=E.compounds.head;null!=ge;)de.add(ge.elt),ge=ge.next}this.staticsleep.clear(),this.live.clear(),this.live_constraints.clear(),this.stamp=0,this.time=0,this.mrca1.clear(),this.mrca2.clear(),this.prelisteners.clear(),this.cbsets.clear()},i.prototype.bodies_adder=function(e){return e.zpp_inner.space!=this&&(null!=e.zpp_inner.space&&e.zpp_inner.space.outer.zpp_inner.wrap_bodies.remove(e),this.addBody(e.zpp_inner),!0)},i.prototype.bodies_subber=function(e){this.remBody(e.zpp_inner)},i.prototype.compounds_adder=function(e){return e.zpp_inner.space!=this&&(null!=e.zpp_inner.space&&e.zpp_inner.space.wrap_compounds.remove(e),this.addCompound(e.zpp_inner),!0)},i.prototype.compounds_subber=function(e){this.remCompound(e.zpp_inner)},i.prototype.constraints_adder=function(e){return e.zpp_inner.space!=this&&(null!=e.zpp_inner.space&&e.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(e),this.addConstraint(e.zpp_inner),!0)},i.prototype.constraints_subber=function(e){this.remConstraint(e.zpp_inner)},i.prototype.listeners_adder=function(e){return e.zpp_inner.space!=this&&(null!=e.zpp_inner.space&&e.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(e),this.addListener(e.zpp_inner),!0)},i.prototype.listeners_subber=function(e){this.remListener(e.zpp_inner)},i.prototype.revoke_listener=function(e){},i.prototype.unrevoke_listener=function(e){},i.prototype.addListener=function(e){e.space=this,e.addedToSpace()},i.prototype.remListener=function(e){e.removedFromSpace(),e.space=null},i.prototype.add_callbackset=function(e){var t=e.int1.cbsets,i=(null==an.zpp_pool?i=new an:(i=an.zpp_pool,an.zpp_pool=i.next,i.next=null),i.elt=e,i.next=t.head,t.head=i,t.modified=!0,t.length++,e.int2.cbsets),t=(null==an.zpp_pool?n=new an:(n=an.zpp_pool,an.zpp_pool=n.next,n.next=null),n.elt=e,n),n=(t.next=i.head,i.head=t,i.modified=!0,i.length++,this.callbackset_list);e._inuse=!0,e.next=n.next,n.next=e,n.modified=!0,n.length++},i.prototype.remove_callbackset=function(e){e.lazydel=!0;for(var t=e.int1.cbsets,i=null,n=t.head;null!=n;){if(n.elt==e){null==i?(o=(r=t.head).next,t.head=o,null==t.head&&(t.pushmod=!0)):(o=(r=i.next).next,null==(i.next=o)&&(t.pushmod=!0));var r,o,a=r;a.elt=null,a.next=an.zpp_pool,an.zpp_pool=a,t.modified=!0,t.length--,t.pushmod=!0;break}n=(i=n).next}for(var s=e.int2.cbsets,p=null,l=s.head;null!=l;){if(l.elt==e){null==p?(u=(h=s.head).next,s.head=u,null==s.head&&(s.pushmod=!0)):(u=(h=p.next).next,null==(p.next=u)&&(s.pushmod=!0));var h,u,d=h;d.elt=null,d.next=an.zpp_pool,an.zpp_pool=d,s.modified=!0,s.length--,s.pushmod=!0;break}l=(p=l).next}},i.prototype.transmitType=function(e,t){e.world||(e.component.waket=this.stamp+(this.midstep?0:1),3==e.type&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!1)),2==e.type?this.live.remove(e):3==e.type?(this.kinematics.remove(e),this.staticsleep.remove(e)):1==e.type&&this.staticsleep.remove(e),e.type=t,3==e.type&&this.kinematics.add(e),1==e.type&&this.static_validation(e),e.component.sleeping=!0,e.world||(e.component.waket=this.stamp+(this.midstep?0:1),3==e.type&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!0))},i.prototype.added_shape=function(e,t){(t=null==t?!1:t)||((t=e.body).world||(t.component.waket=this.stamp+(this.midstep?0:1),3==t.type&&(t.kinematicDelaySleep=!0),t.component.sleeping&&this.really_wake(t,!1))),this.bphase.insert(e),e.addedToSpace()},i.prototype.removed_shape=function(e,t){for(var i=e.body,L=((t=null==t?!1:t)||i.wake(),null),n=i.arbiters.head;null!=n;){var r,o=n.elt;if(o.ws1==e||o.ws2==e){if(0!=o.present){this.MRCA_chains(o.ws1,o.ws2);for(var a=this.mrca1.head;null!=a;){for(var D=a.elt,s=this.mrca2.head;null!=s;){for(var p,R=s.elt,l=D.cbSet,h=R.cbSet,u=(l.validate(),h.validate(),null),d=(l.cbpairs.length<h.cbpairs.length?l:h).cbpairs.head;null!=d;){var c=d.elt;if(c.a==l&&c.b==h||c.a==h&&c.b==l){u=c;break}d=d.next}if(null==u&&(null==On.zpp_pool?p=new On:(p=On.zpp_pool,On.zpp_pool=p.next,p.next=null),p.zip_listeners=!0,Pn.setlt(l,h)?(p.a=l,p.b=h):(p.a=h,p.b=l),u=p,l.cbpairs.add(u),h!=l&&h.cbpairs.add(u)),u.zip_listeners&&(u.zip_listeners=!1,u.__validate()),null==u.listeners.head)s=s.next;else{for(var m,y=jn.get(D,R),_=(y.remove_arb(o),o.present--,null),x=(l.cbpairs.length<h.cbpairs.length?l:h).cbpairs.head;null!=x;){var f=x.elt;if(f.a==l&&f.b==h||f.a==h&&f.b==l){_=f;break}x=x.next}null==_&&(null==On.zpp_pool?m=new On:(m=On.zpp_pool,On.zpp_pool=m.next,m.next=null),m.zip_listeners=!0,Pn.setlt(l,h)?(m.a=l,m.b=h):(m.a=h,m.b=l),_=m,l.cbpairs.add(_),h!=l&&h.cbpairs.add(_)),_.zip_listeners&&(_.zip_listeners=!1,_.__validate());for(var g=_.listeners.head;null!=g;){var v,z,b,w,S,C=g.elt;1==C.event&&0!=(C.itype&o.type)&&y.empty_arb(C.itype)&&((v=this.push_callback(C)).event=1,z=y.int1,b=y.int2,S=C.options1,w=z.cbTypes,!(!S.nonemptyintersection(w,S.includes)||S.nonemptyintersection(w,S.excludes))&&(w=C.options2,S=b.cbTypes,!!w.nonemptyintersection(S,w.includes)&&!w.nonemptyintersection(S,w.excludes))?(v.int1=z,v.int2=b):(v.int1=b,v.int2=z),v.set=y),g=g.next}null==y.arbiters.head&&this.remove_callbackset(y),s=s.next}}a=a.next}}if(o.b1==i||2!=o.b1.type||(r=o.b1).world||(r.component.waket=this.stamp+(this.midstep?0:1),3==r.type&&(r.kinematicDelaySleep=!0),r.component.sleeping&&this.really_wake(r,!1)),o.b2==i||2!=o.b2.type||(r=o.b2).world||(r.component.waket=this.stamp+(this.midstep?0:1),3==r.type&&(r.kinematicDelaySleep=!0),r.component.sleeping&&this.really_wake(r,!1)),o.cleared=!0,null==i||o.b2==i)for(var k=o.b1.arbiters,M=null,P=k.head;null!=P;){if(P.elt==o){null==M?(T=(O=k.head).next,k.head=T,null==k.head&&(k.pushmod=!0)):(T=(O=M.next).next,null==(M.next=T)&&(k.pushmod=!0));var O,T,G=O;G.elt=null,G.next=En.zpp_pool,En.zpp_pool=G,k.modified=!0,k.length--,k.pushmod=!0;break}P=(M=P).next}if(null==i||o.b1==i)for(var A=o.b2.arbiters,E=null,I=A.head;null!=I;){if(I.elt==o){null==E?(B=(j=A.head).next,A.head=B,null==A.head&&(A.pushmod=!0)):(B=(j=E.next).next,null==(E.next=B)&&(A.pushmod=!0));var j,B,F=j;F.elt=null,F.next=En.zpp_pool,En.zpp_pool=F,A.modified=!0,A.length--,A.pushmod=!0;break}I=(E=I).next}null!=o.pair&&(o.pair.arb=null,o.pair=null),o.active=!1,this.f_arbiters.modified=!0,n=i.arbiters.erase(L)}else n=(L=n).next}this.bphase.remove(e),e.removedFromSpace()},i.prototype.addConstraint=function(e){e.space=this,e.addedToSpace(),e.active&&(e.component.sleeping=!0,this.wake_constraint(e,!0))},i.prototype.remConstraint=function(e){e.active&&(this.wake_constraint(e,!0),this.live_constraints.remove(e)),e.removedFromSpace(),e.space=null},i.prototype.addCompound=function(e){e.space=this,e.addedToSpace();for(var t=e.bodies.head;null!=t;)this.addBody(t.elt),t=t.next;for(var i=e.constraints.head;null!=i;)this.addConstraint(i.elt),i=i.next;for(var n=e.compounds.head;null!=n;)this.addCompound(n.elt),n=n.next},i.prototype.remCompound=function(e){for(var t=e.bodies.head;null!=t;)this.remBody(t.elt),t=t.next;for(var i=e.constraints.head;null!=i;)this.remConstraint(i.elt),i=i.next;for(var n=e.compounds.head;null!=n;)this.remCompound(n.elt),n=n.next;e.removedFromSpace(),e.space=null},i.prototype.addBody=function(e,t){null==t&&(t=-1),e.space=this,e.addedToSpace(),e.component.sleeping=!0,e.world||(e.component.waket=this.stamp+(this.midstep?0:1),3==e.type&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!0));for(var i=e.shapes.head;null!=i;){var n=i.elt;this.bphase.insert(n),n.addedToSpace(),i=i.next}1==e.type?this.static_validation(e):2!=e.type&&3!=t&&this.kinematics.add(e)},i.prototype.remBody=function(e,t){null==t&&(t=-1),1==e.type?(e.world||(e.component.waket=this.stamp+(this.midstep?0:1),3==e.type&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!0)),this.staticsleep.remove(e)):2==e.type?(e.world||(e.component.waket=this.stamp+(this.midstep?0:1),3==e.type&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!0)),this.live.remove(e)):(3!=t&&this.kinematics.remove(e),e.world||(e.component.waket=this.stamp+(this.midstep?0:1),3==e.type&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,!0)),this.staticsleep.remove(e));for(var i=e.shapes.head;null!=i;)this.removed_shape(i.elt,!0),i=i.next;e.removedFromSpace(),e.space=null},i.prototype.shapesUnderPoint=function(e,t,i,n){return this.bphase.shapesUnderPoint(e,t,i,n)},i.prototype.bodiesUnderPoint=function(e,t,i,n){return this.bphase.bodiesUnderPoint(e,t,i,n)},i.prototype.shapesInAABB=function(e,t,i,n,r){return this.bphase.shapesInAABB(e.zpp_inner,t,i,n,r)},i.prototype.bodiesInAABB=function(e,t,i,n,r){return this.bphase.bodiesInAABB(e.zpp_inner,t,i,n,r)},i.prototype.shapesInCircle=function(e,t,i,n,r){var o=e.zpp_inner,o=(null!=o._validate&&o._validate(),e.zpp_inner.x),a=e.zpp_inner;return null!=a._validate&&a._validate(),this.bphase.shapesInCircle(o,e.zpp_inner.y,t,i,n,r)},i.prototype.bodiesInCircle=function(e,t,i,n,r){var o=e.zpp_inner,o=(null!=o._validate&&o._validate(),e.zpp_inner.x),a=e.zpp_inner;return null!=a._validate&&a._validate(),this.bphase.bodiesInCircle(o,e.zpp_inner.y,t,i,n,r)},i.prototype.shapesInShape=function(e,t,i,n){return this.bphase.shapesInShape(e,t,i,n)},i.prototype.bodiesInShape=function(e,t,i,n){return this.bphase.bodiesInShape(e,t,i,n)},i.prototype.rayCast=function(e,t,i){return this.bphase.rayCast(e.zpp_inner,t,null==i?null:i.zpp_inner)},i.prototype.rayMultiCast=function(e,t,i,n){return this.bphase.rayMultiCast(e.zpp_inner,t,null==i?null:i.zpp_inner,n)},i.prototype.convexShapeList=null,i.prototype.convexCast=function(e,t,i,L){var n;if(null==Zt.zpp_pool?n=new Zt:(n=Zt.zpp_pool,Zt.zpp_pool=n.next,n.next=null),n.failed=!1,n.s1=n.s2=null,n.arbiter=null,0==e.type){var r=e.circle;if(r.zip_worldCOM&&null!=r.body){if(r.zip_worldCOM=!1,r.zip_localCOM){if(r.zip_localCOM=!1,1==r.type){var o=r.polygon;if(null==o.lverts.next.next)o.localCOMx=o.lverts.next.x,o.localCOMy=o.lverts.next.y;else if(null==o.lverts.next.next.next)o.localCOMx=o.lverts.next.x,o.localCOMy=o.lverts.next.y,o.localCOMx+=o.lverts.next.next.x,o.localCOMy+=o.lverts.next.next.y,o.localCOMx*=.5,o.localCOMy*=.5;else{o.localCOMx=0;var a=o.localCOMy=0,s=o.lverts.next,p=s,l=s=s.next;for(s=s.next;null!=s;){var h=s,D=(a+=l.x*(h.y-p.y),h.y*l.x-h.x*l.y);o.localCOMx+=(l.x+h.x)*D,o.localCOMy+=(l.y+h.y)*D,p=l,l=h,s=s.next}var u=s=o.lverts.next,d=(a+=l.x*(u.y-p.y),u.y*l.x-u.x*l.y),d=(o.localCOMx+=(l.x+u.x)*d,o.localCOMy+=(l.y+u.y)*d,p=l,s=s.next),c=(a+=u.x*(d.y-p.y),d.y*u.x-d.x*u.y),u=(o.localCOMx+=(u.x+d.x)*c,o.localCOMy+=(u.y+d.y)*c,a=1/(3*a));o.localCOMx*=u,o.localCOMy*=u}}null!=r.wrap_localCOM&&(r.wrap_localCOM.zpp_inner.x=r.localCOMx,r.wrap_localCOM.zpp_inner.y=r.localCOMy)}d=r.body;d.zip_axis&&(d.zip_axis=!1,d.axisx=Math.sin(d.rot),d.axisy=Math.cos(d.rot)),r.worldCOMx=r.body.posx+(r.body.axisy*r.localCOMx-r.body.axisx*r.localCOMy),r.worldCOMy=r.body.posy+(r.localCOMx*r.body.axisx+r.localCOMy*r.body.axisy)}}else{var m=e.polygon;if(m.zip_gaxi&&null!=m.body){m.zip_gaxi=!1,m.validate_laxi();c=m.body;if(c.zip_axis&&(c.zip_axis=!1,c.axisx=Math.sin(c.rot),c.axisy=Math.cos(c.rot)),m.zip_gverts&&null!=m.body){m.zip_gverts=!1,m.validate_lverts();for(var u=m.body,R=(u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),m.lverts.next),j=m.gverts.next;null!=j;){var F=j,N=R,R=R.next;F.x=m.body.posx+(m.body.axisy*N.x-m.body.axisx*N.y),F.y=m.body.posy+(N.x*m.body.axisx+N.y*m.body.axisy),j=j.next}}for(var U=m.edges.head,H=y=m.gverts.next,y=y.next;null!=y;){var V=y,_=U.elt,U=U.next;_.gp0=H,_.gp1=V,_.gnormx=m.body.axisy*_.lnormx-m.body.axisx*_.lnormy,_.gnormy=_.lnormx*m.body.axisx+_.lnormy*m.body.axisy,_.gprojection=m.body.posx*_.gnormx+m.body.posy*_.gnormy+_.lprojection,null!=_.wrap_gnorm&&(_.wrap_gnorm.zpp_inner.x=_.gnormx,_.wrap_gnorm.zpp_inner.y=_.gnormy),_.tp0=_.gp0.y*_.gnormx-_.gp0.x*_.gnormy,_.tp1=_.gp1.y*_.gnormx-_.gp1.x*_.gnormy,H=V,y=y.next}d=U.elt;d.gp0=H,d.gp1=m.gverts.next,d.gnormx=m.body.axisy*d.lnormx-m.body.axisx*d.lnormy,d.gnormy=d.lnormx*m.body.axisx+d.lnormy*m.body.axisy,d.gprojection=m.body.posx*d.gnormx+m.body.posy*d.gnormy+d.lprojection,null!=d.wrap_gnorm&&(d.wrap_gnorm.zpp_inner.x=d.gnormx,d.wrap_gnorm.zpp_inner.y=d.gnormy),d.tp0=d.gp0.y*d.gnormx-d.gp0.x*d.gnormy,d.tp1=d.gp1.y*d.gnormx-d.gp1.x*d.gnormy}}for(var x=e.body,r=x.posx,c=x.posy,u=(x.sweepTime=0,x.sweep_angvel=x.angvel,t-x.sweepTime),f=(0!=u&&(x.sweepTime=t,x.posx+=x.velx*u,x.posy+=x.vely*u,0!=x.angvel&&(d=x.sweep_angvel*u,x.rot+=d,1e-4<d*d?(x.axisx=Math.sin(x.rot),x.axisy=Math.cos(x.rot)):(g=((f=1-.5*(u=d*d))*x.axisx+d*x.axisy)*(u=1-u*u/8),x.axisy=(f*x.axisy-d*x.axisx)*u,x.axisx=g))),x.posx),d=x.posy,u=(e.validate_sweepRadius(),e.sweepRadius),g=(null==Nt.zpp_pool?T=new Nt:(T=Nt.zpp_pool,Nt.zpp_pool=T.next,T.next=null),T.minx=(r<f?r:f)-u,T.maxx=(f<r?r:f)+u,T.miny=(c<d?c:d)-u,T.maxy=(d<c?c:d)+u,this.convexShapeList=this.bphase.shapesInAABB(T,!1,!1,null==i?null:i.zpp_inner,this.convexShapeList)),r=T,W=(null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r.wrap_min=r.wrap_max=null,r._invalidate=null,r._validate=null,r.next=Nt.zpp_pool,Nt.zpp_pool=r,0),q=0,W=0,q=0,X=0,Y=0,X=0,Y=0,K=null,Z=t+1,v=(g.zpp_inner.valmod(),ht.get(g));;){v.zpp_inner.zpp_inner.valmod();var z=v.zpp_inner,z=(z.zpp_inner.valmod(),z.zpp_inner.zip_length&&(z.zpp_inner.zip_length=!1,z.zpp_inner.user_length=z.zpp_inner.inner.length),z.zpp_inner.user_length);if(v.zpp_critical=!0,!(v.zpp_i<z||(v.zpp_next=ht.zpp_pool,(ht.zpp_pool=v).zpp_inner=null,!1)))break;v.zpp_critical=!1;z=v.zpp_inner.at(v.zpp_i++);if(z!=e.outer&&(null!=z.zpp_inner.body?z.zpp_inner.body.outer:null)!=x.outer){if(n.s1=e,n.s2=z.zpp_inner,L){z.zpp_inner.validate_sweepRadius(),(null!=z.zpp_inner.body?z.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=(null!=z.zpp_inner.body?z.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=z.zpp_inner.body?z.zpp_inner.body.outer:null).zpp_inner.sweepTime=0,Jt.dynamicSweep(n,t,0,0,!0);var J,b=(null!=z.zpp_inner.body?z.zpp_inner.body.outer:null).zpp_inner,w=0-b.sweepTime,S=(0!=w&&(b.sweepTime=0,b.posx+=b.velx*w,b.posy+=b.vely*w,0!=b.angvel&&(w=b.sweep_angvel*w,b.rot+=w,1e-4<w*w?(b.axisx=Math.sin(b.rot),b.axisy=Math.cos(b.rot)):(J=((C=1-.5*(P=w*w))*b.axisx+w*b.axisy)*(P=1-P*P/8),b.axisy=(C*b.axisy-w*b.axisx)*P,b.axisx=J))),(null!=z.zpp_inner.body?z.zpp_inner.body.outer:null).zpp_inner),C=z.zpp_inner;if(0==C.type)C.worldCOMx=S.posx+(S.axisy*C.localCOMx-S.axisx*C.localCOMy),C.worldCOMy=S.posy+(C.localCOMx*S.axisx+C.localCOMy*S.axisy);else{for(var w=C.polygon,Q=w.lverts.next,$=w.gverts.next;null!=$;){var ee=$,te=Q,Q=Q.next;ee.x=S.posx+(S.axisy*te.x-S.axisx*te.y),ee.y=S.posy+(te.x*S.axisx+te.y*S.axisy),$=$.next}for(var ie=w.edges.head,ne=k=w.gverts.next,k=k.next;null!=k;){var re=k,M=ie.elt,ie=ie.next;M.gnormx=S.axisy*M.lnormx-S.axisx*M.lnormy,M.gnormy=M.lnormx*S.axisx+M.lnormy*S.axisy,M.gprojection=S.posx*M.gnormx+S.posy*M.gnormy+M.lprojection,M.tp0=ne.y*M.gnormx-ne.x*M.gnormy,M.tp1=re.y*M.gnormx-re.x*M.gnormy,ne=re,k=k.next}var P=w.gverts.next,b=ie.elt;b.gnormx=S.axisy*b.lnormx-S.axisx*b.lnormy,b.gnormy=b.lnormx*S.axisx+b.lnormy*S.axisy,b.gprojection=S.posx*b.gnormx+S.posy*b.gnormy+b.lprojection,b.tp0=ne.y*b.gnormx-ne.x*b.gnormy,b.tp1=P.y*b.gnormx-P.x*b.gnormy}}else Jt.staticSweep(n,t,0,0);n.toi*=t,0<n.toi&&n.toi<Z&&(Z=n.toi,W=n.axis.x,q=n.axis.y,X=n.c2.x,Y=n.c2.y,K=z)}}g.clear();var O,T,G,A,E,f=n,c=(f.next=Zt.zpp_pool,Zt.zpp_pool=f,0-x.sweepTime);if(0!=c&&(x.sweepTime=0,x.posx+=x.velx*c,x.posy+=x.vely*c,0!=x.angvel&&(d=x.sweep_angvel*c,x.rot+=d,1e-4<d*d?(x.axisx=Math.sin(x.rot),x.axisy=Math.cos(x.rot)):(r=((i=1-.5*(u=d*d))*x.axisx+d*x.axisy)*(T=1-u*u/8),x.axisy=(i*x.axisy-d*x.axisx)*T,x.axisx=r))),0==e.type)e.worldCOMx=x.posx+(x.axisy*e.localCOMx-x.axisx*e.localCOMy),e.worldCOMy=x.posy+(e.localCOMx*x.axisx+e.localCOMy*x.axisy);else{for(var g=e.polygon,oe=g.lverts.next,ae=g.gverts.next;null!=ae;){var se=ae,pe=oe,oe=oe.next;se.x=x.posx+(x.axisy*pe.x-x.axisx*pe.y),se.y=x.posy+(pe.x*x.axisx+pe.y*x.axisy),ae=ae.next}for(var le=g.edges.head,he=I=g.gverts.next,I=I.next;null!=I;){var ue=I,B=le.elt,le=le.next;B.gnormx=x.axisy*B.lnormx-x.axisx*B.lnormy,B.gnormy=B.lnormx*x.axisx+B.lnormy*x.axisy,B.gprojection=x.posx*B.gnormx+x.posy*B.gnormy+B.lprojection,B.tp0=he.y*B.gnormx-he.x*B.gnormy,B.tp1=ue.y*B.gnormx-ue.x*B.gnormy,he=ue,I=I.next}f=g.gverts.next,c=le.elt;c.gnormx=x.axisy*c.lnormx-x.axisx*c.lnormy,c.gnormy=c.lnormx*x.axisx+c.lnormy*x.axisy,c.gprojection=x.posx*c.gnormx+x.posy*c.gnormy+c.lprojection,c.tp0=he.y*c.gnormx-he.x*c.gnormy,c.tp1=f.y*c.gnormx-f.x*c.gnormy}return Z<=t?(u=-W,i=-q,null==yi.poolVec2?O=new xe:(O=yi.poolVec2,yi.poolVec2=O.zpp_pool,O.zpp_pool=null),null==O.zpp_inner?(null==cr.zpp_pool?E=new cr:(E=cr.zpp_pool,cr.zpp_pool=E.next,E.next=null),E.weak=!1,E._immutable=!1,E.x=u,E.y=i,O.zpp_inner=E,O.zpp_inner.outer=O):(null!=(d=O.zpp_inner)._validate&&d._validate(),O.zpp_inner.x==u&&(null!=(T=O.zpp_inner)._validate&&T._validate(),O.zpp_inner.y==i)||(O.zpp_inner.x=u,O.zpp_inner.y=i,null!=(r=O.zpp_inner)._invalidate&&r._invalidate(r))),O.zpp_inner.weak=!1,g=O,null==yi.poolVec2?G=new xe:(G=yi.poolVec2,yi.poolVec2=G.zpp_pool,G.zpp_pool=null),null==G.zpp_inner?(null==cr.zpp_pool?A=new cr:(A=cr.zpp_pool,cr.zpp_pool=A.next,A.next=null),A.weak=!1,A._immutable=!1,A.x=X,A.y=Y,G.zpp_inner=A,G.zpp_inner.outer=G):(null!=(f=G.zpp_inner)._validate&&f._validate(),G.zpp_inner.x==X&&(null!=(c=G.zpp_inner)._validate&&c._validate(),G.zpp_inner.y==Y)||(G.zpp_inner.x=X,G.zpp_inner.y=Y,null!=(E=G.zpp_inner)._invalidate&&E._invalidate(E))),G.zpp_inner.weak=!1,kt.getConvex(g,G,Z,K)):null},i.prototype.prepareCast=function(e){if(0==e.type){var t=e.circle;if(t.zip_worldCOM&&null!=t.body){if(t.zip_worldCOM=!1,t.zip_localCOM){if(t.zip_localCOM=!1,1==t.type){var i=t.polygon;if(null==i.lverts.next.next)i.localCOMx=i.lverts.next.x,i.localCOMy=i.lverts.next.y;else if(null==i.lverts.next.next.next)i.localCOMx=i.lverts.next.x,i.localCOMy=i.lverts.next.y,i.localCOMx+=i.lverts.next.next.x,i.localCOMy+=i.lverts.next.next.y,i.localCOMx*=.5,i.localCOMy*=.5;else{i.localCOMx=0;var n=i.localCOMy=0,r=i.lverts.next,o=r,a=r=r.next;for(r=r.next;null!=r;){var s=r,p=(n+=a.x*(s.y-o.y),s.y*a.x-s.x*a.y);i.localCOMx+=(a.x+s.x)*p,i.localCOMy+=(a.y+s.y)*p,o=a,a=s,r=r.next}var l=r=i.lverts.next,h=(n+=a.x*(l.y-o.y),l.y*a.x-l.x*a.y),h=(i.localCOMx+=(a.x+l.x)*h,i.localCOMy+=(a.y+l.y)*h,o=a,r=r.next),u=(n+=l.x*(h.y-o.y),h.y*l.x-h.x*l.y),l=(i.localCOMx+=(l.x+h.x)*u,i.localCOMy+=(l.y+h.y)*u,n=1/(3*n));i.localCOMx*=l,i.localCOMy*=l}}null!=t.wrap_localCOM&&(t.wrap_localCOM.zpp_inner.x=t.localCOMx,t.wrap_localCOM.zpp_inner.y=t.localCOMy)}h=t.body;h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),t.worldCOMx=t.body.posx+(t.body.axisy*t.localCOMx-t.body.axisx*t.localCOMy),t.worldCOMy=t.body.posy+(t.localCOMx*t.body.axisx+t.localCOMy*t.body.axisy)}}else{var d=e.polygon;if(d.zip_gaxi&&null!=d.body){d.zip_gaxi=!1,d.validate_laxi();u=d.body;if(u.zip_axis&&(u.zip_axis=!1,u.axisx=Math.sin(u.rot),u.axisy=Math.cos(u.rot)),d.zip_gverts&&null!=d.body){d.zip_gverts=!1,d.validate_lverts();for(var l=d.body,c=(l.zip_axis&&(l.zip_axis=!1,l.axisx=Math.sin(l.rot),l.axisy=Math.cos(l.rot)),d.lverts.next),m=d.gverts.next;null!=m;){var y=m,_=c,c=c.next;y.x=d.body.posx+(d.body.axisy*_.x-d.body.axisx*_.y),y.y=d.body.posy+(_.x*d.body.axisx+_.y*d.body.axisy),m=m.next}}for(var x=d.edges.head,f=g=d.gverts.next,g=g.next;null!=g;){var v=g,z=x.elt,x=x.next;z.gp0=f,z.gp1=v,z.gnormx=d.body.axisy*z.lnormx-d.body.axisx*z.lnormy,z.gnormy=z.lnormx*d.body.axisx+z.lnormy*d.body.axisy,z.gprojection=d.body.posx*z.gnormx+d.body.posy*z.gnormy+z.lprojection,null!=z.wrap_gnorm&&(z.wrap_gnorm.zpp_inner.x=z.gnormx,z.wrap_gnorm.zpp_inner.y=z.gnormy),z.tp0=z.gp0.y*z.gnormx-z.gp0.x*z.gnormy,z.tp1=z.gp1.y*z.gnormx-z.gp1.x*z.gnormy,f=v,g=g.next}h=x.elt;h.gp0=f,h.gp1=d.gverts.next,h.gnormx=d.body.axisy*h.lnormx-d.body.axisx*h.lnormy,h.gnormy=h.lnormx*d.body.axisx+h.lnormy*d.body.axisy,h.gprojection=d.body.posx*h.gnormx+d.body.posy*h.gnormy+h.lprojection,null!=h.wrap_gnorm&&(h.wrap_gnorm.zpp_inner.x=h.gnormx,h.wrap_gnorm.zpp_inner.y=h.gnormy),h.tp0=h.gp0.y*h.gnormx-h.gp0.x*h.gnormy,h.tp1=h.gp1.y*h.gnormx-h.gp1.x*h.gnormy}}},i.prototype.convexMultiCast=function(e,L,D,R,t){var i;if(null==Zt.zpp_pool?i=new Zt:(i=Zt.zpp_pool,Zt.zpp_pool=i.next,i.next=null),i.failed=!1,i.s1=i.s2=null,i.arbiter=null,0==e.type){var n=e.circle;if(n.zip_worldCOM&&null!=n.body){if(n.zip_worldCOM=!1,n.zip_localCOM){if(n.zip_localCOM=!1,1==n.type){var r=n.polygon;if(null==r.lverts.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y;else if(null==r.lverts.next.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y,r.localCOMx+=r.lverts.next.next.x,r.localCOMy+=r.lverts.next.next.y,r.localCOMx*=.5,r.localCOMy*=.5;else{r.localCOMx=0;var j=r.localCOMy=0,o=r.lverts.next,F=o,a=o=o.next;for(o=o.next;null!=o;){var s=o,N=(j+=a.x*(s.y-F.y),s.y*a.x-s.x*a.y);r.localCOMx+=(a.x+s.x)*N,r.localCOMy+=(a.y+s.y)*N,F=a,a=s,o=o.next}var p=o=r.lverts.next,l=(j+=a.x*(p.y-F.y),p.y*a.x-p.x*a.y),l=(r.localCOMx+=(a.x+p.x)*l,r.localCOMy+=(a.y+p.y)*l,F=a,o=o.next),h=(j+=p.x*(l.y-F.y),l.y*p.x-l.x*p.y),p=(r.localCOMx+=(p.x+l.x)*h,r.localCOMy+=(p.y+l.y)*h,j=1/(3*j));r.localCOMx*=p,r.localCOMy*=p}}null!=n.wrap_localCOM&&(n.wrap_localCOM.zpp_inner.x=n.localCOMx,n.wrap_localCOM.zpp_inner.y=n.localCOMy)}l=n.body;l.zip_axis&&(l.zip_axis=!1,l.axisx=Math.sin(l.rot),l.axisy=Math.cos(l.rot)),n.worldCOMx=n.body.posx+(n.body.axisy*n.localCOMx-n.body.axisx*n.localCOMy),n.worldCOMy=n.body.posy+(n.localCOMx*n.body.axisx+n.localCOMy*n.body.axisy)}}else{var u=e.polygon;if(u.zip_gaxi&&null!=u.body){u.zip_gaxi=!1,u.validate_laxi();h=u.body;if(h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),u.zip_gverts&&null!=u.body){u.zip_gverts=!1,u.validate_lverts();for(var p=u.body,U=(p.zip_axis&&(p.zip_axis=!1,p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)),u.lverts.next),H=u.gverts.next;null!=H;){var V=H,W=U,U=U.next;V.x=u.body.posx+(u.body.axisy*W.x-u.body.axisx*W.y),V.y=u.body.posy+(W.x*u.body.axisx+W.y*u.body.axisy),H=H.next}}for(var q=u.edges.head,X=d=u.gverts.next,d=d.next;null!=d;){var Y=d,c=q.elt,q=q.next;c.gp0=X,c.gp1=Y,c.gnormx=u.body.axisy*c.lnormx-u.body.axisx*c.lnormy,c.gnormy=c.lnormx*u.body.axisx+c.lnormy*u.body.axisy,c.gprojection=u.body.posx*c.gnormx+u.body.posy*c.gnormy+c.lprojection,null!=c.wrap_gnorm&&(c.wrap_gnorm.zpp_inner.x=c.gnormx,c.wrap_gnorm.zpp_inner.y=c.gnormy),c.tp0=c.gp0.y*c.gnormx-c.gp0.x*c.gnormy,c.tp1=c.gp1.y*c.gnormx-c.gp1.x*c.gnormy,X=Y,d=d.next}l=q.elt;l.gp0=X,l.gp1=u.gverts.next,l.gnormx=u.body.axisy*l.lnormx-u.body.axisx*l.lnormy,l.gnormy=l.lnormx*u.body.axisx+l.lnormy*u.body.axisy,l.gprojection=u.body.posx*l.gnormx+u.body.posy*l.gnormy+l.lprojection,null!=l.wrap_gnorm&&(l.wrap_gnorm.zpp_inner.x=l.gnormx,l.wrap_gnorm.zpp_inner.y=l.gnormy),l.tp0=l.gp0.y*l.gnormx-l.gp0.x*l.gnormy,l.tp1=l.gp1.y*l.gnormx-l.gp1.x*l.gnormy}}for(var m=e.body,n=m.posx,h=m.posy,p=(m.sweepTime=0,m.sweep_angvel=m.angvel,L-m.sweepTime),y=(0!=p&&(m.sweepTime=L,m.posx+=m.velx*p,m.posy+=m.vely*p,0!=m.angvel&&(l=m.sweep_angvel*p,m.rot+=l,1e-4<l*l?(m.axisx=Math.sin(m.rot),m.axisy=Math.cos(m.rot)):(_=((y=1-.5*(p=l*l))*m.axisx+l*m.axisy)*(p=1-p*p/8),m.axisy=(y*m.axisy-l*m.axisx)*p,m.axisx=_))),m.posx),l=m.posy,p=(e.validate_sweepRadius(),e.sweepRadius),_=(null==Nt.zpp_pool?I=new Nt:(I=Nt.zpp_pool,Nt.zpp_pool=I.next,I.next=null),I.minx=(n<y?n:y)-p,I.maxx=(y<n?n:y)+p,I.miny=(h<l?h:l)-p,I.maxy=(l<h?h:l)+p,this.convexShapeList=this.bphase.shapesInAABB(I,!1,!1,null==D?null:D.zpp_inner,this.convexShapeList)),n=I,K=(null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,null==t?new fe:t),x=(_.zpp_inner.valmod(),ht.get(_));;){x.zpp_inner.zpp_inner.valmod();var f=x.zpp_inner,f=(f.zpp_inner.valmod(),f.zpp_inner.zip_length&&(f.zpp_inner.zip_length=!1,f.zpp_inner.user_length=f.zpp_inner.inner.length),f.zpp_inner.user_length);if(x.zpp_critical=!0,!(x.zpp_i<f||(x.zpp_next=ht.zpp_pool,(ht.zpp_pool=x).zpp_inner=null,!1)))break;x.zpp_critical=!1;f=x.zpp_inner.at(x.zpp_i++);if(f!=e.outer&&(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null)!=m.outer){if(i.s1=e,i.s2=f.zpp_inner,R){f.zpp_inner.validate_sweepRadius(),(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null).zpp_inner.sweep_angvel=(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null).zpp_inner.angvel,(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null).zpp_inner.sweepTime=0,Jt.dynamicSweep(i,L,0,0,!0);var g=(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null).zpp_inner,v=0-g.sweepTime,z=(0!=v&&(g.sweepTime=0,g.posx+=g.velx*v,g.posy+=g.vely*v,0!=g.angvel&&(v=g.sweep_angvel*v,g.rot+=v,1e-4<v*v?(g.axisx=Math.sin(g.rot),g.axisy=Math.cos(g.rot)):(re=((b=1-.5*(C=v*v))*g.axisx+v*g.axisy)*(C=1-C*C/8),g.axisy=(b*g.axisy-v*g.axisx)*C,g.axisx=re))),(null!=f.zpp_inner.body?f.zpp_inner.body.outer:null).zpp_inner),b=f.zpp_inner;if(0==b.type)b.worldCOMx=z.posx+(z.axisy*b.localCOMx-z.axisx*b.localCOMy),b.worldCOMy=z.posy+(b.localCOMx*z.axisx+b.localCOMy*z.axisy);else{for(var v=b.polygon,Z=v.lverts.next,J=v.gverts.next;null!=J;){var Q=J,$=Z,Z=Z.next;Q.x=z.posx+(z.axisy*$.x-z.axisx*$.y),Q.y=z.posy+($.x*z.axisx+$.y*z.axisy),J=J.next}for(var ee=v.edges.head,te=w=v.gverts.next,w=w.next;null!=w;){var ie=w,S=ee.elt,ee=ee.next;S.gnormx=z.axisy*S.lnormx-z.axisx*S.lnormy,S.gnormy=S.lnormx*z.axisx+S.lnormy*z.axisy,S.gprojection=z.posx*S.gnormx+z.posy*S.gnormy+S.lprojection,S.tp0=te.y*S.gnormx-te.x*S.gnormy,S.tp1=ie.y*S.gnormx-ie.x*S.gnormy,te=ie,w=w.next}var C=v.gverts.next,g=ee.elt;g.gnormx=z.axisy*g.lnormx-z.axisx*g.lnormy,g.gnormy=g.lnormx*z.axisx+g.lnormy*z.axisy,g.gprojection=z.posx*g.gnormx+z.posy*g.gnormy+g.lprojection,g.tp0=te.y*g.gnormx-te.x*g.gnormy,g.tp1=C.y*g.gnormx-C.x*g.gnormy}}else Jt.staticSweep(i,L,0,0);if(i.toi*=L,0<i.toi){for(var k,M,ne,P,O,T,re=-i.axis.x,v=-i.axis.y,oe=(null==yi.poolVec2?k=new xe:(k=yi.poolVec2,yi.poolVec2=k.zpp_pool,k.zpp_pool=null),null==k.zpp_inner?(null==cr.zpp_pool?M=new cr:(M=cr.zpp_pool,cr.zpp_pool=M.next,M.next=null),M.weak=!1,M._immutable=!1,M.x=re,M.y=v,k.zpp_inner=M,k.zpp_inner.outer=k):(null!=(g=k.zpp_inner)._validate&&g._validate(),k.zpp_inner.x==re&&(null!=(ne=k.zpp_inner)._validate&&ne._validate(),k.zpp_inner.y==v)||(k.zpp_inner.x=re,k.zpp_inner.y=v,null!=(ne=k.zpp_inner)._invalidate&&ne._invalidate(ne))),k.zpp_inner.weak=!1,k),G=i.c2.x,A=i.c2.y,ae=(null==yi.poolVec2?P=new xe:(P=yi.poolVec2,yi.poolVec2=P.zpp_pool,P.zpp_pool=null),null==P.zpp_inner?(null==cr.zpp_pool?O=new cr:(O=cr.zpp_pool,cr.zpp_pool=O.next,O.next=null),O.weak=!1,O._immutable=!1,O.x=G,O.y=A,P.zpp_inner=O,P.zpp_inner.outer=P):(null!=(T=P.zpp_inner)._validate&&T._validate(),P.zpp_inner.x==G&&(null!=(T=P.zpp_inner)._validate&&T._validate(),P.zpp_inner.y==A)||(P.zpp_inner.x=G,P.zpp_inner.y=A,null!=(T=P.zpp_inner)._invalidate&&T._invalidate(T))),P.zpp_inner.weak=!1,kt.getConvex(oe,P,i.toi,f)),se=null,pe=K.zpp_inner.inner.head;null!=pe&&!(ae.zpp_inner.toiDistance<pe.elt.zpp_inner.toiDistance);)pe=(se=pe).next;var E,G=K.zpp_inner.inner,A=(null==Wn.zpp_pool?E=new Wn:(E=Wn.zpp_pool,Wn.zpp_pool=E.next,E.next=null),E.elt=ae,E);null==se?(A.next=G.head,G.head=A):(A.next=se.next,se.next=A),G.pushmod=G.modified=!0,G.length++}}}_.clear();var I,y=i,h=(y.next=Zt.zpp_pool,Zt.zpp_pool=y,0-m.sweepTime);if(0!=h&&(m.sweepTime=0,m.posx+=m.velx*h,m.posy+=m.vely*h,0!=m.angvel&&(l=m.sweep_angvel*h,m.rot+=l,1e-4<l*l?(m.axisx=Math.sin(m.rot),m.axisy=Math.cos(m.rot)):(n=((D=1-.5*(p=l*l))*m.axisx+l*m.axisy)*(I=1-p*p/8),m.axisy=(D*m.axisy-l*m.axisx)*I,m.axisx=n))),0==e.type)e.worldCOMx=m.posx+(m.axisy*e.localCOMx-m.axisx*e.localCOMy),e.worldCOMy=m.posy+(e.localCOMx*m.axisx+e.localCOMy*m.axisy);else{for(var t=e.polygon,le=t.lverts.next,he=t.gverts.next;null!=he;){var ue=he,de=le,le=le.next;ue.x=m.posx+(m.axisy*de.x-m.axisx*de.y),ue.y=m.posy+(de.x*m.axisx+de.y*m.axisy),he=he.next}for(var ce=t.edges.head,me=ye=t.gverts.next,ye=ye.next;null!=ye;){var _e=ye,B=ce.elt,ce=ce.next;B.gnormx=m.axisy*B.lnormx-m.axisx*B.lnormy,B.gnormy=B.lnormx*m.axisx+B.lnormy*m.axisy,B.gprojection=m.posx*B.gnormx+m.posy*B.gnormy+B.lprojection,B.tp0=me.y*B.gnormx-me.x*B.gnormy,B.tp1=_e.y*B.gnormx-_e.x*B.gnormy,me=_e,ye=ye.next}_=t.gverts.next,y=ce.elt;y.gnormx=m.axisy*y.lnormx-m.axisx*y.lnormy,y.gnormy=y.lnormx*m.axisx+y.lnormy*m.axisy,y.gprojection=m.posx*y.gnormx+m.posy*y.gnormy+y.lprojection,y.tp0=me.y*y.gnormx-me.x*y.gnormy,y.tp1=_.y*y.gnormx-_.x*y.gnormy}return K},i.prototype.push_callback=function(e){var t;return null==ut.zpp_pool?t=new ut:(t=ut.zpp_pool,ut.zpp_pool=t.next,t.next=null),this.callbacks.push(t),t.listener=e,t},i.prototype.pre_dt=null,i.prototype.step=function(e,L,D){if(this.time+=e,this.pre_dt=e,this.midstep=!0,this.stamp++,this.validation(),this.bphase.broadphase(this,!0),this.prestep(e),this.sortcontacts){var t=this.c_arbiters_false;if(null!=t.head&&null!=t.head.next){for(var R,i,n,r=t.head,o=null,a=null,s=null,p=null,j=1;;){for(R=0,a=r,o=r=null;null!=a;){for(++R,s=a,i=0,n=j;null!=s&&i<j;)++i,s=s.next;for(;0<i||0<n&&null!=s;)0!=i&&(0==n||null==s||!a.elt.active||!s.elt.active||a.elt.oc1.dist<s.elt.oc1.dist)?(a=(p=a).next,--i):(s=(p=s).next,--n),null!=o?o.next=p:r=p,o=p;a=s}if(o.next=null,j<<=1,!(1<R))break}t.head=r,t.modified=!0,t.pushmod=!0}}this.updateVel(e),this.warmStart(),this.iterateVel(L);for(var l=this.kinematics.head;null!=l;){var h=l.elt;h.pre_posx=h.posx,h.pre_posy=h.posy,h.pre_rot=h.rot,l=l.next}for(var u=this.live.head;null!=u;){var d=u.elt;d.pre_posx=d.posx,d.pre_posy=d.posy,d.pre_rot=d.rot,u=u.next}this.updatePos(e),this.continuous=!0,this.continuousCollisions(e),this.continuous=!1,this.iteratePos(D);for(var c=this.kinematics.head;null!=c;){var m=c.elt,F=!(m.posx==m.pre_posx&&m.posy==m.pre_posy),N=m.pre_rot!=m.rot;if(F){for(var y=m.shapes.head;null!=y;){var _=y.elt;1==_.type&&(_.polygon.invalidate_gverts(),_.polygon.invalidate_gaxi()),_.invalidate_worldCOM(),y=y.next}m.zip_worldCOM=!0}if(N){m.zip_axis=!0;for(var x=m.shapes.head;null!=x;){var U=x.elt;1==U.type&&(U.polygon.invalidate_gverts(),U.polygon.invalidate_gaxi()),U.invalidate_worldCOM(),x=x.next}m.zip_worldCOM=!0}c=c.next}for(var H=this.live.head;null!=H;){var f=H.elt,V=!(f.posx==f.pre_posx&&f.posy==f.pre_posy),W=f.pre_rot!=f.rot;if(V){for(var q=f.shapes.head;null!=q;){var X=q.elt;1==X.type&&(X.polygon.invalidate_gverts(),X.polygon.invalidate_gaxi()),X.invalidate_worldCOM(),q=q.next}f.zip_worldCOM=!0}if(W){f.zip_axis=!0;for(var Y=f.shapes.head;null!=Y;){var K=Y.elt;1==K.type&&(K.polygon.invalidate_gverts(),K.polygon.invalidate_gaxi()),K.invalidate_worldCOM(),Y=Y.next}f.zip_worldCOM=!0}H=H.next}for(var Z=null,g=this.staticsleep.head;null!=g;){var J,v,Q,z=g.elt;3!=z.type||0==z.velx&&0==z.vely&&0==z.angvel?z.kinematicDelaySleep?(z.kinematicDelaySleep=!1,g=g.next):(z.component.sleeping=!0,z=this.staticsleep,null==Z?(v=(J=z.head).next,z.head=v,null==z.head&&(z.pushmod=!0)):(v=(J=Z.next).next,null==(Z.next=v)&&(z.pushmod=!0)),(Q=J).elt=null,Q.next=pn.zpp_pool,pn.zpp_pool=Q,z.modified=!0,z.length--,z.pushmod=!0,g=v):g=(Z=g).next}this.doForests(e),this.sleepArbiters(),this.midstep=!1;for(var $=null,b=this.callbackset_list.next;null!=b;){var w=b;if(null==w.arbiters.head){var ee,S,C=this.callbackset_list;null==$?(S=(ee=C.next).next,C.next=S,null==C.next&&(C.pushmod=!0)):(S=(ee=$.next).next,null==($.next=S)&&(C.pushmod=!0)),ee._inuse=!1,C.modified=!0,C.length--,C.pushmod=!0,b=S,w.int1=w.int2=null,w.id=w.di=-1,w.freed=!0,w.next=Fn.zpp_pool,Fn.zpp_pool=w}else{for(var te=!0,ie=w.arbiters.head;null!=ie;){if(!ie.elt.sleeping){te=!1;break}ie=ie.next}for(var k,ne=te,M=w.int1.cbSet,P=w.int2.cbSet,O=null,re=(M.cbpairs.length<P.cbpairs.length?M:P).cbpairs.head;null!=re;){var T=re.elt;if(T.a==M&&T.b==P||T.a==P&&T.b==M){O=T;break}re=re.next}null==O&&(null==On.zpp_pool?k=new On:(k=On.zpp_pool,On.zpp_pool=k.next,k.next=null),k.zip_listeners=!0,Pn.setlt(M,P)?(k.a=M,k.b=P):(k.a=P,k.b=M),O=k,M.cbpairs.add(O),P!=M&&P.cbpairs.add(O)),O.zip_listeners&&(O.zip_listeners=!1,O.__validate());for(var oe=O.listeners.head;null!=oe;){var G,ae,se,A,E,I=oe.elt;6!=I.event||ne&&!I.allowSleepingCallbacks||w.empty_arb(I.itype)||((G=this.push_callback(I)).event=6,ae=w.int1,se=w.int2,E=I.options1,A=ae.cbTypes,!(!E.nonemptyintersection(A,E.includes)||E.nonemptyintersection(A,E.excludes))&&(A=I.options2,E=se.cbTypes,!!A.nonemptyintersection(E,A.includes)&&!A.nonemptyintersection(E,A.excludes))?(G.int1=ae,G.int2=se):(G.int1=se,G.int2=ae),G.set=w),oe=oe.next}b=($=b).next}}for(;!this.callbacks.empty();){var B=this.callbacks.pop();0==B.listener.type?B.listener.body.handler(B.wrapper_body()):1==B.listener.type?B.listener.constraint.handler(B.wrapper_con()):2==B.listener.type&&B.listener.interaction.handleri(B.wrapper_int()),B.int1=B.int2=null,B.body=null,B.constraint=null,(B.listener=null)!=B.wrap_arbiters&&(B.wrap_arbiters.zpp_inner.inner=null),B.set=null,B.next=ut.zpp_pool,ut.zpp_pool=B}},i.prototype.toiEvents=null,i.prototype.continuousCollisions=function(L){for(var D=2*Math.PI/L,R=(this.bphase.broadphase(this,!1),0);R<1&&null!=this.toiEvents.head;){for(var e=null,j=2,F=!1,N=null,U=null,H=this.toiEvents.head;null!=H;){var t=H.elt,V=t.s1.body,W=t.s2.body;if(V.sweepFrozen&&W.sweepFrozen){if(0==t.toi||!dr.testCollide_safe(t.s1,t.s2)){H=this.toiEvents.erase(U),t.next=Zt.zpp_pool,Zt.zpp_pool=t;continue}t.toi=0}if(t.frozen1!=V.sweepFrozen||t.frozen2!=W.sweepFrozen){if(t.kinematic){H=this.toiEvents.erase(U),t.next=Zt.zpp_pool,Zt.zpp_pool=t;continue}if(t.frozen1=V.sweepFrozen,t.frozen2=W.sweepFrozen,t.frozen1&&(V=t.s1,t.s1=t.s2,t.s2=V,t.frozen1=!1,t.frozen2=!0),Jt.staticSweep(t,L,0,ur.collisionSlopCCD),t.toi<0){H=this.toiEvents.erase(U),t.next=Zt.zpp_pool,Zt.zpp_pool=t;continue}}0<=t.toi&&(t.toi<j||!F&&t.kinematic)&&(j=(e=t).toi,F=t.kinematic,N=U),H=(U=H).next}if(null==e)break;this.toiEvents.erase(N);var R=e.toi,i=e.s1.body,n=e.s2.body;if(!i.sweepFrozen){var r=R*L,o=r-i.sweepTime,q=(0!=o&&(i.sweepTime=r,i.posx+=i.velx*o,i.posy+=i.vely*o,0!=i.angvel&&(r=i.sweep_angvel*o,i.rot+=r,1e-4<r*r?(i.axisx=Math.sin(i.rot),i.axisy=Math.cos(i.rot)):(s=((q=1-.5*(o=r*r))*i.axisx+r*i.axisy)*(o=1-o*o/8),i.axisy=(q*i.axisy-r*i.axisx)*o,i.axisx=s))),e.s1);if(0==q.type)q.worldCOMx=i.posx+(i.axisy*q.localCOMx-i.axisx*q.localCOMy),q.worldCOMy=i.posy+(q.localCOMx*i.axisx+q.localCOMy*i.axisy);else{for(var r=q.polygon,X=r.lverts.next,Y=r.gverts.next;null!=Y;){var K=Y,Z=X,X=X.next;K.x=i.posx+(i.axisy*Z.x-i.axisx*Z.y),K.y=i.posy+(Z.x*i.axisx+Z.y*i.axisy),Y=Y.next}for(var J=r.edges.head,Q=$=r.gverts.next,$=$.next;null!=$;){var ee=$,a=J.elt,J=J.next;a.gnormx=i.axisy*a.lnormx-i.axisx*a.lnormy,a.gnormy=a.lnormx*i.axisx+a.lnormy*i.axisy,a.gprojection=i.posx*a.gnormx+i.posy*a.gnormy+a.lprojection,a.tp0=Q.y*a.gnormx-Q.x*a.gnormy,a.tp1=ee.y*a.gnormx-ee.x*a.gnormy,Q=ee,$=$.next}var o=r.gverts.next,s=J.elt;s.gnormx=i.axisy*s.lnormx-i.axisx*s.lnormy,s.gnormy=s.lnormx*i.axisx+s.lnormy*i.axisy,s.gprojection=i.posx*s.gnormx+i.posy*s.gnormy+s.lprojection,s.tp0=Q.y*s.gnormx-Q.x*s.gnormy,s.tp1=o.y*s.gnormx-o.x*s.gnormy}}if(!n.sweepFrozen){var r=R*L,o=r-n.sweepTime,te=(0!=o&&(n.sweepTime=r,n.posx+=n.velx*o,n.posy+=n.vely*o,0!=n.angvel&&(p=n.sweep_angvel*o,n.rot+=p,1e-4<p*p?(n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)):(h=((te=1-.5*(he=p*p))*n.axisx+p*n.axisy)*(he=1-he*he/8),n.axisy=(te*n.axisy-p*n.axisx)*he,n.axisx=h))),e.s2);if(0==te.type)te.worldCOMx=n.posx+(n.axisy*te.localCOMx-n.axisx*te.localCOMy),te.worldCOMy=n.posy+(te.localCOMx*n.axisx+te.localCOMy*n.axisy);else{for(var p=te.polygon,ie=p.lverts.next,ne=p.gverts.next;null!=ne;){var re=ne,oe=ie,ie=ie.next;re.x=n.posx+(n.axisy*oe.x-n.axisx*oe.y),re.y=n.posy+(oe.x*n.axisx+oe.y*n.axisy),ne=ne.next}for(var ae=p.edges.head,se=pe=p.gverts.next,pe=pe.next;null!=pe;){var le=pe,l=ae.elt,ae=ae.next;l.gnormx=n.axisy*l.lnormx-n.axisx*l.lnormy,l.gnormy=l.lnormx*n.axisx+l.lnormy*n.axisy,l.gprojection=n.posx*l.gnormx+n.posy*l.gnormy+l.lprojection,l.tp0=se.y*l.gnormx-se.x*l.gnormy,l.tp1=le.y*l.gnormx-le.x*l.gnormy,se=le,pe=pe.next}var he=p.gverts.next,h=ae.elt;h.gnormx=n.axisy*h.lnormx-n.axisx*h.lnormy,h.gnormy=h.lnormx*n.axisx+h.lnormy*n.axisy,h.gprojection=n.posx*h.gnormx+n.posy*h.gnormy+h.lprojection,h.tp0=se.y*h.gnormx-se.x*h.gnormy,h.tp1=he.y*h.gnormx-he.x*h.gnormy}}var u,d,c,m,y,_,x,f,g,v,z,b,w,S,C,k,M,P,O,T,G=this.narrowPhase(e.s1,e.s2,!0,e.arbiter,!0),A=(null==G?null!=e.arbiter&&null!=e.arbiter.pair&&(e.arbiter.pair.arb=null,e.arbiter.pair=null):this.presteparb(G,L,!0)||G.type==Rt.COL&&G.active&&0!=(1&G.immState)&&(A=(w=G.colarb).nx*w.c1.jnAcc-w.ny*w.c1.jtAcc,k=w.ny*w.c1.jnAcc+w.nx*w.c1.jtAcc,M=w.b1.imass,w.b1.velx-=A*M,w.b1.vely-=k*M,w.b1.angvel-=w.b1.iinertia*(k*w.c1.r1x-A*w.c1.r1y),M=w.b2.imass,w.b2.velx+=A*M,w.b2.vely+=k*M,w.b2.angvel+=w.b2.iinertia*(k*w.c1.r2x-A*w.c1.r2y),w.hc2&&(M=w.nx*w.c2.jnAcc-w.ny*w.c2.jtAcc,k=w.ny*w.c2.jnAcc+w.nx*w.c2.jtAcc,A=w.b1.imass,w.b1.velx-=M*A,w.b1.vely-=k*A,w.b1.angvel-=w.b1.iinertia*(k*w.c2.r1x-M*w.c2.r1y),A=w.b2.imass,w.b2.velx+=M*A,w.b2.vely+=k*A,w.b2.angvel+=w.b2.iinertia*(k*w.c2.r2x-M*w.c2.r2y)),w.b2.angvel+=w.jrAcc*w.b2.iinertia,w.b1.angvel-=w.jrAcc*w.b1.iinertia,k=(A=G.colarb).k1x+A.b2.velx-A.c1.r2y*A.b2.angvel-(A.b1.velx-A.c1.r1y*A.b1.angvel),w=((M=A.k1y+A.b2.vely+A.c1.r2x*A.b2.angvel-(A.b1.vely+A.c1.r1x*A.b1.angvel))*A.nx-k*A.ny+A.surfacex)*A.c1.tMass,(T=A.c1.friction*A.c1.jnAcc)<(f=(O=A.c1.jtAcc)-w)?f=T:f<-T&&(f=-T),w=f-O,A.c1.jtAcc=f,g=-A.ny*w,P=A.nx*w,A.b2.velx+=g*A.b2.imass,A.b2.vely+=P*A.b2.imass,A.b1.velx-=g*A.b1.imass,A.b1.vely-=P*A.b1.imass,A.b2.angvel+=A.rt1b*w*A.b2.iinertia,A.b1.angvel-=A.rt1a*w*A.b1.iinertia,A.hc2?(m=A.k2x+A.b2.velx-A.c2.r2y*A.b2.angvel-(A.b1.velx-A.c2.r1y*A.b1.angvel),w=((u=A.k2y+A.b2.vely+A.c2.r2x*A.b2.angvel-(A.b1.vely+A.c2.r1x*A.b1.angvel))*A.nx-m*A.ny+A.surfacex)*A.c2.tMass,(T=A.c2.friction*A.c2.jnAcc)<(f=(O=A.c2.jtAcc)-w)?f=T:f<-T&&(f=-T),w=f-O,A.c2.jtAcc=f,g=-A.ny*w,P=A.nx*w,A.b2.velx+=g*A.b2.imass,A.b2.vely+=P*A.b2.imass,A.b1.velx-=g*A.b1.imass,A.b1.vely-=P*A.b1.imass,A.b2.angvel+=A.rt2b*w*A.b2.iinertia,A.b1.angvel-=A.rt2a*w*A.b1.iinertia,k=A.k1x+A.b2.velx-A.c1.r2y*A.b2.angvel-(A.b1.velx-A.c1.r1y*A.b1.angvel),M=A.k1y+A.b2.vely+A.c1.r2x*A.b2.angvel-(A.b1.vely+A.c1.r1x*A.b1.angvel),m=A.k2x+A.b2.velx-A.c2.r2y*A.b2.angvel-(A.b1.velx-A.c2.r1y*A.b1.angvel),u=A.k2y+A.b2.vely+A.c2.r2x*A.b2.angvel-(A.b1.vely+A.c2.r1x*A.b1.angvel),_=A.c1.jnAcc,d=A.c2.jnAcc,c=k*A.nx+M*A.ny+A.surfacey+A.c1.bounce-(A.Ka*_+A.Kb*d),m=m*A.nx+u*A.ny+A.surfacey+A.c2.bounce-(A.Kb*_+A.Kc*d),u=-(A.kMassa*c+A.kMassb*m),y=-(A.kMassb*c+A.kMassc*m),0<=u&&0<=y?(c=u-_,m=y-d,A.c1.jnAcc=u,A.c2.jnAcc=y):0<=(u=-A.c1.nMass*c)&&0<=A.Kb*u+m?(c=u-_,m=-d,A.c1.jnAcc=u,A.c2.jnAcc=0):0<=(y=-A.c2.nMass*m)&&0<=A.Kb*y+c?(c=-_,m=y-d,A.c1.jnAcc=0,A.c2.jnAcc=y):0<=c&&0<=m?(c=-_,m=-d,A.c1.jnAcc=A.c2.jnAcc=0):m=c=0,g=A.nx*(w=c+m),P=A.ny*w,A.b2.velx+=g*A.b2.imass,A.b2.vely+=P*A.b2.imass,A.b1.velx-=g*A.b1.imass,A.b1.vely-=P*A.b1.imass,A.b2.angvel+=(A.rn1b*c+A.rn2b*m)*A.b2.iinertia,A.b1.angvel-=(A.rn1a*c+A.rn2a*m)*A.b1.iinertia):(0!=A.radius&&(w=(A.b2.angvel-A.b1.angvel)*A.rMass,T=A.rfric*A.c1.jnAcc,O=A.jrAcc,A.jrAcc-=w,A.jrAcc>T?A.jrAcc=T:A.jrAcc<-T&&(A.jrAcc=-T),w=A.jrAcc-O,A.b2.angvel+=w*A.b2.iinertia,A.b1.angvel-=w*A.b1.iinertia),k=A.k1x+A.b2.velx-A.c1.r2y*A.b2.angvel-(A.b1.velx-A.c1.r1y*A.b1.angvel),M=A.k1y+A.b2.vely+A.c1.r2x*A.b2.angvel-(A.b1.vely+A.c1.r1x*A.b1.angvel),w=(A.c1.bounce+(A.nx*k+A.ny*M)+A.surfacey)*A.c1.nMass,w=(f=(f=(O=A.c1.jnAcc)-w)<0?0:f)-O,A.c1.jnAcc=f,g=A.nx*w,P=A.ny*w,A.b2.velx+=g*A.b2.imass,A.b2.vely+=P*A.b2.imass,A.b1.velx-=g*A.b1.imass,A.b1.vely-=P*A.b1.imass,A.b2.angvel+=A.rn1b*w*A.b2.iinertia,A.b1.angvel-=A.rn1a*w*A.b1.iinertia),y=(u=G.colarb).k1x+u.b2.velx-u.c1.r2y*u.b2.angvel-(u.b1.velx-u.c1.r1y*u.b1.angvel),d=((_=u.k1y+u.b2.vely+u.c1.r2x*u.b2.angvel-(u.b1.vely+u.c1.r1x*u.b1.angvel))*u.nx-y*u.ny+u.surfacex)*u.c1.tMass,(c=u.c1.friction*u.c1.jnAcc)<(T=(m=u.c1.jtAcc)-d)?T=c:T<-c&&(T=-c),d=T-m,u.c1.jtAcc=T,k=-u.ny*d,M=u.nx*d,u.b2.velx+=k*u.b2.imass,u.b2.vely+=M*u.b2.imass,u.b1.velx-=k*u.b1.imass,u.b1.vely-=M*u.b1.imass,u.b2.angvel+=u.rt1b*d*u.b2.iinertia,u.b1.angvel-=u.rt1a*d*u.b1.iinertia,u.hc2?(O=u.k2x+u.b2.velx-u.c2.r2y*u.b2.angvel-(u.b1.velx-u.c2.r1y*u.b1.angvel),d=((f=u.k2y+u.b2.vely+u.c2.r2x*u.b2.angvel-(u.b1.vely+u.c2.r1x*u.b1.angvel))*u.nx-O*u.ny+u.surfacex)*u.c2.tMass,(c=u.c2.friction*u.c2.jnAcc)<(T=(m=u.c2.jtAcc)-d)?T=c:T<-c&&(T=-c),d=T-m,u.c2.jtAcc=T,k=-u.ny*d,M=u.nx*d,u.b2.velx+=k*u.b2.imass,u.b2.vely+=M*u.b2.imass,u.b1.velx-=k*u.b1.imass,u.b1.vely-=M*u.b1.imass,u.b2.angvel+=u.rt2b*d*u.b2.iinertia,u.b1.angvel-=u.rt2a*d*u.b1.iinertia,y=u.k1x+u.b2.velx-u.c1.r2y*u.b2.angvel-(u.b1.velx-u.c1.r1y*u.b1.angvel),_=u.k1y+u.b2.vely+u.c1.r2x*u.b2.angvel-(u.b1.vely+u.c1.r1x*u.b1.angvel),O=u.k2x+u.b2.velx-u.c2.r2y*u.b2.angvel-(u.b1.velx-u.c2.r1y*u.b1.angvel),f=u.k2y+u.b2.vely+u.c2.r2x*u.b2.angvel-(u.b1.vely+u.c2.r1x*u.b1.angvel),g=u.c1.jnAcc,P=u.c2.jnAcc,w=y*u.nx+_*u.ny+u.surfacey+u.c1.bounce-(u.Ka*g+u.Kb*P),A=O*u.nx+f*u.ny+u.surfacey+u.c2.bounce-(u.Kb*g+u.Kc*P),O=-(u.kMassa*w+u.kMassb*A),f=-(u.kMassb*w+u.kMassc*A),0<=O&&0<=f?(w=O-g,A=f-P,u.c1.jnAcc=O,u.c2.jnAcc=f):0<=(O=-u.c1.nMass*w)&&0<=u.Kb*O+A?(w=O-g,A=-P,u.c1.jnAcc=O,u.c2.jnAcc=0):0<=(f=-u.c2.nMass*A)&&0<=u.Kb*f+w?(w=-g,A=f-P,u.c1.jnAcc=0,u.c2.jnAcc=f):0<=w&&0<=A?(w=-g,A=-P,u.c1.jnAcc=u.c2.jnAcc=0):A=w=0,k=u.nx*(d=w+A),M=u.ny*d,u.b2.velx+=k*u.b2.imass,u.b2.vely+=M*u.b2.imass,u.b1.velx-=k*u.b1.imass,u.b1.vely-=M*u.b1.imass,u.b2.angvel+=(u.rn1b*w+u.rn2b*A)*u.b2.iinertia,u.b1.angvel-=(u.rn1a*w+u.rn2a*A)*u.b1.iinertia):(0!=u.radius&&(d=(u.b2.angvel-u.b1.angvel)*u.rMass,c=u.rfric*u.c1.jnAcc,m=u.jrAcc,u.jrAcc-=d,u.jrAcc>c?u.jrAcc=c:u.jrAcc<-c&&(u.jrAcc=-c),d=u.jrAcc-m,u.b2.angvel+=d*u.b2.iinertia,u.b1.angvel-=d*u.b1.iinertia),y=u.k1x+u.b2.velx-u.c1.r2y*u.b2.angvel-(u.b1.velx-u.c1.r1y*u.b1.angvel),_=u.k1y+u.b2.vely+u.c1.r2x*u.b2.angvel-(u.b1.vely+u.c1.r1x*u.b1.angvel),d=(u.c1.bounce+(u.nx*y+u.ny*_)+u.surfacey)*u.c1.nMass,d=(T=(T=(m=u.c1.jnAcc)-d)<0?0:T)-m,u.c1.jnAcc=T,k=u.nx*d,M=u.ny*d,u.b2.velx+=k*u.b2.imass,u.b2.vely+=M*u.b2.imass,u.b1.velx-=k*u.b1.imass,u.b1.vely-=M*u.b1.imass,u.b2.angvel+=u.rn1b*d*u.b2.iinertia,u.b1.angvel-=u.rn1a*d*u.b1.iinertia),f=(O=G.colarb).k1x+O.b2.velx-O.c1.r2y*O.b2.angvel-(O.b1.velx-O.c1.r1y*O.b1.angvel),P=((g=O.k1y+O.b2.vely+O.c1.r2x*O.b2.angvel-(O.b1.vely+O.c1.r1x*O.b1.angvel))*O.nx-f*O.ny+O.surfacex)*O.c1.tMass,(w=O.c1.friction*O.c1.jnAcc)<(T=(A=O.c1.jtAcc)-P)?T=w:T<-w&&(T=-w),P=T-A,O.c1.jtAcc=T,k=-O.ny*P,M=O.nx*P,O.b2.velx+=k*O.b2.imass,O.b2.vely+=M*O.b2.imass,O.b1.velx-=k*O.b1.imass,O.b1.vely-=M*O.b1.imass,O.b2.angvel+=O.rt1b*P*O.b2.iinertia,O.b1.angvel-=O.rt1a*P*O.b1.iinertia,O.hc2?(b=O.k2x+O.b2.velx-O.c2.r2y*O.b2.angvel-(O.b1.velx-O.c2.r1y*O.b1.angvel),P=((x=O.k2y+O.b2.vely+O.c2.r2x*O.b2.angvel-(O.b1.vely+O.c2.r1x*O.b1.angvel))*O.nx-b*O.ny+O.surfacex)*O.c2.tMass,(w=O.c2.friction*O.c2.jnAcc)<(T=(A=O.c2.jtAcc)-P)?T=w:T<-w&&(T=-w),P=T-A,O.c2.jtAcc=T,k=-O.ny*P,M=O.nx*P,O.b2.velx+=k*O.b2.imass,O.b2.vely+=M*O.b2.imass,O.b1.velx-=k*O.b1.imass,O.b1.vely-=M*O.b1.imass,O.b2.angvel+=O.rt2b*P*O.b2.iinertia,O.b1.angvel-=O.rt2a*P*O.b1.iinertia,f=O.k1x+O.b2.velx-O.c1.r2y*O.b2.angvel-(O.b1.velx-O.c1.r1y*O.b1.angvel),g=O.k1y+O.b2.vely+O.c1.r2x*O.b2.angvel-(O.b1.vely+O.c1.r1x*O.b1.angvel),b=O.k2x+O.b2.velx-O.c2.r2y*O.b2.angvel-(O.b1.velx-O.c2.r1y*O.b1.angvel),x=O.k2y+O.b2.vely+O.c2.r2x*O.b2.angvel-(O.b1.vely+O.c2.r1x*O.b1.angvel),C=O.c1.jnAcc,v=O.c2.jnAcc,z=f*O.nx+g*O.ny+O.surfacey+O.c1.bounce-(O.Ka*C+O.Kb*v),b=b*O.nx+x*O.ny+O.surfacey+O.c2.bounce-(O.Kb*C+O.Kc*v),x=-(O.kMassa*z+O.kMassb*b),S=-(O.kMassb*z+O.kMassc*b),0<=x&&0<=S?(z=x-C,b=S-v,O.c1.jnAcc=x,O.c2.jnAcc=S):0<=(x=-O.c1.nMass*z)&&0<=O.Kb*x+b?(z=x-C,b=-v,O.c1.jnAcc=x,O.c2.jnAcc=0):0<=(S=-O.c2.nMass*b)&&0<=O.Kb*S+z?(z=-C,b=S-v,O.c1.jnAcc=0,O.c2.jnAcc=S):0<=z&&0<=b?(z=-C,b=-v,O.c1.jnAcc=O.c2.jnAcc=0):b=z=0,k=O.nx*(P=z+b),M=O.ny*P,O.b2.velx+=k*O.b2.imass,O.b2.vely+=M*O.b2.imass,O.b1.velx-=k*O.b1.imass,O.b1.vely-=M*O.b1.imass,O.b2.angvel+=(O.rn1b*z+O.rn2b*b)*O.b2.iinertia,O.b1.angvel-=(O.rn1a*z+O.rn2a*b)*O.b1.iinertia):(0!=O.radius&&(P=(O.b2.angvel-O.b1.angvel)*O.rMass,w=O.rfric*O.c1.jnAcc,A=O.jrAcc,O.jrAcc-=P,O.jrAcc>w?O.jrAcc=w:O.jrAcc<-w&&(O.jrAcc=-w),P=O.jrAcc-A,O.b2.angvel+=P*O.b2.iinertia,O.b1.angvel-=P*O.b1.iinertia),f=O.k1x+O.b2.velx-O.c1.r2y*O.b2.angvel-(O.b1.velx-O.c1.r1y*O.b1.angvel),g=O.k1y+O.b2.vely+O.c1.r2x*O.b2.angvel-(O.b1.vely+O.c1.r1x*O.b1.angvel),P=(O.c1.bounce+(O.nx*f+O.ny*g)+O.surfacey)*O.c1.nMass,P=(T=(T=(A=O.c1.jnAcc)-P)<0?0:T)-A,O.c1.jnAcc=T,k=O.nx*P,M=O.ny*P,O.b2.velx+=k*O.b2.imass,O.b2.vely+=M*O.b2.imass,O.b1.velx-=k*O.b1.imass,O.b1.vely-=M*O.b1.imass,O.b2.angvel+=O.rn1b*P*O.b2.iinertia,O.b1.angvel-=O.rn1a*P*O.b1.iinertia),S=(x=G.colarb).k1x+x.b2.velx-x.c1.r2y*x.b2.angvel-(x.b1.velx-x.c1.r1y*x.b1.angvel),v=((C=x.k1y+x.b2.vely+x.c1.r2x*x.b2.angvel-(x.b1.vely+x.c1.r1x*x.b1.angvel))*x.nx-S*x.ny+x.surfacex)*x.c1.tMass,(z=x.c1.friction*x.c1.jnAcc)<(w=(b=x.c1.jtAcc)-v)?w=z:w<-z&&(w=-z),v=w-b,x.c1.jtAcc=w,f=-x.ny*v,g=x.nx*v,x.b2.velx+=f*x.b2.imass,x.b2.vely+=g*x.b2.imass,x.b1.velx-=f*x.b1.imass,x.b1.vely-=g*x.b1.imass,x.b2.angvel+=x.rt1b*v*x.b2.iinertia,x.b1.angvel-=x.rt1a*v*x.b1.iinertia,x.hc2?(A=x.k2x+x.b2.velx-x.c2.r2y*x.b2.angvel-(x.b1.velx-x.c2.r1y*x.b1.angvel),v=((T=x.k2y+x.b2.vely+x.c2.r2x*x.b2.angvel-(x.b1.vely+x.c2.r1x*x.b1.angvel))*x.nx-A*x.ny+x.surfacex)*x.c2.tMass,(z=x.c2.friction*x.c2.jnAcc)<(w=(b=x.c2.jtAcc)-v)?w=z:w<-z&&(w=-z),v=w-b,x.c2.jtAcc=w,f=-x.ny*v,g=x.nx*v,x.b2.velx+=f*x.b2.imass,x.b2.vely+=g*x.b2.imass,x.b1.velx-=f*x.b1.imass,x.b1.vely-=g*x.b1.imass,x.b2.angvel+=x.rt2b*v*x.b2.iinertia,x.b1.angvel-=x.rt2a*v*x.b1.iinertia,S=x.k1x+x.b2.velx-x.c1.r2y*x.b2.angvel-(x.b1.velx-x.c1.r1y*x.b1.angvel),C=x.k1y+x.b2.vely+x.c1.r2x*x.b2.angvel-(x.b1.vely+x.c1.r1x*x.b1.angvel),A=x.k2x+x.b2.velx-x.c2.r2y*x.b2.angvel-(x.b1.velx-x.c2.r1y*x.b1.angvel),T=x.k2y+x.b2.vely+x.c2.r2x*x.b2.angvel-(x.b1.vely+x.c2.r1x*x.b1.angvel),k=x.c1.jnAcc,M=x.c2.jnAcc,P=S*x.nx+C*x.ny+x.surfacey+x.c1.bounce-(x.Ka*k+x.Kb*M),O=A*x.nx+T*x.ny+x.surfacey+x.c2.bounce-(x.Kb*k+x.Kc*M),A=-(x.kMassa*P+x.kMassb*O),T=-(x.kMassb*P+x.kMassc*O),0<=A&&0<=T?(P=A-k,O=T-M,x.c1.jnAcc=A,x.c2.jnAcc=T):0<=(A=-x.c1.nMass*P)&&0<=x.Kb*A+O?(P=A-k,O=-M,x.c1.jnAcc=A,x.c2.jnAcc=0):0<=(T=-x.c2.nMass*O)&&0<=x.Kb*T+P?(P=-k,O=T-M,x.c1.jnAcc=0,x.c2.jnAcc=T):0<=P&&0<=O?(P=-k,O=-M,x.c1.jnAcc=x.c2.jnAcc=0):O=P=0,f=x.nx*(v=P+O),g=x.ny*v,x.b2.velx+=f*x.b2.imass,x.b2.vely+=g*x.b2.imass,x.b1.velx-=f*x.b1.imass,x.b1.vely-=g*x.b1.imass,x.b2.angvel+=(x.rn1b*P+x.rn2b*O)*x.b2.iinertia,x.b1.angvel-=(x.rn1a*P+x.rn2a*O)*x.b1.iinertia):(0!=x.radius&&(v=(x.b2.angvel-x.b1.angvel)*x.rMass,z=x.rfric*x.c1.jnAcc,b=x.jrAcc,x.jrAcc-=v,x.jrAcc>z?x.jrAcc=z:x.jrAcc<-z&&(x.jrAcc=-z),v=x.jrAcc-b,x.b2.angvel+=v*x.b2.iinertia,x.b1.angvel-=v*x.b1.iinertia),S=x.k1x+x.b2.velx-x.c1.r2y*x.b2.angvel-(x.b1.velx-x.c1.r1y*x.b1.angvel),C=x.k1y+x.b2.vely+x.c1.r2x*x.b2.angvel-(x.b1.vely+x.c1.r1x*x.b1.angvel),v=(x.c1.bounce+(x.nx*S+x.ny*C)+x.surfacey)*x.c1.nMass,v=(w=(w=(b=x.c1.jnAcc)-v)<0?0:w)-b,x.c1.jnAcc=w,f=x.nx*v,g=x.ny*v,x.b2.velx+=f*x.b2.imass,x.b2.vely+=g*x.b2.imass,x.b1.velx-=f*x.b1.imass,x.b1.vely-=g*x.b1.imass,x.b2.angvel+=x.rn1b*v*x.b2.iinertia,x.b1.angvel-=x.rn1a*v*x.b1.iinertia),i.sweep_angvel=i.angvel%D,n.sweep_angvel=n.angvel%D),null!=G&&G.active&&0!=(1&G.immState)&&G.type==Rt.COL&&(i.sweepFrozen||3==i.type||(i.sweepFrozen=!0,e.failed?i.angvel=i.sweep_angvel=0:e.slipped?i.angvel=i.sweep_angvel*=ur.angularCCDSlipScale:i.angvel=i.sweep_angvel),n.sweepFrozen||3==n.type||(n.sweepFrozen=!0,e.failed?n.angvel=n.sweep_angvel=0:e.slipped?n.angvel=n.sweep_angvel*=ur.angularCCDSlipScale:n.angvel=n.sweep_angvel)),e);A.next=Zt.zpp_pool,Zt.zpp_pool=A}for(;null!=this.toiEvents.head;){var ue=this.toiEvents.pop_unsafe();ue.next=Zt.zpp_pool,Zt.zpp_pool=ue}for(var de=this.kinematics.head;null!=de;){var ce,me,ye,E=de.elt,I=L-E.sweepTime;0!=I&&(E.sweepTime=L,E.posx+=E.velx*I,E.posy+=E.vely*I,0!=E.angvel&&(I=E.sweep_angvel*I,E.rot+=I,1e-4<I*I?(E.axisx=Math.sin(E.rot),E.axisy=Math.cos(E.rot)):(ye=((ce=1-.5*(me=I*I))*E.axisx+I*E.axisy)*(me=1-me*me/8),E.axisy=(ce*E.axisy-I*E.axisx)*me,E.axisx=ye))),E.sweepTime=0,de=de.next}for(var _e=this.live.head;null!=_e;){var xe,fe,ge,ve,B=_e.elt;B.sweepFrozen||0!=(xe=L-B.sweepTime)&&(B.sweepTime=L,B.posx+=B.velx*xe,B.posy+=B.vely*xe,0!=B.angvel&&(xe=B.sweep_angvel*xe,B.rot+=xe,1e-4<xe*xe?(B.axisx=Math.sin(B.rot),B.axisy=Math.cos(B.rot)):(ve=((fe=1-.5*(ge=xe*xe))*B.axisx+xe*B.axisy)*(ge=1-ge*ge/8),B.axisy=(fe*B.axisy-xe*B.axisx)*ge,B.axisx=ve))),B.sweepTime=0,_e=_e.next}},i.prototype.continuousEvent=function(e,t,i,n,r){if(e.body.sweepFrozen&&t.body.sweepFrozen)return n;if(e.body.disableCCD||t.body.disableCCD)return n;if(null==n||null!=n.colarb){for(var o=e.body,a=t.body,s=!1,p=o.constraints.head;null!=p;){var l=p.elt;if(l.ignore&&l.pair_exists(o.id,a.id)){s=!0;break}p=p.next}if(s)x=!1;else{for(var h=e;null!=h&&null==h.group;)h=null!=h.ishape?h.ishape.body:(null!=h.icompound?h.icompound:h.ibody).compound;var u=null==h?null:h.group;if(null==u)_=!1;else{for(var d=t;null!=d&&null==d.group;)d=null!=d.ishape?d.ishape.body:(null!=d.icompound?d.icompound:d.ibody).compound;var c=null==d?null:d.group;if(null==c)_=!1;else{for(var m=!1;null!=u&&null!=c;){if(u==c){m=u.ignore;break}u.depth<c.depth?c=c.group:u=u.group}_=m}}x=!_}x=(x?!(!e.sensorEnabled&&!t.sensorEnabled)&&(_=e.filter,x=t.filter,0!=(_.sensorMask&x.sensorGroup)&&0!=(x.sensorMask&_.sensorGroup))?2:!!(!(!e.fluidEnabled&&!t.fluidEnabled)&&(x=e.filter,_=t.filter,0!=(x.fluidMask&_.fluidGroup)&&0!=(_.fluidMask&x.fluidGroup)))&&!(0==o.imass&&0==a.imass&&0==o.iinertia&&0==a.iinertia)?0:(_=e.filter,x=t.filter,0!=(_.collisionMask&x.collisionGroup)&&0!=(x.collisionMask&_.collisionGroup)&&!(0==o.imass&&0==a.imass&&0==o.iinertia&&0==a.iinertia)?1:-1):-1)<=0}else x=!0;if(x)return n;var y,_=e.body,x=t.body;return(i||_.bullet||x.bullet)&&(null==Zt.zpp_pool?y=new Zt:(y=Zt.zpp_pool,Zt.zpp_pool=y.next,y.next=null),y.failed=!1,y.s1=y.s2=null,y.arbiter=null,_=3==_.type||3==x.type,i&&!_?(2!=e.body.type?(y.s2=e,y.s1=t):(y.s1=e,y.s2=t),y.kinematic=!1,Jt.staticSweep(y,this.pre_dt,0,ur.collisionSlopCCD)):(y.s1=e,y.s2=t,y.kinematic=_,y.s1.body.sweepFrozen||y.s2.body.sweepFrozen?(y.s1.body.sweepFrozen&&(x=y.s1,y.s1=y.s2,y.s2=x,y.frozen1=!1,y.frozen2=!0),Jt.staticSweep(y,this.pre_dt,0,ur.collisionSlopCCD)):Jt.dynamicSweep(y,this.pre_dt,0,ur.collisionSlopCCD)),i&&y.toi<0||y.failed?((e=y).next=Zt.zpp_pool,Zt.zpp_pool=e):(this.toiEvents.add(y),y.frozen1=y.s1.body.sweepFrozen,y.frozen2=y.s2.body.sweepFrozen,y.arbiter=null!=n?n.colarb:null)),n},i.prototype.bodyCbWake=function(e){if(2==e.type&&null!=e.cbSet)if(this.midstep)for(var t=e.cbSet.bodylisteners.head;null!=t;){var i=t.elt;2!=i.event?t=t.next:((i=this.push_callback(i)).event=2,i.body=e,t=t.next)}else e.component.woken=!0},i.prototype.bodyCbSleep=function(e){if(2==e.type&&null!=e.cbSet)for(var t=e.cbSet.bodylisteners.head;null!=t;){var i=t.elt;3!=i.event?t=t.next:((i=this.push_callback(i)).event=3,i.body=e,t=t.next)}},i.prototype.constraintCbWake=function(e){if(null!=e.cbSet)if(this.midstep)for(var t=e.cbSet.conlisteners.head;null!=t;){var i=t.elt;2!=i.event?t=t.next:((i=this.push_callback(i)).event=2,i.constraint=e,t=t.next)}else e.component.woken=!0},i.prototype.constraintCbSleep=function(e){if(null!=e.cbSet)for(var t=e.cbSet.conlisteners.head;null!=t;){var i=t.elt;3!=i.event?t=t.next:((i=this.push_callback(i)).event=3,i.constraint=e,t=t.next)}},i.prototype.constraintCbBreak=function(e){if(null!=e.cbSet)for(var t=e.cbSet.conlisteners.head;null!=t;){var i=t.elt;4!=i.event?t=t.next:((i=this.push_callback(i)).event=4,i.constraint=e,t=t.next)}},i.prototype.nullListenerType=function(e,t){for(var i=new Ae,n=e.interactors.head;null!=n;)i.add(n.elt),n=n.next;if(e!=t)for(var r=t.interactors.head;null!=r;)i.add(r.elt),r=r.next;for(;null!=i.head;){var o=i.pop_unsafe();if(null!=o.icompound){for(var a=o.icompound,s=a.bodies.head;null!=s;)i.add(s.elt),s=s.next;for(var p=a.compounds.head;null!=p;)i.add(p.elt),p=p.next}else for(var a=null!=o.ibody?o.ibody:o.ishape.body,l=null!=o.ishape?o.ishape:null,h=a.arbiters.head;null!=h;){var u=h.elt;if(0==u.present)h=h.next;else if(null!=l&&u.ws1!=l&&u.ws2!=l)h=h.next;else{this.MRCA_chains(u.ws1,u.ws2);for(var d=this.mrca1.head;null!=d;){var c=d.elt;if(c.cbSet!=e&&c.cbSet!=t)d=d.next;else{for(var m=this.mrca2.head;null!=m;){var y=m.elt;if(c.cbSet==e&&y.cbSet!=t||c.cbSet==t&&y.cbSet!=e)m=m.next;else{var _=jn.get(c,y);if(null!=_){for(;null!=_.arbiters.head;)_.arbiters.pop_unsafe().present--;this.remove_callbackset(_)}m=m.next}}d=d.next}}h=h.next}}}},i.prototype.nullInteractorType=function(e,t){if(null==t&&(t=e),null!=e.icompound){for(var i=e.icompound,n=i.bodies.head;null!=n;)this.nullInteractorType(n.elt,t),n=n.next;for(var r=i.compounds.head;null!=r;)this.nullInteractorType(r.elt,t),r=r.next}else for(var i=null!=e.ibody?e.ibody:e.ishape.body,o=null!=e.ishape?e.ishape:null,a=i.arbiters.head;null!=a;){var s=a.elt;if(0==s.present)a=a.next;else if(null!=o&&s.ws1!=o&&s.ws2!=o)a=a.next;else{this.MRCA_chains(s.ws1,s.ws2);for(var p=this.mrca1.head;null!=p;){for(var l=p.elt,h=this.mrca2.head;null!=h;){var u=h.elt;l!=t&&u!=t?h=h.next:(null!=(u=jn.get(l,u))&&(s.present--,u.remove_arb(s),null==u.arbiters.head&&this.remove_callbackset(u)),h=h.next)}p=p.next}a=a.next}}},i.prototype.freshListenerType=function(e,t){for(var i=new Ae,n=e.interactors.head;null!=n;)i.add(n.elt),n=n.next;if(e!=t)for(var r=t.interactors.head;null!=r;)i.add(r.elt),r=r.next;for(;null!=i.head;){var o=i.pop_unsafe();if(null!=o.icompound){for(var a=o.icompound,s=a.bodies.head;null!=s;)i.add(s.elt),s=s.next;for(var p=a.compounds.head;null!=p;)i.add(p.elt),p=p.next}else for(var a=null!=o.ibody?o.ibody:o.ishape.body,l=null!=o.ishape?o.ishape:null,h=a.arbiters.head;null!=h;){var u=h.elt;if(u.presentable)if(null!=l&&u.ws1!=l&&u.ws2!=l)h=h.next;else{this.MRCA_chains(u.ws1,u.ws2);for(var d=this.mrca1.head;null!=d;){var c=d.elt;if(c.cbSet!=e&&c.cbSet!=t)d=d.next;else{for(var m=this.mrca2.head;null!=m;){var y=m.elt;if(c.cbSet==e&&y.cbSet!=t||c.cbSet==t&&y.cbSet!=e)m=m.next;else{for(var _,x,f=jn.get(c,y),g=(null==f&&(f=Fn.get(c,y),this.add_callbackset(f)),_=!1,f.arbiters.head);null!=g;){if(g.elt==u){_=!0;break}g=g.next}!_&&(y=f.arbiters,null==En.zpp_pool?x=new En:(x=En.zpp_pool,En.zpp_pool=x.next,x.next=null),x.elt=u,(f=x).next=y.head,y.head=f,y.modified=!0,y.length++,!0)&&u.present++,m=m.next}}d=d.next}}h=h.next}else h=h.next}}},i.prototype.freshInteractorType=function(e,t){if(null==t&&(t=e),null!=e.icompound){for(var i=e.icompound,n=i.bodies.head;null!=n;)this.freshInteractorType(n.elt,t),n=n.next;for(var r=i.compounds.head;null!=r;)this.freshInteractorType(r.elt,t),r=r.next}else for(var i=null!=e.ibody?e.ibody:e.ishape.body,o=null!=e.ishape?e.ishape:null,a=i.arbiters.head;null!=a;){var s=a.elt;if(s.presentable)if(null!=o&&s.ws1!=o&&s.ws2!=o)a=a.next;else{this.MRCA_chains(s.ws1,s.ws2);for(var p=this.mrca1.head;null!=p;){for(var l=p.elt,h=this.mrca2.head;null!=h;){var u=h.elt;if(l!=t&&u!=t)h=h.next;else{for(var d,c=l.cbSet,m=u.cbSet,y=(c.validate(),m.validate(),null),_=(c.cbpairs.length<m.cbpairs.length?c:m).cbpairs.head;null!=_;){var x=_.elt;if(x.a==c&&x.b==m||x.a==m&&x.b==c){y=x;break}_=_.next}if(null==y&&(null==On.zpp_pool?d=new On:(d=On.zpp_pool,On.zpp_pool=d.next,d.next=null),d.zip_listeners=!0,Pn.setlt(c,m)?(d.a=c,d.b=m):(d.a=m,d.b=c),y=d,c.cbpairs.add(y),m!=c&&m.cbpairs.add(y)),y.zip_listeners&&(y.zip_listeners=!1,y.__validate()),null!=y.listeners.head){for(var f,g,v=jn.get(l,u),z=(null==v&&(v=Fn.get(l,u),this.add_callbackset(v)),f=!1,v.arbiters.head);null!=z;){if(z.elt==s){f=!0;break}z=z.next}!f&&(u=v.arbiters,null==En.zpp_pool?g=new En:(g=En.zpp_pool,En.zpp_pool=g.next,g.next=null),g.elt=s,(v=g).next=u.head,u.head=v,u.modified=!0,u.length++,!0)&&s.present++}h=h.next}}p=p.next}a=a.next}else a=a.next}},i.prototype.wakeCompound=function(e){for(var t=e.bodies.head;null!=t;){var i=t.elt;i.world||(i.component.waket=this.stamp+(this.midstep?0:1),3==i.type&&(i.kinematicDelaySleep=!0),i.component.sleeping&&this.really_wake(i,!1)),t=t.next}for(var n=e.constraints.head;null!=n;)this.wake_constraint(n.elt),n=n.next;for(var r=e.compounds.head;null!=r;)this.wakeCompound(r.elt),r=r.next},i.prototype.wakeIsland=function(e){for(;null!=e.comps.head;){var t=e.comps.pop_unsafe();if(t.waket=this.stamp+(this.midstep?0:1),t.isBody){for(var i=t.body,n=(this.live.add(i),i.arbiters.head);null!=n;){var r,o,a,s,p,l,h,u,d=n.elt;d.sleeping&&(d.sleeping=!1,d.up_stamp+=this.stamp-d.sleep_stamp,d.type==Rt.COL?(p=d.colarb).stat?(s=this.c_arbiters_true,null==Hn.zpp_pool?r=new Hn:(r=Hn.zpp_pool,Hn.zpp_pool=r.next,r.next=null),r.elt=p,(o=r).next=s.head,s.head=o,s.modified=!0,s.length++):(o=this.c_arbiters_false,null==Hn.zpp_pool?a=new Hn:(a=Hn.zpp_pool,Hn.zpp_pool=a.next,a.next=null),a.elt=p,(s=a).next=o.head,o.head=s,o.modified=!0,o.length++):d.type==Rt.FLUID?(p=this.f_arbiters,h=d.fluidarb,null==Nn.zpp_pool?l=new Nn:(l=Nn.zpp_pool,Nn.zpp_pool=l.next,l.next=null),l.elt=h,(h=l).next=p.head,p.head=h,p.modified=!0,p.length++):(h=this.s_arbiters,d=d.sensorarb,null==Un.zpp_pool?u=new Un:(u=Un.zpp_pool,Un.zpp_pool=u.next,u.next=null),u.elt=d,(d=u).next=h.head,h.head=d,h.modified=!0,h.length++)),n=n.next}if(this.bodyCbWake(i),t.sleeping=!1,t.island=null,(t.parent=t).rank=0,1!=i.type)for(var c=i.shapes.head;null!=c;){var m=c.elt;null!=m.node&&this.bphase.sync(m),c=c.next}}else{var y,i=t.constraint,_=this.live_constraints,x=(null==ln.zpp_pool?y=new ln:(y=ln.zpp_pool,ln.zpp_pool=y.next,y.next=null),y.elt=i,y);x.next=_.head,_.head=x,_.modified=!0,_.length++,this.constraintCbWake(i),t.sleeping=!1,t.island=null,(t.parent=t).rank=0}}e.next=mi.zpp_pool,mi.zpp_pool=e},i.prototype.non_inlined_wake=function(e,t){null==t&&(t=!1),e.world||(e.component.waket=this.stamp+(this.midstep?0:1),3==e.type&&(e.kinematicDelaySleep=!0),e.component.sleeping&&this.really_wake(e,t))},i.prototype.really_wake=function(e,t){if(null==t&&(t=!1),null==e.component.island){e.component.sleeping=!1,3==e.type||1==e.type?(r=this.staticsleep,null==pn.zpp_pool?i=new pn:(i=pn.zpp_pool,pn.zpp_pool=i.next,i.next=null),i.elt=e,(i=i).next=r.head,r.head=i,r.modified=!0,r.length++):(i=this.live,null==pn.zpp_pool?n=new pn:(n=pn.zpp_pool,pn.zpp_pool=n.next,n.next=null),n.elt=e,(r=n).next=i.head,i.head=r,i.modified=!0,i.length++);for(var i,n,r,o=e.constraints.head;null!=o;){var a=o.elt;a.space==this&&this.wake_constraint(a),o=o.next}for(var s=e.arbiters.head;null!=s;){var p,l,h,u,d,c,m,y,_,x=s.elt;x.sleeping&&(x.sleeping=!1,x.up_stamp+=this.stamp+(this.midstep?0:1)-x.sleep_stamp,x.type==Rt.COL?(d=x.colarb).stat?(u=this.c_arbiters_true,null==Hn.zpp_pool?p=new Hn:(p=Hn.zpp_pool,Hn.zpp_pool=p.next,p.next=null),p.elt=d,(l=p).next=u.head,u.head=l,u.modified=!0,u.length++):(l=this.c_arbiters_false,null==Hn.zpp_pool?h=new Hn:(h=Hn.zpp_pool,Hn.zpp_pool=h.next,h.next=null),h.elt=d,(u=h).next=l.head,l.head=u,l.modified=!0,l.length++):x.type==Rt.FLUID?(d=this.f_arbiters,m=x.fluidarb,null==Nn.zpp_pool?c=new Nn:(c=Nn.zpp_pool,Nn.zpp_pool=c.next,c.next=null),c.elt=m,(m=c).next=d.head,d.head=m,d.modified=!0,d.length++):(m=this.s_arbiters,_=x.sensorarb,null==Un.zpp_pool?y=new Un:(y=Un.zpp_pool,Un.zpp_pool=y.next,y.next=null),y.elt=_,(_=y).next=m.head,m.head=_,m.modified=!0,m.length++)),x.type!=Rt.SENSOR&&!x.cleared&&x.up_stamp>=this.stamp&&0!=(1&x.immState)&&(2==x.b1.type&&x.b1.component.sleeping&&!(_=x.b1).world&&(_.component.waket=this.stamp+(this.midstep?0:1),3==_.type&&(_.kinematicDelaySleep=!0),_.component.sleeping&&this.really_wake(_,!1)),2==x.b2.type&&x.b2.component.sleeping&&!(x=x.b2).world&&(x.component.waket=this.stamp+(this.midstep?0:1),3==x.type&&(x.kinematicDelaySleep=!0),x.component.sleeping&&this.really_wake(x,!1))),s=s.next}if(t||2!=e.type||this.bodyCbWake(e),!t&&!this.bphase.is_sweep&&1!=e.type)for(var f=e.shapes.head;null!=f;){var g=f.elt;null!=g.node&&this.bphase.sync(g),f=f.next}}else this.wakeIsland(e.component.island)},i.prototype.wake_constraint=function(e,t){var i,n;return null==t&&(t=!1),!!e.active&&(e.component.waket=this.stamp+(this.midstep?0:1),!!e.component.sleeping&&(null==e.component.island?(e.component.sleeping=!1,i=this.live_constraints,null==ln.zpp_pool?n=new ln:(n=ln.zpp_pool,ln.zpp_pool=n.next,n.next=null),n.elt=e,(n=n).next=i.head,i.head=n,i.modified=!0,i.length++,e.wake_connected(),t||this.constraintCbWake(e)):this.wakeIsland(e.component.island),!0))},i.prototype.doForests=function(L){for(var e=this.c_arbiters_false.head;null!=e;){var t,i,n=e.elt;if(!n.cleared&&n.up_stamp==this.stamp&&0!=(1&n.immState)&&2==n.b1.type&&2==n.b2.type){if(n.b1.component==n.b1.component.parent)t=n.b1.component;else{for(var r=n.b1.component,o=null;r!=r.parent;){var D=r.parent;r.parent=o,o=r,r=D}for(;null!=o;){var R=o.parent;o.parent=r,o=R}t=r}if(n.b2.component==n.b2.component.parent)i=n.b2.component;else{for(var a=n.b2.component,s=null;a!=a.parent;){var j=a.parent;a.parent=s,s=a,a=j}for(;null!=s;){var F=s.parent;s.parent=a,s=F}i=a}t!=i&&(t.rank<i.rank?t.parent=i:t.rank>i.rank?i.parent=t:(i.parent=t).rank++)}e=e.next}for(var p=this.f_arbiters.head;null!=p;){var l,h,u=p.elt;if(!u.cleared&&u.up_stamp==this.stamp&&0!=(1&u.immState)&&2==u.b1.type&&2==u.b2.type){if(u.b1.component==u.b1.component.parent)l=u.b1.component;else{for(var d=u.b1.component,c=null;d!=d.parent;){var N=d.parent;d.parent=c,c=d,d=N}for(;null!=c;){var U=c.parent;c.parent=d,c=U}l=d}if(u.b2.component==u.b2.component.parent)h=u.b2.component;else{for(var m=u.b2.component,y=null;m!=m.parent;){var H=m.parent;m.parent=y,y=m,m=H}for(;null!=y;){var V=y.parent;y.parent=m,y=V}h=m}l!=h&&(l.rank<h.rank?l.parent=h:l.rank>h.rank?h.parent=l:(h.parent=l).rank++)}p=p.next}for(var W=this.live_constraints.head;null!=W;)W.elt.forest(),W=W.next;for(;null!=this.live.head;){var _,x=this.live,q=x.head.elt,x=(x.pop(),q.component);if(x==x.parent)_=x;else{for(var f=x,g=null;f!=f.parent;){var X=f.parent;f.parent=g,g=f,f=X}for(;null!=g;){var Y=g.parent;g.parent=f,g=Y}_=f}null==_.island&&(null==mi.zpp_pool?_.island=new mi:(_.island=mi.zpp_pool,mi.zpp_pool=_.island.next,_.island.next=null),_.island.waket=0,b=this.islands,(z=_.island)._inuse=!0,z.next=b.next,b.next=z,b.modified=!0,b.length++,_.island.sleep=!0),x.island=_.island;var v,z=x.island.comps,b=(null==Cn.zpp_pool?v=new Cn:(v=Cn.zpp_pool,Cn.zpp_pool=v.next,v.next=null),v.elt=x,v),q=(b.next=z.head,z.head=b,z.modified=!0,z.length++,q.atRest(L));x.island.sleep=x.island.sleep&&q,x.waket>x.island.waket&&(x.island.waket=x.waket)}for(;null!=this.live_constraints.head;){var K,w=this.live_constraints,S=w.head.elt,w=(w.pop(),S.component);if(w==w.parent)K=w;else{for(var C=w,k=null;C!=C.parent;){var Z=C.parent;C.parent=k,k=C,C=Z}for(;null!=k;){var J=k.parent;k.parent=C,k=J}K=C}w.island=K.island;var M,S=w.island.comps,Q=(null==Cn.zpp_pool?M=new Cn:(M=Cn.zpp_pool,Cn.zpp_pool=M.next,M.next=null),M.elt=w,M);Q.next=S.head,S.head=Q,S.modified=!0,S.length++,w.waket>w.island.waket&&(w.island.waket=w.waket)}for(;null!=this.islands.next;){var $=this.islands,P=$.next;if($.pop(),P.sleep)for(var ee=P.comps.head;null!=ee;){var O=ee.elt;if(O.isBody){for(var T=O.body,te=(T.velx=0,T.vely=0,T.angvel=0,O.sleeping=!0,T.shapes.head);null!=te;)this.bphase.sync(te.elt),te=te.next;this.bodyCbSleep(T)}else this.constraintCbSleep(O.constraint),O.sleeping=!0;ee=ee.next}else{for(;null!=P.comps.head;){var G,A,E,I=P.comps,B=I.head.elt;I.pop(),B.waket=P.waket,B.isBody?(I=this.live,A=B.body,null==pn.zpp_pool?G=new pn:(G=pn.zpp_pool,pn.zpp_pool=G.next,G.next=null),G.elt=A,(A=G).next=I.head,I.head=A,I.modified=!0,I.length++):(A=this.live_constraints,I=B.constraint,null==ln.zpp_pool?E=new ln:(E=ln.zpp_pool,ln.zpp_pool=E.next,E.next=null),E.elt=I,(I=E).next=A.head,A.head=I,A.modified=!0,A.length++),B.sleeping=!1,B.island=null,(B.parent=B).rank=0}P.next=mi.zpp_pool,mi.zpp_pool=P}}},i.prototype.sleepArbiters=function(){var e=null,t=this.c_arbiters_true,i=t.head,n=null!=this.c_arbiters_false;for(n&&null==i&&(n=!1,i=this.c_arbiters_false.head,t=this.c_arbiters_false,e=null);null!=i;){var r,o,a=i.elt;a.b1.component.sleeping&&a.b2.component.sleeping?(a.sleep_stamp=this.stamp,a.sleeping=!0,null==e?(o=(r=t.head).next,t.head=o,null==t.head&&(t.pushmod=!0)):(o=(r=e.next).next,null==(e.next=o)&&(t.pushmod=!0)),(a=r).elt=null,a.next=Hn.zpp_pool,Hn.zpp_pool=a,t.modified=!0,t.length--,t.pushmod=!0,i=o,n&&null==i&&(n=!1,i=this.c_arbiters_false.head,t=this.c_arbiters_false,e=null)):(i=(e=i).next,n&&null==i&&(n=!1,i=this.c_arbiters_false.head,t=this.c_arbiters_false,e=null))}for(var s=null,p=this.f_arbiters,l=p.head;null!=l;){var h,u,d=l.elt;d.b1.component.sleeping&&d.b2.component.sleeping?(d.sleep_stamp=this.stamp,d.sleeping=!0,null==s?(u=(h=p.head).next,p.head=u,null==p.head&&(p.pushmod=!0)):(u=(h=s.next).next,null==(s.next=u)&&(p.pushmod=!0)),(d=h).elt=null,d.next=Nn.zpp_pool,Nn.zpp_pool=d,p.modified=!0,p.length--,p.pushmod=!0,l=u):l=(s=l).next}for(var c=null,m=this.s_arbiters,y=m.head;null!=y;){var _,x,f=y.elt;f.b1.component.sleeping&&f.b2.component.sleeping?(f.sleep_stamp=this.stamp,f.sleeping=!0,null==c?(x=(_=m.head).next,m.head=x,null==m.head&&(m.pushmod=!0)):(x=(_=c.next).next,null==(c.next=x)&&(m.pushmod=!0)),(f=_).elt=null,f.next=Un.zpp_pool,Un.zpp_pool=f,m.modified=!0,m.length--,m.pushmod=!0,y=x):y=(c=y).next}},i.prototype.static_validation=function(e){if(null!=e.shapes.head&&e.zip_aabb){e.zip_aabb=!1,e.aabb.minx=1/0,e.aabb.miny=1/0,e.aabb.maxx=-1/0,e.aabb.maxy=-1/0;for(var t=e.shapes.head;null!=t;){var i=t.elt;if(i.zip_aabb&&null!=i.body)if(i.zip_aabb=!1,0==i.type){var n=i.circle;if(n.zip_worldCOM&&null!=n.body){if(n.zip_worldCOM=!1,n.zip_localCOM){if(n.zip_localCOM=!1,1==n.type){var r=n.polygon;if(null==r.lverts.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y;else if(null==r.lverts.next.next.next)r.localCOMx=r.lverts.next.x,r.localCOMy=r.lverts.next.y,r.localCOMx+=r.lverts.next.next.x,r.localCOMy+=r.lverts.next.next.y,r.localCOMx*=.5,r.localCOMy*=.5;else{r.localCOMx=0;var o=r.localCOMy=0,a=r.lverts.next,s=a,p=a=a.next;for(a=a.next;null!=a;){var l=a,h=(o+=p.x*(l.y-s.y),l.y*p.x-l.x*p.y);r.localCOMx+=(p.x+l.x)*h,r.localCOMy+=(p.y+l.y)*h,s=p,p=l,a=a.next}var u=a=r.lverts.next,d=(o+=p.x*(u.y-s.y),u.y*p.x-u.x*p.y),d=(r.localCOMx+=(p.x+u.x)*d,r.localCOMy+=(p.y+u.y)*d,s=p,a=a.next),c=(o+=u.x*(d.y-s.y),d.y*u.x-d.x*u.y),u=(r.localCOMx+=(u.x+d.x)*c,r.localCOMy+=(u.y+d.y)*c,o=1/(3*o));r.localCOMx*=u,r.localCOMy*=u}}null!=n.wrap_localCOM&&(n.wrap_localCOM.zpp_inner.x=n.localCOMx,n.wrap_localCOM.zpp_inner.y=n.localCOMy)}d=n.body;d.zip_axis&&(d.zip_axis=!1,d.axisx=Math.sin(d.rot),d.axisy=Math.cos(d.rot)),n.worldCOMx=n.body.posx+(n.body.axisy*n.localCOMx-n.body.axisx*n.localCOMy),n.worldCOMy=n.body.posy+(n.localCOMx*n.body.axisx+n.localCOMy*n.body.axisy)}c=n.radius,u=n.radius;n.aabb.minx=n.worldCOMx-c,n.aabb.miny=n.worldCOMy-u,n.aabb.maxx=n.worldCOMx+c,n.aabb.maxy=n.worldCOMy+u}else{var m=i.polygon;if(m.zip_gverts&&null!=m.body){m.zip_gverts=!1,m.validate_lverts();for(var n=m.body,y=(n.zip_axis&&(n.zip_axis=!1,n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)),m.lverts.next),_=m.gverts.next;null!=_;){var x=_,f=y,y=y.next;x.x=m.body.posx+(m.body.axisy*f.x-m.body.axisx*f.y),x.y=m.body.posy+(f.x*m.body.axisx+f.y*m.body.axisy),_=_.next}}for(var g=m.gverts.next,v=(m.aabb.minx=g.x,m.aabb.miny=g.y,m.aabb.maxx=g.x,m.aabb.maxy=g.y,m.gverts.next.next);null!=v;){var z=v;z.x<m.aabb.minx&&(m.aabb.minx=z.x),z.x>m.aabb.maxx&&(m.aabb.maxx=z.x),z.y<m.aabb.miny&&(m.aabb.miny=z.y),z.y>m.aabb.maxy&&(m.aabb.maxy=z.y),v=v.next}}g=e.aabb,i=i.aabb;i.minx<g.minx&&(g.minx=i.minx),i.maxx>g.maxx&&(g.maxx=i.maxx),i.miny<g.miny&&(g.miny=i.miny),i.maxy>g.maxy&&(g.maxy=i.maxy),t=t.next}}e.validate_mass(),e.validate_inertia();for(var b=e.shapes.head;null!=b;){var w=b.elt;if(1==w.type){var S=w.polygon,C=(S.zip_sanitation&&(S.zip_sanitation=!1,S.splice_collinear_real()),w.polygon);if(C.zip_gaxi&&null!=C.body){C.zip_gaxi=!1,C.validate_laxi();S=C.body;if(S.zip_axis&&(S.zip_axis=!1,S.axisx=Math.sin(S.rot),S.axisy=Math.cos(S.rot)),C.zip_gverts&&null!=C.body){C.zip_gverts=!1,C.validate_lverts();for(var w=C.body,k=(w.zip_axis&&(w.zip_axis=!1,w.axisx=Math.sin(w.rot),w.axisy=Math.cos(w.rot)),C.lverts.next),M=C.gverts.next;null!=M;){var P=M,O=k,k=k.next;P.x=C.body.posx+(C.body.axisy*O.x-C.body.axisx*O.y),P.y=C.body.posy+(O.x*C.body.axisx+O.y*C.body.axisy),M=M.next}}for(var T=C.edges.head,G=A=C.gverts.next,A=A.next;null!=A;){var E=A,I=T.elt,T=T.next;I.gp0=G,I.gp1=E,I.gnormx=C.body.axisy*I.lnormx-C.body.axisx*I.lnormy,I.gnormy=I.lnormx*C.body.axisx+I.lnormy*C.body.axisy,I.gprojection=C.body.posx*I.gnormx+C.body.posy*I.gnormy+I.lprojection,null!=I.wrap_gnorm&&(I.wrap_gnorm.zpp_inner.x=I.gnormx,I.wrap_gnorm.zpp_inner.y=I.gnormy),I.tp0=I.gp0.y*I.gnormx-I.gp0.x*I.gnormy,I.tp1=I.gp1.y*I.gnormx-I.gp1.x*I.gnormy,G=E,A=A.next}S=T.elt;S.gp0=G,S.gp1=C.gverts.next,S.gnormx=C.body.axisy*S.lnormx-C.body.axisx*S.lnormy,S.gnormy=S.lnormx*C.body.axisx+S.lnormy*C.body.axisy,S.gprojection=C.body.posx*S.gnormx+C.body.posy*S.gnormy+S.lprojection,null!=S.wrap_gnorm&&(S.wrap_gnorm.zpp_inner.x=S.gnormx,S.wrap_gnorm.zpp_inner.y=S.gnormy),S.tp0=S.gp0.y*S.gnormx-S.gp0.x*S.gnormy,S.tp1=S.gp1.y*S.gnormx-S.gp1.x*S.gnormy}}b=b.next}e.sweepFrozen=!0},i.prototype.validation=function(){var L=this.cbsets;if(!L.cbsets.empty()){for(var e=L.cbsets.parent;null!=e.prev;)e=e.prev;for(;null!=e;)if(e.data.validate(),null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}for(var D=this.live.head;null!=D;){for(var t=D.elt,R=(t.sweepRadius=0,t.shapes.head);null!=R;){var i=R.elt;if(1==i.type){var n=i.polygon,r=(n.zip_sanitation&&(n.zip_sanitation=!1,n.splice_collinear_real()),i.polygon);if(r.zip_gaxi&&null!=r.body){r.zip_gaxi=!1,r.validate_laxi();n=r.body;if(n.zip_axis&&(n.zip_axis=!1,n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)),r.zip_gverts&&null!=r.body){r.zip_gverts=!1,r.validate_lverts();for(var n=r.body,j=(n.zip_axis&&(n.zip_axis=!1,n.axisx=Math.sin(n.rot),n.axisy=Math.cos(n.rot)),r.lverts.next),F=r.gverts.next;null!=F;){var N=F,U=j,j=j.next;N.x=r.body.posx+(r.body.axisy*U.x-r.body.axisx*U.y),N.y=r.body.posy+(U.x*r.body.axisx+U.y*r.body.axisy),F=F.next}}for(var H=r.edges.head,V=o=r.gverts.next,o=o.next;null!=o;){var W=o,a=H.elt,H=H.next;a.gp0=V,a.gp1=W,a.gnormx=r.body.axisy*a.lnormx-r.body.axisx*a.lnormy,a.gnormy=a.lnormx*r.body.axisx+a.lnormy*r.body.axisy,a.gprojection=r.body.posx*a.gnormx+r.body.posy*a.gnormy+a.lprojection,null!=a.wrap_gnorm&&(a.wrap_gnorm.zpp_inner.x=a.gnormx,a.wrap_gnorm.zpp_inner.y=a.gnormy),a.tp0=a.gp0.y*a.gnormx-a.gp0.x*a.gnormy,a.tp1=a.gp1.y*a.gnormx-a.gp1.x*a.gnormy,V=W,o=o.next}n=H.elt;n.gp0=V,n.gp1=r.gverts.next,n.gnormx=r.body.axisy*n.lnormx-r.body.axisx*n.lnormy,n.gnormy=n.lnormx*r.body.axisx+n.lnormy*r.body.axisy,n.gprojection=r.body.posx*n.gnormx+r.body.posy*n.gnormy+n.lprojection,null!=n.wrap_gnorm&&(n.wrap_gnorm.zpp_inner.x=n.gnormx,n.wrap_gnorm.zpp_inner.y=n.gnormy),n.tp0=n.gp0.y*n.gnormx-n.gp0.x*n.gnormy,n.tp1=n.gp1.y*n.gnormx-n.gp1.x*n.gnormy}}i.validate_sweepRadius(),i.sweepRadius>t.sweepRadius&&(t.sweepRadius=i.sweepRadius),R=R.next}if(t.validate_mass(),t.validate_inertia(),null!=t.shapes.head){if(t.zip_aabb){t.zip_aabb=!1,t.aabb.minx=1/0,t.aabb.miny=1/0,t.aabb.maxx=-1/0,t.aabb.maxy=-1/0;for(var q=t.shapes.head;null!=q;){var s=q.elt;if(s.zip_aabb&&null!=s.body)if(s.zip_aabb=!1,0==s.type){var p=s.circle;if(p.zip_worldCOM&&null!=p.body){if(p.zip_worldCOM=!1,p.zip_localCOM){if(p.zip_localCOM=!1,1==p.type){var l=p.polygon;if(null==l.lverts.next.next)l.localCOMx=l.lverts.next.x,l.localCOMy=l.lverts.next.y;else if(null==l.lverts.next.next.next)l.localCOMx=l.lverts.next.x,l.localCOMy=l.lverts.next.y,l.localCOMx+=l.lverts.next.next.x,l.localCOMy+=l.lverts.next.next.y,l.localCOMx*=.5,l.localCOMy*=.5;else{l.localCOMx=0;var X=l.localCOMy=0,h=l.lverts.next,Y=h,u=h=h.next;for(h=h.next;null!=h;){var d=h,K=(X+=u.x*(d.y-Y.y),d.y*u.x-d.x*u.y);l.localCOMx+=(u.x+d.x)*K,l.localCOMy+=(u.y+d.y)*K,Y=u,u=d,h=h.next}var c=h=l.lverts.next,m=(X+=u.x*(c.y-Y.y),c.y*u.x-c.x*u.y),m=(l.localCOMx+=(u.x+c.x)*m,l.localCOMy+=(u.y+c.y)*m,Y=u,h=h.next),Z=(X+=c.x*(m.y-Y.y),m.y*c.x-m.x*c.y),c=(l.localCOMx+=(c.x+m.x)*Z,l.localCOMy+=(c.y+m.y)*Z,X=1/(3*X));l.localCOMx*=c,l.localCOMy*=c}}null!=p.wrap_localCOM&&(p.wrap_localCOM.zpp_inner.x=p.localCOMx,p.wrap_localCOM.zpp_inner.y=p.localCOMy)}m=p.body;m.zip_axis&&(m.zip_axis=!1,m.axisx=Math.sin(m.rot),m.axisy=Math.cos(m.rot)),p.worldCOMx=p.body.posx+(p.body.axisy*p.localCOMx-p.body.axisx*p.localCOMy),p.worldCOMy=p.body.posy+(p.localCOMx*p.body.axisx+p.localCOMy*p.body.axisy)}Z=p.radius,c=p.radius;p.aabb.minx=p.worldCOMx-Z,p.aabb.miny=p.worldCOMy-c,p.aabb.maxx=p.worldCOMx+Z,p.aabb.maxy=p.worldCOMy+c}else{var y=s.polygon;if(y.zip_gverts&&null!=y.body){y.zip_gverts=!1,y.validate_lverts();for(var p=y.body,J=(p.zip_axis&&(p.zip_axis=!1,p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)),y.lverts.next),Q=y.gverts.next;null!=Q;){var $=Q,ee=J,J=J.next;$.x=y.body.posx+(y.body.axisy*ee.x-y.body.axisx*ee.y),$.y=y.body.posy+(ee.x*y.body.axisx+ee.y*y.body.axisy),Q=Q.next}}for(var _=y.gverts.next,te=(y.aabb.minx=_.x,y.aabb.miny=_.y,y.aabb.maxx=_.x,y.aabb.maxy=_.y,y.gverts.next.next);null!=te;){var x=te;x.x<y.aabb.minx&&(y.aabb.minx=x.x),x.x>y.aabb.maxx&&(y.aabb.maxx=x.x),x.y<y.aabb.miny&&(y.aabb.miny=x.y),x.y>y.aabb.maxy&&(y.aabb.maxy=x.y),te=te.next}}_=t.aabb,s=s.aabb;s.minx<_.minx&&(_.minx=s.minx),s.maxx>_.maxx&&(_.maxx=s.maxx),s.miny<_.miny&&(_.miny=s.miny),s.maxy>_.maxy&&(_.maxy=s.maxy),q=q.next}}t.validate_worldCOM()}if(t.validate_gravMass(),t.zip_axis&&(t.zip_axis=!1,t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)),t.component.woken&&null!=t.cbSet)for(var f=t.cbSet.bodylisteners.head;null!=f;){var ie=f.elt;2!=ie.event?f=f.next:((ie=this.push_callback(ie)).event=2,ie.body=t,f=f.next)}t.component.woken=!1;for(var ne=t.shapes.head;null!=ne;)this.bphase.sync(ne.elt),ne=ne.next;D=D.next}for(var re=this.kinematics.head;null!=re;){for(var g=re.elt,oe=(g.sweepRadius=0,g.shapes.head);null!=oe;){var v=oe.elt;if(1==v.type){var z=v.polygon,b=(z.zip_sanitation&&(z.zip_sanitation=!1,z.splice_collinear_real()),v.polygon);if(b.zip_gaxi&&null!=b.body){b.zip_gaxi=!1,b.validate_laxi();z=b.body;if(z.zip_axis&&(z.zip_axis=!1,z.axisx=Math.sin(z.rot),z.axisy=Math.cos(z.rot)),b.zip_gverts&&null!=b.body){b.zip_gverts=!1,b.validate_lverts();for(var z=b.body,ae=(z.zip_axis&&(z.zip_axis=!1,z.axisx=Math.sin(z.rot),z.axisy=Math.cos(z.rot)),b.lverts.next),se=b.gverts.next;null!=se;){var pe=se,le=ae,ae=ae.next;pe.x=b.body.posx+(b.body.axisy*le.x-b.body.axisx*le.y),pe.y=b.body.posy+(le.x*b.body.axisx+le.y*b.body.axisy),se=se.next}}for(var he=b.edges.head,ue=w=b.gverts.next,w=w.next;null!=w;){var de=w,S=he.elt,he=he.next;S.gp0=ue,S.gp1=de,S.gnormx=b.body.axisy*S.lnormx-b.body.axisx*S.lnormy,S.gnormy=S.lnormx*b.body.axisx+S.lnormy*b.body.axisy,S.gprojection=b.body.posx*S.gnormx+b.body.posy*S.gnormy+S.lprojection,null!=S.wrap_gnorm&&(S.wrap_gnorm.zpp_inner.x=S.gnormx,S.wrap_gnorm.zpp_inner.y=S.gnormy),S.tp0=S.gp0.y*S.gnormx-S.gp0.x*S.gnormy,S.tp1=S.gp1.y*S.gnormx-S.gp1.x*S.gnormy,ue=de,w=w.next}z=he.elt;z.gp0=ue,z.gp1=b.gverts.next,z.gnormx=b.body.axisy*z.lnormx-b.body.axisx*z.lnormy,z.gnormy=z.lnormx*b.body.axisx+z.lnormy*b.body.axisy,z.gprojection=b.body.posx*z.gnormx+b.body.posy*z.gnormy+z.lprojection,null!=z.wrap_gnorm&&(z.wrap_gnorm.zpp_inner.x=z.gnormx,z.wrap_gnorm.zpp_inner.y=z.gnormy),z.tp0=z.gp0.y*z.gnormx-z.gp0.x*z.gnormy,z.tp1=z.gp1.y*z.gnormx-z.gp1.x*z.gnormy}}v.validate_sweepRadius(),v.sweepRadius>g.sweepRadius&&(g.sweepRadius=v.sweepRadius),oe=oe.next}if(g.validate_mass(),g.validate_inertia(),null!=g.shapes.head){if(g.zip_aabb){g.zip_aabb=!1,g.aabb.minx=1/0,g.aabb.miny=1/0,g.aabb.maxx=-1/0,g.aabb.maxy=-1/0;for(var ce=g.shapes.head;null!=ce;){var C=ce.elt;if(C.zip_aabb&&null!=C.body)if(C.zip_aabb=!1,0==C.type){var k=C.circle;if(k.zip_worldCOM&&null!=k.body){if(k.zip_worldCOM=!1,k.zip_localCOM){if(k.zip_localCOM=!1,1==k.type){var M=k.polygon;if(null==M.lverts.next.next)M.localCOMx=M.lverts.next.x,M.localCOMy=M.lverts.next.y;else if(null==M.lverts.next.next.next)M.localCOMx=M.lverts.next.x,M.localCOMy=M.lverts.next.y,M.localCOMx+=M.lverts.next.next.x,M.localCOMy+=M.lverts.next.next.y,M.localCOMx*=.5,M.localCOMy*=.5;else{M.localCOMx=0;var me=M.localCOMy=0,P=M.lverts.next,ye=P,O=P=P.next;for(P=P.next;null!=P;){var T=P,_e=(me+=O.x*(T.y-ye.y),T.y*O.x-T.x*O.y);M.localCOMx+=(O.x+T.x)*_e,M.localCOMy+=(O.y+T.y)*_e,ye=O,O=T,P=P.next}var G=P=M.lverts.next,A=(me+=O.x*(G.y-ye.y),G.y*O.x-G.x*O.y),A=(M.localCOMx+=(O.x+G.x)*A,M.localCOMy+=(O.y+G.y)*A,ye=O,P=P.next),xe=(me+=G.x*(A.y-ye.y),A.y*G.x-A.x*G.y),G=(M.localCOMx+=(G.x+A.x)*xe,M.localCOMy+=(G.y+A.y)*xe,me=1/(3*me));M.localCOMx*=G,M.localCOMy*=G}}null!=k.wrap_localCOM&&(k.wrap_localCOM.zpp_inner.x=k.localCOMx,k.wrap_localCOM.zpp_inner.y=k.localCOMy)}A=k.body;A.zip_axis&&(A.zip_axis=!1,A.axisx=Math.sin(A.rot),A.axisy=Math.cos(A.rot)),k.worldCOMx=k.body.posx+(k.body.axisy*k.localCOMx-k.body.axisx*k.localCOMy),k.worldCOMy=k.body.posy+(k.localCOMx*k.body.axisx+k.localCOMy*k.body.axisy)}xe=k.radius,G=k.radius;k.aabb.minx=k.worldCOMx-xe,k.aabb.miny=k.worldCOMy-G,k.aabb.maxx=k.worldCOMx+xe,k.aabb.maxy=k.worldCOMy+G}else{var E=C.polygon;if(E.zip_gverts&&null!=E.body){E.zip_gverts=!1,E.validate_lverts();for(var k=E.body,fe=(k.zip_axis&&(k.zip_axis=!1,k.axisx=Math.sin(k.rot),k.axisy=Math.cos(k.rot)),E.lverts.next),ge=E.gverts.next;null!=ge;){var ve=ge,ze=fe,fe=fe.next;ve.x=E.body.posx+(E.body.axisy*ze.x-E.body.axisx*ze.y),ve.y=E.body.posy+(ze.x*E.body.axisx+ze.y*E.body.axisy),ge=ge.next}}for(var I=E.gverts.next,be=(E.aabb.minx=I.x,E.aabb.miny=I.y,E.aabb.maxx=I.x,E.aabb.maxy=I.y,E.gverts.next.next);null!=be;){var B=be;B.x<E.aabb.minx&&(E.aabb.minx=B.x),B.x>E.aabb.maxx&&(E.aabb.maxx=B.x),B.y<E.aabb.miny&&(E.aabb.miny=B.y),B.y>E.aabb.maxy&&(E.aabb.maxy=B.y),be=be.next}}I=g.aabb,C=C.aabb;C.minx<I.minx&&(I.minx=C.minx),C.maxx>I.maxx&&(I.maxx=C.maxx),C.miny<I.miny&&(I.miny=C.miny),C.maxy>I.maxy&&(I.maxy=C.maxy),ce=ce.next}}g.validate_worldCOM()}g.validate_gravMass(),g.zip_axis&&(g.zip_axis=!1,g.axisx=Math.sin(g.rot),g.axisy=Math.cos(g.rot));for(var we=g.shapes.head;null!=we;)this.bphase.sync(we.elt),we=we.next;re=re.next}for(var Se=this.live_constraints.head;null!=Se;){var Ce=Se.elt;if(Ce.active){if(Ce.component.woken&&null!=Ce.cbSet)for(var ke=Ce.cbSet.conlisteners.head;null!=ke;){var Me=ke.elt;2!=Me.event?ke=ke.next:((Me=this.push_callback(Me)).event=2,Me.constraint=Ce,ke=ke.next)}Ce.component.woken=!1}Se=Se.next}},i.prototype.updateVel=function(e){for(var t=1-e*this.global_lin_drag,i=1-e*this.global_ang_drag,n=this.live.head;null!=n;){var r,o,a=n.elt;0!=a.smass&&(r=e*a.imass,a.velx=t*a.velx+(a.forcex+this.gravityx*a.gravMass)*r,a.vely=t*a.vely+(a.forcey+this.gravityy*a.gravMass)*r),0!=a.sinertia&&(o=r=0,r=a.worldCOMx-a.posx,o=a.worldCOMy-a.posy,a.angvel=i*a.angvel+(a.torque+(this.gravityy*r-this.gravityx*o)*a.gravMass)*e*a.iinertia),n=n.next}},i.prototype.updatePos=function(e){for(var L=2*Math.PI/e,D=this.live.head;null!=D;){var t=D.elt,i=(t.pre_posx=t.posx,t.pre_posy=t.posy,t.pre_rot=t.rot,t.sweepTime=0,t.sweep_angvel=t.angvel%L,e-t.sweepTime);if(0!=i&&(t.sweepTime=e,t.posx+=t.velx*i,t.posy+=t.vely*i,0!=t.angvel&&(i=t.sweep_angvel*i,t.rot+=i,1e-4<i*i?(t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)):(j=((R=1-.5*(n=i*i))*t.axisx+i*t.axisy)*(n=1-n*n/8),t.axisy=(R*t.axisy-i*t.axisx)*n,t.axisx=j))),t.disableCCD)t.sweepFrozen=!0,t.bullet=!1;else{var R=ur.staticCCDLinearThreshold*t.sweepRadius,i=ur.staticCCDAngularThreshold;if((t.velx*t.velx+t.vely*t.vely)*e*e>R*R||t.angvel*t.angvel*e*e>i*i||3==t.type){for(var n,j,r=t.sweep_angvel,F=1/(r=r<0?-r:r),N=t.shapes.head;null!=N;){var U,o=N.elt,a=o.aabb,s=a.minx,p=a.miny,l=a.maxx,h=a.maxy,H=r*e*o.sweepCoef*.008333333333333333|0,V=r*e/(H=8<H?8:H),u=e-t.sweepTime;if(0!=u&&(t.sweepTime=e,t.posx+=t.velx*u,t.posy+=t.vely*u,0!=t.angvel&&(u=t.sweep_angvel*u,t.rot+=u,1e-4<u*u?(t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)):(U=((d=1-.5*(m=u*u))*t.axisx+u*t.axisy)*(m=1-m*m/8),t.axisy=(d*t.axisy-u*t.axisx)*m,t.axisx=U))),0==o.type){var d=o.circle;d.worldCOMx=d.body.posx+(d.body.axisy*d.localCOMx-d.body.axisx*d.localCOMy),d.worldCOMy=d.body.posy+(d.localCOMx*d.body.axisx+d.localCOMy*d.body.axisy),d.aabb.minx=d.worldCOMx-d.radius,d.aabb.miny=d.worldCOMy-d.radius,d.aabb.maxx=d.worldCOMx+d.radius,d.aabb.maxy=d.worldCOMy+d.radius}else for(var c=o.polygon,W=c.lverts.next,u=c.gverts.next,m=W,q=(W=W.next,u.x=c.body.posx+(c.body.axisy*m.x-c.body.axisx*m.y),u.y=c.body.posy+(m.x*c.body.axisx+m.y*c.body.axisy),c.aabb.minx=u.x,c.aabb.miny=u.y,c.aabb.maxx=u.x,c.aabb.maxy=u.y,c.gverts.next.next);null!=q;){var y=q,X=W,W=W.next;y.x=c.body.posx+(c.body.axisy*X.x-c.body.axisx*X.y),y.y=c.body.posy+(X.x*c.body.axisx+X.y*c.body.axisy),y.x<c.aabb.minx&&(c.aabb.minx=y.x),y.x>c.aabb.maxx&&(c.aabb.maxx=y.x),y.y<c.aabb.miny&&(c.aabb.miny=y.y),y.y>c.aabb.maxy&&(c.aabb.maxy=y.y),q=q.next}s<a.minx?a.minx=s:s=a.minx,p<a.miny?a.miny=p:p=a.miny,l>a.maxx?a.maxx=l:l=a.maxx,h>a.maxy?a.maxy=h:h=a.maxy;for(var Y=1,K=H;Y<K;){var Z,_=V*Y++*F,x=_-t.sweepTime;if(0!=x&&(t.sweepTime=_,t.posx+=t.velx*x,t.posy+=t.vely*x,0!=t.angvel&&(_=t.sweep_angvel*x,t.rot+=_,1e-4<_*_?(t.axisx=Math.sin(t.rot),t.axisy=Math.cos(t.rot)):(Z=((f=1-.5*(x=_*_))*t.axisx+_*t.axisy)*(x=1-x*x/8),t.axisy=(f*t.axisy-_*t.axisx)*x,t.axisx=Z))),0==o.type){var f=o.circle;f.worldCOMx=f.body.posx+(f.body.axisy*f.localCOMx-f.body.axisx*f.localCOMy),f.worldCOMy=f.body.posy+(f.localCOMx*f.body.axisx+f.localCOMy*f.body.axisy),f.aabb.minx=f.worldCOMx-f.radius,f.aabb.miny=f.worldCOMy-f.radius,f.aabb.maxx=f.worldCOMx+f.radius,f.aabb.maxy=f.worldCOMy+f.radius}else for(var g=o.polygon,J=g.lverts.next,_=g.gverts.next,x=J,Q=(J=J.next,_.x=g.body.posx+(g.body.axisy*x.x-g.body.axisx*x.y),_.y=g.body.posy+(x.x*g.body.axisx+x.y*g.body.axisy),g.aabb.minx=_.x,g.aabb.miny=_.y,g.aabb.maxx=_.x,g.aabb.maxy=_.y,g.gverts.next.next);null!=Q;){var v=Q,$=J,J=J.next;v.x=g.body.posx+(g.body.axisy*$.x-g.body.axisx*$.y),v.y=g.body.posy+($.x*g.body.axisx+$.y*g.body.axisy),v.x<g.aabb.minx&&(g.aabb.minx=v.x),v.x>g.aabb.maxx&&(g.aabb.maxx=v.x),v.y<g.aabb.miny&&(g.aabb.miny=v.y),v.y>g.aabb.maxy&&(g.aabb.maxy=v.y),Q=Q.next}s<a.minx?a.minx=s:s=a.minx,p<a.miny?a.miny=p:p=a.miny,l>a.maxx?a.maxx=l:l=a.maxx,h>a.maxy?a.maxy=h:h=a.maxy}this.bphase.sync(o),N=N.next}t.sweepFrozen=!1,2==t.type&&t.bulletEnabled&&(n=ur.bulletCCDLinearThreshold*t.sweepRadius,j=ur.bulletCCDAngularThreshold,((t.velx*t.velx+t.vely*t.vely)*e*e>n*n||t.angvel*t.angvel*e*e>j*j)&&(t.bullet=!0))}else t.sweepFrozen=!0,t.bullet=!1}D=D.next}for(var ee=this.kinematics.head;null!=ee;){var z=ee.elt,b=(z.pre_posx=z.posx,z.pre_posy=z.posy,z.pre_rot=z.rot,z.sweepTime=0,z.sweep_angvel=z.angvel%L,e-z.sweepTime);if(0!=b&&(z.sweepTime=e,z.posx+=z.velx*b,z.posy+=z.vely*b,0!=z.angvel&&(b=z.sweep_angvel*b,z.rot+=b,1e-4<b*b?(z.axisx=Math.sin(z.rot),z.axisy=Math.cos(z.rot)):(ie=((te=1-.5*(w=b*b))*z.axisx+b*z.axisy)*(w=1-w*w/8),z.axisy=(te*z.axisy-b*z.axisx)*w,z.axisx=ie))),z.disableCCD)z.sweepFrozen=!0,z.bullet=!1;else{var te=ur.staticCCDLinearThreshold*z.sweepRadius,b=ur.staticCCDAngularThreshold;if((z.velx*z.velx+z.vely*z.vely)*e*e>te*te||z.angvel*z.angvel*e*e>b*b||3==z.type){for(var w,ie,ne=z.sweep_angvel,re=1/(ne=ne<0?-ne:ne),oe=z.shapes.head;null!=oe;){var ae,S=oe.elt,C=S.aabb,se=C.minx,pe=C.miny,le=C.maxx,he=C.maxy,ue=ne*e*S.sweepCoef*.008333333333333333|0,de=ne*e/(ue=8<ue?8:ue),k=e-z.sweepTime;if(0!=k&&(z.sweepTime=e,z.posx+=z.velx*k,z.posy+=z.vely*k,0!=z.angvel&&(k=z.sweep_angvel*k,z.rot+=k,1e-4<k*k?(z.axisx=Math.sin(z.rot),z.axisy=Math.cos(z.rot)):(ae=((M=1-.5*(O=k*k))*z.axisx+k*z.axisy)*(O=1-O*O/8),z.axisy=(M*z.axisy-k*z.axisx)*O,z.axisx=ae))),0==S.type){var M=S.circle;M.worldCOMx=M.body.posx+(M.body.axisy*M.localCOMx-M.body.axisx*M.localCOMy),M.worldCOMy=M.body.posy+(M.localCOMx*M.body.axisx+M.localCOMy*M.body.axisy),M.aabb.minx=M.worldCOMx-M.radius,M.aabb.miny=M.worldCOMy-M.radius,M.aabb.maxx=M.worldCOMx+M.radius,M.aabb.maxy=M.worldCOMy+M.radius}else for(var P=S.polygon,ce=P.lverts.next,k=P.gverts.next,O=ce,me=(ce=ce.next,k.x=P.body.posx+(P.body.axisy*O.x-P.body.axisx*O.y),k.y=P.body.posy+(O.x*P.body.axisx+O.y*P.body.axisy),P.aabb.minx=k.x,P.aabb.miny=k.y,P.aabb.maxx=k.x,P.aabb.maxy=k.y,P.gverts.next.next);null!=me;){var T=me,ye=ce,ce=ce.next;T.x=P.body.posx+(P.body.axisy*ye.x-P.body.axisx*ye.y),T.y=P.body.posy+(ye.x*P.body.axisx+ye.y*P.body.axisy),T.x<P.aabb.minx&&(P.aabb.minx=T.x),T.x>P.aabb.maxx&&(P.aabb.maxx=T.x),T.y<P.aabb.miny&&(P.aabb.miny=T.y),T.y>P.aabb.maxy&&(P.aabb.maxy=T.y),me=me.next}se<C.minx?C.minx=se:se=C.minx,pe<C.miny?C.miny=pe:pe=C.miny,le>C.maxx?C.maxx=le:le=C.maxx,he>C.maxy?C.maxy=he:he=C.maxy;for(var _e=1,xe=ue;_e<xe;){var fe,G=de*_e++*re,A=G-z.sweepTime;if(0!=A&&(z.sweepTime=G,z.posx+=z.velx*A,z.posy+=z.vely*A,0!=z.angvel&&(G=z.sweep_angvel*A,z.rot+=G,1e-4<G*G?(z.axisx=Math.sin(z.rot),z.axisy=Math.cos(z.rot)):(fe=((E=1-.5*(A=G*G))*z.axisx+G*z.axisy)*(A=1-A*A/8),z.axisy=(E*z.axisy-G*z.axisx)*A,z.axisx=fe))),0==S.type){var E=S.circle;E.worldCOMx=E.body.posx+(E.body.axisy*E.localCOMx-E.body.axisx*E.localCOMy),E.worldCOMy=E.body.posy+(E.localCOMx*E.body.axisx+E.localCOMy*E.body.axisy),E.aabb.minx=E.worldCOMx-E.radius,E.aabb.miny=E.worldCOMy-E.radius,E.aabb.maxx=E.worldCOMx+E.radius,E.aabb.maxy=E.worldCOMy+E.radius}else for(var I=S.polygon,ge=I.lverts.next,G=I.gverts.next,A=ge,ve=(ge=ge.next,G.x=I.body.posx+(I.body.axisy*A.x-I.body.axisx*A.y),G.y=I.body.posy+(A.x*I.body.axisx+A.y*I.body.axisy),I.aabb.minx=G.x,I.aabb.miny=G.y,I.aabb.maxx=G.x,I.aabb.maxy=G.y,I.gverts.next.next);null!=ve;){var B=ve,ze=ge,ge=ge.next;B.x=I.body.posx+(I.body.axisy*ze.x-I.body.axisx*ze.y),B.y=I.body.posy+(ze.x*I.body.axisx+ze.y*I.body.axisy),B.x<I.aabb.minx&&(I.aabb.minx=B.x),B.x>I.aabb.maxx&&(I.aabb.maxx=B.x),B.y<I.aabb.miny&&(I.aabb.miny=B.y),B.y>I.aabb.maxy&&(I.aabb.maxy=B.y),ve=ve.next}se<C.minx?C.minx=se:se=C.minx,pe<C.miny?C.miny=pe:pe=C.miny,le>C.maxx?C.maxx=le:le=C.maxx,he>C.maxy?C.maxy=he:he=C.maxy}this.bphase.sync(S),oe=oe.next}z.sweepFrozen=!1,2==z.type&&z.bulletEnabled&&(w=ur.bulletCCDLinearThreshold*z.sweepRadius,ie=ur.bulletCCDAngularThreshold,((z.velx*z.velx+z.vely*z.vely)*e*e>w*w||z.angvel*z.angvel*e*e>ie*ie)&&(z.bullet=!0))}else z.sweepFrozen=!0,z.bullet=!1}ee=ee.next}},i.prototype.continuous=null,i.prototype.presteparb=function(e,t,i){null==i&&(i=!1);if(!e.cleared&&e.b1.component.sleeping&&e.b2.component.sleeping)return e.sleep_stamp=this.stamp,e.sleeping=!0;if(!e.cleared||0!=e.present||e.intchange){var i=!i&&e.up_stamp==this.stamp-1&&!e.cleared&&!e.intchange,L=e.fresh&&!e.cleared&&!e.intchange;if(i&&(e.endGenerated=this.stamp),L||i||e.cleared||e.intchange){for(var i=e.ws1,D=e.ws2,R=this.mrca1;null!=R.head;){var j=R.head;R.head=j.next,j.elt=null,j.next=Bn.zpp_pool,Bn.zpp_pool=j,null==R.head&&(R.pushmod=!0),R.modified=!0,R.length--}R.pushmod=!0;for(var F=this.mrca2;null!=F.head;){var N=F.head;F.head=N.next,N.elt=null,N.next=Bn.zpp_pool,Bn.zpp_pool=N,null==F.head&&(F.pushmod=!0),F.modified=!0,F.length--}F.pushmod=!0,null!=i.cbSet&&(k=this.mrca1,null==Bn.zpp_pool?C=new Bn:(C=Bn.zpp_pool,Bn.zpp_pool=C.next,C.next=null),C.elt=i,(C=C).next=k.head,k.head=C,k.modified=!0,k.length++),null!=i.body.cbSet&&(C=this.mrca1,k=i.body,null==Bn.zpp_pool?y=new Bn:(y=Bn.zpp_pool,Bn.zpp_pool=y.next,y.next=null),y.elt=k,(k=y).next=C.head,C.head=k,C.modified=!0,C.length++),null!=D.cbSet&&(y=this.mrca2,null==Bn.zpp_pool?w=new Bn:(w=Bn.zpp_pool,Bn.zpp_pool=w.next,w.next=null),w.elt=D,(k=w).next=y.head,y.head=k,y.modified=!0,y.length++),null!=D.body.cbSet&&(C=this.mrca2,w=D.body,null==Bn.zpp_pool?S=new Bn:(S=Bn.zpp_pool,Bn.zpp_pool=S.next,S.next=null),S.elt=w,(k=S).next=C.head,C.head=k,C.modified=!0,C.length++);for(var U,H,V,W,q=i.body.compound,X=D.body.compound;q!=X;)(null==q?0:q.depth)<(null==X?0:X.depth)?(null!=X.cbSet&&(W=this.mrca2,null==Bn.zpp_pool?U=new Bn:(U=Bn.zpp_pool,Bn.zpp_pool=U.next,U.next=null),U.elt=X,(H=U).next=W.head,W.head=H,W.modified=!0,W.length++),X=X.compound):(null!=q.cbSet&&(H=this.mrca1,null==Bn.zpp_pool?V=new Bn:(V=Bn.zpp_pool,Bn.zpp_pool=V.next,V.next=null),V.elt=q,(W=V).next=H.head,H.head=W,H.modified=!0,H.length++),q=q.compound);for(var Y=this.mrca1.head;null!=Y;){for(var K=Y.elt,Z=this.mrca2.head;null!=Z;){for(var n,J=Z.elt,r=K.cbSet,o=J.cbSet,a=null,Q=(r.cbpairs.length<o.cbpairs.length?r:o).cbpairs.head;null!=Q;){var $=Q.elt;if($.a==r&&$.b==o||$.a==o&&$.b==r){a=$;break}Q=Q.next}if(null==a&&(null==On.zpp_pool?n=new On:(n=On.zpp_pool,On.zpp_pool=n.next,n.next=null),n.zip_listeners=!0,Pn.setlt(r,o)?(n.a=r,n.b=o):(n.a=o,n.b=r),a=n,r.cbpairs.add(a),o!=r&&o.cbpairs.add(a)),a.zip_listeners&&(a.zip_listeners=!1,a.__validate()),null==a.listeners.head)Z=Z.next;else{var s=jn.get(K,J);if(L||e.intchange){null==s&&(s=Fn.get(K,J),this.add_callbackset(s));for(var p,l=null,ee=(r.cbpairs.length<o.cbpairs.length?r:o).cbpairs.head;null!=ee;){var te=ee.elt;if(te.a==r&&te.b==o||te.a==o&&te.b==r){l=te;break}ee=ee.next}null==l&&(null==On.zpp_pool?p=new On:(p=On.zpp_pool,On.zpp_pool=p.next,p.next=null),p.zip_listeners=!0,Pn.setlt(r,o)?(p.a=r,p.b=o):(p.a=o,p.b=r),l=p,r.cbpairs.add(l),o!=r&&o.cbpairs.add(l)),l.zip_listeners&&(l.zip_listeners=!1,l.__validate());for(var ie=l.listeners.head;null!=ie;){var ne,re,oe,ae,se,pe=ie.elt;0==pe.event&&0!=(pe.itype&e.type)&&s.empty_arb(pe.itype)&&((ne=this.push_callback(pe)).event=0,re=s.int1,oe=s.int2,se=pe.options1,ae=re.cbTypes,!(!se.nonemptyintersection(ae,se.includes)||se.nonemptyintersection(ae,se.excludes))&&(ae=pe.options2,se=oe.cbTypes,!!ae.nonemptyintersection(se,ae.includes)&&!ae.nonemptyintersection(se,ae.excludes))?(ne.int1=re,ne.int2=oe):(ne.int1=oe,ne.int2=re),ne.set=s),ie=ie.next}for(var le,he,ue=!1,de=s.arbiters.head;null!=de;){if(de.elt==e){ue=!0;break}de=de.next}!ue&&(J=s.arbiters,null==En.zpp_pool?le=new En:(le=En.zpp_pool,En.zpp_pool=le.next,le.next=null),le.elt=e,(he=le).next=J.head,J.head=he,J.modified=!0,J.length++,!0)&&e.present++}else{e.present--,s.remove_arb(e);for(var h,u=null,ce=(r.cbpairs.length<o.cbpairs.length?r:o).cbpairs.head;null!=ce;){var me=ce.elt;if(me.a==r&&me.b==o||me.a==o&&me.b==r){u=me;break}ce=ce.next}null==u&&(null==On.zpp_pool?h=new On:(h=On.zpp_pool,On.zpp_pool=h.next,h.next=null),h.zip_listeners=!0,Pn.setlt(r,o)?(h.a=r,h.b=o):(h.a=o,h.b=r),u=h,r.cbpairs.add(u),o!=r&&o.cbpairs.add(u)),u.zip_listeners&&(u.zip_listeners=!1,u.__validate());for(var ye=u.listeners.head;null!=ye;){var _e,xe,fe,ge,ve,ze=ye.elt;1==ze.event&&0!=(ze.itype&e.type)&&s.empty_arb(ze.itype)&&((_e=this.push_callback(ze)).event=1,xe=s.int1,fe=s.int2,ve=ze.options1,ge=xe.cbTypes,!(!ve.nonemptyintersection(ge,ve.includes)||ve.nonemptyintersection(ge,ve.excludes))&&(ge=ze.options2,ve=fe.cbTypes,!!ge.nonemptyintersection(ve,ge.includes)&&!ge.nonemptyintersection(ve,ge.excludes))?(_e.int1=xe,_e.int2=fe):(_e.int1=fe,_e.int2=xe),_e.set=s),ye=ye.next}null==s.arbiters.head&&this.remove_callbackset(s)}Z=Z.next}}Y=Y.next}}e.fresh=!1,e.intchange=!1}if(e.cleared||e.up_stamp+(e.type==Rt.COL?ur.arbiterExpirationDelay:0)<this.stamp){if(e.type==Rt.SENSOR){var d=e.sensorarb;if(!d.cleared){for(var be=d.b1.arbiters,we=null,Se=be.head;null!=Se;){if(Se.elt==d){null==we?(ke=(Ce=be.head).next,be.head=ke,null==be.head&&(be.pushmod=!0)):(ke=(Ce=we.next).next,null==(we.next=ke)&&(be.pushmod=!0));var Ce,ke,Me=Ce;Me.elt=null,Me.next=En.zpp_pool,En.zpp_pool=Me,be.modified=!0,be.length--,be.pushmod=!0;break}Se=(we=Se).next}for(var Pe=d.b2.arbiters,Oe=null,Te=Pe.head;null!=Te;){if(Te.elt==d){null==Oe?(Ae=(Ge=Pe.head).next,Pe.head=Ae,null==Pe.head&&(Pe.pushmod=!0)):(Ae=(Ge=Oe.next).next,null==(Oe.next=Ae)&&(Pe.pushmod=!0));var Ge,Ae,Ee=Ge;Ee.elt=null,Ee.next=En.zpp_pool,En.zpp_pool=Ee,Pe.modified=!0,Pe.length--,Pe.pushmod=!0;break}Te=(Oe=Te).next}null!=d.pair&&(d.pair.arb=null,d.pair=null)}d.b1=d.b2=null,d.active=!1,d.intchange=!1,d.next=Dn.zpp_pool,Dn.zpp_pool=d}else if(e.type==Rt.FLUID){var c=e.fluidarb;if(!c.cleared){for(var Ie=c.b1.arbiters,Be=null,Le=Ie.head;null!=Le;){if(Le.elt==c){null==Be?(Re=(De=Ie.head).next,Ie.head=Re,null==Ie.head&&(Ie.pushmod=!0)):(Re=(De=Be.next).next,null==(Be.next=Re)&&(Ie.pushmod=!0));var De,Re,je=De;je.elt=null,je.next=En.zpp_pool,En.zpp_pool=je,Ie.modified=!0,Ie.length--,Ie.pushmod=!0;break}Le=(Be=Le).next}for(var Fe=c.b2.arbiters,Ne=null,Ue=Fe.head;null!=Ue;){if(Ue.elt==c){null==Ne?(Ve=(He=Fe.head).next,Fe.head=Ve,null==Fe.head&&(Fe.pushmod=!0)):(Ve=(He=Ne.next).next,null==(Ne.next=Ve)&&(Fe.pushmod=!0));var He,Ve,We=He;We.elt=null,We.next=En.zpp_pool,En.zpp_pool=We,Fe.modified=!0,Fe.length--,Fe.pushmod=!0;break}Ue=(Ne=Ue).next}null!=c.pair&&(c.pair.arb=null,c.pair=null)}c.b1=c.b2=null,c.active=!1,c.intchange=!1,c.next=Rn.zpp_pool,(Rn.zpp_pool=c).pre_dt=-1}else{var m=e.colarb;if(!m.cleared){for(var qe=m.b1.arbiters,Xe=null,Ye=qe.head;null!=Ye;){if(Ye.elt==m){null==Xe?(Ze=(Ke=qe.head).next,qe.head=Ze,null==qe.head&&(qe.pushmod=!0)):(Ze=(Ke=Xe.next).next,null==(Xe.next=Ze)&&(qe.pushmod=!0));var Ke,Ze,Je=Ke;Je.elt=null,Je.next=En.zpp_pool,En.zpp_pool=Je,qe.modified=!0,qe.length--,qe.pushmod=!0;break}Ye=(Xe=Ye).next}for(var Qe=m.b2.arbiters,$e=null,et=Qe.head;null!=et;){if(et.elt==m){null==$e?(it=(tt=Qe.head).next,Qe.head=it,null==Qe.head&&(Qe.pushmod=!0)):(it=(tt=$e.next).next,null==($e.next=it)&&(Qe.pushmod=!0));var tt,it,nt=tt;nt.elt=null,nt.next=En.zpp_pool,En.zpp_pool=nt,Qe.modified=!0,Qe.length--,Qe.pushmod=!0;break}et=($e=et).next}null!=m.pair&&(m.pair.arb=null,m.pair=null)}for(m.b1=m.b2=null,m.active=!1,m.intchange=!1;null!=m.contacts.next;){var rt=m.contacts,ot=rt.next,rt=(rt.pop(),ot.arbiter=null,ot.next=An.zpp_pool,An.zpp_pool=ot,m.innards),ot=rt.next;rt.next=ot.next,ot._inuse=!1,null==rt.next&&(rt.pushmod=!0),rt.modified=!0,rt.length--}m.userdef_dyn_fric=!1,m.userdef_stat_fric=!1,m.userdef_restitution=!1,m.userdef_rfric=!1,m.__ref_edge1=m.__ref_edge2=null,m.next=Gn.zpp_pool,(Gn.zpp_pool=m).pre_dt=-1}return!0}var y=e.active;if(e.active=e.presentable=e.up_stamp==this.stamp,0!=(1&e.immState)){if(e.active&&e.type!=Rt.SENSOR)if(null!=e.colarb){for(var _=e.colarb,at=(_.invalidated&&(_.invalidated=!1,_.userdef_restitution||(_.s1.material.elasticity<=-1/0||_.s2.material.elasticity<=-1/0?_.restitution=0:_.s1.material.elasticity>=1/0||_.s2.material.elasticity>=1/0?_.restitution=1:_.restitution=(_.s1.material.elasticity+_.s2.material.elasticity)/2,_.restitution<0&&(_.restitution=0),1<_.restitution&&(_.restitution=1)),_.userdef_dyn_fric||(_.dyn_fric=Math.sqrt(_.s1.material.dynamicFriction*_.s2.material.dynamicFriction)),_.userdef_stat_fric||(_.stat_fric=Math.sqrt(_.s1.material.staticFriction*_.s2.material.staticFriction)),_.userdef_rfric||(_.rfric=Math.sqrt(_.s1.material.rollingFriction*_.s2.material.rollingFriction))),-1==_.pre_dt&&(_.pre_dt=t),t/_.pre_dt),st=(_.pre_dt=t,_.b1.smass+_.b2.smass),pt=!(_.hc2=!1),lt=(_.biasCoef=2!=_.b1.type||2!=_.b2.type?_.continuous?ur.contactContinuousStaticBiasCoef:ur.contactStaticBiasCoef:_.continuous?ur.contactContinuousBiasCoef:ur.contactBiasCoef,_.continuous=!1,null),ht=null,ut=_.innards.next,dt=_.contacts.next;null!=dt;){var ct,mt,yt,_t,x,xt,f,g,v,z=dt;z.stamp+ur.arbiterExpirationDelay<_.stamp?(x=_.contacts,x=(null==lt?(mt=(ct=x.next).next,x.next=mt,null==x.next&&(x.pushmod=!0)):(mt=(ct=lt.next).next,null==(lt.next=mt)&&(x.pushmod=!0)),ct._inuse=!1,x.modified=!0,x.length--,x.pushmod=!0,dt=mt,_.innards),null==ht?(_t=(yt=x.next).next,x.next=_t,null==x.next&&(x.pushmod=!0)):(_t=(yt=ht.next).next,null==(ht.next=_t)&&(x.pushmod=!0)),yt._inuse=!1,x.modified=!0,x.length--,x.pushmod=!0,ut=_t,z.arbiter=null,z.next=An.zpp_pool,An.zpp_pool=z):(x=z.inner,xt=z.active,z.active=z.stamp==_.stamp,z.active&&(pt?(pt=!1,_.c1=x,_.oc1=z):(_.hc2=!0,_.c2=x,_.oc2=z),x.r2x=z.px-_.b2.posx,x.r2y=z.py-_.b2.posy,x.r1x=z.px-_.b1.posx,x.r1y=z.py-_.b1.posy,v=x.r2x*_.nx+x.r2y*_.ny,v=st+_.b2.sinertia*(v*v),f=x.r1x*_.nx+x.r1y*_.ny,v+=_.b1.sinertia*(f*f),x.tMass=v<ur.epsilon*ur.epsilon?0:1/v,f=_.ny*x.r2x-_.nx*x.r2y,v=st+_.b2.sinertia*(f*f),f=_.ny*x.r1x-_.nx*x.r1y,v+=_.b1.sinertia*(f*f),x.nMass=v<ur.epsilon*ur.epsilon?0:1/v,v=f=0,g=_.b2.angvel+_.b2.kinangvel,f=_.b2.velx+_.b2.kinvelx-x.r2y*g,v=_.b2.vely+_.b2.kinvely+x.r2x*g,g=_.b1.angvel+_.b1.kinangvel,f-=_.b1.velx+_.b1.kinvelx-x.r1y*g,v-=_.b1.vely+_.b1.kinvely+x.r1x*g,g=_.nx*f+_.ny*v,z.elasticity=_.restitution,x.bounce=g*z.elasticity,x.bounce>-ur.elasticThreshold&&(x.bounce=0),g=v*_.nx-f*_.ny,x.friction=(v=ur.staticFrictionThreshold)*v<g*g?_.dyn_fric:_.stat_fric,x.jnAcc*=at,x.jtAcc*=at),xt!=z.active&&(_.contacts.modified=!0),lt=dt,ut=(ht=ut).next,dt=dt.next)}_.hc2?(_.hpc2=!0,_.oc1.posOnly?(w=_.c1,_.c1=_.c2,_.c2=w,S=_.oc1,_.oc1=_.oc2,_.oc2=S,_.hc2=!1):_.oc2.posOnly&&(_.hc2=!1),_.oc1.posOnly&&(pt=!0)):_.hpc2=!1,_.jrAcc*=at,pt||(_.rn1a=_.ny*_.c1.r1x-_.nx*_.c1.r1y,_.rt1a=_.c1.r1x*_.nx+_.c1.r1y*_.ny,_.rn1b=_.ny*_.c1.r2x-_.nx*_.c1.r2y,_.rt1b=_.c1.r2x*_.nx+_.c1.r2y*_.ny,_.k1x=_.b2.kinvelx-_.c1.r2y*_.b2.kinangvel-(_.b1.kinvelx-_.c1.r1y*_.b1.kinangvel),_.k1y=_.b2.kinvely+_.c1.r2x*_.b2.kinangvel-(_.b1.kinvely+_.c1.r1x*_.b1.kinangvel)),_.hc2&&(_.rn2a=_.ny*_.c2.r1x-_.nx*_.c2.r1y,_.rt2a=_.c2.r1x*_.nx+_.c2.r1y*_.ny,_.rn2b=_.ny*_.c2.r2x-_.nx*_.c2.r2y,_.rt2b=_.c2.r2x*_.nx+_.c2.r2y*_.ny,_.k2x=_.b2.kinvelx-_.c2.r2y*_.b2.kinangvel-(_.b1.kinvelx-_.c2.r1y*_.b1.kinangvel),_.k2y=_.b2.kinvely+_.c2.r2x*_.b2.kinangvel-(_.b1.kinvely+_.c2.r1x*_.b1.kinangvel),_.kMassa=st+_.b1.sinertia*_.rn1a*_.rn1a+_.b2.sinertia*_.rn1b*_.rn1b,_.kMassb=st+_.b1.sinertia*_.rn1a*_.rn2a+_.b2.sinertia*_.rn1b*_.rn2b,_.kMassc=st+_.b1.sinertia*_.rn2a*_.rn2a+_.b2.sinertia*_.rn2b*_.rn2b,_.kMassa*_.kMassa+2*_.kMassb*_.kMassb+_.kMassc*_.kMassc<ur.illConditionedThreshold*(_.kMassa*_.kMassc-_.kMassb*_.kMassb)?(_.Ka=_.kMassa,_.Kb=_.kMassb,_.Kc=_.kMassc,(k=_.kMassa*_.kMassc-_.kMassb*_.kMassb)!=k?_.kMassa=_.kMassb=_.kMassc=0:0==k?(0!=_.kMassa?_.kMassa=1/_.kMassa:_.kMassa=0,0!=_.kMassc?_.kMassc=1/_.kMassc:_.kMassc=0,_.kMassb=0):(C=_.kMassc*(k=1/k),_.kMassc=_.kMassa*k,_.kMassa=C,_.kMassb*=-k)):(_.hc2=!1,_.oc2.dist<_.oc1.dist&&(i=_.c1,_.c1=_.c2,_.c2=i),_.oc2.active=!1,_.contacts.modified=!0)),_.surfacex=_.b2.svelx,_.surfacey=_.b2.svely,_.surfacex+=_.b1.svelx,_.surfacey+=_.b1.svely,_.surfacex=-_.surfacex,_.surfacey=-_.surfacey,_.rMass=_.b1.sinertia+_.b2.sinertia,0!=_.rMass&&(_.rMass=1/_.rMass),pt&&(e.active=!1)}else{var b=e.fluidarb,D=(-1==b.pre_dt&&(b.pre_dt=t),t/b.pre_dt),w=(b.pre_dt=t,b.r1x=b.centroidx-b.b1.posx,b.r1y=b.centroidy-b.b1.posy,b.r2x=b.centroidx-b.b2.posx,b.r2y=b.centroidy-b.b2.posy,0),S=0,S=b.ws1.fluidEnabled&&null!=b.ws1.fluidProperties.wrap_gravity?(w=b.ws1.fluidProperties.gravityx,b.ws1.fluidProperties.gravityy):(w=this.gravityx,this.gravityy),C=0,k=0,k=b.ws2.fluidEnabled&&null!=b.ws2.fluidProperties.wrap_gravity?(C=b.ws2.fluidProperties.gravityx,b.ws2.fluidProperties.gravityy):(C=this.gravityx,this.gravityy),i=0,M=0;if(b.ws1.fluidEnabled&&b.ws2.fluidEnabled?(A=b.overlap*b.ws1.fluidProperties.density,(G=b.overlap*b.ws2.fluidProperties.density)<A?(i-=w*(O=A+G),M-=S*O):A<G?(i+=C*(O=A+G),M+=k*O):(P=O=0,O=w+C,P=S+k,b.ws1.worldCOMx*(O*=.5)+b.ws1.worldCOMy*(P*=.5)>b.ws2.worldCOMx*O+b.ws2.worldCOMy*P?(i-=O*(T=A+G),M-=P*T):(i+=O*(T=A+G),M+=P*T))):b.ws1.fluidEnabled?(i-=w*(O=b.overlap*b.ws1.fluidProperties.density),M-=S*O):b.ws2.fluidEnabled&&(i+=C*(A=b.overlap*b.ws2.fluidProperties.density),M+=k*A),M*=t,b.buoyx=i*=t,b.buoyy=M,2==b.b1.type&&(G=b.b1.imass,b.b1.velx-=i*G,b.b1.vely-=M*G,b.b1.angvel-=(M*b.r1x-i*b.r1y)*b.b1.iinertia),2==b.b2.type&&(P=b.b2.imass,b.b2.velx+=i*P,b.b2.vely+=M*P,b.b2.angvel+=(M*b.r2x-i*b.r2y)*b.b2.iinertia),b.ws1.fluidEnabled&&0!=b.ws1.fluidProperties.viscosity||b.ws2.fluidEnabled&&0!=b.ws2.fluidProperties.viscosity){b.nodrag=!1;var P,O,T=0,C=(b.ws1.fluidEnabled&&(b.ws2.validate_angDrag(),T=b.ws1.fluidProperties.viscosity*b.ws2.angDrag*b.overlap/b.ws2.area),b.ws2.fluidEnabled&&(b.ws1.validate_angDrag(),T+=b.ws2.fluidProperties.viscosity*b.ws1.angDrag*b.overlap/b.ws1.area),0!=T?(w=b.b1.sinertia+b.b2.sinertia,b.wMass=0!=w?1/w:0,T*=4e-4,S=2*Math.PI*T,b.agamma=1/(t*S*(2+S*t)),O=1/(1+b.agamma),b.agamma*=O,b.wMass*=O):(b.wMass=0,b.agamma=0),b.b2.velx+b.b2.kinvelx-b.r2y*(b.b2.angvel+b.b2.kinangvel)-(b.b1.velx+b.b1.kinvelx-b.r1y*(b.b2.angvel+b.b2.kinangvel))),k=b.b2.vely+b.b2.kinvely+b.r2x*(b.b2.angvel+b.b2.kinangvel)-(b.b1.vely+b.b1.kinvely+b.r1x*(b.b1.angvel+b.b1.kinangvel)),G=(C*C+k*k<ur.epsilon*ur.epsilon||(k*=A=1/Math.sqrt(C*C+k*k),b.nx=C*=A,b.ny=k),0);if(b.ws1.fluidEnabled){var ft=-b.ws1.fluidProperties.viscosity*b.overlap/b.ws2.area;if(0==b.ws2.type)G=0-ft*b.ws2.circle.radius*ur.fluidLinearDrag/(2*b.ws2.circle.radius*Math.PI);else{for(var gt=0,vt=0,zt=b.ws2.polygon.edges.head;null!=zt;){var bt=zt.elt,bt=(gt+=bt.length,ft*bt.length*(bt.gnormx*b.nx+bt.gnormy*b.ny));0<bt&&(bt*=-ur.fluidVacuumDrag),vt-=.5*bt*ur.fluidLinearDrag,zt=zt.next}G=vt/gt}}if(b.ws2.fluidEnabled){var wt=-b.ws2.fluidProperties.viscosity*b.overlap/b.ws1.area;if(0==b.ws1.type)G-=wt*b.ws1.circle.radius*ur.fluidLinearDrag/(2*b.ws1.circle.radius*Math.PI);else{for(var St=0,Ct=0,kt=b.ws1.polygon.edges.head;null!=kt;){var Mt=kt.elt,Mt=(St+=Mt.length,wt*Mt.length*(Mt.gnormx*b.nx+Mt.gnormy*b.ny));0<Mt&&(Mt*=-ur.fluidVacuumDrag),Ct-=.5*Mt*ur.fluidLinearDrag,kt=kt.next}G+=Ct/St}}0!=G?(i=M=P=0,i=P=w=b.b1.smass+b.b2.smass,(M=0)!=b.b1.sinertia&&(T=b.r1x*b.b1.sinertia,P=w+(S=b.r1y*b.b1.sinertia)*b.r1y,M+=-S*b.r1x,i=w+T*b.r1x),0!=b.b2.sinertia&&(O=b.r2x*b.b2.sinertia,P+=(A=b.r2y*b.b2.sinertia)*b.r2y,M+=-A*b.r2x,i+=O*b.r2x),(C=P*i-M*M)!=C?P=M=i=0:0==C?(P=0!=P?1/P:0,i=0!=i?1/i:0,M=0):(k=i*(C=1/C),i=P*C,P=k,M*=-C),b.vMassa=P,b.vMassb=M,b.vMassc=i,S=2*Math.PI*G,b.lgamma=1/(t*S*(2+S*t)),w=1/(1+b.lgamma),b.lgamma*=w,b.vMassa*=w,b.vMassb*=w,b.vMassc*=w):(b.vMassa=0,b.vMassb=0,b.vMassc=0,b.lgamma=0)}else b.nodrag=!0,b.dampx=0,b.dampy=0,b.adamp=0;b.dampx*=D,b.dampy*=D,b.adamp*=D}}else if(null!=e.colarb){for(var A,E=e.colarb,Pt=!0,Ot=null,Tt=null,Gt=E.innards.next,At=(E.hc2=!1,E.contacts.next);null!=At;){var Et,It,Bt,Lt,I,Dt,B=At;B.stamp+ur.arbiterExpirationDelay<E.stamp?(I=E.contacts,I=(null==Ot?(It=(Et=I.next).next,I.next=It,null==I.next&&(I.pushmod=!0)):(It=(Et=Ot.next).next,null==(Ot.next=It)&&(I.pushmod=!0)),Et._inuse=!1,I.modified=!0,I.length--,I.pushmod=!0,At=It,E.innards),null==Tt?(Lt=(Bt=I.next).next,I.next=Lt,null==I.next&&(I.pushmod=!0)):(Lt=(Bt=Tt.next).next,null==(Tt.next=Lt)&&(I.pushmod=!0)),Bt._inuse=!1,I.modified=!0,I.length--,I.pushmod=!0,Gt=Lt,B.arbiter=null,B.next=An.zpp_pool,An.zpp_pool=B):(I=B.inner,Dt=B.active,B.active=B.stamp==E.stamp,B.active&&(Pt?(Pt=!1,E.c1=I,E.oc1=B):(E.hc2=!0,E.c2=I,E.oc2=B)),Dt!=B.active&&(E.contacts.modified=!0),Ot=At,Gt=(Tt=Gt).next,At=At.next)}E.hc2?(E.hpc2=!0,E.oc1.posOnly?(T=E.c1,E.c1=E.c2,E.c2=T,A=E.oc1,E.oc1=E.oc2,E.oc2=A,E.hc2=!1):E.oc2.posOnly&&(E.hc2=!1),E.oc1.posOnly&&(Pt=!0)):E.hpc2=!1,Pt&&(e.active=!1)}return y!=e.active&&(e.b1.arbiters.modified=!0,e.b2.arbiters.modified=!0,this.c_arbiters_true.modified=this.c_arbiters_false.modified=!0,this.s_arbiters.modified=this.f_arbiters.modified=!0),!1},i.prototype.prestep=function(e){for(var t=null,i=this.live_constraints.head;null!=i;){var n=i.elt;n.preStep(e)?(i=this.live_constraints.erase(t),n.broken(),this.constraintCbBreak(n),n.removeOnBreak?(n.component.sleeping=!0,this.midstep=!1,(null!=n.compound?n.compound:this).wrap_constraints.remove(n.outer),this.midstep=!0):n.active=!1,n.clearcache()):i=(t=i).next}var r,o,a,s=null,p=this.c_arbiters_true,l=p.head,h=null!=this.c_arbiters_false;for(h&&null==l&&(h=!1,l=this.c_arbiters_false.head,p=this.c_arbiters_false,s=null);null!=l;)this.presteparb(l.elt,e)?(null==s?(o=(r=p.head).next,p.head=o,null==p.head&&(p.pushmod=!0)):(o=(r=s.next).next,null==(s.next=o)&&(p.pushmod=!0)),(a=r).elt=null,a.next=Hn.zpp_pool,Hn.zpp_pool=a,p.modified=!0,p.length--,p.pushmod=!0,l=o,h&&null==l&&(h=!1,l=this.c_arbiters_false.head,p=this.c_arbiters_false,s=null)):(l=(s=l).next,h&&null==l&&(h=!1,l=this.c_arbiters_false.head,p=this.c_arbiters_false,s=null));for(var u,d,c,m=null,y=this.f_arbiters,_=y.head;null!=_;)_=this.presteparb(_.elt,e)?(null==m?(d=(u=y.head).next,y.head=d,null==y.head&&(y.pushmod=!0)):(d=(u=m.next).next,null==(m.next=d)&&(y.pushmod=!0)),(c=u).elt=null,c.next=Nn.zpp_pool,Nn.zpp_pool=c,y.modified=!0,y.length--,y.pushmod=!0,d):(m=_).next;for(var x,f,g,v=null,z=this.s_arbiters,b=z.head;null!=b;)b=this.presteparb(b.elt,e)?(null==v?(f=(x=z.head).next,z.head=f,null==z.head&&(z.pushmod=!0)):(f=(x=v.next).next,null==(v.next=f)&&(z.pushmod=!0)),(g=x).elt=null,g.next=Un.zpp_pool,Un.zpp_pool=g,z.modified=!0,z.length--,z.pushmod=!0,f):(v=b).next},i.prototype.warmStart=function(){for(var e=this.f_arbiters.head;null!=e;){var t,i=e.elt;i.active&&0!=(1&i.immState)&&(t=i.b1.imass,i.b1.velx-=i.dampx*t,i.b1.vely-=i.dampy*t,t=i.b2.imass,i.b2.velx+=i.dampx*t,i.b2.vely+=i.dampy*t,i.b1.angvel-=i.b1.iinertia*(i.dampy*i.r1x-i.dampx*i.r1y),i.b2.angvel+=i.b2.iinertia*(i.dampy*i.r2x-i.dampx*i.r2y),i.b1.angvel-=i.adamp*i.b1.iinertia,i.b2.angvel+=i.adamp*i.b2.iinertia),e=e.next}var n=this.c_arbiters_false.head,r=!0;for(null==n&&(n=this.c_arbiters_true.head,r=!1);null!=n;){var o,a,s,p=n.elt;p.active&&0!=(1&p.immState)&&(s=p.nx*p.c1.jnAcc-p.ny*p.c1.jtAcc,a=p.ny*p.c1.jnAcc+p.nx*p.c1.jtAcc,o=p.b1.imass,p.b1.velx-=s*o,p.b1.vely-=a*o,p.b1.angvel-=p.b1.iinertia*(a*p.c1.r1x-s*p.c1.r1y),o=p.b2.imass,p.b2.velx+=s*o,p.b2.vely+=a*o,p.b2.angvel+=p.b2.iinertia*(a*p.c1.r2x-s*p.c1.r2y),p.hc2&&(o=p.nx*p.c2.jnAcc-p.ny*p.c2.jtAcc,a=p.ny*p.c2.jnAcc+p.nx*p.c2.jtAcc,s=p.b1.imass,p.b1.velx-=o*s,p.b1.vely-=a*s,p.b1.angvel-=p.b1.iinertia*(a*p.c2.r1x-o*p.c2.r1y),s=p.b2.imass,p.b2.velx+=o*s,p.b2.vely+=a*s,p.b2.angvel+=p.b2.iinertia*(a*p.c2.r2x-o*p.c2.r2y)),p.b2.angvel+=p.jrAcc*p.b2.iinertia,p.b1.angvel-=p.jrAcc*p.b1.iinertia),n=n.next,r&&null==n&&(n=this.c_arbiters_true.head,r=!1)}for(var l=this.live_constraints.head;null!=l;)l.elt.warmStart(),l=l.next},i.prototype.iterateVel=function(e){for(var t=0;t<e;){++t;for(var i=this.f_arbiters.head;null!=i;){var n,r,o,a,s,p=i.elt;p.active&&0!=(1&p.immState)&&!p.nodrag&&(n=p.b1.angvel+p.b1.kinangvel,r=p.b2.angvel+p.b2.kinangvel,a=p.b1.velx+p.b1.kinvelx-p.r1y*n-(p.b2.velx+p.b2.kinvelx-p.r2y*r),o=p.b1.vely+p.b1.kinvely+p.r1x*n-(p.b2.vely+p.b2.kinvely+p.r2x*r),s=p.vMassa*a+p.vMassb*o,o=p.vMassb*a+p.vMassc*o,a=s,s=p.lgamma,a-=p.dampx*s,o-=p.dampy*s,p.dampx+=a,p.dampy+=o,s=p.b1.imass,p.b1.velx-=a*s,p.b1.vely-=o*s,s=p.b2.imass,p.b2.velx+=a*s,p.b2.vely+=o*s,p.b1.angvel-=p.b1.iinertia*(o*p.r1x-a*p.r1y),p.b2.angvel+=p.b2.iinertia*(o*p.r2x-a*p.r2y),s=(n-r)*p.wMass-p.adamp*p.agamma,p.adamp+=s,p.b1.angvel-=s*p.b1.iinertia,p.b2.angvel+=s*p.b2.iinertia),i=i.next}for(var l=null,h=this.live_constraints.head;null!=h;){var u=h.elt;u.applyImpulseVel()?(h=this.live_constraints.erase(l),u.broken(),this.constraintCbBreak(u),u.removeOnBreak?(u.component.sleeping=!0,this.midstep=!1,(null!=u.compound?u.compound:this).wrap_constraints.remove(u.outer),this.midstep=!0):u.active=!1,u.clearcache()):h=(l=h).next}var d=this.c_arbiters_false.head,c=!0;for(null==d&&(d=this.c_arbiters_true.head,c=!1);null!=d;){var m,y,_,x,f,g,v,z,b,w,S,C,k,M,P=d.elt;P.active&&0!=(1&P.immState)&&(v=P.k1x+P.b2.velx-P.c1.r2y*P.b2.angvel-(P.b1.velx-P.c1.r1y*P.b1.angvel),_=((z=P.k1y+P.b2.vely+P.c1.r2x*P.b2.angvel-(P.b1.vely+P.c1.r1x*P.b1.angvel))*P.nx-v*P.ny+P.surfacex)*P.c1.tMass,(x=P.c1.friction*P.c1.jnAcc)<(g=(f=P.c1.jtAcc)-_)?g=x:g<-x&&(g=-x),_=g-f,P.c1.jtAcc=g,m=-P.ny*_,y=P.nx*_,P.b2.velx+=m*P.b2.imass,P.b2.vely+=y*P.b2.imass,P.b1.velx-=m*P.b1.imass,P.b1.vely-=y*P.b1.imass,P.b2.angvel+=P.rt1b*_*P.b2.iinertia,P.b1.angvel-=P.rt1a*_*P.b1.iinertia,P.hc2?(C=P.k2x+P.b2.velx-P.c2.r2y*P.b2.angvel-(P.b1.velx-P.c2.r1y*P.b1.angvel),_=((k=P.k2y+P.b2.vely+P.c2.r2x*P.b2.angvel-(P.b1.vely+P.c2.r1x*P.b1.angvel))*P.nx-C*P.ny+P.surfacex)*P.c2.tMass,(x=P.c2.friction*P.c2.jnAcc)<(g=(f=P.c2.jtAcc)-_)?g=x:g<-x&&(g=-x),_=g-f,P.c2.jtAcc=g,m=-P.ny*_,y=P.nx*_,P.b2.velx+=m*P.b2.imass,P.b2.vely+=y*P.b2.imass,P.b1.velx-=m*P.b1.imass,P.b1.vely-=y*P.b1.imass,P.b2.angvel+=P.rt2b*_*P.b2.iinertia,P.b1.angvel-=P.rt2a*_*P.b1.iinertia,v=P.k1x+P.b2.velx-P.c1.r2y*P.b2.angvel-(P.b1.velx-P.c1.r1y*P.b1.angvel),z=P.k1y+P.b2.vely+P.c1.r2x*P.b2.angvel-(P.b1.vely+P.c1.r1x*P.b1.angvel),C=P.k2x+P.b2.velx-P.c2.r2y*P.b2.angvel-(P.b1.velx-P.c2.r1y*P.b1.angvel),k=P.k2y+P.b2.vely+P.c2.r2x*P.b2.angvel-(P.b1.vely+P.c2.r1x*P.b1.angvel),b=P.c1.jnAcc,w=P.c2.jnAcc,S=v*P.nx+z*P.ny+P.surfacey+P.c1.bounce-(P.Ka*b+P.Kb*w),C=C*P.nx+k*P.ny+P.surfacey+P.c2.bounce-(P.Kb*b+P.Kc*w),k=-(P.kMassa*S+P.kMassb*C),M=-(P.kMassb*S+P.kMassc*C),0<=k&&0<=M?(S=k-b,C=M-w,P.c1.jnAcc=k,P.c2.jnAcc=M):0<=(k=-P.c1.nMass*S)&&0<=P.Kb*k+C?(S=k-b,C=-w,P.c1.jnAcc=k,P.c2.jnAcc=0):0<=(M=-P.c2.nMass*C)&&0<=P.Kb*M+S?(S=-b,C=M-w,P.c1.jnAcc=0,P.c2.jnAcc=M):0<=S&&0<=C?(S=-b,C=-w,P.c1.jnAcc=P.c2.jnAcc=0):C=S=0,m=P.nx*(_=S+C),y=P.ny*_,P.b2.velx+=m*P.b2.imass,P.b2.vely+=y*P.b2.imass,P.b1.velx-=m*P.b1.imass,P.b1.vely-=y*P.b1.imass,P.b2.angvel+=(P.rn1b*S+P.rn2b*C)*P.b2.iinertia,P.b1.angvel-=(P.rn1a*S+P.rn2a*C)*P.b1.iinertia):(0!=P.radius&&(_=(P.b2.angvel-P.b1.angvel)*P.rMass,x=P.rfric*P.c1.jnAcc,f=P.jrAcc,P.jrAcc-=_,P.jrAcc>x?P.jrAcc=x:P.jrAcc<-x&&(P.jrAcc=-x),_=P.jrAcc-f,P.b2.angvel+=_*P.b2.iinertia,P.b1.angvel-=_*P.b1.iinertia),v=P.k1x+P.b2.velx-P.c1.r2y*P.b2.angvel-(P.b1.velx-P.c1.r1y*P.b1.angvel),z=P.k1y+P.b2.vely+P.c1.r2x*P.b2.angvel-(P.b1.vely+P.c1.r1x*P.b1.angvel),_=(P.c1.bounce+(P.nx*v+P.ny*z)+P.surfacey)*P.c1.nMass,_=(g=(g=(f=P.c1.jnAcc)-_)<0?0:g)-f,P.c1.jnAcc=g,m=P.nx*_,y=P.ny*_,P.b2.velx+=m*P.b2.imass,P.b2.vely+=y*P.b2.imass,P.b1.velx-=m*P.b1.imass,P.b1.vely-=y*P.b1.imass,P.b2.angvel+=P.rn1b*_*P.b2.iinertia,P.b1.angvel-=P.rn1a*_*P.b1.iinertia)),d=d.next,c&&null==d&&(d=this.c_arbiters_true.head,c=!1)}}},i.prototype.iteratePos=function(L){for(var D=0;D<L;){++D;for(var R=null,e=this.live_constraints.head;null!=e;){var t=e.elt;!t.__velocity&&t.stiff&&t.applyImpulsePos()?(e=this.live_constraints.erase(R),t.broken(),this.constraintCbBreak(t),t.removeOnBreak?(t.component.sleeping=!0,this.midstep=!1,(null!=t.compound?t.compound:this).wrap_constraints.remove(t.outer),this.midstep=!0):t.active=!1,t.clearcache()):e=(R=e).next}var i=this.c_arbiters_false.head,j=!0;for(null==i&&(i=this.c_arbiters_true.head,j=!1);null!=i;){var n=i.elt;if(n.active&&0!=(1&n.immState))if(2==n.ptype){var r=n.c1,o=(d=n.b2.axisy*r.lr2x-n.b2.axisx*r.lr2y,c=r.lr2x*n.b2.axisx+r.lr2y*n.b2.axisy,d+=n.b2.posx,c+=n.b2.posy,m=n.b1.axisy*r.lr1x-n.b1.axisx*r.lr1y,r=r.lr1x*n.b1.axisx+r.lr1y*n.b1.axisy,0),a=0,o=d-(m+=n.b1.posx),a=c-(r+=n.b1.posy),s=Math.sqrt(o*o+a*a),p=n.radius-ur.collisionSlop,l=s-p;o*n.nx+a*n.ny<0&&(o=-o,a=-a,l-=n.radius),l<0&&(s<ur.epsilon?0!=n.b1.smass?n.b1.posx+=10*ur.epsilon:n.b2.posx+=10*ur.epsilon:(o*=l=1/s,d=(a*=l)*((l=.5*(m+d))-n.b1.posx)-o*((m=.5*(r+c))-n.b1.posy),r=a*(l-n.b2.posx)-o*(m-n.b2.posy),0!=(c=n.b2.smass+r*r*n.b2.sinertia+n.b1.smass+d*d*n.b1.sinertia)&&(m=l=0,m=a*(a=-n.biasCoef*(s-p)/c),s=n.b1.imass,n.b1.posx-=(l=o*a)*s,n.b1.posy-=m*s,p=n.b1,c=-d*n.b1.iinertia*a,p.rot+=c,1e-4<c*c?(p.axisx=Math.sin(p.rot),p.axisy=Math.cos(p.rot)):(o=((s=1-.5*(o=c*c))*p.axisx+c*p.axisy)*(d=1-o*o/8),p.axisy=(s*p.axisy-c*p.axisx)*d,p.axisx=o),s=n.b2.imass,n.b2.posx+=l*s,n.b2.posy+=m*s,c=n.b2,d=r*n.b2.iinertia*a,c.rot+=d,1e-4<d*d?(c.axisx=Math.sin(c.rot),c.axisy=Math.cos(c.rot)):(m=((o=1-.5*(p=d*d))*c.axisx+d*c.axisy)*(l=1-p*p/8),c.axisy=(o*c.axisy-d*c.axisx)*l,c.axisx=m))))}else{var F,h=0,u=0,s=0,r=0,a=0,p=0,o=(0==n.ptype?(h=n.b1.axisy*n.lnormx-n.b1.axisx*n.lnormy,u=n.lnormx*n.b1.axisx+n.lnormy*n.b1.axisy,F=n.lproj+(h*n.b1.posx+u*n.b1.posy),s=n.b2.axisy*n.c1.lr1x-n.b2.axisx*n.c1.lr1y,r=n.c1.lr1x*n.b2.axisx+n.c1.lr1y*n.b2.axisy,s+=n.b2.posx,r+=n.b2.posy,n.hpc2&&(a=n.b2.axisy*n.c2.lr1x-n.b2.axisx*n.c2.lr1y,p=n.c2.lr1x*n.b2.axisx+n.c2.lr1y*n.b2.axisy,a+=n.b2.posx,p+=n.b2.posy)):(h=n.b2.axisy*n.lnormx-n.b2.axisx*n.lnormy,u=n.lnormx*n.b2.axisx+n.lnormy*n.b2.axisy,F=n.lproj+(h*n.b2.posx+u*n.b2.posy),s=n.b1.axisy*n.c1.lr1x-n.b1.axisx*n.c1.lr1y,r=n.c1.lr1x*n.b1.axisx+n.c1.lr1y*n.b1.axisy,s+=n.b1.posx,r+=n.b1.posy,n.hpc2&&(a=n.b1.axisy*n.c2.lr1x-n.b1.axisx*n.c2.lr1y,p=n.c2.lr1x*n.b1.axisx+n.c2.lr1y*n.b1.axisy,a+=n.b1.posx,p+=n.b1.posy)),s*h+r*u-F-n.radius),d=(o+=ur.collisionSlop,0);if(n.hpc2&&(d=a*h+p*u-F-n.radius,d+=ur.collisionSlop),o<0||d<0){n.rev&&(h=-h,u=-u);var l=s-n.b1.posx,c=r-n.b1.posy,m=s-n.b2.posx,y=r-n.b2.posy;if(n.hpc2)for(var _=u*l-h*c,x=u*m-h*y,f=u*(a-n.b1.posx)-h*(p-n.b1.posy),g=u*(a-n.b2.posx)-h*(p-n.b2.posy),v=n.b1.smass+n.b2.smass,N=(n.kMassa=v+n.b1.sinertia*_*_+n.b2.sinertia*x*x,n.kMassb=v+n.b1.sinertia*_*f+n.b2.sinertia*x*g,n.kMassc=v+n.b1.sinertia*f*f+n.b2.sinertia*g*g,n.kMassa),U=n.kMassb,H=n.kMassc,V=o*n.biasCoef,W=d*n.biasCoef;;){var z=0,b=0,w=(z=-(z=V),b=-(b=W),n.kMassa*n.kMassc-n.kMassb*n.kMassb);if(w!=w?z=b=0:0==w?(0!=n.kMassa?z/=n.kMassa:z=0,0!=n.kMassc?b/=n.kMassc:b=0):(C=(w=1/w)*(n.kMassc*z-n.kMassb*b),b=w*(n.kMassa*b-n.kMassb*z),z=C),0<=z&&0<=b){var S,w=(z+b)*n.b1.imass,C=(n.b1.posx-=h*w,n.b1.posy-=u*w,n.b1),w=-n.b1.iinertia*(_*z+f*b),q=(C.rot+=w,1e-4<w*w?(C.axisx=Math.sin(C.rot),C.axisy=Math.cos(C.rot)):(S=((q=1-.5*(k=w*w))*C.axisx+w*C.axisy)*(k=1-k*k/8),C.axisy=(q*C.axisy-w*C.axisx)*k,C.axisx=S),(z+b)*n.b2.imass),w=(n.b2.posx+=h*q,n.b2.posy+=u*q,n.b2),k=n.b2.iinertia*(x*z+g*b);w.rot+=k,1e-4<k*k?(w.axisx=Math.sin(w.rot),w.axisy=Math.cos(w.rot)):(X=((K=1-.5*(S=k*k))*w.axisx+k*w.axisy)*(M=1-S*S/8),w.axisy=(K*w.axisy-k*w.axisx)*M,w.axisx=X);break}if((b=0)<=(z=-V/N)&&0<=U*z+W){var X,Y,K=(z+b)*n.b1.imass,M=(n.b1.posx-=h*K,n.b1.posy-=u*K,n.b1),w=-n.b1.iinertia*(_*z+f*b),Z=(M.rot+=w,1e-4<w*w?(M.axisx=Math.sin(M.rot),M.axisy=Math.cos(M.rot)):(Y=((Z=1-.5*(X=w*w))*M.axisx+w*M.axisy)*(P=1-X*X/8),M.axisy=(Z*M.axisy-w*M.axisx)*P,M.axisx=Y),(z+b)*n.b2.imass),w=(n.b2.posx+=h*Z,n.b2.posy+=u*Z,n.b2),P=n.b2.iinertia*(x*z+g*b);w.rot+=P,1e-4<P*P?(w.axisx=Math.sin(w.rot),w.axisy=Math.cos(w.rot)):(J=((ee=1-.5*(Y=P*P))*w.axisx+P*w.axisy)*(O=1-Y*Y/8),w.axisy=(ee*w.axisy-P*w.axisx)*O,w.axisx=J);break}if((z=0)<=(b=-W/H)&&0<=U*b+V){var J,Q,$,ee=(z+b)*n.b1.imass,O=(n.b1.posx-=h*ee,n.b1.posy-=u*ee,n.b1),w=-n.b1.iinertia*(_*z+f*b),te=(O.rot+=w,1e-4<w*w?(O.axisx=Math.sin(O.rot),O.axisy=Math.cos(O.rot)):(Q=((te=1-.5*(J=w*w))*O.axisx+w*O.axisy)*(T=1-J*J/8),O.axisy=(te*O.axisy-w*O.axisx)*T,O.axisx=Q),(z+b)*n.b2.imass),w=(n.b2.posx+=h*te,n.b2.posy+=u*te,n.b2),T=n.b2.iinertia*(x*z+g*b);w.rot+=T,1e-4<T*T?(w.axisx=Math.sin(w.rot),w.axisy=Math.cos(w.rot)):($=((z=1-.5*(Q=T*T))*w.axisx+T*w.axisy)*(b=1-Q*Q/8),w.axisy=(z*w.axisy-T*w.axisx)*b,w.axisx=$);break}break}else{var ie,G,A,E,ne,re,I,v=u*l-h*c,y=u*m-h*y,B=n.b2.smass+y*y*n.b2.sinertia+n.b1.smass+v*v*n.b1.sinertia;0!=B&&(I=re=0,I=u*(B=-n.biasCoef*o/B),E=n.b1.imass,n.b1.posx-=(re=h*B)*E,n.b1.posy-=I*E,E=n.b1,G=-v*n.b1.iinertia*B,E.rot+=G,1e-4<G*G?(E.axisx=Math.sin(E.rot),E.axisy=Math.cos(E.rot)):(ne=((ie=1-.5*(A=G*G))*E.axisx+G*E.axisy)*(A=1-A*A/8),E.axisy=(ie*E.axisy-G*E.axisx)*A,E.axisx=ne),ie=n.b2.imass,n.b2.posx+=re*ie,n.b2.posy+=I*ie,G=n.b2,A=y*n.b2.iinertia*B,G.rot+=A,1e-4<A*A?(G.axisx=Math.sin(G.rot),G.axisy=Math.cos(G.rot)):(I=((ne=1-.5*(E=A*A))*G.axisx+A*G.axisy)*(re=1-E*E/8),G.axisy=(ne*G.axisy-A*G.axisx)*re,G.axisx=I))}}}i=i.next,j&&null==i&&(i=this.c_arbiters_true.head,j=!1)}}},i.prototype.group_ignore=function(e,t){for(var i=e;null!=i&&null==i.group;)i=null!=i.ishape?i.ishape.body:(null!=i.icompound?i.icompound:i.ibody).compound;var n=null==i?null:i.group;if(null==n)return!1;for(var r=t;null!=r&&null==r.group;)r=null!=r.ishape?r.ishape.body:(null!=r.icompound?r.icompound:r.ibody).compound;var o=null==r?null:r.group;if(null==o)return!1;for(var a=!1;null!=n&&null!=o;){if(n==o){a=n.ignore;break}n.depth<o.depth?o=o.group:n=n.group}return a},i.prototype.interactionType=function(e,t,i,n){for(var r,o=!1,a=i.constraints.head;null!=a;){var s=a.elt;if(s.ignore&&s.pair_exists(i.id,n.id)){o=!0;break}a=a.next}if(o)r=!1;else{for(var p=e;null!=p&&null==p.group;)p=null!=p.ishape?p.ishape.body:(null!=p.icompound?p.icompound:p.ibody).compound;var l,h=null==p?null:p.group;if(null==h)l=!1;else{for(var u=t;null!=u&&null==u.group;)u=null!=u.ishape?u.ishape.body:(null!=u.icompound?u.icompound:u.ibody).compound;var d=null==u?null:u.group;if(null==d)l=!1;else{for(var c=!1;null!=h&&null!=d;){if(h==d){c=h.ignore;break}h.depth<d.depth?d=d.group:h=h.group}l=c}}r=!l}return r?!(!e.sensorEnabled&&!t.sensorEnabled)&&(l=e.filter,r=t.filter,0!=(l.sensorMask&r.sensorGroup)&&0!=(r.sensorMask&l.sensorGroup))?2:!!(!(!e.fluidEnabled&&!t.fluidEnabled)&&(r=e.filter,l=t.filter,0!=(r.fluidMask&l.fluidGroup)&&0!=(l.fluidMask&r.fluidGroup)))&&!(0==i.imass&&0==n.imass&&0==i.iinertia&&0==n.iinertia)?0:(l=e.filter,r=t.filter,0!=(l.collisionMask&r.collisionGroup)&&0!=(r.collisionMask&l.collisionGroup)&&!(0==i.imass&&0==n.imass&&0==i.iinertia&&0==n.iinertia)?1:-1):-1},i.prototype.precb=null,i.prototype.prelisteners=null,i.prototype.narrowPhase=function(e,t,i,L,D){for(var R=null,j=e.body,F=t.body,N=!1,U=j.constraints.head;null!=U;){var H=U.elt;if(H.ignore&&H.pair_exists(j.id,F.id)){N=!0;break}U=U.next}if(N)k=!1;else{for(var V=e;null!=V&&null==V.group;)V=null!=V.ishape?V.ishape.body:(null!=V.icompound?V.icompound:V.ibody).compound;var W=null==V?null:V.group;if(null==W)a=!1;else{for(var q=t;null!=q&&null==q.group;)q=null!=q.ishape?q.ishape.body:(null!=q.icompound?q.icompound:q.ibody).compound;var X=null==q?null:q.group;if(null==X)a=!1;else{for(var Y=!1;null!=W&&null!=X;){if(W==X){Y=W.ignore;break}W.depth<X.depth?X=X.group:W=W.group}a=Y}}k=!a}if(-1!=(k=k?!(!e.sensorEnabled&&!t.sensorEnabled)&&(a=e.filter,k=t.filter,0!=(a.sensorMask&k.sensorGroup)&&0!=(k.sensorMask&a.sensorGroup))?2:!!(!(!e.fluidEnabled&&!t.fluidEnabled)&&(k=e.filter,a=t.filter,0!=(k.fluidMask&a.fluidGroup)&&0!=(a.fluidMask&k.fluidGroup)))&&!(0==j.imass&&0==F.imass&&0==j.iinertia&&0==F.iinertia)?0:(a=e.filter,k=t.filter,0!=(a.collisionMask&k.collisionGroup)&&0!=(k.collisionMask&a.collisionGroup)&&!(0==j.imass&&0==F.imass&&0==j.iinertia&&0==F.iinertia)?1:-1):-1)){e.type>t.type?(n=t,K=e):e.type!=t.type||e.id<t.id?(n=e,K=t):(K=e,n=t);var n,K,r,o,a=n==t;if(0==k){if(null==L){for(var Z=null,J=(j.arbiters.length<F.arbiters.length?j:F).arbiters.head;null!=J;){var Q=J.elt;if(Q.id==n.id&&Q.di==K.id){Z=Q;break}J=J.next}r=Z}else r=L;var s,p=null==r,l=!1;if(p)null==Rn.zpp_pool?s=new Rn:(s=Rn.zpp_pool,Rn.zpp_pool=s.next,s.next=null);else if(null==r.fluidarb){r.cleared=!0;for(var $=r.b1.arbiters,ee=null,te=$.head;null!=te;){if(te.elt==r){null==ee?(ne=(ie=$.head).next,$.head=ne,null==$.head&&($.pushmod=!0)):(ne=(ie=ee.next).next,null==(ee.next=ne)&&($.pushmod=!0));var ie,ne,re=ie;re.elt=null,re.next=En.zpp_pool,En.zpp_pool=re,$.modified=!0,$.length--,$.pushmod=!0;break}te=(ee=te).next}for(var oe=r.b2.arbiters,ae=null,se=oe.head;null!=se;){if(se.elt==r){null==ae?(le=(pe=oe.head).next,oe.head=le,null==oe.head&&(oe.pushmod=!0)):(le=(pe=ae.next).next,null==(ae.next=le)&&(oe.pushmod=!0));var pe,le,he=pe;he.elt=null,he.next=En.zpp_pool,En.zpp_pool=he,oe.modified=!0,oe.length--,oe.pushmod=!0;break}se=(ae=se).next}null!=r.pair&&(r.pair.arb=null,r.pair=null),r.active=!1,this.f_arbiters.modified=!0,null==Rn.zpp_pool?s=new Rn:(s=Rn.zpp_pool,Rn.zpp_pool=s.next,s.next=null),l=p=s.intchange=!0}else s=r.fluidarb;if(p||s.stamp!=this.stamp||D)if(s.stamp=this.stamp,dr.flowCollide(n,K,s)){if(p?(M=n.id,h=K.id,s.b1=e.body,s.ws1=e,s.b2=t.body,s.ws2=t,s.id=M,s.di=h,M=s.b1.arbiters,null==En.zpp_pool?u=new En:(u=En.zpp_pool,En.zpp_pool=u.next,u.next=null),u.elt=s,(h=u).next=M.head,M.head=h,M.modified=!0,M.length++,u=s.b2.arbiters,null==En.zpp_pool?S=new En:(S=En.zpp_pool,En.zpp_pool=S.next,S.next=null),S.elt=s,(h=S).next=u.head,u.head=h,u.modified=!0,u.length++,s.active=!0,s.present=0,s.cleared=!1,s.sleeping=!1,s.fresh=!1,s.presentable=!1,s.nx=0,s.ny=1,s.dampx=0,s.dampy=0,s.adamp=0,M=this.f_arbiters,null==Nn.zpp_pool?O=new Nn:(O=Nn.zpp_pool,Nn.zpp_pool=O.next,O.next=null),O.elt=s,(S=O).next=M.head,M.head=S,M.modified=!0,M.length++,s.fresh=!l):s.fresh=s.up_stamp<this.stamp-1||s.endGenerated==this.stamp&&D,s.up_stamp=s.stamp,s.fresh||0==(4&s.immState)){for(var ue=!(s.immState=1),h=s.ws1.id>s.ws2.id?s.ws2:s.ws1,u=s.ws1.id>s.ws2.id?s.ws1:s.ws2,de=this.mrca1;null!=de.head;){var ce=de.head;de.head=ce.next,ce.elt=null,ce.next=Bn.zpp_pool,Bn.zpp_pool=ce,null==de.head&&(de.pushmod=!0),de.modified=!0,de.length--}de.pushmod=!0;for(var me=this.mrca2;null!=me.head;){var ye=me.head;me.head=ye.next,ye.elt=null,ye.next=Bn.zpp_pool,Bn.zpp_pool=ye,null==me.head&&(me.pushmod=!0),me.modified=!0,me.length--}me.pushmod=!0,null!=h.cbSet&&(O=this.mrca1,null==Bn.zpp_pool?x=new Bn:(x=Bn.zpp_pool,Bn.zpp_pool=x.next,x.next=null),x.elt=h,(S=x).next=O.head,O.head=S,O.modified=!0,O.length++),null!=h.body.cbSet&&(M=this.mrca1,l=h.body,null==Bn.zpp_pool?A=new Bn:(A=Bn.zpp_pool,Bn.zpp_pool=A.next,A.next=null),A.elt=l,(x=A).next=M.head,M.head=x,M.modified=!0,M.length++),null!=u.cbSet&&(S=this.mrca2,null==Bn.zpp_pool?w=new Bn:(w=Bn.zpp_pool,Bn.zpp_pool=w.next,w.next=null),w.elt=u,(O=w).next=S.head,S.head=O,S.modified=!0,S.length++),null!=u.body.cbSet&&(l=this.mrca2,A=u.body,null==Bn.zpp_pool?P=new Bn:(P=Bn.zpp_pool,Bn.zpp_pool=P.next,P.next=null),P.elt=A,(x=P).next=l.head,l.head=x,l.modified=!0,l.length++);for(var _e,xe,fe,ge,ve=h.body.compound,ze=u.body.compound;ve!=ze;)(null==ve?0:ve.depth)<(null==ze?0:ze.depth)?(null!=ze.cbSet&&(ge=this.mrca2,null==Bn.zpp_pool?_e=new Bn:(_e=Bn.zpp_pool,Bn.zpp_pool=_e.next,_e.next=null),_e.elt=ze,(xe=_e).next=ge.head,ge.head=xe,ge.modified=!0,ge.length++),ze=ze.compound):(null!=ve.cbSet&&(xe=this.mrca1,null==Bn.zpp_pool?fe=new Bn:(fe=Bn.zpp_pool,Bn.zpp_pool=fe.next,fe.next=null),fe.elt=ve,(ge=fe).next=xe.head,xe.head=ge,xe.modified=!0,xe.length++),ve=ve.compound);for(var be=this.mrca1.head;null!=be;){for(var we=be.elt,Se=this.mrca2.head;null!=Se;){for(var Ce,ke=Se.elt,d=we.cbSet,c=ke.cbSet,Me=null,Pe=(d.cbpairs.length<c.cbpairs.length?d:c).cbpairs.head;null!=Pe;){var Oe=Pe.elt;if(Oe.a==d&&Oe.b==c||Oe.a==c&&Oe.b==d){Me=Oe;break}Pe=Pe.next}if(null==Me&&(null==On.zpp_pool?Ce=new On:(Ce=On.zpp_pool,On.zpp_pool=Ce.next,Ce.next=null),Ce.zip_listeners=!0,Pn.setlt(d,c)?(Ce.a=d,Ce.b=c):(Ce.a=c,Ce.b=d),Me=Ce,d.cbpairs.add(Me),c!=d&&c.cbpairs.add(Me)),Me.zip_listeners&&(Me.zip_listeners=!1,Me.__validate()),null==Me.listeners.head)Se=Se.next;else{for(var m=null,Te=null,Ge=this.prelisteners;null!=Ge.head;){var Ae=Ge.head;Ge.head=Ae.next,Ae.elt=null,Ae.next=In.zpp_pool,In.zpp_pool=Ae,null==Ge.head&&(Ge.pushmod=!0),Ge.modified=!0,Ge.length--}Ge.pushmod=!0;for(var Ee,Ie=null,Be=null,Le=(d.cbpairs.length<c.cbpairs.length?d:c).cbpairs.head;null!=Le;){var De=Le.elt;if(De.a==d&&De.b==c||De.a==c&&De.b==d){Be=De;break}Le=Le.next}null==Be&&(null==On.zpp_pool?Ee=new On:(Ee=On.zpp_pool,On.zpp_pool=Ee.next,Ee.next=null),Ee.zip_listeners=!0,Pn.setlt(d,c)?(Ee.a=d,Ee.b=c):(Ee.a=c,Ee.b=d),Be=Ee,d.cbpairs.add(Be),c!=d&&c.cbpairs.add(Be)),Be.zip_listeners&&(Be.zip_listeners=!1,Be.__validate());for(var Re=Be.listeners.head;null!=Re;){var je,Fe,Ne,Ue=Re.elt;5==Ue.event&&0!=(4&Ue.itype)&&(je=this.prelisteners,null==In.zpp_pool?Fe=new In:(Fe=In.zpp_pool,In.zpp_pool=Fe.next,Fe.next=null),Fe.elt=Ue,Ne=Fe,null==Ie?(Ne.next=je.head,je.head=Ne):(Ne.next=Ie.next,Ie.next=Ne),je.pushmod=je.modified=!0,je.length++,Ie=Ne,ue=!!ue||!Ue.pure),Re=Re.next}if(null==this.prelisteners.head)Se=Se.next;else{if(null==(m=jn.get(we,ke))&&(Te=Fn.get(we,ke),this.add_callbackset(Te)),null==m||(m.FLUIDstamp!=this.stamp||D)&&0==(4&m.FLUIDstate)){if(null!=(m=null!=Te?Te:m))for(var He=this.prelisteners.head;null!=He;)7==He.elt.itype&&(m.COLLISIONstamp=this.stamp,m.SENSORstamp=this.stamp),m.FLUIDstamp=this.stamp,He=He.next;for(var ke=s.active,Ve=(s.active=!0,this.precb.zpp_inner.pre_arbiter=s,this.precb.zpp_inner.set=m,this.prelisteners.head);null!=Ve;){var We=Ve.elt,qe=(this.precb.zpp_inner.listener=We,this.precb.zpp_inner),Xe=m.int1,Ye=m.int2,Ke=We.options1,Ze=Xe.cbTypes,Ke=(!(!Ke.nonemptyintersection(Ze,Ke.includes)||Ke.nonemptyintersection(Ze,Ke.excludes))&&(Ze=We.options2,Ke=Ye.cbTypes,!!Ze.nonemptyintersection(Ke,Ze.includes)&&!Ze.nonemptyintersection(Ke,Ze.excludes))?(qe.int1=Xe,qe.int2=Ye):(qe.int1=Ye,qe.int2=Xe),this.precb.zpp_inner.pre_swapped=we!=this.precb.zpp_inner.int1,We.handlerp(this.precb));null!=Ke&&(null==Tn.PreFlag_ACCEPT&&(Tn.internal=!0,Tn.PreFlag_ACCEPT=new Ln,Tn.internal=!1),Ze=Ke==Tn.PreFlag_ACCEPT?5:(null==Tn.PreFlag_ACCEPT_ONCE&&(Tn.internal=!0,Tn.PreFlag_ACCEPT_ONCE=new Ln,Tn.internal=!1),Ke==Tn.PreFlag_ACCEPT_ONCE?1:(null==Tn.PreFlag_IGNORE&&(Tn.internal=!0,Tn.PreFlag_IGNORE=new Ln,Tn.internal=!1),Ke==Tn.PreFlag_IGNORE?6:2)),s.immState=Ze),Ve=Ve.next}if(s.active=ke,null!=m)for(var Je=this.prelisteners.head;null!=Je;)7==Je.elt.itype&&(m.COLLISIONstate=s.immState,m.SENSORstate=s.immState),m.FLUIDstate=s.immState,Je=Je.next}else null==m?0==(4&s.immState)&&(s.immState=1):s.immState=m.FLUIDstate;Se=Se.next}}}be=be.next}ue&&0==(4&s.immState)&&(2!=s.b1.type||(M=s.b1).world||(M.component.waket=this.stamp+(this.midstep?0:1),3==M.type&&(M.kinematicDelaySleep=!0),M.component.sleeping&&this.really_wake(M,!1)),2!=s.b1.type||(w=s.b2).world||(w.component.waket=this.stamp+(this.midstep?0:1),3==w.type&&(w.kinematicDelaySleep=!0),w.component.sleeping&&this.really_wake(w,!1)))}0!=(1&s.immState)&&(2==s.b1.type&&s.b1.component.sleeping&&!(O=s.b1).world&&(O.component.waket=this.stamp+(this.midstep?0:1),3==O.type&&(O.kinematicDelaySleep=!0),O.component.sleeping&&this.really_wake(O,!1)),2==s.b2.type&&s.b2.component.sleeping&&!(S=s.b2).world&&(S.component.waket=this.stamp+(this.midstep?0:1),3==S.type&&(S.kinematicDelaySleep=!0),S.component.sleeping&&this.really_wake(S,!1))),s.sleeping&&(s.sleeping=!1,A=this.f_arbiters,null==Nn.zpp_pool?T=new Nn:(T=Nn.zpp_pool,Nn.zpp_pool=T.next,T.next=null),T.elt=s,(P=T).next=A.head,A.head=P,A.modified=!0,A.length++),R=s}else R=p?((x=s).next=Rn.zpp_pool,Rn.zpp_pool=x,null):s;else R=s}else if(1==k){var y,l=i?this.c_arbiters_true:this.c_arbiters_false;if(null==L){for(var Qe=null,$e=(j.arbiters.length<F.arbiters.length?j:F).arbiters.head;null!=$e;){var et=$e.elt;if(et.id==n.id&&et.di==K.id){Qe=et;break}$e=$e.next}y=Qe}else y=L;var _,h=null==y,u=!1;if(h)null==Gn.zpp_pool?_=new Gn:(_=Gn.zpp_pool,Gn.zpp_pool=_.next,_.next=null),_.stat=i;else if(null==y.colarb){y.cleared=!0;for(var tt=y.b1.arbiters,it=null,nt=tt.head;null!=nt;){if(nt.elt==y){null==it?(ot=(rt=tt.head).next,tt.head=ot,null==tt.head&&(tt.pushmod=!0)):(ot=(rt=it.next).next,null==(it.next=ot)&&(tt.pushmod=!0));var rt,ot,at=rt;at.elt=null,at.next=En.zpp_pool,En.zpp_pool=at,tt.modified=!0,tt.length--,tt.pushmod=!0;break}nt=(it=nt).next}for(var st=y.b2.arbiters,pt=null,lt=st.head;null!=lt;){if(lt.elt==y){null==pt?(ut=(ht=st.head).next,st.head=ut,null==st.head&&(st.pushmod=!0)):(ut=(ht=pt.next).next,null==(pt.next=ut)&&(st.pushmod=!0));var ht,ut,dt=ht;dt.elt=null,dt.next=En.zpp_pool,En.zpp_pool=dt,st.modified=!0,st.length--,st.pushmod=!0;break}lt=(pt=lt).next}null!=y.pair&&(y.pair.arb=null,y.pair=null),y.active=!1,this.f_arbiters.modified=!0,null==Gn.zpp_pool?_=new Gn:(_=Gn.zpp_pool,Gn.zpp_pool=_.next,_.next=null),_.intchange=!0,_.stat=i,u=h=!0}else a=n!=(_=y.colarb).s1,_.stat!=i&&(_.stat=i,_.sleeping||((i?this.c_arbiters_false:this.c_arbiters_true).remove(_),l.add(_)));if(h||_.stamp!=this.stamp||D)if(_.stamp=this.stamp,dr.contactCollide(n,K,_,a)){if(h?(M=n.id,w=K.id,_.b1=e.body,_.ws1=e,_.b2=t.body,_.ws2=t,_.id=M,_.di=w,O=_.b1.arbiters,null==En.zpp_pool?C=new En:(C=En.zpp_pool,En.zpp_pool=C.next,C.next=null),C.elt=_,(S=C).next=O.head,O.head=S,O.modified=!0,O.length++,T=_.b2.arbiters,null==En.zpp_pool?xi=new En:(xi=En.zpp_pool,En.zpp_pool=xi.next,xi.next=null),xi.elt=_,(P=xi).next=T.head,T.head=P,T.modified=!0,T.length++,_.active=!0,_.present=0,_.cleared=!1,_.sleeping=!1,_.fresh=!1,_.presentable=!1,_.s1=e,_.s2=t,_.userdef_restitution||(_.s1.material.elasticity<=-1/0||_.s2.material.elasticity<=-1/0?_.restitution=0:_.s1.material.elasticity>=1/0||_.s2.material.elasticity>=1/0?_.restitution=1:_.restitution=(_.s1.material.elasticity+_.s2.material.elasticity)/2,_.restitution<0&&(_.restitution=0),1<_.restitution&&(_.restitution=1)),_.userdef_dyn_fric||(_.dyn_fric=Math.sqrt(_.s1.material.dynamicFriction*_.s2.material.dynamicFriction)),_.userdef_stat_fric||(_.stat_fric=Math.sqrt(_.s1.material.staticFriction*_.s2.material.staticFriction)),_.userdef_rfric||(_.rfric=Math.sqrt(_.s1.material.rollingFriction*_.s2.material.rollingFriction)),null==Hn.zpp_pool?G=new Hn:(G=Hn.zpp_pool,Hn.zpp_pool=G.next,G.next=null),G.elt=_,(A=G).next=l.head,l.head=A,l.modified=!0,l.length++,_.fresh=!u):_.fresh=_.up_stamp<this.stamp-1||_.endGenerated==this.stamp&&D,_.up_stamp=_.stamp,_.fresh||0==(4&_.immState)){for(var ct=!(_.immState=1),p=_.ws1.id>_.ws2.id?_.ws2:_.ws1,x=_.ws1.id>_.ws2.id?_.ws1:_.ws2,mt=this.mrca1;null!=mt.head;){var yt=mt.head;mt.head=yt.next,yt.elt=null,yt.next=Bn.zpp_pool,Bn.zpp_pool=yt,null==mt.head&&(mt.pushmod=!0),mt.modified=!0,mt.length--}mt.pushmod=!0;for(var _t=this.mrca2;null!=_t.head;){var xt=_t.head;_t.head=xt.next,xt.elt=null,xt.next=Bn.zpp_pool,Bn.zpp_pool=xt,null==_t.head&&(_t.pushmod=!0),_t.modified=!0,_t.length--}_t.pushmod=!0,null!=p.cbSet&&(k=this.mrca1,null==Bn.zpp_pool?Ni=new Bn:(Ni=Bn.zpp_pool,Bn.zpp_pool=Ni.next,Ni.next=null),Ni.elt=p,(i=Ni).next=k.head,k.head=i,k.modified=!0,k.length++),null!=p.body.cbSet&&(a=this.mrca1,M=p.body,null==Bn.zpp_pool?zi=new Bn:(zi=Bn.zpp_pool,Bn.zpp_pool=zi.next,zi.next=null),zi.elt=M,(w=zi).next=a.head,a.head=w,a.modified=!0,a.length++),null!=x.cbSet&&(C=this.mrca2,null==Bn.zpp_pool?yi=new Bn:(yi=Bn.zpp_pool,Bn.zpp_pool=yi.next,yi.next=null),yi.elt=x,(S=yi).next=C.head,C.head=S,C.modified=!0,C.length++),null!=x.body.cbSet&&(O=this.mrca2,xi=x.body,null==Bn.zpp_pool?gi=new Bn:(gi=Bn.zpp_pool,Bn.zpp_pool=gi.next,gi.next=null),gi.elt=xi,(P=gi).next=O.head,O.head=P,O.modified=!0,O.length++);for(var ft,gt,vt,zt,bt=p.body.compound,wt=x.body.compound;bt!=wt;)(null==bt?0:bt.depth)<(null==wt?0:wt.depth)?(null!=wt.cbSet&&(zt=this.mrca2,null==Bn.zpp_pool?ft=new Bn:(ft=Bn.zpp_pool,Bn.zpp_pool=ft.next,ft.next=null),ft.elt=wt,(gt=ft).next=zt.head,zt.head=gt,zt.modified=!0,zt.length++),wt=wt.compound):(null!=bt.cbSet&&(gt=this.mrca1,null==Bn.zpp_pool?vt=new Bn:(vt=Bn.zpp_pool,Bn.zpp_pool=vt.next,vt.next=null),vt.elt=bt,(zt=vt).next=gt.head,gt.head=zt,gt.modified=!0,gt.length++),bt=bt.compound);for(var St=this.mrca1.head;null!=St;){for(var Ct=St.elt,kt=this.mrca2.head;null!=kt;){for(var Mt,Pt=kt.elt,f=Ct.cbSet,g=Pt.cbSet,Ot=null,Tt=(f.cbpairs.length<g.cbpairs.length?f:g).cbpairs.head;null!=Tt;){var Gt=Tt.elt;if(Gt.a==f&&Gt.b==g||Gt.a==g&&Gt.b==f){Ot=Gt;break}Tt=Tt.next}if(null==Ot&&(null==On.zpp_pool?Mt=new On:(Mt=On.zpp_pool,On.zpp_pool=Mt.next,Mt.next=null),Mt.zip_listeners=!0,Pn.setlt(f,g)?(Mt.a=f,Mt.b=g):(Mt.a=g,Mt.b=f),Ot=Mt,f.cbpairs.add(Ot),g!=f&&g.cbpairs.add(Ot)),Ot.zip_listeners&&(Ot.zip_listeners=!1,Ot.__validate()),null==Ot.listeners.head)kt=kt.next;else{for(var v=null,At=null,Et=this.prelisteners;null!=Et.head;){var It=Et.head;Et.head=It.next,It.elt=null,It.next=In.zpp_pool,In.zpp_pool=It,null==Et.head&&(Et.pushmod=!0),Et.modified=!0,Et.length--}Et.pushmod=!0;for(var Bt,Lt=null,Dt=null,Rt=(f.cbpairs.length<g.cbpairs.length?f:g).cbpairs.head;null!=Rt;){var jt=Rt.elt;if(jt.a==f&&jt.b==g||jt.a==g&&jt.b==f){Dt=jt;break}Rt=Rt.next}null==Dt&&(null==On.zpp_pool?Bt=new On:(Bt=On.zpp_pool,On.zpp_pool=Bt.next,Bt.next=null),Bt.zip_listeners=!0,Pn.setlt(f,g)?(Bt.a=f,Bt.b=g):(Bt.a=g,Bt.b=f),Dt=Bt,f.cbpairs.add(Dt),g!=f&&g.cbpairs.add(Dt)),Dt.zip_listeners&&(Dt.zip_listeners=!1,Dt.__validate());for(var Ft=Dt.listeners.head;null!=Ft;){var Nt,Ut,Ht,Vt=Ft.elt;5==Vt.event&&0!=(1&Vt.itype)&&(Nt=this.prelisteners,null==In.zpp_pool?Ut=new In:(Ut=In.zpp_pool,In.zpp_pool=Ut.next,Ut.next=null),Ut.elt=Vt,Ht=Ut,null==Lt?(Ht.next=Nt.head,Nt.head=Ht):(Ht.next=Lt.next,Lt.next=Ht),Nt.pushmod=Nt.modified=!0,Nt.length++,Lt=Ht,ct=!!ct||!Vt.pure),Ft=Ft.next}if(null==this.prelisteners.head)kt=kt.next;else{if(null==(v=jn.get(Ct,Pt))&&(At=Fn.get(Ct,Pt),this.add_callbackset(At)),null==v||(v.COLLISIONstamp!=this.stamp||D)&&0==(4&v.COLLISIONstate)){if(null!=(v=null!=At?At:v))for(var Wt=this.prelisteners.head;null!=Wt;)7==Wt.elt.itype?(v.COLLISIONstamp=this.stamp,v.SENSORstamp=this.stamp,v.FLUIDstamp=this.stamp):v.COLLISIONstamp=this.stamp,Wt=Wt.next;for(var Pt=_.active,qt=_.active=!0,Xt=null,Yt=null,Kt=_.innards.next,Zt=(_.hc2=!1,_.contacts.next);null!=Zt;){var Jt,Qt,$t,ei,z,ti,ii=Zt;ii.stamp+ur.arbiterExpirationDelay<_.stamp?(z=_.contacts,z=(null==Xt?(Qt=(Jt=z.next).next,z.next=Qt,null==z.next&&(z.pushmod=!0)):(Qt=(Jt=Xt.next).next,null==(Xt.next=Qt)&&(z.pushmod=!0)),Jt._inuse=!1,z.modified=!0,z.length--,z.pushmod=!0,Zt=Qt,_.innards),null==Yt?(ei=($t=z.next).next,z.next=ei,null==z.next&&(z.pushmod=!0)):(ei=($t=Yt.next).next,null==(Yt.next=ei)&&(z.pushmod=!0)),$t._inuse=!1,z.modified=!0,z.length--,z.pushmod=!0,Kt=ei,ii.arbiter=null,ii.next=An.zpp_pool,An.zpp_pool=ii):(z=ii.inner,ti=ii.active,ii.active=ii.stamp==_.stamp,ii.active&&(qt?(qt=!1,_.c1=z,_.oc1=ii):(_.hc2=!0,_.c2=z,_.oc2=ii)),ti!=ii.active&&(_.contacts.modified=!0),Xt=Zt,Kt=(Yt=Kt).next,Zt=Zt.next)}_.hc2?(_.hpc2=!0,_.oc1.posOnly?(At=_.c1,_.c1=_.c2,_.c2=At,At=_.oc1,_.oc1=_.oc2,_.oc2=At,_.hc2=!1):_.oc2.posOnly&&(_.hc2=!1)):_.hpc2=!1,this.precb.zpp_inner.pre_arbiter=_,this.precb.zpp_inner.set=v;for(var ni=this.prelisteners.head;null!=ni;){var ri=ni.elt,oi=(this.precb.zpp_inner.listener=ri,this.precb.zpp_inner),ai=v.int1,si=v.int2,pi=ri.options1,li=ai.cbTypes,pi=(!(!pi.nonemptyintersection(li,pi.includes)||pi.nonemptyintersection(li,pi.excludes))&&(li=ri.options2,pi=si.cbTypes,!!li.nonemptyintersection(pi,li.includes)&&!li.nonemptyintersection(pi,li.excludes))?(oi.int1=ai,oi.int2=si):(oi.int1=si,oi.int2=ai),this.precb.zpp_inner.pre_swapped=Ct!=this.precb.zpp_inner.int1,ri.handlerp(this.precb));null!=pi&&(null==Tn.PreFlag_ACCEPT&&(Tn.internal=!0,Tn.PreFlag_ACCEPT=new Ln,Tn.internal=!1),li=pi==Tn.PreFlag_ACCEPT?5:(null==Tn.PreFlag_ACCEPT_ONCE&&(Tn.internal=!0,Tn.PreFlag_ACCEPT_ONCE=new Ln,Tn.internal=!1),pi==Tn.PreFlag_ACCEPT_ONCE?1:(null==Tn.PreFlag_IGNORE&&(Tn.internal=!0,Tn.PreFlag_IGNORE=new Ln,Tn.internal=!1),pi==Tn.PreFlag_IGNORE?6:2)),_.immState=li),ni=ni.next}if(_.active=Pt,null!=v)for(var hi=this.prelisteners.head;null!=hi;)7==hi.elt.itype?(v.COLLISIONstate=_.immState,v.SENSORstate=_.immState,v.FLUIDstate=_.immState):v.COLLISIONstate=_.immState,hi=hi.next}else null==v?0==(4&_.immState)&&(_.immState=1):_.immState=v.COLLISIONstate;kt=kt.next}}}St=St.next}ct&&0==(4&_.immState)&&(2!=_.b1.type||(T=_.b1).world||(T.component.waket=this.stamp+(this.midstep?0:1),3==T.type&&(T.kinematicDelaySleep=!0),T.component.sleeping&&this.really_wake(T,!1)),2!=_.b1.type||(G=_.b2).world||(G.component.waket=this.stamp+(this.midstep?0:1),3==G.type&&(G.kinematicDelaySleep=!0),G.component.sleeping&&this.really_wake(G,!1)))}0!=(1&_.immState)&&(2==_.b1.type&&_.b1.component.sleeping&&!(A=_.b1).world&&(A.component.waket=this.stamp+(this.midstep?0:1),3==A.type&&(A.kinematicDelaySleep=!0),A.component.sleeping&&this.really_wake(A,!1)),2==_.b2.type&&_.b2.component.sleeping&&!(u=_.b2).world&&(u.component.waket=this.stamp+(this.midstep?0:1),3==u.type&&(u.kinematicDelaySleep=!0),u.component.sleeping&&this.really_wake(u,!1))),_.sleeping&&(_.sleeping=!1,null==Hn.zpp_pool?Fi=new Hn:(Fi=Hn.zpp_pool,Hn.zpp_pool=Fi.next,Fi.next=null),Fi.elt=_,(Ni=Fi).next=l.head,l.head=Ni,l.modified=!0,l.length++),R=_}else R=h?((i=_).userdef_dyn_fric=!1,i.userdef_stat_fric=!1,i.userdef_restitution=!1,i.userdef_rfric=!1,i.__ref_edge1=i.__ref_edge2=null,i.next=Gn.zpp_pool,Gn.zpp_pool=i,null):_;else R=_}else{if(null==L){for(var ui=null,di=(j.arbiters.length<F.arbiters.length?j:F).arbiters.head;null!=di;){var ci=di.elt;if(ci.id==n.id&&ci.di==K.id){ui=ci;break}di=di.next}o=ui}else o=L;var b,w,mi,yi,S,_i,C,xi,fi,gi,vi,zi,k=null==o,M=!1;if(k)null==Dn.zpp_pool?b=new Dn:(b=Dn.zpp_pool,Dn.zpp_pool=b.next,b.next=null);else if(null==o.sensorarb){o.cleared=!0;for(var bi=o.b1.arbiters,wi=null,Si=bi.head;null!=Si;){if(Si.elt==o){null==wi?(ki=(Ci=bi.head).next,bi.head=ki,null==bi.head&&(bi.pushmod=!0)):(ki=(Ci=wi.next).next,null==(wi.next=ki)&&(bi.pushmod=!0));var Ci,ki,Mi=Ci;Mi.elt=null,Mi.next=En.zpp_pool,En.zpp_pool=Mi,bi.modified=!0,bi.length--,bi.pushmod=!0;break}Si=(wi=Si).next}for(var Pi=o.b2.arbiters,Oi=null,Ti=Pi.head;null!=Ti;){if(Ti.elt==o){null==Oi?(Ai=(Gi=Pi.head).next,Pi.head=Ai,null==Pi.head&&(Pi.pushmod=!0)):(Ai=(Gi=Oi.next).next,null==(Oi.next=Ai)&&(Pi.pushmod=!0));var Gi,Ai,Ei=Gi;Ei.elt=null,Ei.next=En.zpp_pool,En.zpp_pool=Ei,Pi.modified=!0,Pi.length--,Pi.pushmod=!0;break}Ti=(Oi=Ti).next}null!=o.pair&&(o.pair.arb=null,o.pair=null),o.active=!1,this.f_arbiters.modified=!0,null==Dn.zpp_pool?b=new Dn:(b=Dn.zpp_pool,Dn.zpp_pool=b.next,b.next=null),M=k=b.intchange=!0}else b=o.sensorarb;if(k||b.stamp!=this.stamp||D)if(b.stamp=this.stamp,dr.testCollide(n,K)){if(k?(zi=n.id,w=K.id,b.b1=e.body,b.ws1=e,b.b2=t.body,b.ws2=t,b.id=zi,b.di=w,a=b.b1.arbiters,null==En.zpp_pool?mi=new En:(mi=En.zpp_pool,En.zpp_pool=mi.next,mi.next=null),mi.elt=b,(yi=mi).next=a.head,a.head=yi,a.modified=!0,a.length++,S=b.b2.arbiters,null==En.zpp_pool?_i=new En:(_i=En.zpp_pool,En.zpp_pool=_i.next,_i.next=null),_i.elt=b,(C=_i).next=S.head,S.head=C,S.modified=!0,S.length++,b.active=!0,b.present=0,b.cleared=!1,b.sleeping=!1,b.fresh=!1,b.presentable=!1,xi=this.s_arbiters,null==Un.zpp_pool?fi=new Un:(fi=Un.zpp_pool,Un.zpp_pool=fi.next,fi.next=null),fi.elt=b,(gi=fi).next=xi.head,xi.head=gi,xi.modified=!0,xi.length++,b.fresh=!M):b.fresh=b.up_stamp<this.stamp-1||b.endGenerated==this.stamp&&D,b.up_stamp=b.stamp,b.fresh||0==(4&b.immState)){for(var Ii=!(b.immState=1),P=b.ws1.id>b.ws2.id?b.ws2:b.ws1,O=b.ws1.id>b.ws2.id?b.ws1:b.ws2,Bi=this.mrca1;null!=Bi.head;){var Li=Bi.head;Bi.head=Li.next,Li.elt=null,Li.next=Bn.zpp_pool,Bn.zpp_pool=Li,null==Bi.head&&(Bi.pushmod=!0),Bi.modified=!0,Bi.length--}Bi.pushmod=!0;for(var Di,T,G,Ri,A,ji,Fi,Ni,Ui,Hi=this.mrca2;null!=Hi.head;){var Vi=Hi.head;Hi.head=Vi.next,Vi.elt=null,Vi.next=Bn.zpp_pool,Bn.zpp_pool=Vi,null==Hi.head&&(Hi.pushmod=!0),Hi.modified=!0,Hi.length--}Hi.pushmod=!0,null!=P.cbSet&&(p=this.mrca1,null==Bn.zpp_pool?Di=new Bn:(Di=Bn.zpp_pool,Bn.zpp_pool=Di.next,Di.next=null),Di.elt=P,(x=Di).next=p.head,p.head=x,p.modified=!0,p.length++),null!=P.body.cbSet&&(T=this.mrca1,G=P.body,null==Bn.zpp_pool?Ri=new Bn:(Ri=Bn.zpp_pool,Bn.zpp_pool=Ri.next,Ri.next=null),Ri.elt=G,(A=Ri).next=T.head,T.head=A,T.modified=!0,T.length++),null!=O.cbSet&&(u=this.mrca2,null==Bn.zpp_pool?ji=new Bn:(ji=Bn.zpp_pool,Bn.zpp_pool=ji.next,ji.next=null),ji.elt=O,(Fi=ji).next=u.head,u.head=Fi,u.modified=!0,u.length++),null!=O.body.cbSet&&(Ni=this.mrca2,l=O.body,null==Bn.zpp_pool?Ui=new Bn:(Ui=Bn.zpp_pool,Bn.zpp_pool=Ui.next,Ui.next=null),Ui.elt=l,(h=Ui).next=Ni.head,Ni.head=h,Ni.modified=!0,Ni.length++);for(var Wi,qi,Xi,Yi,Ki=P.body.compound,Zi=O.body.compound;Ki!=Zi;)(null==Ki?0:Ki.depth)<(null==Zi?0:Zi.depth)?(null!=Zi.cbSet&&(Yi=this.mrca2,null==Bn.zpp_pool?Wi=new Bn:(Wi=Bn.zpp_pool,Bn.zpp_pool=Wi.next,Wi.next=null),Wi.elt=Zi,(qi=Wi).next=Yi.head,Yi.head=qi,Yi.modified=!0,Yi.length++),Zi=Zi.compound):(null!=Ki.cbSet&&(qi=this.mrca1,null==Bn.zpp_pool?Xi=new Bn:(Xi=Bn.zpp_pool,Bn.zpp_pool=Xi.next,Xi.next=null),Xi.elt=Ki,(Yi=Xi).next=qi.head,qi.head=Yi,qi.modified=!0,qi.length++),Ki=Ki.compound);for(var Ji=this.mrca1.head;null!=Ji;){for(var Qi=Ji.elt,$i=this.mrca2.head;null!=$i;){for(var en,tn=$i.elt,E=Qi.cbSet,I=tn.cbSet,nn=null,rn=(E.cbpairs.length<I.cbpairs.length?E:I).cbpairs.head;null!=rn;){var on=rn.elt;if(on.a==E&&on.b==I||on.a==I&&on.b==E){nn=on;break}rn=rn.next}if(null==nn&&(null==On.zpp_pool?en=new On:(en=On.zpp_pool,On.zpp_pool=en.next,en.next=null),en.zip_listeners=!0,Pn.setlt(E,I)?(en.a=E,en.b=I):(en.a=I,en.b=E),nn=en,E.cbpairs.add(nn),I!=E&&I.cbpairs.add(nn)),nn.zip_listeners&&(nn.zip_listeners=!1,nn.__validate()),null==nn.listeners.head)$i=$i.next;else{for(var B=null,an=null,sn=this.prelisteners;null!=sn.head;){var pn=sn.head;sn.head=pn.next,pn.elt=null,pn.next=In.zpp_pool,In.zpp_pool=pn,null==sn.head&&(sn.pushmod=!0),sn.modified=!0,sn.length--}sn.pushmod=!0;for(var ln,hn=null,un=null,dn=(E.cbpairs.length<I.cbpairs.length?E:I).cbpairs.head;null!=dn;){var cn=dn.elt;if(cn.a==E&&cn.b==I||cn.a==I&&cn.b==E){un=cn;break}dn=dn.next}null==un&&(null==On.zpp_pool?ln=new On:(ln=On.zpp_pool,On.zpp_pool=ln.next,ln.next=null),ln.zip_listeners=!0,Pn.setlt(E,I)?(ln.a=E,ln.b=I):(ln.a=I,ln.b=E),un=ln,E.cbpairs.add(un),I!=E&&I.cbpairs.add(un)),un.zip_listeners&&(un.zip_listeners=!1,un.__validate());for(var mn=un.listeners.head;null!=mn;){var yn,_n,xn,fn=mn.elt;5==fn.event&&0!=(2&fn.itype)&&(yn=this.prelisteners,null==In.zpp_pool?_n=new In:(_n=In.zpp_pool,In.zpp_pool=_n.next,_n.next=null),_n.elt=fn,xn=_n,null==hn?(xn.next=yn.head,yn.head=xn):(xn.next=hn.next,hn.next=xn),yn.pushmod=yn.modified=!0,yn.length++,hn=xn,Ii=!!Ii||!fn.pure),mn=mn.next}if(null==this.prelisteners.head)$i=$i.next;else{if(null==(B=jn.get(Qi,tn))&&(an=Fn.get(Qi,tn),this.add_callbackset(an)),null==B||(B.SENSORstamp!=this.stamp||D)&&0==(4&B.SENSORstate)){if(null!=(B=null!=an?an:B))for(var gn=this.prelisteners.head;null!=gn;)7==gn.elt.itype?(B.COLLISIONstamp=this.stamp,B.SENSORstamp=this.stamp,B.FLUIDstamp=this.stamp):B.SENSORstamp=this.stamp,gn=gn.next;for(var tn=b.active,vn=(b.active=!0,this.precb.zpp_inner.pre_arbiter=b,this.precb.zpp_inner.set=B,this.prelisteners.head);null!=vn;){var zn=vn.elt,bn=(this.precb.zpp_inner.listener=zn,this.precb.zpp_inner),wn=B.int1,Sn=B.int2,Cn=zn.options1,kn=wn.cbTypes,Cn=(!(!Cn.nonemptyintersection(kn,Cn.includes)||Cn.nonemptyintersection(kn,Cn.excludes))&&(kn=zn.options2,Cn=Sn.cbTypes,!!kn.nonemptyintersection(Cn,kn.includes)&&!kn.nonemptyintersection(Cn,kn.excludes))?(bn.int1=wn,bn.int2=Sn):(bn.int1=Sn,bn.int2=wn),this.precb.zpp_inner.pre_swapped=Qi!=this.precb.zpp_inner.int1,zn.handlerp(this.precb));null!=Cn&&(null==Tn.PreFlag_ACCEPT&&(Tn.internal=!0,Tn.PreFlag_ACCEPT=new Ln,Tn.internal=!1),kn=Cn==Tn.PreFlag_ACCEPT?5:(null==Tn.PreFlag_ACCEPT_ONCE&&(Tn.internal=!0,Tn.PreFlag_ACCEPT_ONCE=new Ln,Tn.internal=!1),Cn==Tn.PreFlag_ACCEPT_ONCE?1:(null==Tn.PreFlag_IGNORE&&(Tn.internal=!0,Tn.PreFlag_IGNORE=new Ln,Tn.internal=!1),Cn==Tn.PreFlag_IGNORE?6:2)),b.immState=kn),vn=vn.next}if(b.active=tn,null!=B)for(var Mn=this.prelisteners.head;null!=Mn;)7==Mn.elt.itype?(B.COLLISIONstate=b.immState,B.SENSORstate=b.immState,B.FLUIDstate=b.immState):B.SENSORstate=b.immState,Mn=Mn.next}else null==B?0==(4&b.immState)&&(b.immState=1):b.immState=B.SENSORstate;$i=$i.next}}}Ji=Ji.next}Ii&&0==(4&b.immState)&&(1==b.b1.type||(i=b.b1).world||(i.component.waket=this.stamp+(this.midstep?0:1),3==i.type&&(i.kinematicDelaySleep=!0),i.component.sleeping&&this.really_wake(i,!1)),1==b.b2.type||(L=b.b2).world||(L.component.waket=this.stamp+(this.midstep?0:1),3==L.type&&(L.kinematicDelaySleep=!0),L.component.sleeping&&this.really_wake(L,!1)))}b.sleeping&&(b.sleeping=!1,e=this.s_arbiters,null==Un.zpp_pool?vi=new Un:(vi=Un.zpp_pool,Un.zpp_pool=vi.next,vi.next=null),vi.elt=b,(t=vi).next=e.head,e.head=t,e.modified=!0,e.length++),R=b}else R=k?((zi=b).next=Dn.zpp_pool,Dn.zpp_pool=zi,null):b;else R=b}}return R},i.prototype.mrca1=null,i.prototype.mrca2=null,i.prototype.MRCA_chains=function(e,t){for(var i=this.mrca1;null!=i.head;){var n=i.head;i.head=n.next,n.elt=null,n.next=Bn.zpp_pool,Bn.zpp_pool=n,null==i.head&&(i.pushmod=!0),i.modified=!0,i.length--}i.pushmod=!0;for(var r,o,a,s,p,l=this.mrca2;null!=l.head;){var h=l.head;l.head=h.next,h.elt=null,h.next=Bn.zpp_pool,Bn.zpp_pool=h,null==l.head&&(l.pushmod=!0),l.modified=!0,l.length--}l.pushmod=!0,null!=e.cbSet&&(p=this.mrca1,null==Bn.zpp_pool?o=new Bn:(o=Bn.zpp_pool,Bn.zpp_pool=o.next,o.next=null),o.elt=e,(o=o).next=p.head,p.head=o,p.modified=!0,p.length++),null!=e.body.cbSet&&(o=this.mrca1,p=e.body,null==Bn.zpp_pool?r=new Bn:(r=Bn.zpp_pool,Bn.zpp_pool=r.next,r.next=null),r.elt=p,(p=r).next=o.head,o.head=p,o.modified=!0,o.length++),null!=t.cbSet&&(r=this.mrca2,null==Bn.zpp_pool?a=new Bn:(a=Bn.zpp_pool,Bn.zpp_pool=a.next,a.next=null),a.elt=t,(p=a).next=r.head,r.head=p,r.modified=!0,r.length++),null!=t.body.cbSet&&(o=this.mrca2,a=t.body,null==Bn.zpp_pool?s=new Bn:(s=Bn.zpp_pool,Bn.zpp_pool=s.next,s.next=null),s.elt=a,(p=s).next=o.head,o.head=p,o.modified=!0,o.length++);for(var u,d,c,m,y=e.body.compound,_=t.body.compound;y!=_;)(null==y?0:y.depth)<(null==_?0:_.depth)?(null!=_.cbSet&&(m=this.mrca2,null==Bn.zpp_pool?u=new Bn:(u=Bn.zpp_pool,Bn.zpp_pool=u.next,u.next=null),u.elt=_,(d=u).next=m.head,m.head=d,m.modified=!0,m.length++),_=_.compound):(null!=y.cbSet&&(d=this.mrca1,null==Bn.zpp_pool?c=new Bn:(c=Bn.zpp_pool,Bn.zpp_pool=c.next,c.next=null),c.elt=y,(m=c).next=d.head,d.head=m,d.modified=!0,d.length++),y=y.compound)},i.prototype.inlined_MRCA_chains=function(e,t){for(var i=this.mrca1;null!=i.head;){var n=i.head;i.head=n.next,n.elt=null,n.next=Bn.zpp_pool,Bn.zpp_pool=n,null==i.head&&(i.pushmod=!0),i.modified=!0,i.length--}i.pushmod=!0;for(var r,o,a,s,p,l=this.mrca2;null!=l.head;){var h=l.head;l.head=h.next,h.elt=null,h.next=Bn.zpp_pool,Bn.zpp_pool=h,null==l.head&&(l.pushmod=!0),l.modified=!0,l.length--}l.pushmod=!0,null!=e.cbSet&&(p=this.mrca1,null==Bn.zpp_pool?o=new Bn:(o=Bn.zpp_pool,Bn.zpp_pool=o.next,o.next=null),o.elt=e,(o=o).next=p.head,p.head=o,p.modified=!0,p.length++),null!=e.body.cbSet&&(o=this.mrca1,p=e.body,null==Bn.zpp_pool?r=new Bn:(r=Bn.zpp_pool,Bn.zpp_pool=r.next,r.next=null),r.elt=p,(p=r).next=o.head,o.head=p,o.modified=!0,o.length++),null!=t.cbSet&&(r=this.mrca2,null==Bn.zpp_pool?a=new Bn:(a=Bn.zpp_pool,Bn.zpp_pool=a.next,a.next=null),a.elt=t,(p=a).next=r.head,r.head=p,r.modified=!0,r.length++),null!=t.body.cbSet&&(o=this.mrca2,a=t.body,null==Bn.zpp_pool?s=new Bn:(s=Bn.zpp_pool,Bn.zpp_pool=s.next,s.next=null),s.elt=a,(p=s).next=o.head,o.head=p,o.modified=!0,o.length++);for(var u,d,c,m,y=e.body.compound,_=t.body.compound;y!=_;)(null==y?0:y.depth)<(null==_?0:_.depth)?(null!=_.cbSet&&(m=this.mrca2,null==Bn.zpp_pool?u=new Bn:(u=Bn.zpp_pool,Bn.zpp_pool=u.next,u.next=null),u.elt=_,(d=u).next=m.head,m.head=d,m.modified=!0,m.length++),_=_.compound):(null!=y.cbSet&&(d=this.mrca1,null==Bn.zpp_pool?c=new Bn:(c=Bn.zpp_pool,Bn.zpp_pool=c.next,c.next=null),c.elt=y,(m=c).next=d.head,d.head=m,d.modified=!0,d.length++),y=y.compound)},i.prototype.__class__=i,zpp_nape.space.ZPP_SweepData=function(){this.aabb=null,this.shape=null,this.prev=null,this.next=null}),Si=(wi.__name__=["zpp_nape","space","ZPP_SweepData"],wi.prototype.next=null,wi.prototype.prev=null,wi.prototype.shape=null,wi.prototype.aabb=null,wi.prototype.free=function(){this.prev=null,this.shape=null,this.aabb=null},wi.prototype.alloc=function(){},wi.prototype.gt=function(e){return this.aabb.minx>e.aabb.minx},wi.prototype.__class__=wi,zpp_nape.space.ZPP_SweepPhase=function(e){this.failed=null,this.list=null,li.call(this),this.space=e,this.is_sweep=!0,this.sweep=this}),Ci=(Si.__name__=["zpp_nape","space","ZPP_SweepPhase"],Si.__super__=li,Si.prototype=Object.create(li.prototype),Si.prototype.list=null,Si.prototype.__insert=function(e){var t;null==wi.zpp_pool?t=new wi:(t=wi.zpp_pool,wi.zpp_pool=t.next,t.next=null),(e.sweep=t).shape=e,t.aabb=e.aabb,t.next=this.list,null!=this.list&&(this.list.prev=t),this.list=t},Si.prototype.__remove=function(e){var t=e.sweep;null==t.prev?this.list=t.next:t.prev.next=t.next,null!=t.next&&(t.next.prev=t.prev),e.sweep=null,t.prev=null,t.shape=null,t.aabb=null,t.next=wi.zpp_pool,wi.zpp_pool=t},Si.prototype.__sync=function(e){if(!this.space.continuous&&e.zip_aabb&&null!=e.body)if(e.zip_aabb=!1,0==e.type){var t=e.circle;if(t.zip_worldCOM&&null!=t.body){if(t.zip_worldCOM=!1,t.zip_localCOM){if(t.zip_localCOM=!1,1==t.type){var i=t.polygon;if(null==i.lverts.next.next)i.localCOMx=i.lverts.next.x,i.localCOMy=i.lverts.next.y;else if(null==i.lverts.next.next.next)i.localCOMx=i.lverts.next.x,i.localCOMy=i.lverts.next.y,i.localCOMx+=i.lverts.next.next.x,i.localCOMy+=i.lverts.next.next.y,i.localCOMx*=.5,i.localCOMy*=.5;else{i.localCOMx=0;var n=i.localCOMy=0,r=i.lverts.next,o=r,a=r=r.next;for(r=r.next;null!=r;){var s=r,p=(n+=a.x*(s.y-o.y),s.y*a.x-s.x*a.y);i.localCOMx+=(a.x+s.x)*p,i.localCOMy+=(a.y+s.y)*p,o=a,a=s,r=r.next}var l=r=i.lverts.next,h=(n+=a.x*(l.y-o.y),l.y*a.x-l.x*a.y),h=(i.localCOMx+=(a.x+l.x)*h,i.localCOMy+=(a.y+l.y)*h,o=a,r=r.next),u=(n+=l.x*(h.y-o.y),h.y*l.x-h.x*l.y),l=(i.localCOMx+=(l.x+h.x)*u,i.localCOMy+=(l.y+h.y)*u,n=1/(3*n));i.localCOMx*=l,i.localCOMy*=l}}null!=t.wrap_localCOM&&(t.wrap_localCOM.zpp_inner.x=t.localCOMx,t.wrap_localCOM.zpp_inner.y=t.localCOMy)}h=t.body;h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),t.worldCOMx=t.body.posx+(t.body.axisy*t.localCOMx-t.body.axisx*t.localCOMy),t.worldCOMy=t.body.posy+(t.localCOMx*t.body.axisx+t.localCOMy*t.body.axisy)}u=t.radius,l=t.radius;t.aabb.minx=t.worldCOMx-u,t.aabb.miny=t.worldCOMy-l,t.aabb.maxx=t.worldCOMx+u,t.aabb.maxy=t.worldCOMy+l}else{var d=e.polygon;if(d.zip_gverts&&null!=d.body){d.zip_gverts=!1,d.validate_lverts();for(var h=d.body,c=(h.zip_axis&&(h.zip_axis=!1,h.axisx=Math.sin(h.rot),h.axisy=Math.cos(h.rot)),d.lverts.next),m=d.gverts.next;null!=m;){var y=m,_=c,c=c.next;y.x=d.body.posx+(d.body.axisy*_.x-d.body.axisx*_.y),y.y=d.body.posy+(_.x*d.body.axisx+_.y*d.body.axisy),m=m.next}}for(var u=d.gverts.next,x=(d.aabb.minx=u.x,d.aabb.miny=u.y,d.aabb.maxx=u.x,d.aabb.maxy=u.y,d.gverts.next.next);null!=x;){var f=x;f.x<d.aabb.minx&&(d.aabb.minx=f.x),f.x>d.aabb.maxx&&(d.aabb.maxx=f.x),f.y<d.aabb.miny&&(d.aabb.miny=f.y),f.y>d.aabb.maxy&&(d.aabb.maxy=f.y),x=x.next}}},Si.prototype.sync_broadphase=function(){if(this.space.validation(),null!=this.list)for(var e=this.list.next;null!=e;){var t=e.next,i=e.prev;if(e.aabb.minx>i.aabb.minx)e=t;else{for(;null!=i.prev&&i.prev.aabb.minx>e.aabb.minx;)i=i.prev;var n=e.prev;n.next=e.next,null!=e.next&&(e.next.prev=n),null==i.prev?(e.prev=null,((this.list=e).next=i).prev=e):(e.prev=i.prev,((i.prev=e).prev.next=e).next=i),e=t}}},Si.prototype.sync_broadphase_fast=function(){for(var e=this.list.next;null!=e;){var t=e.next,i=e.prev;if(e.aabb.minx>i.aabb.minx)e=t;else{for(;null!=i.prev&&i.prev.aabb.minx>e.aabb.minx;)i=i.prev;var n=e.prev;n.next=e.next,null!=e.next&&(e.next.prev=n),null==i.prev?(e.prev=null,((this.list=e).next=i).prev=e):(e.prev=i.prev,((i.prev=e).prev.next=e).next=i),e=t}}},Si.prototype.broadphase=function(e,t){if(null!=this.list){for(var i=this.list.next;null!=i;){var n=i.next,r=i.prev;if(i.aabb.minx>r.aabb.minx)i=n;else{for(;null!=r.prev&&r.prev.aabb.minx>i.aabb.minx;)r=r.prev;var o=i.prev;o.next=i.next,null!=i.next&&(i.next.prev=o),null==r.prev?(i.prev=null,((this.list=i).next=r).prev=i):(i.prev=r.prev,((r.prev=i).prev.next=i).next=r),i=n}}for(var a=this.list;null!=a;){for(var s=a.next,p=a.shape,l=p.body,h=a.aabb.maxx;null!=s&&!(s.aabb.minx>h);){var u,d,c=s.shape,m=c.body;s=(m==l||1==l.type&&1==m.type||l.component.sleeping&&m.component.sleeping||(u=p.aabb,(d=c.aabb).miny>u.maxy||u.miny>d.maxy||(t?e.narrowPhase(p,c,2!=l.type||2!=m.type,null,!1):e.continuousEvent(p,c,2!=l.type||2!=m.type,null,!1))),s.next)}a=a.next}}},Si.prototype.clear=function(){for(;null!=this.list;)this.list.shape.removedFromSpace(),this.__remove(this.list.shape)},Si.prototype.shapesUnderPoint=function(e,t,i,n){this.sync_broadphase(),null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=e,r.y=t;for(var r,o,a,s=r,p=null==n?new be:n,l=this.list;null!=l&&l.aabb.minx>e;)l=l.next;for(;null!=l&&l.aabb.minx<=e;)l.aabb.maxx>=e&&l.aabb.miny<=t&&l.aabb.maxy>=t&&(o=l.shape,(null==i||0!=((a=o.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&a.collisionGroup))&&(0==o.type?dr.circleContains(o.circle,s)&&p.push(o.outer):dr.polyContains(o.polygon,s)&&p.push(o.outer))),l=l.next;return null!=s.outer&&(s.outer.zpp_inner=null,s.outer=null),s._isimmutable=null,s._validate=null,s._invalidate=null,s.next=cr.zpp_pool,cr.zpp_pool=s,p},Si.prototype.bodiesUnderPoint=function(e,t,i,n){this.sync_broadphase(),null==cr.zpp_pool?r=new cr:(r=cr.zpp_pool,cr.zpp_pool=r.next,r.next=null),r.weak=!1,r._immutable=!1,r.x=e,r.y=t;for(var r,o,a,s,p=r,l=null==n?new re:n,h=this.list;null!=h&&h.aabb.minx>e;)h=h.next;for(;null!=h&&h.aabb.minx<=e;)h.aabb.maxx>=e&&h.aabb.miny<=t&&h.aabb.maxy>=t&&(a=(o=h.shape).body.outer,l.has(a)||(null==i||0!=((s=o.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&s.collisionGroup))&&(0==o.type?dr.circleContains(o.circle,p)&&l.push(a):dr.polyContains(o.polygon,p)&&l.push(a))),h=h.next;return null!=p.outer&&(p.outer.zpp_inner=null,p.outer=null),p._isimmutable=null,p._validate=null,p._invalidate=null,p.next=cr.zpp_pool,cr.zpp_pool=p,l},Si.prototype.shapesInAABB=function(e,t,i,n,r){this.sync_broadphase(),this.updateAABBShape(e);for(var o=this.aabbShape.zpp_inner.aabb,a=null==r?new be:r,s=this.list;null!=s&&s.aabb.maxx<o.minx;)s=s.next;for(;null!=s&&s.aabb.minx<=o.maxx;){var p,l,h,u=s.shape;(null==n||0!=((p=u.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&p.collisionGroup))&&(t?i?dr.containTest(this.aabbShape.zpp_inner,u)&&a.push(u.outer):(p=s.aabb).minx>=o.minx&&p.miny>=o.miny&&p.maxx<=o.maxx&&p.maxy<=o.maxy?a.push(u.outer):(l=s.aabb,o.miny<=l.maxy&&l.miny<=o.maxy&&o.minx<=l.maxx&&l.minx<=o.maxx&&dr.testCollide_safe(u,this.aabbShape.zpp_inner)&&a.push(u.outer)):(i?(l=s.aabb).minx>=o.minx&&l.miny>=o.miny&&l.maxx<=o.maxx&&l.maxy<=o.maxy:(h=s.aabb,o.miny<=h.maxy&&h.miny<=o.maxy&&o.minx<=h.maxx&&h.minx<=o.maxx))&&a.push(u.outer)),s=s.next}return a},Si.prototype.failed=null,Si.prototype.bodiesInAABB=function(e,t,i,n,r){this.sync_broadphase(),this.updateAABBShape(e);for(var o=this.aabbShape.zpp_inner.aabb,a=null==r?new re:r,s=(null==this.failed&&(this.failed=new re),this.list);null!=s&&s.aabb.maxx<o.minx;)s=s.next;for(;null!=s&&s.aabb.minx<=o.maxx;){var p=s.shape,l=p.body.outer,h=s.aabb;o.miny<=h.maxy&&h.miny<=o.maxy&&o.minx<=h.maxx&&h.minx<=o.maxx&&(null==n||0!=((h=p.filter).collisionMask&n.collisionGroup)&&0!=(n.collisionMask&h.collisionGroup))&&(t?i?this.failed.has(l)||(h=dr.containTest(this.aabbShape.zpp_inner,p),!a.has(l)&&h?a.push(l):h||(a.remove(l),this.failed.push(l))):!a.has(l)&&dr.testCollide_safe(p,this.aabbShape.zpp_inner)&&a.push(l):i?this.failed.has(l)||(h=(h=p.aabb).minx>=o.minx&&h.miny>=o.miny&&h.maxx<=o.maxx&&h.maxy<=o.maxy,!a.has(l)&&h?a.push(l):h||(a.remove(l),this.failed.push(l))):!a.has(l)&&((h=p.aabb).minx>=o.minx&&h.miny>=o.miny&&h.maxx<=o.maxx&&h.maxy<=o.maxy)&&a.push(l)),s=s.next}return this.failed.clear(),a},Si.prototype.shapesInCircle=function(e,t,i,n,r,o){this.sync_broadphase(),this.updateCircShape(e,t,i);for(var a=this.circShape.zpp_inner.aabb,s=null==o?new be:o,p=this.list;null!=p&&p.aabb.maxx<a.minx;)p=p.next;for(;null!=p&&p.aabb.minx<=a.maxx;){var l,h=p.aabb;a.miny<=h.maxy&&h.miny<=a.maxy&&a.minx<=h.maxx&&h.minx<=a.maxx&&(h=p.shape,(null==r||0!=((l=h.filter).collisionMask&r.collisionGroup)&&0!=(r.collisionMask&l.collisionGroup))&&(n?dr.containTest(this.circShape.zpp_inner,h)&&s.push(h.outer):dr.testCollide_safe(h,this.circShape.zpp_inner)&&s.push(h.outer))),p=p.next}return s},Si.prototype.bodiesInCircle=function(e,t,i,n,r,o){this.sync_broadphase(),this.updateCircShape(e,t,i);for(var a=this.circShape.zpp_inner.aabb,s=null==o?new re:o,p=(null==this.failed&&(this.failed=new re),this.list);null!=p&&p.aabb.maxx<a.minx;)p=p.next;for(;null!=p&&p.aabb.minx<=a.maxx;){var l,h,u=p.aabb;a.miny<=u.maxy&&u.miny<=a.maxy&&a.minx<=u.maxx&&u.minx<=a.maxx&&(l=(u=p.shape).body.outer,(null==r||0!=((h=u.filter).collisionMask&r.collisionGroup)&&0!=(r.collisionMask&h.collisionGroup))&&(n?this.failed.has(l)||(h=dr.containTest(this.circShape.zpp_inner,u),!s.has(l)&&h?s.push(l):h||(s.remove(l),this.failed.push(l))):!s.has(l)&&dr.testCollide_safe(u,this.circShape.zpp_inner)&&s.push(l))),p=p.next}return this.failed.clear(),s},Si.prototype.shapesInShape=function(e,t,i,n){this.sync_broadphase(),this.validateShape(e);for(var r=e.aabb,o=null==n?new be:n,a=this.list;null!=a&&a.aabb.maxx<r.minx;)a=a.next;for(;null!=a&&a.aabb.minx<=r.maxx;){var s,p=a.aabb;r.miny<=p.maxy&&p.miny<=r.maxy&&r.minx<=p.maxx&&p.minx<=r.maxx&&(p=a.shape,(null==i||0!=((s=p.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&s.collisionGroup))&&(t?dr.containTest(e,p)&&o.push(p.outer):dr.testCollide_safe(p,e)&&o.push(p.outer))),a=a.next}return o},Si.prototype.bodiesInShape=function(e,t,i,n){this.sync_broadphase(),this.validateShape(e);for(var r=e.aabb,o=null==n?new re:n,a=(null==this.failed&&(this.failed=new re),this.list);null!=a&&a.aabb.maxx<r.minx;)a=a.next;for(;null!=a&&a.aabb.minx<=r.maxx;){var s,p,l=a.aabb;r.miny<=l.maxy&&l.miny<=r.maxy&&r.minx<=l.maxx&&l.minx<=r.maxx&&(s=(l=a.shape).body.outer,(null==i||0!=((p=l.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&p.collisionGroup))&&(t?this.failed.has(s)||(p=dr.containTest(e,l),!o.has(s)&&p?o.push(s):p||(o.remove(s),this.failed.push(s))):!o.has(s)&&dr.testCollide_safe(e,l)&&o.push(s))),a=a.next}return this.failed.clear(),o},Si.prototype.rayCast=function(e,t,i){this.sync_broadphase(),e.validate_dir();var n=e.rayAABB(),r=e.maxdist,o=null;if(0==e.dirx)for(var a=this.list;null!=a&&a.aabb.minx<=n.minx;){var s=a.aabb;!(n.miny<=s.maxy&&s.miny<=n.maxy&&n.minx<=s.maxx&&s.minx<=n.maxx&&(null==i||0!=((s=a.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&s.collisionGroup)))||0<=(s=e.aabbsect(a.aabb))&&s<r&&(null!=(s=0==a.shape.type?e.circlesect(a.shape.circle,t,r):e.polysect(a.shape.polygon,t,r))&&(r=s.zpp_inner.toiDistance,null!=o&&o.zpp_inner.free(),o=s)),a=a.next}else if(e.dirx<0){for(var p=this.list,l=null;null!=p&&p.aabb.minx<=n.maxx;)p=(l=p).next;for(p=l;null!=p;){var h=p.aabb;!(n.miny<=h.maxy&&h.miny<=n.maxy&&n.minx<=h.maxx&&h.minx<=n.maxx&&(null==i||0!=((h=p.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&h.collisionGroup)))||0<=(h=e.aabbsect(p.aabb))&&h<r&&(null!=(h=0==p.shape.type?e.circlesect(p.shape.circle,t,r):e.polysect(p.shape.polygon,t,r))&&(r=h.zpp_inner.toiDistance,null!=o&&o.zpp_inner.free(),o=h)),p=p.prev}}else for(var u=this.list;null!=u&&u.aabb.minx<=n.maxx&&u.aabb.minx<e.originx+e.dirx*r;){var d=u.aabb;!(n.miny<=d.maxy&&d.miny<=n.maxy&&n.minx<=d.maxx&&d.minx<=n.maxx&&(null==i||0!=((d=u.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&d.collisionGroup)))||0<=(d=e.aabbsect(u.aabb))&&d<r&&(null!=(d=0==u.shape.type?e.circlesect(u.shape.circle,t,r):e.polysect(u.shape.polygon,t,r))&&(r=d.zpp_inner.toiDistance,null!=o&&o.zpp_inner.free(),o=d)),u=u.next}return null!=n.outer&&(n.outer.zpp_inner=null,n.outer=null),n.wrap_min=n.wrap_max=null,n._invalidate=null,n._validate=null,n.next=Nt.zpp_pool,Nt.zpp_pool=n,o},Si.prototype.rayMultiCast=function(e,t,i,n){this.sync_broadphase(),e.validate_dir();var r=e.rayAABB(),o=null==n?new ee:n;if(0==e.dirx)for(var a=this.list;null!=a&&a.aabb.minx<=r.minx;){var s=a.aabb;r.miny<=s.maxy&&s.miny<=r.maxy&&r.minx<=s.maxx&&s.minx<=r.maxx&&(null==i||0!=((s=a.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&s.collisionGroup))&&0<=e.aabbsect(a.aabb)&&(0==a.shape.type?e.circlesect2(a.shape.circle,t,o):e.polysect2(a.shape.polygon,t,o)),a=a.next}else if(e.dirx<0){for(var p=this.list,l=null;null!=p&&p.aabb.minx<=r.maxx;)p=(l=p).next;for(p=l;null!=p;){var h=p.aabb;r.miny<=h.maxy&&h.miny<=r.maxy&&r.minx<=h.maxx&&h.minx<=r.maxx&&(null==i||0!=((h=p.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&h.collisionGroup))&&0<=e.aabbsect(p.aabb)&&(0==p.shape.type?e.circlesect2(p.shape.circle,t,o):e.polysect2(p.shape.polygon,t,o)),p=p.prev}}else for(var u=this.list;null!=u&&u.aabb.minx<=r.maxx;){var d=u.aabb;r.miny<=d.maxy&&d.miny<=r.maxy&&r.minx<=d.maxx&&d.minx<=r.maxx&&(null==i||0!=((d=u.shape.filter).collisionMask&i.collisionGroup)&&0!=(i.collisionMask&d.collisionGroup))&&0<=e.aabbsect(u.aabb)&&(0==u.shape.type?e.circlesect2(u.shape.circle,t,o):e.polysect2(u.shape.polygon,t,o)),u=u.next}return null!=r.outer&&(r.outer.zpp_inner=null,r.outer=null),r.wrap_min=r.wrap_max=null,r._invalidate=null,r._validate=null,r.next=Nt.zpp_pool,Nt.zpp_pool=r,o},Si.prototype.__class__=Si,zpp_nape.util.ZNPArray2_Float=function(e,t){this.width=0,this.list=null,this.width=e,this.list=[]}),ki=(Ci.__name__=["zpp_nape","util","ZNPArray2_Float"],Ci.prototype.list=null,Ci.prototype.width=null,Ci.prototype.resize=function(e,t,i){for(var n=0,r=(this.width=e)*t;n<r;)this.list[n++]=i},Ci.prototype.get=function(e,t){return this.list[t*this.width+e]},Ci.prototype.set=function(e,t,i){return this.list[t*this.width+e]=i},Ci.prototype.__class__=Ci,zpp_nape.util.ZNPArray2_ZPP_GeomVert=function(e,t){this.width=0,this.list=null,this.width=e,this.list=[]}),Mi=(ki.__name__=["zpp_nape","util","ZNPArray2_ZPP_GeomVert"],ki.prototype.list=null,ki.prototype.width=null,ki.prototype.resize=function(e,t,i){for(var n=0,r=(this.width=e)*t;n<r;)this.list[n++]=i},ki.prototype.get=function(e,t){return this.list[t*this.width+e]},ki.prototype.set=function(e,t,i){return this.list[t*this.width+e]=i},ki.prototype.__class__=ki,zpp_nape.util.ZNPArray2_ZPP_MarchPair=function(e,t){this.width=0,this.list=null,this.width=e,this.list=[]}),Ve=(Mi.__name__=["zpp_nape","util","ZNPArray2_ZPP_MarchPair"],Mi.prototype.list=null,Mi.prototype.width=null,Mi.prototype.resize=function(e,t,i){for(var n=0,r=(this.width=e)*t;n<r;)this.list[n++]=i},Mi.prototype.get=function(e,t){return this.list[t*this.width+e]},Mi.prototype.set=function(e,t,i){return this.list[t*this.width+e]=i},Mi.prototype.__class__=Mi,zpp_nape.util.Hashable2_Boolfalse=function(){this.di=0,this.id=0,this.hnext=null,this.next=null,this.value=!1}),Pi=(Ve.__name__=["zpp_nape","util","Hashable2_Boolfalse"],Ve.get=function(e,t,i){null==Ve.zpp_pool?n=new Ve:(n=Ve.zpp_pool,Ve.zpp_pool=n.next,n.next=null),n.id=e,n.di=t;var n,e=n;return e.value=i,e},Ve.getpersist=function(e,t){var i;return null==Ve.zpp_pool?i=new Ve:(i=Ve.zpp_pool,Ve.zpp_pool=i.next,i.next=null),i.id=e,i.di=t,i},Ve.ordered_get=function(e,t,i){var n,r;return e<=t?(null==Ve.zpp_pool?r=new Ve:(r=Ve.zpp_pool,Ve.zpp_pool=r.next,r.next=null),r.id=e,r.di=t,(r=r).value=i,r):(null==Ve.zpp_pool?n=new Ve:(n=Ve.zpp_pool,Ve.zpp_pool=n.next,n.next=null),n.id=t,n.di=e,(r=n).value=i,r)},Ve.ordered_get_persist=function(e,t){var i,n;return e<=t?(null==Ve.zpp_pool?i=new Ve:(i=Ve.zpp_pool,Ve.zpp_pool=i.next,i.next=null),i.id=e,i.di=t,i):(null==Ve.zpp_pool?n=new Ve:(n=Ve.zpp_pool,Ve.zpp_pool=n.next,n.next=null),n.id=t,n.di=e,n)},Ve.prototype.value=null,Ve.prototype.next=null,Ve.prototype.hnext=null,Ve.prototype.id=null,Ve.prototype.di=null,Ve.prototype.free=function(){},Ve.prototype.alloc=function(){},Ve.prototype.__class__=Ve,zpp_nape.util.FastHash2_Hashable2_Boolfalse=function(){this.cnt=0,this.table=null,this.cnt=0,this.table=[];for(var e=0;e<1048576;)++e,this.table.push(null)}),Oi=(Pi.__name__=["zpp_nape","util","FastHash2_Hashable2_Boolfalse"],Pi.prototype.table=null,Pi.prototype.cnt=null,Pi.prototype.empty=function(){return 0==this.cnt},Pi.prototype.clear=function(){for(var e=0,t=this.table.length;e<t;){var i=e++,n=this.table[i];if(null!=n){for(;null!=n;){var r=n.hnext;n.hnext=null,n=r}this.table[i]=null}}},Pi.prototype.get=function(e,t){var i=this.table[106039*e+t&1048575];if(null==i)return null;if(i.id==e&&i.di==t)return i;for(;;)if(null==(i=i.hnext)||i.id==e&&i.di==t)break;return i},Pi.prototype.ordered_get=function(e,t){t<e&&(i=e,e=t,t=i);var i,n=this.table[106039*e+t&1048575];if(null==n)return null;if(n.id==e&&n.di==t)return n;for(;;)if(null==(n=n.hnext)||n.id==e&&n.di==t)break;return n},Pi.prototype.has=function(e,t){var i=this.table[106039*e+t&1048575];if(null==i)return!1;if(i.id==e&&i.di==t)return!0;for(;;)if(null==(i=i.hnext)||i.id==e&&i.di==t)break;return null!=i},Pi.prototype.maybeAdd=function(e){var t=106039*e.id+e.di&1048575,i=this.table[t];null==i?(this.table[t]=e).hnext=null:(e.hnext=i.hnext,i.hnext=e),this.cnt++},Pi.prototype.add=function(e){var t=106039*e.id+e.di&1048575,i=this.table[t];null==i?(this.table[t]=e).hnext=null:(e.hnext=i.hnext,i.hnext=e),this.cnt++},Pi.prototype.remove=function(e){var t,i=106039*e.id+e.di&1048575,n=this.table[i];if(n==e)this.table[i]=n.hnext;else if(null!=n){for(;;)if(null==(n=(t=n).hnext)||n==e)break;t.hnext=n.hnext}e.hnext=null,this.cnt--},Pi.prototype.hash=function(e,t){return 106039*e+t&1048575},Pi.prototype.__class__=Pi,zpp_nape.util.ZNPList_ZPP_CallbackSet=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ti=(Oi.__name__=["zpp_nape","util","ZNPList_ZPP_CallbackSet"],Oi.prototype.head=null,Oi.prototype.begin=function(){return this.head},Oi.prototype.modified=null,Oi.prototype.pushmod=null,Oi.prototype.length=null,Oi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Oi.prototype.add=function(e){null==an.zpp_pool?t=new an:(t=an.zpp_pool,an.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Oi.prototype.inlined_add=function(e){null==an.zpp_pool?t=new an:(t=an.zpp_pool,an.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Oi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Oi.prototype.insert=function(e,t){null==an.zpp_pool?i=new an:(i=an.zpp_pool,an.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Oi.prototype.inlined_insert=function(e,t){null==an.zpp_pool?i=new an:(i=an.zpp_pool,an.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Oi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=an.zpp_pool,an.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Oi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=an.zpp_pool,an.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Oi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Oi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Oi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=an.zpp_pool,an.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Oi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Oi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=an.zpp_pool,an.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Oi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=an.zpp_pool,an.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Oi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=an.zpp_pool,an.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Oi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=an.zpp_pool,an.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Oi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Oi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=an.zpp_pool,an.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Oi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=an.zpp_pool,an.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Oi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Oi.prototype.empty=function(){return null==this.head},Oi.prototype.size=function(){return this.length},Oi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Oi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Oi.prototype.front=function(){return this.head.elt},Oi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Oi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Oi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Oi.prototype.__class__=Oi,zpp_nape.util.ZNPList_ZPP_Shape=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Gi=(Ti.__name__=["zpp_nape","util","ZNPList_ZPP_Shape"],Ti.prototype.head=null,Ti.prototype.begin=function(){return this.head},Ti.prototype.modified=null,Ti.prototype.pushmod=null,Ti.prototype.length=null,Ti.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ti.prototype.add=function(e){null==sn.zpp_pool?t=new sn:(t=sn.zpp_pool,sn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ti.prototype.inlined_add=function(e){null==sn.zpp_pool?t=new sn:(t=sn.zpp_pool,sn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ti.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ti.prototype.insert=function(e,t){null==sn.zpp_pool?i=new sn:(i=sn.zpp_pool,sn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ti.prototype.inlined_insert=function(e,t){null==sn.zpp_pool?i=new sn:(i=sn.zpp_pool,sn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ti.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=sn.zpp_pool,sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ti.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=sn.zpp_pool,sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ti.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ti.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ti.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=sn.zpp_pool,sn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ti.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ti.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=sn.zpp_pool,sn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ti.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=sn.zpp_pool,sn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ti.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=sn.zpp_pool,sn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ti.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=sn.zpp_pool,sn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ti.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ti.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=sn.zpp_pool,sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ti.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=sn.zpp_pool,sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ti.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ti.prototype.empty=function(){return null==this.head},Ti.prototype.size=function(){return this.length},Ti.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ti.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ti.prototype.front=function(){return this.head.elt},Ti.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ti.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ti.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ti.prototype.__class__=Ti,zpp_nape.util.ZNPList_ZPP_Body=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ai=(Gi.__name__=["zpp_nape","util","ZNPList_ZPP_Body"],Gi.prototype.head=null,Gi.prototype.begin=function(){return this.head},Gi.prototype.modified=null,Gi.prototype.pushmod=null,Gi.prototype.length=null,Gi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Gi.prototype.add=function(e){null==pn.zpp_pool?t=new pn:(t=pn.zpp_pool,pn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Gi.prototype.inlined_add=function(e){null==pn.zpp_pool?t=new pn:(t=pn.zpp_pool,pn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Gi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Gi.prototype.insert=function(e,t){null==pn.zpp_pool?i=new pn:(i=pn.zpp_pool,pn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Gi.prototype.inlined_insert=function(e,t){null==pn.zpp_pool?i=new pn:(i=pn.zpp_pool,pn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Gi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=pn.zpp_pool,pn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Gi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=pn.zpp_pool,pn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Gi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Gi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Gi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=pn.zpp_pool,pn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Gi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Gi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=pn.zpp_pool,pn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Gi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=pn.zpp_pool,pn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Gi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=pn.zpp_pool,pn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Gi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=pn.zpp_pool,pn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Gi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Gi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=pn.zpp_pool,pn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Gi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=pn.zpp_pool,pn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Gi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Gi.prototype.empty=function(){return null==this.head},Gi.prototype.size=function(){return this.length},Gi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Gi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Gi.prototype.front=function(){return this.head.elt},Gi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Gi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Gi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Gi.prototype.__class__=Gi,zpp_nape.util.ZNPList_ZPP_Compound=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ei=(Ai.__name__=["zpp_nape","util","ZNPList_ZPP_Compound"],Ai.prototype.head=null,Ai.prototype.begin=function(){return this.head},Ai.prototype.modified=null,Ai.prototype.pushmod=null,Ai.prototype.length=null,Ai.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ai.prototype.add=function(e){null==hn.zpp_pool?t=new hn:(t=hn.zpp_pool,hn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ai.prototype.inlined_add=function(e){null==hn.zpp_pool?t=new hn:(t=hn.zpp_pool,hn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ai.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ai.prototype.insert=function(e,t){null==hn.zpp_pool?i=new hn:(i=hn.zpp_pool,hn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ai.prototype.inlined_insert=function(e,t){null==hn.zpp_pool?i=new hn:(i=hn.zpp_pool,hn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ai.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=hn.zpp_pool,hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ai.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=hn.zpp_pool,hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ai.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ai.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ai.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=hn.zpp_pool,hn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ai.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ai.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=hn.zpp_pool,hn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ai.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=hn.zpp_pool,hn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ai.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=hn.zpp_pool,hn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ai.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=hn.zpp_pool,hn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ai.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ai.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=hn.zpp_pool,hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ai.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=hn.zpp_pool,hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ai.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ai.prototype.empty=function(){return null==this.head},Ai.prototype.size=function(){return this.length},Ai.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ai.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ai.prototype.front=function(){return this.head.elt},Ai.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ai.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ai.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ai.prototype.__class__=Ai,zpp_nape.util.ZNPList_ZPP_Arbiter=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ii=(Ei.__name__=["zpp_nape","util","ZNPList_ZPP_Arbiter"],Ei.prototype.head=null,Ei.prototype.begin=function(){return this.head},Ei.prototype.modified=null,Ei.prototype.pushmod=null,Ei.prototype.length=null,Ei.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ei.prototype.add=function(e){null==En.zpp_pool?t=new En:(t=En.zpp_pool,En.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ei.prototype.inlined_add=function(e){null==En.zpp_pool?t=new En:(t=En.zpp_pool,En.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ei.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ei.prototype.insert=function(e,t){null==En.zpp_pool?i=new En:(i=En.zpp_pool,En.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ei.prototype.inlined_insert=function(e,t){null==En.zpp_pool?i=new En:(i=En.zpp_pool,En.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ei.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=En.zpp_pool,En.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ei.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=En.zpp_pool,En.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ei.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ei.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ei.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=En.zpp_pool,En.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ei.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ei.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=En.zpp_pool,En.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ei.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=En.zpp_pool,En.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ei.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=En.zpp_pool,En.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ei.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=En.zpp_pool,En.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ei.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ei.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=En.zpp_pool,En.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ei.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=En.zpp_pool,En.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ei.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ei.prototype.empty=function(){return null==this.head},Ei.prototype.size=function(){return this.length},Ei.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ei.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ei.prototype.front=function(){return this.head.elt},Ei.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ei.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ei.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ei.prototype.__class__=Ei,zpp_nape.util.ZNPList_ZPP_CbSetPair=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Bi=(Ii.__name__=["zpp_nape","util","ZNPList_ZPP_CbSetPair"],Ii.prototype.head=null,Ii.prototype.begin=function(){return this.head},Ii.prototype.modified=null,Ii.prototype.pushmod=null,Ii.prototype.length=null,Ii.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ii.prototype.add=function(e){null==dn.zpp_pool?t=new dn:(t=dn.zpp_pool,dn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ii.prototype.inlined_add=function(e){null==dn.zpp_pool?t=new dn:(t=dn.zpp_pool,dn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ii.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ii.prototype.insert=function(e,t){null==dn.zpp_pool?i=new dn:(i=dn.zpp_pool,dn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ii.prototype.inlined_insert=function(e,t){null==dn.zpp_pool?i=new dn:(i=dn.zpp_pool,dn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ii.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=dn.zpp_pool,dn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ii.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=dn.zpp_pool,dn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ii.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ii.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ii.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=dn.zpp_pool,dn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ii.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ii.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=dn.zpp_pool,dn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ii.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=dn.zpp_pool,dn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ii.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=dn.zpp_pool,dn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ii.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=dn.zpp_pool,dn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ii.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ii.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=dn.zpp_pool,dn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ii.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=dn.zpp_pool,dn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ii.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ii.prototype.empty=function(){return null==this.head},Ii.prototype.size=function(){return this.length},Ii.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ii.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ii.prototype.front=function(){return this.head.elt},Ii.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ii.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ii.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ii.prototype.__class__=Ii,zpp_nape.util.ZNPList_ZPP_CutInt=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Li=(Bi.__name__=["zpp_nape","util","ZNPList_ZPP_CutInt"],Bi.prototype.head=null,Bi.prototype.begin=function(){return this.head},Bi.prototype.modified=null,Bi.prototype.pushmod=null,Bi.prototype.length=null,Bi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Bi.prototype.add=function(e){null==mn.zpp_pool?t=new mn:(t=mn.zpp_pool,mn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Bi.prototype.inlined_add=function(e){null==mn.zpp_pool?t=new mn:(t=mn.zpp_pool,mn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Bi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Bi.prototype.insert=function(e,t){null==mn.zpp_pool?i=new mn:(i=mn.zpp_pool,mn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Bi.prototype.inlined_insert=function(e,t){null==mn.zpp_pool?i=new mn:(i=mn.zpp_pool,mn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Bi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=mn.zpp_pool,mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Bi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=mn.zpp_pool,mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Bi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Bi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Bi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=mn.zpp_pool,mn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Bi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Bi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=mn.zpp_pool,mn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Bi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=mn.zpp_pool,mn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Bi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=mn.zpp_pool,mn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Bi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=mn.zpp_pool,mn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Bi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Bi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=mn.zpp_pool,mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Bi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=mn.zpp_pool,mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Bi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Bi.prototype.empty=function(){return null==this.head},Bi.prototype.size=function(){return this.length},Bi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Bi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Bi.prototype.front=function(){return this.head.elt},Bi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Bi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Bi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Bi.prototype.__class__=Bi,zpp_nape.util.ZNPList_ZPP_CutVert=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Di=(Li.__name__=["zpp_nape","util","ZNPList_ZPP_CutVert"],Li.prototype.head=null,Li.prototype.begin=function(){return this.head},Li.prototype.modified=null,Li.prototype.pushmod=null,Li.prototype.length=null,Li.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Li.prototype.add=function(e){null==yn.zpp_pool?t=new yn:(t=yn.zpp_pool,yn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Li.prototype.inlined_add=function(e){null==yn.zpp_pool?t=new yn:(t=yn.zpp_pool,yn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Li.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Li.prototype.insert=function(e,t){null==yn.zpp_pool?i=new yn:(i=yn.zpp_pool,yn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Li.prototype.inlined_insert=function(e,t){null==yn.zpp_pool?i=new yn:(i=yn.zpp_pool,yn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Li.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=yn.zpp_pool,yn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Li.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=yn.zpp_pool,yn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Li.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Li.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Li.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=yn.zpp_pool,yn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Li.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Li.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=yn.zpp_pool,yn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Li.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=yn.zpp_pool,yn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Li.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=yn.zpp_pool,yn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Li.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=yn.zpp_pool,yn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Li.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Li.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=yn.zpp_pool,yn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Li.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=yn.zpp_pool,yn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Li.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Li.prototype.empty=function(){return null==this.head},Li.prototype.size=function(){return this.length},Li.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Li.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Li.prototype.front=function(){return this.head.elt},Li.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Li.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Li.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Li.prototype.__class__=Li,zpp_nape.util.ZNPList_ZPP_PartitionVertex=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ri=(Di.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionVertex"],Di.prototype.head=null,Di.prototype.begin=function(){return this.head},Di.prototype.modified=null,Di.prototype.pushmod=null,Di.prototype.length=null,Di.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Di.prototype.add=function(e){null==_n.zpp_pool?t=new _n:(t=_n.zpp_pool,_n.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Di.prototype.inlined_add=function(e){null==_n.zpp_pool?t=new _n:(t=_n.zpp_pool,_n.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Di.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Di.prototype.insert=function(e,t){null==_n.zpp_pool?i=new _n:(i=_n.zpp_pool,_n.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Di.prototype.inlined_insert=function(e,t){null==_n.zpp_pool?i=new _n:(i=_n.zpp_pool,_n.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Di.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=_n.zpp_pool,_n.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Di.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=_n.zpp_pool,_n.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Di.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Di.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Di.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=_n.zpp_pool,_n.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Di.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Di.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=_n.zpp_pool,_n.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Di.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=_n.zpp_pool,_n.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Di.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=_n.zpp_pool,_n.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Di.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=_n.zpp_pool,_n.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Di.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Di.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=_n.zpp_pool,_n.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Di.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=_n.zpp_pool,_n.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Di.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Di.prototype.empty=function(){return null==this.head},Di.prototype.size=function(){return this.length},Di.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Di.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Di.prototype.front=function(){return this.head.elt},Di.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Di.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Di.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Di.prototype.__class__=Di,zpp_nape.util.ZNPList_ZPP_SimplifyP=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),ji=(Ri.__name__=["zpp_nape","util","ZNPList_ZPP_SimplifyP"],Ri.prototype.head=null,Ri.prototype.begin=function(){return this.head},Ri.prototype.modified=null,Ri.prototype.pushmod=null,Ri.prototype.length=null,Ri.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ri.prototype.add=function(e){null==xn.zpp_pool?t=new xn:(t=xn.zpp_pool,xn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ri.prototype.inlined_add=function(e){null==xn.zpp_pool?t=new xn:(t=xn.zpp_pool,xn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ri.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ri.prototype.insert=function(e,t){null==xn.zpp_pool?i=new xn:(i=xn.zpp_pool,xn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ri.prototype.inlined_insert=function(e,t){null==xn.zpp_pool?i=new xn:(i=xn.zpp_pool,xn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ri.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=xn.zpp_pool,xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ri.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=xn.zpp_pool,xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ri.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ri.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ri.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=xn.zpp_pool,xn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ri.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ri.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=xn.zpp_pool,xn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ri.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=xn.zpp_pool,xn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ri.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=xn.zpp_pool,xn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ri.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=xn.zpp_pool,xn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ri.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ri.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=xn.zpp_pool,xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ri.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=xn.zpp_pool,xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ri.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ri.prototype.empty=function(){return null==this.head},Ri.prototype.size=function(){return this.length},Ri.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ri.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ri.prototype.front=function(){return this.head.elt},Ri.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ri.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ri.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ri.prototype.__class__=Ri,zpp_nape.util.ZNPList_ZPP_PartitionedPoly=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Fi=(ji.__name__=["zpp_nape","util","ZNPList_ZPP_PartitionedPoly"],ji.prototype.head=null,ji.prototype.begin=function(){return this.head},ji.prototype.modified=null,ji.prototype.pushmod=null,ji.prototype.length=null,ji.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},ji.prototype.add=function(e){null==fn.zpp_pool?t=new fn:(t=fn.zpp_pool,fn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},ji.prototype.inlined_add=function(e){null==fn.zpp_pool?t=new fn:(t=fn.zpp_pool,fn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},ji.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},ji.prototype.insert=function(e,t){null==fn.zpp_pool?i=new fn:(i=fn.zpp_pool,fn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},ji.prototype.inlined_insert=function(e,t){null==fn.zpp_pool?i=new fn:(i=fn.zpp_pool,fn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},ji.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=fn.zpp_pool,fn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},ji.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=fn.zpp_pool,fn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},ji.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},ji.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},ji.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=fn.zpp_pool,fn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},ji.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},ji.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=fn.zpp_pool,fn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},ji.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=fn.zpp_pool,fn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},ji.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=fn.zpp_pool,fn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},ji.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=fn.zpp_pool,fn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},ji.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},ji.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=fn.zpp_pool,fn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},ji.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=fn.zpp_pool,fn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},ji.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},ji.prototype.empty=function(){return null==this.head},ji.prototype.size=function(){return this.length},ji.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},ji.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},ji.prototype.front=function(){return this.head.elt},ji.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},ji.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},ji.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},ji.prototype.__class__=ji,zpp_nape.util.ZNPList_ZPP_GeomVert=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ni=(Fi.__name__=["zpp_nape","util","ZNPList_ZPP_GeomVert"],Fi.prototype.head=null,Fi.prototype.begin=function(){return this.head},Fi.prototype.modified=null,Fi.prototype.pushmod=null,Fi.prototype.length=null,Fi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Fi.prototype.add=function(e){null==gn.zpp_pool?t=new gn:(t=gn.zpp_pool,gn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Fi.prototype.inlined_add=function(e){null==gn.zpp_pool?t=new gn:(t=gn.zpp_pool,gn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Fi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Fi.prototype.insert=function(e,t){null==gn.zpp_pool?i=new gn:(i=gn.zpp_pool,gn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Fi.prototype.inlined_insert=function(e,t){null==gn.zpp_pool?i=new gn:(i=gn.zpp_pool,gn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Fi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=gn.zpp_pool,gn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Fi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=gn.zpp_pool,gn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Fi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Fi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Fi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=gn.zpp_pool,gn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Fi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Fi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=gn.zpp_pool,gn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Fi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=gn.zpp_pool,gn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Fi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=gn.zpp_pool,gn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Fi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=gn.zpp_pool,gn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Fi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Fi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=gn.zpp_pool,gn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Fi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=gn.zpp_pool,gn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Fi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Fi.prototype.empty=function(){return null==this.head},Fi.prototype.size=function(){return this.length},Fi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Fi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Fi.prototype.front=function(){return this.head.elt},Fi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Fi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Fi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Fi.prototype.__class__=Fi,zpp_nape.util.ZNPList_ZPP_SimpleVert=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ui=(Ni.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleVert"],Ni.prototype.head=null,Ni.prototype.begin=function(){return this.head},Ni.prototype.modified=null,Ni.prototype.pushmod=null,Ni.prototype.length=null,Ni.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ni.prototype.add=function(e){null==vn.zpp_pool?t=new vn:(t=vn.zpp_pool,vn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ni.prototype.inlined_add=function(e){null==vn.zpp_pool?t=new vn:(t=vn.zpp_pool,vn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ni.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ni.prototype.insert=function(e,t){null==vn.zpp_pool?i=new vn:(i=vn.zpp_pool,vn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ni.prototype.inlined_insert=function(e,t){null==vn.zpp_pool?i=new vn:(i=vn.zpp_pool,vn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ni.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=vn.zpp_pool,vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ni.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=vn.zpp_pool,vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ni.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ni.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ni.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=vn.zpp_pool,vn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ni.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ni.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=vn.zpp_pool,vn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ni.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=vn.zpp_pool,vn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ni.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=vn.zpp_pool,vn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ni.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=vn.zpp_pool,vn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ni.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ni.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=vn.zpp_pool,vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ni.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=vn.zpp_pool,vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ni.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ni.prototype.empty=function(){return null==this.head},Ni.prototype.size=function(){return this.length},Ni.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ni.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ni.prototype.front=function(){return this.head.elt},Ni.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ni.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ni.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ni.prototype.__class__=Ni,zpp_nape.util.ZNPList_ZPP_SimpleEvent=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Hi=(Ui.__name__=["zpp_nape","util","ZNPList_ZPP_SimpleEvent"],Ui.prototype.head=null,Ui.prototype.begin=function(){return this.head},Ui.prototype.modified=null,Ui.prototype.pushmod=null,Ui.prototype.length=null,Ui.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ui.prototype.add=function(e){null==zn.zpp_pool?t=new zn:(t=zn.zpp_pool,zn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ui.prototype.inlined_add=function(e){null==zn.zpp_pool?t=new zn:(t=zn.zpp_pool,zn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ui.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ui.prototype.insert=function(e,t){null==zn.zpp_pool?i=new zn:(i=zn.zpp_pool,zn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ui.prototype.inlined_insert=function(e,t){null==zn.zpp_pool?i=new zn:(i=zn.zpp_pool,zn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ui.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=zn.zpp_pool,zn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ui.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=zn.zpp_pool,zn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ui.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ui.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ui.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=zn.zpp_pool,zn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ui.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ui.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=zn.zpp_pool,zn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ui.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=zn.zpp_pool,zn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ui.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=zn.zpp_pool,zn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ui.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=zn.zpp_pool,zn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ui.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ui.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=zn.zpp_pool,zn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ui.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=zn.zpp_pool,zn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ui.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ui.prototype.empty=function(){return null==this.head},Ui.prototype.size=function(){return this.length},Ui.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ui.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ui.prototype.front=function(){return this.head.elt},Ui.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ui.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ui.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ui.prototype.__class__=Ui,zpp_nape.util.ZNPList_ZPP_AABBPair=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Vi=(Hi.__name__=["zpp_nape","util","ZNPList_ZPP_AABBPair"],Hi.prototype.head=null,Hi.prototype.begin=function(){return this.head},Hi.prototype.modified=null,Hi.prototype.pushmod=null,Hi.prototype.length=null,Hi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Hi.prototype.add=function(e){null==Ft.zpp_pool?t=new Ft:(t=Ft.zpp_pool,Ft.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Hi.prototype.inlined_add=function(e){null==Ft.zpp_pool?t=new Ft:(t=Ft.zpp_pool,Ft.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Hi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Hi.prototype.insert=function(e,t){null==Ft.zpp_pool?i=new Ft:(i=Ft.zpp_pool,Ft.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Hi.prototype.inlined_insert=function(e,t){null==Ft.zpp_pool?i=new Ft:(i=Ft.zpp_pool,Ft.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Hi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Ft.zpp_pool,Ft.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Hi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Ft.zpp_pool,Ft.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Hi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Hi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Hi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Ft.zpp_pool,Ft.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Hi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Hi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Ft.zpp_pool,Ft.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Hi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Ft.zpp_pool,Ft.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Hi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Ft.zpp_pool,Ft.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Hi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Ft.zpp_pool,Ft.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Hi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Hi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Ft.zpp_pool,Ft.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Hi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Ft.zpp_pool,Ft.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Hi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Hi.prototype.empty=function(){return null==this.head},Hi.prototype.size=function(){return this.length},Hi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Hi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Hi.prototype.front=function(){return this.head.elt},Hi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Hi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Hi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Hi.prototype.__class__=Hi,zpp_nape.util.ZNPList_ZPP_Edge=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Wi=(Vi.__name__=["zpp_nape","util","ZNPList_ZPP_Edge"],Vi.prototype.head=null,Vi.prototype.begin=function(){return this.head},Vi.prototype.modified=null,Vi.prototype.pushmod=null,Vi.prototype.length=null,Vi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Vi.prototype.add=function(e){null==wn.zpp_pool?t=new wn:(t=wn.zpp_pool,wn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Vi.prototype.inlined_add=function(e){null==wn.zpp_pool?t=new wn:(t=wn.zpp_pool,wn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Vi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Vi.prototype.insert=function(e,t){null==wn.zpp_pool?i=new wn:(i=wn.zpp_pool,wn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Vi.prototype.inlined_insert=function(e,t){null==wn.zpp_pool?i=new wn:(i=wn.zpp_pool,wn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Vi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=wn.zpp_pool,wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Vi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=wn.zpp_pool,wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Vi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Vi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Vi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=wn.zpp_pool,wn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Vi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Vi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=wn.zpp_pool,wn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Vi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=wn.zpp_pool,wn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Vi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=wn.zpp_pool,wn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Vi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=wn.zpp_pool,wn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Vi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Vi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=wn.zpp_pool,wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Vi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=wn.zpp_pool,wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Vi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Vi.prototype.empty=function(){return null==this.head},Vi.prototype.size=function(){return this.length},Vi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Vi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Vi.prototype.front=function(){return this.head.elt},Vi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Vi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Vi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Vi.prototype.__class__=Vi,zpp_nape.util.ZNPList_ZPP_AABBNode=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),qi=(Wi.__name__=["zpp_nape","util","ZNPList_ZPP_AABBNode"],Wi.prototype.head=null,Wi.prototype.begin=function(){return this.head},Wi.prototype.modified=null,Wi.prototype.pushmod=null,Wi.prototype.length=null,Wi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Wi.prototype.add=function(e){null==Sn.zpp_pool?t=new Sn:(t=Sn.zpp_pool,Sn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Wi.prototype.inlined_add=function(e){null==Sn.zpp_pool?t=new Sn:(t=Sn.zpp_pool,Sn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Wi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Wi.prototype.insert=function(e,t){null==Sn.zpp_pool?i=new Sn:(i=Sn.zpp_pool,Sn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Wi.prototype.inlined_insert=function(e,t){null==Sn.zpp_pool?i=new Sn:(i=Sn.zpp_pool,Sn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Wi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Sn.zpp_pool,Sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Wi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Sn.zpp_pool,Sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Wi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Wi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Wi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Sn.zpp_pool,Sn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Wi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Wi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Sn.zpp_pool,Sn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Wi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Sn.zpp_pool,Sn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Wi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Sn.zpp_pool,Sn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Wi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Sn.zpp_pool,Sn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Wi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Wi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Sn.zpp_pool,Sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Wi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Sn.zpp_pool,Sn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Wi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Wi.prototype.empty=function(){return null==this.head},Wi.prototype.size=function(){return this.length},Wi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Wi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Wi.prototype.front=function(){return this.head.elt},Wi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Wi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Wi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Wi.prototype.__class__=Wi,zpp_nape.util.ZNPList_ZPP_Component=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Zi=(qi.__name__=["zpp_nape","util","ZNPList_ZPP_Component"],qi.prototype.head=null,qi.prototype.begin=function(){return this.head},qi.prototype.modified=null,qi.prototype.pushmod=null,qi.prototype.length=null,qi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},qi.prototype.add=function(e){null==Cn.zpp_pool?t=new Cn:(t=Cn.zpp_pool,Cn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},qi.prototype.inlined_add=function(e){null==Cn.zpp_pool?t=new Cn:(t=Cn.zpp_pool,Cn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},qi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},qi.prototype.insert=function(e,t){null==Cn.zpp_pool?i=new Cn:(i=Cn.zpp_pool,Cn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},qi.prototype.inlined_insert=function(e,t){null==Cn.zpp_pool?i=new Cn:(i=Cn.zpp_pool,Cn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},qi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Cn.zpp_pool,Cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},qi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Cn.zpp_pool,Cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},qi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},qi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},qi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Cn.zpp_pool,Cn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},qi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},qi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Cn.zpp_pool,Cn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},qi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Cn.zpp_pool,Cn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},qi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Cn.zpp_pool,Cn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},qi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Cn.zpp_pool,Cn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},qi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},qi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Cn.zpp_pool,Cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},qi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Cn.zpp_pool,Cn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},qi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},qi.prototype.empty=function(){return null==this.head},qi.prototype.size=function(){return this.length},qi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},qi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},qi.prototype.front=function(){return this.head.elt},qi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},qi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},qi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},qi.prototype.__class__=qi,zpp_nape.util.ZNPList_ZPP_FluidArbiter=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Ji=(Zi.__name__=["zpp_nape","util","ZNPList_ZPP_FluidArbiter"],Zi.prototype.head=null,Zi.prototype.begin=function(){return this.head},Zi.prototype.modified=null,Zi.prototype.pushmod=null,Zi.prototype.length=null,Zi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Zi.prototype.add=function(e){null==Nn.zpp_pool?t=new Nn:(t=Nn.zpp_pool,Nn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Zi.prototype.inlined_add=function(e){null==Nn.zpp_pool?t=new Nn:(t=Nn.zpp_pool,Nn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Zi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Zi.prototype.insert=function(e,t){null==Nn.zpp_pool?i=new Nn:(i=Nn.zpp_pool,Nn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Zi.prototype.inlined_insert=function(e,t){null==Nn.zpp_pool?i=new Nn:(i=Nn.zpp_pool,Nn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Zi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Nn.zpp_pool,Nn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Zi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Nn.zpp_pool,Nn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Zi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Zi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Zi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Nn.zpp_pool,Nn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Zi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Zi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Nn.zpp_pool,Nn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Zi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Nn.zpp_pool,Nn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Zi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Nn.zpp_pool,Nn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Zi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Nn.zpp_pool,Nn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Zi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Zi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Nn.zpp_pool,Nn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Zi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Nn.zpp_pool,Nn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Zi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Zi.prototype.empty=function(){return null==this.head},Zi.prototype.size=function(){return this.length},Zi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Zi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Zi.prototype.front=function(){return this.head.elt},Zi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Zi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Zi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Zi.prototype.__class__=Zi,zpp_nape.util.ZNPList_ZPP_SensorArbiter=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Qi=(Ji.__name__=["zpp_nape","util","ZNPList_ZPP_SensorArbiter"],Ji.prototype.head=null,Ji.prototype.begin=function(){return this.head},Ji.prototype.modified=null,Ji.prototype.pushmod=null,Ji.prototype.length=null,Ji.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Ji.prototype.add=function(e){null==Un.zpp_pool?t=new Un:(t=Un.zpp_pool,Un.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ji.prototype.inlined_add=function(e){null==Un.zpp_pool?t=new Un:(t=Un.zpp_pool,Un.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Ji.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Ji.prototype.insert=function(e,t){null==Un.zpp_pool?i=new Un:(i=Un.zpp_pool,Un.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ji.prototype.inlined_insert=function(e,t){null==Un.zpp_pool?i=new Un:(i=Un.zpp_pool,Un.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Ji.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Un.zpp_pool,Un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ji.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Un.zpp_pool,Un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Ji.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ji.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Ji.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Un.zpp_pool,Un.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ji.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Ji.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Un.zpp_pool,Un.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Ji.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Un.zpp_pool,Un.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Ji.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Un.zpp_pool,Un.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ji.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Un.zpp_pool,Un.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Ji.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Ji.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Un.zpp_pool,Un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ji.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Un.zpp_pool,Un.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Ji.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Ji.prototype.empty=function(){return null==this.head},Ji.prototype.size=function(){return this.length},Ji.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ji.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Ji.prototype.front=function(){return this.head.elt},Ji.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Ji.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Ji.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Ji.prototype.__class__=Ji,zpp_nape.util.ZNPList_ZPP_Listener=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),$i=(Qi.__name__=["zpp_nape","util","ZNPList_ZPP_Listener"],Qi.prototype.head=null,Qi.prototype.begin=function(){return this.head},Qi.prototype.modified=null,Qi.prototype.pushmod=null,Qi.prototype.length=null,Qi.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},Qi.prototype.add=function(e){null==kn.zpp_pool?t=new kn:(t=kn.zpp_pool,kn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Qi.prototype.inlined_add=function(e){null==kn.zpp_pool?t=new kn:(t=kn.zpp_pool,kn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},Qi.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},Qi.prototype.insert=function(e,t){null==kn.zpp_pool?i=new kn:(i=kn.zpp_pool,kn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Qi.prototype.inlined_insert=function(e,t){null==kn.zpp_pool?i=new kn:(i=kn.zpp_pool,kn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},Qi.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=kn.zpp_pool,kn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Qi.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=kn.zpp_pool,kn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},Qi.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Qi.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},Qi.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=kn.zpp_pool,kn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Qi.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},Qi.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=kn.zpp_pool,kn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},Qi.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=kn.zpp_pool,kn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},Qi.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=kn.zpp_pool,kn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Qi.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=kn.zpp_pool,kn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},Qi.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},Qi.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=kn.zpp_pool,kn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Qi.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=kn.zpp_pool,kn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},Qi.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},Qi.prototype.empty=function(){return null==this.head},Qi.prototype.size=function(){return this.length},Qi.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Qi.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},Qi.prototype.front=function(){return this.head.elt},Qi.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},Qi.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},Qi.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},Qi.prototype.__class__=Qi,zpp_nape.util.ZNPList_ZPP_ColArbiter=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),en=($i.__name__=["zpp_nape","util","ZNPList_ZPP_ColArbiter"],$i.prototype.head=null,$i.prototype.begin=function(){return this.head},$i.prototype.modified=null,$i.prototype.pushmod=null,$i.prototype.length=null,$i.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},$i.prototype.add=function(e){null==Hn.zpp_pool?t=new Hn:(t=Hn.zpp_pool,Hn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},$i.prototype.inlined_add=function(e){null==Hn.zpp_pool?t=new Hn:(t=Hn.zpp_pool,Hn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},$i.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},$i.prototype.insert=function(e,t){null==Hn.zpp_pool?i=new Hn:(i=Hn.zpp_pool,Hn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},$i.prototype.inlined_insert=function(e,t){null==Hn.zpp_pool?i=new Hn:(i=Hn.zpp_pool,Hn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},$i.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Hn.zpp_pool,Hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},$i.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Hn.zpp_pool,Hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},$i.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},$i.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},$i.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Hn.zpp_pool,Hn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},$i.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},$i.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Hn.zpp_pool,Hn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},$i.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Hn.zpp_pool,Hn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},$i.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Hn.zpp_pool,Hn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},$i.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Hn.zpp_pool,Hn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},$i.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},$i.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Hn.zpp_pool,Hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},$i.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Hn.zpp_pool,Hn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},$i.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},$i.prototype.empty=function(){return null==this.head},$i.prototype.size=function(){return this.length},$i.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},$i.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},$i.prototype.front=function(){return this.head.elt},$i.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},$i.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},$i.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},$i.prototype.__class__=$i,zpp_nape.util.ZNPList_ZPP_InteractionGroup=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),tn=(en.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionGroup"],en.prototype.head=null,en.prototype.begin=function(){return this.head},en.prototype.modified=null,en.prototype.pushmod=null,en.prototype.length=null,en.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},en.prototype.add=function(e){null==Mn.zpp_pool?t=new Mn:(t=Mn.zpp_pool,Mn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},en.prototype.inlined_add=function(e){null==Mn.zpp_pool?t=new Mn:(t=Mn.zpp_pool,Mn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},en.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},en.prototype.insert=function(e,t){null==Mn.zpp_pool?i=new Mn:(i=Mn.zpp_pool,Mn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},en.prototype.inlined_insert=function(e,t){null==Mn.zpp_pool?i=new Mn:(i=Mn.zpp_pool,Mn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},en.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Mn.zpp_pool,Mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},en.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Mn.zpp_pool,Mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},en.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},en.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},en.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Mn.zpp_pool,Mn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},en.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},en.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Mn.zpp_pool,Mn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},en.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Mn.zpp_pool,Mn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},en.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Mn.zpp_pool,Mn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},en.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Mn.zpp_pool,Mn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},en.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},en.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Mn.zpp_pool,Mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},en.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Mn.zpp_pool,Mn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},en.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},en.prototype.empty=function(){return null==this.head},en.prototype.size=function(){return this.length},en.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},en.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},en.prototype.front=function(){return this.head.elt},en.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},en.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},en.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},en.prototype.__class__=en,zpp_nape.util.ZNPList_ZPP_ToiEvent=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),nn=(tn.__name__=["zpp_nape","util","ZNPList_ZPP_ToiEvent"],tn.prototype.head=null,tn.prototype.begin=function(){return this.head},tn.prototype.modified=null,tn.prototype.pushmod=null,tn.prototype.length=null,tn.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},tn.prototype.add=function(e){null==Vn.zpp_pool?t=new Vn:(t=Vn.zpp_pool,Vn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},tn.prototype.inlined_add=function(e){null==Vn.zpp_pool?t=new Vn:(t=Vn.zpp_pool,Vn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},tn.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},tn.prototype.insert=function(e,t){null==Vn.zpp_pool?i=new Vn:(i=Vn.zpp_pool,Vn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},tn.prototype.inlined_insert=function(e,t){null==Vn.zpp_pool?i=new Vn:(i=Vn.zpp_pool,Vn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},tn.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Vn.zpp_pool,Vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},tn.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Vn.zpp_pool,Vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},tn.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},tn.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},tn.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Vn.zpp_pool,Vn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},tn.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},tn.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Vn.zpp_pool,Vn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},tn.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Vn.zpp_pool,Vn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},tn.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Vn.zpp_pool,Vn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},tn.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Vn.zpp_pool,Vn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},tn.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},tn.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Vn.zpp_pool,Vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},tn.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Vn.zpp_pool,Vn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},tn.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},tn.prototype.empty=function(){return null==this.head},tn.prototype.size=function(){return this.length},tn.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},tn.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},tn.prototype.front=function(){return this.head.elt},tn.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},tn.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},tn.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},tn.prototype.__class__=tn,zpp_nape.util.ZNPList_ConvexResult=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),rn=(nn.__name__=["zpp_nape","util","ZNPList_ConvexResult"],nn.prototype.head=null,nn.prototype.begin=function(){return this.head},nn.prototype.modified=null,nn.prototype.pushmod=null,nn.prototype.length=null,nn.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},nn.prototype.add=function(e){null==Wn.zpp_pool?t=new Wn:(t=Wn.zpp_pool,Wn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},nn.prototype.inlined_add=function(e){null==Wn.zpp_pool?t=new Wn:(t=Wn.zpp_pool,Wn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},nn.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},nn.prototype.insert=function(e,t){null==Wn.zpp_pool?i=new Wn:(i=Wn.zpp_pool,Wn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},nn.prototype.inlined_insert=function(e,t){null==Wn.zpp_pool?i=new Wn:(i=Wn.zpp_pool,Wn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},nn.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Wn.zpp_pool,Wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},nn.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Wn.zpp_pool,Wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},nn.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},nn.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},nn.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Wn.zpp_pool,Wn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},nn.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},nn.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Wn.zpp_pool,Wn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},nn.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Wn.zpp_pool,Wn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},nn.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Wn.zpp_pool,Wn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},nn.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Wn.zpp_pool,Wn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},nn.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},nn.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Wn.zpp_pool,Wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},nn.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Wn.zpp_pool,Wn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},nn.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},nn.prototype.empty=function(){return null==this.head},nn.prototype.size=function(){return this.length},nn.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},nn.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},nn.prototype.front=function(){return this.head.elt},nn.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},nn.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},nn.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},nn.prototype.__class__=nn,zpp_nape.util.ZNPList_ZPP_GeomPoly=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),on=(rn.__name__=["zpp_nape","util","ZNPList_ZPP_GeomPoly"],rn.prototype.head=null,rn.prototype.begin=function(){return this.head},rn.prototype.modified=null,rn.prototype.pushmod=null,rn.prototype.length=null,rn.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},rn.prototype.add=function(e){null==qn.zpp_pool?t=new qn:(t=qn.zpp_pool,qn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},rn.prototype.inlined_add=function(e){null==qn.zpp_pool?t=new qn:(t=qn.zpp_pool,qn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},rn.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},rn.prototype.insert=function(e,t){null==qn.zpp_pool?i=new qn:(i=qn.zpp_pool,qn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},rn.prototype.inlined_insert=function(e,t){null==qn.zpp_pool?i=new qn:(i=qn.zpp_pool,qn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},rn.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=qn.zpp_pool,qn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},rn.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=qn.zpp_pool,qn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},rn.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},rn.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},rn.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=qn.zpp_pool,qn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},rn.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},rn.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=qn.zpp_pool,qn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},rn.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=qn.zpp_pool,qn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},rn.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=qn.zpp_pool,qn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},rn.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=qn.zpp_pool,qn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},rn.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},rn.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=qn.zpp_pool,qn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},rn.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=qn.zpp_pool,qn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},rn.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},rn.prototype.empty=function(){return null==this.head},rn.prototype.size=function(){return this.length},rn.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},rn.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},rn.prototype.front=function(){return this.head.elt},rn.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},rn.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},rn.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},rn.prototype.__class__=rn,zpp_nape.util.ZNPList_RayResult=function(){this.length=0,this.pushmod=!1,this.modified=!1,this.head=null}),Dt=(on.__name__=["zpp_nape","util","ZNPList_RayResult"],on.prototype.head=null,on.prototype.begin=function(){return this.head},on.prototype.modified=null,on.prototype.pushmod=null,on.prototype.length=null,on.prototype.setbegin=function(e){this.head=e,this.modified=!0,this.pushmod=!0},on.prototype.add=function(e){null==Xn.zpp_pool?t=new Xn:(t=Xn.zpp_pool,Xn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},on.prototype.inlined_add=function(e){null==Xn.zpp_pool?t=new Xn:(t=Xn.zpp_pool,Xn.zpp_pool=t.next,t.next=null),t.elt=e;var t;return t.next=this.head,this.head=t,this.modified=!0,this.length++,e},on.prototype.addAll=function(e){for(var t=e.head;null!=t;)this.add(t.elt),t=t.next},on.prototype.insert=function(e,t){null==Xn.zpp_pool?i=new Xn:(i=Xn.zpp_pool,Xn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},on.prototype.inlined_insert=function(e,t){null==Xn.zpp_pool?i=new Xn:(i=Xn.zpp_pool,Xn.zpp_pool=i.next,i.next=null),i.elt=t;var i,t=i;return null==e?(t.next=this.head,this.head=t):(t.next=e.next,e.next=t),this.pushmod=this.modified=!0,this.length++,t},on.prototype.pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Xn.zpp_pool,Xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},on.prototype.inlined_pop=function(){var e=this.head;this.head=e.next,e.elt=null,e.next=Xn.zpp_pool,Xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--},on.prototype.pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},on.prototype.inlined_pop_unsafe=function(){var e=this.head.elt;return this.pop(),e},on.prototype.remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Xn.zpp_pool,Xn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},on.prototype.try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){this.erase(t),n=!0;break}i=(t=i).next}return n},on.prototype.inlined_remove=function(e){for(var t=null,i=this.head;null!=i;){if(i.elt==e){null==t?(r=(n=this.head).next,this.head=r,null==this.head&&(this.pushmod=!0)):(r=(n=t.next).next,null==(t.next=r)&&(this.pushmod=!0));var n,r,o=n;o.elt=null,o.next=Xn.zpp_pool,Xn.zpp_pool=o,this.modified=!0,this.length--,this.pushmod=!0;break}i=(t=i).next}},on.prototype.inlined_try_remove=function(e){for(var t=null,i=this.head,n=!1;null!=i;){if(i.elt==e){null==t?(o=(r=this.head).next,this.head=o,null==this.head&&(this.pushmod=!0)):(o=(r=t.next).next,null==(t.next=o)&&(this.pushmod=!0));var r,o,a=r;a.elt=null,a.next=Xn.zpp_pool,Xn.zpp_pool=a,this.modified=!0,this.length--,n=this.pushmod=!0;break}i=(t=i).next}return n},on.prototype.erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Xn.zpp_pool,Xn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},on.prototype.inlined_erase=function(e){null==e?(i=(t=this.head).next,this.head=i,null==this.head&&(this.pushmod=!0)):(i=(t=e.next).next,null==(e.next=i)&&(this.pushmod=!0));var t,i,e=t;return e.elt=null,e.next=Xn.zpp_pool,Xn.zpp_pool=e,this.modified=!0,this.length--,this.pushmod=!0,i},on.prototype.splice=function(e,t){for(;0<t--&&null!=e.next;)this.erase(e);return e.next},on.prototype.clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Xn.zpp_pool,Xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},on.prototype.inlined_clear=function(){for(;null!=this.head;){var e=this.head;this.head=e.next,e.elt=null,e.next=Xn.zpp_pool,Xn.zpp_pool=e,null==this.head&&(this.pushmod=!0),this.modified=!0,this.length--}this.pushmod=!0},on.prototype.reverse=function(){for(var e=this.head,t=null;null!=e;){var i=e.next;e.next=t,t=this.head=e,e=i}this.modified=!0,this.pushmod=!0},on.prototype.empty=function(){return null==this.head},on.prototype.size=function(){return this.length},on.prototype.has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},on.prototype.inlined_has=function(e){for(var t=!1,i=this.head;null!=i;){if(i.elt==e){t=!0;break}i=i.next}return t},on.prototype.front=function(){return this.head.elt},on.prototype.back=function(){for(var e=this.head,t=e;null!=t;)t=(e=t).next;return e.elt},on.prototype.iterator_at=function(e){for(var t=this.head;0<e--&&null!=t;)t=t.next;return t},on.prototype.at=function(e){e=this.iterator_at(e);return null!=e?e.elt:null},on.prototype.__class__=on,zpp_nape.util.ZNPNode_ZPP_CbType=function(){this.elt=null,this.next=null}),an=(Dt.__name__=["zpp_nape","util","ZNPNode_ZPP_CbType"],Dt.prototype.next=null,Dt.prototype.alloc=function(){},Dt.prototype.free=function(){this.elt=null},Dt.prototype.elt=null,Dt.prototype.elem=function(){return this.elt},Dt.prototype.__class__=Dt,zpp_nape.util.ZNPNode_ZPP_CallbackSet=function(){this.elt=null,this.next=null}),sn=(an.__name__=["zpp_nape","util","ZNPNode_ZPP_CallbackSet"],an.prototype.next=null,an.prototype.alloc=function(){},an.prototype.free=function(){this.elt=null},an.prototype.elt=null,an.prototype.elem=function(){return this.elt},an.prototype.__class__=an,zpp_nape.util.ZNPNode_ZPP_Shape=function(){this.elt=null,this.next=null}),pn=(sn.__name__=["zpp_nape","util","ZNPNode_ZPP_Shape"],sn.prototype.next=null,sn.prototype.alloc=function(){},sn.prototype.free=function(){this.elt=null},sn.prototype.elt=null,sn.prototype.elem=function(){return this.elt},sn.prototype.__class__=sn,zpp_nape.util.ZNPNode_ZPP_Body=function(){this.elt=null,this.next=null}),ln=(pn.__name__=["zpp_nape","util","ZNPNode_ZPP_Body"],pn.prototype.next=null,pn.prototype.alloc=function(){},pn.prototype.free=function(){this.elt=null},pn.prototype.elt=null,pn.prototype.elem=function(){return this.elt},pn.prototype.__class__=pn,zpp_nape.util.ZNPNode_ZPP_Constraint=function(){this.elt=null,this.next=null}),hn=(ln.__name__=["zpp_nape","util","ZNPNode_ZPP_Constraint"],ln.prototype.next=null,ln.prototype.alloc=function(){},ln.prototype.free=function(){this.elt=null},ln.prototype.elt=null,ln.prototype.elem=function(){return this.elt},ln.prototype.__class__=ln,zpp_nape.util.ZNPNode_ZPP_Compound=function(){this.elt=null,this.next=null}),En=(hn.__name__=["zpp_nape","util","ZNPNode_ZPP_Compound"],hn.prototype.next=null,hn.prototype.alloc=function(){},hn.prototype.free=function(){this.elt=null},hn.prototype.elt=null,hn.prototype.elem=function(){return this.elt},hn.prototype.__class__=hn,zpp_nape.util.ZNPNode_ZPP_Arbiter=function(){this.elt=null,this.next=null}),In=(En.__name__=["zpp_nape","util","ZNPNode_ZPP_Arbiter"],En.prototype.next=null,En.prototype.alloc=function(){},En.prototype.free=function(){this.elt=null},En.prototype.elt=null,En.prototype.elem=function(){return this.elt},En.prototype.__class__=En,zpp_nape.util.ZNPNode_ZPP_InteractionListener=function(){this.elt=null,this.next=null}),jt=(In.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionListener"],In.prototype.next=null,In.prototype.alloc=function(){},In.prototype.free=function(){this.elt=null},In.prototype.elt=null,In.prototype.elem=function(){return this.elt},In.prototype.__class__=In,zpp_nape.util.ZNPNode_ZPP_CbSet=function(){this.elt=null,this.next=null}),Bn=(jt.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSet"],jt.prototype.next=null,jt.prototype.alloc=function(){},jt.prototype.free=function(){this.elt=null},jt.prototype.elt=null,jt.prototype.elem=function(){return this.elt},jt.prototype.__class__=jt,zpp_nape.util.ZNPNode_ZPP_Interactor=function(){this.elt=null,this.next=null}),un=(Bn.__name__=["zpp_nape","util","ZNPNode_ZPP_Interactor"],Bn.prototype.next=null,Bn.prototype.alloc=function(){},Bn.prototype.free=function(){this.elt=null},Bn.prototype.elt=null,Bn.prototype.elem=function(){return this.elt},Bn.prototype.__class__=Bn,zpp_nape.util.ZNPNode_ZPP_BodyListener=function(){this.elt=null,this.next=null}),dn=(un.__name__=["zpp_nape","util","ZNPNode_ZPP_BodyListener"],un.prototype.next=null,un.prototype.alloc=function(){},un.prototype.free=function(){this.elt=null},un.prototype.elt=null,un.prototype.elem=function(){return this.elt},un.prototype.__class__=un,zpp_nape.util.ZNPNode_ZPP_CbSetPair=function(){this.elt=null,this.next=null}),cn=(dn.__name__=["zpp_nape","util","ZNPNode_ZPP_CbSetPair"],dn.prototype.next=null,dn.prototype.alloc=function(){},dn.prototype.free=function(){this.elt=null},dn.prototype.elt=null,dn.prototype.elem=function(){return this.elt},dn.prototype.__class__=dn,zpp_nape.util.ZNPNode_ZPP_ConstraintListener=function(){this.elt=null,this.next=null}),mn=(cn.__name__=["zpp_nape","util","ZNPNode_ZPP_ConstraintListener"],cn.prototype.next=null,cn.prototype.alloc=function(){},cn.prototype.free=function(){this.elt=null},cn.prototype.elt=null,cn.prototype.elem=function(){return this.elt},cn.prototype.__class__=cn,zpp_nape.util.ZNPNode_ZPP_CutInt=function(){this.elt=null,this.next=null}),yn=(mn.__name__=["zpp_nape","util","ZNPNode_ZPP_CutInt"],mn.prototype.next=null,mn.prototype.alloc=function(){},mn.prototype.free=function(){this.elt=null},mn.prototype.elt=null,mn.prototype.elem=function(){return this.elt},mn.prototype.__class__=mn,zpp_nape.util.ZNPNode_ZPP_CutVert=function(){this.elt=null,this.next=null}),_n=(yn.__name__=["zpp_nape","util","ZNPNode_ZPP_CutVert"],yn.prototype.next=null,yn.prototype.alloc=function(){},yn.prototype.free=function(){this.elt=null},yn.prototype.elt=null,yn.prototype.elem=function(){return this.elt},yn.prototype.__class__=yn,zpp_nape.util.ZNPNode_ZPP_PartitionVertex=function(){this.elt=null,this.next=null}),xn=(_n.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionVertex"],_n.prototype.next=null,_n.prototype.alloc=function(){},_n.prototype.free=function(){this.elt=null},_n.prototype.elt=null,_n.prototype.elem=function(){return this.elt},_n.prototype.__class__=_n,zpp_nape.util.ZNPNode_ZPP_SimplifyP=function(){this.elt=null,this.next=null}),fn=(xn.__name__=["zpp_nape","util","ZNPNode_ZPP_SimplifyP"],xn.prototype.next=null,xn.prototype.alloc=function(){},xn.prototype.free=function(){this.elt=null},xn.prototype.elt=null,xn.prototype.elem=function(){return this.elt},xn.prototype.__class__=xn,zpp_nape.util.ZNPNode_ZPP_PartitionedPoly=function(){this.elt=null,this.next=null}),gn=(fn.__name__=["zpp_nape","util","ZNPNode_ZPP_PartitionedPoly"],fn.prototype.next=null,fn.prototype.alloc=function(){},fn.prototype.free=function(){this.elt=null},fn.prototype.elt=null,fn.prototype.elem=function(){return this.elt},fn.prototype.__class__=fn,zpp_nape.util.ZNPNode_ZPP_GeomVert=function(){this.elt=null,this.next=null}),vn=(gn.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomVert"],gn.prototype.next=null,gn.prototype.alloc=function(){},gn.prototype.free=function(){this.elt=null},gn.prototype.elt=null,gn.prototype.elem=function(){return this.elt},gn.prototype.__class__=gn,zpp_nape.util.ZNPNode_ZPP_SimpleVert=function(){this.elt=null,this.next=null}),zn=(vn.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleVert"],vn.prototype.next=null,vn.prototype.alloc=function(){},vn.prototype.free=function(){this.elt=null},vn.prototype.elt=null,vn.prototype.elem=function(){return this.elt},vn.prototype.__class__=vn,zpp_nape.util.ZNPNode_ZPP_SimpleEvent=function(){this.elt=null,this.next=null}),bn=(zn.__name__=["zpp_nape","util","ZNPNode_ZPP_SimpleEvent"],zn.prototype.next=null,zn.prototype.alloc=function(){},zn.prototype.free=function(){this.elt=null},zn.prototype.elt=null,zn.prototype.elem=function(){return this.elt},zn.prototype.__class__=zn,zpp_nape.util.ZNPNode_ZPP_Vec2=function(){this.elt=null,this.next=null}),Ft=(bn.__name__=["zpp_nape","util","ZNPNode_ZPP_Vec2"],bn.prototype.next=null,bn.prototype.alloc=function(){},bn.prototype.free=function(){this.elt=null},bn.prototype.elt=null,bn.prototype.elem=function(){return this.elt},bn.prototype.__class__=bn,zpp_nape.util.ZNPNode_ZPP_AABBPair=function(){this.elt=null,this.next=null}),wn=(Ft.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBPair"],Ft.prototype.next=null,Ft.prototype.alloc=function(){},Ft.prototype.free=function(){this.elt=null},Ft.prototype.elt=null,Ft.prototype.elem=function(){return this.elt},Ft.prototype.__class__=Ft,zpp_nape.util.ZNPNode_ZPP_Edge=function(){this.elt=null,this.next=null}),Sn=(wn.__name__=["zpp_nape","util","ZNPNode_ZPP_Edge"],wn.prototype.next=null,wn.prototype.alloc=function(){},wn.prototype.free=function(){this.elt=null},wn.prototype.elt=null,wn.prototype.elem=function(){return this.elt},wn.prototype.__class__=wn,zpp_nape.util.ZNPNode_ZPP_AABBNode=function(){this.elt=null,this.next=null}),Cn=(Sn.__name__=["zpp_nape","util","ZNPNode_ZPP_AABBNode"],Sn.prototype.next=null,Sn.prototype.alloc=function(){},Sn.prototype.free=function(){this.elt=null},Sn.prototype.elt=null,Sn.prototype.elem=function(){return this.elt},Sn.prototype.__class__=Sn,zpp_nape.util.ZNPNode_ZPP_Component=function(){this.elt=null,this.next=null}),Nn=(Cn.__name__=["zpp_nape","util","ZNPNode_ZPP_Component"],Cn.prototype.next=null,Cn.prototype.alloc=function(){},Cn.prototype.free=function(){this.elt=null},Cn.prototype.elt=null,Cn.prototype.elem=function(){return this.elt},Cn.prototype.__class__=Cn,zpp_nape.util.ZNPNode_ZPP_FluidArbiter=function(){this.elt=null,this.next=null}),Un=(Nn.__name__=["zpp_nape","util","ZNPNode_ZPP_FluidArbiter"],Nn.prototype.next=null,Nn.prototype.alloc=function(){},Nn.prototype.free=function(){this.elt=null},Nn.prototype.elt=null,Nn.prototype.elem=function(){return this.elt},Nn.prototype.__class__=Nn,zpp_nape.util.ZNPNode_ZPP_SensorArbiter=function(){this.elt=null,this.next=null}),kn=(Un.__name__=["zpp_nape","util","ZNPNode_ZPP_SensorArbiter"],Un.prototype.next=null,Un.prototype.alloc=function(){},Un.prototype.free=function(){this.elt=null},Un.prototype.elt=null,Un.prototype.elem=function(){return this.elt},Un.prototype.__class__=Un,zpp_nape.util.ZNPNode_ZPP_Listener=function(){this.elt=null,this.next=null}),Hn=(kn.__name__=["zpp_nape","util","ZNPNode_ZPP_Listener"],kn.prototype.next=null,kn.prototype.alloc=function(){},kn.prototype.free=function(){this.elt=null},kn.prototype.elt=null,kn.prototype.elem=function(){return this.elt},kn.prototype.__class__=kn,zpp_nape.util.ZNPNode_ZPP_ColArbiter=function(){this.elt=null,this.next=null}),Mn=(Hn.__name__=["zpp_nape","util","ZNPNode_ZPP_ColArbiter"],Hn.prototype.next=null,Hn.prototype.alloc=function(){},Hn.prototype.free=function(){this.elt=null},Hn.prototype.elt=null,Hn.prototype.elem=function(){return this.elt},Hn.prototype.__class__=Hn,zpp_nape.util.ZNPNode_ZPP_InteractionGroup=function(){this.elt=null,this.next=null}),Vn=(Mn.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionGroup"],Mn.prototype.next=null,Mn.prototype.alloc=function(){},Mn.prototype.free=function(){this.elt=null},Mn.prototype.elt=null,Mn.prototype.elem=function(){return this.elt},Mn.prototype.__class__=Mn,zpp_nape.util.ZNPNode_ZPP_ToiEvent=function(){this.elt=null,this.next=null}),Wn=(Vn.__name__=["zpp_nape","util","ZNPNode_ZPP_ToiEvent"],Vn.prototype.next=null,Vn.prototype.alloc=function(){},Vn.prototype.free=function(){this.elt=null},Vn.prototype.elt=null,Vn.prototype.elem=function(){return this.elt},Vn.prototype.__class__=Vn,zpp_nape.util.ZNPNode_ConvexResult=function(){this.elt=null,this.next=null}),qn=(Wn.__name__=["zpp_nape","util","ZNPNode_ConvexResult"],Wn.prototype.next=null,Wn.prototype.alloc=function(){},Wn.prototype.free=function(){this.elt=null},Wn.prototype.elt=null,Wn.prototype.elem=function(){return this.elt},Wn.prototype.__class__=Wn,zpp_nape.util.ZNPNode_ZPP_GeomPoly=function(){this.elt=null,this.next=null}),Xn=(qn.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomPoly"],qn.prototype.next=null,qn.prototype.alloc=function(){},qn.prototype.free=function(){this.elt=null},qn.prototype.elt=null,qn.prototype.elem=function(){return this.elt},qn.prototype.__class__=qn,zpp_nape.util.ZNPNode_RayResult=function(){this.elt=null,this.next=null}),Yn=(Xn.__name__=["zpp_nape","util","ZNPNode_RayResult"],Xn.prototype.next=null,Xn.prototype.alloc=function(){},Xn.prototype.free=function(){this.elt=null},Xn.prototype.elt=null,Xn.prototype.elem=function(){return this.elt},Xn.prototype.__class__=Xn,zpp_nape.util.ZPP_MixVec2List=function(){this.at_index=0,this.at_ite=null,this.zip_length=!1,this._length=0,this.inner=null,te.call(this),this.at_ite=null,this.at_index=0,this.zip_length=!0,this._length=0}),Kn=(Yn.__name__=["zpp_nape","util","ZPP_MixVec2List"],Yn.__super__=te,Yn.prototype=Object.create(te.prototype),Yn.get=function(e,t){null==t&&(t=!1);var i=new Yn;return i.inner=e,i.zpp_inner.immutable=t,i},Yn.prototype.inner=null,Yn.prototype._length=null,Yn.prototype.zip_length=null,Yn.prototype.at_ite=null,Yn.prototype.at_index=null,Yn.prototype.zpp_gl=function(){if(this.zpp_vm(),this.zip_length){this._length=0;for(var e=this.inner.next;null!=e;)this._length++,e=e.next;this.zip_length=!1}return this._length},Yn.prototype.zpp_vm=function(){this.zpp_inner.validate(),this.inner.modified&&(this.zip_length=!0,this._length=0,this.at_ite=null)},Yn.prototype.at=function(e){if(this.zpp_vm(),(e=this.zpp_inner.reverse_flag?this.zpp_gl()-1-e:e)<this.at_index||null==this.at_ite)for(this.at_index=0,this.at_ite=this.inner.next;;)break;for(;this.at_index!=e;)for(this.at_index++,this.at_ite=this.at_ite.next;;)break;var t,i=this.at_ite;return null==i.outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),i.outer},Yn.prototype.push=function(e){this.zpp_inner.modify_test(),this.zpp_vm();var t=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return t&&(this.zpp_inner.reverse_flag?this.inner.add(e.zpp_inner):this.inner.insert(this.inner.iterator_at(this.zpp_gl()-1),e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),t},Yn.prototype.unshift=function(e){this.zpp_inner.modify_test(),this.zpp_vm();var t=null==this.zpp_inner.adder||this.zpp_inner.adder(e);return t&&(this.zpp_inner.reverse_flag?this.inner.insert(this.inner.iterator_at(this.zpp_gl()-1),e.zpp_inner):this.inner.add(e.zpp_inner),this.zpp_inner.invalidate(),null!=this.zpp_inner.post_adder&&this.zpp_inner.post_adder(e)),t},Yn.prototype.pop=function(){this.zpp_inner.modify_test(),this.zpp_vm();var e,t,i=null;return this.zpp_inner.reverse_flag?(null==(i=this.inner.next).outer&&(i.outer=new xe,null!=(e=i.outer.zpp_inner).outer&&(e.outer.zpp_inner=null,e.outer=null),e._isimmutable=null,e._validate=null,e._invalidate=null,e.next=cr.zpp_pool,cr.zpp_pool=e,i.outer.zpp_inner=i),e=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.inner.pop()):(null!=this.at_ite&&null==this.at_ite.next&&(this.at_ite=null),null==(i=(null==(e=1==this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2))?this.inner:e).next).outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),t=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.inner.erase(e)),this.zpp_inner.invalidate(),null==i.outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),i.outer},Yn.prototype.shift=function(){this.zpp_inner.modify_test(),this.zpp_vm();var e,t,i=null;return this.zpp_inner.reverse_flag?(null!=this.at_ite&&null==this.at_ite.next&&(this.at_ite=null),null==(i=(null==(e=1==this.zpp_gl()?null:this.inner.iterator_at(this.zpp_gl()-2))?this.inner:e).next).outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),t=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(t),this.zpp_inner.dontremove||this.inner.erase(e)):(null==(i=this.inner.next).outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),e=i.outer,null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.inner.pop()),this.zpp_inner.invalidate(),null==i.outer&&(i.outer=new xe,null!=(t=i.outer.zpp_inner).outer&&(t.outer.zpp_inner=null,t.outer=null),t._isimmutable=null,t._validate=null,t._invalidate=null,t.next=cr.zpp_pool,cr.zpp_pool=t,i.outer.zpp_inner=i),i.outer},Yn.prototype.remove=function(e){this.zpp_inner.modify_test(),this.zpp_vm(),t=!1;for(var t,i=this.inner.next;null!=i;){if(e.zpp_inner==i){t=!0;break}i=i.next}return t&&(null!=this.zpp_inner.subber&&this.zpp_inner.subber(e),this.zpp_inner.dontremove||this.inner.remove(e.zpp_inner),this.zpp_inner.invalidate()),t},Yn.prototype.clear=function(){if(this.zpp_inner.reverse_flag)for(;!this.empty();)this.pop();else for(;!this.empty();)this.shift()},Yn.prototype.__class__=Yn,zpp_nape.util.ZPP_ConstraintList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Ge,this._invalidated=!0}),Zn=(Kn.__name__=["zpp_nape","util","ZPP_ConstraintList"],Kn.get=function(e,t){null==t&&(t=!1);var i=new P;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},Kn.prototype.outer=null,Kn.prototype.inner=null,Kn.prototype.immutable=null,Kn.prototype._invalidated=null,Kn.prototype._invalidate=null,Kn.prototype._validate=null,Kn.prototype._modifiable=null,Kn.prototype.adder=null,Kn.prototype.post_adder=null,Kn.prototype.subber=null,Kn.prototype.dontremove=null,Kn.prototype.reverse_flag=null,Kn.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},Kn.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},Kn.prototype.modify_test=function(){},Kn.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},Kn.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},Kn.prototype.at_index=null,Kn.prototype.at_ite=null,Kn.prototype.push_ite=null,Kn.prototype.zip_length=null,Kn.prototype.user_length=null,Kn.prototype.__class__=Kn,zpp_nape.util.ZPP_BodyList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Gi,this._invalidated=!0}),Jn=(Zn.__name__=["zpp_nape","util","ZPP_BodyList"],Zn.get=function(e,t){null==t&&(t=!1);var i=new re;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},Zn.prototype.outer=null,Zn.prototype.inner=null,Zn.prototype.immutable=null,Zn.prototype._invalidated=null,Zn.prototype._invalidate=null,Zn.prototype._validate=null,Zn.prototype._modifiable=null,Zn.prototype.adder=null,Zn.prototype.post_adder=null,Zn.prototype.subber=null,Zn.prototype.dontremove=null,Zn.prototype.reverse_flag=null,Zn.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},Zn.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},Zn.prototype.modify_test=function(){},Zn.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},Zn.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},Zn.prototype.at_index=null,Zn.prototype.at_ite=null,Zn.prototype.push_ite=null,Zn.prototype.zip_length=null,Zn.prototype.user_length=null,Zn.prototype.__class__=Zn,zpp_nape.util.ZPP_InteractorList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Ae,this._invalidated=!0}),Qn=(Jn.__name__=["zpp_nape","util","ZPP_InteractorList"],Jn.get=function(e,t){null==t&&(t=!1);var i=new ue;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},Jn.prototype.outer=null,Jn.prototype.inner=null,Jn.prototype.immutable=null,Jn.prototype._invalidated=null,Jn.prototype._invalidate=null,Jn.prototype._validate=null,Jn.prototype._modifiable=null,Jn.prototype.adder=null,Jn.prototype.post_adder=null,Jn.prototype.subber=null,Jn.prototype.dontremove=null,Jn.prototype.reverse_flag=null,Jn.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},Jn.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},Jn.prototype.modify_test=function(){},Jn.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},Jn.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},Jn.prototype.at_index=null,Jn.prototype.at_ite=null,Jn.prototype.push_ite=null,Jn.prototype.zip_length=null,Jn.prototype.user_length=null,Jn.prototype.__class__=Jn,zpp_nape.util.ZPP_CompoundList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Ai,this._invalidated=!0}),$n=(Qn.__name__=["zpp_nape","util","ZPP_CompoundList"],Qn.get=function(e,t){null==t&&(t=!1);var i=new se;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},Qn.prototype.outer=null,Qn.prototype.inner=null,Qn.prototype.immutable=null,Qn.prototype._invalidated=null,Qn.prototype._invalidate=null,Qn.prototype._validate=null,Qn.prototype._modifiable=null,Qn.prototype.adder=null,Qn.prototype.post_adder=null,Qn.prototype.subber=null,Qn.prototype.dontremove=null,Qn.prototype.reverse_flag=null,Qn.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},Qn.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},Qn.prototype.modify_test=function(){},Qn.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},Qn.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},Qn.prototype.at_index=null,Qn.prototype.at_ite=null,Qn.prototype.push_ite=null,Qn.prototype.zip_length=null,Qn.prototype.user_length=null,Qn.prototype.__class__=Qn,zpp_nape.util.ZPP_ListenerList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Qi,this._invalidated=!0}),er=($n.__name__=["zpp_nape","util","ZPP_ListenerList"],$n.get=function(e,t){null==t&&(t=!1);var i=new w;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},$n.prototype.outer=null,$n.prototype.inner=null,$n.prototype.immutable=null,$n.prototype._invalidated=null,$n.prototype._invalidate=null,$n.prototype._validate=null,$n.prototype._modifiable=null,$n.prototype.adder=null,$n.prototype.post_adder=null,$n.prototype.subber=null,$n.prototype.dontremove=null,$n.prototype.reverse_flag=null,$n.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},$n.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},$n.prototype.modify_test=function(){},$n.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},$n.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},$n.prototype.at_index=null,$n.prototype.at_ite=null,$n.prototype.push_ite=null,$n.prototype.zip_length=null,$n.prototype.user_length=null,$n.prototype.__class__=$n,zpp_nape.util.ZPP_CbTypeList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Re,this._invalidated=!0}),tr=(er.__name__=["zpp_nape","util","ZPP_CbTypeList"],er.get=function(e,t){null==t&&(t=!1);var i=new v;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},er.prototype.outer=null,er.prototype.inner=null,er.prototype.immutable=null,er.prototype._invalidated=null,er.prototype._invalidate=null,er.prototype._validate=null,er.prototype._modifiable=null,er.prototype.adder=null,er.prototype.post_adder=null,er.prototype.subber=null,er.prototype.dontremove=null,er.prototype.reverse_flag=null,er.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},er.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},er.prototype.modify_test=function(){},er.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},er.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},er.prototype.at_index=null,er.prototype.at_ite=null,er.prototype.push_ite=null,er.prototype.zip_length=null,er.prototype.user_length=null,er.prototype.__class__=er,zpp_nape.util.ZPP_Vec2List=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new St,this._invalidated=!0}),ir=(tr.__name__=["zpp_nape","util","ZPP_Vec2List"],tr.get=function(e,t){null==t&&(t=!1);var i=new te;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},tr.prototype.outer=null,tr.prototype.inner=null,tr.prototype.immutable=null,tr.prototype._invalidated=null,tr.prototype._invalidate=null,tr.prototype._validate=null,tr.prototype._modifiable=null,tr.prototype.adder=null,tr.prototype.post_adder=null,tr.prototype.subber=null,tr.prototype.dontremove=null,tr.prototype.reverse_flag=null,tr.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},tr.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},tr.prototype.modify_test=function(){},tr.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},tr.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},tr.prototype.at_index=null,tr.prototype.at_ite=null,tr.prototype.push_ite=null,tr.prototype.zip_length=null,tr.prototype.user_length=null,tr.prototype.__class__=tr,zpp_nape.util.ZPP_GeomPolyList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new rn,this._invalidated=!0}),nr=(ir.__name__=["zpp_nape","util","ZPP_GeomPolyList"],ir.get=function(e,t){null==t&&(t=!1);var i=new xi;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},ir.prototype.outer=null,ir.prototype.inner=null,ir.prototype.immutable=null,ir.prototype._invalidated=null,ir.prototype._invalidate=null,ir.prototype._validate=null,ir.prototype._modifiable=null,ir.prototype.adder=null,ir.prototype.post_adder=null,ir.prototype.subber=null,ir.prototype.dontremove=null,ir.prototype.reverse_flag=null,ir.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},ir.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},ir.prototype.modify_test=function(){},ir.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},ir.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},ir.prototype.at_index=null,ir.prototype.at_ite=null,ir.prototype.push_ite=null,ir.prototype.zip_length=null,ir.prototype.user_length=null,ir.prototype.__class__=ir,zpp_nape.util.ZPP_RayResultList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new on,this._invalidated=!0}),rr=(nr.__name__=["zpp_nape","util","ZPP_RayResultList"],nr.get=function(e,t){null==t&&(t=!1);var i=new ee;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},nr.prototype.outer=null,nr.prototype.inner=null,nr.prototype.immutable=null,nr.prototype._invalidated=null,nr.prototype._invalidate=null,nr.prototype._validate=null,nr.prototype._modifiable=null,nr.prototype.adder=null,nr.prototype.post_adder=null,nr.prototype.subber=null,nr.prototype.dontremove=null,nr.prototype.reverse_flag=null,nr.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},nr.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},nr.prototype.modify_test=function(){},nr.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},nr.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},nr.prototype.at_index=null,nr.prototype.at_ite=null,nr.prototype.push_ite=null,nr.prototype.zip_length=null,nr.prototype.user_length=null,nr.prototype.__class__=nr,zpp_nape.util.ZPP_ConvexResultList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new nn,this._invalidated=!0}),or=(rr.__name__=["zpp_nape","util","ZPP_ConvexResultList"],rr.get=function(e,t){null==t&&(t=!1);var i=new fe;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},rr.prototype.outer=null,rr.prototype.inner=null,rr.prototype.immutable=null,rr.prototype._invalidated=null,rr.prototype._invalidate=null,rr.prototype._validate=null,rr.prototype._modifiable=null,rr.prototype.adder=null,rr.prototype.post_adder=null,rr.prototype.subber=null,rr.prototype.dontremove=null,rr.prototype.reverse_flag=null,rr.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},rr.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},rr.prototype.modify_test=function(){},rr.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},rr.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},rr.prototype.at_index=null,rr.prototype.at_ite=null,rr.prototype.push_ite=null,rr.prototype.zip_length=null,rr.prototype.user_length=null,rr.prototype.__class__=rr,zpp_nape.util.ZPP_EdgeList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Vi,this._invalidated=!0}),ar=(or.__name__=["zpp_nape","util","ZPP_EdgeList"],or.get=function(e,t){null==t&&(t=!1);var i=new ve;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},or.prototype.outer=null,or.prototype.inner=null,or.prototype.immutable=null,or.prototype._invalidated=null,or.prototype._invalidate=null,or.prototype._validate=null,or.prototype._modifiable=null,or.prototype.adder=null,or.prototype.post_adder=null,or.prototype.subber=null,or.prototype.dontremove=null,or.prototype.reverse_flag=null,or.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},or.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},or.prototype.modify_test=function(){},or.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},or.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},or.prototype.at_index=null,or.prototype.at_ite=null,or.prototype.push_ite=null,or.prototype.zip_length=null,or.prototype.user_length=null,or.prototype.__class__=or,zpp_nape.util.ZPP_ShapeList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Ti,this._invalidated=!0}),sr=(ar.__name__=["zpp_nape","util","ZPP_ShapeList"],ar.get=function(e,t){null==t&&(t=!1);var i=new be;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},ar.prototype.outer=null,ar.prototype.inner=null,ar.prototype.immutable=null,ar.prototype._invalidated=null,ar.prototype._invalidate=null,ar.prototype._validate=null,ar.prototype._modifiable=null,ar.prototype.adder=null,ar.prototype.post_adder=null,ar.prototype.subber=null,ar.prototype.dontremove=null,ar.prototype.reverse_flag=null,ar.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},ar.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},ar.prototype.modify_test=function(){},ar.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},ar.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},ar.prototype.at_index=null,ar.prototype.at_ite=null,ar.prototype.push_ite=null,ar.prototype.zip_length=null,ar.prototype.user_length=null,ar.prototype.__class__=ar,zpp_nape.util.ZPP_InteractionGroupList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new en,this._invalidated=!0}),pr=(sr.__name__=["zpp_nape","util","ZPP_InteractionGroupList"],sr.get=function(e,t){null==t&&(t=!1);var i=new W;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},sr.prototype.outer=null,sr.prototype.inner=null,sr.prototype.immutable=null,sr.prototype._invalidated=null,sr.prototype._invalidate=null,sr.prototype._validate=null,sr.prototype._modifiable=null,sr.prototype.adder=null,sr.prototype.post_adder=null,sr.prototype.subber=null,sr.prototype.dontremove=null,sr.prototype.reverse_flag=null,sr.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},sr.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},sr.prototype.modify_test=function(){},sr.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},sr.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},sr.prototype.at_index=null,sr.prototype.at_ite=null,sr.prototype.push_ite=null,sr.prototype.zip_length=null,sr.prototype.user_length=null,sr.prototype.__class__=sr,zpp_nape.util.ZPP_ArbiterList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new Ei,this._invalidated=!0}),lr=(pr.__name__=["zpp_nape","util","ZPP_ArbiterList"],pr.get=function(e,t){null==t&&(t=!1);var i=new D;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},pr.prototype.outer=null,pr.prototype.inner=null,pr.prototype.immutable=null,pr.prototype._invalidated=null,pr.prototype._invalidate=null,pr.prototype._validate=null,pr.prototype._modifiable=null,pr.prototype.adder=null,pr.prototype.post_adder=null,pr.prototype.subber=null,pr.prototype.dontremove=null,pr.prototype.reverse_flag=null,pr.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},pr.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},pr.prototype.modify_test=function(){},pr.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},pr.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},pr.prototype.at_index=null,pr.prototype.at_ite=null,pr.prototype.push_ite=null,pr.prototype.zip_length=null,pr.prototype.user_length=null,pr.prototype.__class__=pr,zpp_nape.util.ZPP_ContactList=function(){this.user_length=0,this.zip_length=!1,this.push_ite=null,this.at_ite=null,this.at_index=0,this.reverse_flag=!1,this.dontremove=!1,this.subber=null,this.post_adder=null,this.adder=null,this._modifiable=null,this._validate=null,this._invalidate=null,this._invalidated=!1,this.immutable=!1,this.inner=null,this.outer=null,this.inner=new An,this._invalidated=!0}),ti=(lr.__name__=["zpp_nape","util","ZPP_ContactList"],lr.get=function(e,t){null==t&&(t=!1);var i=new U;return i.zpp_inner.inner=e,t&&(i.zpp_inner.immutable=!0),i.zpp_inner.zip_length=!0,i},lr.prototype.outer=null,lr.prototype.inner=null,lr.prototype.immutable=null,lr.prototype._invalidated=null,lr.prototype._invalidate=null,lr.prototype._validate=null,lr.prototype._modifiable=null,lr.prototype.adder=null,lr.prototype.post_adder=null,lr.prototype.subber=null,lr.prototype.dontremove=null,lr.prototype.reverse_flag=null,lr.prototype.valmod=function(){this.validate(),this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},lr.prototype.modified=function(){this.zip_length=!0,this.at_ite=null,this.push_ite=null},lr.prototype.modify_test=function(){},lr.prototype.validate=function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},lr.prototype.invalidate=function(){this._invalidated=!0,null!=this._invalidate&&this._invalidate(this)},lr.prototype.at_index=null,lr.prototype.at_ite=null,lr.prototype.push_ite=null,lr.prototype.zip_length=null,lr.prototype.user_length=null,lr.prototype.__class__=lr,zpp_nape.util.ZPP_Math=function(){}),yi=(ti.__name__=["zpp_nape","util","ZPP_Math"],ti.sqrt=function(e){return Math.sqrt(e)},ti.invsqrt=function(e){return 1/Math.sqrt(e)},ti.sqr=function(e){return e*e},ti.clamp2=function(e,t){var i=-t;return e<i?i:t<e?t:e},ti.clamp=function(e,t,i){return e<t?t:i<e?i:e},ti.prototype.__class__=ti,zpp_nape.util.ZPP_PubPool=function(){}),We=(yi.__name__=["zpp_nape","util","ZPP_PubPool"],yi.prototype.__class__=yi,zpp_nape.util.ZPP_Set_ZPP_Body=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),Ut=(We.__name__=["zpp_nape","util","ZPP_Set_ZPP_Body"],We.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},We.prototype.alloc=function(){},We.prototype.lt=null,We.prototype.swapped=null,We.prototype.data=null,We.prototype.prev=null,We.prototype.next=null,We.prototype.parent=null,We.prototype.colour=null,We.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},We.prototype.empty=function(){return null==this.parent},We.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},We.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},We.prototype.has=function(e){return null!=this.find(e)},We.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},We.prototype.has_weak=function(e){return null!=this.find_weak(e)},We.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},We.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},We.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},We.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},We.prototype.remove=function(e){this.remove_node(this.find(e))},We.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},We.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},We.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},We.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},We.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=We.zpp_pool,We.zpp_pool=i},We.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=We.zpp_pool,We.zpp_pool=t,e);this.parent=null}},We.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=We.zpp_pool,We.zpp_pool=i,t);this.parent=null}},We.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=We.zpp_pool,We.zpp_pool=e,t},We.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},We.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},We.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==We.zpp_pool?t=new We:(t=We.zpp_pool,We.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==We.zpp_pool?t=new We:(t=We.zpp_pool,We.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==We.zpp_pool?t=new We:(t=We.zpp_pool,We.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},We.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==We.zpp_pool?t=new We:(t=We.zpp_pool,We.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==We.zpp_pool?t=new We:(t=We.zpp_pool,We.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==We.zpp_pool?t=new We:(t=We.zpp_pool,We.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},We.prototype.insert=function(e){var t;if(null==We.zpp_pool?t=new We:(t=We.zpp_pool,We.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},We.prototype.__class__=We,zpp_nape.util.ZPP_Set_ZPP_CbSetPair=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),qe=(Ut.__name__=["zpp_nape","util","ZPP_Set_ZPP_CbSetPair"],Ut.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},Ut.prototype.alloc=function(){},Ut.prototype.lt=null,Ut.prototype.swapped=null,Ut.prototype.data=null,Ut.prototype.prev=null,Ut.prototype.next=null,Ut.prototype.parent=null,Ut.prototype.colour=null,Ut.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},Ut.prototype.empty=function(){return null==this.parent},Ut.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},Ut.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},Ut.prototype.has=function(e){return null!=this.find(e)},Ut.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},Ut.prototype.has_weak=function(e){return null!=this.find_weak(e)},Ut.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},Ut.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},Ut.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},Ut.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},Ut.prototype.remove=function(e){this.remove_node(this.find(e))},Ut.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},Ut.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},Ut.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},Ut.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},Ut.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=Ut.zpp_pool,Ut.zpp_pool=i},Ut.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=Ut.zpp_pool,Ut.zpp_pool=t,e);this.parent=null}},Ut.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=Ut.zpp_pool,Ut.zpp_pool=i,t);this.parent=null}},Ut.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=Ut.zpp_pool,Ut.zpp_pool=e,t},Ut.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},Ut.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},Ut.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==Ut.zpp_pool?t=new Ut:(t=Ut.zpp_pool,Ut.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Ut.zpp_pool?t=new Ut:(t=Ut.zpp_pool,Ut.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Ut.zpp_pool?t=new Ut:(t=Ut.zpp_pool,Ut.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},Ut.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==Ut.zpp_pool?t=new Ut:(t=Ut.zpp_pool,Ut.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Ut.zpp_pool?t=new Ut:(t=Ut.zpp_pool,Ut.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Ut.zpp_pool?t=new Ut:(t=Ut.zpp_pool,Ut.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},Ut.prototype.insert=function(e){var t;if(null==Ut.zpp_pool?t=new Ut:(t=Ut.zpp_pool,Ut.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},Ut.prototype.__class__=Ut,zpp_nape.util.ZPP_Set_ZPP_PartitionVertex=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),Xe=(qe.__name__=["zpp_nape","util","ZPP_Set_ZPP_PartitionVertex"],qe.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},qe.prototype.alloc=function(){},qe.prototype.lt=null,qe.prototype.swapped=null,qe.prototype.data=null,qe.prototype.prev=null,qe.prototype.next=null,qe.prototype.parent=null,qe.prototype.colour=null,qe.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},qe.prototype.empty=function(){return null==this.parent},qe.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},qe.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},qe.prototype.has=function(e){return null!=this.find(e)},qe.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},qe.prototype.has_weak=function(e){return null!=this.find_weak(e)},qe.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},qe.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},qe.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},qe.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},qe.prototype.remove=function(e){this.remove_node(this.find(e))},qe.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},qe.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},qe.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},qe.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},qe.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=qe.zpp_pool,qe.zpp_pool=i},qe.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=qe.zpp_pool,qe.zpp_pool=t,e);this.parent=null}},qe.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=qe.zpp_pool,qe.zpp_pool=i,t);this.parent=null}},qe.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=qe.zpp_pool,qe.zpp_pool=e,t},qe.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},qe.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},qe.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==qe.zpp_pool?t=new qe:(t=qe.zpp_pool,qe.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==qe.zpp_pool?t=new qe:(t=qe.zpp_pool,qe.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==qe.zpp_pool?t=new qe:(t=qe.zpp_pool,qe.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},qe.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==qe.zpp_pool?t=new qe:(t=qe.zpp_pool,qe.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==qe.zpp_pool?t=new qe:(t=qe.zpp_pool,qe.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==qe.zpp_pool?t=new qe:(t=qe.zpp_pool,qe.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},qe.prototype.insert=function(e){var t;if(null==qe.zpp_pool?t=new qe:(t=qe.zpp_pool,qe.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},qe.prototype.__class__=qe,zpp_nape.util.ZPP_Set_ZPP_PartitionPair=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),Ye=(Xe.__name__=["zpp_nape","util","ZPP_Set_ZPP_PartitionPair"],Xe.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},Xe.prototype.alloc=function(){},Xe.prototype.lt=null,Xe.prototype.swapped=null,Xe.prototype.data=null,Xe.prototype.prev=null,Xe.prototype.next=null,Xe.prototype.parent=null,Xe.prototype.colour=null,Xe.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},Xe.prototype.empty=function(){return null==this.parent},Xe.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},Xe.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},Xe.prototype.has=function(e){return null!=this.find(e)},Xe.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},Xe.prototype.has_weak=function(e){return null!=this.find_weak(e)},Xe.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},Xe.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},Xe.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},Xe.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},Xe.prototype.remove=function(e){this.remove_node(this.find(e))},Xe.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},Xe.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},Xe.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},Xe.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},Xe.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=Xe.zpp_pool,Xe.zpp_pool=i},Xe.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=Xe.zpp_pool,Xe.zpp_pool=t,e);this.parent=null}},Xe.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=Xe.zpp_pool,Xe.zpp_pool=i,t);this.parent=null}},Xe.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=Xe.zpp_pool,Xe.zpp_pool=e,t},Xe.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},Xe.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},Xe.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==Xe.zpp_pool?t=new Xe:(t=Xe.zpp_pool,Xe.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Xe.zpp_pool?t=new Xe:(t=Xe.zpp_pool,Xe.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Xe.zpp_pool?t=new Xe:(t=Xe.zpp_pool,Xe.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},Xe.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==Xe.zpp_pool?t=new Xe:(t=Xe.zpp_pool,Xe.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Xe.zpp_pool?t=new Xe:(t=Xe.zpp_pool,Xe.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Xe.zpp_pool?t=new Xe:(t=Xe.zpp_pool,Xe.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},Xe.prototype.insert=function(e){var t;if(null==Xe.zpp_pool?t=new Xe:(t=Xe.zpp_pool,Xe.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},Xe.prototype.__class__=Xe,zpp_nape.util.ZPP_Set_ZPP_SimpleVert=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),hr=(Ye.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleVert"],Ye.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},Ye.prototype.alloc=function(){},Ye.prototype.lt=null,Ye.prototype.swapped=null,Ye.prototype.data=null,Ye.prototype.prev=null,Ye.prototype.next=null,Ye.prototype.parent=null,Ye.prototype.colour=null,Ye.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},Ye.prototype.empty=function(){return null==this.parent},Ye.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},Ye.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},Ye.prototype.has=function(e){return null!=this.find(e)},Ye.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},Ye.prototype.has_weak=function(e){return null!=this.find_weak(e)},Ye.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},Ye.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},Ye.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},Ye.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},Ye.prototype.remove=function(e){this.remove_node(this.find(e))},Ye.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},Ye.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},Ye.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},Ye.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},Ye.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=Ye.zpp_pool,Ye.zpp_pool=i},Ye.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=Ye.zpp_pool,Ye.zpp_pool=t,e);this.parent=null}},Ye.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=Ye.zpp_pool,Ye.zpp_pool=i,t);this.parent=null}},Ye.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=Ye.zpp_pool,Ye.zpp_pool=e,t},Ye.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},Ye.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},Ye.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==Ye.zpp_pool?t=new Ye:(t=Ye.zpp_pool,Ye.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Ye.zpp_pool?t=new Ye:(t=Ye.zpp_pool,Ye.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Ye.zpp_pool?t=new Ye:(t=Ye.zpp_pool,Ye.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},Ye.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==Ye.zpp_pool?t=new Ye:(t=Ye.zpp_pool,Ye.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Ye.zpp_pool?t=new Ye:(t=Ye.zpp_pool,Ye.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Ye.zpp_pool?t=new Ye:(t=Ye.zpp_pool,Ye.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},Ye.prototype.insert=function(e){var t;if(null==Ye.zpp_pool?t=new Ye:(t=Ye.zpp_pool,Ye.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},Ye.prototype.__class__=Ye,zpp_nape.util.ZPP_Set_ZPP_SimpleSeg=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),Ke=(hr.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleSeg"],hr.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},hr.prototype.alloc=function(){},hr.prototype.lt=null,hr.prototype.swapped=null,hr.prototype.data=null,hr.prototype.prev=null,hr.prototype.next=null,hr.prototype.parent=null,hr.prototype.colour=null,hr.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},hr.prototype.empty=function(){return null==this.parent},hr.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},hr.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},hr.prototype.has=function(e){return null!=this.find(e)},hr.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},hr.prototype.has_weak=function(e){return null!=this.find_weak(e)},hr.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},hr.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},hr.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},hr.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},hr.prototype.remove=function(e){this.remove_node(this.find(e))},hr.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},hr.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},hr.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},hr.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},hr.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=hr.zpp_pool,hr.zpp_pool=i},hr.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=hr.zpp_pool,hr.zpp_pool=t,e);this.parent=null}},hr.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=hr.zpp_pool,hr.zpp_pool=i,t);this.parent=null}},hr.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=hr.zpp_pool,hr.zpp_pool=e,t},hr.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},hr.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},hr.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==hr.zpp_pool?t=new hr:(t=hr.zpp_pool,hr.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==hr.zpp_pool?t=new hr:(t=hr.zpp_pool,hr.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==hr.zpp_pool?t=new hr:(t=hr.zpp_pool,hr.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},hr.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==hr.zpp_pool?t=new hr:(t=hr.zpp_pool,hr.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==hr.zpp_pool?t=new hr:(t=hr.zpp_pool,hr.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==hr.zpp_pool?t=new hr:(t=hr.zpp_pool,hr.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},hr.prototype.insert=function(e){var t;if(null==hr.zpp_pool?t=new hr:(t=hr.zpp_pool,hr.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},hr.prototype.__class__=hr,zpp_nape.util.ZPP_Set_ZPP_SimpleEvent=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),mr=(Ke.__name__=["zpp_nape","util","ZPP_Set_ZPP_SimpleEvent"],Ke.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},Ke.prototype.alloc=function(){},Ke.prototype.lt=null,Ke.prototype.swapped=null,Ke.prototype.data=null,Ke.prototype.prev=null,Ke.prototype.next=null,Ke.prototype.parent=null,Ke.prototype.colour=null,Ke.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},Ke.prototype.empty=function(){return null==this.parent},Ke.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},Ke.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},Ke.prototype.has=function(e){return null!=this.find(e)},Ke.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},Ke.prototype.has_weak=function(e){return null!=this.find_weak(e)},Ke.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},Ke.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},Ke.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},Ke.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},Ke.prototype.remove=function(e){this.remove_node(this.find(e))},Ke.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},Ke.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},Ke.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},Ke.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},Ke.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=Ke.zpp_pool,Ke.zpp_pool=i},Ke.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=Ke.zpp_pool,Ke.zpp_pool=t,e);this.parent=null}},Ke.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=Ke.zpp_pool,Ke.zpp_pool=i,t);this.parent=null}},Ke.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=Ke.zpp_pool,Ke.zpp_pool=e,t},Ke.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},Ke.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},Ke.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==Ke.zpp_pool?t=new Ke:(t=Ke.zpp_pool,Ke.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Ke.zpp_pool?t=new Ke:(t=Ke.zpp_pool,Ke.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Ke.zpp_pool?t=new Ke:(t=Ke.zpp_pool,Ke.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},Ke.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==Ke.zpp_pool?t=new Ke:(t=Ke.zpp_pool,Ke.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==Ke.zpp_pool?t=new Ke:(t=Ke.zpp_pool,Ke.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==Ke.zpp_pool?t=new Ke:(t=Ke.zpp_pool,Ke.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},Ke.prototype.insert=function(e){var t;if(null==Ke.zpp_pool?t=new Ke:(t=Ke.zpp_pool,Ke.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},Ke.prototype.__class__=Ke,zpp_nape.util.ZPP_Set_ZPP_CbSet=function(){this.colour=0,this.parent=null,this.next=null,this.prev=null,this.data=null,this.swapped=null,this.lt=null}),yr=(mr.__name__=["zpp_nape","util","ZPP_Set_ZPP_CbSet"],mr.prototype.free=function(){this.data=null,this.lt=null,this.swapped=null},mr.prototype.alloc=function(){},mr.prototype.lt=null,mr.prototype.swapped=null,mr.prototype.data=null,mr.prototype.prev=null,mr.prototype.next=null,mr.prototype.parent=null,mr.prototype.colour=null,mr.prototype.verify=function(){if(!this.empty()){for(var e=this.parent;null!=e.prev;)e=e.prev;for(;null!=e;){var t=e.data,i=!0;if(!this.empty()){for(var n=this.parent;null!=n.prev;)n=n.prev;for(;null!=n;){var r=n.data;if(i){if(t==r)i=!1;else if(!this.lt(r,t)&&this.lt(t,r))return!1}else if(!this.lt(t,r)&&this.lt(r,t))return!1;if(null!=n.next)for(n=n.next;null!=n.prev;)n=n.prev;else{for(;null!=n.parent&&n==n.parent.next;)n=n.parent;n=n.parent}}}if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{for(;null!=e.parent&&e==e.parent.next;)e=e.parent;e=e.parent}}}return!0},mr.prototype.empty=function(){return null==this.parent},mr.prototype.singular=function(){return null!=this.parent&&null==this.parent.prev&&null==this.parent.next},mr.prototype.size=function(){var e=0;if(!this.empty()){for(var t=this.parent;null!=t.prev;)t=t.prev;for(;null!=t;)if(++e,null!=t.next)for(t=t.next;null!=t.prev;)t=t.prev;else{for(;null!=t.parent&&t==t.parent.next;)t=t.parent;t=t.parent}}return e},mr.prototype.has=function(e){return null!=this.find(e)},mr.prototype.find=function(e){for(var t=this.parent;null!=t&&t.data!=e;)t=this.lt(e,t.data)?t.prev:t.next;return t},mr.prototype.has_weak=function(e){return null!=this.find_weak(e)},mr.prototype.find_weak=function(e){for(var t=this.parent;null!=t;)if(this.lt(e,t.data))t=t.prev;else{if(!this.lt(t.data,e))break;t=t.next}return t},mr.prototype.lower_bound=function(e){var t=null;if(!this.empty()){for(var i=this.parent;null!=i.prev;)i=i.prev;for(;null!=i;){var n=i.data;if(!this.lt(n,e)){t=n;break}if(null!=i.next)for(i=i.next;null!=i.prev;)i=i.prev;else{for(;null!=i.parent&&i==i.parent.next;)i=i.parent;i=i.parent}}}return t},mr.prototype.first=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;return e.data},mr.prototype.pop_front=function(){for(var e=this.parent;null!=e.prev;)e=e.prev;var t=e.data;return this.remove_node(e),t},mr.prototype.remove=function(e){this.remove_node(this.find(e))},mr.prototype.successor_node=function(e){if(null!=e.next)for(e=e.next;null!=e.prev;)e=e.prev;else{var t=e;for(e=e.parent;null!=e&&e.prev!=t;)e=(t=e).parent}return e},mr.prototype.predecessor_node=function(e){if(null!=e.prev)for(e=e.prev;null!=e.next;)e=e.next;else{var t=e;for(e=e.parent;null!=e&&e.next!=t;)e=(t=e).parent}return e},mr.prototype.successor=function(e){e=this.successor_node(this.find(e));return null==e?null:e.data},mr.prototype.predecessor=function(e){e=this.predecessor_node(this.find(e));return null==e?null:e.data},mr.prototype.remove_node=function(e){if(null!=e.next&&null!=e.prev){for(var t=e.next;null!=t.prev;)t=t.prev;var i=e.data;e.data=t.data,t.data=i,null!=this.swapped&&this.swapped(e.data,t.data),e=t}i=null==e.prev?e.next:e.prev;if(1==e.colour)if(null!=e.prev||null!=e.next)i.colour=1;else if(null!=e.parent)for(var n=e.parent;;){n.colour++,n.prev.colour--,n.next.colour--;var r=n.prev;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}r=n.next;if(-1==r.colour){this.__fix_neg_red(r);break}if(0==r.colour){if(null!=r.prev&&0==r.prev.colour){this.__fix_dbl_red(r.prev);break}if(null!=r.next&&0==r.next.colour){this.__fix_dbl_red(r.next);break}}if(2==n.colour){if(null!=n.parent){n=n.parent;continue}n.colour=1}break}var o=e.parent,i=(null==o?this.parent=i:o.prev==e?o.prev=i:o.next=i,null!=i&&(i.parent=o),e.parent=e.prev=e.next=null,e);i.data=null,i.lt=null,i.swapped=null,i.next=mr.zpp_pool,mr.zpp_pool=i},mr.prototype.clear=function(){if(null!=this.parent){for(var e,t,i=this.parent;null!=i;)i=null!=i.prev?i.prev:null!=i.next?i.next:(null!=(e=i.parent)&&(i==e.prev?e.prev=null:e.next=null,i.parent=null),(t=i).data=null,t.lt=null,t.swapped=null,t.next=mr.zpp_pool,mr.zpp_pool=t,e);this.parent=null}},mr.prototype.clear_with=function(e){if(null!=this.parent){for(var t,i,n=this.parent;null!=n;)n=null!=n.prev?n.prev:null!=n.next?n.next:(e(n.data),null!=(t=n.parent)&&(n==t.prev?t.prev=null:t.next=null,n.parent=null),(i=n).data=null,i.lt=null,i.swapped=null,i.next=mr.zpp_pool,mr.zpp_pool=i,t);this.parent=null}},mr.prototype.clear_node=function(e,t){t(e.data);t=e.parent;return null!=t&&(e==t.prev?t.prev=null:t.next=null,e.parent=null),e.data=null,e.lt=null,e.swapped=null,e.next=mr.zpp_pool,mr.zpp_pool=e,t},mr.prototype.__fix_neg_red=function(e){var t,i,n,r,o=e.parent,e=o.prev==e?(n=e.prev,t=(r=e.next).prev,i=r.next,n.colour=0,e.colour=o.colour=1,null!=(e.next=t)&&(t.parent=e),t=o.data,o.data=r.data,r.data=t,null!=this.swapped&&this.swapped(o.data,r.data),null!=(r.prev=i)&&(i.parent=r),r.next=o.next,null!=o.next&&(o.next.parent=r),null!=(o.next=r)&&(r.parent=o),n):(t=e.next,r=(i=e.prev).next,n=i.prev,t.colour=0,e.colour=o.colour=1,null!=(e.prev=r)&&(r.parent=e),r=o.data,o.data=i.data,i.data=r,null!=this.swapped&&this.swapped(o.data,i.data),null!=(i.next=n)&&(n.parent=i),i.prev=o.prev,null!=o.prev&&(o.prev.parent=i),null!=(o.prev=i)&&(i.parent=o),t);null!=e.prev&&0==e.prev.colour?this.__fix_dbl_red(e.prev):null!=e.next&&0==e.next.colour&&this.__fix_dbl_red(e.next)},mr.prototype.__fix_dbl_red=function(e){for(;;){var t,i,n,r,o,a,s,p=e.parent,l=p.parent;if(null==l){p.colour=1;break}p==l.prev?(s=(n=l).next,a=e==p.prev?(r=(t=e).prev,o=e.next,(i=p).next):(i=e,r=(t=p).prev,o=e.prev,e.next)):(r=(t=l).prev,s=e==p.prev?(o=(i=e).prev,a=e.next,(n=p).next):(n=e,o=(i=p).prev,a=e.prev,e.next));p=l.parent;if(null==p?this.parent=i:p.prev==l?p.prev=i:p.next=i,null!=i&&(i.parent=p),null!=(t.prev=r)&&(r.parent=t),null!=(t.next=o)&&(o.parent=t),null!=(i.prev=t)&&(t.parent=i),null!=(i.next=n)&&(n.parent=i),null!=(n.prev=a)&&(a.parent=n),null!=(n.next=s)&&(s.parent=n),i.colour=l.colour-1,t.colour=1,n.colour=1,i==this.parent)this.parent.colour=1;else if(0==i.colour&&0==i.parent.colour){e=i;continue}break}},mr.prototype.try_insert_bool=function(e){var t=null,i=null;if(null==this.parent)null==mr.zpp_pool?t=new mr:(t=mr.zpp_pool,mr.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==mr.zpp_pool?t=new mr:(t=mr.zpp_pool,mr.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==mr.zpp_pool?t=new mr:(t=mr.zpp_pool,mr.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null!=t&&(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),!0)},mr.prototype.try_insert=function(e){var t=null,i=null;if(null==this.parent)null==mr.zpp_pool?t=new mr:(t=mr.zpp_pool,mr.zpp_pool=t.next,t.next=null),t.data=e,this.parent=t;else for(i=this.parent;;)if(this.lt(e,i.data)){if(null==i.prev){null==mr.zpp_pool?t=new mr:(t=mr.zpp_pool,mr.zpp_pool=t.next,t.next=null),t.data=e,(i.prev=t).parent=i;break}i=i.prev}else{if(!this.lt(i.data,e))break;if(null==i.next){null==mr.zpp_pool?t=new mr:(t=mr.zpp_pool,mr.zpp_pool=t.next,t.next=null),t.data=e,(i.next=t).parent=i;break}i=i.next}return null==t?i:(null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t)},mr.prototype.insert=function(e){var t;if(null==mr.zpp_pool?t=new mr:(t=mr.zpp_pool,mr.zpp_pool=t.next,t.next=null),t.data=e,null==this.parent)this.parent=t;else for(var i=this.parent;;)if(this.lt(t.data,i.data)){if(null==i.prev){(i.prev=t).parent=i;break}i=i.prev}else{if(null==i.next){(i.next=t).parent=i;break}i=i.next}return null==t.parent?t.colour=1:(t.colour=0)==t.parent.colour&&this.__fix_dbl_red(t),t},mr.prototype.__class__=mr,(String.prototype.__class__=String).__name__=!0,Array.__name__=!0,{__name__:["Int"]}),_r={__name__:["Dynamic"]},xr=Number,fr=(xr.__name__=["Float"],Boolean),gr=(fr.__ename__=["Bool"],{__name__:["Class"]}),vr={};j.__toStr={}.toString,ur.epsilon=1e-8,ur.fluidAngularDragFriction=2.5,ur.fluidAngularDrag=100,ur.fluidVacuumDrag=.5,ur.fluidLinearDrag=.5,ur.collisionSlop=.2,ur.collisionSlopCCD=.5,ur.distanceThresholdCCD=.05,ur.staticCCDLinearThreshold=.05,ur.staticCCDAngularThreshold=.005,ur.bulletCCDLinearThreshold=.125,ur.bulletCCDAngularThreshold=.0125,ur.dynamicSweepLinearThreshold=17,ur.dynamicSweepAngularThreshold=.6,ur.angularCCDSlipScale=.75,ur.arbiterExpirationDelay=6,ur.staticFrictionThreshold=2,ur.elasticThreshold=20,ur.sleepDelay=60,ur.linearSleepThreshold=.2,ur.angularSleepThreshold=.4,ur.contactBiasCoef=.3,ur.contactStaticBiasCoef=.6,ur.contactContinuousBiasCoef=.4,ur.contactContinuousStaticBiasCoef=.5,ur.constraintLinearSlop=.1,ur.constraintAngularSlop=.001,ur.illConditionedThreshold=2e8,ot.zpp_pool=rt.zpp_pool=nt.zpp_pool=it.zpp_pool=tt.zpp_pool=et.zpp_pool=$e.zpp_pool=Qe.zpp_pool=Je.zpp_pool=Ze.zpp_pool=null,st.zpp_pool=at.zpp_pool=null,ht.zpp_pool=lt.zpp_pool=pt.zpp_pool=null,ke.FMAX=1e100,Me._Constraint=0,Me._Interactor=0,Me._CbType=0,Me._CbSet=0,Me._Listener=0,Me._ZPP_SimpleVert=0,Me._ZPP_SimpleSeg=0,Me._Space=0,Me._InteractionGroup=0,ut.zpp_pool=null,Pn.zpp_pool=null,On.zpp_pool=null,Ie.ANY_SHAPE=new g,Ie.ANY_BODY=new g,Ie.ANY_COMPOUND=new g,Ie.ANY_CONSTRAINT=new g,Tn.internal=!1,Tn.id_ImmState_ACCEPT=1,Tn.id_ImmState_IGNORE=2,Tn.id_ImmState_ALWAYS=4,Tn.id_GravMassMode_DEFAULT=0,Tn.id_GravMassMode_FIXED=1,Tn.id_GravMassMode_SCALED=2,Tn.id_InertiaMode_DEFAULT=0,Tn.id_InertiaMode_FIXED=1,Tn.id_MassMode_DEFAULT=0,Tn.id_MassMode_FIXED=1,Tn.id_BodyType_STATIC=1,Tn.id_BodyType_DYNAMIC=2,Tn.id_BodyType_KINEMATIC=3,Tn.id_ListenerType_BODY=0,Tn.id_PreFlag_ACCEPT=1,Tn.id_ListenerType_CONSTRAINT=1,Tn.id_PreFlag_IGNORE=2,Tn.id_ListenerType_INTERACTION=2,Tn.id_PreFlag_ACCEPT_ONCE=3,Tn.id_ListenerType_PRE=3,Tn.id_PreFlag_IGNORE_ONCE=4,Tn.id_CbEvent_BEGIN=0,Tn.id_InteractionType_COLLISION=1,Tn.id_CbEvent_ONGOING=6,Tn.id_InteractionType_SENSOR=2,Tn.id_CbEvent_END=1,Tn.id_InteractionType_FLUID=4,Tn.id_CbEvent_WAKE=2,Tn.id_InteractionType_ANY=7,Tn.id_CbEvent_SLEEP=3,Tn.id_CbEvent_BREAK=4,Tn.id_CbEvent_PRE=5,Tn.id_Winding_UNDEFINED=0,Tn.id_Winding_CLOCKWISE=1,Tn.id_Winding_ANTICLOCKWISE=2,Tn.id_ValidationResult_VALID=0,Tn.id_ValidationResult_DEGENERATE=1,Tn.id_ValidationResult_CONCAVE=2,Tn.id_ValidationResult_SELF_INTERSECTING=3,Tn.id_ShapeType_CIRCLE=0,Tn.id_ShapeType_POLYGON=1,Tn.id_Broadphase_DYNAMIC_AABB_TREE=0,Tn.id_Broadphase_SWEEP_AND_PRUNE=1,Tn.id_ArbiterType_COLLISION=1,Tn.id_ArbiterType_SENSOR=2,Tn.id_ArbiterType_FLUID=4,Be.types=(null==Tn.ListenerType_BODY&&(Tn.internal=!0,Tn.ListenerType_BODY=new S,Tn.internal=!1),ti=Tn.ListenerType_BODY,null==Tn.ListenerType_CONSTRAINT&&(Tn.internal=!0,Tn.ListenerType_CONSTRAINT=new S,Tn.internal=!1),ke=Tn.ListenerType_CONSTRAINT,null==Tn.ListenerType_INTERACTION&&(Tn.internal=!0,Tn.ListenerType_INTERACTION=new S,Tn.internal=!1),n=Tn.ListenerType_INTERACTION,null==Tn.ListenerType_PRE&&(Tn.internal=!0,Tn.ListenerType_PRE=new S,Tn.internal=!1),[ti,ke,n,Tn.ListenerType_PRE]),Be.events=(null==Tn.CbEvent_BEGIN&&(Tn.internal=!0,Tn.CbEvent_BEGIN=new f,Tn.internal=!1),ti=Tn.CbEvent_BEGIN,null==Tn.CbEvent_END&&(Tn.internal=!0,Tn.CbEvent_END=new f,Tn.internal=!1),ke=Tn.CbEvent_END,null==Tn.CbEvent_WAKE&&(Tn.internal=!0,Tn.CbEvent_WAKE=new f,Tn.internal=!1),n=Tn.CbEvent_WAKE,null==Tn.CbEvent_SLEEP&&(Tn.internal=!0,Tn.CbEvent_SLEEP=new f,Tn.internal=!1),r=Tn.CbEvent_SLEEP,null==Tn.CbEvent_BREAK&&(Tn.internal=!0,Tn.CbEvent_BREAK=new f,Tn.internal=!1),o=Tn.CbEvent_BREAK,null==Tn.CbEvent_PRE&&(Tn.internal=!0,Tn.CbEvent_PRE=new f,Tn.internal=!1),t=Tn.CbEvent_PRE,null==Tn.CbEvent_ONGOING&&(Tn.internal=!0,Tn.CbEvent_ONGOING=new f,Tn.internal=!1),[ti,ke,n,r,o,t,Tn.CbEvent_ONGOING]),Ht.UCbSet=new Ee,Ht.VCbSet=new Ee,Ht.WCbSet=new Ee,Ht.UCbType=new Re,Ht.VCbType=new Re,Ht.WCbType=new Re,Rt.internal=!1,Rt.COL=1,Rt.FLUID=4,Rt.SENSOR=2,Rt.types=(null==Tn.ArbiterType_COLLISION&&(Tn.internal=!0,Tn.ArbiterType_COLLISION=new R,Tn.internal=!1),ti=Tn.ArbiterType_COLLISION,null==Tn.ArbiterType_SENSOR&&(Tn.internal=!0,Tn.ArbiterType_SENSOR=new R,Tn.internal=!1),ke=Tn.ArbiterType_SENSOR,null==Tn.ArbiterType_FLUID&&(Tn.internal=!0,Tn.ArbiterType_FLUID=new R,Tn.internal=!1),[null,ti,ke,null,Tn.ArbiterType_FLUID]),Dn.zpp_pool=null,Rn.zpp_pool=null,Gn.FACE1=0,Gn.FACE2=1,Gn.CIRCLE=2,Gn.zpp_pool=null,An.internal=!1,An.zpp_pool=null,zt.zpp_pool=null,bt.SHAPE=1,bt.BODY=2,Nt.zpp_pool=null,dr.flowpoly=new St,dr.flowsegs=new St,kt.convexPool=null,kt.rayPool=null,kt.internal=!1,fi.zpp_pool=null,gi.zpp_pool=null,vi.ints=null,vi.paths=null,Xi.zpp_pool=null,Ot.zpp_pool=null,Tt.zpp_pool=null,Yi.zpp_pool=null,Ki.me=new Ki,Ki.look_march=[-1,224,56,216,14,-1,54,214,131,99,-1,91,141,109,181,85],Gt.zpp_pool=null,Et.queue=null,Et.edges=null,It.nextId=0,It.zpp_pool=null,Bt.zpp_pool=null,Vt.zpp_pool=null,Wt.zpp_pool=null,He.zpp_pool=null,de.sweep=null,de.inthash=null,de.vertices=null,de.queue=null,de.ints=null,de.list_vertices=null,de.list_queue=null,Xt.zpp_pool=null,Yt.zpp_pool=null,Kt.stack=null,Zt.zpp_pool=null,Qt.zpp_pool=null,$t.queue=null,$t.stack=null,$t.edgeSet=null,cr.zpp_pool=null,h.types=(null==Tn.BodyType_STATIC&&(Tn.internal=!0,Tn.BodyType_STATIC=new oe,Tn.internal=!1),n=Tn.BodyType_STATIC,null==Tn.BodyType_DYNAMIC&&(Tn.internal=!0,Tn.BodyType_DYNAMIC=new oe,Tn.internal=!1),r=Tn.BodyType_DYNAMIC,null==Tn.BodyType_KINEMATIC&&(Tn.internal=!0,Tn.BodyType_KINEMATIC=new oe,Tn.internal=!1),[null,n,r,Tn.BodyType_KINEMATIC]),h.bodystack=null,h.bodyset=null,h.cur_graph_depth=0,ni.zpp_pool=null,ri.zpp_pool=null,ri.WAKE=1,ri.PROPS=2,ri.ANGDRAG=4,ri.ARBITERS=8,oi.types=(null==Tn.ShapeType_CIRCLE&&(Tn.internal=!0,Tn.ShapeType_CIRCLE=new we,Tn.internal=!1),o=Tn.ShapeType_CIRCLE,null==Tn.ShapeType_POLYGON&&(Tn.internal=!0,Tn.ShapeType_POLYGON=new we,Tn.internal=!1),[o,Tn.ShapeType_POLYGON]),si.zpp_pool=null,si.internal=!1,hi.zpp_pool=null,ui.zpp_pool=null,di.tmpaabb=new Nt,ci.FATTEN=3,ci.VEL_STEPS=2,mi.zpp_pool=null,zi.zpp_pool=null,Fn.zpp_pool=null,wi.zpp_pool=null,Ve.zpp_pool=null,Dt.zpp_pool=null,an.zpp_pool=null,sn.zpp_pool=null,pn.zpp_pool=null,ln.zpp_pool=null,hn.zpp_pool=null,En.zpp_pool=null,In.zpp_pool=null,jt.zpp_pool=null,Bn.zpp_pool=null,un.zpp_pool=null,dn.zpp_pool=null,cn.zpp_pool=null,mn.zpp_pool=null,yn.zpp_pool=null,_n.zpp_pool=null,xn.zpp_pool=null,fn.zpp_pool=null,gn.zpp_pool=null,vn.zpp_pool=null,zn.zpp_pool=null,bn.zpp_pool=null,Ft.zpp_pool=null,wn.zpp_pool=null,Sn.zpp_pool=null,Cn.zpp_pool=null,Nn.zpp_pool=null,Un.zpp_pool=null,kn.zpp_pool=null,Hn.zpp_pool=null,Mn.zpp_pool=null,Vn.zpp_pool=null,Wn.zpp_pool=null,qn.zpp_pool=null,Xn.zpp_pool=null,Kn.internal=!1,Zn.internal=!1,Jn.internal=!1,Qn.internal=!1,$n.internal=!1,er.internal=!1,tr.internal=!1,ir.internal=!1,nr.internal=!1,rr.internal=!1,or.internal=!1,ar.internal=!1,sr.internal=!1,pr.internal=!1,lr.internal=!1,yi.poolGeomPoly=null,yi.poolVec2=null,yi.poolVec3=null,We.zpp_pool=null,Ut.zpp_pool=null,qe.zpp_pool=null,Xe.zpp_pool=null,Ye.zpp_pool=null,hr.zpp_pool=null,Ke.zpp_pool=null,mr.zpp_pool=null,e.main()}(),function(){function L(e,t,i){return e.call.apply(e.bind,arguments)}function D(t,i,e){if(t)return 2<arguments.length?(n=Array.prototype.slice.call(arguments,2),function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,n),t.apply(i,e)}):function(){return t.apply(i,arguments)};var n;throw Error()}function m(e,t,i){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:D).apply(null,arguments)}var s=Date.now||function(){return+new Date};function R(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var j=!!window.FontFace;function p(e,t,i,n){if(t=e.c.createElement(t),i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?t.style.cssText=i[r]:t.setAttribute(r,i[r]));return n&&t.appendChild(e.c.createTextNode(n)),t}function l(e,t,i){(e=(e=e.c.getElementsByTagName(t)[0])||document.documentElement).insertBefore(i,e.lastChild)}function i(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e,t,i){t=t||[],i=i||[];for(var n=e.className.split(/\s+/),r=0;r<t.length;r+=1){for(var o=!1,a=0;a<n.length;a+=1)if(t[r]===n[a]){o=!0;break}o||n.push(t[r])}for(t=[],r=0;r<n.length;r+=1){for(o=!1,a=0;a<i.length;a+=1)if(n[r]===i[a]){o=!0;break}o||t.push(n[r])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function o(e,t){for(var i=e.className.split(/\s+/),n=0,r=i.length;n<r;n++)if(i[n]==t)return!0;return!1}function S(e,t,i){function n(){a&&r&&(a(o),a=null)}t=p(e,"link",{rel:"stylesheet",href:t,media:"all"});var r=!1,o=null,a=i||null;j?(t.onload=function(){r=!0,n()},t.onerror=function(){r=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout(function(){r=!0,n()},0),l(e,"head",t)}function n(e,t,i,n){var r,o,a=e.c.getElementsByTagName("head")[0];return a?(r=p(e,"script",{src:t}),o=!1,r.onload=r.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,i&&i(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&a.removeChild(r))},a.appendChild(r),setTimeout(function(){o||(o=!0,i&&i(Error("Script load timeout")))},n||5e3),r):null}function C(){this.a=0,this.c=null}function k(e){return e.a++,function(){e.a--,r(e)}}function M(e,t){e.c=t,r(e)}function r(e){0==e.a&&e.c&&(e.c(),e.c=null)}function a(e){this.a=e||"-"}function P(e,t){this.c=e,this.f=4,this.a="n";e=(t||"n4").match(/^([nio])([1-9])$/i);e&&(this.a=e[1],this.f=parseInt(e[2],10))}function h(e){var t=[];e=e.split(/,\s*/);for(var i=0;i<e.length;i++){var n=e[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?t.push("'"+n+"'"):t.push(n)}return t.join(",")}function _(e){return e.a+e.f}function u(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function F(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new a("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function x(e){var t,i,n;e.g&&(t=o(e.f,e.a.c("wf","active")),i=[],n=[e.a.c("wf","loading")],t||i.push(e.a.c("wf","inactive")),y(e.f,i,n)),f(e,"inactive")}function f(e,t,i){e.j&&e.h[t]&&(i?e.h[t](i.c,_(i)):e.h[t]())}function N(){this.c={}}function d(e,t){this.c=e,this.f=t,this.a=p(this.c,"span",{"aria-hidden":"true"},this.f)}function c(e){l(e.c,"body",e.a)}function g(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+h(e.c)+";font-style:"+u(e)+";font-weight:"+e.f+"00;"}function v(e,t,i,n,r,o){this.g=e,this.j=t,this.a=n,this.c=i,this.f=r||3e3,this.h=o||void 0}function z(e,t,i,n,r,o,a){this.v=e,this.B=t,this.c=i,this.a=n,this.s=a||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new d(this.c,this.s),this.h=new d(this.c,this.s),this.j=new d(this.c,this.s),this.m=new d(this.c,this.s),e=g(e=new P(this.a.c+",serif",_(this.a))),this.g.a.style.cssText=e,e=g(e=new P(this.a.c+",sans-serif",_(this.a))),this.h.a.style.cssText=e,e=g(e=new P("serif",_(this.a))),this.j.a.style.cssText=e,e=g(e=new P("sans-serif",_(this.a))),this.m.a.style.cssText=e,c(this.g),c(this.h),c(this.j),c(this.m)}a.prototype.c=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},v.prototype.start=function(){var r=this.c.o.document,o=this,a=s(),e=new Promise(function(i,n){!function t(){var e;s()-a>=o.f?n():r.fonts.load(u(e=o.a)+" "+e.f+"00 300px "+h(e.c),o.h).then(function(e){1<=e.length?i():setTimeout(t,25)},function(){n()})}()}),i=null,t=new Promise(function(e,t){i=setTimeout(t,o.f)});Promise.race([t,e]).then(function(){i&&(clearTimeout(i),i=null),o.g(o.a)},function(){o.j(o.a)})};var b={D:"serif",C:"sans-serif"},t=null;function w(){var e;return null===t&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),t=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),t}function O(e,t,i){for(var n in b)if(b.hasOwnProperty(n)&&t===e.f[b[n]]&&i===e.f[b[n]])return!0;return!1}function T(e){var t,i=e.g.a.offsetWidth,n=e.h.a.offsetWidth;(t=(t=i===e.f.serif&&n===e.f["sans-serif"])?t:w()&&O(e,i,n))?s()-e.A>=e.w?w()&&O(e,i,n)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?G(e,e.v):G(e,e.B):setTimeout(m(function(){T(this)},e),50):G(e,e.v)}function G(e,t){setTimeout(m(function(){i(this.g.a),i(this.h.a),i(this.j.a),i(this.m.a),t(this.a)},e),0)}function A(e,t,i){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=i}z.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),T(this)};var E=null;function I(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&y(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),f(e,"active")):x(e.a))}function U(e){this.j=e,this.a=new N,this.h=0,this.f=this.g=!0}function H(e,t){this.c=e,this.a=t}function V(e,t){this.c=e,this.a=t}function W(e,t){this.c=e||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=t||""}A.prototype.g=function(e){var t=this.a;t.g&&y(t.f,[t.a.c("wf",e.c,_(e).toString(),"active")],[t.a.c("wf",e.c,_(e).toString(),"loading"),t.a.c("wf",e.c,_(e).toString(),"inactive")]),f(t,"fontactive",e),this.m=!0,I(this)},A.prototype.h=function(e){var t,i,n,r=this.a;r.g&&(t=o(r.f,r.a.c("wf",e.c,_(e).toString(),"active")),i=[],n=[r.a.c("wf",e.c,_(e).toString(),"loading")],t||i.push(r.a.c("wf",e.c,_(e).toString(),"inactive")),y(r.f,i,n)),f(r,"fontinactive",e),I(this)},U.prototype.load=function(e){this.c=new R(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes;var n=this,t=new F(this.c,e),i=e,r=[],e=i.timeout,r=(function(e){e.g&&y(e.f,[e.a.c("wf","loading")]),f(e,"loading")}(t),function(e,t,i){var n,r,o=[];for(n in t)!t.hasOwnProperty(n)||(r=e.c[n])&&o.push(r(t[n],i));return o}(n.a,i,n.c)),o=new A(n.c,t,e);for(n.h=r.length,t=0,i=r.length;t<i;t++)r[t].load(function(e,t,i){var l,h,u,d,c;l=o,h=e,u=t,d=i,c=0==--(e=n).h,(e.f||e.g)&&setTimeout(function(){var e=d||null,t=u||{};if(0===h.length&&c)x(l.a);else{l.f+=h.length,c&&(l.j=c);for(var i=[],n=0;n<h.length;n++){var r,o=h[n],a=t[o.c],s=l.a,p=o;s.g&&y(s.f,[s.a.c("wf",p.c,_(p).toString(),"loading")]),f(s,"fontloading",p),s=(E=(s=null)===E?!!window.FontFace&&(p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),r=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor),p?42<parseInt(p[1],10):!r):E)?new v(m(l.g,l),m(l.h,l),l.c,o,l.s,a):new z(m(l.g,l),m(l.h,l),l.c,o,l.s,e,a),i.push(s)}for(n=0;n<i.length;n++)i[n].start()}},0)})},H.prototype.load=function(a){var s,t=this,p=t.a.projectId,e=t.a.version;p?(s=t.c.o,n(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+p+".js"+(e?"?v="+e:""),function(e){e?a([]):(s["__MonotypeConfiguration__"+p]=function(){return t.a},function e(){if(s["__mti_fntLst"+p]){var t,i=s["__mti_fntLst"+p](),n=[];if(i)for(var r=0;r<i.length;r++){var o=i[r].fontfamily;null!=i[r].fontStyle&&null!=i[r].fontWeight?(t=i[r].fontStyle+i[r].fontWeight,n.push(new P(o,t))):n.push(new P(o))}a(n)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+p):a([])},V.prototype.load=function(e){for(var t=this.a.urls||[],i=this.a.families||[],n=this.a.testStrings||{},r=new C,o=0,a=t.length;o<a;o++)S(this.c,t[o],k(r));var s=[];for(o=0,a=i.length;o<a;o++)if((t=i[o].split(":"))[1])for(var p=t[1].split(","),l=0;l<p.length;l+=1)s.push(new P(t[0],p[l]));else s.push(new P(t[0]));M(r,function(){e(s,n)})};function q(e){this.f=e,this.a=[],this.c={}}var X={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Y={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},K={i:"i",italic:"i",n:"n",normal:"n"},Z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function J(e,t){this.c=e,this.a=t}var Q={Arimo:!0,Cousine:!0,Tinos:!0};function $(e,t){this.c=e,this.a=t}function ee(e,t){this.c=e,this.f=t,this.a=[]}J.prototype.load=function(e){for(var t=new C,i=this.c,n=new W(this.a.api,this.a.text),r=this.a.families,o=n,a=r,s=a.length,p=0;p<s;p++){var l=a[p].split(":"),h=(3==l.length&&o.f.push(l.pop()),"");2==l.length&&""!=l[1]&&(h=":"),o.a.push(l.join(h))}for(var u=new q(r),d=u,c=d.f.length,m=0;m<c;m++){var y=d.f[m].split(":"),_=y[0].replace(/\+/g," "),x=["n4"];if(2<=y.length){var f,g,v=y[1],z=[];if(v)for(var b=(v=v.split(",")).length,w=0;w<b;w++)(g=!(g=v[w]).match(/^[\w-]+$/)||null==(f=Z.exec(g.toLowerCase()))?"":[g=null==(g=f[2])||""==g?"n":K[g],f=null==(f=f[1])||""==f?"4":Y[f]||(isNaN(f)?"4":f.substr(0,1))].join(""))&&z.push(g);0<z.length&&(x=z),3==y.length&&(z=[],0<(y=(y=y[2])?y.split(","):z).length&&(y=X[y[0]])&&(d.c[_]=y))}for(d.c[_]||(y=X[_])&&(d.c[_]=y),y=0;y<x.length;y+=1)d.a.push(new P(_,x[y]))}S(i,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,i=[],n=0;n<t;n++)i.push(e.a[n].replace(/ /g,"+"));return t=e.c+"?family="+i.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(n),k(t)),M(t,function(){e(u.a,u.c,Q)})},$.prototype.load=function(a){var e=this.a.id,s=this.c.o;e?n(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)a([]);else if(s.Typekit&&s.Typekit.config&&s.Typekit.config.fn){e=s.Typekit.config.fn;for(var t=[],i=0;i<e.length;i+=2)for(var n=e[i],r=e[i+1],o=0;o<r.length;o++)t.push(new P(n,r[o]));try{s.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}a(t)}},2e3):a([])},ee.prototype.load=function(p){var e=this.f.id,t=this.c.o,l=this;e?(t.__webfontfontdeckmodule__||(t.__webfontfontdeckmodule__={}),t.__webfontfontdeckmodule__[e]=function(e,t){for(var i,n,r,o=0,a=t.fonts.length;o<a;++o){var s=t.fonts[o];l.a.push(new P(s.name,(s="font-weight:"+s.weight+";font-style:"+s.style,r=n=i=void 0,i=4,n="n",r=null,s&&((r=s.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=s.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?i=7:/[1-9]00/.test(r[1])&&(i=parseInt(r[1].substr(0,1),10)))),n+i)))}p(l.a)},n(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+((t=this.c).o.location.hostname||t.a.location.hostname)+"/"+e+".js",function(e){e&&p([])})):p([])};var e=new U(window),B=(e.a.c.custom=function(e,t){return new V(t,e)},e.a.c.fontdeck=function(e,t){return new ee(t,e)},e.a.c.monotype=function(e,t){return new H(t,e)},e.a.c.typekit=function(e,t){return new $(t,e)},e.a.c.google=function(e,t){return new J(t,e)},{load:m(e.load,e)});"function"==typeof define&&define.amd?define(function(){return B}):"undefined"!=typeof module&&module.exports?module.exports=B:(window.WebFont=B,window.WebFontConfig&&e.load(window.WebFontConfig))}(),(()=>{"use strict";var i={666:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var t=i(402),t=i.n(t),n=i(352),n=i.n(n),r=i(393),r=i.n(r),o=new URL(i(214),i.b),a=new URL(i(349),i.b),s=new URL(i(204),i.b),p=new URL(i(931),i.b),l=new URL(i(486),i.b),h=new URL(i(609),i.b),u=new URL(i(469),i.b),d=new URL(i(819),i.b),c=new URL(i(144),i.b),m=new URL(i(217),i.b),y=new URL(i(956),i.b),_=new URL(i(740),i.b),x=new URL(i(460),i.b),f=new URL(i(175),i.b),g=new URL(i(647),i.b),i=new URL(i(692),i.b),n=n()(t()),t=r()(o),o=r()(a),a=r()(s),s=r()(p),p=r()(l),l=r()(h),h=r()(u),u=r()(d),d=r()(c),c=r()(m),m=r()(y),y=r()(_),_=r()(x),x=r()(f),f=r()(g),g=r()(i);n.push([e.id,'@charset "UTF-8";/*!\n * Bootstrap v5.1.3 (https://getbootstrap.com/)\n * Copyright 2011-2021 The Bootstrap Authors\n * Copyright 2011-2021 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */:root{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-body-color-rgb:33,37,41;--bs-body-bg-rgb:255,255,255;--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-bg:#fff}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:"— "}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:#6c757d}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{width:100%;padding-right:var(--bs-gutter-x,.75rem);padding-left:var(--bs-gutter-x,.75rem);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(-.5 * var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.6666666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:0.25rem}.g-1,.gy-1{--bs-gutter-y:0.25rem}.g-2,.gx-2{--bs-gutter-x:0.5rem}.g-2,.gy-2{--bs-gutter-y:0.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0%}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.6666666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0%}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.6666666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0%}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.6666666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0%}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0%}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-bg:transparent;--bs-table-accent-bg:transparent;--bs-table-striped-color:#212529;--bs-table-striped-bg:rgba(0, 0, 0, 0.05);--bs-table-active-color:#212529;--bs-table-active-bg:rgba(0, 0, 0, 0.1);--bs-table-hover-color:#212529;--bs-table-hover-bg:rgba(0, 0, 0, 0.075);width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border-color:#dee2e6}.table>:not(caption)>*>*{padding:.5rem .5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table>:not(:first-child){border-top:2px solid currentColor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:1px 0}.table-bordered>:not(caption)>*>*{border-width:0 1px}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-borderless>:not(:first-child){border-top-width:0}.table-striped>tbody>tr:nth-of-type(odd)>*{--bs-table-accent-bg:var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active{--bs-table-accent-bg:var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover>tbody>tr:hover>*{--bs-table-accent-bg:var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary{--bs-table-bg:#cfe2ff;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:#000;border-color:#bacbe6}.table-secondary{--bs-table-bg:#e2e3e5;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:#000;border-color:#cbccce}.table-success{--bs-table-bg:#d1e7dd;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:#000;border-color:#bcd0c7}.table-info{--bs-table-bg:#cff4fc;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:#000;border-color:#badce3}.table-warning{--bs-table-bg:#fff3cd;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:#000;border-color:#e6dbb9}.table-danger{--bs-table-bg:#f8d7da;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:#000;border-color:#dfc2c4}.table-light{--bs-table-bg:#f8f9fa;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:#000;border-color:#dfe0e1}.table-dark{--bs-table-bg:#212529;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:#fff;border-color:#373b3e}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{height:1.5em}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg{min-height:calc(1.5em + 1rem + 2px)}.form-control-color{width:3rem;height:auto;padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{height:1.5em;border-radius:.25rem}.form-control-color::-webkit-color-swatch{height:1.5em;border-radius:.25rem}.form-select{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(0.75rem - 3px);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url('+t+');background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:#e9ecef}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem;border-radius:.2rem}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem;border-radius:.3rem}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-input{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{background-image:url('+o+")}.form-check-input:checked[type=radio]{background-image:url("+a+")}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url("+s+")}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{width:2em;margin-left:-2.5em;background-image:url("+p+");background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{background-image:url("+l+")}.form-switch .form-check-input:checked{background-position:right center;background-image:url("+h+")}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}.form-range{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-select{height:calc(3.5rem + 2px);line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;height:100%;padding:1rem .75rem;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control{padding:1rem .75rem}.form-floating>.form-control::-moz-placeholder{color:transparent}.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control:not(:-moz-placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:not(:-moz-placeholder-shown)~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:-webkit-autofill~label{opacity:.65;transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-select:focus{z-index:3}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:3}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(25,135,84,.9);border-radius:.25rem}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url("+u+');background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:#198754}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url('+t+"),url("+u+");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:#198754;box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:#198754}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:#198754}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#198754}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group .form-control.is-valid,.input-group .form-select.is-valid,.was-validated .input-group .form-control:valid,.was-validated .input-group .form-select:valid{z-index:1}.input-group .form-control.is-valid:focus,.input-group .form-select.is-valid:focus,.was-validated .input-group .form-control:valid:focus,.was-validated .input-group .form-select:valid:focus{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url("+d+');background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:#dc3545}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"]{padding-right:4.125rem;background-image:url('+t+"),url("+d+');background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:#dc3545}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:#dc3545}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group .form-control.is-invalid,.input-group .form-select.is-invalid,.was-validated .input-group .form-control:invalid,.was-validated .input-group .form-select:invalid{z-index:2}.input-group .form-control.is-invalid:focus,.input-group .form-select.is-invalid:focus,.was-validated .input-group .form-control:invalid:focus,.was-validated .input-group .form-select:invalid:focus{z-index:3}.btn{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529}.btn-check:focus+.btn,.btn:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{pointer-events:none;opacity:.65}.btn-primary{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary:hover{color:#fff;background-color:#0b5ed7;border-color:#0a58ca}.btn-check:focus+.btn-primary,.btn-primary:focus{color:#fff;background-color:#0b5ed7;border-color:#0a58ca;box-shadow:0 0 0 .25rem rgba(49,132,253,.5)}.btn-check:active+.btn-primary,.btn-check:checked+.btn-primary,.btn-primary.active,.btn-primary:active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0a58ca;border-color:#0a53be}.btn-check:active+.btn-primary:focus,.btn-check:checked+.btn-primary:focus,.btn-primary.active:focus,.btn-primary:active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(49,132,253,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5c636a;border-color:#565e64}.btn-check:focus+.btn-secondary,.btn-secondary:focus{color:#fff;background-color:#5c636a;border-color:#565e64;box-shadow:0 0 0 .25rem rgba(130,138,145,.5)}.btn-check:active+.btn-secondary,.btn-check:checked+.btn-secondary,.btn-secondary.active,.btn-secondary:active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#565e64;border-color:#51585e}.btn-check:active+.btn-secondary:focus,.btn-check:checked+.btn-secondary:focus,.btn-secondary.active:focus,.btn-secondary:active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-success{color:#fff;background-color:#198754;border-color:#198754}.btn-success:hover{color:#fff;background-color:#157347;border-color:#146c43}.btn-check:focus+.btn-success,.btn-success:focus{color:#fff;background-color:#157347;border-color:#146c43;box-shadow:0 0 0 .25rem rgba(60,153,110,.5)}.btn-check:active+.btn-success,.btn-check:checked+.btn-success,.btn-success.active,.btn-success:active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#146c43;border-color:#13653f}.btn-check:active+.btn-success:focus,.btn-check:checked+.btn-success:focus,.btn-success.active:focus,.btn-success:active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(60,153,110,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#198754;border-color:#198754}.btn-info{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-info:hover{color:#000;background-color:#31d2f2;border-color:#25cff2}.btn-check:focus+.btn-info,.btn-info:focus{color:#000;background-color:#31d2f2;border-color:#25cff2;box-shadow:0 0 0 .25rem rgba(11,172,204,.5)}.btn-check:active+.btn-info,.btn-check:checked+.btn-info,.btn-info.active,.btn-info:active,.show>.btn-info.dropdown-toggle{color:#000;background-color:#3dd5f3;border-color:#25cff2}.btn-check:active+.btn-info:focus,.btn-check:checked+.btn-info:focus,.btn-info.active:focus,.btn-info:active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(11,172,204,.5)}.btn-info.disabled,.btn-info:disabled{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-warning{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#000;background-color:#ffca2c;border-color:#ffc720}.btn-check:focus+.btn-warning,.btn-warning:focus{color:#000;background-color:#ffca2c;border-color:#ffc720;box-shadow:0 0 0 .25rem rgba(217,164,6,.5)}.btn-check:active+.btn-warning,.btn-check:checked+.btn-warning,.btn-warning.active,.btn-warning:active,.show>.btn-warning.dropdown-toggle{color:#000;background-color:#ffcd39;border-color:#ffc720}.btn-check:active+.btn-warning:focus,.btn-check:checked+.btn-warning:focus,.btn-warning.active:focus,.btn-warning:active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(217,164,6,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#bb2d3b;border-color:#b02a37}.btn-check:focus+.btn-danger,.btn-danger:focus{color:#fff;background-color:#bb2d3b;border-color:#b02a37;box-shadow:0 0 0 .25rem rgba(225,83,97,.5)}.btn-check:active+.btn-danger,.btn-check:checked+.btn-danger,.btn-danger.active,.btn-danger:active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#b02a37;border-color:#a52834}.btn-check:active+.btn-danger:focus,.btn-check:checked+.btn-danger:focus,.btn-danger.active:focus,.btn-danger:active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-light{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check:focus+.btn-light,.btn-light:focus{color:#000;background-color:#f9fafb;border-color:#f9fafb;box-shadow:0 0 0 .25rem rgba(211,212,213,.5)}.btn-check:active+.btn-light,.btn-check:checked+.btn-light,.btn-light.active,.btn-light:active,.show>.btn-light.dropdown-toggle{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check:active+.btn-light:focus,.btn-check:checked+.btn-light:focus,.btn-light.active:focus,.btn-light:active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(211,212,213,.5)}.btn-light.disabled,.btn-light:disabled{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark{color:#fff;background-color:#212529;border-color:#212529}.btn-dark:hover{color:#fff;background-color:#1c1f23;border-color:#1a1e21}.btn-check:focus+.btn-dark,.btn-dark:focus{color:#fff;background-color:#1c1f23;border-color:#1a1e21;box-shadow:0 0 0 .25rem rgba(66,70,73,.5)}.btn-check:active+.btn-dark,.btn-check:checked+.btn-dark,.btn-dark.active,.btn-dark:active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1a1e21;border-color:#191c1f}.btn-check:active+.btn-dark:focus,.btn-check:checked+.btn-dark:focus,.btn-dark.active:focus,.btn-dark:active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .25rem rgba(66,70,73,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-primary{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary:hover{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check:focus+.btn-outline-primary,.btn-outline-primary:focus{box-shadow:0 0 0 .25rem rgba(13,110,253,.5)}.btn-check:active+.btn-outline-primary,.btn-check:checked+.btn-outline-primary,.btn-outline-primary.active,.btn-outline-primary.dropdown-toggle.show,.btn-outline-primary:active{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check:active+.btn-outline-primary:focus,.btn-check:checked+.btn-outline-primary:focus,.btn-outline-primary.active:focus,.btn-outline-primary.dropdown-toggle.show:focus,.btn-outline-primary:active:focus{box-shadow:0 0 0 .25rem rgba(13,110,253,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#0d6efd;background-color:transparent}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check:focus+.btn-outline-secondary,.btn-outline-secondary:focus{box-shadow:0 0 0 .25rem rgba(108,117,125,.5)}.btn-check:active+.btn-outline-secondary,.btn-check:checked+.btn-outline-secondary,.btn-outline-secondary.active,.btn-outline-secondary.dropdown-toggle.show,.btn-outline-secondary:active{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check:active+.btn-outline-secondary:focus,.btn-check:checked+.btn-outline-secondary:focus,.btn-outline-secondary.active:focus,.btn-outline-secondary.dropdown-toggle.show:focus,.btn-outline-secondary:active:focus{box-shadow:0 0 0 .25rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:transparent}.btn-outline-success{color:#198754;border-color:#198754}.btn-outline-success:hover{color:#fff;background-color:#198754;border-color:#198754}.btn-check:focus+.btn-outline-success,.btn-outline-success:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.5)}.btn-check:active+.btn-outline-success,.btn-check:checked+.btn-outline-success,.btn-outline-success.active,.btn-outline-success.dropdown-toggle.show,.btn-outline-success:active{color:#fff;background-color:#198754;border-color:#198754}.btn-check:active+.btn-outline-success:focus,.btn-check:checked+.btn-outline-success:focus,.btn-outline-success.active:focus,.btn-outline-success.dropdown-toggle.show:focus,.btn-outline-success:active:focus{box-shadow:0 0 0 .25rem rgba(25,135,84,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#198754;background-color:transparent}.btn-outline-info{color:#0dcaf0;border-color:#0dcaf0}.btn-outline-info:hover{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check:focus+.btn-outline-info,.btn-outline-info:focus{box-shadow:0 0 0 .25rem rgba(13,202,240,.5)}.btn-check:active+.btn-outline-info,.btn-check:checked+.btn-outline-info,.btn-outline-info.active,.btn-outline-info.dropdown-toggle.show,.btn-outline-info:active{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check:active+.btn-outline-info:focus,.btn-check:checked+.btn-outline-info:focus,.btn-outline-info.active:focus,.btn-outline-info.dropdown-toggle.show:focus,.btn-outline-info:active:focus{box-shadow:0 0 0 .25rem rgba(13,202,240,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#0dcaf0;background-color:transparent}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check:focus+.btn-outline-warning,.btn-outline-warning:focus{box-shadow:0 0 0 .25rem rgba(255,193,7,.5)}.btn-check:active+.btn-outline-warning,.btn-check:checked+.btn-outline-warning,.btn-outline-warning.active,.btn-outline-warning.dropdown-toggle.show,.btn-outline-warning:active{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check:active+.btn-outline-warning:focus,.btn-check:checked+.btn-outline-warning:focus,.btn-outline-warning.active:focus,.btn-outline-warning.dropdown-toggle.show:focus,.btn-outline-warning:active:focus{box-shadow:0 0 0 .25rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:transparent}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check:focus+.btn-outline-danger,.btn-outline-danger:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.5)}.btn-check:active+.btn-outline-danger,.btn-check:checked+.btn-outline-danger,.btn-outline-danger.active,.btn-outline-danger.dropdown-toggle.show,.btn-outline-danger:active{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check:active+.btn-outline-danger:focus,.btn-check:checked+.btn-outline-danger:focus,.btn-outline-danger.active:focus,.btn-outline-danger.dropdown-toggle.show:focus,.btn-outline-danger:active:focus{box-shadow:0 0 0 .25rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:transparent}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check:focus+.btn-outline-light,.btn-outline-light:focus{box-shadow:0 0 0 .25rem rgba(248,249,250,.5)}.btn-check:active+.btn-outline-light,.btn-check:checked+.btn-outline-light,.btn-outline-light.active,.btn-outline-light.dropdown-toggle.show,.btn-outline-light:active{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check:active+.btn-outline-light:focus,.btn-check:checked+.btn-outline-light:focus,.btn-outline-light.active:focus,.btn-outline-light.dropdown-toggle.show:focus,.btn-outline-light:active:focus{box-shadow:0 0 0 .25rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:transparent}.btn-outline-dark{color:#212529;border-color:#212529}.btn-outline-dark:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-check:focus+.btn-outline-dark,.btn-outline-dark:focus{box-shadow:0 0 0 .25rem rgba(33,37,41,.5)}.btn-check:active+.btn-outline-dark,.btn-check:checked+.btn-outline-dark,.btn-outline-dark.active,.btn-outline-dark.dropdown-toggle.show,.btn-outline-dark:active{color:#fff;background-color:#212529;border-color:#212529}.btn-check:active+.btn-outline-dark:focus,.btn-check:checked+.btn-outline-dark:focus,.btn-outline-dark.active:focus,.btn-outline-dark.dropdown-toggle.show:focus,.btn-outline-dark:active:focus{box-shadow:0 0 0 .25rem rgba(33,37,41,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#212529;background-color:transparent}.btn-link{font-weight:400;color:#0d6efd;text-decoration:underline}.btn-link:hover{color:#0a58ca}.btn-link.disabled,.btn-link:disabled{color:#6c757d}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.collapse-horizontal{transition:none}}.dropdown,.dropend,.dropstart,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:.125rem}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid rgba(0,0,0,.15)}.dropdown-item{display:block;width:100%;padding:.25rem 1rem;clear:both;font-weight:400;color:#212529;text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#1e2125;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1rem;color:#212529}.dropdown-menu-dark{color:#dee2e6;background-color:#343a40;border-color:rgba(0,0,0,.15)}.dropdown-menu-dark .dropdown-item{color:#dee2e6}.dropdown-menu-dark .dropdown-item:focus,.dropdown-menu-dark .dropdown-item:hover{color:#fff;background-color:rgba(255,255,255,.15)}.dropdown-menu-dark .dropdown-item.active,.dropdown-menu-dark .dropdown-item:active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark .dropdown-item.disabled,.dropdown-menu-dark .dropdown-item:disabled{color:#adb5bd}.dropdown-menu-dark .dropdown-divider{border-color:rgba(0,0,0,.15)}.dropdown-menu-dark .dropdown-item-text{color:#dee2e6}.dropdown-menu-dark .dropdown-header{color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn~.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem;color:#0d6efd;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:#0a58ca}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;background:0 0;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{border-color:#e9ecef #e9ecef #dee2e6;isolation:isolate}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{background:0 0;border:0;border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#0d6efd}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;text-decoration:none;white-space:nowrap}.navbar-nav{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem;transition:box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 .25rem}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas-header{display:none}.navbar-expand-sm .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-sm .offcanvas-bottom,.navbar-expand-sm .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas-header{display:none}.navbar-expand-md .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-md .offcanvas-bottom,.navbar-expand-md .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas-header{display:none}.navbar-expand-lg .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-lg .offcanvas-bottom,.navbar-expand-lg .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas-header{display:none}.navbar-expand-xl .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xl .offcanvas-bottom,.navbar-expand-xl .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xxl .offcanvas-bottom,.navbar-expand-xxl .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas-header{display:none}.navbar-expand .offcanvas{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand .offcanvas-bottom,.navbar-expand .offcanvas-top{height:auto;border-top:0;border-bottom:0}.navbar-expand .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.55)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.55);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url('+c+")}.navbar-light .navbar-text{color:rgba(0,0,0,.55)}.navbar-light .navbar-text a,.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.55)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.55);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url("+m+")}.navbar-dark .navbar-text{color:rgba(255,255,255,.55)}.navbar-dark .navbar-text a,.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:1rem 1rem}.card-title{margin-bottom:.5rem}.card-subtitle{margin-top:-.25rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:1rem}.card-header{padding:.5rem 1rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer{padding:.5rem 1rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-.5rem;margin-bottom:-.5rem;margin-left:-.5rem;border-bottom:0}.card-header-pills{margin-right:-.5rem;margin-left:-.5rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1rem;border-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-group>.card{margin-bottom:.75rem}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:1rem 1.25rem;font-size:1rem;color:#212529;text-align:left;background-color:#fff;border:0;border-radius:0;overflow-anchor:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:#0c63e4;background-color:#e7f1ff;box-shadow:inset 0 -1px 0 rgba(0,0,0,.125)}.accordion-button:not(.collapsed)::after{background-image:url("+y+');transform:rotate(-180deg)}.accordion-button::after{flex-shrink:0;width:1.25rem;height:1.25rem;margin-left:auto;content:"";background-image:url('+_+');background-repeat:no-repeat;background-size:1.25rem;transition:transform .2s ease-in-out}@media (prefers-reduced-motion:reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.accordion-header{margin-bottom:0}.accordion-item{background-color:#fff;border:1px solid rgba(0,0,0,.125)}.accordion-item:first-of-type{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.accordion-item:first-of-type .accordion-button{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.accordion-item:last-of-type .accordion-collapse{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-body{padding:1rem 1.25rem}.accordion-flush .accordion-collapse{border-width:0}.accordion-flush .accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush .accordion-item:first-child{border-top:0}.accordion-flush .accordion-item:last-child{border-bottom:0}.accordion-flush .accordion-item .accordion-button{border-radius:0}.breadcrumb{display:flex;flex-wrap:wrap;padding:0 0;margin-bottom:1rem;list-style:none}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:var(--bs-breadcrumb-divider, "/")}.breadcrumb-item.active{color:#6c757d}.pagination{display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:#0a58ca;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;color:#0a58ca;background-color:#e9ecef;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.page-item:not(:first-child) .page-link{margin-left:-1px}.page-item.active .page-link{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.page-link{padding:.375rem .75rem}.page-item:first-child .page-link{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{position:relative;padding:1rem 1rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe}.alert-primary .alert-link{color:#06357a}.alert-secondary{color:#41464b;background-color:#e2e3e5;border-color:#d3d6d8}.alert-secondary .alert-link{color:#34383c}.alert-success{color:#0f5132;background-color:#d1e7dd;border-color:#badbcc}.alert-success .alert-link{color:#0c4128}.alert-info{color:#055160;background-color:#cff4fc;border-color:#b6effb}.alert-info .alert-link{color:#04414d}.alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5}.alert-warning .alert-link{color:#523e02}.alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7}.alert-danger .alert-link{color:#6a1a21}.alert-light{color:#636464;background-color:#fefefe;border-color:#fdfdfe}.alert-light .alert-link{color:#4f5050}.alert-dark{color:#141619;background-color:#d3d3d4;border-color:#bcbebf}.alert-dark .alert-link{color:#101214}@-webkit-keyframes progress-bar-stripes{0%{background-position-x:1rem}}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#0d6efd;transition:width .6s ease}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:1s linear infinite progress-bar-stripes;animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.list-group{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>li::before{content:counters(section, ".") ". ";counter-increment:section}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.5rem 1rem;color:#212529;text-decoration:none;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#141619;border-color:#141619}.btn-close{box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:#000;background:transparent url('+x+') center/1em auto no-repeat;border:0;border-radius:.25rem;opacity:.5}.btn-close:hover{color:#000;text-decoration:none;opacity:.75}.btn-close:focus{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25);opacity:1}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:.25}.btn-close-white{filter:invert(1) grayscale(100%) brightness(200%)}.toast{width:350px;max-width:100%;font-size:.875rem;pointer-events:auto;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem rgba(0,0,0,.15);border-radius:.25rem}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:.75rem}.toast-header{display:flex;align-items:center;padding:.5rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-header .btn-close{margin-right:-.375rem;margin-left:.75rem}.toast-body{padding:.75rem;word-wrap:break-word}.modal{position:fixed;top:0;left:0;z-index:1055;display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1050;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .btn-close{padding:.5rem .5rem;margin:-.5rem -.5rem -.5rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;flex:1 1 auto;padding:1rem}.modal-footer{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>*{margin:.25rem}@media (min-width:576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{height:calc(100% - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-sm{max-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{max-width:800px}}@media (min-width:1200px){.modal-xl{max-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}.modal-fullscreen .modal-footer{border-radius:0}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}.modal-fullscreen-sm-down .modal-footer{border-radius:0}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}.modal-fullscreen-md-down .modal-footer{border-radius:0}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}.modal-fullscreen-lg-down .modal-footer{border-radius:0}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}.modal-fullscreen-xl-down .modal-footer{border-radius:0}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}.modal-fullscreen-xxl-down .modal-footer{border-radius:0}}.tooltip{position:absolute;z-index:1080;display:block;margin:0;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .tooltip-arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:0}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[data-popper-placement^=right],.bs-tooltip-end{padding:0 .4rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[data-popper-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:0}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[data-popper-placement^=left],.bs-tooltip-start{padding:0 .4rem}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1070;display:block;max-width:276px;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .popover-arrow{position:absolute;display:block;width:1rem;height:.5rem}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-.5rem - 1px)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-end>.popover-arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-.5rem - 1px)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:"";border-bottom:1px solid #f0f0f0}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-start>.popover-arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem 1rem;margin-bottom:0;font-size:1rem;background-color:#f0f0f0;border-bottom:1px solid rgba(0,0,0,.2);border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:1rem 1rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translateX(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url('+f+")}.carousel-control-next-icon{background-image:url("+g+')}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark .carousel-control-next-icon,.carousel-dark .carousel-control-prev-icon{filter:invert(1) grayscale(100)}.carousel-dark .carousel-indicators [data-bs-target]{background-color:#000}.carousel-dark .carousel-caption{color:#000}@-webkit-keyframes spinner-border{to{transform:rotate(360deg)}}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;-webkit-animation:.75s linear infinite spinner-border;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@-webkit-keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentColor;border-radius:50%;opacity:0;-webkit-animation:.75s linear infinite spinner-grow;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{-webkit-animation-duration:1.5s;animation-duration:1.5s}}.offcanvas{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;visibility:hidden;background-color:#fff;background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem}.offcanvas-header .btn-close{padding:.5rem .5rem;margin-top:-.5rem;margin-right:-.5rem;margin-bottom:-.5rem}.offcanvas-title{margin-bottom:0;line-height:1.5}.offcanvas-body{flex-grow:1;padding:1rem 1rem;overflow-y:auto}.offcanvas-start{top:0;left:0;width:400px;border-right:1px solid rgba(0,0,0,.2);transform:translateX(-100%)}.offcanvas-end{top:0;right:0;width:400px;border-left:1px solid rgba(0,0,0,.2);transform:translateX(100%)}.offcanvas-top{top:0;right:0;left:0;height:30vh;max-height:100%;border-bottom:1px solid rgba(0,0,0,.2);transform:translateY(-100%)}.offcanvas-bottom{right:0;left:0;height:30vh;max-height:100%;border-top:1px solid rgba(0,0,0,.2);transform:translateY(100%)}.offcanvas.show{transform:none}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5}.placeholder.btn::before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{-webkit-animation:placeholder-glow 2s ease-in-out infinite;animation:placeholder-glow 2s ease-in-out infinite}@-webkit-keyframes placeholder-glow{50%{opacity:.2}}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;-webkit-animation:placeholder-wave 2s linear infinite;animation:placeholder-wave 2s linear infinite}@-webkit-keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix::after{display:block;clear:both;content:""}.link-primary{color:#0d6efd}.link-primary:focus,.link-primary:hover{color:#0a58ca}.link-secondary{color:#6c757d}.link-secondary:focus,.link-secondary:hover{color:#565e64}.link-success{color:#198754}.link-success:focus,.link-success:hover{color:#146c43}.link-info{color:#0dcaf0}.link-info:focus,.link-info:hover{color:#3dd5f3}.link-warning{color:#ffc107}.link-warning:focus,.link-warning:hover{color:#ffcd39}.link-danger{color:#dc3545}.link-danger:focus,.link-danger:hover{color:#b02a37}.link-light{color:#f8f9fa}.link-light:focus,.link-light:hover{color:#f9fafb}.link-dark{color:#212529}.link-dark:focus,.link-dark:hover{color:#1a1e21}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:75%}.ratio-16x9{--bs-aspect-ratio:56.25%}.ratio-21x9{--bs-aspect-ratio:42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentColor;opacity:.25}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075)!important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175)!important}.shadow-none{box-shadow:none!important}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translateX(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:1px solid #dee2e6!important}.border-0{border:0!important}.border-top{border-top:1px solid #dee2e6!important}.border-top-0{border-top:0!important}.border-end{border-right:1px solid #dee2e6!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:1px solid #dee2e6!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:1px solid #dee2e6!important}.border-start-0{border-left:0!important}.border-primary{border-color:#0d6efd!important}.border-secondary{border-color:#6c757d!important}.border-success{border-color:#198754!important}.border-info{border-color:#0dcaf0!important}.border-warning{border-color:#ffc107!important}.border-danger{border-color:#dc3545!important}.border-light{border-color:#f8f9fa!important}.border-dark{border-color:#212529!important}.border-white{border-color:#fff!important}.border-1{border-width:1px!important}.border-2{border-width:2px!important}.border-3{border-width:3px!important}.border-4{border-width:4px!important}.border-5{border-width:5px!important}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-light{font-weight:300!important}.fw-lighter{font-weight:lighter!important}.fw-normal{font-weight:400!important}.fw-bold{font-weight:700!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{--bs-text-opacity:1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary{--bs-text-opacity:1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success{--bs-text-opacity:1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info{--bs-text-opacity:1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning{--bs-text-opacity:1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger{--bs-text-opacity:1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light{--bs-text-opacity:1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark{--bs-text-opacity:1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black{--bs-text-opacity:1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white{--bs-text-opacity:1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body{--bs-text-opacity:1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted{--bs-text-opacity:1;color:#6c757d!important}.text-black-50{--bs-text-opacity:1;color:rgba(0,0,0,.5)!important}.text-white-50{--bs-text-opacity:1;color:rgba(255,255,255,.5)!important}.text-reset{--bs-text-opacity:1;color:inherit!important}.text-opacity-25{--bs-text-opacity:0.25}.text-opacity-50{--bs-text-opacity:0.5}.text-opacity-75{--bs-text-opacity:0.75}.text-opacity-100{--bs-text-opacity:1}.bg-primary{--bs-bg-opacity:1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success{--bs-bg-opacity:1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info{--bs-bg-opacity:1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning{--bs-bg-opacity:1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger{--bs-bg-opacity:1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light{--bs-bg-opacity:1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark{--bs-bg-opacity:1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black{--bs-bg-opacity:1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white{--bs-bg-opacity:1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body{--bs-bg-opacity:1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent{--bs-bg-opacity:1;background-color:transparent!important}.bg-opacity-10{--bs-bg-opacity:0.1}.bg-opacity-25{--bs-bg-opacity:0.25}.bg-opacity-50{--bs-bg-opacity:0.5}.bg-opacity-75{--bs-bg-opacity:0.75}.bg-opacity-100{--bs-bg-opacity:1}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:.25rem!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:.2rem!important}.rounded-2{border-radius:.25rem!important}.rounded-3{border-radius:.3rem!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:50rem!important}.rounded-top{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-end{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-start{border-bottom-left-radius:.25rem!important;border-top-left-radius:.25rem!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}',""]);const v=n},352:e=>{e.exports=function(n){var h=[];return h.toString=function(){return this.map(function(e){var t="",i=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),i&&(t+="@layer".concat(0<e[5].length?" ".concat(e[5]):""," {")),t+=n(e),i&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},h.i=function(e,t,i,n,r){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(o[s]=!0)}for(var p=0;p<e.length;p++){var l=[].concat(e[p]);i&&o[l[0]]||(void 0!==r&&(void 0!==l[5]&&(l[1]="@layer".concat(0<l[5].length?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),t&&(l[2]&&(l[1]="@media ".concat(l[2]," {").concat(l[1],"}")),l[2]=t),n&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=n):l[4]="".concat(n)),h.push(l))}},h}},393:e=>{e.exports=function(e,t){return t=t||{},e&&(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},402:e=>{e.exports=function(e){return e[1]}},701:(e,t,r)=>{var i,n,s=function(){return i=void 0===i?Boolean(window&&document&&document.all&&!window.atob):i},o=(n={},function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}),l=[];function h(e){for(var t=-1,i=0;i<l.length;i++)if(l[i].identifier===e){t=i;break}return t}function p(e,t){for(var i={},n=[],r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s=i[a]||0,p="".concat(a," ").concat(s),a=(i[a]=s+1,h(p)),s={css:o[1],media:o[2],sourceMap:o[3]};-1!==a?(l[a].references++,l[a].updater(s)):l.push({identifier:p,updater:function(t,e){var i,n,r;{var o;r=e.singleton?(o=y++,i=m=m||u(e),n=c.bind(null,i,o,!1),c.bind(null,i,o,!0)):(i=u(e),n=function(e,t,i){var n=i.css,r=i.media,i=i.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media");i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */"));if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i,e),function(){var e=i;null!==e.parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):r()}}(s,t),references:1}),n.push(p)}return n}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0!==i.nonce||(n=r.nc)&&(i.nonce=n),Object.keys(i).forEach(function(e){t.setAttribute(e,i[e])}),"function"==typeof e.insert)e.insert(t);else{var n=o(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}a=[];var a,d=function(e,t){return a[e]=t,a.filter(Boolean).join("\n")};function c(e,t,i,n){var i=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=d(t,i):(n=document.createTextNode(i),(i=e.childNodes)[t]&&e.removeChild(i[t]),i.length?e.insertBefore(n,i[t]):e.appendChild(n))}var m=null,y=0;e.exports=function(e,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=s());var a=p(e=e||[],o);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var i=h(a[t]);l[i].references--}for(var e=p(e,o),n=0;n<a.length;n++){var r=h(a[n]);0===l[r].references&&(l[r].updater(),l.splice(r,1))}a=e}}}},204:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},609:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},469:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},486:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},144:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},175:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z%27/%3e%3c/svg%3e"},740:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%230c63e4%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},460:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23212529%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},647:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},692:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},214:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27M2 5l6 6 6-6%27/%3e%3c/svg%3e"},931:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},349:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10l3 3l6-6%27/%3e%3c/svg%3e"},217:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%280, 0, 0, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},956:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},819:e=>{e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"}},n={};function De(e){var t=n[e];if(void 0!==t)return t.exports;t=n[e]={id:e,exports:{}};return i[e](t,t.exports,De),t.exports}De.m=i,De.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return De.d(t,{a:t}),t},De.d=(e,t)=>{for(var i in t)De.o(t,i)&&!De.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},De.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),De.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},De.b=document.baseURI||self.location.href;var Re={};(()=>{De.r(Re),De.d(Re,{FBWGBlock:()=>Be,HBlock:()=>R,HorizontalMenu:()=>D,MMBlock:()=>Le});function p(e,t){return window.hasOwnProperty("_YaSDK")||window.hasOwnProperty("YaGames")?L(e,t):"https://gamedistribution.com/games"}var L=function(e,t){var i;if(null!=(i=null==(i=window.YandexGamesSDKEnvironment)?void 0:i.browser)&&i.lang&&"en"===window.YandexGamesSDKEnvironment.browser.lang)return i=encodeURIComponent(t.toLowerCase()),"https://yandex.com/games/search?query=".concat(i,"&app=").concat(e);return"https://yandex.ru/games/app/".concat(e,"?utm_source=game_header_title")},D=(a.setList=function(e){a.gameList=e},a.show=function(e,t){for(var t=t.fontFamily,i=document.getElementById("more-games-container"),n=(i.className="container-hz-menu",i.style.display="flex",document.getElementById("more-games-title")),r=(n.style.display="flex",n.style.fontFamily=t||"Verdana",n.innerHTML=e||"More Games",document.createElement("div")),o=(r.style.display="flex",i.appendChild(r),0);o<a.gameList.length;o++)!function(e){var t=a.gameList[e],i=document.createElement("div"),e=(i.className="more-games-item",i.id="game-".concat(e),r.appendChild(i),document.createElement("div")),n=(e.className="img-hz-menu ",e.style.background='url("./assets/mimages/'.concat(t.icon,'")'),e.style.backgroundSize="contain",p(t.gameID,t.name)),e=(e.onclick=function(){window.op3n(n,"_blank")},i.appendChild(e),document.createElement("div"));e.className="more-games-text",e.innerHTML=t.name,i.appendChild(e)}(o)},a.hide=function(){var e=document.getElementById("more-games-container");e.style.display="none",e.querySelectorAll("*").forEach(function(e){return e.remove()}),document.getElementById("more-games-title").style.display="none"},a);function a(){}l.setList=function(e){l.gameList=e},l.show=function(e,t){for(var i=t.fontFamily,n=t.fontColor,r=t.borderColor,t=document.getElementById("more-games-container"),o=(t.className="container-block",t.style.display="flex",document.getElementById("more-games-title")),a=(o.style.display="flex",o.style.fontFamily=i||"Verdana",o.style.color=n||"white",o.innerHTML=e||"More Games",document.createElement("div")),s=(a.style.display="flex",t.appendChild(a),0);s<l.gameList.length;s++)!function(e){var t=l.gameList[e],i=document.createElement("div"),e=(i.className="more-games-item",i.id="game-".concat(e),a.appendChild(i),document.createElement("div")),n=(e.id="more-games-image",e.className="img-block",e.style.background='url("./assets/mimages/'.concat(t.icon,'")'),e.style.backgroundSize="contain",e.style.borderColor=r||"white",p(t.gameID,t.name));e.onclick=function(){window.op3n(n,"_blank")},i.appendChild(e)}(s)},l.hide=function(){var e=document.getElementById("more-games-container");e.style.display="none",e.querySelectorAll("*").forEach(function(e){return e.remove()}),document.getElementById("more-games-title").style.display="none"};var R=l;function l(){}var e=De(701),e=De.n(e),j=De(666),F={insert:"head",singleton:!1};e()(j.default,F),j.default.locals;function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,i){t&&N(e.prototype,t),i&&N(e,i)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function r(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function V(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?H(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?W(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var X={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]}};function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,u),this.init(e,t)}t(u,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||X,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(i).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(e){return new u(this.logger,q(q({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}}]);var d=new u,c=(t(m,[{key:"on",value:function(e,t){var i=this;return e.split(" ").forEach(function(e){i.observers[e]=i.observers[e]||[],i.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.observers[t]&&[].concat(this.observers[t]).forEach(function(e){e.apply(void 0,i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,[t].concat(i))})}}]),m);function m(){s(this,m),this.observers={}}function y(){var i,n,e=new Promise(function(e,t){i=e,n=t});return e.resolve=i,e.reject=n,e}function Y(e){return null==e?"":""+e}function _(e,t,i){function n(e){return e&&-1<e.indexOf("###")?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");1<o.length;){if(r())return{};var a=n(o.shift());!e[a]&&i&&(e[a]=new i),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:n(o.shift())}}function K(e,t,i){e=_(e,t,Object);e.obj[e.k]=i}function x(e,t){e=_(e,t),t=e.obj,e=e.k;if(t)return t[e]}function Z(e,t,i){e=x(e,i);return void 0!==e?e:x(t,i)}function f(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Q(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return J[e]}):e}var g="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),$=[" ",",","?","!",";"];function ee(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ee(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function te(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(i);return r(this,n?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}i(z,c),ie=te(z),t(z,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){e=this.options.ns.indexOf(e);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=(void 0!==n.keySeparator?n:this.options).keySeparator,n=(void 0!==n.ignoreJSONStructure?n:this.options).ignoreJSONStructure,o=[e,t],o=(i&&"string"!=typeof i&&(o=o.concat(i)),i&&"string"==typeof i&&(o=o.concat(r?i.split(r):i)),-1<e.indexOf(".")&&(o=e.split(".")),x(this.data,o));return o||!n||"string"!=typeof i?o:function e(t,i,n){var r=2<arguments.length&&void 0!==n?n:".";if(t){if(t[i])return t[i];for(var o=i.split(r),a=t,s=0;s<o.length;++s){if(!a)return;if("string"==typeof a[o[s]]&&s+1<o.length)return;if(void 0===a[o[s]]){for(var p=2,l=o.slice(s,s+p).join(r),h=a[l];void 0===h&&o.length>s+p;)p++,h=a[l=o.slice(s,s+p).join(r)];if(void 0===h)return;if(i.endsWith(l)){if("string"==typeof h)return h;if(l&&"string"==typeof h[l])return h[l]}var u=o.slice(s+p).join(r);return u?e(h,u,r):void 0}a=a[o[s]]}return a}}(this.data&&this.data[e]&&this.data[e][t],i,r)}},{key:"addResource",value:function(e,t,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator,a=(void 0===o&&(o="."),[e,t]);i&&(a=a.concat(o?i.split(o):i)),-1<e.indexOf(".")&&(n=t,t=(a=e.split("."))[1]),this.addNamespaces(t),K(this.data,a,n),r.silent||this.emit("added",e,t,i,n)}},{key:"addResources",value:function(e,t,i){var n,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(n in i)"string"!=typeof i[n]&&"[object Array]"!==Object.prototype.toString.apply(i[n])||this.addResource(e,t,n,i[n],{silent:!0});r.silent||this.emit("added",e,t,i)}},{key:"addResourceBundle",value:function(e,t,i,n,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t],s=(-1<e.indexOf(".")&&(n=i,i=t,t=(a=e.split("."))[1]),this.addNamespaces(t),x(this.data,a)||{});n?function e(t,i,n){for(var r in i)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof i[r]||i[r]instanceof String?n&&(t[r]=i[r]):e(t[r],i[r],n):t[r]=i[r])}(s,i,r):s=v(v({},s),i),K(this.data,a,s),o.silent||this.emit("added",e,t,i)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t=t||this.options.defaultNS,"v1"===this.options.compatibilityAPI?v(v({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(function(e){return t[e]&&0<Object.keys(t[e]).length})}},{key:"toJSON",value:function(){return this.data}}]);var ie,ne=z;function z(e){var t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,z),t=ie.call(this),g&&c.call(h(t)),t.data=e||{},t.options=i,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}var re={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,n,r){var o=this;return e.forEach(function(e){o.processors[e]&&(t=o.processors[e].process(t,i,n,r))}),t}};function oe(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oe(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function ae(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(i);return r(this,n?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}var se,pe={},le=(i(G,c),se=ae(G),t(G,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){if(null==e)return!1;e=this.resolve(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});return e&&void 0!==e.res}},{key:"extractFromKey",value:function(e,t){var i=(void 0!==t.nsSeparator?t:this.options).nsSeparator,n=(void 0!==t.keySeparator?t:this.options).keySeparator,r=t.ns||this.options.defaultNS||[],o=(i=void 0===i?":":i)&&-1<e.indexOf(i),t=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,i){t=t||"",i=i||"";var n=$.filter(function(e){return t.indexOf(e)<0&&i.indexOf(e)<0});if(0===n.length)return 1;var r,o=!(n=new RegExp("(".concat(n.map(function(e){return"?"===e?"\\?":e}).join("|"),")"))).test(e);return o||0<(r=e.indexOf(i))&&!n.test(e.substring(0,r))&&(o=!0),o}(e,i,n));if(o&&!t){o=e.match(this.interpolator.nestingRegexp);if(o&&0<o.length)return{key:e,namespaces:r};t=e.split(i);(i!==n||i===n&&-1<this.options.ns.indexOf(t[0]))&&(r=t.shift()),e=t.join(n)}return{key:e,namespaces:r="string"==typeof r?[r]:r}}},{key:"translate",value:function(e,n,t){var r=this;if(n=(n="object"!==O(n)&&this.options.overloadTranslationOptionHandler?this.options.overloadTranslationOptionHandler(arguments):n)||{},null==e)return"";Array.isArray(e)||(e=[String(e)]);var i=(void 0!==n.keySeparator?n:this.options).keySeparator,o=this.extractFromKey(e[e.length-1],n),a=o.key,s=o.namespaces,p=s[s.length-1],o=n.lng||this.language,l=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(o&&"cimode"===o.toLowerCase())return l?(l=n.nsSeparator||this.options.nsSeparator,p+l+a):a;var l=this.resolve(e,n),h=l&&l.res,u=l&&l.usedKey||a,d=l&&l.exactUsedKey||a,c=Object.prototype.toString.apply(h),m=(void 0!==n.joinArrays?n:this.options).joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&h&&("string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(c)<0&&("string"!=typeof m||"[object Array]"!==c)){if(!n.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(u,h,T(T({},n),{},{ns:s})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(i){var _,x,f="[object Array]"===c,g=f?[]:{},v=f?d:u;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&(x="".concat(v).concat(i).concat(_),g[_]=this.translate(x,T(T({},n),{joinArrays:!1,ns:s})),g[_]===x&&(g[_]=h[_]));h=g}}else if(y&&"string"==typeof m&&"[object Array]"===c)h=(h=h.join(m))&&this.extendTranslation(h,e,n,t);else{var f=!1,d=!1,u=void 0!==n.count&&"string"!=typeof n.count,z=G.hasDefaultValue(n),y=u?this.pluralResolver.getSuffix(o,n.count,n):"",b=n["defaultValue".concat(y)]||n.defaultValue;!this.isValidLookup(h)&&z&&(f=!0,h=b),this.isValidLookup(h)||(d=!0,h=a);var w=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&d?void 0:h,S=z&&b!==h&&this.options.updateMissing;if(d||f||S){this.logger.log(S?"updateKey":"missingKey",o,p,a,S?b:h),!i||(c=this.resolve(a,T(T({},n),{},{keySeparator:!1})))&&c.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");var C=[],k=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&k&&k[0])for(var M=0;M<k.length;M++)C.push(k[M]);else"all"===this.options.saveMissingTo?C=this.languageUtils.toResolveHierarchy(n.lng||this.language):C.push(n.lng||this.language);var P=function(e,t,i){i=z&&i!==h?i:w;r.options.missingKeyHandler?r.options.missingKeyHandler(e,p,t,i,S,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,p,t,i,S,n),r.emit("missingKey",e,p,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?C.forEach(function(t){r.pluralResolver.getSuffixes(t,n).forEach(function(e){P([t],a+e,n["defaultValue".concat(e)]||b)})}):P(C,a,b))}h=this.extendTranslation(h,e,n,l,t),d&&h===a&&this.options.appendNamespaceToMissingKey&&(h="".concat(p,":").concat(a)),(d||f)&&this.options.parseMissingKeyHandler&&(h="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(a,f?h:void 0):this.options.parseMissingKeyHandler(h))}return h}},{key:"extendTranslation",value:function(e,n,r,t,o){var i,a=this,s=(this.i18nFormat&&this.i18nFormat.parse?e=this.i18nFormat.parse(e,r,t.usedLng,t.usedNS,t.usedKey,{resolved:t}):r.skipInterpolation||(r.interpolation&&this.interpolator.init(T(T({},r),{interpolation:T(T({},this.options.interpolation),r.interpolation)})),(s="string"==typeof e&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r:this.options).interpolation.skipOnVariables)&&(p=(p=e.match(this.interpolator.nestingRegexp))&&p.length),i=r.replace&&"string"!=typeof r.replace?r.replace:r,this.options.interpolation.defaultVariables&&(i=T(T({},this.options.interpolation.defaultVariables),i)),e=this.interpolator.interpolate(e,i,r.lng||this.language,r),s&&p<((i=e.match(this.interpolator.nestingRegexp))&&i.length)&&(r.nest=!1),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return o&&o[0]===t[0]&&!r.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(t[0]," in key: ").concat(n[0])),null):a.translate.apply(a,t.concat([n]))},r)),r.interpolation&&this.interpolator.reset()),r.postProcess||this.options.postProcess),p="string"==typeof s?[s]:s;return e=null!=e&&p&&p.length&&!1!==r.applyPostProcessor?re.handle(p,e,n,this.options&&this.options.postProcessPassResolved?T({i18nResolved:t},r):r,this):e}},{key:"resolve",value:function(e){var h,i,u,d,n,c=this,m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(e="string"==typeof e?[e]:e).forEach(function(e){var a,s,p,l,t;c.isValidLookup(h)||(e=c.extractFromKey(e,m),a=e.key,i=a,e=e.namespaces,c.options.fallbackNS&&(e=e.concat(c.options.fallbackNS)),s=void 0!==m.count&&"string"!=typeof m.count,p=s&&!m.ordinal&&0===m.count&&c.pluralResolver.shouldUseIntlApi(),l=void 0!==m.context&&("string"==typeof m.context||"number"==typeof m.context)&&""!==m.context,t=m.lngs||c.languageUtils.toResolveHierarchy(m.lng||c.language,m.fallbackLng),e.forEach(function(o){c.isValidLookup(h)||(n=o,!pe["".concat(t[0],"-").concat(o)]&&c.utils&&c.utils.hasLoadedNamespace&&!c.utils.hasLoadedNamespace(n)&&(pe["".concat(t[0],"-").concat(o)]=!0,c.logger.warn('key "'.concat(i,'" for languages "').concat(t.join(", "),'" won\'t get resolved as namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),t.forEach(function(e){if(!c.isValidLookup(h)){d=e;var t,i,n,r=[a];for(c.i18nFormat&&c.i18nFormat.addLookupKeys?c.i18nFormat.addLookupKeys(r,a,e,o,m):(s&&(t=c.pluralResolver.getSuffix(e,m.count,m)),s&&(r.push(a+t),p&&r.push(a+"_zero")),l&&(i="".concat(a).concat(c.options.contextSeparator).concat(m.context),r.push(i),s&&(r.push(i+t),p&&r.push(i+"_zero"))));n=r.pop();)c.isValidLookup(h)||(u=n,h=c.getResource(e,o,n,m))}}))}))}),{res:h,usedKey:i,exactUsedKey:u,usedLng:d,usedNS:n}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return(this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat:this.resourceStore).getResource(e,t,i,n)}}],[{key:"hasDefaultValue",value:function(e){var t,i="defaultValue";for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&i===t.substring(0,i.length)&&void 0!==e[t])return!0;return!1}}]),G);function G(e){var t,i,n,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,G),t=se.call(this),g&&c.call(h(t)),i=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n=e,r=h(t),i.forEach(function(e){n[e]&&(r[e]=n[e])}),t.options=o,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=d.create("translator"),t}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}t(ue,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;e=e.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;e=e.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(e){var t,i;return"string"==typeof e&&-1<e.indexOf("-")?(t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-"),this.options.lowerCaseLng?i=i.map(function(e){return e.toLowerCase()}):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),-1<t.indexOf(i[1].toLowerCase())&&(i[1]=b(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),-1<t.indexOf(i[1].toLowerCase())&&(i[1]=b(i[1].toLowerCase())),-1<t.indexOf(i[2].toLowerCase())&&(i[2]=b(i[2].toLowerCase()))),i.join("-")):this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return"languageOnly"!==this.options.load&&!this.options.nonExplicitSupportedLngs||(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(e)}},{key:"getBestMatchFromCodes",value:function(e){var i,n=this;return e?(e.forEach(function(e){i||(e=n.formatLanguageCode(e),n.options.supportedLngs&&!n.isSupportedCode(e)||(i=e))}),!i&&this.options.supportedLngs&&e.forEach(function(e){var t;if(!i)return t=n.getLanguagePartFromCode(e),n.isSupportedCode(t)?i=t:void(i=n.options.supportedLngs.find(function(e){if(0===e.indexOf(t))return e}))}),i=i||this.getFallbackCodes(this.options.fallbackLng)[0]):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("string"==typeof(e="function"==typeof e?e(t):e)&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var i=e[t];return(i=(i=(i=(i=i||e[this.getScriptPartFromCode(t)])||e[this.formatLanguageCode(t)])||e[this.getLanguagePartFromCode(t)])||e.default)||[]}},{key:"toResolveHierarchy",value:function(e,t){function i(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))}var n=this,t=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[];return"string"==typeof e&&-1<e.indexOf("-")?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),t.forEach(function(e){r.indexOf(e)<0&&i(n.formatLanguageCode(e))}),r}}]);var he=ue;function ue(e){s(this,ue),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=d.create("languageUtils")}var de=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ce={1:function(e){return Number(1<e)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5)},6:function(e){return Number(1==e?0:2<=e&&e<=4?1:2)},7:function(e){return Number(1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(2<=e)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||0<e%100&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||10<e)&&e%10==0?2:3)}},me=["v1","v2","v3"],ye={zero:0,one:1,two:2,few:3,many:4,other:5};t(xe,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){e=this.getRule(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return this.shouldUseIntlApi()?e&&1<e.resolvedOptions().pluralCategories.length:e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).map(function(e){return"".concat(t).concat(e)})}},{key:"getSuffixes",value:function(t){var i=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=this.getRule(t,n);return e?this.shouldUseIntlApi()?e.resolvedOptions().pluralCategories.sort(function(e,t){return ye[e]-ye[t]}).map(function(e){return"".concat(i.options.prepend).concat(e)}):e.numbers.map(function(e){return i.getSuffix(t,e,n)}):[]}},{key:"getSuffix",value:function(e,t){var i=this.getRule(e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(i.select(t)):this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){function i(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()}var n=this,t=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[t];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}},{key:"shouldUseIntlApi",value:function(){return!me.includes(this.options.compatibilityJSON)}}]);var _e=xe;function xe(e){var i,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,xe),this.languageUtils=e,this.options=t,this.logger=d.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(i={},de.forEach(function(t){t.lngs.forEach(function(e){i[e]={numbers:t.nr,plurals:ce[t.fc]}})}),i)}function fe(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function w(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):fe(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}t(ve,[{key:"init",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(e.interpolation||(e.interpolation={escapeValue:!0}),e.interpolation);this.escape=void 0!==e.escape?e.escape:Q,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?f(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?f(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator||e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?f(e.nestingPrefix):e.nestingPrefixEscaped||f("$t("),this.nestingSuffix=e.nestingSuffix?f(e.nestingSuffix):e.nestingSuffixEscaped||f(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator||e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces||1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix),e=(this.regexp=new RegExp(e,"g"),"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),e=(this.regexpUnescape=new RegExp(e,"g"),"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix));this.nestingRegexp=new RegExp(e,"g")}},{key:"interpolate",value:function(n,r,o,a){var s,p,l,h=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function t(e){return e.replace(/\$/g,"$$$$")}this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,c=(a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a:this.options).interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:t},{regex:this.regexp,safeValue:function(e){return h.escapeValue?t(h.escape(e)):t(e)}}].forEach(function(e){for(l=0;s=e.regex.exec(n);){var t=s[1].trim();if(void 0===(p=function(e){if(e.indexOf(h.formatSeparator)<0)return t=Z(r,u,e),h.alwaysFormat?h.format(t,void 0,o,w(w(w({},a),r),{},{interpolationkey:e})):t;var t=e.split(h.formatSeparator),e=t.shift().trim(),t=t.join(h.formatSeparator).trim();return h.format(Z(r,u,e),t,o,w(w(w({},a),r),{},{interpolationkey:e}))}(t)))if("function"==typeof d){var i=d(n,s,a);p="string"==typeof i?i:""}else if(a&&a.hasOwnProperty(t))p="";else{if(c){p=s[0];continue}h.logger.warn("missed to pass in variable ".concat(t," for interpolating ").concat(n)),p=""}else"string"==typeof p||h.useRawValueToEscape||(p=Y(p));i=e.safeValue(p);if(n=n.replace(s[0],i),c?(e.regex.lastIndex+=i.length,e.regex.lastIndex-=s[0].length):e.regex.lastIndex=0,++l>=h.maxReplaces)break}}),n}},{key:"nest",value:function(e,t){var i,n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=w({},r);function a(t,e){var i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;var n=t.split(new RegExp("".concat(i,"[ ]*{"))),r="{".concat(n[1]);t=n[0],r=(r=this.interpolate(r,o)).replace(/'/g,'"');try{o=JSON.parse(r),e&&(o=w(w({},e),o))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(i).concat(r)}return delete o.defaultValue,t}for(o.applyPostProcessor=!1,delete o.defaultValue;i=this.nestingRegexp.exec(e);){var s,p=[],l=!1;if(-1===i[0].indexOf(this.formatSeparator)||/{.*}/.test(i[1])||(s=i[1].split(this.formatSeparator).map(function(e){return e.trim()}),i[1]=s.shift(),p=s,l=!0),(s=t(a.call(this,i[1].trim(),o),o))&&i[0]===e&&"string"!=typeof s)return s;(s="string"!=typeof s?Y(s):s)||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),s=""),l&&(s=p.reduce(function(e,t){return n.format(e,t,r.lng,w(w({},r),{},{interpolationkey:i[1].trim()}))},s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}]);var ge=ve;function ve(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,ve),this.logger=d.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.init(e)}function ze(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ze(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}t(we,[{key:"init",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator||t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,s,p){var l=this;return t.split(this.formatSeparator).reduce(function(e,t){n=(t=t).toLowerCase().trim(),i={},-1<t.indexOf("(")&&(n=(t=t.split("("))[0].toLowerCase().trim(),t=t[1].substring(0,t[1].length-1),"currency"===n&&t.indexOf(":")<0?i.currency||(i.currency=t.trim()):"relativetime"===n&&t.indexOf(":")<0?i.range||(i.range=t.trim()):t.split(";").forEach(function(e){var t;e&&(t=(e=V(e.split(":")))[0],"false"===(e=e.slice(1).join(":")).trim()&&(i[t.trim()]=!1),"true"===e.trim()&&(i[t.trim()]=!0),isNaN(e.trim())||(i[t.trim()]=parseInt(e.trim(),10)),i[t.trim()]||(i[t.trim()]=e.trim()))}));var i,t={formatName:n,formatOptions:i},n=t.formatName,t=t.formatOptions;if(l.formats[n]){var r=e;try{var o=p&&p.formatParams&&p.formatParams[p.interpolationkey]||{},a=o.locale||o.lng||p.locale||p.lng||s,r=l.formats[n](e,a,S(S(S({},t),p),o))}catch(e){l.logger.warn(e)}return r}return l.logger.warn("there was no format function for ".concat(n)),e},e)}}]);var be=we;function we(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,we),this.logger=d.create("formatter"),this.options=e,this.formats={number:function(e,t,i){return new Intl.NumberFormat(t,i).format(e)},currency:function(e,t,i){return new Intl.NumberFormat(t,S(S({},i),{},{style:"currency"})).format(e)},datetime:function(e,t,i){return new Intl.DateTimeFormat(t,S({},i)).format(e)},relativetime:function(e,t,i){return new Intl.RelativeTimeFormat(t,S({},i)).format(e,i.range||"day")},list:function(e,t,i){return new Intl.ListFormat(t,S({},i)).format(e)}},this.init(e)}function Se(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function Ce(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Se(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function ke(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(i);return r(this,n?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}i(C,c),Me=ke(C),t(C,[{key:"queueLoad",value:function(e,t,r,i){var o=this,a=[],s=[],p=[],l=[];return e.forEach(function(i){var n=!0;t.forEach(function(e){var t="".concat(i,"|").concat(e);!r.reload&&o.store.hasResourceBundle(i,e)?o.state[t]=2:o.state[t]<0||(1===o.state[t]?s.indexOf(t)<0&&s.push(t):(o.state[t]=1,n=!1,s.indexOf(t)<0&&s.push(t),a.indexOf(t)<0&&a.push(t),l.indexOf(e)<0&&l.push(e)))}),n||p.push(i)}),(a.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:i}),{toLoad:a,pending:s,toLoadLanguages:p,toLoadNamespaces:l}}},{key:"loaded",value:function(p,l,e){var t=p.split("|"),h=t[0],u=t[1],d=(l&&this.emit("failedLoading",h,u,l),e&&this.store.addResourceBundle(h,u,e),this.state[p]=l?-1:2,{});this.queue.forEach(function(e){t=e.loaded,n=u,i=(t=_(t,i=[h],Object)).obj,t=t.k,i[t]=i[t]||[],r&&(i[t]=i[t].concat(n)),r||i[t].push(n);for(var t,i,n,r,o=e.pending,a=p,s=o.indexOf(a);-1!==s;)o.splice(s,1),s=o.indexOf(a);l&&e.errors.push(l),0!==e.pending.length||e.done||(Object.keys(e.loaded).forEach(function(t){d[t]||(d[t]=[]),e.loaded[t].length&&e.loaded[t].forEach(function(e){d[t].indexOf(e)<0&&d[t].push(e)})}),e.done=!0,e.errors.length?e.callback(e.errors):e.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(i,n,r){var o=this,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:350,p=5<arguments.length?arguments[5]:void 0;return i.length?this.backend[r](i,n,function(e,t){e&&t&&a<5?setTimeout(function(){o.read.call(o,i,n,r,a+1,2*s,p)},s):p(e,t)}):p(null,{})}},{key:"prepareLoading",value:function(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e));e=this.queueLoad(e,t="string"==typeof t?[t]:t,n,r);if(!e.toLoad.length)return e.pending.length||r(),null;e.toLoad.forEach(function(e){i.loadOne(e)})}},{key:"load",value:function(e,t,i){this.prepareLoading(e,t,{},i)}},{key:"reload",value:function(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}},{key:"loadOne",value:function(i){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=i.split("|"),o=e[0],a=e[1];this.read(o,a,"read",void 0,void 0,function(e,t){e&&n.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(o," failed"),e),!e&&t&&n.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(o),t),n.loaded(i,e,t)})}},{key:"saveMissing",value:function(e,t,i,n,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(e,t,i,n,null,Ce(Ce({},o),{},{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,i,n))}}]);var Me,Pe=C;function C(e,t,i){var n,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return s(this,C),n=Me.call(this),g&&c.call(h(n)),n.backend=e,n.store=t,n.services=i,n.languageUtils=i.languageUtils,n.options=r,n.logger=d.create("backendConnector"),n.state={},n.queue=[],n.backend&&n.backend.init&&n.backend.init(i,r.backend,r),n}function Oe(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Te(t,e){var i,n=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)),n}function k(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(i),!0).forEach(function(e){n(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Te(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function Ge(i){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=o(i);return r(this,n?(e=o(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function M(){}i(A,c),Ae=Ge(A),t(A,[{key:"init",value:function(){var e,t,r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,o=("function"==typeof i&&(n=i,i={}),!i.defaultNS&&i.ns&&("string"==typeof i.ns?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0])),{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t,i={};return"object"===O(e[1])&&(i=e[1]),"string"==typeof e[1]&&(i.defaultValue=e[1]),"string"==typeof e[2]&&(i.tDescription=e[2]),"object"!==O(e[2])&&"object"!==O(e[3])||(t=e[3]||e[2],Object.keys(t).forEach(function(e){i[e]=t[e]})),i},interpolation:{escapeValue:!0,format:function(e,t,i,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}});function a(e){return e?"function"==typeof e?new e:e:null}this.options=k(k(k({},o),this.options),Oe(i)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=k(k({},o.interpolation),this.options.interpolation)),void 0!==i.keySeparator&&(this.options.userDefinedKeySeparator=i.keySeparator),void 0!==i.nsSeparator&&(this.options.userDefinedNsSeparator=i.nsSeparator),this.options.isClone||(this.modules.logger?d.init(a(this.modules.logger),this.options):d.init(null,this.options),this.modules.formatter?e=this.modules.formatter:"undefined"!=typeof Intl&&(e=be),i=new he(this.options),this.store=new ne(this.options.resources,this.options),(t=this.services).logger=d,t.resourceStore=this.store,t.languageUtils=i,t.pluralResolver=new _e(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!e||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(t.formatter=a(e),t.formatter.init(t,this.options),this.options.interpolation.format=t.formatter.format.bind(t.formatter)),t.interpolator=new ge(this.options),t.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},t.backendConnector=new Pe(a(this.modules.backend),t.resourceStore,t,this.options),t.backendConnector.on("*",function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),this.modules.languageDetector&&(t.languageDetector=a(this.modules.languageDetector),t.languageDetector.init(t,this.options.detection,this.options)),this.modules.i18nFormat&&(t.i18nFormat=a(this.modules.i18nFormat),t.i18nFormat.init&&t.i18nFormat.init(this)),this.translator=new le(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),this.modules.external.forEach(function(e){e.init&&e.init(r)})),this.format=this.options.interpolation.format,n=n||M,!this.options.fallbackLng||this.services.languageDetector||this.options.lng||0<(i=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)).length&&"dev"!==i[0]&&(this.options.lng=i[0]),this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){r[t]=function(){var e;return(e=r.store)[t].apply(e,arguments)}});function s(){function e(e,t){r.isInitialized&&!r.initializedStoreOnce&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),p.resolve(t),n(e,t)}if(r.languages&&"v1"!==r.options.compatibilityAPI&&!r.isInitialized)return e(null,r.t.bind(r));r.changeLanguage(r.options.lng,e)}["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){r[t]=function(){var e;return(e=r.store)[t].apply(e,arguments),r}});var p=y();return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),p}},{key:"loadResources",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:M,n="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return i();var r=[],e=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){r.indexOf(e)<0&&r.push(e)})};n?e(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e),this.options.preload&&this.options.preload.forEach(e),this.services.backendConnector.load(r,this.options.ns,function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),i(e)})}else i(null)}},{key:"reloadResources",value:function(e,t,i){var n=y();return e=e||this.languages,t=t||this.options.ns,i=i||M,this.services.backendConnector.reload(e,t,function(e){n.resolve(),i(e)}),n}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(e.type)return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&re.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this;throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()")}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(-1<["cimode","dev"].indexOf(e)))for(var t=0;t<this.languages.length;t++){var i=this.languages[t];if(!(-1<["cimode","dev"].indexOf(i))&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}},{key:"changeLanguage",value:function(i,n){function e(e){var t="string"==typeof(e=i||e||!r.services.languageDetector?e:[])?e:r.services.languageUtils.getBestMatchFromCodes(e);t&&(r.language||a(t),r.translator.language||r.translator.changeLanguage(t),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage(t)),r.loadResources(t,function(e){s(e,t)})}var r=this,o=(this.isLanguageChangingTo=i,y()),a=(this.emit("languageChanging",i),function(e){r.language=e,r.languages=r.services.languageUtils.toResolveHierarchy(e),r.resolvedLanguage=void 0,r.setResolvedLanguage(e)}),s=function(e,t){t?(a(t),r.translator.changeLanguage(t),r.isLanguageChangingTo=void 0,r.emit("languageChanged",t),r.logger.log("languageChanged",t)):r.isLanguageChangingTo=void 0,o.resolve(function(){return r.t.apply(r,arguments)}),n&&n(e,function(){return r.t.apply(r,arguments)})};return i||!this.services.languageDetector||this.services.languageDetector.async?!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(i):e(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(e,t,a){function s(e,t){var i;if("object"!==O(t)){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];i=p.options.overloadTranslationOptionHandler([e,t].concat(r))}else i=k({},t);return i.lng=i.lng||s.lng,i.lngs=i.lngs||s.lngs,i.ns=i.ns||s.ns,t=p.options.keySeparator||".",t=a?"".concat(a).concat(t).concat(e):e,p.t(t,i)}var p=this;return"string"==typeof e?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=a,s}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;function a(e,t){return-1===(e=i.services.backendConnector.state["".concat(e,"|").concat(t)])||2===e}if(t.precheck){t=t.precheck(this,a);if(void 0!==t)return t}return!!this.hasResourceBundle(n,e)||(!this.services.backendConnector.backend||!(!a(n,e)||r&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var i=this,n=y();return this.options.ns?((e="string"==typeof e?[e]:e).forEach(function(e){i.options.ns.indexOf(e)<0&&i.options.ns.push(e)}),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var i=y(),n=this.options.preload||[],e=(e="string"==typeof e?[e]:e).filter(function(e){return n.indexOf(e)<0});return e.length?(this.options.preload=n.concat(e),this.loadResources(function(e){i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(!(e=e||(this.resolvedLanguage||(this.languages&&0<this.languages.length?this.languages[0]:this.language))))return"rtl";return-1<["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))||1<e.toLowerCase().indexOf("-arab")?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:M,e=k(k(k({},this.options),e),{isClone:!0}),r=new A(e);return["store","services","language"].forEach(function(e){r[e]=t[e]}),r.services=k({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new le(r.services,r.options),r.translator.on("*",function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),r.init(e,i),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]);var Ae,P=A;function A(){var e,t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;if(s(this,A),e=Ae.call(this),g&&c.call(h(e)),e.options=Oe(i),e.services={},e.logger=d,e.modules={external:[]},t=h(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))}),n&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,n),r(e,h(e));setTimeout(function(){e.init(i,n)},0)}return e}n(P,"createInstance",function(){return new P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)});e=P.createInstance();e.createInstance=P.createInstance,e.createInstance,e.init,e.loadResources,e.reloadResources,e.use,e.changeLanguage,e.getFixedT,e.t,e.exists,e.setDefaultNamespace,e.hasLoadedNamespace,e.loadNamespaces,e.loadLanguages;const Ee=e;Ie.init=function(){Ee.init({lng:"en",debug:!1,resources:{en:{translation:{play_more:"Play More",more_games:"More Games"}},ru:{translation:{play_more:"Больше игр",more_games:"Больше игр"}}}}).then(function(){var e=navigator.language;-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1===["ru","en"].indexOf(e)&&(e="en"),Ee.changeLanguage(e)})},Ie.getValue=function(e){return Ee.t(e)};var E=Ie;function Ie(){}I.load=function(e){I.gameList=e,E.init()},I.show=function(e,t){t.fontFamily,t.fontColor,t.borderColor;for(var t=document.createElement("div"),i=(t.id="mg-container",t.className="card",t.style.display="block",t.style.position="absolute",t.style.top="5%",t.style.left="84%",t.className="container-block",t.style.display="flex",t.style.width="16rem",document.body.appendChild(t),document.createElement("div")),t=(i.className="card-body",i.style.borderRadius="10px",i.style.backgroundColor="var(--bs-gray-200)",t.appendChild(i),document.createElement("div")),n=(t.style.display="flex",t.style.justifyContent="space-around",t.style.alignItems="center",t.style.paddingBottom="10px",i.appendChild(t),document.createElement("h5")),n=(n.innerHTML=E.getValue("play_more"),n.style.color="var(--bs-gray-800)",n.style.textShadow="1px 1px 0px #0000004a",t.appendChild(n),document.createElement("img")),t=(n.src="./assets/mimages/fbwgpeeps.png",n.style.backgroundSize="contain",n.style.height="65px",n.style.width="65px",t.appendChild(n),document.createElement("div")),o=(i.appendChild(t),document.createElement("div")),r=(o.className="container",o.style.display="flex",o.style.flexDirection="row",o.style.justifyContent="space-around",o.style.backgroundColor="var(--bs-gray-400)",o.style.borderRadius="10px",o.style.padding="0.8rem 0.8rem",o.style.boxShadow="inset 0 0 10px var(--bs-gray)",i.appendChild(o),0);r<I.gameList.length;r++)!function(e){var t,i,n,r,e=I.gameList[e];e.gameID&&((t=document.createElement("div")).className="fbwg-icon-container",t.style.display="flex",t.style.flexDirection="column",t.style.justifyContent="center",t.style.alignItems="center",o.appendChild(t),(i=document.createElement("span")).id="fbwg-game-name",i.className="card-text",i.innerHTML=e.name,i.style.color="var(--bs-gray-700)",(n=e.icon.match(/[0-9]/gi))&&(i.style.color="5"===n[0]?"var(--bs-indigo)":"var(--bs-red)"),t.appendChild(i),(n=document.createElement("img")).id="fbwg-image",n.className="img-block",n.src="./assets/mimages/".concat(e.icon),n.style.cursor="pointer",n.style.height="45px",n.style.width="53px",n.style.border="0",n.style.backgroundSize="contain",r=p(e.gameID,e.name),n.onclick=function(){window.op3n(r,"_blank")},t.appendChild(n))}(r)},I.hide=function(){var e=document.getElementById("mg-container");e.style.display="none";try{e.querySelectorAll("*").forEach(function(e){return e.remove()}),e.remove()}catch(e){}},I.resize=function(e){try{var t=document.getElementById("mg-container");e?(t.style.top="5%",t.style.left="84%",t.style.transform="scale(1)"):window.innerHeight>window.innerWidth?(t.style.transformOrigin="40% 20%",t.style.transform="scale(0.6)",t.style.top="0",t.style.left="45%"):(t.style.transformOrigin="40% 20%",t.style.transform="scale(0.6)",t.style.top="0",t.style.left="76%")}catch(e){}};var Be=I;function I(){}B.load=function(e){B.gameList=e,E.init()},B.show=function(e,t){t.fontFamily,t.fontColor,t.borderColor;for(var t=document.createElement("div"),i=(t.id="mm-container",t.className="card",t.style.display="block",t.style.position="absolute",t.style.top="80%",t.style.left="43%",t.className="container-block",t.style.display="flex",document.body.appendChild(t),document.createElement("div")),t=(i.className="card-body",i.style.borderRadius="10px",i.style.padding="0.5rem 0.5rem",t.appendChild(i),document.createElement("div")),n=(t.style.display="flex",t.style.justifyContent="space-around",t.style.alignItems="center",i.appendChild(t),document.createElement("h3")),r=(n.innerHTML=E.getValue("more_games"),n.style.color="var(--bs-gray-300)",n.style.textShadow="1px 1px 0px #0000004a",t.appendChild(n),document.createElement("div")),o=(r.className="container",r.style.display="flex",r.style.flexDirection="row",r.style.justifyContent="space-around",r.style.borderRadius="10px",r.style.padding="0.8rem 0.8rem",r.style.minWidth="250px",i.appendChild(r),0);o<B.gameList.length;o++)!function(e){var t,i,n,e=B.gameList[e];e.gameID&&((t=document.createElement("div")).className="fbwg-icon-container",t.style.display="flex",t.style.flexDirection="column",t.style.justifyContent="center",t.style.alignItems="center",r.appendChild(t),(i=document.createElement("img")).id="fbwg-image",i.className="img-block",i.src="./assets/mimages/".concat(e.icon),i.style.cursor="pointer",i.style.height="100%",i.style.width="100px",i.style.border="0",i.style.backgroundSize="contain",i.style.borderRadius="15px",i.style.boxShadow="2px 2px 5px var(--bs-body-color)",n=p(e.gameID,e.name),i.onclick=function(){window.op3n(n,"_blank")},t.appendChild(i))}(o)},B.hide=function(){var e=document.getElementById("mm-container");e.style.display="none";try{e.querySelectorAll("*").forEach(function(e){return e.remove()}),e.remove()}catch(e){}},B.resize=function(e){try{var t=document.getElementById("mm-container");e?(t.style.top="80%",t.style.left="43%",t.style.transform="scale(1)"):window.innerHeight>window.innerWidth?(t.style.transformOrigin="40% 20%",t.style.transform="scale(0.6)",t.style.top="0",t.style.left="45%"):(t.style.transformOrigin="40% 20%",t.style.transform="scale(0.7)",t.style.top="72%",t.style.left="calc(100vw * 0.5 - 121px)")}catch(e){}};var Le=B;function B(){}})(),self.h5CrossPromo=Re})(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.i18next=t()}(this,function(){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var i=t,n=[],r=!0,t=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!i||n.length!==i);r=!0);}catch(e){t=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(t)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},L={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var i;console&&console[e]&&(i=console)[e].apply(i,function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))}};function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};o(this,i),this.init(e,t)}i.prototype.init=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||L,this.options=t,this.debug=t.debug},i.prototype.setDebug=function(e){this.debug=e},i.prototype.log=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)},i.prototype.warn=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)},i.prototype.error=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")},i.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},i.prototype.forward=function(e,t,i,n){return n&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+i+this.prefix+" "+e[0]),this.logger[t](e))},i.prototype.create=function(e){return new i(this.logger,y({prefix:this.prefix+":"+e+":"},this.options))};var p=new i,t=(n.prototype.on=function(e,t){var i=this;e.split(" ").forEach(function(e){i.observers[e]=i.observers[e]||[],i.observers[e].push(t)})},n.prototype.off=function(t,i){var n=this;this.observers[t]&&this.observers[t].forEach(function(){var e;i?-1<(e=n.observers[t].indexOf(i))&&n.observers[t].splice(e,1):delete n.observers[t]})},n.prototype.emit=function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];this.observers[t]&&[].concat(this.observers[t]).forEach(function(e){e.apply(void 0,i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(e){e.apply(e,(e=[t]).concat.apply(e,i))})},n);function n(){o(this,n),this.observers={}}function l(e){return null==e?"":""+e}function _(e,t,i){function n(e){return e&&-1<e.indexOf("###")?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");1<o.length;){if(r())return{};var a=n(o.shift());!e[a]&&i&&(e[a]=new i),e=e[a]}return r()?{}:{obj:e,k:n(o.shift())}}function s(e,t,i){e=_(e,t,Object);e.obj[e.k]=i}function h(e,t){e=_(e,t),t=e.obj,e=e.k;if(t)return t[e]}function r(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function R(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return D[e]}):e}e(d,u=t),d.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},d.prototype.removeNamespaces=function(e){e=this.options.ns.indexOf(e);-1<e&&this.options.ns.splice(e,1)},d.prototype.getResource=function(e,t,i){var n=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator,t=(void 0===n&&(n="."),[e,t]);return i&&"string"!=typeof i&&(t=t.concat(i)),i&&"string"==typeof i&&(t=t.concat(n?i.split(n):i)),-1<e.indexOf(".")&&(t=e.split(".")),h(this.data,t)},d.prototype.addResource=function(e,t,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator,a=(void 0===o&&(o="."),[e,t]);i&&(a=a.concat(o?i.split(o):i)),-1<e.indexOf(".")&&(n=t,t=(a=e.split("."))[1]),this.addNamespaces(t),s(this.data,a,n),r.silent||this.emit("added",e,t,i,n)},d.prototype.addResources=function(e,t,i){for(var n in i)"string"==typeof i[n]&&this.addResource(e,t,n,i[n],{silent:!0});this.emit("added",e,t,i)},d.prototype.addResourceBundle=function(e,t,i,n,r){var o=[e,t],a=(-1<e.indexOf(".")&&(n=i,i=t,t=(o=e.split("."))[1]),this.addNamespaces(t),h(this.data,o)||{});n?function e(t,i,n){for(var r in i)r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof i[r]||i[r]instanceof String?n&&(t[r]=i[r]):e(t[r],i[r],n):t[r]=i[r]}(a,i,r):a=y({},a,i),s(this.data,o,a),this.emit("added",e,t,i)},d.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},d.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},d.prototype.getResourceBundle=function(e,t){return t=t||this.options.defaultNS,"v1"===this.options.compatibilityAPI?y({},this.getResource(e,t)):this.getResource(e,t)},d.prototype.toJSON=function(){return this.data};var u,j=d;function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"},i=(o(this,d),a(this,u.call(this)));return i.data=e,i.options=t,i}var x={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,n,r){var o=this;return e.forEach(function(e){o.processors[e]&&(t=o.processors[e].process(t,i,n,r))}),t}};function f(e){return e.interpolation={unescapeSuffix:"HTML"},e.interpolation.prefix=e.interpolationPrefix||"__",e.interpolation.suffix=e.interpolationSuffix||"__",e.interpolation.escapeValue=e.escapeInterpolation||!1,e.interpolation.nestingPrefix=e.reusePrefix||"$t(",e.interpolation.nestingSuffix=e.reuseSuffix||")",e}function g(e){return(e=e.interpolationPrefix||e.interpolationSuffix||void 0!==e.escapeInterpolation?f(e):e).nsSeparator=e.nsseparator,e.keySeparator=e.keyseparator,e.returnObjects=e.returnObjectTrees,e}e(b,v=t),b.prototype.changeLanguage=function(e){e&&(this.language=e)},b.prototype.exists=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(t=g(t)),void 0!==this.resolve(e,t)},b.prototype.extractFromKey=function(e,t){var i,n=t.nsSeparator||this.options.nsSeparator,r=t.keySeparator||this.options.keySeparator||".",t=t.ns||this.options.defaultNS;return(n=void 0===n?":":n)&&-1<e.indexOf(n)&&(i=e.split(n),(n!==r||n===r&&-1<this.options.ns.indexOf(i[0]))&&(t=i.shift()),e=i.join(r)),{key:e,namespaces:t="string"==typeof t?[t]:t}},b.prototype.translate=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===t?"undefined":m(t))?t=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(t=g(t)),null==e||""===e)return"";"number"==typeof e&&(e=String(e));var i=t.keySeparator||this.options.keySeparator||".",n=this.extractFromKey((e="string"==typeof e?[e]:e)[e.length-1],t),r=n.key,o=n.namespaces,n=o[o.length-1],a=t.lng||this.language,s=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase())return s?n+(t.nsSeparator||this.options.nsSeparator)+r:r;var p=this.resolve(e,t),s=Object.prototype.toString.apply(p),e=(void 0!==t.joinArrays?t:this.options).joinArrays;if(p&&"string"!=typeof p&&["[object Number]","[object Function]","[object RegExp]"].indexOf(s)<0&&(!e||"[object Array]"!==s)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(r,p,t):"key '"+r+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var l,h="[object Array]"===s?[]:{};for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(h[l]=this.translate(""+r+i+l,y({},t,{joinArrays:!1,ns:o})));p=h}}else if(e&&"[object Array]"===s)p=(p=p.join(e))&&this.extendTranslation(p,r,t);else{s=!1,e=!1;if(this.isValidLookup(p)||void 0===t.defaultValue||(s=!0,p=t.defaultValue),this.isValidLookup(p)||(e=!0,p=r),e||s){this.logger.log("missingKey",a,n,r,p);var u=[],d=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&d&&d[0])for(var c=0;c<d.length;c++)u.push(d[c]);else"all"===this.options.saveMissingTo?u=this.languageUtils.toResolveHierarchy(t.lng||this.language):u.push(t.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(u,n,r,p):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(u,n,r,p)),this.emit("missingKey",u,n,r,p)}p=this.extendTranslation(p,r,t),e&&p===r&&this.options.appendNamespaceToMissingKey&&(p=n+":"+r),e&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p},b.prototype.extendTranslation=function(e,t,i){var n=this,r=(i.interpolation&&this.interpolator.init(y({},i,{interpolation:y({},this.options.interpolation,i.interpolation)})),i.replace&&"string"!=typeof i.replace?i.replace:i),r=(this.options.interpolation.defaultVariables&&(r=y({},this.options.interpolation.defaultVariables,r)),e=this.interpolator.interpolate(e,r,i.lng||this.language),!1!==i.nest&&(e=this.interpolator.nest(e,function(){return n.translate.apply(n,arguments)},i)),i.interpolation&&this.interpolator.reset(),i.postProcess||this.options.postProcess),r="string"==typeof r?[r]:r;return e=void 0!==e&&r&&r.length&&!1!==i.applyPostProcessor?x.handle(r,e,t,i,this):e},b.prototype.resolve=function(e){var l=this,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=void 0;return(e="string"==typeof e?[e]:e).forEach(function(e){var a,s,p,t;l.isValidLookup(u)||(e=l.extractFromKey(e,h),a=e.key,e=e.namespaces,l.options.fallbackNS&&(e=e.concat(l.options.fallbackNS)),s=void 0!==h.count&&"string"!=typeof h.count,p=void 0!==h.context&&"string"==typeof h.context&&""!==h.context,t=h.lngs||l.languageUtils.toResolveHierarchy(h.lng||l.language),e.forEach(function(o){l.isValidLookup(u)||t.forEach(function(e){if(!l.isValidLookup(u)){var t,i=a,n=[i],r=void 0;for(s&&(r=l.pluralResolver.getSuffix(e,h.count)),s&&p&&n.push(i+r),p&&n.push(i+=""+l.options.contextSeparator+h.context),s&&n.push(i+=r);t=n.pop();)l.isValidLookup(u)||(u=l.getResource(e,o,t,h))}})}))}),u},b.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},b.prototype.getResource=function(e,t,i){return this.resourceStore.getResource(e,t,i,3<arguments.length&&void 0!==arguments[3]?arguments[3]:{})};var v,z=b;function b(e){var t,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=(o(this,b),a(this,v.call(this)));return t=e,i=r,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"].forEach(function(e){t[e]&&(i[e]=t[e])}),r.options=n,r.logger=p.create("translator"),r}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}S.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;e=e.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},S.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;e=e.split("-");return this.formatLanguageCode(e[0])},S.prototype.formatLanguageCode=function(e){var t,i;return"string"==typeof e&&-1<e.indexOf("-")?(t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-"),this.options.lowerCaseLng?i=i.map(function(e){return e.toLowerCase()}):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),-1<t.indexOf(i[1].toLowerCase())&&(i[1]=w(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),-1<t.indexOf(i[1].toLowerCase())&&(i[1]=w(i[1].toLowerCase())),-1<t.indexOf(i[2].toLowerCase())&&(i[2]=w(i[2].toLowerCase()))),i.join("-")):this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},S.prototype.isWhitelisted=function(e){return"languageOnly"!==this.options.load&&!this.options.nonExplicitWhitelist||(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(e)},S.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var i=e[t];return(i=(i=(i=i||e[this.getScriptPartFromCode(t)])||e[this.formatLanguageCode(t)])||e.default)||[]},S.prototype.toResolveHierarchy=function(e,t){function i(e){e&&(n.isWhitelisted(e)?r.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))}var n=this,t=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[];return"string"==typeof e&&-1<e.indexOf("-")?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),t.forEach(function(e){r.indexOf(e)<0&&i(n.formatLanguageCode(e))}),r};var F=S;function S(e){o(this,S),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=p.create("languageUtils")}var N=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],U={1:function(e){return Number(1<e)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5)},6:function(e){return Number(1==e?0:2<=e&&e<=4?1:2)},7:function(e){return Number(1==e?0:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(2<=e)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:2<e&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:2<=e%10&&(e%100<10||20<=e%100)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||1<e%100&&e%100<11?1:10<e%100&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||0<e%100&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}};C.prototype.addRule=function(e,t){this.rules[e]=t},C.prototype.getRule=function(e){return this.rules[this.languageUtils.getLanguagePartFromCode(e)]},C.prototype.needsPlural=function(e){e=this.getRule(e);return e&&1<e.numbers.length},C.prototype.getSuffix=function(e,t){var i=this,n=this.getRule(e);if(n){if(1===n.numbers.length)return"";var t=n.noAbs?n.plurals(t):n.plurals(Math.abs(t)),r=n.numbers[t],o=(this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===r?r="plural":1===r&&(r="")),function(){return i.options.prepend&&r.toString()?i.options.prepend+r.toString():r.toString()});return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_"+r.toString():o():"v2"===this.options.compatibilityJSON||2===n.numbers.length&&1===n.numbers[0]||2===n.numbers.length&&1===n.numbers[0]?o():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}return this.logger.warn("no plural rule found for: "+e),""};var H=C;function C(e){var i,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};o(this,C),this.languageUtils=e,this.options=t,this.logger=p.create("pluralResolver"),this.rules=(i={},N.forEach(function(t){t.lngs.forEach(function(e){i[e]={numbers:t.nr,plurals:U[t.fc]}})}),i)}k.prototype.init=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||R),e.interpolation||(e.interpolation={escapeValue:!0}),e.interpolation);this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.prefix=e.prefix?r(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?r(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator||e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?r(e.nestingPrefix):e.nestingPrefixEscaped||r("$t("),this.nestingSuffix=e.nestingSuffix?r(e.nestingSuffix):e.nestingSuffixEscaped||r(")"),this.resetRegExp()},k.prototype.reset=function(){this.options&&this.init(this.options)},k.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix,e=(this.regexp=new RegExp(e,"g"),""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix),e=(this.regexpUnescape=new RegExp(e,"g"),this.nestingPrefix+"(.+?)"+this.nestingSuffix);this.nestingRegexp=new RegExp(e,"g")},k.prototype.interpolate=function(e,i,n){var r=this,t=void 0,o=void 0;function a(e){return e.replace(/\$/g,"$$$$")}function s(e){if(e.indexOf(r.formatSeparator)<0)return h(i,e);var t=(e=e.split(r.formatSeparator)).shift().trim(),e=e.join(r.formatSeparator).trim();return r.format(h(i,t),e,n)}for(this.resetRegExp();t=this.regexpUnescape.exec(e);)o=s(t[1].trim()),e=e.replace(t[0],o),this.regexpUnescape.lastIndex=0;for(;t=this.regexp.exec(e);)(o="string"!=typeof(o=s(t[1].trim()))?l(o):o)||(this.logger.warn("missed to pass in variable "+t[1]+" for interpolating "+e),o=""),o=this.escapeValue?a(this.escape(o)):a(o),e=e.replace(t[0],o),this.regexp.lastIndex=0;return e},k.prototype.nest=function(e,t){var i=void 0,n=void 0,r=y({},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});function o(t){if(t.indexOf(",")<0)return t;var e=t.split(","),e=(t=e.shift(),e.join(","));e=(e=this.interpolate(e,r)).replace(/'/g,'"');try{r=JSON.parse(e)}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}for(r.applyPostProcessor=!1;i=this.nestingRegexp.exec(e);){if((n=t(o.call(this,i[1].trim()),r))&&i[0]===e&&"string"!=typeof n)return n;(n="string"!=typeof n?l(n):n)||(this.logger.warn("missed to resolve "+i[1]+" for nesting "+e),n=""),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e};var V=k;function k(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,k),this.logger=p.create("interpolator"),this.init(e,!0)}e(P,M=t),P.prototype.queueLoad=function(e,t,i){var r=this,o=[],a=[],s=[],p=[];return e.forEach(function(i){var n=!0;t.forEach(function(e){var t=i+"|"+e;r.store.hasResourceBundle(i,e)?r.state[t]=2:r.state[t]<0||(1===r.state[t]?a.indexOf(t)<0&&a.push(t):(r.state[t]=1,n=!1,a.indexOf(t)<0&&a.push(t),o.indexOf(t)<0&&o.push(t),p.indexOf(e)<0&&p.push(e)))}),n||s.push(i)}),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:i}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:p}},P.prototype.loaded=function(p,l,e){var h=this,t=p.split("|"),t=c(t,2),u=t[0],d=t[1];l&&this.emit("failedLoading",u,d,l),e&&this.store.addResourceBundle(u,d,e),this.state[p]=l?-1:2,this.queue.forEach(function(e){t=e.loaded,n=d,i=(t=_(t,i=[u],Object)).obj,t=t.k,i[t]=i[t]||[],r&&(i[t]=i[t].concat(n)),r||i[t].push(n);for(var t,i,n,r,o=e.pending,a=p,s=o.indexOf(a);-1!==s;)o.splice(s,1),s=o.indexOf(a);l&&e.errors.push(l),0!==e.pending.length||e.done||(h.emit("loaded",e.loaded),e.done=!0,e.errors.length?e.callback(e.errors):e.callback())}),this.queue=this.queue.filter(function(e){return!e.done})},P.prototype.read=function(i,n,r){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=this,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:250,p=arguments[5];return i.length?this.backend[r](i,n,function(e,t){e&&t&&o<5?setTimeout(function(){a.read.call(a,i,n,r,o+1,2*s,p)},s):p(e,t)}):p(null,{})},P.prototype.load=function(e,t,i){var n,a,s=this;return this.backend?(n=y({},this.backend.options,this.options.backend),"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),(a=this.queueLoad(e,t="string"==typeof t?[t]:t,i)).toLoad.length?void(n.allowMultiLoading&&this.backend.readMulti?this.read(a.toLoadLanguages,a.toLoadNamespaces,"readMulti",null,null,function(r,o){r&&s.logger.warn("loading namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading failed",r),!r&&o&&s.logger.log("successfully loaded namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading",o),a.toLoad.forEach(function(e){var t=e.split("|"),t=c(t,2),i=t[0],t=t[1],n=h(o,[i,t]);n?s.loaded(e,r,n):(s.loaded(e,n="loading namespace "+t+" for language "+i+" via multiloading failed"),s.logger.error(n))})}):a.toLoad.forEach(function(e){s.loadOne(e)})):(a.pending.length||i(),null)):(this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i())},P.prototype.reload=function(e,o){var a=this,t=(this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources."),y({},this.backend.options,this.options.backend));"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),"string"==typeof o&&(o=[o]),t.allowMultiLoading&&this.backend.readMulti?this.read(e,o,"readMulti",null,null,function(n,r){n&&a.logger.warn("reloading namespaces "+o.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",n),!n&&r&&a.logger.log("successfully reloaded namespaces "+o.join(", ")+" for languages "+e.join(", ")+" via multiloading",r),e.forEach(function(i){o.forEach(function(e){var t=h(r,[i,e]);t?a.loaded(i+"|"+e,n,t):(a.loaded(i+"|"+e,t="reloading namespace "+e+" for language "+i+" via multiloading failed"),a.logger.error(t))})})}):e.forEach(function(t){o.forEach(function(e){a.loadOne(t+"|"+e,"re")})})},P.prototype.loadOne=function(i){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=i.split("|"),e=c(e,2),o=e[0],a=e[1];this.read(o,a,"read",null,null,function(e,t){e&&n.logger.warn(r+"loading namespace "+a+" for language "+o+" failed",e),!e&&t&&n.logger.log(r+"loaded namespace "+a+" for language "+o,t),n.loaded(i,e,t)})},P.prototype.saveMissing=function(e,t,i,n){this.backend&&this.backend.create&&this.backend.create(e,t,i,n),e&&e[0]&&this.store.addResource(e[0],t,i,n)};var M,W=P;function P(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=(o(this,P),a(this,M.call(this)));return r.backend=e,r.store=t,r.services=i,r.options=n,r.logger=p.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,n.backend,n),r}e(G,O=t),G.prototype.load=function(e,t,o){var a=this;if(!this.cache)return o&&o();var i=y({},this.cache.options,this.options.cache),s="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(s,function(e,t){if(e&&a.logger.error("loading languages "+s.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var n in t[i]){var r;Object.prototype.hasOwnProperty.call(t[i],n)&&"i18nStamp"!==n&&(r=t[i][n])&&a.store.addResourceBundle(i,n,r)}o&&o()}):o&&o()},G.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)};var O,T,q=G;function G(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=(o(this,G),a(this,O.call(this)));return r.cache=e,r.store=t,r.services=i,r.options=n,r.logger=p.create("cacheConnector"),r.cache&&r.cache.init&&r.cache.init(i,n.cache,n),r}function A(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){return{defaultValue:e[1]}},interpolation:{escapeValue:!0,format:function(e,t,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function E(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&e.whitelist.push("cimode"),e}function I(){}function B(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],n=(o(this,B),a(this,T.call(this)));if(n.options=E(t),n.services={},n.logger=p,n.modules={external:[]},i&&!n.isInitialized&&!t.isClone){if(!n.options.initImmediate)return e=n.init(t,i),a(n,e);setTimeout(function(){n.init(t,i)},0)}return n}return e(B,T=t),B.prototype.init=function(e,i){var t,n,r=this;function o(e){return e?"function"==typeof e?new e:e:null}"function"==typeof e&&(i=e,e={}),"v1"===(e=e||{}).compatibilityAPI?this.options=y({},A(),E(((t=e).resStore&&(t.resources=t.resStore),t.ns&&t.ns.defaultNs?(t.defaultNS=t.ns.defaultNs,t.ns=t.ns.namespaces):t.defaultNS=t.ns||"translation",t.fallbackToDefaultNS&&t.defaultNS&&(t.fallbackNS=t.defaultNS),t.saveMissing=t.sendMissing,t.saveMissingTo=t.sendMissingTo||"current",t.returnNull=!t.fallbackOnNull,t.returnEmptyString=!t.fallbackOnEmpty,t.returnObjects=t.returnObjectTrees,t.joinArrays="\n",t.returnedObjectHandler=t.objectTreeKeyHandler,t.parseMissingKeyHandler=t.parseMissingKey,t.appendNamespaceToMissingKey=!0,t.nsSeparator=t.nsseparator||":",t.keySeparator=t.keyseparator||".","sprintf"===t.shortcutFunction&&(t.overloadTranslationOptionHandler=function(e){for(var t=[],i=1;i<e.length;i++)t.push(e[i]);return{postProcess:"sprintf",sprintf:t}}),t.whitelist=t.lngWhitelist,t.preload=t.preload,"current"===t.load&&(t.load="currentOnly"),"unspecific"===t.load&&(t.load="languageOnly"),t.backend=t.backend||{},t.backend.loadPath=t.resGetPath||"locales/__lng__/__ns__.json",t.backend.addPath=t.resPostPath||"locales/add/__lng__/__ns__",t.backend.allowMultiLoading=t.dynamicLoad,t.cache=t.cache||{},t.cache.prefix="res_",t.cache.expirationTime=6048e5,t.cache.enabled=t.useLocalStorage,(t=f(t)).defaultVariables&&(t.interpolation.defaultVariables=t.defaultVariables),t)),{}):"v1"===e.compatibilityJSON?this.options=y({},A(),E(((t=f(t=e)).joinArrays="\n",t)),{}):this.options=y({},A(),this.options,E(e)),this.format=this.options.interpolation.format,i=i||I,this.options.isClone||(this.modules.logger?p.init(o(this.modules.logger),this.options):p.init(null,this.options),e=new F(this.options),this.store=new j(this.options.resources,this.options),(n=this.services).logger=p,n.resourceStore=this.store,n.resourceStore.on("added removed",function(e,t){n.cacheConnector.save()}),n.languageUtils=e,n.pluralResolver=new H(e,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),n.interpolator=new V(this.options),n.backendConnector=new W(o(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),n.backendConnector.on("loaded",function(e){n.cacheConnector.save()}),n.cacheConnector=new q(o(this.modules.cache),n.resourceStore,n,this.options),n.cacheConnector.on("*",function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),this.modules.languageDetector&&(n.languageDetector=o(this.modules.languageDetector),n.languageDetector.init(n,this.options.detection,this.options)),this.translator=new z(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),this.modules.external.forEach(function(e){e.init&&e.init(r)}));function a(){r.changeLanguage(r.options.lng,function(e,t){r.isInitialized=!0,r.logger.log("initialized",r.options),r.emit("initialized",r.options),i(e,t)})}var s;["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(t){r[t]=function(){var e;return(e=r.store)[t].apply(e,arguments)}}),"v1"===this.options.compatibilityAPI&&((s=this).lng=function(){return p.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),s.services.languageUtils.toResolveHierarchy(s.language)[0]},s.preload=function(e,t){p.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),s.loadLanguages(e,t)},s.setLng=function(e,t,i){return p.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof t&&(i=t,t={}),!0===(t=t||{}).fixLng&&i?i(null,s.getFixedT(e)):s.changeLanguage(e,i)},s.addPostProcessor=function(e,t){p.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),s.use({type:"postProcessor",name:e,process:t})});return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},B.prototype.loadResources=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:I;if(this.options.resources)e(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return e();var i=[],n=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){i.indexOf(e)<0&&i.push(e)})};this.language?n(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(n),this.options.preload&&this.options.preload.forEach(n),this.services.cacheConnector.load(i,this.options.ns,function(){t.services.backendConnector.load(i,t.options.ns,e)})}},B.prototype.reloadResources=function(e,t){e=e||this.languages,t=t||this.options.ns,this.services.backendConnector.reload(e,t)},B.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&x.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},B.prototype.changeLanguage=function(e,i){function t(t){t&&(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t),n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(function(e){r(e,t)})}var n=this,r=function(e,t){t&&(n.emit("languageChanged",t),n.logger.log("languageChanged",t)),i&&i(e,function(){return n.t.apply(n,arguments)})};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(t):t(e):t(this.services.languageDetector.detect())},B.prototype.getFixedT=function(e,t){function i(e){var t=y({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return t.lng=t.lng||i.lng,t.lngs=t.lngs||i.lngs,t.ns=t.ns||i.ns,n.t(e,t)}var n=this;return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i},B.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},B.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},B.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},B.prototype.loadNamespaces=function(e,t){var i=this;if(!this.options.ns)return t&&t();(e="string"==typeof e?[e]:e).forEach(function(e){i.options.ns.indexOf(e)<0&&i.options.ns.push(e)}),this.loadResources(t)},B.prototype.loadLanguages=function(e,t){var i=this.options.preload||[],e=(e="string"==typeof e?[e]:e).filter(function(e){return i.indexOf(e)<0});if(!e.length)return t();this.options.preload=i.concat(e),this.loadResources(t)},B.prototype.dir=function(e){if(!(e=e||(this.languages&&0<this.languages.length?this.languages[0]:this.language)))return"rtl";return 0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))?"rtl":"ltr"},B.prototype.createInstance=function(){return new B(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},B.prototype.cloneInstance=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:I,e=y({},this.options,e,{isClone:!0}),r=new B(e,i);return["store","services","language"].forEach(function(e){r[e]=t[e]}),r.translator=new z(r.services,r.options),r.translator.on("*",function(e){for(var t=arguments.length,i=Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];r.emit.apply(r,[e].concat(i))}),r.init(e,i),r},new B});var PhaserI18n,MoneyMovers2,Fabrique,objects,states,__extends=this&&this.__extends||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},__extends=(!function(e){!function(e){function t(e){this.type="backend",this.loadPath="/locales/{{lng}}/{{ns}}.json",this.game=e}t.prototype.init=function(e,t){this.services=e,t&&t.loadPath&&this.setLoadPath(t.loadPath)},t.prototype.setLoadPath=function(e){this.loadPath=e},t.prototype.read=function(e,t,i){var n=this,r=this.services.interpolator.interpolate(this.loadPath,{lng:e,ns:t}),o=t+"_"+e,a=function(e,t){t===o&&(i(null,n.game.cache.getJSON(o)),n.game.load.onFileComplete.remove(a))};this.game.load.onFileComplete.add(a),this.game.load.json(o,r)},t.prototype.readMulti=function(e,t,i){},t.prototype.create=function(e,t,i,n){},e.Backend=t}(e.I18next||(e.I18next={}))}(PhaserI18n=PhaserI18n||{}),!function(p){i=Phaser.Plugin,__extends(t,i),t.prototype.init=function(e){for(var t=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this.wasLoaderLocked=this.game.load.resetLocked,this.game.load.resetLocked=!0,i18next.on("languageChanged",function(){t.recursiveUpdateText(t.game.stage)}),this.backend=new p.I18next.Backend(this.game),i18next.use(this.backend);for(var r=0;r<i.length;r++)i18next.use(i[r]);i18next.init(e,function(){t.recursiveUpdateText(t.game.stage)})},t.prototype.setLanguage=function(e){void 0===e&&(e="en"),i18next.changeLanguage(e)},t.prototype.recursiveUpdateText=function(e){var t=this;(e instanceof Phaser.Text||e instanceof Phaser.BitmapText)&&(e.dirty=!0),e.children&&0<e.children.length&&e.children.forEach(function(e){t.recursiveUpdateText(e)})},t.prototype.addLocaleLoader=function(){var r=this;Phaser.Loader.prototype.locale=function(e,t,i){var n=this;Array.isArray(t)?i=t:void 0!==t&&r.backend.setLoadPath(t),i18next.loadLanguages(e,function(){r.started||(r.started=!0,n.game.load.resetLocked=r.wasLoaderLocked)}),i&&i18next.loadNamespaces(i)}},t.prototype.addLocaleFactory=function(){Phaser.GameObjectFactory.prototype.translatedText=function(e,t,i,n,r,o){return(o=void 0===o?this.world:o).add(new p.TranslatedText(this.game,e,t,i,n,r))},Phaser.GameObjectFactory.prototype.translatedBitmapText=function(e,t,i,n,r,o,a,s){return(s=void 0===s?this.world:s).add(new p.TranslatedBitmapText(this.game,e,t,i,n,r,o,a))}},t.prototype.addLocaleCreator=function(){Phaser.GameObjectCreator.prototype.translatedText=function(e,t,i,n,r){return new p.TranslatedText(this.game,e,t,i,n,r)},Phaser.GameObjectCreator.prototype.translatedBitmapText=function(e,t,i,n,r,o,a){return new p.TranslatedBitmapText(this.game,e,t,i,n,r,o,a)}};var i,e=t;function t(e,t){t=i.call(this,e,t)||this;return t._language="en",t.wasLoaderLocked=!1,t.started=!1,Object.defineProperty(e,"i18n",{value:t}),t.addLocaleLoader(),t.addLocaleFactory(),t.addLocaleCreator(),t}p.Plugin=e}(PhaserI18n=PhaserI18n||{}),!function(e){p=Phaser.BitmapText,__extends(i,p),i.prototype.setTranslationParamameter=function(e,t){this._interpolations[e]=t,this.dirty=!0},i.prototype.clearTranslationParamameter=function(e){e in this._interpolations&&delete this._interpolations[e]},Object.defineProperty(i.prototype,"_text",{get:function(){return i18next.t(this._nonTranslated,this._interpolations)||""},set:function(e){e!==this._nonTranslated&&(this._nonTranslated=e.toString()||"")},enumerable:!0,configurable:!0});var p,t=i;function i(e,t,i,n,r,o,a,s){e=p.call(this,e,t,i,n,"",o,a)||this;return e._nonTranslated="",e._interpolations={},e._interpolations=s||{},e.text=r,e}e.TranslatedBitmapText=t}(PhaserI18n=PhaserI18n||{}),!function(e){a=Phaser.Text,__extends(i,a),i.prototype.setTranslationParamameter=function(e,t){this._interpolations[e]=t,this.dirty=!0},i.prototype.clearTranslationParamameter=function(e){e in this._interpolations&&delete this._interpolations[e]},Object.defineProperty(i.prototype,"_text",{get:function(){return i18next.t(this._nonTranslated,this._interpolations)||""},set:function(e){e!==this._nonTranslated&&(this._nonTranslated=e.toString()||"")},enumerable:!0,configurable:!0});var a,t=i;function i(e,t,i,n,r,o){e=a.call(this,e,t,i,"",r)||this;return e._nonTranslated="",e._interpolations={},e._interpolations=o||{},e.text=n,e}e.TranslatedText=t}(PhaserI18n=PhaserI18n||{}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).i18nextBrowserLanguageDetector=t()}(this,function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=[],n=t.forEach,r=t.slice;function i(e,t,i,n){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};i&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*i*1e3)),n&&(r.domain=n),document.cookie=function(e,t,i){var i=i||{},n=(i.path=i.path||"/",e+"="+encodeURIComponent(t));if(0<i.maxAge){e=+i.maxAge;if(isNaN(e))throw new Error("maxAge should be a Number");n+="; Max-Age="+Math.floor(e)}if(i.domain){if(!s.test(i.domain))throw new TypeError("option domain is invalid");n+="; Domain="+i.domain}if(i.path){if(!s.test(i.path))throw new TypeError("option path is invalid");n+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");n+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(n+="; HttpOnly"),i.secure&&(n+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n}(e,encodeURIComponent(t),r)}function o(){if(null!==h)return h;try{h="undefined"!==window&&null!==window.localStorage,window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(e){h=!1}return h}function a(){if(null!==d)return d;try{d="undefined"!==window&&null!==window.sessionStorage,window.sessionStorage.setItem("i18next.translate.boo","foo"),window.sessionStorage.removeItem("i18next.translate.boo")}catch(e){d=!1}return d}var s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,p={name:"cookie",lookup:function(e){var t;return t=e.lookupCookie&&"undefined"!=typeof document&&(e=function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var r=i[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}(e.lookupCookie))?e:t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&i(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},l={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var i=window.location.search.substring(1).split("&"),n=0;n<i.length;n++){var r=i[n].indexOf("=");0<r&&i[n].substring(0,r)===e.lookupQuerystring&&(t=i[n].substring(r+1))}return t}},h=null,u={name:"localStorage",lookup:function(e){var t;return e.lookupLocalStorage&&o()&&((e=window.localStorage.getItem(e.lookupLocalStorage))&&(t=e)),t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&o()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},d=null,c={name:"sessionStorage",lookup:function(e){var t;return e.lookupSessionStorage&&a()&&((e=window.sessionStorage.getItem(e.lookupSessionStorage))&&(t=e)),t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&a()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},m={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)t.push(navigator.languages[i]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return 0<t.length?t:void 0}},y={name:"htmlTag",lookup:function(e){var t,e=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return t=e&&"function"==typeof e.getAttribute?e.getAttribute("lang"):t}},_={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof i[e.lookupFromPathIndex])return;t=i[e.lookupFromPathIndex].replace("/","")}else t=i[0].replace("/","")}return t}},x={name:"subdomain",lookup:function(e){var t,i;return t="undefined"!=typeof window&&(i=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi))instanceof Array?("number"==typeof e.lookupFromSubdomainIndex?i[e.lookupFromSubdomainIndex]:i[0]).replace("http://","").replace("https://","").replace(".",""):t}},t=(e(f.prototype,[{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(i){return n.call(r.call(arguments,1),function(e){if(e)for(var t in e)void 0===i[t]&&(i[t]=e[t])}),i}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(p),this.addDetector(l),this.addDetector(u),this.addDetector(c),this.addDetector(m),this.addDetector(y),this.addDetector(_),this.addDetector(x)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this,i=(e=e||this.options.order,[]);return e.forEach(function(e){t.detectors[e]&&(e=(e=t.detectors[e].lookup(t.options))&&"string"==typeof e?[e]:e)&&(i=i.concat(e))}),this.services.languageUtils.getBestMatchFromCodes?i:0<i.length?i[0]:null}},{key:"cacheUserLanguage",value:function(t,e){var i=this;!(e=e||this.options.caches)||this.options.excludeCacheFor&&-1<this.options.excludeCacheFor.indexOf(t)||e.forEach(function(e){i.detectors[e]&&i.detectors[e].cacheUserLanguage(t,i.options)})}}]),f);function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this;if(!(i instanceof f))throw new TypeError("Cannot call a class as a function");this.type="languageDetector",this.detectors={},this.init(e,t)}return t.type="languageDetector",t}),this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}()),CitrusObject=(!function(e){t=Phaser.State,__extends(n,t),n.prototype.adjustWorld=function(){var e=Math.min(window.innerWidth/Constants.WIDTH,window.innerHeight/Constants.HEIGHT);this.game.scale.setGameSize(window.innerWidth/e,Constants.HEIGHT),this.game.scale.setUserScale(e,e,0,0),this.camera.bounds.x=-1/0,this.camera.bounds.width=1/0,this.camera.x=-(window.innerWidth/e-Constants.WIDTH)/2,window.innerWidth<window.innerHeight?(this.game.paused=!0,Constants.RotateDevice.visible=!0):(this.game.paused=!1,Constants.RotateDevice.visible=!1)},n.prototype.create=function(){this.adjustWorld(),GameController.JoypadLeft&&(GameController.JoypadLeft.visible=GameController.JoypadRight.visible=!1),Constants.stateSwitcher._isSwitchingState&&Constants.stateSwitcher.openCurtains(.1)};var t,i=n;function n(){return null!==t&&t.apply(this,arguments)||this}e.OzState=i}(states=states||{}),!function(e){function t(e,t){this._initialized=!1,this._x=0,this._y=0,this.params=null,this._inverted=!1,this.group=0,this.offsetX=0,this.offsetY=0,this._ce=null,this.updateCallEnabled=!1,this._registration="center",this._radius=0,this._width=30,this._height=30,this.view=null,this.name=null,this.kill=!1,this.name=e,this.params=t,this.initialize(),this._ce=CitrusEngine.getInstance(),this._initialized=!0}t.prototype.initialize=function(e){(e=void 0===e?null:e)&&(this.params=e),this.params?this.setParams(this.params):this._initialized=!0},t.prototype.setParams=function(e){e.view&&(this.view=e.view),e.x&&(this._x=e.x),e.y&&(this._y=e.y),e.group&&(this.group=e.group),e.radius&&(this._radius=e.radius),e.width&&(this._width=e.width),e.height&&(this._height=e.height),e.x instanceof String||e.y instanceof String||e.width instanceof String||(e.height,String),Constants.DEBUG,this._initialized=!0},Object.defineProperty(t.prototype,"inverted",{get:function(){return this._inverted},set:function(e){this._inverted=e,this.view&&(this._inverted?this.view.scale.x=-1:this.view.scale.x=1)},enumerable:!1,configurable:!0}),t.prototype.halfWidth=function(){return 0<this._width?this._width/2:this._radius},t.prototype.halfHeight=function(){return 0<this._height?this._height/2:this._radius},t.prototype.draw=function(){if(this.view)if("center"==this.registration)this.view.x=this._x+this.offsetX,this.view.y=this._y+this.offsetY;else{if("topLeft"!=this.registration)throw Error("NO SUCH REGISTRATION "+this.registration);this.view.x=this._x+this.offsetX,this.view.y=this._y+this.offsetY}},t.prototype.removeArt=function(){this.view&&this.view.parent&&this.view.parent.removeChild(this.view)},t.prototype.update=function(e){this._timeDelta=e},Object.defineProperty(t.prototype,"registration",{get:function(){return this._registration},set:function(e){this._registration=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this._initialized=!1},e.CitrusObject=t}(objects=objects||{}),objects.CitrusObject),LevelState=(!function(n){h=n.OzState,__extends(t,h),t.prototype.create=function(){var e=this;this.achievementMC=null,this.curHero=null,this.controlsPointer=null,Constants._ce=CitrusEngine.Init(),(Constants.levelState=this)._paused=!1,this.groupSprites=new Array;for(var t=0;t<7;t++)this.groupSprites[t]=new MovieClip(null,0,0),this.game.world.addChild(this.groupSprites[t]);this._objects=new Array,this._nape=new objects.Nape("nape"),this._nape.gravity=new Vec2(0,300),this.addObject(this._nape);(new LevelParseSystem).parseFromJSON(Constants.currentLevel),new objects.FixedBox2(700,-15,10,555),new objects.FixedBox2(-10,-15,10,555),this.topPanel=new TopPanel,this.topPanel.init(),this._black=this.game.add.graphics(0,0),this._black.beginFill(0),this._black.drawRect(0,0,Constants.WIDTH,Constants.HEIGHT),this._black.endFill(),this._black.visible=!1,this.pauseSprite=new Phaser.Sprite(this.game,Constants.WIDTH/2,Constants.HEIGHT/2,"objects","pause.png"),this.pauseSprite.anchor.set(.5,0),h5branding.Branding.outGoingLinksAllowed()&&(this.sponsor=new Phaser.Sprite(this.game,0,this.pauseSprite.y,"branding_logo"),this.sponsor.anchor.set(.5),this.sponsor.scale.set(.75),this.pauseSprite.addChild(this.sponsor));var i=new TranslatedMMText(this.game,0,.155*Constants.HEIGHT,"pause",48),i=(i.onOver(),this.pauseSprite.addChild(i),new Phaser.Sprite(this.game,0,.3*Constants.HEIGHT,"objects","largebutton.png")),i=(i.anchor.set(.5),this.pauseSprite.addChild(i),new TranslatedMMText(this.game,0,.3*Constants.HEIGHT,"levels_map",19,this.goLevels,this)),i=(this.pauseSprite.addChild(i),new Phaser.Sprite(this.game,0,.7*Constants.HEIGHT,"objects","smallbutton.png")),i=(i.anchor.set(.5),this.pauseSprite.addChild(i),new TranslatedMMText(this.game,0,.7*Constants.HEIGHT,"back",24,this.unShowMenu,this));this.pauseSprite.addChild(i),this.pauseSprite.visible=!1,this.game.world.addChild(this.pauseSprite),this.topPanel._view.getChild("menuButton").makeButton(function(){e.showMenu("button")},!0,this),this.topPanel._view.getChild("soundButton").makeSoundButton(),this.topPanel._view.getChild("musicButton").makeMusicButton(),this.topPanel._view.getChild("replayButton").makeButton(function(){Fabrique.AdHandler.getInstance().showAd("restart_gui",function(){e.ozRestartLevel()})},!0,this),this._isStarting=!0,this._isFinishing=!1,Constants.hustler.controlsEnabled=Constants.bouncer.controlsEnabled=!1,TweenMax.delayedCall(.1,function(){Constants.hustler.controlsEnabled=Constants.bouncer.controlsEnabled=!0,this._isStarting=!1},this),SoundManager.getInstance().playSound("GameMusic"),this.initFix=!1,this.frUpdate=0,Fabrique.PauseHandler.getInstance().onPauseCallback.add(this.showMenu,this,1,"blur")},t.prototype.completeLevel=function(){this._isFinishing||(this.completeActivities(),(20!=Constants.currentLevel?this.getObjectByName("exit"):this.getObjectByName("dad")).getBrothers(this.ozGoNextLevel,this),StorageHelper.getInstance().setlevelsCompleteData(Constants.currentLevel),Constants.bouncer.burgers>StorageHelper.getInstance().burgersData[Constants.currentLevel]&&StorageHelper.getInstance().setBurgersData(Constants.currentLevel))},t.prototype.goLevels=function(){Fabrique.LoaderHelper.show(),Fabrique.AdHandler.getInstance().showAd("levelSelect",function(){Constants.stateSwitcher.switchToLevelSelect()})},t.prototype.showMenu=function(e){this._paused||Constants.stateSwitcher._isSwitchingState||(this._paused=!0,this.pauseSprite.visible=!0,this._black.visible=!0,this.pauseAllAnimations(),GameController.Touch()&&GameController.HideJoypad(),TweenMax.pauseAll(),this._black.alpha=0,this.topPanel.disableInput(),TweenMax.to(this._black,.4,{alpha:.5}),TweenMax.to(this.pauseSprite,.4,{y:0,ease:"Quad.easeOut"}),h5ads.adWrapper.adsEnabled()&&this.game.device.desktop&&90<=.2*parseInt(this.game.canvas.style.height)&&(this.banner=new Fabrique.AzerionBanner,this.banner.show(this.game.canvas,h5ads.GameDistributionBannerSize.Leaderboard,h5ads.GameDistributionAlignment.BottomCenter)))},t.prototype.unShowMenu=function(){var e=this;this.banner&&(this.banner.hide(),this.banner=null),Fabrique.AdHandler.getInstance().showAd("back_pause",function(){e._paused=!1,TweenMax.resumeAll(),e.resumeAllAnimations(),GameController.Touch()&&GameController.ShowJoypad(),TweenMax.to(e._black,.25,{alpha:0}),TweenMax.to(e.pauseSprite,.25,{y:-395,onComplete:e.hideMenu,onCompleteContext:e})})},t.prototype.hideMenu=function(){this._black.visible=!1,this.pauseSprite.visible=!1,this.topPanel.enableInput()},t.prototype.pauseAllAnimations=function(){for(var e=0;e<this._objects.length;e++){var t=this._objects[e];t.view&&t.view.animations&&t.view.animations.currentAnim&&(t.view.animations.paused=!0)}},t.prototype.resumeAllAnimations=function(){for(var e=0;e<this._objects.length;e++){var t=this._objects[e];t.view&&t.view.animations&&t.view.animations.currentAnim&&(t.view.animations.paused=!1)}},t.prototype.ozGoNextLevel=function(){this._paused=!0,this.topPanel.disableInput(),Constants.currentLevel==Constants.NUMLEVELS&&140<=StorageHelper.totalPoints()&&null==this.achievementMC?(this.achievementMC=new MovieClip("BurgerAchievementGraphics",0,0,"achievement"),this.world.addChild(this.achievementMC),this.achievementMC.alpha=0,TweenMax.to(this.achievementMC,.5,{alpha:1}),SoundManager.getInstance().playSound("AchievementUnlockedSound"),TweenMax.delayedCall(3,this.ozGoNextLevel,this)):Constants.currentLevel!=Constants.NUMLEVELS-1||StorageHelper.getInstance().isFinalAnimationPlayedData?Constants.stateSwitcher.switchToLevelCompleted():(n.AnimationState.ID_ANIMATION=1,Constants.stateSwitcher.switchToAnimation())},t.prototype.ozRestartLevel=function(){var e=this;Fabrique.LoaderHelper.show(),Fabrique.AdHandler.getInstance().showAd("restartLevel",function(){Constants.stateSwitcher._isSwitchingState||(Constants.DEBUG?Constants.stateSwitcher.directToPlay():(e._paused=!0,e.topPanel.disableInput(),Constants.stateSwitcher.switchToPlay()))})},t.prototype.switchToLevelState=function(){},t.prototype.finishLevelComplete=function(){StorageHelper.getInstance().isFinalAnimationPlayedData||(Constants.currentAnimation=!0,StorageHelper.getInstance().isFinalAnimationPlayedData=!0)},t.prototype.failLevel=function(){this._isFinishing||(this.completeActivities(),TweenMax.delayedCall(.5,this.loseLevel,this))},t.prototype.loseLevel=function(){this._paused=!0,this.topPanel.disableInput(),Fabrique.LoaderHelper.show(),Fabrique.AdHandler.getInstance().showAd("loseLevel",function(){Constants.stateSwitcher.switchToLose()})},t.prototype.restartLevel=function(){this._isFinishing||this.completeActivities()},t.prototype.goToMenu=function(){this._isFinishing||this.completeActivities()},t.prototype.completeActivities=function(){this._isFinishing=!0,Constants.hustler.controlsEnabled=!1,Constants.bouncer.controlsEnabled=!1},t.prototype.addObject=function(e){e instanceof objects.NapePhysicsObject&&e.addPhysics(),e.view&&this.groupSprites[e.group].addChild(e.view),this._objects.push(e)},t.prototype.removeObject=function(e){e.kill=!0},t.prototype.getObjectByName=function(e){for(var t=0,i=this._objects;t<i.length;t++){var n=i[t];if(n.name==e)return n}return null},t.prototype.getObjectsByName=function(e){for(var t=null,i=0,n=this._objects;i<n.length;i++){var r=n[i];r.name==e&&(t=t||new Array).push(r)}return t},t.prototype.stateUpdate=function(e){e/=1e3;for(var t=[],i=this._objects.length,n=0;n<i;++n){var r=this._objects[n];r.kill?t.push(r):r.updateCallEnabled&&r.update(e)}for(i=t.length,n=0;n<i;++n){var o=t[n];this._objects.splice(this._objects.indexOf(o),1),o.removeArt(),o.destroy()}for(var a=0,s=this._objects;a<s.length;a++){var p=s[a];Constants.bouncer._grabbedObject!=p&&p.draw()}},t.prototype.butDistSquared=function(e,t){var i=e.worldX-(t.x+t.parent.x-n.Boot.PADH),e=e.worldY-(t.y+t.parent.y);return i*i+e*e},t.prototype.closerBut=function(e,t,i){return!t||this.butDistSquared(e,i)<this.butDistSquared(e,t)?i:t},t.prototype.changeControls=function(){this.curHero?this.curHero==Constants.bouncer?this.curHero=Constants.hustler:this.curHero=Constants.bouncer:(this.controlsPointer=new MovieClip("cmcActiveSign"),this.groupSprites[Constants.hustler.group].addChild(this.controlsPointer),this.curHero=Constants.hustler),this.curHero==Constants.hustler?(Constants._ce.input.setDoing(Constants.bouncerInputChannel,"left",!1),Constants._ce.input.setDoing(Constants.bouncerInputChannel,"right",!1),Constants._ce.input.setDoing(Constants.bouncerInputChannel,"jump",!1),Constants._ce.input.setDoing(Constants.bouncerInputChannel,"grabDown",!1),Constants._ce.input.setDoing(Constants.bouncerInputChannel,"grab",!1),GameController.JoypadRight.getChild("change").gotoAndStop(1)):(Constants._ce.input.setDoing(Constants.hustlerInputChannel,"left",!1),Constants._ce.input.setDoing(Constants.hustlerInputChannel,"right",!1),Constants._ce.input.setDoing(Constants.hustlerInputChannel,"jump",!1),Constants._ce.input.setDoing(Constants.hustlerInputChannel,"down",!1),GameController.JoypadRight.getChild("change").gotoAndStop(2)),GameController.JoypadRight.getChild("grab").visible=this.curHero==Constants.bouncer},t.prototype.update=function(){if(this.frUpdate++,!this.initFix&&1<this.frUpdate&&(this.initFix=!0,h.prototype.create.call(this),GameController.JoypadLeft||(GameController.JoypadLeft=new MovieClip("cmcJoypadLeft"),GameController.JoypadLeft.x=120,GameController.JoypadLeft.y=Constants.HEIGHT-55,this.game.stage.addChild(GameController.JoypadLeft),GameController.JoypadRight=new MovieClip("cmcJoypadRight"),GameController.JoypadRight.x=this.game.width-120,GameController.JoypadRight.y=Constants.HEIGHT-55,this.game.stage.addChild(GameController.JoypadRight),GameController.AdjustJoypad()),GameController.Touch()&&(GameController.JoypadLeft.visible=!0,GameController.JoypadRight.visible=!0,this.changeControls())),Input.getInstance().justDid("next")&&(l=Constants.stateSwitcher).winSprite&&l.winSprite.visible&&l.winSprite.getChild("nextButton")&&l.winSprite.getChild("nextButton").visible&&l.sw2&&l.goNextFromWin(),this.frUpdate%3!=0)if(this._paused)this.topPanel._lastTime=this.game.time.totalElapsedSeconds();else{if(this.topPanel.tick(),GameController.Touch()&&this.curHero){this.controlsPointer.x=this.curHero.view.x,this.controlsPointer.y=this.curHero.view.y;for(var e=!1,t=!1,i=!1,n=!1,r=!1,o=!1,a=0;a<2;a++){var s=this.game.input.pointers[a],p=null;s.isDown&&(p=this.closerBut(s,p,GameController.JoypadLeft.getChild("left")),p=this.closerBut(s,p,GameController.JoypadLeft.getChild("right")),p=this.closerBut(s,p,GameController.JoypadRight.getChild("up")),p=this.closerBut(s,p,GameController.JoypadRight.getChild("down")),GameController.JoypadRight.getChild("grab").visible&&(p=this.closerBut(s,p,GameController.JoypadRight.getChild("grab"))),p=this.closerBut(s,p,GameController.JoypadRight.getChild("change"))),p&&this.butDistSquared(s,p)<4e4&&("left"==p.name?e=!0:"right"==p.name?t=!0:"up"==p.name?i=!0:"down"==p.name?n=!0:"grab"==p.name?r=!0:"change"==p.name&&(o=!0))}var l=Constants.hustlerInputChannel;this.curHero==Constants.bouncer&&(l=Constants.bouncerInputChannel),Constants._ce.input.setDoing(l,"left",e),Constants._ce.input.setDoing(l,"right",t),Constants._ce.input.setDoing(l,"jump",i),Constants._ce.input.setDoing(l,"down",n),Constants._ce.input.setDoing(l,"grabDown",n),Constants._ce.input.setDoing(l,"grab",r),Constants._ce.input.setDoing(0,"change",o),Constants._ce.input.channels[0].change==Constants.frame&&this.changeControls()}Constants.frame++,this.stateUpdate(this.game.time.elapsed),this._isStarting||!Constants._ce.playing||this._isFinishing||(Constants.DEBUG&&(Input.getInstance().justDid("nextLevel")?(Constants.currentLevel<21?Constants.currentLevel++:Constants.currentLevel=1,Constants.stateSwitcher.directToPlay()):Input.getInstance().justDid("previousLevel")&&(1<Constants.currentLevel?Constants.currentLevel--:Constants.currentLevel=Constants.maxLevel,Constants.stateSwitcher.directToPlay())),Input.getInstance().justDid("restart")&&this.ozRestartLevel(),Input.getInstance().justDid("pause")&&(this._paused||Constants.stateSwitcher._isSwitchingState?this._paused&&this._black.visible&&.49<this._black.alpha&&this.unShowMenu():this.showMenu("button")),Constants.bouncer.isAtLevelExit&&Constants.bouncer.onGround&&Constants.hustler.isAtLevelExit&&Constants.hustler.onGround&&this.completeLevel())}},t.prototype.shutdown=function(){h.prototype.shutdown.call(this),this.banner&&(this.banner.hide(),this.banner=null),Fabrique.PauseHandler.getInstance().onPauseCallback.remove(this.showMenu,this);for(var e=this._objects.length,t=0;t<e;++t){var i=this._objects[t];i.view&&(i.removeArt(),i.destroy())}};var h,e=t;function t(){var e=h.call(this)||this;return e.game=PhaserGameHelper.getInstance().game,e}n.LevelState=e}(states=states||{}),states.LevelState),Constants=function(){function e(){}return e.sponsor=function(){h5branding.Branding.openCampaignLink(e.GOOGLE_APP_NAME,h5branding.UtmTargets.more_games)},e.applyMovieClipData=function(){},e.getSpriteSheetName=function(e){return e&&null!==e?e:"Objects"},e.getLayoutData=function(e){return e&&null!==e?e:ObjectsLayouts.data},e.getLayout=function(e,t){return OzUtil.PE(e,null,"name",t)},e.WIDTH=700,e.HEIGHT=525,e.GAME_SCALE=1,e.CALCULATED_WIDTH=0,e.CALCULATED_HEIGHT=0,e.LANDSCAPE_LOCKED=!0,e.PORTRAIT_LOCKED=!1,e.GAME_KEY="21e561217a39a92bdafadea1a52e4a90",e.SECRET_KEY="7b0024788004b5cf8979c9e4f1ca021f82a8b56f",e.GOOGLE_ID="UA-78960661-14",e.GOOGLE_APP_NAME="Money Movers 2",e.TAG_PUBLISHER="CONNECT2MEDIA",e.TAG_GAME_NAME="moneyMovers2",e.TAG_ID="GTM-K74X66",e.GAMEDISTRIBUTION_ID="de857b96d0a540e18b2a4037a8b7d6d8",e.GAMEDISTRIBUTION_USER="ABD36C6C-E74B-4BA7-BE87-0AB01F98D30D-s1",e.WIDTH_HALF=350,e.HEIGHT_HALF=262.5,e.TILE_SIZE=35,e.NUMLEVELS=21,e.DEBUG=!1,e.RotateDevice=null,e.bouncerInputChannel=11,e.hustlerInputChannel=12,e.frame=0,e.STORAGE_KEY="money-movers-2",e}(),Levels=(!function(e){i=Phaser.Game,__extends(n,i),n.prototype.statePreloader=function(){var t=this;libs.forEach(function(e){t.load.script(e,e)})},n.prototype.stateCreator=function(){function e(){i.recursiveUpdateText(i.stage)}var t,i=this;this.plugins.add(PhaserSuperStorage.StoragePlugin),this.plugins.add(PhaserCachebuster.CacheBuster),this.plugins.add(PhaserSpine.SpinePlugin),this.plugins.add(PhaserI18n.Plugin,{fallbackLng:"en",debug:!1,load:"languageOnly",backend:{loadPath:"assets/languages/{{lng}}.json"}},languageDetector),this.storage.forcePromises=!0,this.storage.setNamespace(Constants.STORAGE_KEY),PhaserGameHelper.getInstance().init(this),this.state.add("Boot",states.Boot),this.state.add("MainMenu",states.MainMenuState),this.state.add("LevelSelect",states.LevelSelectState),this.state.add("Level",states.LevelState),this.state.add("Animation",states.AnimationState),h5branding.Utils.inIframe()&&(t=new PhaserSuperStorage.StorageAdapters.IframeStorage("",h5branding.Utils.getDomain(document.referrer))).init().then(function(){i.storage.setAdapter(t),i.storage.setNamespace(Constants.STORAGE_KEY)}).catch(function(e){});WebFont.load({custom:{families:["sc_gum_kidsregular"],urls:["assets/css/app.css"]},active:e,inactive:e}),this.state.start("Boot"),this.state.remove("pre-game")},n.prototype.recursiveUpdateText=function(e){var t=this;e instanceof Phaser.Text&&(e.dirty=!0),e.children&&0<e.children.length&&e.children.forEach(function(e){t.recursiveUpdateText(e)})};var i,t=n;function n(){var t=i.call(this,{enableDebug:!1,width:Constants.WIDTH,height:Constants.HEIGHT,renderer:Phaser.AUTO,parent:"content",transparent:!0,antialias:!0,preserveDrawingBuffer:!1,physicsConfig:null,seed:"",state:null,forceSetTimeOut:!1})||this;return t.clearBeforeRender=!1,Phaser.Device.whenReady(function(){t.stage.disableVisibilityChange=!0;var e=t.device.desktop?"click":"touchstart";document.getElementById("content").addEventListener(e,function(e){t.gameResumed(e)})}),h5branding.Branding.analyticsEnabled=!1,window.hasOwnProperty("fbrqSA")&&!0===window.fbrqSA&&(h5branding.Utils.ASSET_LOCATION="assets/"),h5branding.SplashLoader.getInstance({gameId:Constants.GAMEDISTRIBUTION_ID,gameName:Constants.GOOGLE_APP_NAME,gameTitle:Constants.GOOGLE_APP_NAME,libs:!0===window.fbrqSA?[]:libs,version:version}).create().then(function(){languageDetector=new i18nextBrowserLanguageDetector(null),h5branding.Utils.LANGUAGE="none",t.state.add("pre-game",{create:t.stateCreator.bind(t),preload:t.statePreloader.bind(t)},!0)}),t}e.Game=t}(MoneyMovers2=MoneyMovers2||{}),function(){function e(){}return e.data=[{"@level":"1","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"136",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"17","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"11","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank5Graphics.png"}},{"@id":"10",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"30","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"97","@height":"69","@source":"Tip1Graphics.png"}},{"@id":"29",image:{"@width":"97","@height":"69","@source":"Tip2Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"52","@x":"489","@y":"276","@width":"38","@height":"19"},{"@id":"2","@gid":"45","@x":"307","@y":"159","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_1"}}},{"@id":"3","@gid":"71","@x":"171","@y":"242","@width":"104","@height":"46"},{"@id":"4","@gid":"70","@x":"273","@y":"380","@width":"104","@height":"50"},{"@id":"5","@gid":"61","@x":"560","@y":"105","@width":"42","@height":"69"},{"@id":"6","@gid":"53","@x":"665","@y":"245","@width":"24","@height":"21"},{"@id":"7","@gid":"47","@x":"483","@y":"404","@width":"54","@height":"20"},{"@id":"8","@gid":"59","@x":"181","@y":"508","@width":"43","@height":"77"},{"@id":"9","@gid":"59","@x":"92","@y":"190","@width":"43","@height":"77"},{"@id":"10","@gid":"73","@x":"27","@y":"360","@width":"97","@height":"69"},{"@id":"11","@gid":"74","@x":"179","@y":"179","@width":"97","@height":"69"},{"@id":"12","@gid":"69","@x":"323","@y":"323","@width":"48","@height":"45"}]},{"@name":"tiles",object:[{"@id":"13","@gid":"12","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"14","@gid":"12","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"15","@gid":"3","@x":"350","@y":"245","@width":"35","@height":"35"},{"@id":"16","@gid":"12","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"17","@gid":"12","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"18","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"19","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"20","@gid":"12","@x":"0","@y":"245","@width":"35","@height":"35"},{"@id":"21","@gid":"10","@x":"35","@y":"175","@width":"35","@height":"35"},{"@id":"22","@gid":"9","@x":"0","@y":"175","@width":"35","@height":"35"},{"@id":"23","@gid":"13","@x":"35","@y":"245","@width":"35","@height":"35"},{"@id":"24","@gid":"2","@x":"35","@y":"420","@width":"35","@height":"35"},{"@id":"25","@gid":"3","@x":"70","@y":"420","@width":"35","@height":"35"},{"@id":"26","@gid":"5","@x":"140","@y":"350","@width":"35","@height":"35"},{"@id":"27","@gid":"15","@x":"140","@y":"420","@width":"35","@height":"35"},{"@id":"28","@gid":"9","@x":"0","@y":"490","@width":"35","@height":"35"},{"@id":"29","@gid":"9","@x":"35","@y":"490","@width":"35","@height":"35"},{"@id":"30","@gid":"10","@x":"70","@y":"490","@width":"35","@height":"35"},{"@id":"31","@gid":"12","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"32","@gid":"5","@x":"280","@y":"490","@width":"35","@height":"35"},{"@id":"33","@gid":"8","@x":"455","@y":"490","@width":"35","@height":"35"},{"@id":"34","@gid":"11","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"35","@gid":"8","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"36","@gid":"9","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"37","@gid":"9","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"38","@gid":"9","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"39","@gid":"9","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"40","@gid":"9","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"41","@gid":"9","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"42","@gid":"9","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"43","@gid":"9","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"44","@gid":"9","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"45","@gid":"9","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"46","@gid":"9","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"47","@gid":"9","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"48","@gid":"9","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"49","@gid":"3","@x":"420","@y":"385","@width":"35","@height":"35"},{"@id":"50","@gid":"3","@x":"455","@y":"385","@width":"35","@height":"35"},{"@id":"51","@gid":"3","@x":"490","@y":"385","@width":"35","@height":"35"},{"@id":"52","@gid":"3","@x":"525","@y":"385","@width":"35","@height":"35"},{"@id":"53","@gid":"3","@x":"560","@y":"385","@width":"35","@height":"35"},{"@id":"54","@gid":"4","@x":"595","@y":"385","@width":"35","@height":"35"},{"@id":"55","@gid":"6","@x":"385","@y":"350","@width":"35","@height":"35"},{"@id":"56","@gid":"6","@x":"385","@y":"315","@width":"35","@height":"35"},{"@id":"57","@gid":"6","@x":"385","@y":"280","@width":"35","@height":"35"},{"@id":"58","@gid":"16","@x":"595","@y":"210","@width":"35","@height":"35"},{"@id":"59","@gid":"15","@x":"560","@y":"210","@width":"35","@height":"35"},{"@id":"60","@gid":"15","@x":"525","@y":"210","@width":"35","@height":"35"},{"@id":"61","@gid":"15","@x":"490","@y":"210","@width":"35","@height":"35"},{"@id":"62","@gid":"15","@x":"420","@y":"245","@width":"35","@height":"35"},{"@id":"63","@gid":"9","@x":"385","@y":"245","@width":"35","@height":"35"},{"@id":"64","@gid":"8","@x":"420","@y":"210","@width":"35","@height":"35"},{"@id":"65","@gid":"9","@x":"455","@y":"210","@width":"35","@height":"35"},{"@id":"66","@gid":"8","@x":"490","@y":"175","@width":"35","@height":"35"},{"@id":"67","@gid":"9","@x":"525","@y":"175","@width":"35","@height":"35"},{"@id":"68","@gid":"9","@x":"560","@y":"175","@width":"35","@height":"35"},{"@id":"69","@gid":"10","@x":"595","@y":"175","@width":"35","@height":"35"},{"@id":"70","@gid":"3","@x":"315","@y":"245","@width":"35","@height":"35"},{"@id":"71","@gid":"16","@x":"280","@y":"280","@width":"35","@height":"35"},{"@id":"72","@gid":"3","@x":"70","@y":"105","@width":"35","@height":"35"},{"@id":"73","@gid":"3","@x":"105","@y":"105","@width":"35","@height":"35"},{"@id":"74","@gid":"3","@x":"140","@y":"105","@width":"35","@height":"35"},{"@id":"75","@gid":"3","@x":"175","@y":"105","@width":"35","@height":"35"},{"@id":"76","@gid":"3","@x":"210","@y":"105","@width":"35","@height":"35"},{"@id":"77","@gid":"3","@x":"245","@y":"105","@width":"35","@height":"35"},{"@id":"78","@gid":"10","@x":"490","@y":"490","@width":"35","@height":"35"},{"@id":"79","@gid":"11","@x":"385","@y":"385","@width":"35","@height":"35"},{"@id":"80","@gid":"3","@x":"245","@y":"280","@width":"35","@height":"35"},{"@id":"81","@gid":"3","@x":"210","@y":"280","@width":"35","@height":"35"},{"@id":"82","@gid":"3","@x":"175","@y":"280","@width":"35","@height":"35"},{"@id":"83","@gid":"3","@x":"140","@y":"280","@width":"35","@height":"35"},{"@id":"84","@gid":"7","@x":"280","@y":"140","@width":"35","@height":"35"},{"@id":"85","@gid":"10","@x":"280","@y":"105","@width":"35","@height":"35"},{"@id":"86","@gid":"2","@x":"35","@y":"105","@width":"35","@height":"35"},{"@id":"87","@gid":"3","@x":"105","@y":"280","@width":"35","@height":"35"},{"@id":"88","@gid":"13","@x":"35","@y":"210","@width":"35","@height":"35"},{"@id":"89","@gid":"12","@x":"0","@y":"210","@width":"35","@height":"35"},{"@id":"90","@gid":"3","@x":"70","@y":"280","@width":"35","@height":"35"},{"@id":"91","@gid":"15","@x":"35","@y":"280","@width":"35","@height":"35"},{"@id":"92","@gid":"15","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"93","@gid":"8","@x":"280","@y":"245","@width":"35","@height":"35"},{"@id":"94","@gid":"3","@x":"105","@y":"420","@width":"35","@height":"35"},{"@id":"95","@gid":"6","@x":"140","@y":"385","@width":"35","@height":"35"},{"@id":"96","@gid":"3","@x":"210","@y":"420","@width":"35","@height":"35"},{"@id":"97","@gid":"3","@x":"175","@y":"420","@width":"35","@height":"35"},{"@id":"98","@gid":"3","@x":"245","@y":"420","@width":"35","@height":"35"},{"@id":"99","@gid":"3","@x":"315","@y":"420","@width":"35","@height":"35"},{"@id":"100","@gid":"3","@x":"280","@y":"420","@width":"35","@height":"35"},{"@id":"101","@gid":"3","@x":"350","@y":"420","@width":"35","@height":"35"},{"@id":"102","@gid":"16","@x":"385","@y":"420","@width":"35","@height":"35"},{"@id":"103","@gid":"3","@x":"630","@y":"315","@width":"35","@height":"35"},{"@id":"104","@gid":"3","@x":"665","@y":"315","@width":"35","@height":"35"},{"@id":"105","@gid":"2","@x":"595","@y":"315","@width":"35","@height":"35"},{"@id":"106","@gid":"16","@x":"455","@y":"245","@width":"35","@height":"35"}]},{"@name":"physics",object:[{"@id":"118","@x":"35","@y":"70","@width":"280","@height":"35"},{"@id":"119","@x":"280","@y":"105","@width":"35","@height":"35"},{"@id":"120","@x":"0","@y":"140","@width":"70","@height":"140"},{"@id":"121","@x":"70","@y":"245","@width":"245","@height":"35"},{"@id":"122","@x":"280","@y":"210","@width":"210","@height":"35"},{"@id":"123","@x":"420","@y":"175","@width":"210","@height":"35"},{"@id":"124","@x":"490","@y":"140","@width":"140","@height":"35"},{"@id":"126","@x":"385","@y":"245","@width":"35","@height":"140"},{"@id":"127","@x":"420","@y":"350","@width":"210","@height":"35"},{"@id":"128","@x":"595","@y":"280","@width":"105","@height":"35"},{"@id":"129","@x":"140","@y":"315","@width":"35","@height":"70"},{"@id":"130","@x":"35","@y":"385","@width":"385","@height":"35"},{"@id":"131","@x":"0","@y":"455","@width":"105","@height":"35"},{"@id":"132","@x":"0","@y":"490","@width":"700","@height":"35"},{"@id":"133","@x":"665","@y":"420","@width":"35","@height":"70"},{"@id":"134","@x":"455","@y":"455","@width":"70","@height":"35"},{"@id":"135","@x":"280","@y":"455","@width":"35","@height":"35"}]},{"@name":"active",object:[{"@id":"107","@gid":"33","@x":"643","@y":"113","@width":"31","@height":"34"},{"@id":"108","@gid":"33","@x":"583","@y":"475","@width":"31","@height":"34"},{"@id":"109","@gid":"33","@x":"135","@y":"470","@width":"31","@height":"34"},{"@id":"110","@gid":"23","@x":"474","@y":"351","@width":"70","@height":"70"},{"@id":"111","@gid":"19","@x":"309","@y":"140","@width":"20","@height":"70","@rotation":"180"},{"@id":"112","@type":"2","@gid":"17","@x":"434","@y":"350","@width":"24","@height":"11"},{"@id":"113","@gid":"18","@x":"245","@y":"490","@width":"25","@height":"19"},{"@id":"114","@type":"2","@gid":"19","@x":"393","@y":"490","@width":"20","@height":"70"}]},{"@name":"characters",object:[{"@id":"115","@gid":"24","@x":"105","@y":"245","@width":"63","@height":"60"},{"@id":"116","@gid":"25","@x":"202","@y":"385","@width":"44","@height":"52"}]}]},{"@level":"2","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"147",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"18","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}},{"@id":"17",image:{"@width":"50","@height":"29","@source":"TurrelGraphics.png"}}]},{"@firstgid":"35","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"9","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"44","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"30","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"92","@height":"110","@source":"Tip3Graphics.png"}},{"@id":"29",image:{"@width":"79","@height":"108","@source":"Tip4Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"51","@x":"85","@y":"105","@width":"38","@height":"19"},{"@id":"2","@gid":"44","@x":"445","@y":"178","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_2"}}},{"@id":"3","@gid":"70","@x":"35","@y":"455","@width":"104","@height":"46"},{"@id":"4","@gid":"68","@x":"70","@y":"409","@width":"48","@height":"45"},{"@id":"5","@gid":"48","@x":"385","@y":"385","@width":"34","@height":"26"},{"@id":"6","@gid":"50","@x":"455","@y":"385","@width":"125","@height":"58"},{"@id":"7","@gid":"65","@x":"273","@y":"106","@width":"51","@height":"38"},{"@id":"8","@gid":"56","@x":"630","@y":"140","@width":"23","@height":"33"},{"@id":"9","@gid":"72","@x":"340","@y":"216","@width":"92","@height":"110"},{"@id":"10","@gid":"73","@x":"125","@y":"371","@width":"79","@height":"108"},{"@id":"11","@gid":"54","@x":"280","@y":"420","@width":"38","@height":"58"}]},{"@name":"tiles",object:[{"@id":"12","@gid":"8","@x":"280","@y":"315","@width":"35","@height":"35"},{"@id":"13","@gid":"13","@x":"0","@y":"350","@width":"35","@height":"35"},{"@id":"14","@gid":"12","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"15","@gid":"12","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"16","@gid":"12","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"17","@gid":"12","@x":"455","@y":"490","@width":"35","@height":"35"},{"@id":"18","@gid":"12","@x":"490","@y":"490","@width":"35","@height":"35"},{"@id":"19","@gid":"12","@x":"420","@y":"490","@width":"35","@height":"35"},{"@id":"20","@gid":"12","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"21","@gid":"12","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"22","@gid":"12","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"23","@gid":"12","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"24","@gid":"12","@x":"350","@y":"280","@width":"35","@height":"35"},{"@id":"25","@gid":"12","@x":"0","@y":"245","@width":"35","@height":"35"},{"@id":"26","@gid":"12","@x":"385","@y":"280","@width":"35","@height":"35"},{"@id":"27","@gid":"12","@x":"595","@y":"490","@width":"35","@height":"35"},{"@id":"28","@gid":"12","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"29","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"30","@gid":"13","@x":"0","@y":"315","@width":"35","@height":"35"},{"@id":"31","@gid":"13","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"32","@gid":"13","@x":"0","@y":"455","@width":"35","@height":"35"},{"@id":"33","@gid":"9","@x":"105","@y":"490","@width":"35","@height":"35"},{"@id":"34","@gid":"9","@x":"70","@y":"490","@width":"35","@height":"35"},{"@id":"35","@gid":"9","@x":"35","@y":"490","@width":"35","@height":"35"},{"@id":"36","@gid":"9","@x":"210","@y":"490","@width":"35","@height":"35"},{"@id":"37","@gid":"9","@x":"175","@y":"490","@width":"35","@height":"35"},{"@id":"38","@gid":"9","@x":"140","@y":"490","@width":"35","@height":"35"},{"@id":"39","@gid":"9","@x":"315","@y":"490","@width":"35","@height":"35"},{"@id":"40","@gid":"9","@x":"280","@y":"490","@width":"35","@height":"35"},{"@id":"41","@gid":"9","@x":"245","@y":"490","@width":"35","@height":"35"},{"@id":"42","@gid":"13","@x":"0","@y":"385","@width":"35","@height":"35"},{"@id":"43","@gid":"3","@x":"210","@y":"245","@width":"35","@height":"35"},{"@id":"44","@gid":"4","@x":"245","@y":"245","@width":"35","@height":"35"},{"@id":"45","@gid":"15","@x":"35","@y":"245","@width":"35","@height":"35"},{"@id":"46","@gid":"10","@x":"175","@y":"210","@width":"35","@height":"35"},{"@id":"47","@gid":"8","@x":"385","@y":"455","@width":"35","@height":"35"},{"@id":"48","@gid":"9","@x":"455","@y":"455","@width":"35","@height":"35"},{"@id":"49","@gid":"9","@x":"525","@y":"490","@width":"35","@height":"35"},{"@id":"50","@gid":"9","@x":"560","@y":"490","@width":"35","@height":"35"},{"@id":"51","@gid":"9","@x":"630","@y":"420","@width":"35","@height":"35"},{"@id":"52","@gid":"10","@x":"490","@y":"455","@width":"35","@height":"35"},{"@id":"53","@gid":"10","@x":"490","@y":"280","@width":"35","@height":"35"},{"@id":"54","@gid":"16","@x":"490","@y":"315","@width":"35","@height":"35"},{"@id":"55","@gid":"15","@x":"455","@y":"315","@width":"35","@height":"35"},{"@id":"56","@gid":"15","@x":"420","@y":"315","@width":"35","@height":"35"},{"@id":"57","@gid":"9","@x":"455","@y":"280","@width":"35","@height":"35"},{"@id":"58","@gid":"9","@x":"420","@y":"280","@width":"35","@height":"35"},{"@id":"59","@gid":"10","@x":"385","@y":"245","@width":"35","@height":"35"},{"@id":"60","@gid":"9","@x":"350","@y":"245","@width":"35","@height":"35"},{"@id":"61","@gid":"15","@x":"315","@y":"315","@width":"35","@height":"35"},{"@id":"62","@gid":"15","@x":"350","@y":"315","@width":"35","@height":"35"},{"@id":"63","@gid":"15","@x":"385","@y":"315","@width":"35","@height":"35"},{"@id":"64","@gid":"11","@x":"315","@y":"280","@width":"35","@height":"35"},{"@id":"65","@gid":"11","@x":"315","@y":"245","@width":"35","@height":"35"},{"@id":"66","@gid":"6","@x":"315","@y":"210","@width":"35","@height":"35"},{"@id":"67","@gid":"8","@x":"595","@y":"280","@width":"35","@height":"35"},{"@id":"68","@gid":"12","@x":"630","@y":"490","@width":"35","@height":"35"},{"@id":"69","@gid":"12","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"70","@gid":"11","@x":"665","@y":"385","@width":"35","@height":"35"},{"@id":"71","@gid":"12","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"72","@gid":"8","@x":"665","@y":"350","@width":"35","@height":"35"},{"@id":"73","@gid":"4","@x":"630","@y":"280","@width":"35","@height":"35"},{"@id":"74","@gid":"15","@x":"70","@y":"245","@width":"35","@height":"35"},{"@id":"75","@gid":"15","@x":"140","@y":"245","@width":"35","@height":"35"},{"@id":"76","@gid":"15","@x":"105","@y":"245","@width":"35","@height":"35"},{"@id":"77","@gid":"9","@x":"35","@y":"210","@width":"35","@height":"35"},{"@id":"78","@gid":"9","@x":"70","@y":"210","@width":"35","@height":"35"},{"@id":"79","@gid":"9","@x":"105","@y":"210","@width":"35","@height":"35"},{"@id":"80","@gid":"13","@x":"0","@y":"175","@width":"35","@height":"35"},{"@id":"81","@gid":"13","@x":"0","@y":"140","@width":"35","@height":"35"},{"@id":"82","@gid":"12","@x":"0","@y":"210","@width":"35","@height":"35"},{"@id":"83","@gid":"10","@x":"0","@y":"105","@width":"35","@height":"35"},{"@id":"84","@gid":"15","@x":"175","@y":"245","@width":"35","@height":"35"},{"@id":"85","@gid":"9","@x":"140","@y":"210","@width":"35","@height":"35"},{"@id":"86","@gid":"10","@x":"315","@y":"175","@width":"35","@height":"35"},{"@id":"87","@gid":"3","@x":"280","@y":"175","@width":"35","@height":"35"},{"@id":"88","@gid":"2","@x":"245","@y":"175","@width":"35","@height":"35"},{"@id":"89","@gid":"12","@x":"0","@y":"490","@width":"35","@height":"35"},{"@id":"90","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"91","@gid":"12","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"92","@gid":"12","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"93","@gid":"12","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"94","@gid":"12","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"95","@gid":"12","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"96","@gid":"12","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"97","@gid":"12","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"98","@gid":"12","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"99","@gid":"12","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"100","@gid":"12","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"101","@gid":"12","@x":"385","@y":"490","@width":"35","@height":"35"},{"@id":"102","@gid":"9","@x":"420","@y":"455","@width":"35","@height":"35"},{"@id":"103","@gid":"9","@x":"350","@y":"490","@width":"35","@height":"35"},{"@id":"104","@gid":"11","@x":"595","@y":"455","@width":"35","@height":"35"},{"@id":"105","@gid":"6","@x":"595","@y":"385","@width":"35","@height":"35"},{"@id":"106","@gid":"6","@x":"595","@y":"350","@width":"35","@height":"35"},{"@id":"107","@gid":"6","@x":"595","@y":"315","@width":"35","@height":"35"},{"@id":"108","@gid":"12","@x":"630","@y":"455","@width":"35","@height":"35"},{"@id":"109","@gid":"12","@x":"665","@y":"420","@width":"35","@height":"35"},{"@id":"110","@gid":"11","@x":"595","@y":"420","@width":"35","@height":"35"},{"@id":"111","@gid":"2","@x":"665","@y":"210","@width":"35","@height":"35"},{"@id":"112","@gid":"13","@x":"0","@y":"420","@width":"35","@height":"35"},{"@id":"113","@gid":"16","@x":"280","@y":"350","@width":"35","@height":"35"},{"@id":"114","@gid":"9","@x":"245","@y":"350","@width":"35","@height":"35"},{"@id":"115","@gid":"8","@x":"210","@y":"350","@width":"35","@height":"35"},{"@id":"116","@gid":"16","@x":"245","@y":"385","@width":"35","@height":"35"},{"@id":"117","@gid":"14","@x":"210","@y":"385","@width":"35","@height":"35"}]},{"@name":"physics",object:[{"@id":"129","@x":"0","@y":"70","@width":"35","@height":"455"},{"@id":"130","@x":"35","@y":"455","@width":"665","@height":"70"},{"@id":"131","@x":"595","@y":"245","@width":"70","@height":"35"},{"@id":"132","@x":"665","@y":"315","@width":"35","@height":"140"},{"@id":"133","@x":"595","@y":"280","@width":"35","@height":"175"},{"@id":"134","@x":"630","@y":"385","@width":"35","@height":"70"},{"@id":"135","@x":"35","@y":"175","@width":"175","@height":"35"},{"@id":"136","@x":"35","@y":"210","@width":"245","@height":"35"},{"@id":"137","@x":"245","@y":"140","@width":"105","@height":"35"},{"@id":"138","@x":"315","@y":"210","@width":"105","@height":"35"},{"@id":"141","@x":"315","@y":"245","@width":"210","@height":"70"},{"@id":"142","@x":"280","@y":"280","@width":"35","@height":"70"},{"@id":"143","@x":"210","@y":"315","@width":"70","@height":"70"},{"@id":"144","@x":"315","@y":"175","@width":"35","@height":"35"},{"@id":"145","@x":"665","@y":"175","@width":"35","@height":"35"},{"@id":"146","@x":"385","@y":"420","@width":"140","@height":"35"}]},{"@name":"active",object:[{"@id":"118","@gid":"23","@x":"70","@y":"175","@width":"70","@height":"70"},{"@id":"119","@gid":"33","@x":"70","@y":"315","@width":"31","@height":"34"},{"@id":"120","@gid":"33","@x":"630","@y":"385","@width":"31","@height":"34"},{"@id":"121","@gid":"33","@x":"544","@y":"76","@width":"31","@height":"34"},{"@id":"122","@gid":"17","@x":"289","@y":"282","@width":"24","@height":"11"},{"@id":"123","@type":"3","@gid":"21","@x":"524","@y":"440","@width":"70","@height":"19",properties:{property:[{"@name":"distanceY","@value":"175"},{"@name":"speedY","@value":"-45"}]}},{"@id":"124","@type":"3","@gid":"18","@x":"665","@y":"175","@width":"25","@height":"19"},{"@id":"125","@gid":"19","@x":"280","@y":"385","@width":"20","@height":"70","@rotation":"180"},{"@id":"128","@gid":"2147483682","@x":"-3","@y":"71","@width":"50","@height":"29"}]},{"@name":"characters",object:[{"@id":"126","@gid":"24","@x":"175","@y":"455","@width":"63","@height":"60"},{"@id":"127","@gid":"25","@x":"105","@y":"455","@width":"44","@height":"52"}]}]},{"@level":"3","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"135",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"17","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"11","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank5Graphics.png"}},{"@id":"10",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"30","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"81","@height":"87","@source":"Tip8Graphics.png"}},{"@id":"29",image:{"@width":"71","@height":"97","@source":"Tip9Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"52","@x":"570","@y":"344","@width":"38","@height":"19"},{"@id":"2","@gid":"45","@x":"315","@y":"175","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_3"}}},{"@id":"3","@gid":"50","@x":"490","@y":"105","@width":"22","@height":"31"},{"@id":"4","@gid":"48","@x":"105","@y":"280","@width":"33","@height":"27"},{"@id":"5","@gid":"59","@x":"572","@y":"280","@width":"43","@height":"77"},{"@id":"6","@gid":"71","@x":"70","@y":"175","@width":"104","@height":"46"},{"@id":"7","@gid":"63","@x":"96","@y":"131","@width":"51","@height":"58"},{"@id":"8","@gid":"2147483721","@x":"232","@y":"455","@width":"81","@height":"87"},{"@id":"9","@gid":"74","@x":"314","@y":"465","@width":"71","@height":"97"}]},{"@name":"tiles",object:[{"@id":"10","@gid":"12","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"11","@gid":"12","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"12","@gid":"12","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"13","@gid":"12","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"14","@gid":"12","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"15","@gid":"12","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"16","@gid":"12","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"17","@gid":"12","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"18","@gid":"12","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"19","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"20","@gid":"12","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"21","@gid":"12","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"22","@gid":"12","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"23","@gid":"12","@x":"525","@y":"490","@width":"35","@height":"35"},{"@id":"24","@gid":"12","@x":"630","@y":"490","@width":"35","@height":"35"},{"@id":"25","@gid":"12","@x":"595","@y":"490","@width":"35","@height":"35"},{"@id":"26","@gid":"12","@x":"560","@y":"490","@width":"35","@height":"35"},{"@id":"27","@gid":"12","@x":"665","@y":"280","@width":"35","@height":"35"},{"@id":"28","@gid":"12","@x":"665","@y":"210","@width":"35","@height":"35"},{"@id":"29","@gid":"12","@x":"665","@y":"245","@width":"35","@height":"35"},{"@id":"30","@gid":"12","@x":"665","@y":"140","@width":"35","@height":"35"},{"@id":"31","@gid":"10","@x":"175","@y":"490","@width":"35","@height":"35"},{"@id":"32","@gid":"12","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"33","@gid":"12","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"34","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"35","@gid":"12","@x":"0","@y":"490","@width":"35","@height":"35"},{"@id":"36","@gid":"13","@x":"0","@y":"455","@width":"35","@height":"35"},{"@id":"37","@gid":"13","@x":"0","@y":"420","@width":"35","@height":"35"},{"@id":"38","@gid":"13","@x":"0","@y":"350","@width":"35","@height":"35"},{"@id":"39","@gid":"13","@x":"0","@y":"315","@width":"35","@height":"35"},{"@id":"40","@gid":"13","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"41","@gid":"13","@x":"0","@y":"245","@width":"35","@height":"35"},{"@id":"42","@gid":"9","@x":"140","@y":"490","@width":"35","@height":"35"},{"@id":"43","@gid":"9","@x":"105","@y":"490","@width":"35","@height":"35"},{"@id":"44","@gid":"9","@x":"70","@y":"490","@width":"35","@height":"35"},{"@id":"45","@gid":"9","@x":"35","@y":"490","@width":"35","@height":"35"},{"@id":"46","@gid":"9","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"47","@gid":"9","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"48","@gid":"9","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"49","@gid":"9","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"50","@gid":"9","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"51","@gid":"9","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"52","@gid":"8","@x":"420","@y":"490","@width":"35","@height":"35"},{"@id":"53","@gid":"9","@x":"455","@y":"490","@width":"35","@height":"35"},{"@id":"54","@gid":"9","@x":"490","@y":"490","@width":"35","@height":"35"},{"@id":"55","@gid":"8","@x":"525","@y":"455","@width":"35","@height":"35"},{"@id":"56","@gid":"9","@x":"595","@y":"455","@width":"35","@height":"35"},{"@id":"57","@gid":"9","@x":"560","@y":"455","@width":"35","@height":"35"},{"@id":"58","@gid":"9","@x":"630","@y":"455","@width":"35","@height":"35"},{"@id":"59","@gid":"11","@x":"665","@y":"420","@width":"35","@height":"35"},{"@id":"60","@gid":"11","@x":"665","@y":"385","@width":"35","@height":"35"},{"@id":"61","@gid":"11","@x":"665","@y":"350","@width":"35","@height":"35"},{"@id":"62","@gid":"11","@x":"665","@y":"315","@width":"35","@height":"35"},{"@id":"63","@gid":"14","@x":"630","@y":"280","@width":"35","@height":"35"},{"@id":"64","@gid":"11","@x":"630","@y":"245","@width":"35","@height":"35"},{"@id":"65","@gid":"11","@x":"630","@y":"210","@width":"35","@height":"35"},{"@id":"66","@gid":"8","@x":"630","@y":"140","@width":"35","@height":"35"},{"@id":"67","@gid":"11","@x":"665","@y":"70","@width":"35","@height":"35"},{"@id":"68","@gid":"11","@x":"665","@y":"35","@width":"35","@height":"35"},{"@id":"69","@gid":"16","@x":"490","@y":"315","@width":"35","@height":"35"},{"@id":"70","@gid":"16","@x":"455","@y":"350","@width":"35","@height":"35"},{"@id":"71","@gid":"8","@x":"490","@y":"280","@width":"35","@height":"35"},{"@id":"72","@gid":"8","@x":"420","@y":"315","@width":"35","@height":"35"},{"@id":"73","@gid":"9","@x":"455","@y":"315","@width":"35","@height":"35"},{"@id":"74","@gid":"2","@x":"385","@y":"350","@width":"35","@height":"35"},{"@id":"75","@gid":"15","@x":"420","@y":"350","@width":"35","@height":"35"},{"@id":"76","@gid":"2","@x":"140","@y":"350","@width":"35","@height":"35"},{"@id":"77","@gid":"3","@x":"175","@y":"350","@width":"35","@height":"35"},{"@id":"78","@gid":"4","@x":"210","@y":"350","@width":"35","@height":"35"},{"@id":"79","@gid":"4","@x":"420","@y":"210","@width":"35","@height":"35"},{"@id":"80","@gid":"3","@x":"385","@y":"210","@width":"35","@height":"35"},{"@id":"81","@gid":"3","@x":"350","@y":"210","@width":"35","@height":"35"},{"@id":"82","@gid":"3","@x":"315","@y":"210","@width":"35","@height":"35"},{"@id":"83","@gid":"3","@x":"280","@y":"210","@width":"35","@height":"35"},{"@id":"84","@gid":"3","@x":"245","@y":"210","@width":"35","@height":"35"},{"@id":"85","@gid":"3","@x":"210","@y":"210","@width":"35","@height":"35"},{"@id":"86","@gid":"15","@x":"175","@y":"210","@width":"35","@height":"35"},{"@id":"87","@gid":"3","@x":"140","@y":"210","@width":"35","@height":"35"},{"@id":"88","@gid":"3","@x":"70","@y":"210","@width":"35","@height":"35"},{"@id":"89","@gid":"3","@x":"105","@y":"210","@width":"35","@height":"35"},{"@id":"90","@gid":"3","@x":"35","@y":"210","@width":"35","@height":"35"},{"@id":"91","@gid":"9","@x":"0","@y":"210","@width":"35","@height":"35"},{"@id":"92","@gid":"6","@x":"175","@y":"175","@width":"35","@height":"35"},{"@id":"93","@gid":"6","@x":"175","@y":"140","@width":"35","@height":"35"},{"@id":"94","@gid":"6","@x":"175","@y":"105","@width":"35","@height":"35"},{"@id":"95","@gid":"8","@x":"175","@y":"70","@width":"35","@height":"35"},{"@id":"96","@gid":"3","@x":"210","@y":"70","@width":"35","@height":"35"},{"@id":"97","@gid":"3","@x":"245","@y":"70","@width":"35","@height":"35"},{"@id":"98","@gid":"3","@x":"280","@y":"70","@width":"35","@height":"35"},{"@id":"99","@gid":"3","@x":"315","@y":"70","@width":"35","@height":"35"},{"@id":"100","@gid":"4","@x":"350","@y":"70","@width":"35","@height":"35"},{"@id":"101","@gid":"12","@x":"665","@y":"175","@width":"35","@height":"35"},{"@id":"102","@gid":"11","@x":"630","@y":"175","@width":"35","@height":"35"},{"@id":"103","@gid":"11","@x":"665","@y":"105","@width":"35","@height":"35"},{"@id":"104","@gid":"4","@x":"525","@y":"280","@width":"35","@height":"35"},{"@id":"105","@gid":"2","@x":"525","@y":"175","@width":"35","@height":"35"},{"@id":"106","@gid":"4","@x":"560","@y":"175","@width":"35","@height":"35"},{"@id":"107","@gid":"13","@x":"0","@y":"385","@width":"35","@height":"35"}]},{"@name":"physics",object:[{"@id":"120","@x":"0","@y":"175","@width":"455","@height":"35"},{"@id":"121","@x":"175","@y":"35","@width":"210","@height":"35"},{"@id":"122","@x":"175","@y":"70","@width":"35","@height":"105"},{"@id":"123","@x":"525","@y":"140","@width":"70","@height":"35"},{"@id":"124","@x":"630","@y":"105","@width":"35","@height":"175"},{"@id":"125","@x":"665","@y":"0","@width":"35","@height":"525"},{"@id":"126","@x":"525","@y":"420","@width":"140","@height":"35"},{"@id":"127","@x":"420","@y":"455","@width":"245","@height":"35"},{"@id":"128","@x":"0","@y":"490","@width":"665","@height":"35"},{"@id":"129","@x":"0","@y":"455","@width":"210","@height":"35"},{"@id":"130","@x":"0","@y":"210","@width":"35","@height":"245"},{"@id":"131","@x":"140","@y":"315","@width":"105","@height":"35"},{"@id":"132","@x":"385","@y":"315","@width":"105","@height":"35"},{"@id":"133","@x":"420","@y":"280","@width":"105","@height":"35"},{"@id":"134","@x":"490","@y":"245","@width":"70","@height":"35"}]},{"@name":"active",object:[{"@id":"108","@gid":"33","@x":"569","@y":"118","@width":"31","@height":"34"},{"@id":"109","@gid":"33","@x":"280","@y":"140","@width":"31","@height":"34"},{"@id":"110","@gid":"33","@x":"39","@y":"254","@width":"31","@height":"34"},{"@id":"111","@gid":"23","@x":"555","@y":"419","@width":"70","@height":"70"},{"@id":"112","@gid":"18","@x":"442","@y":"281","@width":"25","@height":"19"},{"@id":"113","@gid":"27","@x":"298","@y":"232","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"1"},{"@name":"maxAngle","@value":"70"},{"@name":"minAngle","@value":"110"},{"@name":"speedX","@value":"2"}]}},{"@id":"114","@gid":"19","@x":"245","@y":"335","@width":"20","@height":"70","@rotation":"270"},{"@id":"115","@type":"1","@gid":"20","@x":"385","@y":"335","@width":"20","@height":"70","@rotation":"270"},{"@id":"116","@gid":"19","@x":"385","@y":"315","@width":"20","@height":"70","@rotation":"90"},{"@id":"117","@type":"1","@gid":"20","@x":"245","@y":"315","@width":"20","@height":"70","@rotation":"90"}]},{"@name":"characters",object:[{"@id":"118","@gid":"24","@x":"105","@y":"452","@width":"63","@height":"60"},{"@id":"119","@gid":"25","@x":"429","@y":"455","@width":"44","@height":"52"}]}]},{"@level":"4","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"122","@height":"87","@source":"Tip6Graphics.png"}},{"@id":"29",image:{"@width":"122","@height":"87","@source":"Tip7Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"50","@x":"554","@y":"419"},{"@gid":"43","@x":"447","@y":"369",properties:{property:{"@name":"text","@value":"level_text_4"}}},{"@gid":"71","@x":"450","@y":"135"},{"@gid":"72","@x":"525","@y":"210"},{"@gid":"65","@x":"70","@y":"315"},{"@gid":"66","@x":"304","@y":"280"},{"@gid":"68","@x":"35","@y":"165"},{"@gid":"64","@x":"356","@y":"468"},{"@gid":"63","@x":"87","@y":"487"}]},{"@name":"tiles",object:[{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"0","@y":"210"},{"@gid":"12","@x":"665","@y":"385"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"0","@y":"455"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"13","@x":"0","@y":"350"},{"@gid":"13","@x":"0","@y":"315"},{"@gid":"13","@x":"0","@y":"280"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"11","@x":"665","@y":"490"},{"@gid":"11","@x":"665","@y":"455"},{"@gid":"11","@x":"665","@y":"420"},{"@gid":"11","@x":"665","@y":"280"},{"@gid":"11","@x":"665","@y":"245"},{"@gid":"11","@x":"665","@y":"315"},{"@gid":"11","@x":"665","@y":"210"},{"@gid":"11","@x":"665","@y":"175"},{"@gid":"11","@x":"665","@y":"140"},{"@gid":"11","@x":"665","@y":"105"},{"@gid":"11","@x":"665","@y":"70"},{"@gid":"11","@x":"665","@y":"35"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"13","@x":"0","@y":"140"},{"@gid":"10","@x":"35","@y":"455"},{"@gid":"9","@x":"105","@y":"525"},{"@gid":"9","@x":"175","@y":"525"},{"@gid":"9","@x":"210","@y":"525"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"9","@x":"455","@y":"525"},{"@gid":"9","@x":"490","@y":"525"},{"@gid":"9","@x":"525","@y":"525"},{"@gid":"9","@x":"560","@y":"525"},{"@gid":"9","@x":"595","@y":"525"},{"@gid":"9","@x":"630","@y":"525"},{"@gid":"2","@x":"525","@y":"385"},{"@gid":"3","@x":"560","@y":"385"},{"@gid":"3","@x":"630","@y":"385"},{"@gid":"4","@x":"560","@y":"280"},{"@gid":"3","@x":"455","@y":"280"},{"@gid":"3","@x":"490","@y":"280"},{"@gid":"6","@x":"385","@y":"245"},{"@gid":"6","@x":"385","@y":"210"},{"@gid":"5","@x":"385","@y":"175"},{"@gid":"14","@x":"175","@y":"315"},{"@gid":"16","@x":"245","@y":"315"},{"@gid":"8","@x":"175","@y":"280"},{"@gid":"13","@x":"245","@y":"280"},{"@gid":"3","@x":"35","@y":"210"},{"@gid":"3","@x":"70","@y":"210"},{"@gid":"4","@x":"105","@y":"210"},{"@gid":"6","@x":"245","@y":"105"},{"@gid":"3","@x":"210","@y":"70"},{"@gid":"3","@x":"175","@y":"70"},{"@gid":"3","@x":"105","@y":"70"},{"@gid":"3","@x":"35","@y":"70"},{"@gid":"3","@x":"70","@y":"70"},{"@gid":"9","@x":"0","@y":"70"},{"@gid":"3","@x":"245","@y":"420"},{"@gid":"3","@x":"210","@y":"420"},{"@gid":"3","@x":"175","@y":"420"},{"@gid":"9","@x":"70","@y":"525"},{"@gid":"3","@x":"140","@y":"420"},{"@gid":"14","@x":"105","@y":"420"},{"@gid":"12","@x":"0","@y":"490"},{"@gid":"13","@x":"35","@y":"490"},{"@gid":"11","@x":"245","@y":"35"},{"@gid":"11","@x":"385","@y":"280"},{"@gid":"10","@x":"105","@y":"385"},{"@gid":"2","@x":"70","@y":"385"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"5","@x":"140","@y":"490"},{"@gid":"6","@x":"245","@y":"140"},{"@gid":"6","@x":"245","@y":"175"},{"@gid":"3","@x":"525","@y":"280"},{"@gid":"3","@x":"595","@y":"385"},{"@gid":"15","@x":"280","@y":"70"},{"@gid":"16","@x":"315","@y":"70"},{"@type":"2","@gid":"17","@x":"413","@y":"35","@rotation":"180"},{"@gid":"3","@x":"140","@y":"70"},{"@gid":"13","@x":"0","@y":"105"},{"@gid":"15","@x":"210","@y":"315"},{"@gid":"5","@x":"315","@y":"490"},{"@gid":"7","@x":"420","@y":"455"},{"@gid":"3","@x":"280","@y":"420"},{"@gid":"3","@x":"315","@y":"420"},{"@gid":"9","@x":"420","@y":"525"},{"@gid":"9","@x":"280","@y":"525"},{"@gid":"9","@x":"385","@y":"525"},{"@gid":"9","@x":"350","@y":"525"},{"@gid":"11","@x":"385","@y":"350"},{"@gid":"11","@x":"385","@y":"385"},{"@gid":"13","@x":"420","@y":"385"},{"@gid":"13","@x":"420","@y":"350"},{"@gid":"11","@x":"385","@y":"315"},{"@gid":"13","@x":"420","@y":"315"},{"@gid":"9","@x":"420","@y":"280"},{"@gid":"15","@x":"385","@y":"420"},{"@gid":"11","@x":"665","@y":"350"},{"@gid":"12","@x":"245","@y":"70"},{"@gid":"12","@x":"280","@y":"35"},{"@gid":"15","@x":"350","@y":"35"},{"@gid":"16","@x":"385","@y":"35"},{"@gid":"12","@x":"315","@y":"35"},{"@gid":"6","@x":"245","@y":"210"},{"@gid":"6","@x":"245","@y":"245"},{"@gid":"9","@x":"210","@y":"280"},{"@gid":"3","@x":"350","@y":"420"},{"@gid":"13","@x":"420","@y":"420"}]},{"@name":"active",object:[{"@gid":"23","@x":"539","@y":"489"},{"@gid":"33","@x":"229","@y":"455"},{"@gid":"33","@x":"324","@y":"227"},{"@gid":"33","@x":"209","@y":"111"},{"@gid":"17","@x":"358","@y":"387"},{"@type":"4","@gid":"19","@x":"412","@y":"70","@rotation":"180"},{"@gid":"39","@x":"421","@y":"245"},{"@gid":"19","@x":"385","@y":"350","@rotation":"90"},{"@type":"3","@gid":"19","@x":"1190","@y":"245","@rotation":"270"},{"@type":"3","@gid":"17","@x":"76","@y":"175"},{"@type":"4","@gid":"17","@x":"462.5","@y":"245.5"},{"@type":"2","@gid":"19","@x":"350","@y":"67","@rotation":"270"},{"@type":"5","@gid":"17","@x":"629.5","@y":"490.5"},{"@type":"6","@gid":"19","@x":"210","@y":"272","@rotation":"90"},{"@type":"6","@gid":"17","@x":"145","@y":"386"},{"@type":"5","@gid":"19","@x":"448","@y":"421","@rotation":"180"},{"@type":"3","@gid":"19","@x":"595","@y":"245","@rotation":"90"}]},{"@name":"characters",object:[{"@gid":"24","@x":"490","@y":"245"},{"@gid":"25","@x":"245","@y":"385"}]},{"@name":"physics",object:[{"@x":"0","@y":"490","@width":"700","@height":"35"},{"@x":"315","@y":"455","@width":"35","@height":"35"},{"@x":"140","@y":"455","@width":"35","@height":"35"},{"@x":"0","@y":"420","@width":"70","@height":"70"},{"@x":"0","@y":"70","@width":"35","@height":"350"},{"@x":"0","@y":"35","@width":"350","@height":"35"},{"@x":"245","@y":"0","@width":"175","@height":"35"},{"@x":"245","@y":"70","@width":"35","@height":"175"},{"@x":"175","@y":"245","@width":"105","@height":"70"},{"@x":"35","@y":"175","@width":"105","@height":"35"},{"@x":"70","@y":"350","@width":"70","@height":"35"},{"@x":"105","@y":"385","@width":"315","@height":"35"},{"@x":"420","@y":"280","@width":"35","@height":"175"},{"@x":"385","@y":"140","@width":"35","@height":"245"},{"@x":"420","@y":"245","@width":"175","@height":"35"},{"@x":"525","@y":"350","@width":"140","@height":"35"},{"@x":"665","@y":"0","@width":"35","@height":"490"}]}]},{"@level":"5","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank5Graphics.png"}},{"@id":"10",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"52","@x":"131","@y":"419"},{"@gid":"45","@x":"200","@y":"155",properties:{property:{"@name":"text","@value":"level_text_5"}}},{"@gid":"46","@x":"560","@y":"229"},{"@gid":"53","@x":"433","@y":"482"},{"@gid":"61","@x":"613","@y":"347"},{"@gid":"48","@x":"134","@y":"250"},{"@gid":"51","@x":"271","@y":"454"},{"@gid":"49","@x":"138","@y":"115"}]},{"@name":"tiles",object:[{"@gid":"12","@x":"350","@y":"560"},{"@gid":"12","@x":"105","@y":"560"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"420","@y":"560"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"12","@x":"665","@y":"560"},{"@gid":"12","@x":"665","@y":"175"},{"@gid":"12","@x":"455","@y":"560"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"12","@x":"140","@y":"560"},{"@gid":"12","@x":"70","@y":"560"},{"@gid":"12","@x":"385","@y":"560"},{"@gid":"12","@x":"175","@y":"560"},{"@gid":"12","@x":"0","@y":"210"},{"@gid":"12","@x":"665","@y":"210"},{"@gid":"12","@x":"420","@y":"245"},{"@gid":"12","@x":"420","@y":"280"},{"@gid":"12","@x":"35","@y":"560"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"665","@y":"385"},{"@gid":"12","@x":"420","@y":"210"},{"@gid":"12","@x":"455","@y":"210"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"630","@y":"560"},{"@gid":"12","@x":"560","@y":"560"},{"@gid":"12","@x":"595","@y":"560"},{"@gid":"12","@x":"525","@y":"560"},{"@gid":"12","@x":"490","@y":"560"},{"@gid":"12","@x":"0","@y":"560"},{"@gid":"12","@x":"210","@y":"560"},{"@gid":"12","@x":"245","@y":"560"},{"@gid":"12","@x":"280","@y":"560"},{"@gid":"12","@x":"315","@y":"560"},{"@gid":"10","@x":"0","@y":"105"},{"@gid":"13","@x":"0","@y":"140"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"13","@x":"0","@y":"280"},{"@gid":"13","@x":"0","@y":"315"},{"@gid":"13","@x":"0","@y":"350"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"9","@x":"70","@y":"525"},{"@gid":"9","@x":"105","@y":"525"},{"@gid":"9","@x":"140","@y":"525"},{"@gid":"9","@x":"210","@y":"525"},{"@gid":"9","@x":"175","@y":"525"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"9","@x":"280","@y":"525"},{"@gid":"9","@x":"315","@y":"525"},{"@gid":"9","@x":"350","@y":"525"},{"@gid":"9","@x":"385","@y":"525"},{"@gid":"9","@x":"420","@y":"525"},{"@gid":"9","@x":"455","@y":"525"},{"@gid":"9","@x":"490","@y":"525"},{"@gid":"10","@x":"560","@y":"455"},{"@gid":"13","@x":"560","@y":"490"},{"@gid":"11","@x":"525","@y":"455"},{"@gid":"11","@x":"525","@y":"490"},{"@gid":"6","@x":"525","@y":"420"},{"@gid":"6","@x":"525","@y":"385"},{"@gid":"6","@x":"525","@y":"350"},{"@gid":"8","@x":"525","@y":"315"},{"@gid":"4","@x":"560","@y":"315"},{"@gid":"2","@x":"630","@y":"385"},{"@gid":"11","@x":"665","@y":"490"},{"@gid":"11","@x":"665","@y":"455"},{"@gid":"11","@x":"665","@y":"420"},{"@gid":"11","@x":"665","@y":"350"},{"@gid":"11","@x":"665","@y":"315"},{"@gid":"11","@x":"665","@y":"280"},{"@gid":"11","@x":"665","@y":"245"},{"@gid":"15","@x":"490","@y":"210"},{"@gid":"15","@x":"525","@y":"210"},{"@gid":"15","@x":"560","@y":"210"},{"@gid":"15","@x":"595","@y":"210"},{"@gid":"15","@x":"630","@y":"210"},{"@gid":"14","@x":"420","@y":"455"},{"@gid":"11","@x":"420","@y":"420"},{"@gid":"11","@x":"420","@y":"385"},{"@gid":"11","@x":"420","@y":"350"},{"@gid":"11","@x":"420","@y":"315"},{"@gid":"2","@x":"315","@y":"280"},{"@gid":"3","@x":"350","@y":"280"},{"@gid":"15","@x":"385","@y":"280"},{"@gid":"16","@x":"455","@y":"455"},{"@gid":"13","@x":"455","@y":"420"},{"@gid":"13","@x":"455","@y":"385"},{"@gid":"13","@x":"455","@y":"350"},{"@gid":"13","@x":"455","@y":"315"},{"@gid":"13","@x":"455","@y":"280"},{"@gid":"13","@x":"455","@y":"245"},{"@gid":"11","@x":"385","@y":"245"},{"@gid":"11","@x":"385","@y":"210"},{"@gid":"8","@x":"385","@y":"175"},{"@gid":"9","@x":"420","@y":"175"},{"@gid":"9","@x":"455","@y":"175"},{"@gid":"9","@x":"490","@y":"175"},{"@gid":"9","@x":"525","@y":"175"},{"@gid":"9","@x":"560","@y":"175"},{"@gid":"9","@x":"595","@y":"175"},{"@gid":"9","@x":"630","@y":"175"},{"@gid":"11","@x":"665","@y":"140"},{"@gid":"8","@x":"665","@y":"105"},{"@gid":"10","@x":"210","@y":"175"},{"@gid":"8","@x":"70","@y":"175"},{"@gid":"9","@x":"105","@y":"175"},{"@gid":"3","@x":"35","@y":"210"},{"@gid":"15","@x":"70","@y":"210"},{"@gid":"15","@x":"105","@y":"210"},{"@gid":"13","@x":"210","@y":"210"},{"@gid":"7","@x":"175","@y":"315"},{"@gid":"3","@x":"140","@y":"385"},{"@gid":"3","@x":"175","@y":"385"},{"@gid":"10","@x":"210","@y":"385"},{"@gid":"7","@x":"210","@y":"420"},{"@gid":"16","@x":"210","@y":"280"},{"@gid":"13","@x":"210","@y":"245"},{"@gid":"12","@x":"175","@y":"210"},{"@gid":"9","@x":"175","@y":"175"},{"@gid":"9","@x":"140","@y":"175"},{"@gid":"15","@x":"140","@y":"210"},{"@gid":"11","@x":"175","@y":"280"},{"@gid":"11","@x":"175","@y":"245"},{"@gid":"12","@x":"0","@y":"490"},{"@gid":"12","@x":"0","@y":"455"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"13","@x":"35","@y":"490"},{"@gid":"10","@x":"35","@y":"455"},{"@gid":"2","@x":"70","@y":"385"},{"@gid":"3","@x":"105","@y":"385"}]},{"@name":"active",object:[{"@gid":"33","@x":"45","@y":"257"},{"@gid":"33","@x":"493","@y":"280"},{"@gid":"33","@x":"383","@y":"325"},{"@gid":"23","@x":"114","@y":"490"},{"@gid":"19","@x":"455","@y":"313","@rotation":"90"},{"@type":"1","@gid":"17","@x":"439","@y":"140"},{"@type":"3","@gid":"19","@x":"455","@y":"434","@rotation":"90"},{"@gid":"38","@x":"350","@y":"245"},{"@type":"2","@gid":"17","@x":"505","@y":"140"},{"@type":"2","@gid":"19","@x":"455","@y":"371","@rotation":"90"},{"@type":"3","@gid":"17","@x":"568","@y":"140"},{"@type":"4","@gid":"19","@x":"665","@y":"99","@rotation":"90"},{"@type":"4","@gid":"17","@x":"632","@y":"140"},{"@type":"6","@gid":"17","@x":"40","@y":"175"},{"@type":"5","@gid":"19","@x":"218","@y":"490"},{"@type":"5","@gid":"17","@x":"109","@y":"351"},{"@type":"6","@gid":"19","@x":"245","@y":"246","@rotation":"90"}]},{"@name":"characters",object:[{"@gid":"24","@x":"249","@y":"247"},{"@gid":"25","@x":"606","@y":"491"}]},{"@name":"physics",object:[{"@x":"0","@y":"490","@width":"700","@height":"70"},{"@x":"665","@y":"70","@width":"35","@height":"420"},{"@x":"630","@y":"350","@width":"35","@height":"35"},{"@x":"525","@y":"315","@width":"35","@height":"175"},{"@x":"560","@y":"420","@width":"35","@height":"70"},{"@x":"525","@y":"280","@width":"70","@height":"35"},{"@x":"315","@y":"245","@width":"70","@height":"35"},{"@x":"385","@y":"140","@width":"280","@height":"70"},{"@x":"385","@y":"210","@width":"105","@height":"70"},{"@x":"420","@y":"280","@width":"70","@height":"175"},{"@x":"70","@y":"350","@width":"175","@height":"35"},{"@x":"210","@y":"385","@width":"35","@height":"35"},{"@x":"0","@y":"70","@width":"35","@height":"420"},{"@x":"35","@y":"420","@width":"35","@height":"70"},{"@x":"70","@y":"140","@width":"175","@height":"70"},{"@x":"35","@y":"175","@width":"35","@height":"35"},{"@x":"175","@y":"210","@width":"70","@height":"70"},{"@x":"175","@y":"280","@width":"35","@height":"35"}]}]},{"@level":"6","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}},{"@id":"17",image:{"@width":"50","@height":"29","@source":"TurrelGraphics.png"}}]},{"@firstgid":"35","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank4Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"52","@x":"315","@y":"70"},{"@gid":"45","@x":"245","@y":"268",properties:{property:{"@name":"text","@value":"level_text_6"}}},{"@gid":"68","@x":"581","@y":"350"},{"@gid":"67","@x":"59","@y":"108"},{"@gid":"66","@x":"411","@y":"449"},{"@gid":"69","@x":"280","@y":"315"},{"@gid":"51","@x":"386","@y":"140"}]},{"@name":"tiles",object:[{"@gid":"4","@x":"525","@y":"175"},{"@gid":"3","@x":"245","@y":"175"},{"@gid":"3","@x":"245","@y":"385"},{"@gid":"3","@x":"350","@y":"175"},{"@gid":"9","@x":"0","@y":"525"},{"@gid":"3","@x":"70","@y":"280"},{"@gid":"9","@x":"595","@y":"525"},{"@gid":"6","@x":"525","@y":"350"},{"@gid":"12","@x":"350","@y":"525"},{"@gid":"11","@x":"665","@y":"385"},{"@gid":"3","@x":"455","@y":"175"},{"@gid":"5","@x":"350","@y":"490"},{"@gid":"3","@x":"70","@y":"140"},{"@gid":"11","@x":"665","@y":"455"},{"@gid":"9","@x":"385","@y":"525"},{"@gid":"12","@x":"0","@y":"140"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"9","@x":"35","@y":"525"},{"@gid":"16","@x":"525","@y":"385"},{"@gid":"3","@x":"105","@y":"280"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"13","@x":"0","@y":"35"},{"@gid":"13","@x":"0","@y":"70"},{"@gid":"3","@x":"140","@y":"140"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"5","@x":"525","@y":"455"},{"@gid":"9","@x":"280","@y":"525"},{"@gid":"3","@x":"35","@y":"140"},{"@gid":"3","@x":"140","@y":"280"},{"@gid":"8","@x":"105","@y":"490"},{"@gid":"10","@x":"175","@y":"280"},{"@gid":"3","@x":"490","@y":"385"},{"@gid":"10","@x":"175","@y":"490"},{"@gid":"13","@x":"0","@y":"105"},{"@gid":"3","@x":"210","@y":"385"},{"@gid":"11","@x":"665","@y":"315"},{"@gid":"9","@x":"315","@y":"525"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"6","@x":"175","@y":"350"},{"@gid":"3","@x":"105","@y":"140"},{"@gid":"9","@x":"210","@y":"525"},{"@gid":"9","@x":"455","@y":"525"},{"@gid":"3","@x":"490","@y":"175"},{"@gid":"5","@x":"175","@y":"105"},{"@gid":"3","@x":"455","@y":"385"},{"@gid":"4","@x":"35","@y":"385"},{"@gid":"13","@x":"525","@y":"490"},{"@gid":"9","@x":"420","@y":"525"},{"@gid":"13","@x":"0","@y":"210"},{"@gid":"6","@x":"175","@y":"315"},{"@gid":"3","@x":"210","@y":"175"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"11","@x":"665","@y":"420"},{"@gid":"14","@x":"175","@y":"385"},{"@gid":"9","@x":"560","@y":"525"},{"@gid":"3","@x":"420","@y":"385"},{"@gid":"3","@x":"385","@y":"385"},{"@gid":"11","@x":"665","@y":"350"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"13","@x":"175","@y":"140"},{"@gid":"5","@x":"525","@y":"315"},{"@gid":"3","@x":"420","@y":"175"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"3","@x":"350","@y":"385"},{"@gid":"11","@x":"665","@y":"245"},{"@gid":"3","@x":"280","@y":"175"},{"@gid":"15","@x":"0","@y":"280"},{"@gid":"14","@x":"175","@y":"175"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"11","@x":"665","@y":"490"},{"@gid":"3","@x":"385","@y":"175"},{"@gid":"11","@x":"665","@y":"280"},{"@gid":"8","@x":"490","@y":"490"},{"@gid":"3","@x":"0","@y":"385"},{"@gid":"11","@x":"665","@y":"210"},{"@gid":"9","@x":"630","@y":"525"},{"@gid":"3","@x":"315","@y":"175"},{"@gid":"3","@x":"35","@y":"280"},{"@gid":"3","@x":"315","@y":"385"},{"@gid":"3","@x":"280","@y":"385"},{"@gid":"9","@x":"70","@y":"525"},{"@gid":"12","@x":"525","@y":"525"}]},{"@name":"active",object:[{"@gid":"2147483682","@x":"10","@y":"350"},{"@gid":"36","@x":"140","@y":"245"},{"@gid":"23","@x":"298","@y":"140"},{"@gid":"33","@x":"113","@y":"341"},{"@type":"3","@gid":"22","@x":"560","@y":"478",properties:{property:[{"@name":"distanceX","@value":"0"},{"@name":"distanceY","@value":"320"},{"@name":"speedX","@value":"0"},{"@name":"speedY","@value":"-35"}]}},{"@type":"3","@gid":"17","@x":"499","@y":"351"},{"@gid":"17","@x":"228","@y":"490"},{"@gid":"33","@x":"134","@y":"94"},{"@gid":"33","@x":"353","@y":"273"},{"@gid":"19","@x":"208","@y":"175","@rotation":"180"},{"@gid":"32","@x":"385","@y":"327"},{"@gid":"11","@x":"665","@y":"175"},{"@gid":"11","@x":"665","@y":"140"},{"@gid":"11","@x":"665","@y":"35"},{"@gid":"11","@x":"665","@y":"105"},{"@gid":"11","@x":"665","@y":"70"}]},{"@name":"characters",object:[{"@gid":"24","@x":"70","@y":"245"},{"@gid":"25","@x":"35","@y":"490"},{"@gid":"29","@x":"328","@y":"350"}]},{"@name":"physics",object:[{"@x":"0","@y":"490","@width":"700","@height":"35"},{"@x":"105","@y":"455","@width":"105","@height":"35"},{"@x":"350","@y":"455","@width":"35","@height":"35"},{"@x":"490","@y":"455","@width":"35","@height":"35"},{"@x":"525","@y":"420","@width":"35","@height":"70"},{"@x":"665","@y":"0","@width":"35","@height":"490"},{"@x":"175","@y":"350","@width":"350","@height":"35"},{"@x":"525","@y":"280","@width":"35","@height":"105"},{"@x":"175","@y":"280","@width":"35","@height":"70"},{"@x":"0","@y":"245","@width":"210","@height":"35"},{"@x":"0","@y":"350","@width":"70","@height":"35"},{"@x":"0","@y":"0","@width":"35","@height":"245"},{"@x":"35","@y":"105","@width":"140","@height":"35"},{"@x":"175","@y":"70","@width":"35","@height":"70"},{"@x":"175","@y":"140","@width":"385","@height":"35"}]}]},{"@level":"7","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"162",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"17","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"11","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank5Graphics.png"}},{"@id":"10",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"29","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"72","@height":"87","@source":"Tip5Graphics.png"}},{"@id":"29",image:{"@width":"72","@height":"87","@source":"Tip11Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"52","@x":"86","@y":"348","@width":"38","@height":"19"},{"@id":"2","@gid":"45","@x":"257","@y":"158","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_7"}}},{"@id":"3","@gid":"48","@x":"210","@y":"210","@width":"33","@height":"27"},{"@id":"4","@gid":"70","@x":"35","@y":"245","@width":"104","@height":"50"},{"@id":"5","@gid":"69","@x":"62","@y":"175","@width":"48","@height":"45"},{"@id":"6","@gid":"73","@x":"350","@y":"420","@width":"72","@height":"87"},{"@id":"7","@gid":"74","@x":"134","@y":"172","@width":"72","@height":"87"}]},{"@name":"tiles",object:[{"@id":"8","@gid":"12","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"9","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"10","@gid":"12","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"11","@gid":"12","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"12","@gid":"12","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"13","@gid":"12","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"14","@gid":"12","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"15","@gid":"12","@x":"525","@y":"175","@width":"35","@height":"35"},{"@id":"16","@gid":"12","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"17","@gid":"12","@x":"0","@y":"455","@width":"35","@height":"35"},{"@id":"18","@gid":"12","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"19","@gid":"12","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"20","@gid":"12","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"21","@gid":"12","@x":"595","@y":"490","@width":"35","@height":"35"},{"@id":"22","@gid":"12","@x":"560","@y":"490","@width":"35","@height":"35"},{"@id":"23","@gid":"12","@x":"665","@y":"350","@width":"35","@height":"35"},{"@id":"24","@gid":"10","@x":"245","@y":"490","@width":"35","@height":"35"},{"@id":"25","@gid":"9","@x":"175","@y":"490","@width":"35","@height":"35"},{"@id":"26","@gid":"9","@x":"105","@y":"455","@width":"35","@height":"35"},{"@id":"27","@gid":"9","@x":"70","@y":"455","@width":"35","@height":"35"},{"@id":"28","@gid":"9","@x":"35","@y":"455","@width":"35","@height":"35"},{"@id":"29","@gid":"13","@x":"0","@y":"420","@width":"35","@height":"35"},{"@id":"30","@gid":"13","@x":"0","@y":"385","@width":"35","@height":"35"},{"@id":"31","@gid":"13","@x":"0","@y":"350","@width":"35","@height":"35"},{"@id":"32","@gid":"13","@x":"0","@y":"315","@width":"35","@height":"35"},{"@id":"33","@gid":"9","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"34","@gid":"9","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"35","@gid":"9","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"36","@gid":"9","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"37","@gid":"9","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"38","@gid":"9","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"39","@gid":"9","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"40","@gid":"8","@x":"525","@y":"455","@width":"35","@height":"35"},{"@id":"41","@gid":"11","@x":"525","@y":"490","@width":"35","@height":"35"},{"@id":"42","@gid":"9","@x":"560","@y":"455","@width":"35","@height":"35"},{"@id":"43","@gid":"9","@x":"595","@y":"455","@width":"35","@height":"35"},{"@id":"44","@gid":"3","@x":"630","@y":"350","@width":"35","@height":"35"},{"@id":"45","@gid":"3","@x":"595","@y":"350","@width":"35","@height":"35"},{"@id":"46","@gid":"3","@x":"560","@y":"350","@width":"35","@height":"35"},{"@id":"47","@gid":"3","@x":"525","@y":"350","@width":"35","@height":"35"},{"@id":"48","@gid":"3","@x":"490","@y":"350","@width":"35","@height":"35"},{"@id":"49","@gid":"3","@x":"455","@y":"350","@width":"35","@height":"35"},{"@id":"50","@gid":"3","@x":"385","@y":"350","@width":"35","@height":"35"},{"@id":"51","@gid":"3","@x":"350","@y":"350","@width":"35","@height":"35"},{"@id":"52","@gid":"3","@x":"420","@y":"350","@width":"35","@height":"35"},{"@id":"53","@gid":"3","@x":"315","@y":"350","@width":"35","@height":"35"},{"@id":"54","@gid":"3","@x":"280","@y":"350","@width":"35","@height":"35"},{"@id":"55","@gid":"8","@x":"245","@y":"350","@width":"35","@height":"35"},{"@id":"56","@gid":"7","@x":"245","@y":"385","@width":"35","@height":"35"},{"@id":"57","@gid":"3","@x":"35","@y":"280","@width":"35","@height":"35"},{"@id":"58","@gid":"3","@x":"70","@y":"280","@width":"35","@height":"35"},{"@id":"59","@gid":"3","@x":"105","@y":"280","@width":"35","@height":"35"},{"@id":"60","@gid":"3","@x":"140","@y":"280","@width":"35","@height":"35"},{"@id":"61","@gid":"3","@x":"175","@y":"280","@width":"35","@height":"35"},{"@id":"62","@gid":"3","@x":"210","@y":"280","@width":"35","@height":"35"},{"@id":"63","@gid":"3","@x":"245","@y":"280","@width":"35","@height":"35"},{"@id":"64","@gid":"3","@x":"280","@y":"280","@width":"35","@height":"35"},{"@id":"65","@gid":"3","@x":"315","@y":"280","@width":"35","@height":"35"},{"@id":"66","@gid":"3","@x":"350","@y":"280","@width":"35","@height":"35"},{"@id":"67","@gid":"4","@x":"385","@y":"280","@width":"35","@height":"35"},{"@id":"68","@gid":"11","@x":"665","@y":"315","@width":"35","@height":"35"},{"@id":"69","@gid":"11","@x":"665","@y":"280","@width":"35","@height":"35"},{"@id":"70","@gid":"11","@x":"665","@y":"245","@width":"35","@height":"35"},{"@id":"71","@gid":"11","@x":"665","@y":"210","@width":"35","@height":"35"},{"@id":"72","@gid":"3","@x":"280","@y":"175","@width":"35","@height":"35"},{"@id":"73","@gid":"3","@x":"315","@y":"175","@width":"35","@height":"35"},{"@id":"74","@gid":"3","@x":"350","@y":"175","@width":"35","@height":"35"},{"@id":"75","@gid":"3","@x":"385","@y":"175","@width":"35","@height":"35"},{"@id":"76","@gid":"3","@x":"420","@y":"175","@width":"35","@height":"35"},{"@id":"77","@gid":"14","@x":"245","@y":"175","@width":"35","@height":"35"},{"@id":"78","@gid":"6","@x":"245","@y":"140","@width":"35","@height":"35"},{"@id":"79","@gid":"10","@x":"245","@y":"105","@width":"35","@height":"35"},{"@id":"80","@gid":"3","@x":"175","@y":"105","@width":"35","@height":"35"},{"@id":"81","@gid":"3","@x":"210","@y":"105","@width":"35","@height":"35"},{"@id":"82","@gid":"3","@x":"140","@y":"105","@width":"35","@height":"35"},{"@id":"83","@gid":"3","@x":"105","@y":"105","@width":"35","@height":"35"},{"@id":"84","@gid":"3","@x":"35","@y":"105","@width":"35","@height":"35"},{"@id":"85","@gid":"3","@x":"70","@y":"105","@width":"35","@height":"35"},{"@id":"86","@gid":"9","@x":"0","@y":"105","@width":"35","@height":"35"},{"@id":"87","@gid":"13","@x":"0","@y":"140","@width":"35","@height":"35"},{"@id":"88","@gid":"13","@x":"0","@y":"175","@width":"35","@height":"35"},{"@id":"89","@gid":"13","@x":"0","@y":"210","@width":"35","@height":"35"},{"@id":"90","@gid":"13","@x":"0","@y":"245","@width":"35","@height":"35"},{"@id":"91","@gid":"12","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"92","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"93","@gid":"12","@x":"630","@y":"490","@width":"35","@height":"35"},{"@id":"94","@gid":"9","@x":"630","@y":"455","@width":"35","@height":"35"},{"@id":"95","@gid":"12","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"96","@gid":"11","@x":"665","@y":"385","@width":"35","@height":"35"},{"@id":"97","@gid":"11","@x":"665","@y":"420","@width":"35","@height":"35"},{"@id":"98","@gid":"12","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"99","@gid":"12","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"100","@gid":"9","@x":"210","@y":"490","@width":"35","@height":"35"},{"@id":"101","@gid":"16","@x":"525","@y":"280","@width":"35","@height":"35"},{"@id":"102","@gid":"6","@x":"525","@y":"245","@width":"35","@height":"35"},{"@id":"103","@gid":"6","@x":"525","@y":"210","@width":"35","@height":"35"},{"@id":"104","@gid":"15","@x":"490","@y":"175","@width":"35","@height":"35"},{"@id":"105","@gid":"15","@x":"455","@y":"175","@width":"35","@height":"35"},{"@id":"106","@gid":"3","@x":"490","@y":"280","@width":"35","@height":"35"},{"@id":"107","@gid":"2","@x":"455","@y":"280","@width":"35","@height":"35"},{"@id":"108","@gid":"15","@x":"560","@y":"175","@width":"35","@height":"35"},{"@id":"109","@gid":"15","@x":"595","@y":"175","@width":"35","@height":"35"},{"@id":"110","@gid":"15","@x":"630","@y":"175","@width":"35","@height":"35"},{"@id":"111","@gid":"12","@x":"665","@y":"175","@width":"35","@height":"35"},{"@id":"112","@gid":"12","@x":"665","@y":"140","@width":"35","@height":"35"},{"@id":"113","@gid":"12","@x":"630","@y":"140","@width":"35","@height":"35"},{"@id":"114","@gid":"12","@x":"595","@y":"140","@width":"35","@height":"35"},{"@id":"115","@gid":"12","@x":"560","@y":"140","@width":"35","@height":"35"},{"@id":"116","@gid":"8","@x":"455","@y":"105","@width":"35","@height":"35"},{"@id":"117","@gid":"9","@x":"560","@y":"105","@width":"35","@height":"35"},{"@id":"118","@gid":"9","@x":"595","@y":"105","@width":"35","@height":"35"},{"@id":"119","@gid":"9","@x":"630","@y":"105","@width":"35","@height":"35"},{"@id":"120","@gid":"9","@x":"665","@y":"105","@width":"35","@height":"35"},{"@id":"121","@gid":"12","@x":"525","@y":"140","@width":"35","@height":"35"},{"@id":"122","@gid":"12","@x":"140","@y":"490","@width":"35","@height":"35"},{"@id":"123","@gid":"12","@x":"70","@y":"490","@width":"35","@height":"35"},{"@id":"124","@gid":"10","@x":"140","@y":"455","@width":"35","@height":"35"},{"@id":"125","@gid":"12","@x":"105","@y":"490","@width":"35","@height":"35"},{"@id":"126","@gid":"12","@x":"0","@y":"490","@width":"35","@height":"35"},{"@id":"127","@gid":"12","@x":"35","@y":"490","@width":"35","@height":"35"},{"@id":"128","@gid":"11","@x":"455","@y":"140","@width":"35","@height":"35"},{"@id":"129","@gid":"12","@x":"490","@y":"140","@width":"35","@height":"35"},{"@id":"130","@gid":"9","@x":"525","@y":"105","@width":"35","@height":"35"},{"@id":"131","@gid":"9","@x":"490","@y":"105","@width":"35","@height":"35"}]},{"@name":"physics",object:[{"@id":"149","@x":"0","@y":"70","@width":"280","@height":"35"},{"@id":"150","@x":"455","@y":"70","@width":"245","@height":"105"},{"@id":"151","@x":"665","@y":"175","@width":"35","@height":"350"},{"@id":"152","@x":"525","@y":"420","@width":"140","@height":"105"},{"@id":"153","@x":"0","@y":"490","@width":"525","@height":"35"},{"@id":"154","@x":"0","@y":"455","@width":"280","@height":"35"},{"@id":"155","@x":"0","@y":"420","@width":"175","@height":"35"},{"@id":"156","@x":"0","@y":"105","@width":"35","@height":"315"},{"@id":"157","@x":"35","@y":"245","@width":"385","@height":"35"},{"@id":"158","@x":"455","@y":"245","@width":"70","@height":"35"},{"@id":"159","@x":"525","@y":"175","@width":"35","@height":"105"},{"@id":"160","@x":"245","@y":"315","@width":"420","@height":"35"},{"@id":"161","@x":"245","@y":"350","@width":"35","@height":"35"}]},{"@name":"active",object:[{"@id":"132","@gid":"33","@x":"360","@y":"226","@width":"31","@height":"34"},{"@id":"133","@gid":"33","@x":"595","@y":"236","@width":"31","@height":"34"},{"@id":"134","@gid":"33","@x":"299","@y":"454","@width":"31","@height":"34"},{"@id":"135","@gid":"23","@x":"69","@y":"421","@width":"70","@height":"70"},{"@id":"136","@type":"2","@gid":"17","@x":"196","@y":"455","@width":"24","@height":"11"},{"@id":"137","@gid":"18","@x":"544","@y":"421","@width":"25","@height":"19"},{"@id":"138","@gid":"27","@x":"509","@y":"235","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"0"},{"@name":"minAngle","@value":"0"},{"@name":"speedX","@value":"0"}]}},{"@id":"139","@gid":"19","@x":"251","@y":"455","@width":"20","@height":"70"},{"@id":"140","@gid":"19","@x":"250","@y":"245","@width":"20","@height":"70"},{"@id":"141","@type":"2","@gid":"19","@x":"475","@y":"105","@width":"20","@height":"70","@rotation":"180"},{"@id":"142","@type":"2","@gid":"20","@x":"456","@y":"245","@width":"20","@height":"70"},{"@id":"143","@gid":"26","@x":"351","@y":"490","@width":"74","@height":"73"},{"@id":"144","@gid":"26","@x":"133","@y":"245","@width":"74","@height":"73"},{"@id":"145","@gid":"27","@x":"513","@y":"210","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"0"},{"@name":"minAngle","@value":"0"},{"@name":"speedX","@value":"0"}]}}]},{"@name":"characters",object:[{"@id":"146","@gid":"24","@x":"595","@y":"420","@width":"63","@height":"60"},{"@id":"147","@gid":"25","@x":"57","@y":"245","@width":"44","@height":"52"},{"@id":"148","@gid":"29","@x":"467","@y":"488","@width":"60","@height":"54"}]}]},{"@level":"8","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"168",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"17","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"9","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"30","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"92","@height":"110","@source":"Tip3Graphics.png"}},{"@id":"29",image:{"@width":"79","@height":"108","@source":"Tip4Graphics.png"}}]}],imagelayer:{"@name":"background","@x":"1","@y":"1","@offsetx":"1","@offsety":"1",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"50","@x":"192","@y":"35","@width":"38","@height":"19"},{"@id":"2","@gid":"43","@x":"265","@y":"124","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_8"}}},{"@id":"3","@gid":"68","@x":"236","@y":"455","@width":"104","@height":"50"},{"@id":"4","@gid":"69","@x":"551","@y":"202","@width":"104","@height":"46"},{"@id":"5","@gid":"64","@x":"595","@y":"420","@width":"51","@height":"38"},{"@id":"6","@gid":"58","@x":"406","@y":"296","@width":"60","@height":"86"},{"@id":"7","@gid":"54","@x":"70","@y":"280","@width":"19","@height":"66"}]},{"@name":"tiles",object:[{"@id":"8","@gid":"3","@x":"35","@y":"420","@width":"35","@height":"35"},{"@id":"9","@gid":"3","@x":"140","@y":"350","@width":"35","@height":"35"},{"@id":"10","@gid":"3","@x":"105","@y":"350","@width":"35","@height":"35"},{"@id":"11","@gid":"3","@x":"175","@y":"350","@width":"35","@height":"35"},{"@id":"12","@gid":"3","@x":"70","@y":"420","@width":"35","@height":"35"},{"@id":"13","@gid":"3","@x":"595","@y":"105","@width":"35","@height":"35"},{"@id":"14","@gid":"3","@x":"630","@y":"105","@width":"35","@height":"35"},{"@id":"15","@gid":"16","@x":"315","@y":"175","@width":"35","@height":"35"},{"@id":"16","@gid":"10","@x":"315","@y":"140","@width":"35","@height":"35"},{"@id":"17","@gid":"13","@x":"0","@y":"315","@width":"35","@height":"35"},{"@id":"18","@gid":"10","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"19","@gid":"13","@x":"0","@y":"350","@width":"35","@height":"35"},{"@id":"20","@gid":"13","@x":"0","@y":"385","@width":"35","@height":"35"},{"@id":"21","@gid":"13","@x":"0","@y":"455","@width":"35","@height":"35"},{"@id":"22","@gid":"12","@x":"0","@y":"420","@width":"35","@height":"35"},{"@id":"23","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"24","@gid":"12","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"25","@gid":"9","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"26","@gid":"9","@x":"105","@y":"490","@width":"35","@height":"35"},{"@id":"27","@gid":"9","@x":"140","@y":"490","@width":"35","@height":"35"},{"@id":"28","@gid":"9","@x":"175","@y":"490","@width":"35","@height":"35"},{"@id":"29","@gid":"9","@x":"210","@y":"490","@width":"35","@height":"35"},{"@id":"30","@gid":"9","@x":"245","@y":"490","@width":"35","@height":"35"},{"@id":"31","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"32","@gid":"11","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"33","@gid":"11","@x":"665","@y":"420","@width":"35","@height":"35"},{"@id":"34","@gid":"12","@x":"665","@y":"350","@width":"35","@height":"35"},{"@id":"35","@gid":"12","@x":"665","@y":"315","@width":"35","@height":"35"},{"@id":"36","@gid":"11","@x":"665","@y":"245","@width":"35","@height":"35"},{"@id":"37","@gid":"11","@x":"665","@y":"210","@width":"35","@height":"35"},{"@id":"38","@gid":"11","@x":"665","@y":"140","@width":"35","@height":"35"},{"@id":"39","@gid":"11","@x":"665","@y":"70","@width":"35","@height":"35"},{"@id":"40","@gid":"11","@x":"665","@y":"35","@width":"35","@height":"35"},{"@id":"41","@gid":"12","@x":"665","@y":"105","@width":"35","@height":"35"},{"@id":"42","@gid":"8","@x":"560","@y":"315","@width":"35","@height":"35"},{"@id":"43","@gid":"9","@x":"595","@y":"315","@width":"35","@height":"35"},{"@id":"44","@gid":"9","@x":"280","@y":"140","@width":"35","@height":"35"},{"@id":"45","@gid":"14","@x":"280","@y":"175","@width":"35","@height":"35"},{"@id":"46","@gid":"3","@x":"245","@y":"140","@width":"35","@height":"35"},{"@id":"47","@gid":"3","@x":"175","@y":"140","@width":"35","@height":"35"},{"@id":"48","@gid":"3","@x":"140","@y":"140","@width":"35","@height":"35"},{"@id":"49","@gid":"8","@x":"70","@y":"490","@width":"35","@height":"35"},{"@id":"50","@gid":"12","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"51","@gid":"12","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"52","@gid":"12","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"53","@gid":"12","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"54","@gid":"12","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"55","@gid":"12","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"56","@gid":"12","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"57","@gid":"9","@x":"420","@y":"490","@width":"35","@height":"35"},{"@id":"58","@gid":"9","@x":"350","@y":"490","@width":"35","@height":"35"},{"@id":"59","@gid":"9","@x":"385","@y":"490","@width":"35","@height":"35"},{"@id":"60","@gid":"9","@x":"315","@y":"490","@width":"35","@height":"35"},{"@id":"61","@gid":"9","@x":"280","@y":"490","@width":"35","@height":"35"},{"@id":"62","@gid":"12","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"63","@gid":"12","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"64","@gid":"12","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"65","@gid":"12","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"66","@gid":"12","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"67","@gid":"12","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"68","@gid":"12","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"69","@gid":"12","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"70","@gid":"12","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"71","@gid":"9","@x":"420","@y":"490","@width":"35","@height":"35"},{"@id":"72","@gid":"9","@x":"490","@y":"490","@width":"35","@height":"35"},{"@id":"73","@gid":"9","@x":"525","@y":"490","@width":"35","@height":"35"},{"@id":"74","@gid":"9","@x":"455","@y":"490","@width":"35","@height":"35"},{"@id":"75","@gid":"12","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"76","@gid":"9","@x":"630","@y":"490","@width":"35","@height":"35"},{"@id":"77","@gid":"9","@x":"595","@y":"490","@width":"35","@height":"35"},{"@id":"78","@gid":"9","@x":"560","@y":"490","@width":"35","@height":"35"},{"@id":"79","@gid":"3","@x":"525","@y":"420","@width":"35","@height":"35"},{"@id":"80","@gid":"3","@x":"455","@y":"420","@width":"35","@height":"35"},{"@id":"81","@gid":"2","@x":"420","@y":"420","@width":"35","@height":"35"},{"@id":"82","@gid":"4","@x":"560","@y":"420","@width":"35","@height":"35"},{"@id":"83","@gid":"3","@x":"490","@y":"420","@width":"35","@height":"35"},{"@id":"84","@gid":"11","@x":"665","@y":"385","@width":"35","@height":"35"},{"@id":"85","@gid":"15","@x":"630","@y":"350","@width":"35","@height":"35"},{"@id":"86","@gid":"15","@x":"595","@y":"350","@width":"35","@height":"35"},{"@id":"87","@gid":"14","@x":"560","@y":"350","@width":"35","@height":"35"},{"@id":"88","@gid":"9","@x":"630","@y":"315","@width":"35","@height":"35"},{"@id":"89","@gid":"11","@x":"665","@y":"280","@width":"35","@height":"35"},{"@id":"90","@gid":"3","@x":"560","@y":"245","@width":"35","@height":"35"},{"@id":"91","@gid":"3","@x":"525","@y":"245","@width":"35","@height":"35"},{"@id":"92","@gid":"4","@x":"595","@y":"245","@width":"35","@height":"35"},{"@id":"93","@gid":"11","@x":"665","@y":"175","@width":"35","@height":"35"},{"@id":"94","@gid":"3","@x":"560","@y":"105","@width":"35","@height":"35"},{"@id":"95","@gid":"3","@x":"525","@y":"105","@width":"35","@height":"35"},{"@id":"96","@gid":"8","@x":"490","@y":"245","@width":"35","@height":"35"},{"@id":"97","@gid":"6","@x":"490","@y":"280","@width":"35","@height":"35"},{"@id":"98","@gid":"6","@x":"490","@y":"315","@width":"35","@height":"35"},{"@id":"99","@gid":"16","@x":"490","@y":"350","@width":"35","@height":"35"},{"@id":"100","@gid":"7","@x":"490","@y":"140","@width":"35","@height":"35"},{"@id":"101","@gid":"11","@x":"490","@y":"105","@width":"35","@height":"35"},{"@id":"102","@gid":"6","@x":"490","@y":"70","@width":"35","@height":"35"},{"@id":"103","@gid":"6","@x":"490","@y":"35","@width":"35","@height":"35"},{"@id":"104","@gid":"4","@x":"175","@y":"420","@width":"35","@height":"35"},{"@id":"105","@gid":"3","@x":"105","@y":"420","@width":"35","@height":"35"},{"@id":"106","@gid":"3","@x":"140","@y":"420","@width":"35","@height":"35"},{"@id":"107","@gid":"2","@x":"70","@y":"350","@width":"35","@height":"35"},{"@id":"108","@gid":"3","@x":"245","@y":"350","@width":"35","@height":"35"},{"@id":"109","@gid":"3","@x":"210","@y":"350","@width":"35","@height":"35"},{"@id":"110","@gid":"3","@x":"455","@y":"350","@width":"35","@height":"35"},{"@id":"111","@gid":"3","@x":"420","@y":"350","@width":"35","@height":"35"},{"@id":"112","@gid":"3","@x":"385","@y":"350","@width":"35","@height":"35"},{"@id":"113","@gid":"3","@x":"350","@y":"350","@width":"35","@height":"35"},{"@id":"114","@gid":"15","@x":"315","@y":"350","@width":"35","@height":"35"},{"@id":"115","@gid":"3","@x":"280","@y":"350","@width":"35","@height":"35"},{"@id":"116","@gid":"6","@x":"315","@y":"315","@width":"35","@height":"35"},{"@id":"117","@gid":"10","@x":"315","@y":"280","@width":"35","@height":"35"},{"@id":"118","@gid":"3","@x":"175","@y":"280","@width":"35","@height":"35"},{"@id":"119","@gid":"3","@x":"280","@y":"280","@width":"35","@height":"35"},{"@id":"120","@gid":"3","@x":"210","@y":"280","@width":"35","@height":"35"},{"@id":"121","@gid":"3","@x":"245","@y":"280","@width":"35","@height":"35"},{"@id":"122","@gid":"3","@x":"140","@y":"280","@width":"35","@height":"35"},{"@id":"123","@gid":"14","@x":"105","@y":"280","@width":"35","@height":"35"},{"@id":"124","@gid":"6","@x":"105","@y":"245","@width":"35","@height":"35"},{"@id":"125","@gid":"13","@x":"105","@y":"210","@width":"35","@height":"35"},{"@id":"126","@gid":"6","@x":"105","@y":"175","@width":"35","@height":"35"},{"@id":"127","@gid":"8","@x":"105","@y":"140","@width":"35","@height":"35"},{"@id":"128","@gid":"2","@x":"70","@y":"210","@width":"35","@height":"35"},{"@id":"129","@gid":"3","@x":"210","@y":"140","@width":"35","@height":"35"},{"@id":"130","@gid":"13","@x":"0","@y":"490","@width":"35","@height":"35"}]},{"@name":"physics",object:[{"@id":"150","@x":"490","@y":"0","@width":"35","@height":"140"},{"@id":"151","@x":"665","@y":"0","@width":"35","@height":"525"},{"@id":"152","@x":"70","@y":"455","@width":"595","@height":"70"},{"@id":"153","@x":"0","@y":"245","@width":"35","@height":"280"},{"@id":"154","@x":"35","@y":"490","@width":"35","@height":"35"},{"@id":"155","@x":"35","@y":"385","@width":"175","@height":"35"},{"@id":"156","@x":"420","@y":"385","@width":"175","@height":"35"},{"@id":"157","@x":"560","@y":"280","@width":"105","@height":"70"},{"@id":"158","@x":"105","@y":"105","@width":"245","@height":"35"},{"@id":"159","@x":"280","@y":"140","@width":"70","@height":"35"},{"@id":"160","@x":"105","@y":"140","@width":"35","@height":"140"},{"@id":"161","@x":"140","@y":"245","@width":"210","@height":"35"},{"@id":"162","@x":"315","@y":"280","@width":"35","@height":"35"},{"@id":"163","@x":"70","@y":"315","@width":"455","@height":"35"},{"@id":"164","@x":"490","@y":"210","@width":"140","@height":"35"},{"@id":"165","@x":"490","@y":"245","@width":"35","@height":"70"},{"@id":"166","@x":"70","@y":"175","@width":"35","@height":"35"},{"@id":"167","@x":"525","@y":"70","@width":"140","@height":"35"}]},{"@name":"active",object:[{"@id":"131","@gid":"23","@x":"175","@y":"105","@width":"70","@height":"70"},{"@id":"132","@gid":"33","@x":"245","@y":"315","@width":"31","@height":"34"},{"@id":"133","@gid":"33","@x":"17","@y":"74","@width":"31","@height":"34"},{"@id":"134","@gid":"33","@x":"315","@y":"210","@width":"31","@height":"34"},{"@id":"135","@gid":"40","@x":"140","@y":"245","@width":"150","@height":"20"},{"@id":"136","@type":"6","@gid":"19","@x":"70","@y":"337","@width":"20","@height":"70","@rotation":"270"},{"@id":"137","@gid":"38","@x":"174","@y":"223","@width":"35","@height":"35"},{"@id":"138","@type":"5","@gid":"19","@x":"666","@y":"248","@width":"20","@height":"70","@rotation":"90"},{"@id":"139","@type":"5","@gid":"17","@x":"636","@y":"280","@width":"24","@height":"11"},{"@id":"140","@type":"4","@gid":"19","@x":"666","@y":"422","@width":"20","@height":"70","@rotation":"90"},{"@id":"141","@type":"4","@gid":"17","@x":"636","@y":"455","@width":"24","@height":"11"},{"@id":"142","@type":"3","@gid":"17","@x":"76","@y":"175","@width":"24","@height":"11"}]},{"@name":"characters",object:[{"@id":"143","@gid":"24","@x":"560","@y":"210","@width":"63","@height":"60"},{"@id":"144","@gid":"25","@x":"350","@y":"455","@width":"44","@height":"52"},{"@id":"145","@gid":"18","@x":"455","@y":"385","@width":"25","@height":"19"},{"@id":"146","@gid":"19","@x":"490","@y":"210","@width":"20","@height":"70"},{"@id":"147","@gid":"19","@x":"140","@y":"350","@width":"20","@height":"70"},{"@id":"148","@type":"3","@gid":"21","@x":"350","@y":"126","@width":"70","@height":"19",properties:{property:[{"@name":"distanceY","@value":"175"},{"@name":"speedY","@value":"45"}]}},{"@id":"149","@type":"6","@gid":"17","@x":"41","@y":"490","@width":"24","@height":"11"}]}]},{"@level":"9","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"122","@height":"87","@source":"Tip6Graphics.png"}},{"@id":"29",image:{"@width":"122","@height":"87","@source":"Tip7Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"50","@x":"402","@y":"70"},{"@gid":"43","@x":"407","@y":"437",properties:{property:{"@name":"text","@value":"level_text_9"}}},{"@gid":"45","@x":"315","@y":"195"},{"@gid":"59","@x":"35","@y":"274"},{"@gid":"67","@x":"105","@y":"105"},{"@gid":"64","@x":"624","@y":"315"},{"@gid":"53","@x":"35","@y":"350"},{"@gid":"51","@x":"289","@y":"413"},{"@gid":"49","@x":"494","@y":"110"}]},{"@name":"tiles",object:[{"@gid":"3","@x":"245","@y":"280"},{"@gid":"3","@x":"140","@y":"280"},{"@gid":"3","@x":"280","@y":"280"},{"@gid":"3","@x":"315","@y":"280"},{"@gid":"3","@x":"35","@y":"175"},{"@gid":"3","@x":"70","@y":"175"},{"@gid":"3","@x":"0","@y":"175"},{"@gid":"9","@x":"0","@y":"455"},{"@gid":"9","@x":"490","@y":"455"},{"@gid":"9","@x":"525","@y":"455"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"12","@x":"70","@y":"525"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"245","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"280","@y":"525"},{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"385","@y":"525"},{"@gid":"12","@x":"350","@y":"525"},{"@gid":"12","@x":"420","@y":"525"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"12","@x":"455","@y":"525"},{"@gid":"12","@x":"455","@y":"490"},{"@gid":"12","@x":"490","@y":"490"},{"@gid":"12","@x":"525","@y":"490"},{"@gid":"12","@x":"560","@y":"490"},{"@gid":"9","@x":"315","@y":"490"},{"@gid":"9","@x":"420","@y":"490"},{"@gid":"9","@x":"385","@y":"490"},{"@gid":"9","@x":"350","@y":"490"},{"@gid":"9","@x":"175","@y":"490"},{"@gid":"9","@x":"280","@y":"490"},{"@gid":"9","@x":"245","@y":"490"},{"@gid":"9","@x":"210","@y":"490"},{"@gid":"9","@x":"105","@y":"490"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"12","@x":"0","@y":"490"},{"@gid":"12","@x":"35","@y":"490"},{"@gid":"2","@x":"490","@y":"350"},{"@gid":"15","@x":"525","@y":"350"},{"@gid":"16","@x":"560","@y":"350"},{"@gid":"11","@x":"525","@y":"315"},{"@gid":"8","@x":"525","@y":"280"},{"@gid":"10","@x":"560","@y":"280"},{"@gid":"13","@x":"560","@y":"315"},{"@gid":"7","@x":"455","@y":"280"},{"@gid":"6","@x":"455","@y":"245"},{"@gid":"11","@x":"455","@y":"210"},{"@gid":"15","@x":"490","@y":"210"},{"@gid":"15","@x":"525","@y":"210"},{"@gid":"16","@x":"560","@y":"210"},{"@gid":"10","@x":"560","@y":"175"},{"@gid":"9","@x":"525","@y":"175"},{"@gid":"9","@x":"490","@y":"175"},{"@gid":"9","@x":"455","@y":"175"},{"@gid":"3","@x":"420","@y":"175"},{"@gid":"3","@x":"385","@y":"175"},{"@gid":"3","@x":"350","@y":"175"},{"@gid":"3","@x":"315","@y":"175"},{"@gid":"3","@x":"280","@y":"175"},{"@gid":"3","@x":"245","@y":"175"},{"@gid":"14","@x":"210","@y":"175"},{"@gid":"6","@x":"210","@y":"140"},{"@gid":"6","@x":"210","@y":"105"},{"@gid":"6","@x":"210","@y":"70"},{"@gid":"6","@x":"210","@y":"35"},{"@gid":"3","@x":"210","@y":"280"},{"@gid":"4","@x":"350","@y":"280"},{"@gid":"3","@x":"175","@y":"280"},{"@gid":"14","@x":"105","@y":"280"},{"@gid":"6","@x":"105","@y":"245"},{"@gid":"10","@x":"105","@y":"175"},{"@gid":"10","@x":"35","@y":"455"},{"@gid":"10","@x":"560","@y":"455"},{"@gid":"8","@x":"455","@y":"455"},{"@gid":"4","@x":"350","@y":"385"},{"@gid":"10","@x":"315","@y":"350"},{"@gid":"8","@x":"175","@y":"350"},{"@gid":"9","@x":"245","@y":"350"},{"@gid":"9","@x":"280","@y":"350"},{"@gid":"2","@x":"140","@y":"385"},{"@gid":"15","@x":"315","@y":"385"},{"@gid":"15","@x":"245","@y":"385"},{"@gid":"15","@x":"280","@y":"385"},{"@gid":"15","@x":"210","@y":"385"},{"@gid":"9","@x":"70","@y":"490"},{"@gid":"15","@x":"175","@y":"385"},{"@gid":"9","@x":"210","@y":"350"},{"@gid":"6","@x":"105","@y":"210"},{"@gid":"9","@x":"630","@y":"490"},{"@gid":"9","@x":"665","@y":"490"},{"@gid":"9","@x":"595","@y":"490"}]},{"@name":"active",object:[{"@type":"2","@gid":"17","@x":"23.3333","@y":"421.667"},{"@gid":"19","@x":"178","@y":"455"},{"@type":"2","@gid":"19","@x":"454.667","@y":"266.3","@rotation":"270"},{"@gid":"33","@x":"163","@y":"88"},{"@gid":"19","@x":"324","@y":"455"},{"@gid":"28","@x":"385","@y":"455"},{"@gid":"17","@x":"233","@y":"247.333"},{"@gid":"33","@x":"267.667","@y":"87"},{"@gid":"33","@x":"241.667","@y":"438.333"},{"@gid":"23","@x":"385","@y":"140"},{"@gid":"24","@x":"35","@y":"140"},{"@gid":"25","@x":"105","@y":"455"},{"@type":"3","@gid":"22","@x":"595","@y":"160",properties:{property:[{"@name":"distanceX","@value":"0"},{"@name":"distanceY","@value":"280"},{"@name":"speedX","@value":"0"},{"@name":"speedY","@value":"45"}]}},{"@type":"3","@gid":"17","@x":"546","@y":"245"}]},{"@name":"characters"},{"@name":"physics",object:[{"@x":"0","@y":"455","@width":"700","@height":"70"},{"@x":"455","@y":"420","@width":"140","@height":"35"},{"@x":"0","@y":"420","@width":"70","@height":"35"},{"@x":"140","@y":"350","@width":"245","@height":"35"},{"@x":"175","@y":"315","@width":"175","@height":"35"},{"@x":"490","@y":"315","@width":"35","@height":"35"},{"@x":"525","@y":"245","@width":"70","@height":"105"},{"@x":"0","@y":"140","@width":"140","@height":"35"},{"@x":"105","@y":"175","@width":"35","@height":"105"},{"@x":"140","@y":"245","@width":"245","@height":"35"},{"@x":"455","@y":"175","@width":"35","@height":"105"},{"@x":"490","@y":"175","@width":"105","@height":"35"},{"@x":"210","@y":"140","@width":"385","@height":"35"},{"@x":"210","@y":"0","@width":"35","@height":"140"}]}]},{"@level":"10","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}},{"@id":"17",image:{"@width":"50","@height":"29","@source":"TurrelGraphics.png"}}]},{"@firstgid":"35","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank4Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"52","@x":"202","@y":"70"},{"@gid":"45","@x":"322","@y":"175",properties:{property:{"@name":"text","@value":"level_text_10"}}},{"@gid":"53","@x":"96","@y":"210"},{"@gid":"46","@x":"220","@y":"193"},{"@gid":"56","@x":"495","@y":"389"},{"@gid":"59","@x":"50","@y":"498"},{"@gid":"67","@x":"102","@y":"129"}]},{"@name":"tiles",object:[{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"12","@x":"350","@y":"525"},{"@gid":"12","@x":"280","@y":"525"},{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"12","@x":"665","@y":"385"},{"@gid":"12","@x":"665","@y":"490"},{"@gid":"12","@x":"630","@y":"245"},{"@gid":"12","@x":"595","@y":"245"},{"@gid":"12","@x":"315","@y":"210"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"12","@x":"315","@y":"245"},{"@gid":"12","@x":"665","@y":"210"},{"@gid":"12","@x":"665","@y":"245"},{"@gid":"12","@x":"665","@y":"280"},{"@gid":"12","@x":"0","@y":"175"},{"@gid":"12","@x":"315","@y":"490"},{"@gid":"13","@x":"0","@y":"140"},{"@gid":"13","@x":"0","@y":"105"},{"@gid":"13","@x":"0","@y":"70"},{"@gid":"13","@x":"0","@y":"35"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"13","@x":"0","@y":"455"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"13","@x":"0","@y":"490"},{"@gid":"13","@x":"0","@y":"280"},{"@gid":"13","@x":"0","@y":"315"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"13","@x":"0","@y":"350"},{"@gid":"13","@x":"0","@y":"210"},{"@gid":"3","@x":"70","@y":"175"},{"@gid":"3","@x":"35","@y":"175"},{"@gid":"3","@x":"105","@y":"175"},{"@gid":"3","@x":"140","@y":"175"},{"@gid":"3","@x":"175","@y":"175"},{"@gid":"3","@x":"210","@y":"175"},{"@gid":"3","@x":"245","@y":"175"},{"@gid":"9","@x":"280","@y":"175"},{"@gid":"10","@x":"315","@y":"175"},{"@gid":"11","@x":"280","@y":"210"},{"@gid":"11","@x":"280","@y":"245"},{"@gid":"14","@x":"280","@y":"280"},{"@gid":"15","@x":"315","@y":"280"},{"@gid":"16","@x":"350","@y":"280"},{"@gid":"10","@x":"350","@y":"210"},{"@gid":"13","@x":"350","@y":"245"},{"@gid":"8","@x":"70","@y":"280"},{"@gid":"10","@x":"105","@y":"280"},{"@gid":"11","@x":"70","@y":"315"},{"@gid":"11","@x":"70","@y":"350"},{"@gid":"14","@x":"70","@y":"385"},{"@gid":"13","@x":"105","@y":"315"},{"@gid":"13","@x":"105","@y":"350"},{"@gid":"15","@x":"105","@y":"385"},{"@gid":"3","@x":"140","@y":"385"},{"@gid":"3","@x":"175","@y":"385"},{"@gid":"3","@x":"210","@y":"385"},{"@gid":"3","@x":"245","@y":"385"},{"@gid":"3","@x":"280","@y":"385"},{"@gid":"3","@x":"315","@y":"385"},{"@gid":"4","@x":"350","@y":"385"},{"@gid":"11","@x":"280","@y":"490"},{"@gid":"8","@x":"280","@y":"455"},{"@gid":"9","@x":"315","@y":"455"},{"@gid":"10","@x":"350","@y":"455"},{"@gid":"13","@x":"350","@y":"490"},{"@gid":"9","@x":"35","@y":"525"},{"@gid":"9","@x":"70","@y":"525"},{"@gid":"9","@x":"210","@y":"525"},{"@gid":"9","@x":"175","@y":"525"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"9","@x":"455","@y":"525"},{"@gid":"9","@x":"420","@y":"525"},{"@gid":"9","@x":"630","@y":"490"},{"@gid":"9","@x":"595","@y":"490"},{"@gid":"5","@x":"490","@y":"490"},{"@gid":"8","@x":"560","@y":"490"},{"@gid":"11","@x":"665","@y":"455"},{"@gid":"11","@x":"665","@y":"420"},{"@gid":"3","@x":"630","@y":"385"},{"@gid":"3","@x":"595","@y":"385"},{"@gid":"2","@x":"560","@y":"385"},{"@gid":"7","@x":"490","@y":"315"},{"@gid":"7","@x":"560","@y":"315"},{"@gid":"6","@x":"490","@y":"280"},{"@gid":"6","@x":"490","@y":"245"},{"@gid":"5","@x":"490","@y":"210"},{"@gid":"11","@x":"560","@y":"280"},{"@gid":"11","@x":"560","@y":"245"},{"@gid":"8","@x":"560","@y":"210"},{"@gid":"15","@x":"595","@y":"280"},{"@gid":"15","@x":"630","@y":"280"},{"@gid":"11","@x":"665","@y":"350"},{"@gid":"11","@x":"665","@y":"315"},{"@gid":"9","@x":"595","@y":"210"},{"@gid":"9","@x":"630","@y":"210"},{"@gid":"11","@x":"665","@y":"175"},{"@gid":"11","@x":"665","@y":"140"},{"@gid":"11","@x":"665","@y":"105"},{"@gid":"9","@x":"665","@y":"70"},{"@gid":"3","@x":"630","@y":"70"},{"@gid":"3","@x":"595","@y":"70"},{"@gid":"14","@x":"560","@y":"70"},{"@gid":"6","@x":"560","@y":"35"},{"@gid":"6","@x":"490","@y":"35"},{"@gid":"7","@x":"490","@y":"70"},{"@gid":"9","@x":"385","@y":"525"},{"@gid":"11","@x":"105","@y":"490"},{"@gid":"8","@x":"105","@y":"455"},{"@gid":"10","@x":"140","@y":"455"},{"@gid":"13","@x":"140","@y":"490"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"105","@y":"525"}]},{"@name":"active",object:[{"@gid":"23","@x":"187","@y":"140"},{"@gid":"33","@x":"595","@y":"146"},{"@gid":"33","@x":"219","@y":"429"},{"@type":"4","@gid":"17","@x":"529","@y":"491"},{"@gid":"34","@x":"596","@y":"350"},{"@gid":"43","@x":"525","@y":"13","@rotation":"90"},{"@gid":"33","@x":"610","@y":"433"},{"@type":"1","@gid":"19","@x":"577","@y":"244","@rotation":"270"},{"@type":"1","@gid":"18","@x":"180","@y":"490"},{"@type":"3","@gid":"17","@x":"313","@y":"350"},{"@type":"4","@gid":"19","@x":"578","@y":"176","@rotation":"90"},{"@type":"1","@gid":"19","@x":"578","@y":"475","@rotation":"270"},{"@type":"4","@gid":"20","@x":"284","@y":"350"},{"@type":"3","@gid":"22","@x":"385","@y":"196",properties:{property:[{"@name":"distanceY","@value":"280"},{"@name":"speedY","@value":"45"}]}}]},{"@name":"characters",object:[{"@gid":"24","@x":"210","@y":"350"},{"@gid":"25","@x":"148","@y":"349"}]},{"@name":"physics",object:[{"@x":"0","@y":"0","@width":"35","@height":"525"},{"@x":"35","@y":"490","@width":"665","@height":"35"},{"@x":"490","@y":"455","@width":"35","@height":"35"},{"@x":"560","@y":"455","@width":"105","@height":"35"},{"@x":"665","@y":"70","@width":"35","@height":"420"},{"@x":"560","@y":"35","@width":"140","@height":"35"},{"@x":"560","@y":"0","@width":"35","@height":"35"},{"@x":"490","@y":"0","@width":"35","@height":"70"},{"@x":"560","@y":"175","@width":"105","@height":"105"},{"@x":"560","@y":"280","@width":"35","@height":"35"},{"@x":"490","@y":"175","@width":"35","@height":"140"},{"@x":"35","@y":"140","@width":"315","@height":"35"},{"@x":"280","@y":"175","@width":"105","@height":"105"},{"@x":"70","@y":"245","@width":"70","@height":"105"},{"@x":"70","@y":"350","@width":"315","@height":"35"},{"@x":"280","@y":"420","@width":"105","@height":"70"},{"@x":"105","@y":"420","@width":"70","@height":"70"},{"@x":"560","@y":"350","@width":"105","@height":"35"}]}]},{"@level":"11","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"72","@height":"87","@source":"Tip5Graphics.png"}},{"@id":"29",image:{"@width":"81","@height":"87","@source":"Tip8Graphics.png"}},{"@id":"30",image:{"@width":"71","@height":"97","@source":"Tip9Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"50","@x":"122.5","@y":"385"},{"@gid":"43","@x":"175","@y":"169",properties:{property:{"@name":"text","@value":"level_text_11"}}},{"@gid":"62","@x":"582","@y":"71"},{"@gid":"66","@x":"350","@y":"175"},{"@gid":"65","@x":"119","@y":"175"},{"@gid":"63","@x":"627","@y":"408"},{"@gid":"58","@x":"260","@y":"490"},{"@gid":"55","@x":"54","@y":"432"}]},{"@name":"tiles",object:[{"@gid":"11","@x":"630","@y":"140"},{"@gid":"11","@x":"630","@y":"105"},{"@gid":"8","@x":"-85","@y":"-199"},{"@gid":"9","@x":"525","@y":"350"},{"@gid":"9","@x":"420","@y":"350"},{"@gid":"9","@x":"560","@y":"350"},{"@gid":"9","@x":"455","@y":"350"},{"@gid":"9","@x":"490","@y":"350"},{"@gid":"9","@x":"630","@y":"490"},{"@gid":"11","@x":"665","@y":"455"},{"@gid":"11","@x":"665","@y":"420"},{"@gid":"12","@x":"665","@y":"175"},{"@gid":"12","@x":"630","@y":"175"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"455","@y":"525"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"385","@y":"525"},{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"350","@y":"525"},{"@gid":"12","@x":"420","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"70","@y":"525"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"595","@y":"490"},{"@gid":"12","@x":"560","@y":"490"},{"@gid":"12","@x":"525","@y":"490"},{"@gid":"12","@x":"490","@y":"490"},{"@gid":"12","@x":"455","@y":"490"},{"@gid":"12","@x":"420","@y":"490"},{"@gid":"12","@x":"350","@y":"490"},{"@gid":"12","@x":"385","@y":"490"},{"@gid":"12","@x":"0","@y":"490"},{"@gid":"13","@x":"0","@y":"455"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"12","@x":"0","@y":"350"},{"@gid":"12","@x":"0","@y":"315"},{"@gid":"6","@x":"315","@y":"350"},{"@gid":"6","@x":"315","@y":"315"},{"@gid":"15","@x":"350","@y":"280"},{"@gid":"15","@x":"385","@y":"280"},{"@gid":"15","@x":"420","@y":"280"},{"@gid":"9","@x":"350","@y":"245"},{"@gid":"9","@x":"385","@y":"245"},{"@gid":"9","@x":"420","@y":"245"},{"@gid":"10","@x":"455","@y":"245"},{"@gid":"16","@x":"455","@y":"280"},{"@gid":"11","@x":"315","@y":"280"},{"@gid":"8","@x":"315","@y":"245"},{"@gid":"12","@x":"665","@y":"490"},{"@gid":"11","@x":"665","@y":"385"},{"@gid":"11","@x":"665","@y":"350"},{"@gid":"11","@x":"665","@y":"315"},{"@gid":"5","@x":"525","@y":"245"},{"@gid":"7","@x":"525","@y":"280"},{"@gid":"14","@x":"630","@y":"280"},{"@gid":"12","@x":"665","@y":"280"},{"@gid":"12","@x":"665","@y":"245"},{"@gid":"12","@x":"665","@y":"210"},{"@gid":"11","@x":"630","@y":"245"},{"@gid":"11","@x":"630","@y":"210"},{"@gid":"11","@x":"630","@y":"70"},{"@gid":"12","@x":"665","@y":"140"},{"@gid":"12","@x":"665","@y":"105"},{"@gid":"12","@x":"665","@y":"70"},{"@gid":"12","@x":"665","@y":"35"},{"@gid":"14","@x":"315","@y":"385"},{"@gid":"3","@x":"350","@y":"385"},{"@gid":"8","@x":"385","@y":"350"},{"@gid":"15","@x":"385","@y":"385"},{"@gid":"15","@x":"420","@y":"385"},{"@gid":"15","@x":"455","@y":"385"},{"@gid":"15","@x":"490","@y":"385"},{"@gid":"15","@x":"525","@y":"385"},{"@gid":"15","@x":"560","@y":"385"},{"@gid":"16","@x":"595","@y":"385"},{"@gid":"10","@x":"595","@y":"350"},{"@gid":"10","@x":"595","@y":"455"},{"@gid":"8","@x":"315","@y":"455"},{"@gid":"9","@x":"350","@y":"455"},{"@gid":"9","@x":"385","@y":"455"},{"@gid":"9","@x":"420","@y":"455"},{"@gid":"9","@x":"455","@y":"455"},{"@gid":"9","@x":"490","@y":"455"},{"@gid":"9","@x":"525","@y":"455"},{"@gid":"9","@x":"560","@y":"455"},{"@gid":"9","@x":"280","@y":"525"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"11","@x":"315","@y":"490"},{"@gid":"10","@x":"210","@y":"490"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"9","@x":"35","@y":"490"},{"@gid":"9","@x":"105","@y":"490"},{"@gid":"9","@x":"70","@y":"490"},{"@gid":"9","@x":"175","@y":"490"},{"@gid":"3","@x":"140","@y":"350"},{"@gid":"3","@x":"175","@y":"350"},{"@gid":"10","@x":"210","@y":"350"},{"@gid":"7","@x":"210","@y":"385"},{"@gid":"15","@x":"105","@y":"350"},{"@gid":"15","@x":"35","@y":"350"},{"@gid":"3","@x":"595","@y":"175"},{"@gid":"3","@x":"560","@y":"175"},{"@gid":"3","@x":"525","@y":"175"},{"@gid":"3","@x":"490","@y":"175"},{"@gid":"2","@x":"455","@y":"175"},{"@gid":"9","@x":"35","@y":"280"},{"@gid":"13","@x":"105","@y":"315"},{"@gid":"10","@x":"105","@y":"280"},{"@gid":"12","@x":"35","@y":"315"},{"@gid":"12","@x":"0","@y":"280"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"13","@x":"0","@y":"210"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"7","@x":"70","@y":"210"},{"@gid":"6","@x":"70","@y":"175"},{"@gid":"5","@x":"70","@y":"140"},{"@gid":"10","@x":"0","@y":"140"},{"@gid":"7","@x":"455","@y":"70"},{"@gid":"11","@x":"455","@y":"35"},{"@gid":"15","@x":"490","@y":"35"},{"@gid":"15","@x":"525","@y":"35"},{"@gid":"15","@x":"560","@y":"35"},{"@gid":"15","@x":"595","@y":"35"},{"@gid":"12","@x":"630","@y":"35"},{"@gid":"12","@x":"70","@y":"315"},{"@gid":"15","@x":"70","@y":"350"},{"@gid":"9","@x":"70","@y":"280"},{"@type":"1","@gid":"19","@x":"630","@y":"231","@rotation":"270"}]},{"@name":"active",object:[{"@gid":"23","@x":"105","@y":"455"},{"@gid":"33","@x":"420","@y":"420"},{"@gid":"33","@x":"579","@y":"273"},{"@gid":"33","@x":"231","@y":"207"},{"@type":"3","@gid":"19","@x":"79.834","@y":"245.625"},{"@type":"3","@gid":"17","@x":"591","@y":"142.167"},{"@gid":"19","@x":"468.166","@y":"348.5"},{"@gid":"18","@x":"631","@y":"205","@rotation":"270"},{"@type":"4","@gid":"21","@x":"244.5","@y":"333.667",properties:{property:[{"@name":"distanceY","@value":"140"},{"@name":"speedY","@value":"45"}]}},{"@gid":"38","@x":"34.6666","@y":"211.167"},{"@gid":"38","@x":"36.3333","@y":"244.167"},{"@type":"3","@gid":"19","@x":"35.5","@y":"244","@rotation":"270"},{"@gid":"19","@x":"528.833","@y":"349.83"},{"@type":"4","@gid":"17","@x":"355.5","@y":"351.5"},{"@type":"5","@gid":"17","@x":"637.833","@y":"456.667"},{"@type":"5","@gid":"19","@x":"218","@y":"455"},{"@type":"6","@gid":"19","@x":"464","@y":"140"},{"@type":"6","@gid":"17","@x":"526","@y":"259","@rotation":"270"}]},{"@name":"characters",object:[{"@gid":"24","@x":"210","@y":"315"},{"@gid":"25","@x":"526","@y":"140"}]},{"@name":"physics",object:[{"@x":"0","@y":"490","@width":"700","@height":"35"},{"@x":"35","@y":"455","@width":"210","@height":"35"},{"@x":"315","@y":"420","@width":"315","@height":"70"},{"@x":"630","@y":"455","@width":"35","@height":"35"},{"@x":"665","@y":"0","@width":"35","@height":"490"},{"@x":"455","@y":"0","@width":"210","@height":"35"},{"@x":"455","@y":"35","@width":"35","@height":"35"},{"@x":"455","@y":"140","@width":"175","@height":"35"},{"@x":"630","@y":"35","@width":"35","@height":"245"},{"@x":"525","@y":"210","@width":"35","@height":"70"},{"@x":"315","@y":"210","@width":"175","@height":"70"},{"@x":"315","@y":"280","@width":"35","@height":"105"},{"@x":"350","@y":"350","@width":"280","@height":"35"},{"@x":"385","@y":"315","@width":"245","@height":"35"},{"@x":"0","@y":"105","@width":"35","@height":"385"},{"@x":"70","@y":"105","@width":"35","@height":"105"},{"@x":"35","@y":"245","@width":"105","@height":"105"},{"@x":"140","@y":"315","@width":"105","@height":"35"},{"@x":"210","@y":"350","@width":"35","@height":"35"}]}]},{"@level":"12","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}},{"@id":"17",image:{"@width":"50","@height":"29","@source":"TurrelGraphics.png"}}]},{"@firstgid":"35","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank4Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"122","@height":"87","@source":"Tip10Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"52","@x":"296","@y":"420"},{"@gid":"45","@x":"138","@y":"218",properties:{property:{"@name":"text","@value":"level_text_12"}}},{"@gid":"51","@x":"385","@y":"455"},{"@gid":"53","@x":"595","@y":"455"},{"@gid":"48","@x":"70","@y":"175"},{"@gid":"73","@x":"199","@y":"134"}]},{"@name":"tiles",object:[{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"665","@y":"490"},{"@gid":"12","@x":"665","@y":"420"},{"@gid":"12","@x":"420","@y":"175"},{"@gid":"12","@x":"665","@y":"385"},{"@gid":"12","@x":"665","@y":"455"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"0","@y":"140"},{"@gid":"13","@x":"70","@y":"105"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"13","@x":"0","@y":"210"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"13","@x":"0","@y":"280"},{"@gid":"13","@x":"0","@y":"350"},{"@gid":"13","@x":"0","@y":"315"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"13","@x":"0","@y":"455"},{"@gid":"13","@x":"0","@y":"490"},{"@gid":"9","@x":"35","@y":"525"},{"@gid":"9","@x":"70","@y":"525"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"9","@x":"280","@y":"525"},{"@gid":"9","@x":"315","@y":"525"},{"@gid":"9","@x":"350","@y":"525"},{"@gid":"9","@x":"385","@y":"525"},{"@gid":"9","@x":"420","@y":"525"},{"@gid":"9","@x":"455","@y":"525"},{"@gid":"9","@x":"490","@y":"525"},{"@gid":"9","@x":"525","@y":"525"},{"@gid":"9","@x":"560","@y":"525"},{"@gid":"9","@x":"595","@y":"525"},{"@gid":"11","@x":"630","@y":"490"},{"@gid":"11","@x":"630","@y":"455"},{"@gid":"11","@x":"630","@y":"420"},{"@gid":"8","@x":"630","@y":"385"},{"@gid":"2","@x":"525","@y":"420"},{"@gid":"16","@x":"560","@y":"420"},{"@gid":"6","@x":"560","@y":"385"},{"@gid":"6","@x":"560","@y":"350"},{"@gid":"3","@x":"385","@y":"315"},{"@gid":"3","@x":"420","@y":"315"},{"@gid":"3","@x":"455","@y":"315"},{"@gid":"3","@x":"490","@y":"315"},{"@gid":"3","@x":"525","@y":"315"},{"@gid":"11","@x":"665","@y":"350"},{"@gid":"11","@x":"665","@y":"315"},{"@gid":"11","@x":"665","@y":"280"},{"@gid":"11","@x":"665","@y":"245"},{"@gid":"11","@x":"665","@y":"210"},{"@gid":"11","@x":"665","@y":"175"},{"@gid":"11","@x":"665","@y":"140"},{"@gid":"11","@x":"665","@y":"105"},{"@gid":"9","@x":"665","@y":"70"},{"@gid":"3","@x":"630","@y":"70"},{"@gid":"3","@x":"560","@y":"70"},{"@gid":"3","@x":"525","@y":"70"},{"@gid":"9","@x":"455","@y":"70"},{"@gid":"6","@x":"420","@y":"35"},{"@gid":"11","@x":"420","@y":"70"},{"@gid":"11","@x":"420","@y":"105"},{"@gid":"11","@x":"420","@y":"140"},{"@gid":"9","@x":"385","@y":"175"},{"@gid":"8","@x":"350","@y":"175"},{"@gid":"14","@x":"350","@y":"210"},{"@gid":"15","@x":"385","@y":"210"},{"@gid":"15","@x":"420","@y":"210"},{"@gid":"16","@x":"455","@y":"210"},{"@gid":"13","@x":"490","@y":"140"},{"@gid":"10","@x":"350","@y":"280"},{"@gid":"9","@x":"315","@y":"280"},{"@gid":"9","@x":"280","@y":"280"},{"@gid":"9","@x":"245","@y":"280"},{"@gid":"9","@x":"210","@y":"280"},{"@gid":"3","@x":"175","@y":"280"},{"@gid":"3","@x":"140","@y":"280"},{"@gid":"14","@x":"105","@y":"280"},{"@gid":"5","@x":"105","@y":"245"},{"@gid":"3","@x":"105","@y":"140"},{"@gid":"3","@x":"175","@y":"385"},{"@gid":"3","@x":"140","@y":"385"},{"@gid":"2","@x":"105","@y":"385"},{"@gid":"6","@x":"210","@y":"350"},{"@gid":"11","@x":"210","@y":"315"},{"@gid":"15","@x":"245","@y":"315"},{"@gid":"15","@x":"280","@y":"315"},{"@gid":"15","@x":"315","@y":"315"},{"@gid":"15","@x":"350","@y":"315"},{"@gid":"16","@x":"210","@y":"385"},{"@gid":"8","@x":"105","@y":"490"},{"@gid":"10","@x":"210","@y":"490"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"9","@x":"175","@y":"490"},{"@gid":"3","@x":"595","@y":"70"},{"@gid":"13","@x":"560","@y":"315"},{"@gid":"8","@x":"560","@y":"175"},{"@gid":"10","@x":"595","@y":"175"},{"@gid":"14","@x":"560","@y":"210"},{"@gid":"6","@x":"595","@y":"245"},{"@gid":"13","@x":"595","@y":"210"},{"@gid":"16","@x":"595","@y":"280"},{"@gid":"8","@x":"560","@y":"280"},{"@gid":"13","@x":"490","@y":"105"},{"@gid":"16","@x":"490","@y":"175"},{"@gid":"12","@x":"455","@y":"175"},{"@gid":"12","@x":"455","@y":"140"},{"@gid":"12","@x":"455","@y":"105"},{"@gid":"9","@x":"490","@y":"70"},{"@gid":"4","@x":"140","@y":"140"},{"@gid":"15","@x":"35","@y":"140"},{"@gid":"12","@x":"0","@y":"105"},{"@gid":"15","@x":"70","@y":"140"},{"@gid":"9","@x":"0","@y":"70"},{"@gid":"12","@x":"35","@y":"105"},{"@gid":"10","@x":"70","@y":"70"},{"@gid":"9","@x":"35","@y":"70"}]},{"@name":"active",object:[{"@gid":"23","@x":"281","@y":"490"},{"@gid":"33","@x":"178","@y":"432"},{"@gid":"33","@x":"519","@y":"367"},{"@type":"4","@gid":"17","@x":"482","@y":"491"},{"@gid":"34","@x":"550","@y":"245"},{"@gid":"33","@x":"561","@y":"120"},{"@type":"3","@gid":"19","@x":"546","@y":"420","@rotation":"180"},{"@type":"1","@gid":"19","@x":"560","@y":"195","@rotation":"270"},{"@type":"2","@gid":"17","@x":"601","@y":"491"},{"@gid":"28","@x":"166","@y":"245"},{"@type":"4","@gid":"19","@x":"217","@y":"455"},{"@type":"2","@gid":"21","@x":"34.6667","@y":"230.333",properties:{property:[{"@name":"distanceY","@value":"245"},{"@name":"speedY","@value":"45"}]}},{"@type":"1","@gid":"17","@x":"533","@y":"281"},{"@gid":"36","@x":"525","@y":"175"},{"@gid":"36","@x":"350","@y":"245"},{"@type":"3","@gid":"17","@x":"130","@y":"105"},{"@gid":"27","@x":"417","@y":"335",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"180"},{"@name":"minAngle","@value":"160"}]}},{"@gid":"37","@x":"118","@y":"456"}]},{"@name":"characters",object:[{"@gid":"24","@x":"132","@y":"348"},{"@gid":"25","@x":"356","@y":"140"}]},{"@name":"physics",object:[{"@x":"0","@y":"490","@width":"700","@height":"35"},{"@x":"630","@y":"350","@width":"35","@height":"140"},{"@x":"665","@y":"70","@width":"35","@height":"420"},{"@x":"455","@y":"35","@width":"245","@height":"35"},{"@x":"420","@y":"0","@width":"35","@height":"140"},{"@x":"455","@y":"70","@width":"70","@height":"70"},{"@x":"350","@y":"140","@width":"175","@height":"35"},{"@x":"350","@y":"175","@width":"140","@height":"35"},{"@x":"560","@y":"175","@width":"35","@height":"35"},{"@x":"595","@y":"175","@width":"35","@height":"105"},{"@x":"560","@y":"245","@width":"35","@height":"175"},{"@x":"525","@y":"385","@width":"35","@height":"35"},{"@x":"210","@y":"280","@width":"350","@height":"35"},{"@x":"210","@y":"315","@width":"35","@height":"70"},{"@x":"105","@y":"350","@width":"105","@height":"35"},{"@x":"105","@y":"210","@width":"35","@height":"35"},{"@x":"105","@y":"245","@width":"280","@height":"35"},{"@x":"105","@y":"455","@width":"140","@height":"35"},{"@x":"0","@y":"70","@width":"35","@height":"420"},{"@x":"0","@y":"35","@width":"105","@height":"35"},{"@x":"35","@y":"70","@width":"70","@height":"70"},{"@x":"105","@y":"105","@width":"70","@height":"35"},{"@x":"560","@y":"140","@width":"70","@height":"35"}]}]},{"@level":"13","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"167",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"17","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"9","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"28","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"50","@x":"537.333","@y":"71.3334","@width":"38","@height":"19"},{"@id":"2","@gid":"43","@x":"280","@y":"223","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_13"}}},{"@id":"3","@gid":"51","@x":"175","@y":"451","@width":"24","@height":"21"},{"@id":"4","@gid":"66","@x":"105","@y":"420","@width":"62","@height":"135"},{"@id":"5","@gid":"64","@x":"567","@y":"427","@width":"51","@height":"38"},{"@id":"6","@gid":"65","@x":"630","@y":"105","@width":"54","@height":"54"},{"@id":"7","@gid":"67","@x":"245","@y":"210","@width":"48","@height":"45"},{"@id":"8","@gid":"58","@x":"350","@y":"420","@width":"60","@height":"86"},{"@id":"9","@gid":"46","@x":"385","@y":"140","@width":"33","@height":"27"},{"@id":"10","@gid":"54","@x":"26","@y":"140","@width":"19","@height":"66"}]},{"@name":"tiles",object:[{"@id":"11","@gid":"9","@x":"560","@y":"490","@width":"35","@height":"35"},{"@id":"12","@gid":"9","@x":"35","@y":"490","@width":"35","@height":"35"},{"@id":"13","@gid":"9","@x":"525","@y":"490","@width":"35","@height":"35"},{"@id":"14","@gid":"9","@x":"315","@y":"490","@width":"35","@height":"35"},{"@id":"15","@gid":"9","@x":"595","@y":"490","@width":"35","@height":"35"},{"@id":"16","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"17","@gid":"12","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"18","@gid":"12","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"19","@gid":"12","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"20","@gid":"12","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"21","@gid":"12","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"22","@gid":"12","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"23","@gid":"12","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"24","@gid":"12","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"25","@gid":"12","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"26","@gid":"12","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"27","@gid":"12","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"28","@gid":"12","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"29","@gid":"12","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"30","@gid":"12","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"31","@gid":"12","@x":"630","@y":"280","@width":"35","@height":"35"},{"@id":"32","@gid":"3","@x":"210","@y":"280","@width":"35","@height":"35"},{"@id":"33","@gid":"11","@x":"175","@y":"455","@width":"35","@height":"35"},{"@id":"34","@gid":"11","@x":"630","@y":"420","@width":"35","@height":"35"},{"@id":"35","@gid":"3","@x":"140","@y":"140","@width":"35","@height":"35"},{"@id":"36","@gid":"3","@x":"210","@y":"140","@width":"35","@height":"35"},{"@id":"37","@gid":"3","@x":"245","@y":"140","@width":"35","@height":"35"},{"@id":"38","@gid":"3","@x":"245","@y":"280","@width":"35","@height":"35"},{"@id":"39","@gid":"12","@x":"0","@y":"490","@width":"35","@height":"35"},{"@id":"40","@gid":"9","@x":"560","@y":"175","@width":"35","@height":"35"},{"@id":"41","@gid":"9","@x":"525","@y":"175","@width":"35","@height":"35"},{"@id":"42","@gid":"12","@x":"665","@y":"245","@width":"35","@height":"35"},{"@id":"43","@gid":"12","@x":"665","@y":"280","@width":"35","@height":"35"},{"@id":"44","@gid":"12","@x":"0","@y":"350","@width":"35","@height":"35"},{"@id":"45","@gid":"12","@x":"525","@y":"210","@width":"35","@height":"35"},{"@id":"46","@gid":"12","@x":"630","@y":"385","@width":"35","@height":"35"},{"@id":"47","@gid":"12","@x":"630","@y":"315","@width":"35","@height":"35"},{"@id":"48","@gid":"12","@x":"630","@y":"350","@width":"35","@height":"35"},{"@id":"49","@gid":"12","@x":"595","@y":"350","@width":"35","@height":"35"},{"@id":"50","@gid":"12","@x":"0","@y":"315","@width":"35","@height":"35"},{"@id":"51","@gid":"12","@x":"35","@y":"315","@width":"35","@height":"35"},{"@id":"52","@gid":"12","@x":"665","@y":"420","@width":"35","@height":"35"},{"@id":"53","@gid":"13","@x":"0","@y":"455","@width":"35","@height":"35"},{"@id":"54","@gid":"13","@x":"0","@y":"420","@width":"35","@height":"35"},{"@id":"55","@gid":"13","@x":"0","@y":"385","@width":"35","@height":"35"},{"@id":"56","@gid":"15","@x":"35","@y":"350","@width":"35","@height":"35"},{"@id":"57","@gid":"16","@x":"70","@y":"350","@width":"35","@height":"35"},{"@id":"58","@gid":"13","@x":"70","@y":"315","@width":"35","@height":"35"},{"@id":"59","@gid":"13","@x":"70","@y":"210","@width":"35","@height":"35"},{"@id":"60","@gid":"9","@x":"0","@y":"210","@width":"35","@height":"35"},{"@id":"61","@gid":"9","@x":"35","@y":"210","@width":"35","@height":"35"},{"@id":"62","@gid":"8","@x":"70","@y":"140","@width":"35","@height":"35"},{"@id":"63","@gid":"3","@x":"175","@y":"140","@width":"35","@height":"35"},{"@id":"64","@gid":"8","@x":"175","@y":"280","@width":"35","@height":"35"},{"@id":"65","@gid":"8","@x":"490","@y":"175","@width":"35","@height":"35"},{"@id":"66","@gid":"11","@x":"490","@y":"210","@width":"35","@height":"35"},{"@id":"67","@gid":"11","@x":"490","@y":"245","@width":"35","@height":"35"},{"@id":"68","@gid":"16","@x":"525","@y":"280","@width":"35","@height":"35"},{"@id":"69","@gid":"13","@x":"525","@y":"245","@width":"35","@height":"35"},{"@id":"70","@gid":"16","@x":"560","@y":"210","@width":"35","@height":"35"},{"@id":"71","@gid":"4","@x":"595","@y":"175","@width":"35","@height":"35"},{"@id":"72","@gid":"8","@x":"630","@y":"245","@width":"35","@height":"35"},{"@id":"73","@gid":"8","@x":"595","@y":"280","@width":"35","@height":"35"},{"@id":"74","@gid":"11","@x":"665","@y":"210","@width":"35","@height":"35"},{"@id":"75","@gid":"8","@x":"665","@y":"175","@width":"35","@height":"35"},{"@id":"76","@gid":"11","@x":"595","@y":"315","@width":"35","@height":"35"},{"@id":"77","@gid":"9","@x":"560","@y":"350","@width":"35","@height":"35"},{"@id":"78","@gid":"9","@x":"525","@y":"350","@width":"35","@height":"35"},{"@id":"79","@gid":"8","@x":"490","@y":"350","@width":"35","@height":"35"},{"@id":"80","@gid":"14","@x":"490","@y":"385","@width":"35","@height":"35"},{"@id":"81","@gid":"15","@x":"525","@y":"385","@width":"35","@height":"35"},{"@id":"82","@gid":"15","@x":"560","@y":"385","@width":"35","@height":"35"},{"@id":"83","@gid":"15","@x":"595","@y":"385","@width":"35","@height":"35"},{"@id":"84","@gid":"12","@x":"665","@y":"385","@width":"35","@height":"35"},{"@id":"85","@gid":"12","@x":"665","@y":"350","@width":"35","@height":"35"},{"@id":"86","@gid":"12","@x":"665","@y":"315","@width":"35","@height":"35"},{"@id":"87","@gid":"12","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"88","@gid":"12","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"89","@gid":"12","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"90","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"91","@gid":"12","@x":"630","@y":"490","@width":"35","@height":"35"},{"@id":"92","@gid":"11","@x":"630","@y":"455","@width":"35","@height":"35"},{"@id":"93","@gid":"9","@x":"420","@y":"490","@width":"35","@height":"35"},{"@id":"94","@gid":"9","@x":"455","@y":"490","@width":"35","@height":"35"},{"@id":"95","@gid":"9","@x":"490","@y":"490","@width":"35","@height":"35"},{"@id":"96","@gid":"9","@x":"350","@y":"490","@width":"35","@height":"35"},{"@id":"97","@gid":"9","@x":"385","@y":"490","@width":"35","@height":"35"},{"@id":"98","@gid":"8","@x":"280","@y":"490","@width":"35","@height":"35"},{"@id":"99","@gid":"9","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"100","@gid":"10","@x":"210","@y":"455","@width":"35","@height":"35"},{"@id":"101","@gid":"13","@x":"210","@y":"490","@width":"35","@height":"35"},{"@id":"102","@gid":"11","@x":"175","@y":"490","@width":"35","@height":"35"},{"@id":"103","@gid":"9","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"104","@gid":"9","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"105","@gid":"10","@x":"70","@y":"490","@width":"35","@height":"35"},{"@id":"106","@gid":"16","@x":"420","@y":"420","@width":"35","@height":"35"},{"@id":"107","@gid":"5","@x":"420","@y":"385","@width":"35","@height":"35"},{"@id":"108","@gid":"2","@x":"385","@y":"420","@width":"35","@height":"35"},{"@id":"109","@gid":"6","@x":"175","@y":"420","@width":"35","@height":"35"},{"@id":"110","@gid":"6","@x":"175","@y":"385","@width":"35","@height":"35"},{"@id":"111","@gid":"6","@x":"175","@y":"350","@width":"35","@height":"35"},{"@id":"112","@gid":"6","@x":"175","@y":"315","@width":"35","@height":"35"},{"@id":"113","@gid":"6","@x":"70","@y":"175","@width":"35","@height":"35"},{"@id":"114","@gid":"4","@x":"280","@y":"140","@width":"35","@height":"35"},{"@id":"115","@gid":"4","@x":"280","@y":"280","@width":"35","@height":"35"},{"@id":"117","@gid":"13","@x":"70","@y":"280","@width":"35","@height":"35"},{"@id":"118","@gid":"12","@x":"35","@y":"280","@width":"35","@height":"35"},{"@id":"119","@gid":"12","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"120","@gid":"13","@x":"70","@y":"245","@width":"35","@height":"35"},{"@id":"121","@gid":"12","@x":"35","@y":"245","@width":"35","@height":"35"},{"@id":"122","@gid":"12","@x":"0","@y":"245","@width":"35","@height":"35"},{"@id":"123","@gid":"15","@x":"490","@y":"280","@width":"35","@height":"35"},{"@id":"124","@gid":"3","@x":"455","@y":"280","@width":"35","@height":"35"},{"@id":"125","@gid":"3","@x":"420","@y":"280","@width":"35","@height":"35"},{"@id":"126","@gid":"2","@x":"385","@y":"280","@width":"35","@height":"35"},{"@id":"127","@gid":"3","@x":"105","@y":"140","@width":"35","@height":"35"}]},{"@name":"physics",object:[{"@id":"147","@x":"70","@y":"105","@width":"245","@height":"35"},{"@id":"148","@x":"70","@y":"140","@width":"35","@height":"210"},{"@id":"149","@x":"0","@y":"175","@width":"70","@height":"175"},{"@id":"150","@x":"0","@y":"350","@width":"35","@height":"175"},{"@id":"151","@x":"35","@y":"490","@width":"665","@height":"35"},{"@id":"152","@x":"35","@y":"455","@width":"70","@height":"35"},{"@id":"153","@x":"175","@y":"245","@width":"140","@height":"35"},{"@id":"154","@x":"175","@y":"280","@width":"35","@height":"210"},{"@id":"155","@x":"210","@y":"420","@width":"35","@height":"70"},{"@id":"156","@x":"280","@y":"455","@width":"420","@height":"35"},{"@id":"157","@x":"665","@y":"140","@width":"35","@height":"315"},{"@id":"158","@x":"630","@y":"210","@width":"35","@height":"245"},{"@id":"159","@x":"595","@y":"245","@width":"35","@height":"140"},{"@id":"160","@x":"490","@y":"315","@width":"105","@height":"70"},{"@id":"161","@x":"385","@y":"385","@width":"35","@height":"35"},{"@id":"162","@x":"420","@y":"350","@width":"35","@height":"70"},{"@id":"163","@x":"385","@y":"245","@width":"175","@height":"35"},{"@id":"164","@x":"490","@y":"140","@width":"140","@height":"35"},{"@id":"165","@x":"490","@y":"175","@width":"70","@height":"70"},{"@id":"166","@x":"560","@y":"175","@width":"35","@height":"35"}]},{"@name":"active",object:[{"@id":"129","@gid":"23","@x":"522.333","@y":"141.334","@width":"70","@height":"70"},{"@id":"130","@gid":"33","@x":"23","@y":"163","@width":"31","@height":"34"},{"@id":"131","@gid":"33","@x":"229","@y":"325","@width":"31","@height":"34"},{"@id":"132","@gid":"33","@x":"126","@y":"325","@width":"31","@height":"34"},{"@id":"133","@gid":"35","@x":"385","@y":"245","@width":"35","@height":"35"},{"@id":"134","@type":"6","@gid":"19","@x":"105","@y":"245","@width":"20","@height":"70","@rotation":"90"},{"@id":"135","@type":"3","@gid":"17","@x":"551.333","@y":"456.667","@width":"24","@height":"11"},{"@id":"136","@gid":"28","@x":"290","@y":"458","@width":"52","@height":"53"},{"@id":"137","@type":"3","@gid":"21","@x":"105","@y":"474.667","@width":"70","@height":"19",properties:{property:[{"@name":"distanceY","@value":"210"},{"@name":"speedY","@value":"-45"}]}},{"@id":"138","@type":"6","@gid":"17","@x":"250","@y":"492","@width":"24","@height":"11"},{"@id":"139","@gid":"32","@x":"266","@y":"442","@width":"15","@height":"15"},{"@id":"140","@type":"6","@gid":"19","@x":"512","@y":"385","@width":"20","@height":"70","@rotation":"180"},{"@id":"141","@gid":"34","@x":"175","@y":"105","@width":"50","@height":"50"},{"@id":"142","@type":"6","@gid":"19","@x":"595","@y":"140","@width":"20","@height":"70","@rotation":"90"},{"@id":"143","@type":"6","@gid":"19","@x":"385","@y":"245","@width":"20","@height":"70","@rotation":"90"}]},{"@name":"characters",object:[{"@id":"144","@gid":"24","@x":"43.667","@y":"454","@width":"63","@height":"60"},{"@id":"145","@gid":"25","@x":"534.667","@y":"141.333","@width":"44","@height":"52"}]}]},{"@level":"14","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}},{"@id":"17",image:{"@width":"50","@height":"29","@source":"TurrelGraphics.png"}}]},{"@firstgid":"35","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"70","@height":"20","@source":"Plank7Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"52","@x":"339.667","@y":"70.6663"},{"@gid":"45","@x":"358","@y":"395",properties:{property:{"@name":"text","@value":"level_text_14"}}},{"@gid":"51","@x":"455","@y":"140"},{"@gid":"50","@x":"277","@y":"320"},{"@gid":"66","@x":"0","@y":"420"},{"@gid":"65","@x":"254","@y":"235"},{"@gid":"58","@x":"245","@y":"105"},{"@gid":"57","@x":"35","@y":"210"}]},{"@name":"tiles",object:[{"@gid":"12","@x":"105","@y":"490"},{"@gid":"12","@x":"70","@y":"490"},{"@gid":"12","@x":"665","@y":"280"},{"@gid":"12","@x":"455","@y":"525"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"12","@x":"665","@y":"175"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"280","@y":"525"},{"@gid":"12","@x":"245","@y":"525"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"350","@y":"525"},{"@gid":"12","@x":"70","@y":"525"},{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"385","@y":"525"},{"@gid":"12","@x":"420","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"665","@y":"315"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"12","@x":"630","@y":"315"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"9","@x":"175","@y":"490"},{"@gid":"9","@x":"210","@y":"490"},{"@gid":"9","@x":"245","@y":"490"},{"@gid":"9","@x":"280","@y":"490"},{"@gid":"9","@x":"315","@y":"490"},{"@gid":"9","@x":"350","@y":"490"},{"@gid":"9","@x":"385","@y":"490"},{"@gid":"9","@x":"420","@y":"490"},{"@gid":"9","@x":"455","@y":"490"},{"@gid":"9","@x":"490","@y":"490"},{"@gid":"9","@x":"525","@y":"490"},{"@gid":"9","@x":"630","@y":"490"},{"@gid":"9","@x":"665","@y":"490"},{"@gid":"7","@x":"595","@y":"420"},{"@gid":"6","@x":"595","@y":"385"},{"@gid":"15","@x":"630","@y":"350"},{"@gid":"15","@x":"665","@y":"350"},{"@gid":"11","@x":"595","@y":"350"},{"@gid":"11","@x":"595","@y":"315"},{"@gid":"8","@x":"595","@y":"280"},{"@gid":"9","@x":"630","@y":"280"},{"@gid":"11","@x":"665","@y":"245"},{"@gid":"11","@x":"665","@y":"210"},{"@gid":"9","@x":"665","@y":"140"},{"@gid":"9","@x":"630","@y":"140"},{"@gid":"8","@x":"595","@y":"140"},{"@gid":"14","@x":"595","@y":"175"},{"@gid":"15","@x":"630","@y":"175"},{"@gid":"1","@x":"455","@y":"280"},{"@gid":"7","@x":"315","@y":"315"},{"@gid":"3","@x":"140","@y":"350"},{"@gid":"3","@x":"175","@y":"350"},{"@gid":"4","@x":"210","@y":"350"},{"@gid":"3","@x":"280","@y":"280"},{"@gid":"3","@x":"245","@y":"280"},{"@gid":"3","@x":"210","@y":"280"},{"@gid":"3","@x":"175","@y":"280"},{"@gid":"3","@x":"140","@y":"280"},{"@gid":"3","@x":"105","@y":"280"},{"@gid":"10","@x":"35","@y":"245"},{"@gid":"9","@x":"0","@y":"245"},{"@gid":"15","@x":"35","@y":"280"},{"@gid":"8","@x":"105","@y":"350"},{"@gid":"6","@x":"105","@y":"385"},{"@gid":"13","@x":"105","@y":"420"},{"@gid":"13","@x":"105","@y":"455"},{"@gid":"8","@x":"70","@y":"420"},{"@gid":"11","@x":"70","@y":"455"},{"@gid":"9","@x":"35","@y":"490"},{"@gid":"9","@x":"0","@y":"490"},{"@gid":"15","@x":"0","@y":"280"},{"@gid":"3","@x":"105","@y":"140"},{"@gid":"2","@x":"70","@y":"140"},{"@gid":"6","@x":"140","@y":"105"},{"@gid":"6","@x":"140","@y":"70"},{"@gid":"6","@x":"140","@y":"35"},{"@gid":"3","@x":"175","@y":"175"},{"@gid":"3","@x":"210","@y":"175"},{"@gid":"3","@x":"245","@y":"175"},{"@gid":"3","@x":"280","@y":"175"},{"@gid":"14","@x":"315","@y":"210"},{"@gid":"15","@x":"350","@y":"210"},{"@gid":"15","@x":"385","@y":"210"},{"@gid":"9","@x":"350","@y":"175"},{"@gid":"9","@x":"315","@y":"175"},{"@gid":"10","@x":"315","@y":"280"},{"@gid":"14","@x":"140","@y":"175"},{"@gid":"3","@x":"70","@y":"280"},{"@gid":"13","@x":"140","@y":"140"},{"@gid":"4","@x":"0","@y":"350"},{"@gid":"4","@x":"455","@y":"210"},{"@gid":"10","@x":"385","@y":"175"},{"@gid":"3","@x":"420","@y":"210"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"9","@x":"595","@y":"490"},{"@gid":"9","@x":"560","@y":"490"}]},{"@name":"active",object:[{"@gid":"23","@x":"324.667","@y":"140.666"},{"@gid":"33","@x":"646","@y":"76"},{"@gid":"33","@x":"53.6667","@y":"366"},{"@gid":"33","@x":"648.334","@y":"392.333"},{"@type":"3","@gid":"17","@x":"373.667","@y":"457.333"},{"@gid":"27","@x":"654","@y":"239",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"0"},{"@name":"minAngle","@value":"0"},{"@name":"speedX","@value":"0"}]}},{"@type":"5","@gid":"20","@x":"470","@y":"263"},{"@gid":"19","@x":"616.666","@y":"106","@rotation":"180"},{"@type":"3","@gid":"22","@x":"490","@y":"475.667",properties:{property:[{"@name":"distanceX","@value":"0"},{"@name":"distanceY","@value":"210"},{"@name":"speedX","@value":"0"},{"@name":"speedY","@value":"-35"}]}},{"@gid":"20","@x":"596","@y":"245"},{"@gid":"2147483682","@x":"-6","@y":"315"},{"@gid":"35","@x":"245","@y":"455"},{"@gid":"18","@x":"19","@y":"456"}]},{"@name":"characters",object:[{"@gid":"24","@x":"317.334","@y":"456"},{"@gid":"25","@x":"73.3333","@y":"105"}]},{"@name":"physics",object:[{"@x":"0","@y":"455","@width":"700","@height":"70"},{"@x":"70","@y":"385","@width":"35","@height":"70"},{"@x":"105","@y":"350","@width":"35","@height":"105"},{"@x":"105","@y":"315","@width":"140","@height":"35"},{"@x":"0","@y":"315","@width":"35","@height":"35"},{"@x":"0","@y":"245","@width":"350","@height":"35"},{"@x":"315","@y":"280","@width":"35","@height":"35"},{"@x":"0","@y":"210","@width":"70","@height":"35"},{"@x":"595","@y":"245","@width":"105","@height":"105"},{"@x":"595","@y":"350","@width":"35","@height":"70"},{"@x":"595","@y":"105","@width":"105","@height":"70"},{"@x":"665","@y":"175","@width":"35","@height":"70"},{"@x":"70","@y":"105","@width":"70","@height":"35"},{"@x":"140","@y":"0","@width":"35","@height":"175"},{"@x":"175","@y":"140","@width":"245","@height":"35"},{"@x":"315","@y":"175","@width":"175","@height":"35"},{"@x":"455","@y":"245","@width":"35","@height":"35"}]}]},{"@level":"15","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"50","@x":"130.333","@y":"383.666"},{"@gid":"52","@x":"325","@y":"315"},{"@gid":"43","@x":"182","@y":"147",properties:{property:{"@name":"text","@value":"level_text_15"}}},{"@gid":"45","@x":"595","@y":"299"},{"@gid":"44","@x":"411","@y":"299"},{"@gid":"53","@x":"280","@y":"240"},{"@gid":"54","@x":"622","@y":"148"},{"@gid":"57","@x":"595","@y":"420"}]},{"@name":"tiles",object:[{"@gid":"9","@x":"70","@y":"490"},{"@gid":"9","@x":"560","@y":"490"},{"@gid":"9","@x":"455","@y":"490"},{"@gid":"9","@x":"350","@y":"490"},{"@gid":"9","@x":"280","@y":"490"},{"@gid":"9","@x":"210","@y":"490"},{"@gid":"12","@x":"350","@y":"525"},{"@gid":"9","@x":"490","@y":"490"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"9","@x":"35","@y":"490"},{"@gid":"9","@x":"525","@y":"490"},{"@gid":"9","@x":"315","@y":"490"},{"@gid":"9","@x":"245","@y":"490"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"70","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"245","@y":"525"},{"@gid":"12","@x":"280","@y":"525"},{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"420","@y":"525"},{"@gid":"12","@x":"385","@y":"525"},{"@gid":"12","@x":"455","@y":"525"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"9","@x":"595","@y":"490"},{"@gid":"11","@x":"665","@y":"455"},{"@gid":"11","@x":"665","@y":"420"},{"@gid":"3","@x":"314.416","@y":"280"},{"@gid":"3","@x":"384.416","@y":"280"},{"@gid":"4","@x":"454.083","@y":"280"},{"@gid":"3","@x":"349.416","@y":"280"},{"@gid":"8","@x":"665","@y":"140"},{"@gid":"11","@x":"665","@y":"175"},{"@gid":"6","@x":"280","@y":"315"},{"@gid":"11","@x":"665","@y":"385"},{"@gid":"11","@x":"665","@y":"350"},{"@gid":"11","@x":"665","@y":"315"},{"@gid":"11","@x":"665","@y":"210"},{"@gid":"11","@x":"665","@y":"245"},{"@gid":"3","@x":"630","@y":"280"},{"@gid":"3","@x":"490","@y":"140"},{"@gid":"9","@x":"0","@y":"70"},{"@gid":"12","@x":"420","@y":"175"},{"@gid":"12","@x":"420","@y":"490"},{"@gid":"12","@x":"385","@y":"490"},{"@gid":"3","@x":"525","@y":"140"},{"@gid":"3","@x":"419.333","@y":"280"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"13","@x":"0","@y":"455"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"13","@x":"0","@y":"350"},{"@gid":"13","@x":"0","@y":"315"},{"@gid":"12","@x":"0","@y":"490"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"9","@x":"105","@y":"490"},{"@gid":"9","@x":"175","@y":"490"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"665","@y":"280"},{"@gid":"3","@x":"595","@y":"280"},{"@gid":"2","@x":"560","@y":"280"},{"@gid":"9","@x":"630","@y":"490"},{"@gid":"10","@x":"420","@y":"455"},{"@gid":"12","@x":"0","@y":"210"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"13","@x":"0","@y":"140"},{"@gid":"13","@x":"0","@y":"105"},{"@gid":"10","@x":"175","@y":"175"},{"@gid":"9","@x":"140","@y":"175"},{"@gid":"8","@x":"105","@y":"175"},{"@gid":"15","@x":"105","@y":"210"},{"@gid":"15","@x":"140","@y":"210"},{"@gid":"16","@x":"175","@y":"210"},{"@gid":"3","@x":"70","@y":"210"},{"@gid":"3","@x":"35","@y":"210"},{"@gid":"3","@x":"35","@y":"280"},{"@gid":"3","@x":"70","@y":"280"},{"@gid":"3","@x":"105","@y":"280"},{"@gid":"3","@x":"140","@y":"280"},{"@gid":"4","@x":"175","@y":"280"},{"@gid":"12","@x":"0","@y":"280"},{"@gid":"3","@x":"210","@y":"350"},{"@gid":"3","@x":"175","@y":"350"},{"@gid":"3","@x":"140","@y":"350"},{"@gid":"3","@x":"245","@y":"350"},{"@gid":"3","@x":"105","@y":"350"},{"@gid":"2","@x":"70","@y":"350"},{"@gid":"7","@x":"280","@y":"385"},{"@gid":"13","@x":"280","@y":"350"},{"@gid":"8","@x":"280","@y":"280"},{"@gid":"14","@x":"385","@y":"210"},{"@gid":"11","@x":"385","@y":"175"},{"@gid":"8","@x":"385","@y":"140"},{"@gid":"9","@x":"420","@y":"140"},{"@gid":"9","@x":"455","@y":"140"},{"@gid":"16","@x":"455","@y":"210"},{"@gid":"13","@x":"455","@y":"175"},{"@gid":"15","@x":"420","@y":"210"},{"@gid":"10","@x":"560","@y":"140"},{"@gid":"7","@x":"560","@y":"175"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"665","@y":"490"},{"@gid":"3","@x":"70","@y":"70"},{"@gid":"3","@x":"35","@y":"70"},{"@gid":"3","@x":"140","@y":"70"},{"@gid":"3","@x":"105","@y":"70"},{"@gid":"4","@x":"175","@y":"70"},{"@gid":"8","@x":"385","@y":"455"}]},{"@name":"active",object:[{"@gid":"23","@x":"115.333","@y":"456.666"},{"@gid":"33","@x":"613.333","@y":"226.333"},{"@gid":"33","@x":"53.3333","@y":"152.333"},{"@name":"k1","@type":"0","@gid":"17","@x":"524","@y":"457"},{"@name":"door1","@type":"5","@gid":"1073741843","@x":"287","@y":"455"},{"@name":"door3","@gid":"1073741843","@x":"417","@y":"181.334","@rotation":"270"},{"@gid":"1073741843","@x":"179","@y":"162.333","@rotation":"90"},{"@name":"k4","@type":"4","@gid":"17","@x":"32.6667","@y":"218.667","@rotation":"90"},{"@name":"k6","@type":"5","@gid":"17","@x":"112","@y":"317"},{"@type":"4","@gid":"1073741843","@x":"210","@y":"245","@rotation":"90"},{"@name":"door3","@type":"3","@gid":"1073741843","@x":"490.341","@y":"265.507","@rotation":"270"},{"@gid":"27","@x":"518.333","@y":"161.333",properties:{property:[{"@name":"delay","@value":"1"},{"@name":"maxAngle","@value":"100"},{"@name":"minAngle","@value":"80"},{"@name":"speedX","@value":"1"}]}},{"@type":"3","@gid":"18","@x":"407","@y":"421.166"},{"@name":"door3","@type":"3","@gid":"1073741843","@x":"568.666","@y":"245"},{"@gid":"41","@x":"222.5","@y":"161.666"},{"@gid":"33","@x":"240.667","@y":"442.667"}]},{"@name":"characters",object:[{"@gid":"24","@x":"598.333","@y":"458"},{"@gid":"25","@x":"140","@y":"245"}]},{"@name":"physics",object:[{"@x":"0","@y":"35","@width":"210","@height":"35"},{"@x":"0","@y":"70","@width":"35","@height":"455"},{"@x":"35","@y":"455","@width":"665","@height":"70"},{"@x":"385","@y":"420","@width":"70","@height":"35"},{"@x":"665","@y":"105","@width":"35","@height":"350"},{"@x":"560","@y":"245","@width":"105","@height":"35"},{"@x":"560","@y":"140","@width":"35","@height":"35"},{"@x":"385","@y":"105","@width":"210","@height":"35"},{"@x":"385","@y":"140","@width":"105","@height":"70"},{"@x":"280","@y":"245","@width":"210","@height":"35"},{"@x":"280","@y":"280","@width":"35","@height":"105"},{"@x":"70","@y":"315","@width":"210","@height":"35"},{"@x":"35","@y":"245","@width":"175","@height":"35"},{"@x":"35","@y":"175","@width":"175","@height":"35"},{"@x":"105","@y":"140","@width":"105","@height":"35"}]}]},{"@level":"16","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"158",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"17","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"9","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"30","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"97","@height":"69","@source":"Tip1Graphics.png"}},{"@id":"29",image:{"@width":"97","@height":"69","@source":"Tip2Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"50","@x":"230.833","@y":"421.25","@width":"38","@height":"19"},{"@id":"2","@gid":"43","@x":"175","@y":"311","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_16"}}},{"@id":"3","@gid":"60","@x":"44","@y":"109","@width":"53","@height":"58"},{"@id":"4","@gid":"63","@x":"608","@y":"133","@width":"42","@height":"49"},{"@id":"5","@gid":"49","@x":"490","@y":"420","@width":"125","@height":"58"},{"@id":"6","@gid":"59","@x":"133","@y":"420","@width":"42","@height":"69"},{"@id":"7","@gid":"58","@x":"612","@y":"245","@width":"60","@height":"86"}]},{"@name":"tiles",object:[{"@id":"8","@gid":"3","@x":"210","@y":"350","@width":"35","@height":"35"},{"@id":"9","@gid":"3","@x":"245","@y":"350","@width":"35","@height":"35"},{"@id":"10","@gid":"3","@x":"490","@y":"350","@width":"35","@height":"35"},{"@id":"11","@gid":"3","@x":"175","@y":"350","@width":"35","@height":"35"},{"@id":"12","@gid":"3","@x":"455","@y":"350","@width":"35","@height":"35"},{"@id":"13","@gid":"3","@x":"280","@y":"350","@width":"35","@height":"35"},{"@id":"14","@gid":"6","@x":"105","@y":"70","@width":"35","@height":"35"},{"@id":"15","@gid":"13","@x":"560","@y":"175","@width":"35","@height":"35"},{"@id":"16","@gid":"3","@x":"455","@y":"70","@width":"35","@height":"35"},{"@id":"17","@gid":"3","@x":"525","@y":"70","@width":"35","@height":"35"},{"@id":"18","@gid":"3","@x":"595","@y":"70","@width":"35","@height":"35"},{"@id":"19","@gid":"3","@x":"560","@y":"70","@width":"35","@height":"35"},{"@id":"20","@gid":"3","@x":"490","@y":"70","@width":"35","@height":"35"},{"@id":"21","@gid":"3","@x":"245","@y":"35","@width":"35","@height":"35"},{"@id":"22","@gid":"3","@x":"210","@y":"35","@width":"35","@height":"35"},{"@id":"23","@gid":"3","@x":"175","@y":"35","@width":"35","@height":"35"},{"@id":"24","@gid":"3","@x":"140","@y":"35","@width":"35","@height":"35"},{"@id":"25","@gid":"8","@x":"105","@y":"35","@width":"35","@height":"35"},{"@id":"26","@gid":"15","@x":"385","@y":"70","@width":"35","@height":"35"},{"@id":"27","@gid":"15","@x":"350","@y":"70","@width":"35","@height":"35"},{"@id":"28","@gid":"14","@x":"280","@y":"70","@width":"35","@height":"35"},{"@id":"29","@gid":"15","@x":"315","@y":"70","@width":"35","@height":"35"},{"@id":"30","@gid":"15","@x":"420","@y":"70","@width":"35","@height":"35"},{"@id":"31","@gid":"10","@x":"420","@y":"35","@width":"35","@height":"35"},{"@id":"32","@gid":"9","@x":"455","@y":"140","@width":"35","@height":"35"},{"@id":"33","@gid":"9","@x":"490","@y":"140","@width":"35","@height":"35"},{"@id":"34","@gid":"9","@x":"420","@y":"140","@width":"35","@height":"35"},{"@id":"35","@gid":"10","@x":"560","@y":"140","@width":"35","@height":"35"},{"@id":"36","@gid":"11","@x":"630","@y":"455","@width":"35","@height":"35"},{"@id":"37","@gid":"3","@x":"140","@y":"350","@width":"35","@height":"35"},{"@id":"38","@gid":"16","@x":"560","@y":"350","@width":"35","@height":"35"},{"@id":"39","@gid":"6","@x":"315","@y":"490","@width":"35","@height":"35"},{"@id":"40","@gid":"5","@x":"315","@y":"420","@width":"35","@height":"35"},{"@id":"41","@gid":"2","@x":"105","@y":"350","@width":"35","@height":"35"},{"@id":"42","@gid":"11","@x":"665","@y":"385","@width":"35","@height":"35"},{"@id":"43","@gid":"11","@x":"665","@y":"350","@width":"35","@height":"35"},{"@id":"44","@gid":"11","@x":"665","@y":"315","@width":"35","@height":"35"},{"@id":"45","@gid":"11","@x":"665","@y":"280","@width":"35","@height":"35"},{"@id":"46","@gid":"11","@x":"665","@y":"210","@width":"35","@height":"35"},{"@id":"47","@gid":"11","@x":"665","@y":"175","@width":"35","@height":"35"},{"@id":"48","@gid":"11","@x":"665","@y":"140","@width":"35","@height":"35"},{"@id":"49","@gid":"11","@x":"665","@y":"245","@width":"35","@height":"35"},{"@id":"50","@gid":"9","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"51","@gid":"9","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"52","@gid":"9","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"53","@gid":"9","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"54","@gid":"9","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"55","@gid":"8","@x":"630","@y":"420","@width":"35","@height":"35"},{"@id":"56","@gid":"12","@x":"665","@y":"420","@width":"35","@height":"35"},{"@id":"57","@gid":"12","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"58","@gid":"12","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"59","@gid":"9","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"60","@gid":"9","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"61","@gid":"9","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"62","@gid":"9","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"63","@gid":"9","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"64","@gid":"9","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"65","@gid":"9","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"66","@gid":"9","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"67","@gid":"9","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"68","@gid":"9","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"69","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"70","@gid":"13","@x":"0","@y":"455","@width":"35","@height":"35"},{"@id":"71","@gid":"13","@x":"0","@y":"420","@width":"35","@height":"35"},{"@id":"72","@gid":"13","@x":"0","@y":"385","@width":"35","@height":"35"},{"@id":"73","@gid":"13","@x":"0","@y":"350","@width":"35","@height":"35"},{"@id":"74","@gid":"13","@x":"0","@y":"315","@width":"35","@height":"35"},{"@id":"75","@gid":"13","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"76","@gid":"13","@x":"0","@y":"245","@width":"35","@height":"35"},{"@id":"77","@gid":"13","@x":"0","@y":"210","@width":"35","@height":"35"},{"@id":"78","@gid":"13","@x":"0","@y":"175","@width":"35","@height":"35"},{"@id":"79","@gid":"3","@x":"70","@y":"140","@width":"35","@height":"35"},{"@id":"80","@gid":"3","@x":"35","@y":"140","@width":"35","@height":"35"},{"@id":"81","@gid":"9","@x":"525","@y":"140","@width":"35","@height":"35"},{"@id":"82","@gid":"3","@x":"630","@y":"70","@width":"35","@height":"35"},{"@id":"83","@gid":"9","@x":"385","@y":"35","@width":"35","@height":"35"},{"@id":"84","@gid":"9","@x":"350","@y":"35","@width":"35","@height":"35"},{"@id":"85","@gid":"9","@x":"315","@y":"35","@width":"35","@height":"35"},{"@id":"86","@gid":"9","@x":"280","@y":"35","@width":"35","@height":"35"},{"@id":"87","@gid":"15","@x":"105","@y":"140","@width":"35","@height":"35"},{"@id":"88","@gid":"6","@x":"105","@y":"105","@width":"35","@height":"35"},{"@id":"89","@gid":"3","@x":"175","@y":"140","@width":"35","@height":"35"},{"@id":"90","@gid":"3","@x":"140","@y":"140","@width":"35","@height":"35"},{"@id":"91","@gid":"3","@x":"210","@y":"140","@width":"35","@height":"35"},{"@id":"92","@gid":"3","@x":"245","@y":"140","@width":"35","@height":"35"},{"@id":"93","@gid":"3","@x":"280","@y":"140","@width":"35","@height":"35"},{"@id":"94","@gid":"3","@x":"315","@y":"140","@width":"35","@height":"35"},{"@id":"95","@gid":"3","@x":"350","@y":"140","@width":"35","@height":"35"},{"@id":"96","@gid":"3","@x":"385","@y":"140","@width":"35","@height":"35"},{"@id":"97","@gid":"14","@x":"420","@y":"175","@width":"35","@height":"35"},{"@id":"98","@gid":"15","@x":"455","@y":"175","@width":"35","@height":"35"},{"@id":"99","@gid":"15","@x":"525","@y":"210","@width":"35","@height":"35"},{"@id":"100","@gid":"6","@x":"560","@y":"245","@width":"35","@height":"35"},{"@id":"101","@gid":"6","@x":"560","@y":"280","@width":"35","@height":"35"},{"@id":"102","@gid":"6","@x":"560","@y":"315","@width":"35","@height":"35"},{"@id":"103","@gid":"9","@x":"665","@y":"70","@width":"35","@height":"35"},{"@id":"104","@gid":"11","@x":"665","@y":"105","@width":"35","@height":"35"},{"@id":"105","@gid":"2","@x":"420","@y":"350","@width":"35","@height":"35"},{"@id":"106","@gid":"4","@x":"315","@y":"350","@width":"35","@height":"35"},{"@id":"107","@gid":"13","@x":"0","@y":"70","@width":"35","@height":"35"},{"@id":"108","@gid":"13","@x":"0","@y":"105","@width":"35","@height":"35"},{"@id":"109","@gid":"12","@x":"0","@y":"140","@width":"35","@height":"35"},{"@id":"110","@gid":"10","@x":"0","@y":"35","@width":"35","@height":"35"},{"@id":"111","@gid":"6","@x":"315","@y":"455","@width":"35","@height":"35"},{"@id":"112","@gid":"13","@x":"0","@y":"490","@width":"35","@height":"35"},{"@id":"113","@gid":"12","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"114","@gid":"11","@x":"630","@y":"490","@width":"35","@height":"35"},{"@id":"115","@gid":"12","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"116","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"117","@gid":"9","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"118","@gid":"3","@x":"525","@y":"350","@width":"35","@height":"35"},{"@id":"119","@gid":"12","@x":"490","@y":"175","@width":"35","@height":"35"},{"@id":"120","@gid":"13","@x":"560","@y":"210","@width":"35","@height":"35"},{"@id":"121","@gid":"12","@x":"525","@y":"175","@width":"35","@height":"35"},{"@id":"122","@gid":"14","@x":"490","@y":"210","@width":"35","@height":"35"},{"@id":"144","@x":"0","@y":"0","@width":"35","@height":"525"},{"@id":"145","@x":"35","@y":"490","@width":"665","@height":"35"},{"@id":"146","@x":"105","@y":"0","@width":"350","@height":"35"},{"@id":"147","@x":"280","@y":"35","@width":"420","@height":"35"},{"@id":"148","@x":"665","@y":"70","@width":"35","@height":"420"},{"@id":"149","@x":"630","@y":"385","@width":"35","@height":"105"},{"@id":"150","@x":"315","@y":"385","@width":"35","@height":"105"},{"@id":"151","@x":"105","@y":"315","@width":"245","@height":"35"},{"@id":"152","@x":"420","@y":"315","@width":"175","@height":"35"},{"@id":"153","@x":"35","@y":"105","@width":"560","@height":"35"},{"@id":"154","@x":"105","@y":"35","@width":"35","@height":"70"},{"@id":"155","@x":"420","@y":"140","@width":"175","@height":"35"},{"@id":"156","@x":"490","@y":"175","@width":"105","@height":"35"},{"@id":"157","@x":"560","@y":"210","@width":"35","@height":"105"}]},{"@name":"active",object:[{"@id":"123","@gid":"23","@x":"213.833","@y":"491.125","@width":"70","@height":"70"},{"@id":"124","@gid":"33","@x":"372","@y":"398","@width":"31","@height":"34"},{"@id":"125","@gid":"33","@x":"598","@y":"280","@width":"31","@height":"34"},{"@id":"126","@gid":"33","@x":"109.333","@y":"187.75","@width":"31","@height":"34"},{"@id":"127","@gid":"22","@x":"458","@y":"230.417","@width":"105","@height":"20",properties:{property:[{"@name":"distanceX","@value":"285"},{"@name":"speedX","@value":"-30"}]}},{"@id":"128","@gid":"17","@x":"154.333","@y":"104.75","@width":"24","@height":"11"},{"@id":"129","@gid":"27","@x":"337.333","@y":"157.75","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"1"},{"@name":"maxAngle","@value":"100"},{"@name":"minAngle","@value":"70"},{"@name":"speedX","@value":"1"}]}},{"@id":"130","@gid":"27","@x":"278.333","@y":"158.75","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"1"},{"@name":"maxAngle","@value":"100"},{"@name":"minAngle","@value":"70"},{"@name":"speedX","@value":"1"}]}},{"@id":"131","@gid":"27","@x":"218.333","@y":"158.75","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"1"},{"@name":"maxAngle","@value":"100"},{"@name":"minAngle","@value":"70"},{"@name":"speedX","@value":"1"}]}},{"@id":"132","@type":"2","@gid":"19","@x":"280","@y":"105","@width":"20","@height":"70"},{"@id":"133","@type":"2","@gid":"18","@x":"51","@y":"490","@width":"25","@height":"19"},{"@id":"134","@gid":"28","@x":"350","@y":"490","@width":"52","@height":"53"},{"@id":"135","@type":"4","@gid":"17","@x":"484.333","@y":"173.75","@width":"24","@height":"11","@rotation":"180"},{"@id":"136","@type":"4","@gid":"21","@x":"35","@y":"335","@width":"70","@height":"19",properties:{property:[{"@name":"distanceY","@value":"93"},{"@name":"speedY","@value":"45"}]}},{"@id":"137","@type":"2","@gid":"19","@x":"350","@y":"315","@width":"20","@height":"70","@rotation":"90"},{"@id":"138","@gid":"32","@x":"435.5","@y":"478.458","@width":"15","@height":"15"},{"@id":"139","@gid":"37","@x":"107","@y":"315","@width":"35","@height":"35"},{"@id":"140","@gid":"35","@x":"440","@y":"490","@width":"35","@height":"35"},{"@id":"141","@type":"2","@gid":"19","@x":"525","@y":"187","@width":"20","@height":"70","@rotation":"90"}]},{"@name":"characters",object:[{"@id":"142","@gid":"24","@x":"446.333","@y":"315.083","@width":"63","@height":"60"},{"@id":"143","@gid":"25","@x":"211.333","@y":"107.75","@width":"44","@height":"52"}]}]},{"@level":"17","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}},{"@id":"28",image:{"@width":"122","@height":"87","@source":"Tip6Graphics.png"}},{"@id":"29",image:{"@width":"122","@height":"87","@source":"Tip10Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"50","@x":"399","@y":"70"},{"@gid":"43","@x":"-9","@y":"170",properties:{property:{"@name":"text","@value":"level_text_17"}}},{"@gid":"66","@x":"79","@y":"385"},{"@gid":"68","@x":"525","@y":"490"},{"@gid":"64","@x":"315","@y":"358"},{"@gid":"63","@x":"452","@y":"238"},{"@gid":"46","@x":"525","@y":"175"}]},{"@name":"tiles",object:[{"@gid":"9","@x":"455","@y":"455"},{"@gid":"9","@x":"385","@y":"455"},{"@gid":"12","@x":"175","@y":"455"},{"@gid":"9","@x":"315","@y":"455"},{"@gid":"9","@x":"420","@y":"455"},{"@gid":"9","@x":"350","@y":"455"},{"@gid":"9","@x":"70","@y":"455"},{"@gid":"9","@x":"105","@y":"455"},{"@gid":"3","@x":"245","@y":"70"},{"@gid":"3","@x":"420","@y":"175"},{"@gid":"3","@x":"455","@y":"175"},{"@gid":"12","@x":"35","@y":"490"},{"@gid":"12","@x":"0","@y":"490"},{"@gid":"12","@x":"70","@y":"490"},{"@gid":"12","@x":"140","@y":"490"},{"@gid":"12","@x":"105","@y":"490"},{"@gid":"12","@x":"280","@y":"490"},{"@gid":"12","@x":"350","@y":"490"},{"@gid":"12","@x":"175","@y":"490"},{"@gid":"12","@x":"315","@y":"490"},{"@gid":"12","@x":"210","@y":"490"},{"@gid":"12","@x":"245","@y":"490"},{"@gid":"12","@x":"385","@y":"490"},{"@gid":"12","@x":"420","@y":"490"},{"@gid":"12","@x":"455","@y":"490"},{"@gid":"13","@x":"210","@y":"175"},{"@gid":"10","@x":"210","@y":"140"},{"@gid":"3","@x":"210","@y":"70"},{"@gid":"12","@x":"455","@y":"315"},{"@gid":"12","@x":"385","@y":"315"},{"@gid":"12","@x":"420","@y":"315"},{"@gid":"12","@x":"665","@y":"315"},{"@gid":"12","@x":"665","@y":"490"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"280","@y":"525"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"385","@y":"525"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"12","@x":"70","@y":"525"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"245","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"455","@y":"525"},{"@gid":"12","@x":"420","@y":"525"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"350","@y":"525"},{"@gid":"9","@x":"560","@y":"525"},{"@gid":"9","@x":"525","@y":"525"},{"@gid":"9","@x":"595","@y":"525"},{"@gid":"11","@x":"630","@y":"490"},{"@gid":"11","@x":"630","@y":"455"},{"@gid":"11","@x":"630","@y":"420"},{"@gid":"11","@x":"630","@y":"385"},{"@gid":"11","@x":"630","@y":"350"},{"@gid":"12","@x":"665","@y":"455"},{"@gid":"12","@x":"665","@y":"420"},{"@gid":"12","@x":"665","@y":"385"},{"@gid":"12","@x":"665","@y":"350"},{"@gid":"12","@x":"665","@y":"280"},{"@gid":"9","@x":"630","@y":"280"},{"@gid":"9","@x":"420","@y":"280"},{"@gid":"9","@x":"455","@y":"280"},{"@gid":"10","@x":"490","@y":"280"},{"@gid":"13","@x":"490","@y":"315"},{"@gid":"16","@x":"490","@y":"350"},{"@gid":"15","@x":"455","@y":"350"},{"@gid":"15","@x":"420","@y":"350"},{"@gid":"14","@x":"385","@y":"350"},{"@gid":"14","@x":"315","@y":"315"},{"@gid":"15","@x":"350","@y":"315"},{"@gid":"12","@x":"315","@y":"280"},{"@gid":"12","@x":"350","@y":"280"},{"@gid":"2","@x":"280","@y":"280"},{"@gid":"4","@x":"245","@y":"350"},{"@gid":"15","@x":"210","@y":"350"},{"@gid":"13","@x":"210","@y":"315"},{"@gid":"13","@x":"210","@y":"280"},{"@gid":"13","@x":"210","@y":"245"},{"@gid":"11","@x":"175","@y":"350"},{"@gid":"11","@x":"175","@y":"315"},{"@gid":"11","@x":"175","@y":"280"},{"@gid":"11","@x":"175","@y":"245"},{"@gid":"4","@x":"245","@y":"210"},{"@gid":"12","@x":"210","@y":"210"},{"@gid":"11","@x":"175","@y":"210"},{"@gid":"11","@x":"175","@y":"175"},{"@gid":"8","@x":"175","@y":"140"},{"@gid":"6","@x":"175","@y":"385"},{"@gid":"6","@x":"175","@y":"420"},{"@gid":"9","@x":"280","@y":"455"},{"@gid":"9","@x":"245","@y":"455"},{"@gid":"9","@x":"210","@y":"455"},{"@gid":"9","@x":"140","@y":"455"},{"@gid":"10","@x":"35","@y":"385"},{"@gid":"13","@x":"35","@y":"420"},{"@gid":"12","@x":"0","@y":"455"},{"@gid":"12","@x":"35","@y":"455"},{"@gid":"12","@x":"0","@y":"420"},{"@gid":"12","@x":"0","@y":"385"},{"@gid":"13","@x":"0","@y":"350"},{"@gid":"13","@x":"0","@y":"315"},{"@gid":"13","@x":"0","@y":"280"},{"@gid":"4","@x":"35","@y":"245"},{"@gid":"12","@x":"0","@y":"245"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"13","@x":"0","@y":"210"},{"@gid":"13","@x":"0","@y":"140"},{"@gid":"13","@x":"0","@y":"105"},{"@gid":"9","@x":"0","@y":"70"},{"@gid":"3","@x":"35","@y":"70"},{"@gid":"3","@x":"70","@y":"70"},{"@gid":"3","@x":"105","@y":"70"},{"@gid":"3","@x":"140","@y":"70"},{"@gid":"3","@x":"175","@y":"70"},{"@gid":"14","@x":"280","@y":"105"},{"@gid":"10","@x":"315","@y":"105"},{"@gid":"10","@x":"280","@y":"70"},{"@gid":"6","@x":"315","@y":"140"},{"@gid":"14","@x":"315","@y":"175"},{"@gid":"3","@x":"385","@y":"175"},{"@gid":"3","@x":"350","@y":"175"},{"@gid":"4","@x":"490","@y":"175"},{"@gid":"7","@x":"595","@y":"175"},{"@gid":"8","@x":"595","@y":"140"},{"@gid":"4","@x":"630","@y":"140"},{"@gid":"12","@x":"385","@y":"280"},{"@gid":"8","@x":"315","@y":"245"},{"@gid":"10","@x":"385","@y":"245"},{"@gid":"9","@x":"350","@y":"245"},{"@gid":"13","@x":"490","@y":"490"},{"@gid":"10","@x":"490","@y":"455"},{"@gid":"14","@x":"595","@y":"315"},{"@gid":"8","@x":"595","@y":"280"},{"@gid":"12","@x":"630","@y":"315"},{"@gid":"8","@x":"665","@y":"210"},{"@gid":"11","@x":"665","@y":"245"}]},{"@name":"active",object:[{"@gid":"23","@x":"384","@y":"140"},{"@gid":"33","@x":"633","@y":"178"},{"@gid":"33","@x":"596","@y":"353"},{"@gid":"33","@x":"175","@y":"35"},{"@type":"1","@gid":"17","@x":"249.5","@y":"176.5"},{"@type":"4","@gid":"19","@x":"420","@y":"350","@rotation":"180"},{"@type":"1","@gid":"19","@x":"212","@y":"169.167","@rotation":"270"},{"@gid":"35","@x":"212","@y":"106"},{"@type":"2","@gid":"17","@x":"285","@y":"247"},{"@type":"2","@gid":"19","@x":"347.5","@y":"222.167","@rotation":"90"},{"@type":"3","@gid":"17","@x":"250","@y":"315"},{"@type":"3","@gid":"19","@x":"211.833","@y":"311.5","@rotation":"270"},{"@gid":"30","@x":"435","@y":"422"},{"@type":"6","@gid":"21","@x":"525","@y":"440",properties:{property:[{"@name":"distanceY","@value":"280"},{"@name":"speedY","@value":"-40"}]}},{"@type":"4","@gid":"18","@x":"352","@y":"422"},{"@type":"6","@gid":"17","@x":"430","@y":"248"},{"@type":"5","@gid":"19","@x":"525","@y":"175","@rotation":"180"},{"@type":"5","@gid":"17","@x":"483","@y":"142"},{"@type":"6","@gid":"19","@x":"665","@y":"440","@rotation":"270"}]},{"@name":"characters",object:[{"@gid":"24","@x":"217.333","@y":"418.333"},{"@gid":"25","@x":"132.333","@y":"423.333"},{"@type":"5","@gid":"19","@x":"617","@y":"175","@rotation":"180"},{"@type":"4","@gid":"19","@x":"519","@y":"350","@rotation":"180"}]},{"@name":"physics",object:[{"@x":"0","@y":"35","@width":"315","@height":"35"},{"@x":"280","@y":"70","@width":"70","@height":"35"},{"@x":"315","@y":"105","@width":"35","@height":"70"},{"@x":"350","@y":"140","@width":"175","@height":"35"},{"@x":"595","@y":"105","@width":"70","@height":"35"},{"@x":"595","@y":"140","@width":"35","@height":"35"},{"@x":"665","@y":"175","@width":"35","@height":"350"},{"@x":"595","@y":"245","@width":"70","@height":"70"},{"@x":"630","@y":"315","@width":"35","@height":"210"},{"@x":"0","@y":"490","@width":"630","@height":"35"},{"@x":"0","@y":"420","@width":"525","@height":"70"},{"@x":"0","@y":"70","@width":"35","@height":"350"},{"@x":"35","@y":"350","@width":"35","@height":"70"},{"@x":"35","@y":"210","@width":"35","@height":"35"},{"@x":"175","@y":"105","@width":"70","@height":"245"},{"@x":"245","@y":"315","@width":"35","@height":"35"},{"@x":"245","@y":"175","@width":"35","@height":"35"},{"@x":"280","@y":"245","@width":"245","@height":"35"},{"@x":"315","@y":"210","@width":"105","@height":"35"},{"@x":"315","@y":"280","@width":"210","@height":"35"},{"@x":"385","@y":"315","@width":"140","@height":"35"},{"@x":"175","@y":"350","@width":"35","@height":"70"}]}]},{"@level":"18","@version":"1.0","@tiledversion":"1.0.3","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35","@nextobjectid":"162",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35","@tilecount":"16","@columns":"0",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73","@tilecount":"17","@columns":"0",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50","@tilecount":"10","@columns":"0",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"70","@height":"20","@source":"Plank7Graphics.png"}}]},{"@firstgid":"44","@name":"decor","@tilewidth":"232","@tileheight":"135","@tilecount":"28","@columns":"0",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png","@width":"700","@height":"525"}},objectgroup:[{"@name":"decorations",object:[{"@id":"1","@gid":"51","@x":"34.6667","@y":"70","@width":"38","@height":"19"},{"@id":"2","@gid":"44","@x":"215","@y":"231","@width":"232","@height":"79",properties:{property:{"@name":"text","@value":"level_text_18"}}},{"@id":"3","@gid":"60","@x":"508","@y":"423","@width":"42","@height":"69"},{"@id":"4","@gid":"67","@x":"300","@y":"418","@width":"62","@height":"135"},{"@id":"5","@gid":"68","@x":"175","@y":"455","@width":"48","@height":"45"},{"@id":"6","@gid":"53","@x":"600","@y":"448","@width":"18","@height":"22"}]},{"@name":"tiles",object:[{"@id":"7","@gid":"9","@x":"595","@y":"525","@width":"35","@height":"35"},{"@id":"8","@gid":"9","@x":"490","@y":"525","@width":"35","@height":"35"},{"@id":"9","@gid":"9","@x":"140","@y":"525","@width":"35","@height":"35"},{"@id":"10","@gid":"9","@x":"525","@y":"525","@width":"35","@height":"35"},{"@id":"11","@gid":"9","@x":"420","@y":"525","@width":"35","@height":"35"},{"@id":"12","@gid":"9","@x":"210","@y":"525","@width":"35","@height":"35"},{"@id":"13","@gid":"12","@x":"665","@y":"525","@width":"35","@height":"35"},{"@id":"14","@gid":"9","@x":"560","@y":"525","@width":"35","@height":"35"},{"@id":"15","@gid":"9","@x":"455","@y":"525","@width":"35","@height":"35"},{"@id":"16","@gid":"9","@x":"175","@y":"525","@width":"35","@height":"35"},{"@id":"17","@gid":"9","@x":"630","@y":"525","@width":"35","@height":"35"},{"@id":"18","@gid":"15","@x":"595","@y":"350","@width":"35","@height":"35"},{"@id":"19","@gid":"15","@x":"630","@y":"350","@width":"35","@height":"35"},{"@id":"20","@gid":"12","@x":"0","@y":"525","@width":"35","@height":"35"},{"@id":"21","@gid":"11","@x":"665","@y":"455","@width":"35","@height":"35"},{"@id":"22","@gid":"11","@x":"665","@y":"420","@width":"35","@height":"35"},{"@id":"23","@gid":"11","@x":"665","@y":"385","@width":"35","@height":"35"},{"@id":"24","@gid":"9","@x":"105","@y":"525","@width":"35","@height":"35"},{"@id":"25","@gid":"9","@x":"210","@y":"175","@width":"35","@height":"35"},{"@id":"26","@gid":"10","@x":"245","@y":"175","@width":"35","@height":"35"},{"@id":"27","@gid":"13","@x":"245","@y":"210","@width":"35","@height":"35"},{"@id":"28","@gid":"12","@x":"210","@y":"210","@width":"35","@height":"35"},{"@id":"29","@gid":"14","@x":"175","@y":"385","@width":"35","@height":"35"},{"@id":"30","@gid":"3","@x":"210","@y":"385","@width":"35","@height":"35"},{"@id":"31","@gid":"10","@x":"245","@y":"385","@width":"35","@height":"35"},{"@id":"32","@gid":"7","@x":"245","@y":"420","@width":"35","@height":"35"},{"@id":"33","@gid":"8","@x":"385","@y":"175","@width":"35","@height":"35"},{"@id":"34","@gid":"14","@x":"385","@y":"210","@width":"35","@height":"35"},{"@id":"35","@gid":"9","@x":"420","@y":"175","@width":"35","@height":"35"},{"@id":"36","@gid":"15","@x":"420","@y":"210","@width":"35","@height":"35"},{"@id":"37","@gid":"5","@x":"525","@y":"140","@width":"35","@height":"35"},{"@id":"38","@gid":"2","@x":"595","@y":"245","@width":"35","@height":"35"},{"@id":"39","@gid":"11","@x":"665","@y":"210","@width":"35","@height":"35"},{"@id":"40","@gid":"8","@x":"665","@y":"140","@width":"35","@height":"35"},{"@id":"41","@gid":"12","@x":"665","@y":"350","@width":"35","@height":"35"},{"@id":"42","@gid":"9","@x":"595","@y":"315","@width":"35","@height":"35"},{"@id":"43","@gid":"9","@x":"630","@y":"315","@width":"35","@height":"35"},{"@id":"44","@gid":"4","@x":"595","@y":"420","@width":"35","@height":"35"},{"@id":"45","@gid":"13","@x":"455","@y":"385","@width":"35","@height":"35"},{"@id":"46","@gid":"13","@x":"455","@y":"420","@width":"35","@height":"35"},{"@id":"47","@gid":"9","@x":"420","@y":"385","@width":"35","@height":"35"},{"@id":"48","@gid":"8","@x":"385","@y":"385","@width":"35","@height":"35"},{"@id":"49","@gid":"14","@x":"385","@y":"420","@width":"35","@height":"35"},{"@id":"50","@gid":"15","@x":"420","@y":"420","@width":"35","@height":"35"},{"@id":"51","@gid":"3","@x":"560","@y":"175","@width":"35","@height":"35"},{"@id":"52","@gid":"4","@x":"595","@y":"175","@width":"35","@height":"35"},{"@id":"53","@gid":"9","@x":"245","@y":"525","@width":"35","@height":"35"},{"@id":"54","@gid":"9","@x":"315","@y":"525","@width":"35","@height":"35"},{"@id":"55","@gid":"9","@x":"280","@y":"525","@width":"35","@height":"35"},{"@id":"56","@gid":"16","@x":"490","@y":"245","@width":"35","@height":"35"},{"@id":"57","@gid":"13","@x":"490","@y":"210","@width":"35","@height":"35"},{"@id":"58","@gid":"14","@x":"455","@y":"245","@width":"35","@height":"35"},{"@id":"59","@gid":"9","@x":"455","@y":"175","@width":"35","@height":"35"},{"@id":"60","@gid":"9","@x":"490","@y":"175","@width":"35","@height":"35"},{"@id":"61","@gid":"12","@x":"455","@y":"210","@width":"35","@height":"35"},{"@id":"62","@gid":"12","@x":"665","@y":"315","@width":"35","@height":"35"},{"@id":"63","@gid":"12","@x":"665","@y":"245","@width":"35","@height":"35"},{"@id":"64","@gid":"11","@x":"665","@y":"280","@width":"35","@height":"35"},{"@id":"65","@gid":"11","@x":"665","@y":"175","@width":"35","@height":"35"},{"@id":"66","@gid":"9","@x":"560","@y":"315","@width":"35","@height":"35"},{"@id":"67","@gid":"8","@x":"455","@y":"315","@width":"35","@height":"35"},{"@id":"68","@gid":"11","@x":"455","@y":"350","@width":"35","@height":"35"},{"@id":"69","@gid":"15","@x":"560","@y":"350","@width":"35","@height":"35"},{"@id":"70","@gid":"15","@x":"525","@y":"350","@width":"35","@height":"35"},{"@id":"71","@gid":"15","@x":"490","@y":"350","@width":"35","@height":"35"},{"@id":"72","@gid":"9","@x":"525","@y":"315","@width":"35","@height":"35"},{"@id":"73","@gid":"9","@x":"490","@y":"315","@width":"35","@height":"35"},{"@id":"74","@gid":"3","@x":"630","@y":"245","@width":"35","@height":"35"},{"@id":"75","@gid":"15","@x":"525","@y":"175","@width":"35","@height":"35"},{"@id":"76","@gid":"8","@x":"560","@y":"420","@width":"35","@height":"35"},{"@id":"77","@gid":"7","@x":"560","@y":"455","@width":"35","@height":"35"},{"@id":"78","@gid":"7","@x":"455","@y":"455","@width":"35","@height":"35"},{"@id":"79","@gid":"13","@x":"70","@y":"455","@width":"35","@height":"35"},{"@id":"80","@gid":"11","@x":"665","@y":"490","@width":"35","@height":"35"},{"@id":"81","@gid":"13","@x":"70","@y":"490","@width":"35","@height":"35"},{"@id":"82","@gid":"12","@x":"35","@y":"525","@width":"35","@height":"35"},{"@id":"83","@gid":"12","@x":"35","@y":"490","@width":"35","@height":"35"},{"@id":"84","@gid":"12","@x":"35","@y":"455","@width":"35","@height":"35"},{"@id":"85","@gid":"12","@x":"70","@y":"525","@width":"35","@height":"35"},{"@id":"86","@gid":"12","@x":"0","@y":"490","@width":"35","@height":"35"},{"@id":"87","@gid":"12","@x":"0","@y":"455","@width":"35","@height":"35"},{"@id":"88","@gid":"9","@x":"385","@y":"525","@width":"35","@height":"35"},{"@id":"89","@gid":"9","@x":"350","@y":"525","@width":"35","@height":"35"},{"@id":"90","@gid":"13","@x":"70","@y":"385","@width":"35","@height":"35"},{"@id":"91","@gid":"12","@x":"0","@y":"385","@width":"35","@height":"35"},{"@id":"92","@gid":"12","@x":"35","@y":"385","@width":"35","@height":"35"},{"@id":"93","@gid":"13","@x":"70","@y":"420","@width":"35","@height":"35"},{"@id":"94","@gid":"12","@x":"0","@y":"420","@width":"35","@height":"35"},{"@id":"95","@gid":"12","@x":"35","@y":"420","@width":"35","@height":"35"},{"@id":"96","@gid":"13","@x":"70","@y":"315","@width":"35","@height":"35"},{"@id":"97","@gid":"12","@x":"0","@y":"315","@width":"35","@height":"35"},{"@id":"98","@gid":"12","@x":"35","@y":"315","@width":"35","@height":"35"},{"@id":"99","@gid":"13","@x":"70","@y":"350","@width":"35","@height":"35"},{"@id":"100","@gid":"12","@x":"0","@y":"350","@width":"35","@height":"35"},{"@id":"101","@gid":"12","@x":"35","@y":"350","@width":"35","@height":"35"},{"@id":"102","@gid":"13","@x":"70","@y":"245","@width":"35","@height":"35"},{"@id":"103","@gid":"12","@x":"0","@y":"245","@width":"35","@height":"35"},{"@id":"104","@gid":"12","@x":"35","@y":"245","@width":"35","@height":"35"},{"@id":"105","@gid":"13","@x":"70","@y":"280","@width":"35","@height":"35"},{"@id":"106","@gid":"12","@x":"0","@y":"280","@width":"35","@height":"35"},{"@id":"107","@gid":"12","@x":"35","@y":"280","@width":"35","@height":"35"},{"@id":"108","@gid":"13","@x":"70","@y":"210","@width":"35","@height":"35"},{"@id":"109","@gid":"12","@x":"35","@y":"210","@width":"35","@height":"35"},{"@id":"110","@gid":"12","@x":"0","@y":"210","@width":"35","@height":"35"},{"@id":"111","@gid":"9","@x":"35","@y":"175","@width":"35","@height":"35"},{"@id":"112","@gid":"9","@x":"0","@y":"175","@width":"35","@height":"35"},{"@id":"113","@gid":"10","@x":"70","@y":"175","@width":"35","@height":"35"},{"@id":"114","@gid":"8","@x":"175","@y":"175","@width":"35","@height":"35"},{"@id":"115","@gid":"11","@x":"175","@y":"210","@width":"35","@height":"35"},{"@id":"116","@gid":"6","@x":"175","@y":"245","@width":"35","@height":"35"},{"@id":"117","@gid":"6","@x":"175","@y":"280","@width":"35","@height":"35"},{"@id":"118","@gid":"6","@x":"175","@y":"315","@width":"35","@height":"35"},{"@id":"119","@gid":"6","@x":"175","@y":"350","@width":"35","@height":"35"}]},{"@name":"physics",object:[{"@id":"145","@x":"0","@y":"140","@width":"105","@height":"350"},{"@id":"146","@x":"0","@y":"490","@width":"700","@height":"35"},{"@id":"147","@x":"665","@y":"105","@width":"35","@height":"385"},{"@id":"148","@x":"175","@y":"140","@width":"105","@height":"70"},{"@id":"149","@x":"175","@y":"210","@width":"35","@height":"175"},{"@id":"150","@x":"210","@y":"350","@width":"70","@height":"35"},{"@id":"151","@x":"245","@y":"385","@width":"35","@height":"35"},{"@id":"152","@x":"385","@y":"350","@width":"70","@height":"70"},{"@id":"153","@x":"455","@y":"280","@width":"210","@height":"70"},{"@id":"154","@x":"455","@y":"350","@width":"35","@height":"105"},{"@id":"155","@x":"560","@y":"385","@width":"70","@height":"35"},{"@id":"156","@x":"560","@y":"420","@width":"35","@height":"35"},{"@id":"157","@x":"595","@y":"210","@width":"70","@height":"35"},{"@id":"158","@x":"385","@y":"140","@width":"245","@height":"35"},{"@id":"159","@x":"525","@y":"105","@width":"35","@height":"35"},{"@id":"160","@x":"385","@y":"175","@width":"140","@height":"35"},{"@id":"161","@x":"455","@y":"210","@width":"70","@height":"35"}]},{"@name":"active",object:[{"@id":"120","@gid":"23","@x":"19.6667","@y":"140.666","@width":"70","@height":"70"},{"@id":"121","@gid":"33","@x":"488","@y":"279","@width":"31","@height":"34"},{"@id":"122","@gid":"33","@x":"630","@y":"388","@width":"31","@height":"34"},{"@id":"123","@gid":"33","@x":"315","@y":"280","@width":"31","@height":"34"},{"@id":"124","@gid":"35","@x":"455","@y":"490","@width":"35","@height":"35"},{"@id":"125","@gid":"27","@x":"444.167","@y":"244","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"0"},{"@name":"minAngle","@value":"0"},{"@name":"speedX","@value":"1"}]}},{"@id":"126","@name":"k1","@type":"3","@gid":"17","@x":"113","@y":"491.333","@width":"24","@height":"11"},{"@id":"127","@gid":"27","@x":"445.167","@y":"310","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"0"},{"@name":"minAngle","@value":"0"},{"@name":"speedX","@value":"1"}]}},{"@id":"128","@gid":"27","@x":"197.333","@y":"278.5","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"180"},{"@name":"minAngle","@value":"180"},{"@name":"speedX","@value":"1"}]}},{"@id":"129","@gid":"27","@x":"197","@y":"341.5","@width":"32","@height":"22",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"180"},{"@name":"minAngle","@value":"180"},{"@name":"speedX","@value":"1"}]}},{"@id":"130","@gid":"20","@x":"259","@y":"280","@width":"20","@height":"70"},{"@id":"131","@gid":"18","@x":"634.666","@y":"282.334","@width":"25","@height":"19"},{"@id":"132","@gid":"20","@x":"279","@y":"279.5","@width":"20","@height":"70","@rotation":"180"},{"@id":"133","@type":"2","@gid":"20","@x":"405.167","@y":"280.166","@width":"20","@height":"70","@rotation":"180"},{"@id":"134","@type":"2","@gid":"20","@x":"385.167","@y":"280.5","@width":"20","@height":"70"},{"@id":"135","@type":"2","@gid":"18","@x":"596.167","@y":"385","@width":"25","@height":"19"},{"@id":"136","@type":"2","@gid":"19","@x":"405","@y":"140","@width":"20","@height":"70","@rotation":"180"},{"@id":"137","@gid":"19","@x":"279","@y":"140","@width":"20","@height":"70","@rotation":"180"},{"@id":"138","@type":"2","@gid":"19","@x":"385","@y":"420","@width":"20","@height":"70"},{"@id":"139","@gid":"19","@x":"259","@y":"420","@width":"20","@height":"70"},{"@id":"140","@type":"6","@gid":"20","@x":"457","@y":"297","@width":"20","@height":"70"},{"@id":"141","@type":"3","@gid":"19","@x":"175","@y":"140","@width":"20","@height":"70","@rotation":"90"}]},{"@name":"characters",object:[{"@id":"142","@gid":"24","@x":"302.333","@y":"488.667","@width":"63","@height":"60"},{"@id":"143","@gid":"25","@x":"197","@y":"140","@width":"44","@height":"52"},{"@id":"144","@type":"3","@gid":"22","@x":"279.667","@y":"510.333","@width":"105","@height":"20",properties:{property:[{"@name":"distanceX","@value":"0"},{"@name":"distanceY","@value":"350"},{"@name":"speedX","@value":"0"},{"@name":"speedY","@value":"-30"}]}}]}]},{"@level":"19","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}},{"@id":"17",image:{"@width":"50","@height":"29","@source":"TurrelGraphics.png"}}]},{"@firstgid":"35","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank4Graphics.png"}}]},{"@firstgid":"45","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"52","@x":"90","@y":"387"},{"@gid":"45","@x":"175","@y":"140",properties:{property:{"@name":"text","@value":"level_text_19"}}},{"@gid":"51","@x":"531","@y":"350"},{"@gid":"59","@x":"630","@y":"140"},{"@gid":"64","@x":"582","@y":"210"},{"@gid":"61","@x":"254","@y":"459"},{"@gid":"58","@x":"294","@y":"280"},{"@gid":"57","@x":"350","@y":"175"}]},{"@name":"tiles",object:[{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"35","@y":"525"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"210","@y":"350"},{"@gid":"12","@x":"0","@y":"245"},{"@gid":"12","@x":"0","@y":"175"},{"@gid":"12","@x":"0","@y":"280"},{"@gid":"12","@x":"70","@y":"525"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"455","@y":"525"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"12","@x":"455","@y":"210"},{"@gid":"12","@x":"420","@y":"245"},{"@gid":"12","@x":"455","@y":"245"},{"@gid":"2","@x":"140","@y":"245"},{"@gid":"3","@x":"210","@y":"245"},{"@gid":"3","@x":"245","@y":"245"},{"@gid":"3","@x":"280","@y":"245"},{"@gid":"3","@x":"315","@y":"245"},{"@gid":"3","@x":"350","@y":"245"},{"@gid":"14","@x":"385","@y":"280"},{"@gid":"15","@x":"420","@y":"280"},{"@gid":"15","@x":"455","@y":"280"},{"@gid":"6","@x":"490","@y":"315"},{"@gid":"6","@x":"490","@y":"350"},{"@gid":"7","@x":"490","@y":"385"},{"@gid":"13","@x":"490","@y":"245"},{"@gid":"4","@x":"595","@y":"280"},{"@gid":"4","@x":"595","@y":"175"},{"@gid":"3","@x":"525","@y":"175"},{"@gid":"9","@x":"490","@y":"175"},{"@gid":"9","@x":"455","@y":"175"},{"@gid":"6","@x":"420","@y":"140"},{"@gid":"6","@x":"420","@y":"105"},{"@gid":"5","@x":"420","@y":"70"},{"@gid":"11","@x":"420","@y":"175"},{"@gid":"11","@x":"420","@y":"210"},{"@gid":"9","@x":"385","@y":"245"},{"@gid":"3","@x":"70","@y":"175"},{"@gid":"3","@x":"210","@y":"175"},{"@gid":"3","@x":"140","@y":"175"},{"@gid":"3","@x":"175","@y":"175"},{"@gid":"3","@x":"105","@y":"175"},{"@gid":"3","@x":"245","@y":"175"},{"@gid":"4","@x":"280","@y":"175"},{"@gid":"13","@x":"0","@y":"140"},{"@gid":"13","@x":"0","@y":"105"},{"@gid":"13","@x":"0","@y":"70"},{"@gid":"13","@x":"0","@y":"35"},{"@gid":"3","@x":"35","@y":"175"},{"@gid":"13","@x":"0","@y":"210"},{"@gid":"10","@x":"35","@y":"245"},{"@gid":"13","@x":"35","@y":"280"},{"@gid":"15","@x":"35","@y":"315"},{"@gid":"3","@x":"70","@y":"315"},{"@gid":"3","@x":"105","@y":"315"},{"@gid":"3","@x":"140","@y":"315"},{"@gid":"9","@x":"175","@y":"315"},{"@gid":"9","@x":"210","@y":"315"},{"@gid":"10","@x":"245","@y":"315"},{"@gid":"13","@x":"245","@y":"350"},{"@gid":"11","@x":"175","@y":"350"},{"@gid":"14","@x":"175","@y":"385"},{"@gid":"15","@x":"210","@y":"385"},{"@gid":"15","@x":"245","@y":"385"},{"@gid":"3","@x":"280","@y":"385"},{"@gid":"3","@x":"315","@y":"385"},{"@gid":"3","@x":"350","@y":"385"},{"@gid":"4","@x":"385","@y":"385"},{"@gid":"9","@x":"455","@y":"490"},{"@gid":"9","@x":"490","@y":"490"},{"@gid":"9","@x":"525","@y":"490"},{"@gid":"9","@x":"560","@y":"490"},{"@gid":"8","@x":"385","@y":"490"},{"@gid":"7","@x":"595","@y":"420"},{"@gid":"8","@x":"595","@y":"385"},{"@gid":"3","@x":"630","@y":"385"},{"@gid":"10","@x":"210","@y":"490"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"9","@x":"280","@y":"525"},{"@gid":"9","@x":"315","@y":"525"},{"@gid":"9","@x":"350","@y":"525"},{"@gid":"12","@x":"385","@y":"525"},{"@gid":"9","@x":"630","@y":"525"},{"@gid":"9","@x":"35","@y":"490"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"9","@x":"70","@y":"490"},{"@gid":"9","@x":"105","@y":"490"},{"@gid":"9","@x":"175","@y":"490"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"13","@x":"0","@y":"350"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"13","@x":"0","@y":"455"},{"@gid":"12","@x":"0","@y":"315"},{"@gid":"12","@x":"0","@y":"490"},{"@gid":"3","@x":"175","@y":"245"},{"@gid":"9","@x":"595","@y":"490"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"12","@x":"420","@y":"525"},{"@gid":"9","@x":"420","@y":"490"},{"@gid":"3","@x":"560","@y":"175"},{"@gid":"3","@x":"525","@y":"280"},{"@gid":"3","@x":"560","@y":"280"},{"@gid":"13","@x":"490","@y":"210"},{"@gid":"12","@x":"490","@y":"280"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"11","@x":"665","@y":"490"},{"@gid":"8","@x":"665","@y":"455"},{"@gid":"3","@x":"665","@y":"385"},{"@gid":"37","@x":"525","@y":"245"}]},{"@name":"active",object:[{"@gid":"23","@x":"75","@y":"457"},{"@gid":"33","@x":"306","@y":"441"},{"@gid":"33","@x":"668","@y":"418"},{"@type":"6","@gid":"21","@x":"630","@y":"266",properties:{property:[{"@name":"distanceY","@value":"105"},{"@name":"speedY","@value":"-50"}]}},{"@gid":"2147483682","@x":"35","@y":"210"},{"@gid":"33","@x":"344","@y":"281"},{"@gid":"17","@x":"309","@y":"493"},{"@gid":"28","@x":"314","@y":"350"},{"@gid":"32","@x":"416","@y":"334"},{"@type":"3","@gid":"19","@x":"186","@y":"421"},{"@gid":"27","@x":"442","@y":"302",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"110"},{"@name":"minAngle","@value":"80"}]}},{"@gid":"20","@x":"420","@y":"352","@rotation":"90"},{"@type":"3","@gid":"17","@x":"634","@y":"490"},{"@type":"2","@gid":"17","@x":"72","@y":"281"},{"@type":"2","@gid":"19","@x":"69","@y":"267","@rotation":"270"},{"@type":"5","@gid":"19","@x":"206","@y":"420","@rotation":"180"},{"@type":"6","@gid":"17","@x":"385","@y":"212"},{"@type":"5","@gid":"17","@x":"444","@y":"457"}]},{"@name":"characters",object:[{"@gid":"24","@x":"498","@y":"139"},{"@gid":"25","@x":"70","@y":"140"}]},{"@name":"physics",object:[{"@x":"0","@y":"490","@width":"700","@height":"35"},{"@x":"665","@y":"420","@width":"35","@height":"70"},{"@x":"595","@y":"350","@width":"105","@height":"35"},{"@x":"595","@y":"385","@width":"35","@height":"35"},{"@x":"385","@y":"455","@width":"245","@height":"35"},{"@x":"0","@y":"455","@width":"245","@height":"35"},{"@x":"0","@y":"0","@width":"35","@height":"455"},{"@x":"35","@y":"140","@width":"280","@height":"35"},{"@x":"35","@y":"210","@width":"35","@height":"105"},{"@x":"70","@y":"280","@width":"210","@height":"35"},{"@x":"175","@y":"315","@width":"105","@height":"70"},{"@x":"280","@y":"350","@width":"140","@height":"35"},{"@x":"140","@y":"210","@width":"280","@height":"35"},{"@x":"385","@y":"245","@width":"245","@height":"35"},{"@x":"420","@y":"35","@width":"35","@height":"210"},{"@x":"455","@y":"140","@width":"175","@height":"35"},{"@x":"490","@y":"280","@width":"35","@height":"105"},{"@x":"455","@y":"175","@width":"70","@height":"70"}]}]},{"@level":"20","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}},{"@id":"17",image:{"@width":"50","@height":"29","@source":"TurrelGraphics.png"}},{"@id":"18",image:{"@width":"58","@height":"58","@source":"DadGraphics.png"}}]},{"@firstgid":"36","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}},{"@id":"9",image:{"@width":"100","@height":"20","@source":"Plank4Graphics.png"}}]},{"@firstgid":"46","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"46","@x":"275","@y":"170",properties:{property:{"@name":"text","@value":"level_text_20"}}},{"@gid":"50","@x":"560","@y":"315"},{"@gid":"58","@x":"469","@y":"105"},{"@gid":"61","@x":"83","@y":"315"},{"@gid":"71","@x":"140","@y":"347"},{"@gid":"72","@x":"0","@y":"488"},{"@gid":"51","@x":"455","@y":"350"}]},{"@name":"tiles",object:[{"@gid":"12","@x":"455","@y":"525"},{"@gid":"12","@x":"280","@y":"525"},{"@gid":"12","@x":"315","@y":"525"},{"@gid":"12","@x":"245","@y":"525"},{"@gid":"12","@x":"105","@y":"525"},{"@gid":"12","@x":"525","@y":"525"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"12","@x":"420","@y":"525"},{"@gid":"12","@x":"490","@y":"490"},{"@gid":"12","@x":"490","@y":"525"},{"@gid":"12","@x":"245","@y":"245"},{"@gid":"12","@x":"0","@y":"350"},{"@gid":"12","@x":"595","@y":"525"},{"@gid":"12","@x":"560","@y":"525"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"12","@x":"630","@y":"525"},{"@gid":"10","@x":"35","@y":"315"},{"@gid":"9","@x":"0","@y":"315"},{"@gid":"13","@x":"35","@y":"350"},{"@gid":"15","@x":"0","@y":"385"},{"@gid":"15","@x":"35","@y":"385"},{"@gid":"3","@x":"70","@y":"385"},{"@gid":"3","@x":"105","@y":"385"},{"@gid":"3","@x":"140","@y":"385"},{"@gid":"3","@x":"175","@y":"385"},{"@gid":"3","@x":"210","@y":"385"},{"@gid":"3","@x":"280","@y":"385"},{"@gid":"4","@x":"315","@y":"385"},{"@gid":"15","@x":"245","@y":"385"},{"@gid":"6","@x":"245","@y":"350"},{"@gid":"6","@x":"245","@y":"315"},{"@gid":"6","@x":"245","@y":"280"},{"@gid":"2","@x":"560","@y":"280"},{"@gid":"10","@x":"595","@y":"280"},{"@gid":"14","@x":"595","@y":"315"},{"@gid":"3","@x":"630","@y":"315"},{"@gid":"3","@x":"665","@y":"315"},{"@gid":"14","@x":"140","@y":"245"},{"@gid":"15","@x":"175","@y":"245"},{"@gid":"15","@x":"210","@y":"245"},{"@gid":"8","@x":"140","@y":"210"},{"@gid":"9","@x":"175","@y":"210"},{"@gid":"9","@x":"210","@y":"210"},{"@gid":"10","@x":"245","@y":"210"},{"@gid":"3","@x":"315","@y":"245"},{"@gid":"3","@x":"280","@y":"245"},{"@gid":"8","@x":"350","@y":"210"},{"@gid":"10","@x":"385","@y":"210"},{"@gid":"15","@x":"350","@y":"245"},{"@gid":"15","@x":"385","@y":"245"},{"@gid":"3","@x":"420","@y":"245"},{"@gid":"3","@x":"455","@y":"245"},{"@gid":"8","@x":"490","@y":"210"},{"@gid":"8","@x":"525","@y":"175"},{"@gid":"8","@x":"560","@y":"140"},{"@gid":"4","@x":"595","@y":"140"},{"@gid":"13","@x":"560","@y":"175"},{"@gid":"16","@x":"560","@y":"210"},{"@gid":"15","@x":"525","@y":"210"},{"@gid":"2","@x":"630","@y":"210"},{"@gid":"8","@x":"665","@y":"140"},{"@gid":"11","@x":"665","@y":"175"},{"@gid":"15","@x":"665","@y":"210"},{"@gid":"3","@x":"175","@y":"105"},{"@gid":"3","@x":"140","@y":"105"},{"@gid":"3","@x":"105","@y":"105"},{"@gid":"3","@x":"70","@y":"105"},{"@gid":"3","@x":"35","@y":"105"},{"@gid":"3","@x":"0","@y":"105"},{"@gid":"4","@x":"210","@y":"105"},{"@gid":"4","@x":"35","@y":"210"},{"@gid":"3","@x":"0","@y":"210"},{"@gid":"10","@x":"490","@y":"385"},{"@gid":"2","@x":"420","@y":"385"},{"@gid":"3","@x":"455","@y":"385"},{"@gid":"9","@x":"665","@y":"490"},{"@gid":"9","@x":"630","@y":"490"},{"@gid":"9","@x":"595","@y":"490"},{"@gid":"9","@x":"560","@y":"490"},{"@gid":"9","@x":"525","@y":"490"},{"@gid":"6","@x":"490","@y":"420"},{"@gid":"6","@x":"490","@y":"455"},{"@gid":"9","@x":"455","@y":"490"},{"@gid":"8","@x":"420","@y":"490"},{"@gid":"9","@x":"350","@y":"525"},{"@gid":"9","@x":"385","@y":"525"},{"@gid":"10","@x":"315","@y":"490"},{"@gid":"9","@x":"280","@y":"490"},{"@gid":"9","@x":"245","@y":"490"},{"@gid":"9","@x":"210","@y":"490"},{"@gid":"9","@x":"175","@y":"490"},{"@gid":"9","@x":"140","@y":"490"},{"@gid":"8","@x":"105","@y":"490"},{"@gid":"9","@x":"70","@y":"525"},{"@gid":"9","@x":"35","@y":"525"},{"@gid":"9","@x":"0","@y":"525"},{"@gid":"16","@x":"490","@y":"245"}]},{"@name":"active",object:[{"@gid":"33","@x":"439","@y":"205"},{"@gid":"33","@x":"370","@y":"289"},{"@type":"5","@gid":"21","@x":"350","@y":"474",properties:{property:[{"@name":"distanceY","@value":"105"},{"@name":"speedY","@value":"-45"}]}},{"@gid":"33","@x":"652","@y":"266"},{"@gid":"19","@x":"264","@y":"526"},{"@type":"2","@gid":"18","@x":"315","@y":"458"},{"@type":"4","@gid":"19","@x":"422","@y":"524"},{"@type":"3","@gid":"17","@x":"218","@y":"455"},{"@gid":"17","@x":"23","@y":"281"},{"@type":"2","@gid":"19","@x":"246","@y":"105","@rotation":"180"},{"@type":"5","@gid":"17","@x":"303","@y":"211"},{"@gid":"34","@x":"512","@y":"140"},{"@gid":"34","@x":"478","@y":"175"},{"@type":"3","@gid":"21","@x":"69","@y":"194",properties:{property:[{"@name":"distanceY","@value":"140"},{"@name":"speedY","@value":"35"}]}},{"@type":"4","@gid":"18","@x":"25","@y":"174"},{"@gid":"26","@x":"133","@y":"456"},{"@gid":"27","@x":"477","@y":"436",properties:{property:[{"@name":"delay","@value":"0"},{"@name":"maxAngle","@value":"0"},{"@name":"minAngle","@value":"0"}]}},{"@type":"4","@gid":"20","@x":"442","@y":"386","@rotation":"180"},{"@gid":"29","@x":"533","@y":"455"},{"@gid":"32","@x":"599","@y":"435"},{"@gid":"39","@x":"281","@y":"350"}]},{"@name":"characters",object:[{"@gid":"24","@x":"35","@y":"490"},{"@gid":"25","@x":"157","@y":"350"},{"@gid":"35","@x":"620","@y":"455"}]},{"@name":"physics",object:[{"@x":"0","@y":"490","@width":"700","@height":"35"},{"@x":"105","@y":"455","@width":"245","@height":"35"},{"@x":"420","@y":"455","@width":"280","@height":"35"},{"@x":"420","@y":"350","@width":"105","@height":"35"},{"@x":"490","@y":"385","@width":"35","@height":"70"},{"@x":"0","@y":"350","@width":"350","@height":"35"},{"@x":"0","@y":"280","@width":"70","@height":"70"},{"@x":"245","@y":"245","@width":"35","@height":"105"},{"@x":"0","@y":"175","@width":"70","@height":"35"},{"@x":"0","@y":"70","@width":"245","@height":"35"},{"@x":"140","@y":"175","@width":"140","@height":"70"},{"@x":"280","@y":"210","@width":"245","@height":"35"},{"@x":"350","@y":"175","@width":"70","@height":"35"},{"@x":"490","@y":"175","@width":"105","@height":"35"},{"@x":"525","@y":"140","@width":"70","@height":"35"},{"@x":"560","@y":"105","@width":"70","@height":"35"},{"@x":"630","@y":"175","@width":"35","@height":"35"},{"@x":"665","@y":"105","@width":"35","@height":"105"},{"@x":"560","@y":"245","@width":"70","@height":"35"},{"@x":"595","@y":"280","@width":"105","@height":"35"}]}]},{"@level":"21","@version":"1.0","@orientation":"orthogonal","@renderorder":"right-down","@width":"20","@height":"15","@tilewidth":"35","@tileheight":"35",tileset:[{"@firstgid":"1","@name":"tiles","@tilewidth":"35","@tileheight":"35",tile:[{"@id":"0",image:{"@width":"35","@height":"35","@source":"singleTile.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"platformLeft.png"}},{"@id":"2",image:{"@width":"35","@height":"35","@source":"platformCenter.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"platformRight.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"verticalPlatformTop.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"verticalPlatformCenter.png"}},{"@id":"6",image:{"@width":"35","@height":"35","@source":"verticalPlatformBottom.png"}},{"@id":"7",image:{"@width":"35","@height":"35","@source":"tileTopLeft.png"}},{"@id":"8",image:{"@width":"35","@height":"35","@source":"tileTopCenter.png"}},{"@id":"9",image:{"@width":"35","@height":"35","@source":"tileTopRight.png"}},{"@id":"10",image:{"@width":"35","@height":"35","@source":"tileCenterLeft.png"}},{"@id":"11",image:{"@width":"35","@height":"35","@source":"tileCenter.png"}},{"@id":"12",image:{"@width":"35","@height":"35","@source":"tileCenterRight.png"}},{"@id":"13",image:{"@width":"35","@height":"35","@source":"tileBottomLeft.png"}},{"@id":"14",image:{"@width":"35","@height":"35","@source":"tileBottomCenter.png"}},{"@id":"15",image:{"@width":"35","@height":"35","@source":"tileBottomRight.png"}}]},{"@firstgid":"17","@name":"active","@tilewidth":"105","@tileheight":"73",tile:[{"@id":"0",image:{"@width":"24","@height":"11","@source":"PushButtonGraphics.png"}},{"@id":"1",image:{"@width":"25","@height":"19","@source":"TriggerGraphics.png"}},{"@id":"2",image:{"@width":"20","@height":"70","@source":"DoorGraphics.png"}},{"@id":"3",image:{"@width":"20","@height":"70","@source":"GlassDoorGraphics.png"}},{"@id":"4",image:{"@width":"70","@height":"19","@source":"ElevatorGraphics.png"}},{"@id":"5",image:{"@width":"105","@height":"20","@source":"BigElevatorGraphics.png"}},{"@id":"6",image:{"@width":"70","@height":"70","@source":"ExitGraphics.png"}},{"@id":"7",image:{"@width":"63","@height":"60","@source":"BouncerGraphics.png"}},{"@id":"8",image:{"@width":"44","@height":"52","@source":"HustlerGraphics.png"}},{"@id":"9",image:{"@width":"74","@height":"73","@source":"NicheGraphics.png"}},{"@id":"10",image:{"@width":"32","@height":"22","@source":"CameraGraphics.png"}},{"@id":"11",image:{"@width":"52","@height":"53","@source":"Guardian2Graphics.png"}},{"@id":"12",image:{"@width":"60","@height":"54","@source":"GuardianGraphics.png"}},{"@id":"13",image:{"@width":"60","@height":"56","@source":"Guardian3Graphics.png"}},{"@id":"14",image:{"@width":"60","@height":"55","@source":"Guardian4Graphics.png"}},{"@id":"15",image:{"@width":"15","@height":"15","@source":"EnemyLimiterGraphics.png"}},{"@id":"16",image:{"@width":"31","@height":"34","@source":"MoneyBagGraphics.png"}}]},{"@firstgid":"34","@name":"passive","@tilewidth":"210","@tileheight":"50",tile:[{"@id":"0",image:{"@width":"50","@height":"50","@source":"BigBoxGraphics.png"}},{"@id":"1",image:{"@width":"35","@height":"35","@source":"BoxGraphics.png"}},{"@id":"2",image:{"@width":"37","@height":"35","@source":"ToiletGraphics.png"}},{"@id":"3",image:{"@width":"35","@height":"35","@source":"MonitorGraphics.png"}},{"@id":"4",image:{"@width":"35","@height":"35","@source":"BasketBallGraphics.png"}},{"@id":"5",image:{"@width":"35","@height":"35","@source":"StoolGraphics.png"}},{"@id":"6",image:{"@width":"150","@height":"20","@source":"PlankGraphics.png"}},{"@id":"7",image:{"@width":"150","@height":"20","@source":"Plank2Graphics.png"}},{"@id":"8",image:{"@width":"210","@height":"20","@source":"BigPlankGraphics.png"}}]},{"@firstgid":"43","@name":"decor","@tilewidth":"232","@tileheight":"135",tile:[{"@id":"0",image:{"@width":"232","@height":"79","@source":"LevelTextGraphics.png"}},{"@id":"1",image:{"@width":"54","@height":"20","@source":"Decor1Graphics.png"}},{"@id":"2",image:{"@width":"54","@height":"20","@source":"Decor2Graphics.png"}},{"@id":"3",image:{"@width":"33","@height":"27","@source":"Decor3Graphics.png"}},{"@id":"4",image:{"@width":"34","@height":"26","@source":"Decor4Graphics.png"}},{"@id":"5",image:{"@width":"22","@height":"31","@source":"Decor5Graphics.png"}},{"@id":"6",image:{"@width":"125","@height":"58","@source":"Decor6Graphics.png"}},{"@id":"7",image:{"@width":"38","@height":"19","@source":"Decor7Graphics.png"}},{"@id":"8",image:{"@width":"24","@height":"21","@source":"Decor8Graphics.png"}},{"@id":"9",image:{"@width":"18","@height":"22","@source":"Decor9Graphics.png"}},{"@id":"10",image:{"@width":"38","@height":"58","@source":"Decor10Graphics.png"}},{"@id":"11",image:{"@width":"19","@height":"66","@source":"Decor11Graphics.png"}},{"@id":"12",image:{"@width":"23","@height":"33","@source":"Decor12Graphics.png"}},{"@id":"13",image:{"@width":"39","@height":"26","@source":"Decor13Graphics.png"}},{"@id":"14",image:{"@width":"43","@height":"77","@source":"Decor14Graphics.png"}},{"@id":"15",image:{"@width":"60","@height":"86","@source":"Decor15Graphics.png"}},{"@id":"16",image:{"@width":"42","@height":"69","@source":"Decor16Graphics.png"}},{"@id":"17",image:{"@width":"53","@height":"58","@source":"Decor17Graphics.png"}},{"@id":"18",image:{"@width":"51","@height":"58","@source":"Decor18Graphics.png"}},{"@id":"19",image:{"@width":"40","@height":"23","@source":"Decor19Graphics.png"}},{"@id":"20",image:{"@width":"42","@height":"49","@source":"Decor20Graphics.png"}},{"@id":"21",image:{"@width":"51","@height":"38","@source":"Decor21Graphics.png"}},{"@id":"22",image:{"@width":"54","@height":"54","@source":"Decor22Graphics.png"}},{"@id":"23",image:{"@width":"62","@height":"135","@source":"Decor23Graphics.png"}},{"@id":"24",image:{"@width":"48","@height":"45","@source":"Decor24Graphics.png"}},{"@id":"25",image:{"@width":"104","@height":"50","@source":"Decor25Graphics.png"}},{"@id":"26",image:{"@width":"104","@height":"46","@source":"Decor26Graphics.png"}},{"@id":"27",image:{"@width":"86","@height":"38","@source":"Decor27Graphics.png"}}]}],imagelayer:{"@name":"background",image:{"@source":"Background1Graphics.png"}},objectgroup:[{"@name":"decorations",object:[{"@gid":"50","@x":"330","@y":"245"},{"@gid":"43","@x":"234","@y":"256",properties:{property:{"@name":"text","@value":"level_text_21"}}}]},{"@name":"tiles",properties:{property:{"@name":"physics","@value":"true"}},object:[{"@gid":"9","@x":"105","@y":"525"},{"@gid":"9","@x":"595","@y":"525"},{"@gid":"9","@x":"490","@y":"525"},{"@gid":"9","@x":"385","@y":"525"},{"@gid":"9","@x":"315","@y":"525"},{"@gid":"9","@x":"245","@y":"525"},{"@gid":"9","@x":"35","@y":"525"},{"@gid":"12","@x":"0","@y":"525"},{"@gid":"12","@x":"665","@y":"525"},{"@gid":"9","@x":"70","@y":"525"},{"@gid":"9","@x":"280","@y":"525"},{"@gid":"12","@x":"0","@y":"350"},{"@gid":"12","@x":"665","@y":"175"},{"@gid":"12","@x":"175","@y":"140"},{"@gid":"9","@x":"630","@y":"525"},{"@gid":"12","@x":"455","@y":"525"},{"@gid":"11","@x":"665","@y":"490"},{"@gid":"11","@x":"665","@y":"455"},{"@gid":"8","@x":"665","@y":"420"},{"@gid":"12","@x":"140","@y":"525"},{"@gid":"13","@x":"0","@y":"490"},{"@gid":"13","@x":"0","@y":"455"},{"@gid":"13","@x":"0","@y":"420"},{"@gid":"13","@x":"0","@y":"385"},{"@gid":"7","@x":"350","@y":"455"},{"@gid":"6","@x":"350","@y":"420"},{"@gid":"3","@x":"280","@y":"350"},{"@gid":"3","@x":"385","@y":"350"},{"@gid":"3","@x":"420","@y":"350"},{"@gid":"3","@x":"455","@y":"350"},{"@gid":"3","@x":"490","@y":"350"},{"@gid":"3","@x":"525","@y":"350"},{"@gid":"4","@x":"630","@y":"350"},{"@gid":"1","@x":"560","@y":"280"},{"@gid":"3","@x":"70","@y":"350"},{"@gid":"3","@x":"35","@y":"350"},{"@gid":"3","@x":"105","@y":"350"},{"@gid":"13","@x":"0","@y":"315"},{"@gid":"13","@x":"0","@y":"245"},{"@gid":"13","@x":"0","@y":"280"},{"@gid":"13","@x":"0","@y":"210"},{"@gid":"13","@x":"0","@y":"175"},{"@gid":"13","@x":"0","@y":"105"},{"@gid":"13","@x":"0","@y":"140"},{"@gid":"13","@x":"0","@y":"70"},{"@gid":"13","@x":"0","@y":"35"},{"@gid":"6","@x":"490","@y":"210"},{"@gid":"7","@x":"490","@y":"245"},{"@gid":"14","@x":"665","@y":"245"},{"@gid":"11","@x":"665","@y":"210"},{"@gid":"11","@x":"665","@y":"105"},{"@gid":"11","@x":"665","@y":"35"},{"@gid":"11","@x":"665","@y":"70"},{"@gid":"5","@x":"490","@y":"140"},{"@gid":"14","@x":"350","@y":"35"},{"@gid":"16","@x":"385","@y":"35"},{"@gid":"15","@x":"210","@y":"175"},{"@gid":"15","@x":"175","@y":"175"},{"@gid":"3","@x":"280","@y":"175"},{"@gid":"3","@x":"420","@y":"175"},{"@gid":"3","@x":"455","@y":"175"},{"@gid":"10","@x":"210","@y":"140"},{"@gid":"10","@x":"175","@y":"105"},{"@gid":"8","@x":"140","@y":"105"},{"@x":"0","@y":"490","@width":"700","@height":"35"},{"@x":"0","@y":"0","@width":"35","@height":"490"},{"@x":"560","@y":"350","@width":"35","@height":"35"},{"@x":"455","@y":"455","@width":"35","@height":"35"},{"@x":"665","@y":"385","@width":"35","@height":"105"},{"@x":"350","@y":"350","@width":"35","@height":"105"},{"@x":"35","@y":"315","@width":"630","@height":"35"},{"@x":"140","@y":"245","@width":"70","@height":"35"},{"@x":"665","@y":"0","@width":"35","@height":"245"},{"@x":"490","@y":"175","@width":"35","@height":"70"},{"@x":"105","@y":"140","@width":"560","@height":"35"},{"@x":"490","@y":"105","@width":"35","@height":"35"},{"@x":"105","@y":"105","@width":"140","@height":"35"},{"@x":"140","@y":"70","@width":"70","@height":"35"},{"@x":"350","@y":"0","@width":"70","@height":"35"},{"@x":"560","@y":"245","@width":"35","@height":"35"},{"@gid":"3","@x":"595","@y":"350"},{"@gid":"12","@x":"490","@y":"175"},{"@gid":"12","@x":"665","@y":"140"},{"@gid":"3","@x":"385","@y":"175"},{"@gid":"15","@x":"350","@y":"175"},{"@gid":"3","@x":"245","@y":"175"},{"@gid":"14","@x":"105","@y":"175"},{"@gid":"12","@x":"140","@y":"140"},{"@gid":"15","@x":"140","@y":"175"},{"@gid":"8","@x":"105","@y":"140"},{"@gid":"2","@x":"70","@y":"420"},{"@gid":"4","@x":"105","@y":"420"},{"@x":"70","@y":"385","@width":"70","@height":"35"},{"@x":"140","@y":"455","@width":"70","@height":"35"},{"@gid":"12","@x":"175","@y":"525"},{"@gid":"8","@x":"140","@y":"490"},{"@gid":"12","@x":"210","@y":"525"},{"@gid":"13","@x":"210","@y":"490"},{"@gid":"5","@x":"210","@y":"420"},{"@gid":"6","@x":"210","@y":"455"},{"@gid":"9","@x":"175","@y":"490"},{"@x":"210","@y":"385","@width":"35","@height":"105"},{"@gid":"9","@x":"350","@y":"525"},{"@gid":"9","@x":"350","@y":"350"},{"@gid":"9","@x":"525","@y":"525"},{"@gid":"9","@x":"560","@y":"525"},{"@gid":"9","@x":"560","@y":"350"},{"@gid":"7","@x":"560","@y":"385"},{"@gid":"4","@x":"175","@y":"280"},{"@gid":"2","@x":"140","@y":"280"},{"@gid":"3","@x":"175","@y":"350"},{"@gid":"3","@x":"140","@y":"350"},{"@gid":"3","@x":"245","@y":"350"},{"@gid":"3","@x":"210","@y":"350"},{"@gid":"3","@x":"595","@y":"175"},{"@gid":"3","@x":"560","@y":"175"},{"@gid":"3","@x":"525","@y":"175"},{"@gid":"3","@x":"630","@y":"175"},{"@gid":"9","@x":"315","@y":"350"},{"@gid":"13","@x":"350","@y":"385"},{"@gid":"14","@x":"315","@y":"385"},{"@x":"315","@y":"350","@width":"35","@height":"35"},{"@gid":"9","@x":"420","@y":"525"},{"@gid":"5","@x":"455","@y":"490"},{"@x":"315","@y":"105","@width":"70","@height":"35"},{"@gid":"15","@x":"315","@y":"175"},{"@gid":"8","@x":"315","@y":"140"},{"@gid":"10","@x":"350","@y":"140"}]},{"@name":"active",object:[{"@gid":"23","@x":"315","@y":"315"},{"@gid":"33","@x":"455","@y":"35"},{"@gid":"33","@x":"420","@y":"70"},{"@gid":"33","@x":"315","@y":"35"},{"@type":"2","@gid":"17","@x":"175","@y":"70"},{"@type":"2","@gid":"19","@x":"363","@y":"402","@rotation":"90"},{"@gid":"33","@x":"140","@y":"385"},{"@gid":"33","@x":"245","@y":"490"},{"@gid":"33","@x":"420","@y":"455"},{"@gid":"33","@x":"210","@y":"385"},{"@gid":"33","@x":"140","@y":"455"},{"@gid":"33","@x":"175","@y":"315"},{"@gid":"33","@x":"245","@y":"420"},{"@gid":"33","@x":"525","@y":"490"},{"@gid":"33","@x":"315","@y":"420"},{"@gid":"33","@x":"35","@y":"420"},{"@gid":"33","@x":"595","@y":"490"},{"@gid":"33","@x":"105","@y":"490"},{"@gid":"33","@x":"280","@y":"455"},{"@gid":"33","@x":"70","@y":"385"},{"@gid":"33","@x":"175","@y":"420"},{"@gid":"33","@x":"315","@y":"490"},{"@gid":"33","@x":"280","@y":"385"},{"@type":"1","@gid":"19","@x":"35","@y":"138","@rotation":"90"},{"@gid":"33","@x":"490","@y":"455"},{"@gid":"33","@x":"455","@y":"420"},{"@gid":"33","@x":"525","@y":"420"},{"@gid":"33","@x":"490","@y":"385"},{"@gid":"33","@x":"595","@y":"420"},{"@gid":"33","@x":"560","@y":"455"},{"@gid":"33","@x":"630","@y":"385"},{"@gid":"33","@x":"665","@y":"350"},{"@gid":"33","@x":"665","@y":"280"},{"@gid":"33","@x":"630","@y":"315"},{"@gid":"33","@x":"595","@y":"280"},{"@gid":"33","@x":"630","@y":"245"},{"@gid":"33","@x":"595","@y":"210"},{"@gid":"33","@x":"560","@y":"315"},{"@gid":"33","@x":"525","@y":"280"},{"@gid":"33","@x":"490","@y":"315"},{"@gid":"33","@x":"455","@y":"280"},{"@gid":"33","@x":"525","@y":"210"},{"@gid":"33","@x":"455","@y":"210"},{"@gid":"33","@x":"420","@y":"315"},{"@gid":"33","@x":"525","@y":"105"},{"@gid":"33","@x":"560","@y":"245"},{"@gid":"33","@x":"525","@y":"35"},{"@gid":"33","@x":"490","@y":"70"},{"@gid":"33","@x":"560","@y":"70"},{"@gid":"33","@x":"245","@y":"315"},{"@gid":"33","@x":"455","@y":"105"},{"@gid":"33","@x":"420","@y":"140"},{"@gid":"33","@x":"420","@y":"245"},{"@gid":"33","@x":"385","@y":"280"},{"@gid":"33","@x":"280","@y":"280"},{"@gid":"33","@x":"350","@y":"70"},{"@gid":"33","@x":"385","@y":"105"},{"@gid":"33","@x":"315","@y":"105"},{"@gid":"33","@x":"280","@y":"140"},{"@gid":"33","@x":"280","@y":"70"},{"@gid":"33","@x":"560","@y":"140"},{"@gid":"33","@x":"245","@y":"35"},{"@gid":"33","@x":"245","@y":"105"},{"@gid":"33","@x":"210","@y":"70"},{"@gid":"33","@x":"175","@y":"35"},{"@gid":"33","@x":"140","@y":"70"},{"@gid":"33","@x":"35","@y":"105"},{"@gid":"33","@x":"70","@y":"70"},{"@gid":"33","@x":"70","@y":"140"},{"@gid":"33","@x":"105","@y":"105"},{"@gid":"33","@x":"210","@y":"280"},{"@gid":"33","@x":"245","@y":"245"},{"@gid":"33","@x":"630","@y":"70"},{"@gid":"33","@x":"210","@y":"210"},{"@gid":"33","@x":"175","@y":"245"},{"@gid":"33","@x":"140","@y":"210"},{"@gid":"33","@x":"105","@y":"245"},{"@gid":"33","@x":"70","@y":"210"},{"@gid":"33","@x":"35","@y":"245"},{"@gid":"33","@x":"70","@y":"280"},{"@gid":"33","@x":"35","@y":"315"},{"@gid":"33","@x":"385","@y":"490"},{"@gid":"33","@x":"420","@y":"385"},{"@gid":"33","@x":"105","@y":"315"},{"@type":"1","@gid":"17","@x":"149","@y":"314"},{"@gid":"34","@x":"385","@y":"401"}]},{"@name":"characters",object:[{"@gid":"24","@x":"595","@y":"140"},{"@gid":"25","@x":"30","@y":"490"}]}]}],e}()),Objects=function(){function e(){}return e.data={frames:[{filename:"BackButton0000",frame:{x:3831,y:2288,w:122,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:.7,y:.2,w:122,h:54},sourceSize:{w:122,h:54}},{filename:"BackButton0001",frame:{x:3956,y:2288,w:122,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:.7,y:.2,w:122,h:54},sourceSize:{w:122,h:54}},{filename:"BackButton0002",frame:{x:3215,y:2299,w:122,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:.7,y:.2,w:122,h:54},sourceSize:{w:122,h:54}},{filename:"Background1Graphics0000",frame:{x:707,y:3,w:700,h:525},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:700,h:525},sourceSize:{w:700,h:525}},{filename:"BasketBallGraphics0000",frame:{x:762,y:1106,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-17.6,y:-17.6,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"BigBoxGraphics0000",frame:{x:274,y:3486,w:50,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:-25,y:-25,w:50,h:50},sourceSize:{w:50,h:50}},{filename:"BigPlankGraphics0000",frame:{x:3769,y:3539,w:210,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-105,y:-10,w:210,h:20},sourceSize:{w:210,h:20}},{filename:"BouncerGraphics0000",frame:{x:3,y:2206,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0001",frame:{x:2170,y:2226,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0002",frame:{x:1750,y:2186,w:79,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0003",frame:{x:2643,y:2476,w:79,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0004",frame:{x:3577,y:2597,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0005",frame:{x:3902,y:2597,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0006",frame:{x:3984,y:2597,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0007",frame:{x:156,y:2606,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0008",frame:{x:718,y:2608,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0009",frame:{x:951,y:2608,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0010",frame:{x:2018,y:2609,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0011",frame:{x:2688,y:2671,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0012",frame:{x:3238,y:2671,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0013",frame:{x:1726,y:2673,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0014",frame:{x:3494,y:2673,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0015",frame:{x:3576,y:2675,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0016",frame:{x:3894,y:2675,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0017",frame:{x:3976,y:2675,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0018",frame:{x:2453,y:2609,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0019",frame:{x:69,y:2676,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0020",frame:{x:405,y:2676,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0021",frame:{x:467,y:2444,w:84,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0022",frame:{x:864,y:2676,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0023",frame:{x:2770,y:2676,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0024",frame:{x:1181,y:2677,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0025",frame:{x:1263,y:2677,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0026",frame:{x:3044,y:2683,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0027",frame:{x:151,y:2684,w:79,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0028",frame:{x:2535,y:2609,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0029",frame:{x:3156,y:2610,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0030",frame:{x:238,y:2621,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0031",frame:{x:3819,y:2507,w:81,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0032",frame:{x:1358,y:2621,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0033",frame:{x:1824,y:2622,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0034",frame:{x:630,y:2624,w:79,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0035",frame:{x:2853,y:2357,w:79,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0036",frame:{x:2640,y:2556,w:79,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0037",frame:{x:1048,y:2477,w:79,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0038",frame:{x:1999,y:2198,w:79,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0039",frame:{x:3789,y:2199,w:79,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0040",frame:{x:1194,y:2227,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0041",frame:{x:2363,y:2229,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0042",frame:{x:3511,y:2229,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0043",frame:{x:1832,y:2231,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0044",frame:{x:1832,y:2231,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0045",frame:{x:1832,y:2231,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0046",frame:{x:1832,y:2231,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0047",frame:{x:1276,y:2235,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0048",frame:{x:1276,y:2235,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0049",frame:{x:3,y:2206,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0050",frame:{x:2710,y:2045,w:83,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0051",frame:{x:3466,y:2045,w:83,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0052",frame:{x:855,y:2093,w:82,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0053",frame:{x:2625,y:2094,w:81,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0054",frame:{x:2381,y:2049,w:82,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0055",frame:{x:1315,y:2053,w:81,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0056",frame:{x:332,y:2099,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0057",frame:{x:1668,y:2062,w:80,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0058",frame:{x:1752,y:2004,w:81,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0059",frame:{x:950,y:2063,w:80,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0060",frame:{x:166,y:2077,w:80,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0061",frame:{x:2005,y:2107,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0062",frame:{x:1282,y:2144,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0063",frame:{x:2795,y:2146,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0064",frame:{x:1364,y:2153,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0065",frame:{x:3469,y:2134,w:80,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0066",frame:{x:1564,y:2179,w:79,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0067",frame:{x:3871,y:2199,w:79,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0068",frame:{x:1199,y:2137,w:80,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0069",frame:{x:2369,y:2139,w:80,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0070",frame:{x:1668,y:2154,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0071",frame:{x:940,y:2155,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0072",frame:{x:85,y:2169,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0073",frame:{x:3802,y:2108,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0074",frame:{x:3885,y:2108,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0075",frame:{x:3968,y:2108,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0076",frame:{x:2796,y:2055,w:81,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0077",frame:{x:1033,y:2110,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0078",frame:{x:1916,y:2110,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0079",frame:{x:2625,y:2003,w:82,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0080",frame:{x:167,y:2169,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0081",frame:{x:249,y:2169,w:79,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0082",frame:{x:2088,y:2179,w:79,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0083",frame:{x:2032,y:2014,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0084",frame:{x:1229,y:2048,w:83,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0085",frame:{x:2417,y:2345,w:84,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0086",frame:{x:2301,y:2491,w:77,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0087",frame:{x:1324,y:1958,w:80,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-80,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0088",frame:{x:2629,y:1466,w:84,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-80,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0089",frame:{x:1675,y:1960,w:74,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0090",frame:{x:1345,y:2699,w:69,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0091",frame:{x:4018,y:2934,w:72,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0092",frame:{x:2405,y:2425,w:83,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-71,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0093",frame:{x:2793,y:2596,w:77,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0094",frame:{x:2120,y:2579,w:82,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0095",frame:{x:896,y:2940,w:76,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0096",frame:{x:77,y:2520,w:82,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-69,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0097",frame:{x:3506,y:2499,w:76,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-70,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0098",frame:{x:1440,y:2684,w:80,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0099",frame:{x:2873,y:2635,w:82,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0100",frame:{x:75,y:2597,w:78,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-71,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0101",frame:{x:2252,y:2288,w:86,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-69,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0102",frame:{x:601,y:1999,w:84,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-81,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0103",frame:{x:596,y:3007,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0104",frame:{x:4013,y:3012,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0105",frame:{x:2338,y:3013,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0106",frame:{x:210,y:3016,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0107",frame:{x:510,y:3017,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0108",frame:{x:2502,y:3065,w:77,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0109",frame:{x:676,y:3017,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0110",frame:{x:1036,y:3018,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0111",frame:{x:1767,y:3018,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0112",frame:{x:826,y:3020,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0113",frame:{x:3831,y:2345,w:77,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0114",frame:{x:3,y:3028,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0115",frame:{x:2720,y:3065,w:77,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0116",frame:{x:2139,y:3066,w:77,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0117",frame:{x:3736,y:2555,w:77,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0118",frame:{x:83,y:3028,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0119",frame:{x:2808,y:3029,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0120",frame:{x:1535,y:3037,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0121",frame:{x:717,y:1619,w:89,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-71,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0122",frame:{x:3953,y:2199,w:79,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-81,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0123",frame:{x:3822,y:3084,w:76,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0124",frame:{x:1676,y:1857,w:76,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0125",frame:{x:2491,y:2447,w:73,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0126",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0127",frame:{x:2891,y:2556,w:79,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0128",frame:{x:1046,y:2557,w:79,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0129",frame:{x:1914,y:2292,w:79,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0130",frame:{x:1671,y:2558,w:79,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0131",frame:{x:85,y:1635,w:88,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0132",frame:{x:3260,y:2214,w:82,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0133",frame:{x:1440,y:2283,w:78,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0134",frame:{x:1010,y:2802,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0135",frame:{x:3,y:2834,w:70,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0136",frame:{x:864,y:2753,w:72,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0137",frame:{x:906,y:1626,w:84,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0138",frame:{x:435,y:1806,w:84,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0139",frame:{x:1280,y:3023,w:68,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0140",frame:{x:2984,y:1806,w:84,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0141",frame:{x:627,y:1810,w:84,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0142",frame:{x:1769,y:1812,w:84,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0143",frame:{x:1158,y:1627,w:84,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0144",frame:{x:2467,y:1638,w:88,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-80,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0145",frame:{x:3426,y:2491,w:77,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0146",frame:{x:663,y:2185,w:81,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-71,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0147",frame:{x:2696,y:2221,w:83,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0148",frame:{x:2690,y:2305,w:85,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0149",frame:{x:2041,y:1922,w:83,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0150",frame:{x:2716,y:1482,w:90,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-55,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0151",frame:{x:663,y:2095,w:81,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0152",frame:{x:1517,y:1625,w:80,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-81,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0153",frame:{x:286,y:1502,w:82,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-81,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0154",frame:{x:1856,y:1860,w:87,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0155",frame:{x:738,y:2272,w:75,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0156",frame:{x:2548,y:2079,w:74,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0157",frame:{x:3552,y:2139,w:80,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0158",frame:{x:3552,y:2139,w:80,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0159",frame:{x:421,y:2087,w:74,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0160",frame:{x:2609,y:2283,w:78,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0161",frame:{x:2814,y:1754,w:84,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0162",frame:{x:164,y:2348,w:75,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0163",frame:{x:2027,y:531,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0164",frame:{x:1688,y:2464,w:68,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-69,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0165",frame:{x:747,y:2176,w:74,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-71,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0166",frame:{x:1751,y:2096,w:81,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0167",frame:{x:3340,y:2309,w:75,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0168",frame:{x:4017,y:144,w:73,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0169",frame:{x:453,y:1705,w:82,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0170",frame:{x:1358,y:2244,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0171",frame:{x:2567,y:2447,w:73,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0172",frame:{x:2280,y:1840,w:84,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-69,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0173",frame:{x:3176,y:2174,w:81,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0174",frame:{x:3998,y:2345,w:76,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0175",frame:{x:2133,y:1892,w:77,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0176",frame:{x:3010,y:2464,w:71,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0177",frame:{x:3552,y:1773,w:92,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0178",frame:{x:3731,y:1574,w:85,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0179",frame:{x:252,y:1802,w:89,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-74,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0180",frame:{x:2452,y:1960,w:85,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0181",frame:{x:3384,y:2134,w:82,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0182",frame:{x:3,y:1495,w:90,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0183",frame:{x:559,y:1412,w:84,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-80,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0184",frame:{x:2485,y:1473,w:84,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0185",frame:{x:3644,y:1473,w:84,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-79,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0186",frame:{x:3594,y:1678,w:88,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-70,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0187",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0188",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0189",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0190",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0191",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0192",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0193",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0194",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0195",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0196",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0197",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0198",frame:{x:1072,y:1585,w:83,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0199",frame:{x:3594,y:1678,w:88,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-70,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0200",frame:{x:987,y:1882,w:84,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-77,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0201",frame:{x:824,y:2182,w:89,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0202",frame:{x:3911,y:2345,w:84,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0203",frame:{x:3071,y:1855,w:83,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-70,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0204",frame:{x:548,y:1517,w:84,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0205",frame:{x:2518,y:1770,w:79,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-77,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0206",frame:{x:1777,y:1710,w:81,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-77,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0207",frame:{x:1510,y:1731,w:81,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0208",frame:{x:249,y:2077,w:80,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0209",frame:{x:2730,y:1731,w:81,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0210",frame:{x:242,y:2348,w:72,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0211",frame:{x:1248,y:1847,w:78,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0212",frame:{x:2786,y:1851,w:78,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0213",frame:{x:3234,y:1731,w:81,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0214",frame:{x:1163,y:1829,w:82,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0215",frame:{x:167,y:1985,w:82,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0216",frame:{x:337,y:2007,w:81,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0217",frame:{x:3862,y:1923,w:83,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0218",frame:{x:252,y:1985,w:82,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0219",frame:{x:3637,y:2077,w:80,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0220",frame:{x:3124,y:1758,w:84,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0221",frame:{x:1074,y:1833,w:86,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0222",frame:{x:347,y:1717,w:85,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0223",frame:{x:3948,y:1923,w:83,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0224",frame:{x:1952,y:1833,w:86,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0225",frame:{x:1682,y:1760,w:84,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0226",frame:{x:1419,y:1796,w:87,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0227",frame:{x:2867,y:1866,w:85,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0228",frame:{x:261,y:1702,w:83,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0229",frame:{x:3765,y:293,w:88,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0230",frame:{x:1861,y:1768,w:88,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0231",frame:{x:988,y:1785,w:83,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0232",frame:{x:993,y:1688,w:86,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0233",frame:{x:3,y:1831,w:82,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0234",frame:{x:1835,y:2139,w:78,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0235",frame:{x:3,y:2114,w:79,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0236",frame:{x:3675,y:2272,w:75,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0237",frame:{x:2169,y:2314,w:73,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0238",frame:{x:1122,y:2203,w:69,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0239",frame:{x:241,y:2440,w:70,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0240",frame:{x:816,y:2442,w:70,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0241",frame:{x:2071,y:2443,w:70,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0242",frame:{x:1787,y:2411,w:71,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0243",frame:{x:1246,y:2415,w:71,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0244",frame:{x:1320,y:2415,w:71,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0245",frame:{x:891,y:2416,w:71,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0246",frame:{x:816,y:2350,w:72,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0247",frame:{x:3126,y:2350,w:72,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0248",frame:{x:2076,y:2351,w:72,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0249",frame:{x:483,y:2352,w:72,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0250",frame:{x:2504,y:2355,w:72,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0251",frame:{x:3201,y:2356,w:72,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0252",frame:{x:2341,y:2317,w:73,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0253",frame:{x:3491,y:2317,w:73,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0254",frame:{x:1801,y:2319,w:73,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0255",frame:{x:1274,y:2323,w:73,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0256",frame:{x:1952,y:2467,w:77,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0257",frame:{x:2722,y:2580,w:68,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0258",frame:{x:701,y:2769,w:70,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0259",frame:{x:3,y:2294,w:79,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-70,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0260",frame:{x:3465,y:1223,w:68,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0261",frame:{x:2070,y:2964,w:68,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0262",frame:{x:419,y:2597,w:78,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0263",frame:{x:2245,y:2368,w:74,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0264",frame:{x:906,y:2334,w:82,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0265",frame:{x:78,y:2436,w:79,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0266",frame:{x:1589,y:2497,w:79,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0267",frame:{x:1128,y:2564,w:79,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0268",frame:{x:2297,y:2573,w:79,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0269",frame:{x:3424,y:2573,w:79,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0270",frame:{x:1646,y:2245,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0271",frame:{x:916,y:2246,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0272",frame:{x:2445,y:2257,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0273",frame:{x:85,y:2260,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0274",frame:{x:167,y:2260,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0275",frame:{x:249,y:2260,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0276",frame:{x:3593,y:2261,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0277",frame:{x:824,y:2262,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0278",frame:{x:3133,y:2262,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0279",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0280",frame:{x:492,y:2264,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0281",frame:{x:974,y:1975,w:86,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0282",frame:{x:2276,y:2652,w:77,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0283",frame:{x:2829,y:2441,w:82,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0284",frame:{x:1671,y:2829,w:72,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0285",frame:{x:1861,y:2469,w:81,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0286",frame:{x:1407,y:1976,w:88,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-70,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0287",frame:{x:3345,y:2222,w:80,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-71,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0288",frame:{x:2452,y:2172,w:84,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0289",frame:{x:178,y:1572,w:97,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0290",frame:{x:1935,y:2845,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0291",frame:{x:3575,y:2966,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0292",frame:{x:3299,y:2972,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0293",frame:{x:428,y:2974,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0294",frame:{x:3746,y:2978,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0295",frame:{x:2482,y:2980,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0296",frame:{x:2256,y:2982,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0297",frame:{x:1453,y:2988,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0298",frame:{x:3931,y:2989,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0299",frame:{x:3657,y:2991,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0300",frame:{x:3021,y:2993,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0301",frame:{x:2726,y:2994,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0302",frame:{x:3931,y:2989,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0303",frame:{x:3657,y:2991,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0304",frame:{x:3021,y:2993,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0305",frame:{x:2726,y:2994,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0306",frame:{x:3931,y:2989,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0307",frame:{x:3657,y:2991,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0308",frame:{x:3021,y:2993,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0309",frame:{x:2141,y:2995,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0310",frame:{x:1913,y:2996,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0311",frame:{x:3471,y:2996,w:79,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0312",frame:{x:2726,y:2923,w:80,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0313",frame:{x:3090,y:2845,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0314",frame:{x:3090,y:2774,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0315",frame:{x:3798,y:2731,w:84,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0316",frame:{x:2312,y:2741,w:84,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0317",frame:{x:3402,y:2741,w:84,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0318",frame:{x:487,y:2743,w:84,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0319",frame:{x:2817,y:2781,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0320",frame:{x:1297,y:2786,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0321",frame:{x:1763,y:2787,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0322",frame:{x:574,y:2790,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0323",frame:{x:1383,y:2849,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0324",frame:{x:2994,y:2849,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0325",frame:{x:2776,y:2852,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0326",frame:{x:660,y:2853,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0327",frame:{x:1292,y:2857,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0328",frame:{x:1746,y:2858,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0329",frame:{x:3112,y:2442,w:82,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0330",frame:{x:538,y:2861,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0331",frame:{x:2744,y:2418,w:82,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0332",frame:{x:745,y:2861,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0333",frame:{x:320,y:2636,w:82,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0334",frame:{x:141,y:2862,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0335",frame:{x:1831,y:2862,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0336",frame:{x:2861,y:2862,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0337",frame:{x:2861,y:2862,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0338",frame:{x:2861,y:2862,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0339",frame:{x:2389,y:2866,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0340",frame:{x:923,y:2869,w:82,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0341",frame:{x:774,y:2790,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0342",frame:{x:217,y:2791,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0343",frame:{x:1849,y:2791,w:83,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0344",frame:{x:2852,y:2710,w:85,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0345",frame:{x:3820,y:2432,w:87,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0346",frame:{x:1476,y:2521,w:89,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0347",frame:{x:649,y:2364,w:94,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0348",frame:{x:1688,y:3111,w:75,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0349",frame:{x:2678,y:3210,w:72,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0350",frame:{x:2064,y:3046,w:72,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0351",frame:{x:3867,y:3224,w:71,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0352",frame:{x:225,y:3262,w:70,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0353",frame:{x:3300,y:3154,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0354",frame:{x:3791,y:3155,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0355",frame:{x:3129,y:3156,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0356",frame:{x:156,y:3157,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0357",frame:{x:655,y:3157,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0358",frame:{x:2872,y:3157,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0359",frame:{x:814,y:3159,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0360",frame:{x:298,y:3262,w:70,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0361",frame:{x:3,y:3162,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0362",frame:{x:1957,y:3166,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0363",frame:{x:3376,y:3166,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0364",frame:{x:2602,y:3167,w:73,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0365",frame:{x:1174,y:3139,w:73,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0366",frame:{x:3610,y:3139,w:73,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0367",frame:{x:2969,y:3141,w:73,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0368",frame:{x:1766,y:3148,w:73,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0369",frame:{x:956,y:3222,w:70,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0370",frame:{x:973,y:2519,w:70,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0371",frame:{x:1152,y:2474,w:70,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0372",frame:{x:1728,y:2275,w:70,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-73,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0373",frame:{x:4024,y:889,w:69,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0374",frame:{x:3,y:2560,w:69,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0375",frame:{x:1906,y:2624,w:68,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0376",frame:{x:3260,y:2580,w:68,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0377",frame:{x:1753,y:2582,w:68,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0378",frame:{x:2973,y:2628,w:68,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0379",frame:{x:3659,y:2629,w:68,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0380",frame:{x:2205,y:2635,w:68,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0381",frame:{x:2617,y:2635,w:68,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0382",frame:{x:3370,y:1134,w:68,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0383",frame:{x:3423,y:2652,w:68,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0384",frame:{x:1541,y:2654,w:68,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-65,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0385",frame:{x:630,y:2702,w:68,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-64,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0386",frame:{x:1523,y:2743,w:68,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0387",frame:{x:3353,y:2498,w:68,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-68,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0388",frame:{x:3083,y:2595,w:70,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0389",frame:{x:3506,y:2582,w:68,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0390",frame:{x:2527,y:2267,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0391",frame:{x:1546,y:2269,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0392",frame:{x:1546,y:2269,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0393",frame:{x:1546,y:2269,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0394",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0395",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0396",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0397",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0398",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0399",frame:{x:2782,y:2237,w:79,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0400",frame:{x:3827,y:1511,w:98,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0401",frame:{x:1809,y:1621,w:96,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0402",frame:{x:2999,y:2043,w:93,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-63,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0403",frame:{x:2171,y:1013,w:93,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-87,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0404",frame:{x:3731,y:1480,w:93,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-77,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0405",frame:{x:1863,y:1528,w:93,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0406",frame:{x:2251,y:1619,w:93,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-75,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0407",frame:{x:1974,y:1029,w:96,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-83,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0408",frame:{x:1253,y:1555,w:93,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0409",frame:{x:2892,y:1556,w:93,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-76,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0410",frame:{x:2629,y:1371,w:94,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0411",frame:{x:1245,y:1648,w:95,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-72,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0412",frame:{x:2397,y:1835,w:85,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0413",frame:{x:3716,y:2170,w:70,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-86,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0414",frame:{x:1880,y:1035,w:85,h:109},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-89,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0415",frame:{x:419,y:2186,w:70,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0416",frame:{x:2197,y:2127,w:73,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0417",frame:{x:1725,y:1561,w:81,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0418",frame:{x:1703,y:986,w:81,h:117},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0419",frame:{x:2051,y:1239,w:81,h:111},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0420",frame:{x:1959,y:1570,w:81,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0421",frame:{x:2614,y:1570,w:81,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0422",frame:{x:355,y:1135,w:81,h:112},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0423",frame:{x:738,y:1512,w:81,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0424",frame:{x:1949,y:1335,w:83,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0425",frame:{x:816,y:1405,w:83,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0426",frame:{x:371,y:1502,w:82,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0427",frame:{x:3426,y:1511,w:82,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0428",frame:{x:2286,y:1512,w:81,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0429",frame:{x:3207,y:1452,w:81,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0430",frame:{x:1779,y:1453,w:81,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0431",frame:{x:1436,y:1475,w:80,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0432",frame:{x:2120,y:1415,w:80,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-94,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0433",frame:{x:1642,y:1476,w:80,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0434",frame:{x:4011,y:1517,w:79,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0435",frame:{x:2988,y:1551,w:79,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0436",frame:{x:1519,y:1517,w:80,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0437",frame:{x:2698,y:1579,w:80,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0438",frame:{x:3070,y:1609,w:79,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0439",frame:{x:2043,y:1634,w:79,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0440",frame:{x:2781,y:1625,w:80,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0441",frame:{x:3152,y:1652,w:79,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0442",frame:{x:2864,y:1649,w:80,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-89,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0443",frame:{x:1428,y:1691,w:79,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-89,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0444",frame:{x:2947,y:1659,w:79,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0445",frame:{x:3249,y:1625,w:80,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-90,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0446",frame:{x:3511,y:1581,w:80,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0447",frame:{x:2809,y:1517,w:80,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0448",frame:{x:1602,y:1585,w:79,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0449",frame:{x:3928,y:1521,w:79,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0450",frame:{x:2203,y:1415,w:80,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-94,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0451",frame:{x:2087,y:1525,w:79,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0452",frame:{x:2169,y:1525,w:79,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0453",frame:{x:2035,y:1353,w:82,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0454",frame:{x:3,y:1592,w:79,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0455",frame:{x:3291,y:1517,w:80,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0456",frame:{x:906,y:1518,w:80,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0457",frame:{x:3929,y:1409,w:79,h:109},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0458",frame:{x:902,y:1406,w:83,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0459",frame:{x:1949,y:1335,w:83,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0460",frame:{x:901,y:1727,w:84,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0461",frame:{x:86,y:2034,w:77,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-88,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0462",frame:{x:3469,y:1688,w:80,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0463",frame:{x:3192,y:1083,w:83,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0464",frame:{x:3101,y:644,w:75,h:114},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0465",frame:{x:4018,y:665,w:69,h:109},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0466",frame:{x:4018,y:1206,w:71,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0467",frame:{x:3815,y:1704,w:83,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0468",frame:{x:88,y:1934,w:76,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0469",frame:{x:83,y:1731,w:82,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0470",frame:{x:1245,y:1948,w:76,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0471",frame:{x:168,y:1763,w:81,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0472",frame:{x:589,y:2088,w:71,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0473",frame:{x:2211,y:2027,w:74,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-92,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0474",frame:{x:3901,y:1731,w:81,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0475",frame:{x:331,y:2273,w:68,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0476",frame:{x:2981,y:1449,w:86,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0477",frame:{x:3985,y:1731,w:81,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-93,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0478",frame:{x:822,y:1513,w:81,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-91,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0479",frame:{x:1588,y:1995,w:77,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-89,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0480",frame:{x:3631,y:1257,w:81,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-88,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0481",frame:{x:3099,y:1139,w:81,h:112},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-86,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0482",frame:{x:1836,y:2043,w:77,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0483",frame:{x:2679,y:1060,w:93,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0484",frame:{x:1160,y:1926,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0485",frame:{x:456,y:1597,w:79,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0486",frame:{x:989,y:1518,w:80,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0487",frame:{x:2003,y:1462,w:81,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0488",frame:{x:202,y:1464,w:81,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0489",frame:{x:4011,y:1409,w:82,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0490",frame:{x:1434,y:1147,w:86,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0491",frame:{x:879,y:890,w:93,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0492",frame:{x:1419,y:1255,w:86,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0493",frame:{x:3633,y:1577,w:85,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0494",frame:{x:635,y:1597,w:79,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0495",frame:{x:1594,y:1798,w:79,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0496",frame:{x:1621,y:810,w:83,h:121},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0497",frame:{x:4011,y:979,w:79,h:121},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0498",frame:{x:2288,y:2114,w:78,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0499",frame:{x:372,y:1608,w:78,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0500",frame:{x:3,y:1023,w:78,h:120},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0501",frame:{x:1698,y:1362,w:78,h:111},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0502",frame:{x:1777,y:1141,w:78,h:116},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0503",frame:{x:2835,y:1958,w:78,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0504",frame:{x:1483,y:2117,w:78,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0505",frame:{x:2868,y:1212,w:79,h:114},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0506",frame:{x:3720,y:2077,w:79,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0507",frame:{x:2466,y:2079,w:79,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0508",frame:{x:3208,y:2081,w:79,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0509",frame:{x:507,y:2083,w:79,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0510",frame:{x:773,y:2083,w:79,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0511",frame:{x:1621,y:934,w:79,h:122},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0512",frame:{x:1509,y:1832,w:80,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0513",frame:{x:2726,y:1371,w:80,h:108},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0514",frame:{x:3835,y:2015,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0515",frame:{x:3918,y:2015,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0516",frame:{x:3211,y:1832,w:80,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0517",frame:{x:4001,y:2015,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0518",frame:{x:1063,y:2017,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0519",frame:{x:1922,y:2017,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0520",frame:{x:1146,y:2019,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0521",frame:{x:315,y:892,w:80,h:121},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0522",frame:{x:1170,y:1519,w:80,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0523",frame:{x:2901,y:1765,w:80,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0524",frame:{x:3,y:899,w:80,h:121},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0525",frame:{x:3,y:2021,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0526",frame:{x:178,y:1088,w:80,h:114},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0527",frame:{x:538,y:1804,w:86,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0528",frame:{x:2298,y:2021,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0529",frame:{x:3242,y:1988,w:81,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0530",frame:{x:517,y:1990,w:81,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0531",frame:{x:3,y:1928,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0532",frame:{x:3690,y:1892,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0533",frame:{x:3789,y:1059,w:83,h:111},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0534",frame:{x:2367,y:1928,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0535",frame:{x:1503,y:1931,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0536",frame:{x:3550,y:1092,w:82,h:111},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0537",frame:{x:3157,y:1931,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0538",frame:{x:411,y:891,w:82,h:119},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0539",frame:{x:2213,y:1934,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0540",frame:{x:3776,y:1892,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0541",frame:{x:2577,y:1894,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0542",frame:{x:2492,y:1060,w:83,h:111},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0543",frame:{x:1074,y:999,w:83,h:114},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0544",frame:{x:1106,y:877,w:83,h:119},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0545",frame:{x:2466,y:888,w:83,h:119},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0546",frame:{x:3294,y:1895,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0547",frame:{x:522,y:1897,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0548",frame:{x:3639,y:864,w:84,h:118},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0549",frame:{x:1837,y:1950,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0550",frame:{x:3041,y:1950,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0551",frame:{x:801,y:1897,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0552",frame:{x:431,y:1901,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0553",frame:{x:1707,y:863,w:83,h:120},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0554",frame:{x:2955,y:1901,w:83,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0555",frame:{x:3085,y:526,w:92,h:115},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0556",frame:{x:2750,y:1952,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0557",frame:{x:3495,y:1952,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0558",frame:{x:2552,y:1255,w:82,h:109},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0559",frame:{x:1415,y:919,w:82,h:118},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0560",frame:{x:1224,y:786,w:84,h:120},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0561",frame:{x:780,y:1990,w:81,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0562",frame:{x:2127,y:1993,w:81,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0563",frame:{x:1537,y:810,w:81,h:124},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0564",frame:{x:1498,y:2024,w:80,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0565",frame:{x:3016,y:1033,w:80,h:116},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0566",frame:{x:2115,y:2086,w:79,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0567",frame:{x:398,y:1013,w:79,h:119},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0568",frame:{x:3408,y:1890,w:84,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0569",frame:{x:803,y:1804,w:86,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0570",frame:{x:3095,y:2118,w:78,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0571",frame:{x:2960,y:2123,w:78,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BouncerGraphics0572",frame:{x:2974,y:888,w:82,h:120},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-85,w:115,h:133},sourceSize:{w:115,h:133}},{filename:"BoxGraphics0000",frame:{x:3060,y:1152,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-17.5,y:-17.5,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"BulletFxGraphics0000",frame:{x:3753,y:864,w:15,h:9},rotated:!1,trimmed:!0,spriteSourceSize:{x:-7.1,y:-4.8,w:57,h:53},sourceSize:{w:57,h:53}},{filename:"BulletFxGraphics0001",frame:{x:3192,y:1033,w:41,h:37},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.1,y:-19.8,w:57,h:53},sourceSize:{w:57,h:53}},{filename:"BulletFxGraphics0002",frame:{x:379,y:1250,w:54,h:44},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.1,y:-21.8,w:57,h:53},sourceSize:{w:57,h:53}},{filename:"BulletFxGraphics0003",frame:{x:3603,y:3614,w:54,h:52},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.1,y:-26.8,w:57,h:53},sourceSize:{w:57,h:53}},{filename:"BulletFxGraphics0004",frame:{x:889,y:3613,w:56,h:53},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.1,y:-27.8,w:57,h:53},sourceSize:{w:57,h:53}},{filename:"BulletFxGraphics0005",frame:{x:3,y:3,w:0,h:0},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-.8,w:57,h:53},sourceSize:{w:57,h:53}},{filename:"BulletGraphics0000",frame:{x:3085,y:644,w:11,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-5.4,y:-3.8,w:11,h:7},sourceSize:{w:11,h:7}},{filename:"BurgerAchievementGraphics0000",frame:{x:3,y:3,w:701,h:525},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:701,h:525},sourceSize:{w:701,h:525}},{filename:"BurgerGraphics0000",frame:{x:2113,y:826,w:30,h:34},rotated:!1,trimmed:!0,spriteSourceSize:{x:-14.9,y:-20.7,w:30,h:34},sourceSize:{w:30,h:34}},{filename:"BurgerIndicator0000",frame:{x:2745,y:481,w:114,h:42},rotated:!1,trimmed:!0,spriteSourceSize:{x:-2.8,y:-3.5,w:114,h:42},sourceSize:{w:114,h:42}},{filename:"BurgerSmallGraphics0000",frame:{x:1192,y:877,w:27,h:29},rotated:!1,trimmed:!0,spriteSourceSize:{x:-14.2,y:-17.5,w:27,h:29},sourceSize:{w:27,h:29}},{filename:"CameraGraphics0000",frame:{x:2362,y:823,w:26,h:24},rotated:!1,trimmed:!0,spriteSourceSize:{x:-6,y:-10,w:26,h:24},sourceSize:{w:26,h:24}},{filename:"CameraGun0000",frame:{x:3193,y:865,w:24,h:18},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22,y:-10.9,w:68,h:23},sourceSize:{w:68,h:23}},{filename:"CameraGun0001",frame:{x:202,y:1427,w:68,h:23},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22,y:-11.9,w:68,h:23},sourceSize:{w:68,h:23}},{filename:"CreditsButton0000",frame:{x:2367,y:3602,w:106,h:32},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:.2,w:106,h:33},sourceSize:{w:106,h:33}},{filename:"CreditsButton0001",frame:{x:3965,y:3604,w:106,h:32},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:.2,w:106,h:33},sourceSize:{w:106,h:33}},{filename:"CreditsButton0002",frame:{x:3965,y:3604,w:106,h:32},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:.2,w:106,h:33},sourceSize:{w:106,h:33}},{filename:"DadGraphics0000",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0001",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0002",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0003",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0004",frame:{x:203,y:3486,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0005",frame:{x:1890,y:3490,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0006",frame:{x:1890,y:3490,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0007",frame:{x:1890,y:3490,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0008",frame:{x:1890,y:3490,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0009",frame:{x:3415,y:3498,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0010",frame:{x:3415,y:3498,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0011",frame:{x:2891,y:3499,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0012",frame:{x:2891,y:3499,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0013",frame:{x:1731,y:3501,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0014",frame:{x:1731,y:3501,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0015",frame:{x:1731,y:3501,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0016",frame:{x:3415,y:3498,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0017",frame:{x:3415,y:3498,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0018",frame:{x:3415,y:3498,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0019",frame:{x:3415,y:3498,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0020",frame:{x:1890,y:3490,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0021",frame:{x:1890,y:3490,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0022",frame:{x:1890,y:3490,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0023",frame:{x:3486,y:3501,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0024",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0025",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0026",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0027",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0028",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0029",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0030",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0031",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0032",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0033",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0034",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0035",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0036",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0037",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0038",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0039",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0040",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0041",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0042",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0043",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0044",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0045",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0046",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0047",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0048",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0049",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0050",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0051",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0052",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0053",frame:{x:3,y:3504,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0054",frame:{x:3,y:3504,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0055",frame:{x:3,y:3504,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0056",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0057",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0058",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0059",frame:{x:2962,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0060",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0061",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0062",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0063",frame:{x:1194,y:3503,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0064",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0065",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0066",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0067",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0068",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0069",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0070",frame:{x:1379,y:3502,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0071",frame:{x:3698,y:3505,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0072",frame:{x:3698,y:3505,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0073",frame:{x:3698,y:3505,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0074",frame:{x:1039,y:3509,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0075",frame:{x:1039,y:3509,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0076",frame:{x:1039,y:3509,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0077",frame:{x:1039,y:3509,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0078",frame:{x:1039,y:3509,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0079",frame:{x:1632,y:3512,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0080",frame:{x:1632,y:3512,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0081",frame:{x:1632,y:3512,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0082",frame:{x:1632,y:3512,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0083",frame:{x:1632,y:3512,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0084",frame:{x:3205,y:3513,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0085",frame:{x:1986,y:3480,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0086",frame:{x:3033,y:3514,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0087",frame:{x:3033,y:3514,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0088",frame:{x:3033,y:3514,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0089",frame:{x:3033,y:3514,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0090",frame:{x:3033,y:3514,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0091",frame:{x:3033,y:3514,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0092",frame:{x:3033,y:3514,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0093",frame:{x:74,y:3515,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0094",frame:{x:74,y:3515,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0095",frame:{x:74,y:3515,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0096",frame:{x:74,y:3515,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0097",frame:{x:74,y:3515,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0098",frame:{x:74,y:3515,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0099",frame:{x:478,y:3516,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0100",frame:{x:478,y:3516,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0101",frame:{x:1110,y:3516,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0102",frame:{x:549,y:3523,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0103",frame:{x:405,y:3526,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0104",frame:{x:405,y:3526,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0105",frame:{x:405,y:3526,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"DadGraphics0106",frame:{x:405,y:3526,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.3,w:68,h:62},sourceSize:{w:68,h:62}},{filename:"Decor10Graphics0000",frame:{x:439,y:1135,w:38,h:57},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-57.7,w:38,h:57},sourceSize:{w:38,h:57}},{filename:"Decor11Graphics0000",frame:{x:1599,y:937,w:19,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.7,y:-66.2,w:19,h:66},sourceSize:{w:19,h:66}},{filename:"Decor12Graphics0000",frame:{x:2363,y:1013,w:24,h:32},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-32.9,w:24,h:32},sourceSize:{w:24,h:32}},{filename:"Decor13Graphics0000",frame:{x:2476,y:3618,w:86,h:34},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.3,y:-34.8,w:86,h:34},sourceSize:{w:86,h:34}},{filename:"Decor14Graphics0000",frame:{x:1725,y:1476,w:43,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.3,y:-77.4,w:43,h:77},sourceSize:{w:43,h:77}},{filename:"Decor15Graphics0000",frame:{x:3393,y:3077,w:60,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.5,y:-86.2,w:60,h:86},sourceSize:{w:60,h:86}},{filename:"Decor16Graphics0000",frame:{x:1324,y:3439,w:52,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-11.2,y:-76.3,w:52,h:84},sourceSize:{w:52,h:84}},{filename:"Decor17Graphics0000",frame:{x:3152,y:1499,w:49,h:58},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-58.2,w:49,h:58},sourceSize:{w:49,h:58}},{filename:"Decor18Graphics0000",frame:{x:1809,y:1561,w:51,h:53},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-53.7,w:51,h:53},sourceSize:{w:51,h:53}},{filename:"Decor19Graphics0000",frame:{x:3965,y:1077,w:40,h:23},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-23.2,w:40,h:23},sourceSize:{w:40,h:23}},{filename:"Decor1Graphics0000",frame:{x:129,y:3622,w:84,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32.4,y:-20.4,w:84,h:33},sourceSize:{w:84,h:33}},{filename:"Decor20Graphics0000",frame:{x:1342,y:1061,w:41,h:56},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.2,y:-56.7,w:41,h:56},sourceSize:{w:41,h:56}},{filename:"Decor21Graphics0000",frame:{x:2962,y:1109,w:51,h:38},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-38.1,w:51,h:38},sourceSize:{w:51,h:38}},{filename:"Decor22Graphics0000",frame:{x:2393,y:953,w:64,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-54.3,w:64,h:54},sourceSize:{w:64,h:54}},{filename:"Decor23Graphics0000",frame:{x:4017,y:3,w:68,h:138},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-135.3,w:68,h:138},sourceSize:{w:68,h:138}},{filename:"Decor24Graphics0000",frame:{x:2382,y:1417,w:48,h:45},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.2,y:-45.4,w:48,h:45},sourceSize:{w:48,h:45}},{filename:"Decor25Graphics0000",frame:{x:1766,y:3096,w:105,h:49},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-49.3,w:105,h:49},sourceSize:{w:105,h:49}},{filename:"Decor26Graphics0000",frame:{x:2432,y:3226,w:105,h:46},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-46.6,w:105,h:46},sourceSize:{w:105,h:46}},{filename:"Decor27Graphics0000",frame:{x:2020,y:3608,w:87,h:36},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-36,w:87,h:36},sourceSize:{w:87,h:36}},{filename:"Decor2Graphics0000",frame:{x:288,y:1225,w:53,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.9,y:-20,w:53,h:20},sourceSize:{w:53,h:20}},{filename:"Decor3Graphics0000",frame:{x:1380,y:1331,w:33,h:26},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.2,y:-26.8,w:33,h:26},sourceSize:{w:33,h:26}},{filename:"Decor4Graphics0000",frame:{x:3276,y:2356,w:56,h:38},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.2,y:-39,w:56,h:38},sourceSize:{w:56,h:38}},{filename:"Decor5Graphics0000",frame:{x:3639,y:830,w:22,h:31},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.2,y:-31.2,w:22,h:31},sourceSize:{w:22,h:31}},{filename:"Decor6Graphics0000",frame:{x:3326,y:2074,w:125,h:57},rotated:!1,trimmed:!0,spriteSourceSize:{x:-2,y:-57.3,w:125,h:57},sourceSize:{w:125,h:57}},{filename:"Decor7Graphics0000",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0001",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0002",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0003",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0004",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0005",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0006",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0007",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0008",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0009",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0010",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0011",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0012",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0013",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0014",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0015",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0016",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0017",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0018",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0019",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0020",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0021",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0022",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0023",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0024",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0025",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0026",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0027",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0028",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0029",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0030",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0031",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0032",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0033",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0034",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0035",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0036",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0037",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0038",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0039",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0040",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0041",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0042",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0043",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0044",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0045",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0046",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0047",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0048",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0049",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0050",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0051",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0052",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0053",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0054",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0055",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0056",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0057",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0058",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0059",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0060",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0061",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0062",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0063",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0064",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0065",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0066",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0067",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0068",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0069",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0070",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0071",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0072",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0073",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0074",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0075",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0076",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0077",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0078",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0079",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0080",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0081",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0082",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0083",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0084",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0085",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0086",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0087",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0088",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0089",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0090",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0091",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0092",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0093",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0094",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0095",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0096",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0097",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0098",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0099",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0100",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0101",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0102",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0103",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0104",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0105",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0106",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0107",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0108",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0109",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0110",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0111",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0112",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0113",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0114",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0115",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0116",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0117",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0118",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0119",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0120",frame:{x:2750,y:3614,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0121",frame:{x:2750,y:3614,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0122",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0123",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0124",frame:{x:2750,y:3614,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0125",frame:{x:2750,y:3614,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0126",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor7Graphics0127",frame:{x:2252,y:3611,w:111,h:27},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-27.1,w:111,h:27},sourceSize:{w:111,h:27}},{filename:"Decor8Graphics0000",frame:{x:3726,y:864,w:24,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.5,y:-21.3,w:24,h:21},sourceSize:{w:24,h:21}},{filename:"Decor9Graphics0000",frame:{x:2862,y:481,w:18,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.7,y:-21.8,w:18,h:21},sourceSize:{w:18,h:21}},{filename:"DoorGraphics0000",frame:{x:1748,y:700,w:20,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:70},sourceSize:{w:20,h:70}},{filename:"DoorGraphics0001",frame:{x:2212,y:866,w:20,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:70},sourceSize:{w:20,h:70}},{filename:"DoorGraphics0002",frame:{x:3059,y:888,w:20,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:70},sourceSize:{w:20,h:70}},{filename:"DoorGraphics0003",frame:{x:1076,y:895,w:20,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:70},sourceSize:{w:20,h:70}},{filename:"DoorGraphics0004",frame:{x:853,y:899,w:20,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:70},sourceSize:{w:20,h:70}},{filename:"DoorGraphics0005",frame:{x:1388,y:958,w:20,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:70},sourceSize:{w:20,h:70}},{filename:"ElectroSplashGraphics0000",frame:{x:1255,y:1015,w:31,h:22},rotated:!1,trimmed:!0,spriteSourceSize:{x:-16,y:-10.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0001",frame:{x:2914,y:980,w:42,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:-26,y:-10.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0002",frame:{x:3749,y:3627,w:54,h:39},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-13.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0003",frame:{x:3278,y:1083,w:59,h:45},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-16.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0004",frame:{x:1170,y:1480,w:51,h:36},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22,y:-22.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0005",frame:{x:1181,y:1223,w:44,h:32},rotated:!1,trimmed:!0,spriteSourceSize:{x:-8,y:-29.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0006",frame:{x:1082,y:1688,w:50,h:37},rotated:!1,trimmed:!0,spriteSourceSize:{x:-11,y:-32.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0007",frame:{x:2171,y:972,w:36,h:37},rotated:!1,trimmed:!0,spriteSourceSize:{x:-12,y:-32.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0008",frame:{x:2868,y:1060,w:33,h:39},rotated:!1,trimmed:!0,spriteSourceSize:{x:-18,y:-40.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0009",frame:{x:1707,y:810,w:36,h:44},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20,y:-44.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0010",frame:{x:947,y:1036,w:22,h:31},rotated:!1,trimmed:!0,spriteSourceSize:{x:-6,y:-30.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0011",frame:{x:2586,y:625,w:10,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1,y:-19.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0012",frame:{x:4088,y:3,w:5,h:13},rotated:!1,trimmed:!0,spriteSourceSize:{x:-2,y:-18.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0013",frame:{x:3,y:3,w:0,h:0},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1,y:-.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"ElectroSplashGraphics0014",frame:{x:1255,y:1015,w:31,h:22},rotated:!1,trimmed:!0,spriteSourceSize:{x:-16,y:-10.6,w:76,h:73},sourceSize:{w:76,h:73}},{filename:"EnemyLimiterGraphics0000",frame:{x:2006,y:682,w:15,h:15},rotated:!1,trimmed:!0,spriteSourceSize:{x:-7.5,y:-7.5,w:15,h:15},sourceSize:{w:15,h:15}},{filename:"ExitGraphics0000",frame:{x:3084,y:2521,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0001",frame:{x:3084,y:2521,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0002",frame:{x:3903,y:2523,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0003",frame:{x:3991,y:2523,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0004",frame:{x:162,y:2532,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0005",frame:{x:782,y:2534,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0006",frame:{x:2032,y:2535,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0007",frame:{x:2464,y:2535,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0008",frame:{x:2552,y:2535,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0009",frame:{x:3172,y:2536,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0010",frame:{x:250,y:2547,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0011",frame:{x:1383,y:2547,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0012",frame:{x:1842,y:2548,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0013",frame:{x:630,y:2550,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0014",frame:{x:1930,y:2550,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0015",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0016",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0017",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0018",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0019",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0020",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0021",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0022",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0023",frame:{x:2995,y:2554,w:85,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0024",frame:{x:3193,y:888,w:116,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-61,y:-37.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0025",frame:{x:3908,y:889,w:113,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-58,y:-39.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0026",frame:{x:1999,y:859,w:111,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-56,y:-42.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0027",frame:{x:200,y:892,w:112,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-55,y:-35.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0028",frame:{x:1388,y:1040,w:113,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-53,y:-47.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0029",frame:{x:2683,y:1832,w:100,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-37.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0030",frame:{x:949,y:1320,w:106,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-54,y:-43.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0031",frame:{x:496,y:1003,w:105,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-53,y:-48.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0032",frame:{x:3011,y:1360,w:101,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-43.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0033",frame:{x:2434,y:1377,w:95,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-43.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0034",frame:{x:3644,y:1376,w:92,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-42.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0035",frame:{x:2578,y:1060,w:98,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-42.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0036",frame:{x:2773,y:1165,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0037",frame:{x:1523,y:1172,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0038",frame:{x:1229,y:1173,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0039",frame:{x:3312,y:888,w:100,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0040",frame:{x:3733,y:1173,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0041",frame:{x:2457,y:1174,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0042",frame:{x:3828,y:1185,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0043",frame:{x:3183,y:1196,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0044",frame:{x:439,y:1199,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0045",frame:{x:896,y:1202,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0046",frame:{x:3,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0047",frame:{x:98,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0048",frame:{x:3536,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0049",frame:{x:3536,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0050",frame:{x:3536,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0051",frame:{x:3536,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0052",frame:{x:3536,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0053",frame:{x:3536,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0054",frame:{x:3536,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0055",frame:{x:3923,y:1206,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0056",frame:{x:534,y:1207,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0057",frame:{x:762,y:1208,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0058",frame:{x:629,y:1209,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0059",frame:{x:1618,y:1209,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0060",frame:{x:2355,y:1214,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0061",frame:{x:991,y:1219,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0062",frame:{x:2152,y:1220,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0063",frame:{x:2247,y:1220,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0064",frame:{x:1086,y:1223,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0065",frame:{x:3370,y:1223,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0066",frame:{x:193,y:1225,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0067",frame:{x:1324,y:1230,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"ExitGraphics0068",frame:{x:1324,y:1230,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-46.1,w:121,h:100},sourceSize:{w:121,h:100}},{filename:"FightingGraphics0000",frame:{x:2043,y:1570,w:39,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:-19.3,y:-19.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0001",frame:{x:1181,y:3568,w:62,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.3,y:-22.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0002",frame:{x:331,y:2190,w:85,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43.3,y:-36.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0003",frame:{x:1327,y:751,w:109,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-55.4,y:-51.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0004",frame:{x:2394,y:743,w:111,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-56.4,y:-53.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0005",frame:{x:2870,y:670,w:114,h:108},rotated:!1,trimmed:!0,spriteSourceSize:{x:-58.4,y:-55.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0006",frame:{x:2639,y:670,w:116,h:109},rotated:!1,trimmed:!0,spriteSourceSize:{x:-59.4,y:-56.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0007",frame:{x:3668,y:634,w:119,h:112},rotated:!1,trimmed:!0,spriteSourceSize:{x:-60.4,y:-58.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0008",frame:{x:2394,y:625,w:122,h:115},rotated:!1,trimmed:!0,spriteSourceSize:{x:-62.4,y:-60.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0009",frame:{x:2676,y:1162,w:94,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.4,y:-51.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0010",frame:{x:2758,y:670,w:109,h:113},rotated:!1,trimmed:!0,spriteSourceSize:{x:-58.4,y:-63.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0011",frame:{x:1892,y:661,w:111,h:117},rotated:!1,trimmed:!0,spriteSourceSize:{x:-59.4,y:-65.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0012",frame:{x:3551,y:634,w:114,h:119},rotated:!1,trimmed:!0,spriteSourceSize:{x:-60.4,y:-66.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0013",frame:{x:2275,y:625,w:116,h:121},rotated:!1,trimmed:!0,spriteSourceSize:{x:-61.4,y:-67.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0014",frame:{x:2027,y:625,w:120,h:124},rotated:!1,trimmed:!0,spriteSourceSize:{x:-63.4,y:-69.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0015",frame:{x:1902,y:531,w:122,h:127},rotated:!1,trimmed:!0,spriteSourceSize:{x:-64.4,y:-70.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0016",frame:{x:2508,y:783,w:102,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-55.4,y:-49.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0017",frame:{x:3772,y:783,w:102,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-55.4,y:-49.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0018",frame:{x:2006,y:752,w:104,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-56.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0019",frame:{x:3428,y:753,w:104,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-56.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0020",frame:{x:2251,y:749,w:108,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-57.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0021",frame:{x:2519,y:670,w:117,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:-57.4,y:-53.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0022",frame:{x:1771,y:658,w:118,h:112},rotated:!1,trimmed:!0,spriteSourceSize:{x:-57.4,y:-54.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0023",frame:{x:3428,y:634,w:120,h:116},rotated:!1,trimmed:!0,spriteSourceSize:{x:-57.4,y:-56.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0024",frame:{x:2150,y:625,w:122,h:118},rotated:!1,trimmed:!0,spriteSourceSize:{x:-58.4,y:-57.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0025",frame:{x:3860,y:548,w:125,h:122},rotated:!1,trimmed:!0,spriteSourceSize:{x:-60.4,y:-59.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0026",frame:{x:1771,y:531,w:128,h:124},rotated:!1,trimmed:!0,spriteSourceSize:{x:-62.4,y:-60.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0027",frame:{x:1522,y:700,w:110,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-60.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0028",frame:{x:1635,y:700,w:110,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-60.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0029",frame:{x:2987,y:670,w:111,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-61.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0030",frame:{x:3790,y:673,w:111,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-61.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"FightingGraphics0031",frame:{x:3904,y:673,w:111,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-61.4,y:-50.6,w:130,h:134},sourceSize:{w:130,h:134}},{filename:"Fragment1Graphics0000",frame:{x:879,y:875,w:19,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-9.1,y:-3.5,w:19,h:7},sourceSize:{w:19,h:7}},{filename:"Fragment2Graphics0000",frame:{x:411,y:876,w:15,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-7.1,y:-3.3,w:15,h:7},sourceSize:{w:15,h:7}},{filename:"Fragment3Graphics0000",frame:{x:3085,y:654,w:11,h:5},rotated:!1,trimmed:!0,spriteSourceSize:{x:-5.4,y:-2.6,w:11,h:5},sourceSize:{w:11,h:5}},{filename:"GlassDoorGraphics0000",frame:{x:2362,y:749,w:20,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:71},sourceSize:{w:20,h:71}},{filename:"GlassDoorGraphics0001",frame:{x:2113,y:752,w:20,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:71},sourceSize:{w:20,h:71}},{filename:"GlassDoorGraphics0002",frame:{x:3639,y:756,w:20,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:71},sourceSize:{w:20,h:71}},{filename:"GlassDoorGraphics0003",frame:{x:2613,y:783,w:20,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:71},sourceSize:{w:20,h:71}},{filename:"GlassDoorGraphics0004",frame:{x:2847,y:786,w:20,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:71},sourceSize:{w:20,h:71}},{filename:"GlassDoorGraphics0005",frame:{x:879,y:791,w:20,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-35,w:20,h:71},sourceSize:{w:20,h:71}},{filename:"Guardian2Graphics0000",frame:{x:759,y:1411,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0001",frame:{x:2572,y:1473,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0002",frame:{x:4034,y:1923,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0003",frame:{x:673,y:3228,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0004",frame:{x:456,y:3231,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0005",frame:{x:730,y:3275,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0006",frame:{x:2421,y:3275,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0007",frame:{x:2478,y:3275,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0008",frame:{x:1803,y:3276,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0009",frame:{x:1106,y:786,w:115,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-58.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0010",frame:{x:3535,y:3280,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0011",frame:{x:3592,y:3280,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0012",frame:{x:2676,y:3281,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0013",frame:{x:887,y:1912,w:84,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0014",frame:{x:3552,y:2049,w:82,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-56.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0015",frame:{x:2818,y:3305,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0016",frame:{x:2875,y:3305,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0017",frame:{x:787,y:3307,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0018",frame:{x:3890,y:3307,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0019",frame:{x:3947,y:3307,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0020",frame:{x:4004,y:3307,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0021",frame:{x:371,y:3308,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0022",frame:{x:3,y:3310,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0023",frame:{x:1860,y:3314,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0024",frame:{x:1917,y:3314,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0025",frame:{x:3296,y:3314,w:54,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0026",frame:{x:1174,y:3282,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0027",frame:{x:2932,y:3282,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0028",frame:{x:2113,y:3286,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0029",frame:{x:1399,y:2062,w:81,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-55.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0030",frame:{x:513,y:3288,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0031",frame:{x:3380,y:1983,w:83,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0032",frame:{x:2916,y:889,w:55,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0033",frame:{x:1524,y:3288,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0034",frame:{x:2663,y:1912,w:84,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0035",frame:{x:1708,y:3288,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0036",frame:{x:1074,y:1925,w:83,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-57.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0037",frame:{x:1467,y:3240,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0038",frame:{x:2293,y:3240,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0039",frame:{x:1029,y:3241,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0040",frame:{x:3478,y:3252,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0041",frame:{x:4051,y:3474,w:39,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-19.3,y:-53.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0042",frame:{x:1952,y:2378,w:39,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-19.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0043",frame:{x:3471,y:2904,w:39,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0044",frame:{x:4051,y:2108,w:39,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0045",frame:{x:3666,y:2451,w:72,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-21.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0046",frame:{x:2946,y:2999,w:62,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0047",frame:{x:4042,y:1832,w:43,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0048",frame:{x:1806,y:1260,w:45,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0049",frame:{x:896,y:1105,w:46,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0050",frame:{x:802,y:1005,w:48,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0051",frame:{x:1896,y:1350,w:50,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-25.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0052",frame:{x:3197,y:2448,w:73,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-26.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0053",frame:{x:3666,y:2364,w:76,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.3,y:-53.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0054",frame:{x:651,y:3389,w:52,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-26.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0055",frame:{x:3172,y:3068,w:61,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-25.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0056",frame:{x:2539,y:2178,w:80,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-56.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0057",frame:{x:2100,y:2655,w:68,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0058",frame:{x:3374,y:1517,w:44,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0059",frame:{x:1576,y:3542,w:43,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0060",frame:{x:2706,y:3545,w:41,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-21.3,y:-59.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0061",frame:{x:3,y:2471,w:71,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0062",frame:{x:498,y:2176,w:81,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0063",frame:{x:1329,y:3261,w:56,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0064",frame:{x:1581,y:3324,w:55,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0065",frame:{x:4051,y:3474,w:39,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-19.3,y:-53.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0066",frame:{x:2888,y:3029,w:54,h:56},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0067",frame:{x:2957,y:2216,w:81,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0068",frame:{x:4035,y:2199,w:55,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0069",frame:{x:3663,y:2540,w:70,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0070",frame:{x:3041,y:2123,w:41,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0071",frame:{x:1847,y:3009,w:63,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-21.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0072",frame:{x:718,y:2550,w:54,h:55},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0073",frame:{x:2192,y:3544,w:68,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0074",frame:{x:2057,y:3480,w:45,h:57},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0075",frame:{x:3412,y:3563,w:61,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0076",frame:{x:3550,y:1028,w:41,h:57},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0077",frame:{x:816,y:1309,w:38,h:56},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0078",frame:{x:4035,y:3153,w:58,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0079",frame:{x:411,y:789,w:51,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0080",frame:{x:3249,y:1560,w:39,h:55},rotated:!1,trimmed:!0,spriteSourceSize:{x:-21.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0081",frame:{x:2888,y:3029,w:54,h:56},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0082",frame:{x:759,y:1411,w:54,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-58.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0083",frame:{x:936,y:3294,w:54,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.3,y:-57.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0084",frame:{x:3160,y:3299,w:55,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.3,y:-55.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0085",frame:{x:2464,y:3136,w:58,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.3,y:-56.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0086",frame:{x:274,y:3540,w:67,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.3,y:-54.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0087",frame:{x:1802,y:3545,w:69,h:58},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-36.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0088",frame:{x:1035,y:3090,w:72,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-36.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0089",frame:{x:1320,y:3192,w:75,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0090",frame:{x:232,y:3193,w:75,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0091",frame:{x:3589,y:3211,w:74,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0092",frame:{x:2948,y:3213,w:74,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0093",frame:{x:1086,y:3295,w:72,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0094",frame:{x:2535,y:3315,w:71,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0095",frame:{x:637,y:3320,w:71,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0096",frame:{x:3793,y:3363,w:70,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0097",frame:{x:579,y:3389,w:69,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian2Graphics0098",frame:{x:428,y:3392,w:69,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.3,y:-44.4,w:115,h:94},sourceSize:{w:115,h:94}},{filename:"Guardian3Graphics0000",frame:{x:3715,y:1274,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0001",frame:{x:2450,y:1275,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0002",frame:{x:2302,y:1751,w:92,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0003",frame:{x:2251,y:857,w:104,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0004",frame:{x:168,y:1892,w:84,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0005",frame:{x:2877,y:2183,w:77,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0006",frame:{x:2125,y:1634,w:82,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0007",frame:{x:2267,y:1013,w:93,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0008",frame:{x:2916,y:1994,w:80,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0009",frame:{x:3685,y:1767,w:80,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0010",frame:{x:1892,y:871,w:95,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0011",frame:{x:1181,y:1274,w:84,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0012",frame:{x:342,y:1909,w:78,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0013",frame:{x:3,y:1700,w:77,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0014",frame:{x:2639,y:782,w:101,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-57,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0015",frame:{x:604,y:1003,w:96,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0016",frame:{x:1896,y:1443,w:104,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-53,y:-75.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0017",frame:{x:975,y:997,w:96,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-75.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0018",frame:{x:780,y:791,w:96,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0019",frame:{x:2650,y:1686,w:77,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0020",frame:{x:3875,y:1077,w:87,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0021",frame:{x:2925,y:1341,w:83,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0022",frame:{x:2896,y:1449,w:82,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0023",frame:{x:3596,y:985,w:92,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0024",frame:{x:2347,y:1651,w:84,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-74.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0025",frame:{x:1082,y:1728,w:78,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0026",frame:{x:88,y:1831,w:77,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0027",frame:{x:1329,y:1859,w:79,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0028",frame:{x:3442,y:1028,w:105,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0029",frame:{x:1343,y:1660,w:82,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0030",frame:{x:538,y:1620,w:94,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0031",frame:{x:3457,y:1409,w:87,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0032",frame:{x:3807,y:1286,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0033",frame:{x:3839,y:1409,w:87,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0034",frame:{x:2450,y:1275,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0035",frame:{x:3145,y:1297,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0036",frame:{x:3715,y:1274,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0037",frame:{x:1555,y:1412,w:84,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0038",frame:{x:2723,y:1266,w:87,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0039",frame:{x:2542,y:1367,w:84,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0040",frame:{x:1858,y:1245,w:88,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0041",frame:{x:2809,y:1412,w:84,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0042",frame:{x:3547,y:1476,w:83,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0043",frame:{x:2775,y:1060,w:90,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0044",frame:{x:756,y:899,w:94,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0045",frame:{x:3877,y:783,w:102,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0046",frame:{x:1380,y:1362,w:85,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0047",frame:{x:288,y:1250,w:88,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0048",frame:{x:1246,y:1414,w:84,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0049",frame:{x:3055,y:1254,w:87,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0050",frame:{x:3099,y:1033,w:90,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0051",frame:{x:296,y:1016,w:91,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0052",frame:{x:1468,y:1369,w:84,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0053",frame:{x:1192,y:909,w:94,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0054",frame:{x:1084,y:1480,w:83,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0055",frame:{x:1160,y:1015,w:92,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0056",frame:{x:1555,y:1412,w:84,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0057",frame:{x:1581,y:2092,w:84,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-79.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0058",frame:{x:630,y:1715,w:87,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-78.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0059",frame:{x:344,y:1814,w:84,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-78.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0060",frame:{x:3904,y:1630,w:84,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0061",frame:{x:2864,y:2275,w:84,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0062",frame:{x:998,y:2276,w:84,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-78.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0063",frame:{x:2081,y:2269,w:85,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-78.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0064",frame:{x:1956,y:1234,w:92,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-78.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0065",frame:{x:1255,y:1061,w:84,h:109},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0066",frame:{x:1787,y:1035,w:90,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0067",frame:{x:1332,y:1762,w:84,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0068",frame:{x:255,y:1892,w:84,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-78.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0069",frame:{x:3721,y:1675,w:91,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-78.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0070",frame:{x:1581,y:2092,w:84,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-79.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0071",frame:{x:3715,y:1274,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0072",frame:{x:2914,y:1011,w:99,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0073",frame:{x:3,y:3100,w:87,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-58.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0074",frame:{x:1171,y:2315,w:100,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-51.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0075",frame:{x:2813,y:1329,w:109,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-61.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0076",frame:{x:3567,y:2349,w:96,h:67},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-52.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0077",frame:{x:3598,y:1868,w:89,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-82.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0078",frame:{x:176,y:1661,w:82,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-84.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0079",frame:{x:379,y:1300,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-84.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0080",frame:{x:1596,y:1059,w:84,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-84.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0081",frame:{x:3227,y:775,w:97,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-84.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0082",frame:{x:3327,y:775,w:95,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-84.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0083",frame:{x:569,y:890,w:89,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-84.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0084",frame:{x:3348,y:1028,w:91,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0085",frame:{x:1908,y:1676,w:91,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0086",frame:{x:857,y:1303,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0087",frame:{x:2743,y:786,w:101,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-72.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0088",frame:{x:2135,y:1321,w:96,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0089",frame:{x:2286,y:1417,w:93,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0090",frame:{x:703,y:1005,w:96,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0091",frame:{x:3332,y:1710,w:89,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0092",frame:{x:1342,y:1125,w:89,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0093",frame:{x:1152,y:1382,w:91,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0094",frame:{x:456,y:1499,w:89,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0095",frame:{x:2485,y:1872,w:89,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0096",frame:{x:1508,y:1273,w:95,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-70.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0097",frame:{x:1504,y:1040,w:89,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0098",frame:{x:2987,y:780,w:101,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0099",frame:{x:3,y:1307,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0100",frame:{x:203,y:789,w:101,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-72.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0101",frame:{x:2234,y:1321,w:96,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0102",frame:{x:988,y:1423,w:93,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0103",frame:{x:2393,y:1010,w:96,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-76.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0104",frame:{x:3332,y:1710,w:89,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0105",frame:{x:1342,y:1125,w:89,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0106",frame:{x:2002,y:1741,w:89,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-67.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0107",frame:{x:3907,y:979,w:101,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0108",frame:{x:646,y:1499,w:89,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-72.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0109",frame:{x:278,y:1608,w:91,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0110",frame:{x:857,y:1303,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0111",frame:{x:2362,y:851,w:101,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-72.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0112",frame:{x:2286,y:1417,w:93,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0113",frame:{x:2186,y:1804,w:91,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0114",frame:{x:1342,y:1125,w:89,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0115",frame:{x:1333,y:1467,w:100,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0116",frame:{x:2041,y:1833,w:89,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0117",frame:{x:3982,y:783,w:101,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-77.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0118",frame:{x:857,y:1303,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0119",frame:{x:1311,y:856,w:101,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0120",frame:{x:95,y:1307,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0121",frame:{x:3465,y:1307,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0122",frame:{x:3899,y:1307,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0123",frame:{x:3991,y:1307,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0124",frame:{x:975,y:895,w:98,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0125",frame:{x:471,y:1308,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0126",frame:{x:724,y:1309,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0127",frame:{x:563,y:1310,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0128",frame:{x:1606,y:1310,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0129",frame:{x:2342,y:1315,w:89,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian3Graphics0130",frame:{x:1713,y:1260,w:90,h:99},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-73.9,w:115,h:116},sourceSize:{w:115,h:116}},{filename:"Guardian4Graphics0000",frame:{x:480,y:1096,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0001",frame:{x:947,y:1099,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0002",frame:{x:3029,y:1716,w:92,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0003",frame:{x:673,y:791,w:104,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0004",frame:{x:714,y:1818,w:84,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0005",frame:{x:3126,y:2024,w:79,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0006",frame:{x:1349,y:1555,w:82,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0007",frame:{x:200,y:982,w:93,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0008",frame:{x:1592,y:1899,w:80,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0009",frame:{x:720,y:1715,w:80,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0010",frame:{x:1439,y:810,w:95,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0011",frame:{x:3278,y:1239,w:84,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0012",frame:{x:2600,y:1794,w:80,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0013",frame:{x:96,y:1526,w:79,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0014",frame:{x:3535,y:756,w:101,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-57,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0015",frame:{x:1500,y:937,w:96,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0016",frame:{x:3,y:1409,w:104,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-53,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0017",frame:{x:1289,y:958,w:96,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0018",frame:{x:1007,y:785,w:96,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0019",frame:{x:3070,y:1499,w:79,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0020",frame:{x:3428,y:521,w:87,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0021",frame:{x:2637,y:1261,w:83,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0022",frame:{x:279,y:1355,w:82,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0023",frame:{x:661,y:891,w:92,h:106},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0024",frame:{x:3991,y:1630,w:84,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0025",frame:{x:1434,y:1584,w:80,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0026",frame:{x:1600,y:1693,w:79,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0027",frame:{x:2434,y:1734,w:81,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0028",frame:{x:3240,y:989,w:105,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0029",frame:{x:3819,y:1600,w:82,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-75.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0030",frame:{x:2370,y:1559,w:94,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0031",frame:{x:3237,y:1349,w:87,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0032",frame:{x:84,y:1103,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0033",frame:{x:1806,y:1350,w:87,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0034",frame:{x:947,y:1099,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0035",frame:{x:3965,y:1103,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0036",frame:{x:480,y:1096,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0037",frame:{x:608,y:1905,w:82,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-65.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0038",frame:{x:3509,y:1861,w:86,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-62.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0039",frame:{x:3665,y:1985,w:82,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0040",frame:{x:3862,y:1832,w:87,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0041",frame:{x:3750,y:1985,w:82,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0042",frame:{x:688,y:2004,w:82,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0043",frame:{x:2094,y:1741,w:89,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0044",frame:{x:809,y:1620,w:94,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-62.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0045",frame:{x:2950,y:1250,w:102,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-62.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0046",frame:{x:693,y:1913,w:84,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-62.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0047",frame:{x:3952,y:1832,w:87,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-62.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0048",frame:{x:1946,y:1925,w:83,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0049",frame:{x:3318,y:1803,w:87,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0050",frame:{x:538,y:1711,w:89,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0051",frame:{x:1684,y:1667,w:90,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0052",frame:{x:3580,y:1956,w:82,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0053",frame:{x:3152,y:1560,w:94,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0054",frame:{x:2540,y:1987,w:82,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0055",frame:{x:3374,y:1617,w:92,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0056",frame:{x:608,y:1905,w:82,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-65.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0057",frame:{x:3816,y:2585,w:83,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-67.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0058",frame:{x:2273,y:2207,w:87,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0059",frame:{x:3509,y:2419,w:82,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0060",frame:{x:2709,y:2134,w:83,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-62.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0061",frame:{x:3172,y:3e3,w:82,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0062",frame:{x:210,y:2948,w:83,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0063",frame:{x:3513,y:2831,w:85,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-65.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0064",frame:{x:892,y:1825,w:92,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-64.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0065",frame:{x:3424,y:1792,w:82,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0066",frame:{x:809,y:1711,w:89,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0067",frame:{x:3041,y:2290,w:82,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0068",frame:{x:991,y:2358,w:83,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44,y:-65.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0069",frame:{x:3290,y:2134,w:91,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47,y:-66.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0070",frame:{x:3816,y:2585,w:83,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-67.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0071",frame:{x:480,y:1096,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0072",frame:{x:3091,y:865,w:99,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-78.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0073",frame:{x:2033,y:3191,w:84,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45,y:-58.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0074",frame:{x:456,y:1410,w:100,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-72.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0075",frame:{x:1268,y:1331,w:109,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-61.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0076",frame:{x:3331,y:2590,w:89,h:67},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-52.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0077",frame:{x:2564,y:3e3,w:86,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-60.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0078",frame:{x:2579,y:2371,w:87,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-58.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0079",frame:{x:3041,y:2211,w:89,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-61.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0080",frame:{x:3557,y:1370,w:84,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46,y:-77.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0081",frame:{x:3739,y:1388,w:97,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0082",frame:{x:3425,y:860,w:95,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-79.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0083",frame:{x:853,y:998,w:91,h:104},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-78.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0084",frame:{x:3115,y:1399,w:89,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-71.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0085",frame:{x:3327,y:1425,w:96,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0086",frame:{x:574,y:1104,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0087",frame:{x:569,y:785,w:101,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0088",frame:{x:1968,y:1129,w:89,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0089",frame:{x:3523,y:865,w:96,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0090",frame:{x:3365,y:1324,w:89,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0091",frame:{x:2210,y:1711,w:89,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0092",frame:{x:364,y:1402,w:89,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0093",frame:{x:1058,y:1324,w:91,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0094",frame:{x:3768,y:1804,w:91,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0095",frame:{x:2060,y:1134,w:89,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-80.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0096",frame:{x:3691,y:1059,w:95,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0097",frame:{x:86,y:993,w:89,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-80.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0098",frame:{x:2870,y:781,w:101,h:105},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-77.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0099",frame:{x:802,y:1105,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0100",frame:{x:903,y:785,w:101,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0101",frame:{x:3278,y:1134,w:89,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0102",frame:{x:2113,y:866,w:96,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0103",frame:{x:187,y:1326,w:89,h:98},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-76.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0104",frame:{x:2210,y:1711,w:89,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0105",frame:{x:364,y:1402,w:89,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0106",frame:{x:110,y:1427,w:89,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0107",frame:{x:655,y:1411,w:101,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0108",frame:{x:2558,y:1676,w:89,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0109",frame:{x:2073,y:1029,w:91,h:102},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0110",frame:{x:574,y:1104,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0111",frame:{x:99,y:786,w:101,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0112",frame:{x:3523,y:865,w:96,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0113",frame:{x:1411,y:1888,w:89,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0114",frame:{x:364,y:1402,w:89,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-68.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0115",frame:{x:2382,y:1471,w:100,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-63.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0116",frame:{x:1793,y:871,w:96,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-80.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0117",frame:{x:465,y:785,w:101,h:103},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-77.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0118",frame:{x:574,y:1104,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0119",frame:{x:307,y:789,w:101,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0120",frame:{x:668,y:1106,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0121",frame:{x:1683,y:1106,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0122",frame:{x:2868,y:1109,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0123",frame:{x:2363,y:1111,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0124",frame:{x:99,y:890,w:98,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0125",frame:{x:1041,y:1116,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0126",frame:{x:2167,y:1117,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0127",frame:{x:2261,y:1117,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0128",frame:{x:1135,y:1120,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0129",frame:{x:3442,y:1120,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"Guardian4Graphics0130",frame:{x:261,y:1122,w:91,h:100},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51,y:-74.6,w:115,h:112},sourceSize:{w:115,h:112}},{filename:"GuardianGraphics0000",frame:{x:1505,y:3379,w:61,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-60.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0001",frame:{x:3,y:3569,w:61,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0002",frame:{x:1498,y:3457,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0003",frame:{x:67,y:3580,w:59,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0004",frame:{x:3143,y:3458,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0005",frame:{x:3353,y:3458,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0006",frame:{x:3189,y:3578,w:59,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0007",frame:{x:476,y:3581,w:58,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0008",frame:{x:2451,y:3527,w:57,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0009",frame:{x:404,y:3591,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0010",frame:{x:1246,y:3591,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0011",frame:{x:3543,y:3587,w:57,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0012",frame:{x:899,y:3539,w:57,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0013",frame:{x:537,y:3588,w:57,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0014",frame:{x:344,y:3540,w:57,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0015",frame:{x:686,y:3592,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0016",frame:{x:2570,y:3602,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0017",frame:{x:2758,y:3540,w:57,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0018",frame:{x:2511,y:3544,w:56,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0019",frame:{x:1961,y:3545,w:56,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0020",frame:{x:2818,y:3540,w:57,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0021",frame:{x:3625,y:3540,w:57,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0022",frame:{x:959,y:3541,w:57,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0023",frame:{x:270,y:3604,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0024",frame:{x:767,y:3542,w:57,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0025",frame:{x:3343,y:3605,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0026",frame:{x:1766,y:3606,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0027",frame:{x:2192,y:3606,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0028",frame:{x:2580,y:3527,w:57,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0029",frame:{x:2124,y:3607,w:57,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0030",frame:{x:1450,y:3533,w:57,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0031",frame:{x:3065,y:3587,w:57,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0032",frame:{x:3908,y:3462,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0033",frame:{x:905,y:3463,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0034",frame:{x:2767,y:3464,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0035",frame:{x:2829,y:3464,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0036",frame:{x:2109,y:3466,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0037",frame:{x:2171,y:3466,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0038",frame:{x:2518,y:3468,w:59,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0039",frame:{x:3685,y:3570,w:61,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0040",frame:{x:1019,y:3574,w:61,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0041",frame:{x:1697,y:3379,w:61,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-60.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0042",frame:{x:1505,y:3379,w:61,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-60.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0043",frame:{x:1086,y:2923,w:59,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0044",frame:{x:2885,y:2933,w:58,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0045",frame:{x:2421,y:2955,w:58,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0046",frame:{x:975,y:2958,w:58,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0047",frame:{x:1228,y:2884,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0048",frame:{x:2474,y:2858,w:59,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-63.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0049",frame:{x:3798,y:2881,w:59,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-63.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0050",frame:{x:4033,y:2752,w:60,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-63.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0051",frame:{x:3684,y:2895,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0052",frame:{x:2194,y:2899,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0053",frame:{x:3513,y:2900,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0054",frame:{x:2602,y:2904,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0055",frame:{x:1290,y:2928,w:59,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0056",frame:{x:1705,y:2929,w:59,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0057",frame:{x:3175,y:2904,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0058",frame:{x:3237,y:2904,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0059",frame:{x:3409,y:2904,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0060",frame:{x:1087,y:2827,w:60,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0061",frame:{x:860,y:2835,w:60,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0062",frame:{x:366,y:2905,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0063",frame:{x:2664,y:2908,w:59,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0064",frame:{x:582,y:2191,w:73,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0065",frame:{x:1148,y:2961,w:58,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0066",frame:{x:1352,y:2998,w:58,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0067",frame:{x:1086,y:2923,w:59,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0068",frame:{x:3276,y:3545,w:64,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-64.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0069",frame:{x:423,y:1994,w:81,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41.8,y:-63.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0070",frame:{x:746,y:2364,w:67,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39.8,y:-63.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0071",frame:{x:3418,y:2311,w:70,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0072",frame:{x:363,y:3001,w:57,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0073",frame:{x:3594,y:2419,w:69,h:91},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0074",frame:{x:2941,y:3568,w:60,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0075",frame:{x:3738,y:3295,w:73,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0076",frame:{x:3125,y:3587,w:56,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0077",frame:{x:2799,y:3395,w:69,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0078",frame:{x:517,y:3154,w:58,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0079",frame:{x:1083,y:3581,w:57,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-61.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0080",frame:{x:2350,y:3262,w:68,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-29.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0081",frame:{x:76,y:2842,w:62,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.8,y:-62.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0082",frame:{x:3004,y:3579,w:58,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-63.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0083",frame:{x:3276,y:3545,w:64,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-64.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0084",frame:{x:2484,y:3384,w:61,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-60.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0085",frame:{x:3476,y:3566,w:64,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0086",frame:{x:2379,y:3527,w:69,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35.8,y:-60.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0087",frame:{x:203,y:3410,w:63,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-59.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0088",frame:{x:244,y:3131,w:86,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-46.8,y:-58.4,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0089",frame:{x:3814,y:3295,w:73,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-43.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0090",frame:{x:2114,y:2889,w:77,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-38.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0091",frame:{x:3976,y:3084,w:78,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0092",frame:{x:2299,y:3085,w:78,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0093",frame:{x:163,y:3088,w:78,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0094",frame:{x:2058,y:3122,w:77,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0095",frame:{x:2219,y:3128,w:77,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0096",frame:{x:310,y:3193,w:75,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0097",frame:{x:3756,y:3226,w:73,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0098",frame:{x:3093,y:3227,w:73,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0099",frame:{x:1388,y:3295,w:72,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"GuardianGraphics0100",frame:{x:149,y:3228,w:73,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.8,y:-44.3,w:93,h:98},sourceSize:{w:93,h:98}},{filename:"HustlerGraphics0000",frame:{x:1468,y:2911,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0001",frame:{x:1880,y:2714,w:78,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0002",frame:{x:1836,y:2933,w:74,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0003",frame:{x:3255,y:2828,w:77,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0004",frame:{x:3557,y:3520,w:65,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0005",frame:{x:500,y:3444,w:63,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0006",frame:{x:566,y:3458,w:70,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0007",frame:{x:405,y:3461,w:70,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0008",frame:{x:2040,y:3409,w:66,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0009",frame:{x:3866,y:3397,w:73,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0010",frame:{x:3942,y:3397,w:73,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0011",frame:{x:3970,y:3474,w:69,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0012",frame:{x:3666,y:3261,w:69,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0013",frame:{x:333,y:3475,w:69,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0014",frame:{x:1824,y:3474,w:63,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0015",frame:{x:3283,y:3474,w:63,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0016",frame:{x:3769,y:3432,w:63,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0017",frame:{x:620,y:3547,w:63,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0018",frame:{x:3560,y:3448,w:63,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0019",frame:{x:2124,y:3542,w:65,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0020",frame:{x:2191,y:3263,w:70,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0021",frame:{x:2445,y:3462,w:70,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0022",frame:{x:3941,y:2840,w:81,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0023",frame:{x:1487,y:3109,w:81,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0024",frame:{x:3526,y:3109,w:81,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0025",frame:{x:889,y:2519,w:81,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0026",frame:{x:1568,y:2577,w:81,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0027",frame:{x:2418,y:3051,w:81,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0028",frame:{x:3707,y:3118,w:81,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0029",frame:{x:2380,y:3119,w:81,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0030",frame:{x:1571,y:3154,w:81,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0031",frame:{x:3045,y:3154,w:81,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0032",frame:{x:1468,y:3175,w:80,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0033",frame:{x:2693,y:2835,w:80,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0034",frame:{x:1874,y:3138,w:80,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0035",frame:{x:3941,y:2840,w:81,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0036",frame:{x:1759,y:2503,w:80,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0037",frame:{x:2664,y:2748,w:75,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0038",frame:{x:3199,y:2748,w:75,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0039",frame:{x:3277,y:2749,w:75,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0040",frame:{x:1685,y:2750,w:75,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0041",frame:{x:3489,y:2750,w:75,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0042",frame:{x:3567,y:2752,w:75,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0043",frame:{x:3798,y:2802,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0044",frame:{x:1594,y:2808,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0045",frame:{x:870,y:2597,w:78,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0046",frame:{x:2122,y:2810,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0047",frame:{x:2537,y:2810,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0048",frame:{x:2312,y:2812,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0049",frame:{x:3355,y:2812,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0050",frame:{x:461,y:2814,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0051",frame:{x:3645,y:2815,w:74,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0052",frame:{x:3885,y:2752,w:75,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0053",frame:{x:2381,y:2504,w:80,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0054",frame:{x:1759,y:2503,w:80,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0055",frame:{x:1545,y:2964,w:77,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0056",frame:{x:2940,y:2718,w:78,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0057",frame:{x:2871,y:3395,w:69,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0058",frame:{x:2946,y:2920,w:72,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0059",frame:{x:3218,y:3366,w:62,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0060",frame:{x:2742,y:2753,w:72,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0061",frame:{x:1521,y:2357,w:80,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0062",frame:{x:3741,y:2470,w:75,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-71.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0063",frame:{x:3941,y:2912,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0064",frame:{x:1174,y:3211,w:72,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0065",frame:{x:706,y:3442,w:59,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0066",frame:{x:1413,y:3059,w:71,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0067",frame:{x:85,y:2348,w:76,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-70.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0068",frame:{x:1916,y:2201,w:77,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-71.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0069",frame:{x:3205,y:3220,w:64,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-71.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0070",frame:{x:1639,y:3324,w:55,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0071",frame:{x:2864,y:3228,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0072",frame:{x:2303,y:3542,w:61,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0073",frame:{x:71,y:3265,w:68,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-60.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0074",frame:{x:3432,y:2829,w:78,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-59.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0075",frame:{x:1977,y:2687,w:71,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-64.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0076",frame:{x:2379,y:2583,w:71,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0077",frame:{x:1210,y:2590,w:71,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0078",frame:{x:338,y:2556,w:78,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0079",frame:{x:3335,y:2891,w:71,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0080",frame:{x:633,y:2435,w:71,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0081",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0082",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0083",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0084",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0085",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0086",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0087",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0088",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0089",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0090",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0091",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0092",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0093",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0094",frame:{x:1033,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0095",frame:{x:1604,y:2416,w:81,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0096",frame:{x:890,y:3189,w:63,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0097",frame:{x:2465,y:2773,w:69,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0098",frame:{x:2199,y:2822,w:76,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0099",frame:{x:1008,y:2881,w:75,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0100",frame:{x:3,y:2753,w:73,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0101",frame:{x:2653,y:3004,w:64,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0102",frame:{x:1150,y:2884,w:75,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0103",frame:{x:79,y:2753,w:66,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0104",frame:{x:712,y:2686,w:73,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0105",frame:{x:3025,y:3219,w:65,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0106",frame:{x:2223,y:3053,w:73,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-60.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0107",frame:{x:590,y:3079,w:75,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0108",frame:{x:1225,y:2507,w:76,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0109",frame:{x:2648,y:3090,w:69,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-62.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0110",frame:{x:1116,y:3057,w:73,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-59.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0111",frame:{x:1961,y:2772,w:81,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0112",frame:{x:2805,y:2520,w:83,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0113",frame:{x:453,y:2893,w:71,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0114",frame:{x:3456,y:3067,w:67,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0115",frame:{x:1059,y:3364,w:70,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0116",frame:{x:3722,y:2815,w:73,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0117",frame:{x:1468,y:2911,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0118",frame:{x:1468,y:2911,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0119",frame:{x:1468,y:2911,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0120",frame:{x:1916,y:2916,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0121",frame:{x:578,y:3151,w:74,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0122",frame:{x:2525,y:3151,w:74,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0123",frame:{x:3489,y:3371,w:74,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0124",frame:{x:1011,y:2721,w:74,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0125",frame:{x:269,y:3410,w:61,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0126",frame:{x:2690,y:3477,w:65,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0127",frame:{x:290,y:3051,w:68,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0128",frame:{x:1853,y:3404,w:67,h:67},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0129",frame:{x:1108,y:2643,w:70,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0130",frame:{x:3353,y:3387,w:67,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0131",frame:{x:2445,y:2687,w:70,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-72.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0132",frame:{x:2753,y:3255,w:62,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0133",frame:{x:3283,y:3404,w:67,h:67},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0134",frame:{x:2582,y:3065,w:63,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0135",frame:{x:1923,y:3413,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0136",frame:{x:3901,y:3137,w:60,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0137",frame:{x:93,y:3100,w:60,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0138",frame:{x:2051,y:2744,w:68,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0139",frame:{x:1284,y:2590,w:71,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0140",frame:{x:2800,y:3101,w:69,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0141",frame:{x:3902,y:3060,w:71,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0142",frame:{x:1231,y:3326,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0143",frame:{x:1615,y:3077,w:70,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0144",frame:{x:804,y:3230,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0145",frame:{x:2047,y:3332,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0146",frame:{x:1035,y:3164,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0147",frame:{x:3519,y:3175,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0148",frame:{x:2264,y:3332,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0149",frame:{x:209,y:3333,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0150",frame:{x:275,y:3333,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0151",frame:{x:993,y:3333,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0152",frame:{x:993,y:3333,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0153",frame:{x:3649,y:3333,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0154",frame:{x:2170,y:3334,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0155",frame:{x:2170,y:3334,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0156",frame:{x:2170,y:3334,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0157",frame:{x:2330,y:3335,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0158",frame:{x:2733,y:3335,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0159",frame:{x:2170,y:3334,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0160",frame:{x:1974,y:3336,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0161",frame:{x:3,y:3415,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0162",frame:{x:3941,y:3230,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0163",frame:{x:60,y:3338,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0164",frame:{x:1105,y:3218,w:66,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0165",frame:{x:4018,y:3397,w:61,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0166",frame:{x:3566,y:3371,w:62,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0167",frame:{x:1993,y:3080,w:62,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0168",frame:{x:2298,y:1934,w:65,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0169",frame:{x:4009,y:3230,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0170",frame:{x:750,y:3116,w:61,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0171",frame:{x:902,y:3101,w:60,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0172",frame:{x:226,y:2862,w:67,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0173",frame:{x:388,y:3231,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0174",frame:{x:2794,y:3178,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0175",frame:{x:939,y:2783,w:68,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0176",frame:{x:1417,y:2760,w:66,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0177",frame:{x:3964,y:3153,w:68,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0178",frame:{x:1471,y:2592,w:67,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-72.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0179",frame:{x:842,y:3417,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0180",frame:{x:3085,y:3077,w:70,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0181",frame:{x:3,y:3233,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0182",frame:{x:763,y:2932,w:60,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0183",frame:{x:1808,y:2700,w:69,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0184",frame:{x:3635,y:2169,w:78,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-72.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0185",frame:{x:3423,y:3421,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0186",frame:{x:1561,y:2887,w:75,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0187",frame:{x:1192,y:3062,w:71,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0188",frame:{x:1250,y:3181,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0189",frame:{x:3860,y:2923,w:68,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0190",frame:{x:2224,y:2546,w:70,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0191",frame:{x:623,y:2924,w:68,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0192",frame:{x:3331,y:2660,w:68,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0193",frame:{x:1655,y:3182,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0194",frame:{x:1110,y:3132,w:61,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0195",frame:{x:554,y:2473,w:73,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0196",frame:{x:2943,y:3422,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0197",frame:{x:3686,y:3184,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0198",frame:{x:1132,y:3373,w:62,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0199",frame:{x:2362,y:3185,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0200",frame:{x:1625,y:3e3,w:72,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0201",frame:{x:303,y:2791,w:67,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0202",frame:{x:1152,y:2797,w:67,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0203",frame:{x:3963,y:2752,w:67,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0204",frame:{x:1338,y:3104,w:60,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0205",frame:{x:3456,y:3148,w:60,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0206",frame:{x:3093,y:3296,w:64,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0207",frame:{x:1652,y:2637,w:71,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0208",frame:{x:1398,y:3218,w:66,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0209",frame:{x:3423,y:3344,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0210",frame:{x:972,y:3054,w:60,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-70.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0211",frame:{x:142,y:3297,w:64,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0212",frame:{x:341,y:3398,w:61,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0213",frame:{x:1916,y:3237,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0214",frame:{x:570,y:3297,w:64,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0215",frame:{x:3021,y:2760,w:66,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0216",frame:{x:2614,y:2827,w:76,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0217",frame:{x:3236,y:3134,w:61,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0218",frame:{x:2382,y:3423,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0219",frame:{x:446,y:3154,w:68,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0220",frame:{x:1612,y:2723,w:70,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0221",frame:{x:1761,y:3424,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0222",frame:{x:2609,y:3315,w:60,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0223",frame:{x:3730,y:2636,w:72,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0224",frame:{x:79,y:3188,w:67,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0225",frame:{x:1261,y:3426,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0226",frame:{x:3342,y:3237,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0227",frame:{x:148,y:2761,w:66,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0228",frame:{x:2299,y:3154,w:60,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0229",frame:{x:3410,y:3237,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0230",frame:{x:3633,y:3062,w:71,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0231",frame:{x:906,y:3014,w:63,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0232",frame:{x:1197,y:3403,w:61,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0233",frame:{x:3079,y:2916,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0234",frame:{x:3176,y:2827,w:76,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0235",frame:{x:777,y:3397,w:62,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0236",frame:{x:965,y:3144,w:67,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0237",frame:{x:2720,y:3136,w:71,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0238",frame:{x:1297,y:3349,w:63,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0239",frame:{x:2171,y:2725,w:70,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0240",frame:{x:3011,y:3064,w:71,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0241",frame:{x:1913,y:3067,w:77,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0242",frame:{x:3486,y:3436,w:71,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0243",frame:{x:3553,y:3037,w:77,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0244",frame:{x:2617,y:3462,w:70,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-41,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0245",frame:{x:3626,y:3475,w:69,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0246",frame:{x:3144,y:3388,w:68,h:67},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0247",frame:{x:145,y:3551,w:63,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0248",frame:{x:1984,y:3253,w:60,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0249",frame:{x:1842,y:3204,w:71,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0250",frame:{x:1266,y:3104,w:69,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0251",frame:{x:3320,y:3077,w:70,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0252",frame:{x:1993,y:2919,w:74,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0253",frame:{x:3067,y:3373,w:74,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0254",frame:{x:2540,y:3238,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0255",frame:{x:2640,y:3545,w:63,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0256",frame:{x:711,y:3366,w:63,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-66.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0257",frame:{x:1363,y:3364,w:64,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0258",frame:{x:768,y:3473,w:65,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0259",frame:{x:967,y:3476,w:69,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0260",frame:{x:2120,y:3211,w:68,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0261",frame:{x:3006,y:3438,w:71,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0262",frame:{x:3706,y:3428,w:60,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-64.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0263",frame:{x:126,y:3374,w:74,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0264",frame:{x:1059,y:3433,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0265",frame:{x:2878,y:3564,w:60,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0266",frame:{x:3080,y:3438,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0267",frame:{x:2989,y:3357,w:75,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0268",frame:{x:1377,y:2920,w:73,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0269",frame:{x:3218,y:3300,w:75,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0270",frame:{x:140,y:3439,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0271",frame:{x:1122,y:3450,w:69,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0272",frame:{x:1874,y:3555,w:63,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0273",frame:{x:126,y:3374,w:74,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0274",frame:{x:1059,y:3433,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0275",frame:{x:2878,y:3564,w:60,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0276",frame:{x:3080,y:3438,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0277",frame:{x:2989,y:3357,w:75,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0278",frame:{x:1377,y:2920,w:73,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0279",frame:{x:3218,y:3300,w:75,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0280",frame:{x:140,y:3439,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0281",frame:{x:1122,y:3450,w:69,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0282",frame:{x:1874,y:3555,w:63,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0283",frame:{x:126,y:3374,w:74,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0284",frame:{x:1059,y:3433,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0285",frame:{x:2878,y:3564,w:60,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0286",frame:{x:3080,y:3438,w:60,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0287",frame:{x:2989,y:3357,w:75,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0288",frame:{x:1377,y:2920,w:73,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0289",frame:{x:1560,y:3477,w:69,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0290",frame:{x:836,y:3494,w:60,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0291",frame:{x:3272,y:3225,w:67,h:72},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0292",frame:{x:3631,y:3410,w:72,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0293",frame:{x:1430,y:3364,w:72,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-59.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0294",frame:{x:2617,y:3396,w:72,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0295",frame:{x:1569,y:3412,w:72,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0296",frame:{x:2307,y:3412,w:72,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0297",frame:{x:3381,y:3e3,w:72,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0298",frame:{x:3723,y:2721,w:72,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-75.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0299",frame:{x:2226,y:2457,w:72,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-81.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0300",frame:{x:574,y:2287,w:72,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-87.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0301",frame:{x:2778,y:2325,w:72,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-85.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0302",frame:{x:1712,y:2373,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0303",frame:{x:707,y:2461,w:72,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-81.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0304",frame:{x:3911,y:2425,w:72,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-82.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0305",frame:{x:3986,y:2433,w:72,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-82.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0306",frame:{x:3037,y:2373,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0307",frame:{x:317,y:2374,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0308",frame:{x:392,y:2374,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0309",frame:{x:1996,y:2376,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0310",frame:{x:1877,y:2378,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0311",frame:{x:3745,y:2379,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0312",frame:{x:3,y:2380,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0313",frame:{x:558,y:2382,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0314",frame:{x:1171,y:2383,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0315",frame:{x:2935,y:2384,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0316",frame:{x:2669,y:2385,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0317",frame:{x:1077,y:2386,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0318",frame:{x:3276,y:2399,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0319",frame:{x:2151,y:2406,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0320",frame:{x:2151,y:2406,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0321",frame:{x:3351,y:2407,w:72,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0322",frame:{x:3,y:2917,w:62,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0323",frame:{x:756,y:3025,w:60,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0324",frame:{x:2244,y:2731,w:65,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0325",frame:{x:3875,y:2831,w:63,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0326",frame:{x:68,y:2935,w:60,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0327",frame:{x:2536,y:2889,w:63,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0328",frame:{x:3257,y:3043,w:60,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0329",frame:{x:1116,y:2112,w:80,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-43,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0330",frame:{x:395,y:2465,w:69,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0331",frame:{x:2278,y:2891,w:63,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0332",frame:{x:3658,y:2719,w:62,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-88.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0333",frame:{x:3753,y:2288,w:75,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-83.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0334",frame:{x:496,y:891,w:70,h:101},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-88.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0335",frame:{x:1639,y:2910,w:63,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-82.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0336",frame:{x:830,y:2931,w:63,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-81.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0337",frame:{x:2045,y:2831,w:66,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-80.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0338",frame:{x:1222,y:2797,w:67,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-79.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0339",frame:{x:1700,y:3024,w:63,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-79.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0340",frame:{x:2518,y:2687,w:70,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-78.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0341",frame:{x:2591,y:2725,w:70,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0342",frame:{x:553,y:2560,w:74,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-76.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0343",frame:{x:402,y:2286,w:78,h:85},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-80.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0344",frame:{x:2880,y:2088,w:77,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-79.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0345",frame:{x:2399,y:2773,w:63,h:90},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-78.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0346",frame:{x:3126,y:2688,w:70,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-78.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0347",frame:{x:1434,y:2371,w:69,h:92},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0348",frame:{x:500,y:2644,w:63,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0349",frame:{x:655,y:1310,w:65,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0350",frame:{x:946,y:2686,w:62,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0351",frame:{x:800,y:2608,w:61,h:97},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0352",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0353",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0354",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0355",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0356",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0357",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0358",frame:{x:694,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0359",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0360",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0361",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0362",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0363",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0364",frame:{x:566,y:2644,w:61,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0365",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0366",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0367",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0368",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0369",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0370",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0371",frame:{x:141,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0372",frame:{x:694,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0373",frame:{x:694,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0374",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0375",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0376",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0377",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0378",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0379",frame:{x:527,y:2932,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0380",frame:{x:1767,y:2933,w:66,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0381",frame:{x:3103,y:2993,w:66,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-76.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0382",frame:{x:1995,y:2996,w:66,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-76.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0383",frame:{x:423,y:3045,w:66,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-75.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0384",frame:{x:1088,y:2730,w:61,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0385",frame:{x:3,y:2650,w:63,h:93},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0386",frame:{x:233,y:2699,w:66,h:88},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-72.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0387",frame:{x:1996,y:2287,w:77,h:86},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40,y:-72.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0388",frame:{x:2047,y:3253,w:63,h:76},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-71.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0389",frame:{x:296,y:2964,w:64,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-71.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0390",frame:{x:3828,y:3006,w:71,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-42,y:-70.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0391",frame:{x:3067,y:3373,w:74,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-70.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0392",frame:{x:1628,y:3259,w:77,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0393",frame:{x:314,y:2465,w:78,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0394",frame:{x:1703,y:3566,w:60,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0395",frame:{x:3428,y:2224,w:80,h:84},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37,y:-78.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0396",frame:{x:517,y:3222,w:77,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0397",frame:{x:467,y:2521,w:83,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0398",frame:{x:2809,y:2933,w:73,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0399",frame:{x:66,y:3439,w:71,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0400",frame:{x:1486,y:2830,w:72,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0401",frame:{x:3353,y:3314,w:67,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0402",frame:{x:1725,y:3220,w:75,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0403",frame:{x:2307,y:3477,w:69,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0404",frame:{x:3835,y:3562,w:62,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0405",frame:{x:373,y:2829,w:77,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-39,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0406",frame:{x:3769,y:3562,w:63,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0407",frame:{x:3215,y:3443,w:65,h:67},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0408",frame:{x:2236,y:3409,w:68,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0409",frame:{x:3349,y:3534,w:60,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-59.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0410",frame:{x:1622,y:3577,w:59,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0411",frame:{x:1394,y:2466,w:79,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0412",frame:{x:3715,y:3363,w:75,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0413",frame:{x:302,y:2711,w:75,h:77},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-69.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0414",frame:{x:731,y:3202,w:70,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0415",frame:{x:705,y:3519,w:59,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-65.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0416",frame:{x:3585,y:2513,w:75,h:81},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-71.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0417",frame:{x:2138,y:3137,w:71,h:71},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-62.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0418",frame:{x:1551,y:3219,w:74,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0419",frame:{x:502,y:3379,w:74,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0420",frame:{x:921,y:3385,w:61,h:75},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-70.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0421",frame:{x:160,y:2437,w:78,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-75.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0422",frame:{x:2608,y:3238,w:65,h:74},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-67.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0423",frame:{x:3805,y:2660,w:86,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0424",frame:{x:2144,y:2497,w:77,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0425",frame:{x:3601,y:2894,w:80,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0426",frame:{x:597,y:3228,w:73,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-60.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0427",frame:{x:844,y:3351,w:74,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0428",frame:{x:788,y:2708,w:73,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0429",frame:{x:2951,y:2302,w:83,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0430",frame:{x:492,y:3089,w:83,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0431",frame:{x:1085,y:2304,w:83,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0432",frame:{x:2548,y:3396,w:66,h:69},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0433",frame:{x:2903,y:2795,w:88,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0434",frame:{x:1350,y:2332,w:81,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0435",frame:{x:4025,y:2849,w:68,h:82},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-77.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0436",frame:{x:2356,y:2670,w:86,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0437",frame:{x:1430,y:3431,w:65,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-63.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0438",frame:{x:2914,y:2475,w:78,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0439",frame:{x:965,y:2438,w:80,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0440",frame:{x:985,y:3410,w:71,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0441",frame:{x:1506,y:2440,w:80,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0442",frame:{x:2212,y:3197,w:78,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-58.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0443",frame:{x:3739,y:3049,w:80,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-61.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0444",frame:{x:428,y:3323,w:71,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-60.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0445",frame:{x:872,y:3270,w:61,h:78},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-72.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0446",frame:{x:2692,y:3412,w:72,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0447",frame:{x:1628,y:2333,w:81,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0448",frame:{x:668,y:3089,w:79,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-60.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0449",frame:{x:2322,y:2409,w:80,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0450",frame:{x:1265,y:3526,w:68,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0451",frame:{x:819,y:3092,w:80,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-59.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0452",frame:{x:1209,y:2980,w:68,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0453",frame:{x:1304,y:2507,w:76,h:80},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-73.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0454",frame:{x:2888,y:3088,w:78,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0455",frame:{x:3982,y:3539,w:66,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0456",frame:{x:1249,y:3261,w:77,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0457",frame:{x:2725,y:2498,w:77,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-31,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0458",frame:{x:3900,y:3562,w:62,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34,y:-57.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0459",frame:{x:3426,y:2409,w:80,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0460",frame:{x:296,y:2878,w:67,h:83},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-78.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0461",frame:{x:1401,y:3136,w:64,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-32,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0462",frame:{x:380,y:2753,w:78,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-68.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0463",frame:{x:639,y:3477,w:63,h:67},rotated:!1,trimmed:!0,spriteSourceSize:{x:-36,y:-62.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"HustlerGraphics0464",frame:{x:3273,y:2498,w:77,h:79},rotated:!1,trimmed:!0,spriteSourceSize:{x:-38,y:-74.8,w:100,h:109},sourceSize:{w:100,h:109}},{filename:"LevelIconGraphics0000",frame:{x:1333,y:1414,w:42,h:49},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:62,h:50},sourceSize:{w:62,h:50}},{filename:"LevelIconGraphics0001",frame:{x:1084,y:1423,w:62,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:62,h:50},sourceSize:{w:62,h:50}},{filename:"LevelIconGraphics0002",frame:{x:1861,y:1710,w:42,h:49},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:62,h:50},sourceSize:{w:62,h:50}},{filename:"LevelTextGraphics0000",frame:{x:4085,y:254,w:4,h:4},rotated:!1,trimmed:!0,spriteSourceSize:{x:-2,y:-2,w:4,h:4},sourceSize:{w:4,h:4}},{filename:"LevelsMapButton0000",frame:{x:3726,y:888,w:179,h:55},rotated:!1,trimmed:!0,spriteSourceSize:{x:1.1,y:.8,w:179,h:55},sourceSize:{w:179,h:55}},{filename:"LevelsMapButton0001",frame:{x:2552,y:889,w:179,h:55},rotated:!1,trimmed:!0,spriteSourceSize:{x:1.1,y:.8,w:179,h:55},sourceSize:{w:179,h:55}},{filename:"LevelsMapButton0002",frame:{x:2734,y:889,w:179,h:55},rotated:!1,trimmed:!0,spriteSourceSize:{x:1.1,y:.8,w:179,h:55},sourceSize:{w:179,h:55}},{filename:"LoserBouncer0000",frame:{x:3765,y:3,w:249,h:287},rotated:!1,trimmed:!0,spriteSourceSize:{x:-5,y:-24.9,w:249,h:287},sourceSize:{w:249,h:287}},{filename:"LoserHustler0000",frame:{x:1327,y:531,w:192,h:217},rotated:!1,trimmed:!0,spriteSourceSize:{x:-6.4,y:-4.3,w:192,h:217},sourceSize:{w:192,h:217}},{filename:"MenuButtonGraphics0000",frame:{x:2466,y:851,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MenuButtonGraphics0001",frame:{x:816,y:1368,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MenuButtonGraphics0002",frame:{x:2466,y:851,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MonitorGraphics0000",frame:{x:3060,y:1190,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-17.3,y:-17.2,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"MonitorGraphics0001",frame:{x:857,y:1208,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-17.3,y:-17.2,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"MonitorGraphics0002",frame:{x:724,y:1209,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-17.3,y:-17.2,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"MusicButtonGraphics0000",frame:{x:2558,y:1638,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MusicButtonGraphics0001",frame:{x:3029,y:1659,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MusicButtonGraphics0002",frame:{x:3332,y:1663,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MusicButtonGraphics0003",frame:{x:2210,y:1672,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"NicheGraphics0000",frame:{x:2344,y:2937,w:74,h:73},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37.2,y:-36.5,w:74,h:73},sourceSize:{w:74,h:73}},{filename:"Plank10Graphics0000",frame:{x:3071,y:1829,w:50,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-25,y:-10,w:50,h:20},sourceSize:{w:50,h:20}},{filename:"Plank11Graphics0000",frame:{x:168,y:1863,w:51,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-25,y:-10,w:51,h:20},sourceSize:{w:51,h:20}},{filename:"Plank2Graphics0000",frame:{x:1826,y:3620,w:150,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-75,y:-10,w:150,h:20},sourceSize:{w:150,h:20}},{filename:"Plank3Graphics0000",frame:{x:3403,y:3628,w:100,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-10,w:100,h:20},sourceSize:{w:100,h:20}},{filename:"Plank4Graphics0000",frame:{x:1143,y:3631,w:100,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-10,w:100,h:20},sourceSize:{w:100,h:20}},{filename:"Plank5Graphics0000",frame:{x:1396,y:3633,w:100,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-50,y:-10,w:100,h:20},sourceSize:{w:100,h:20}},{filename:"Plank6Graphics0000",frame:{x:286,y:1464,w:71,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-10,w:71,h:21},sourceSize:{w:71,h:21}},{filename:"Plank7Graphics0000",frame:{x:3,y:1807,w:71,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-10,w:71,h:20},sourceSize:{w:71,h:20}},{filename:"Plank8Graphics0000",frame:{x:1523,y:1147,w:70,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-10.1,w:70,h:21},sourceSize:{w:70,h:21}},{filename:"Plank9Graphics0000",frame:{x:3071,y:1806,w:50,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-25,y:-10,w:50,h:20},sourceSize:{w:50,h:20}},{filename:"PlankGraphics0000",frame:{x:1396,y:3609,w:150,h:21},rotated:!1,trimmed:!0,spriteSourceSize:{x:-75,y:-10.1,w:150,h:21},sourceSize:{w:150,h:21}},{filename:"PlayGameButton0000",frame:{x:1152,y:2754,w:142,h:40},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.3,y:0,w:143,h:41},sourceSize:{w:143,h:41}},{filename:"PlayGameButton0001",frame:{x:2599,y:481,w:143,h:40},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.3,y:0,w:143,h:41},sourceSize:{w:143,h:41}},{filename:"PlayGameButton0002",frame:{x:2599,y:481,w:143,h:40},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.3,y:0,w:143,h:41},sourceSize:{w:143,h:41}},{filename:"ReplayButtonGraphics0000",frame:{x:2002,y:1676,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"ReplayButtonGraphics0001",frame:{x:2730,y:1686,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"ReplayButtonGraphics0002",frame:{x:2002,y:1676,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"SkipButton0000",frame:{x:4017,y:254,w:65,h:36},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:65,h:37},sourceSize:{w:65,h:37}},{filename:"SkipButton0001",frame:{x:3790,y:634,w:65,h:36},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:65,h:37},sourceSize:{w:65,h:37}},{filename:"SkipButton0002",frame:{x:3790,y:634,w:65,h:36},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:65,h:37},sourceSize:{w:65,h:37}},{filename:"SoundButtonGraphics0000",frame:{x:3552,y:1688,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"SoundButtonGraphics0001",frame:{x:2302,y:1711,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"SoundButtonGraphics0002",frame:{x:3552,y:1724,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"SoundButtonGraphics0003",frame:{x:2518,y:1734,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"StoolGraphics0000",frame:{x:3327,y:1349,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-17.5,y:-17.5,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"Tip10Graphics0000",frame:{x:1874,y:781,w:122,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.5,y:-88.5,w:122,h:87},sourceSize:{w:122,h:87}},{filename:"Tip11Graphics0000",frame:{x:658,y:2272,w:77,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.6,y:-89.9,w:77,h:87},sourceSize:{w:77,h:87}},{filename:"Tip1Graphics0000",frame:{x:1022,y:2203,w:97,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.3,y:-68.3,w:97,h:70},sourceSize:{w:97,h:70}},{filename:"Tip2Graphics0000",frame:{x:1446,y:2210,w:97,h:70},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.3,y:-68.3,w:97,h:70},sourceSize:{w:97,h:70}},{filename:"Tip3Graphics0000",frame:{x:3,y:786,w:93,h:110},rotated:!1,trimmed:!0,spriteSourceSize:{x:1.1,y:-110.9,w:93,h:110},sourceSize:{w:93,h:110}},{filename:"Tip4Graphics0000",frame:{x:1255,y:1737,w:74,h:107},rotated:!1,trimmed:!0,spriteSourceSize:{x:8.5,y:-106.9,w:74,h:107},sourceSize:{w:74,h:107}},{filename:"Tip5Graphics0000",frame:{x:1755,y:1907,w:79,h:94},rotated:!1,trimmed:!0,spriteSourceSize:{x:-7.6,y:-96.2,w:79,h:94},sourceSize:{w:79,h:94}},{filename:"Tip6Graphics0000",frame:{x:1748,y:773,w:123,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-61.2,y:-44.7,w:123,h:87},sourceSize:{w:123,h:87}},{filename:"Tip7Graphics0000",frame:{x:3101,y:775,w:123,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-61.2,y:-43.7,w:123,h:87},sourceSize:{w:123,h:87}},{filename:"Tip8Graphics0000",frame:{x:864,y:2003,w:83,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.5,y:-85.7,w:83,h:87},sourceSize:{w:83,h:87}},{filename:"Tip9Graphics0000",frame:{x:2622,y:2184,w:71,h:96},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.5,y:-97.7,w:71,h:96},sourceSize:{w:71,h:96}},{filename:"ToiletGraphics0000",frame:{x:3557,y:1307,w:67,h:60},rotated:!1,trimmed:!0,spriteSourceSize:{x:-18.3,y:-23.3,w:67,h:60},sourceSize:{w:67,h:60}},{filename:"TurrelGraphics0000",frame:{x:1253,y:1519,w:50,h:29},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.4,y:-16.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0001",frame:{x:3348,y:989,w:56,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.4,y:-22.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0002",frame:{x:2519,y:625,w:64,h:41},rotated:!1,trimmed:!0,spriteSourceSize:{x:-40.4,y:-28.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0003",frame:{x:2213,y:1892,w:60,h:39},rotated:!1,trimmed:!0,spriteSourceSize:{x:-37.4,y:-26.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0004",frame:{x:2492,y:1010,w:57,h:44},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35.4,y:-31.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0005",frame:{x:1713,y:1209,w:55,h:48},rotated:!1,trimmed:!0,spriteSourceSize:{x:-33.4,y:-35.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0006",frame:{x:1268,y:1274,w:52,h:52},rotated:!1,trimmed:!0,spriteSourceSize:{x:-30.4,y:-39.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0007",frame:{x:216,y:3622,w:46,h:55},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.4,y:-42.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0008",frame:{x:2630,y:3611,w:49,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.4,y:-48.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0009",frame:{x:1336,y:3567,w:57,h:66},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.4,y:-53.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0010",frame:{x:827,y:3567,w:59,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.4,y:-51.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0011",frame:{x:1510,y:3542,w:63,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.4,y:-51.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0012",frame:{x:2057,y:3542,w:64,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.4,y:-50.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0013",frame:{x:2233,y:3478,w:67,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.4,y:-50.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0014",frame:{x:3835,y:3462,w:70,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-28.4,y:-49.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0015",frame:{x:993,y:1626,w:73,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.4,y:-46.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0016",frame:{x:1439,y:751,w:76,h:56},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.4,y:-43.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0017",frame:{x:3,y:1146,w:78,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-26.4,y:-41.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0018",frame:{x:3104,y:3534,w:82,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:-26.4,y:-37.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0019",frame:{x:1644,y:3457,w:84,h:52},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.4,y:-39.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0020",frame:{x:2109,y:3411,w:86,h:52},rotated:!1,trimmed:!0,spriteSourceSize:{x:-27.4,y:-39.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0021",frame:{x:2396,y:3366,w:85,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-26.4,y:-41.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0022",frame:{x:1765,y:3367,w:85,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-26.4,y:-41.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0023",frame:{x:2989,y:3297,w:83,h:57},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.4,y:-44.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0024",frame:{x:361,y:3128,w:82,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.4,y:-44.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"TurrelGraphics0025",frame:{x:2984,y:1765,w:40,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:-18.4,y:-15.5,w:99,h:71},sourceSize:{w:99,h:71}},{filename:"WaterSplashGraphics0000",frame:{x:3424,y:1710,w:42,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.2,y:-64.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0001",frame:{x:163,y:3018,w:44,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.2,y:-64.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0002",frame:{x:2122,y:2744,w:45,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.2,y:-63.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0003",frame:{x:1952,y:1768,w:46,h:62},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.2,y:-62.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0004",frame:{x:948,y:3615,w:43,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.2,y:-63.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0005",frame:{x:330,y:3614,w:45,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-21.2,y:-64.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0006",frame:{x:3251,y:3610,w:46,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.2,y:-65.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0007",frame:{x:3021,y:2920,w:47,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.2,y:-65.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0008",frame:{x:3326,y:1988,w:48,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.2,y:-65.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0009",frame:{x:3746,y:2895,w:48,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-23.2,y:-64.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0010",frame:{x:1986,y:3413,w:48,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.2,y:-63.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0011",frame:{x:597,y:3612,w:49,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.2,y:-61.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0012",frame:{x:2813,y:1266,w:50,h:58},rotated:!1,trimmed:!0,spriteSourceSize:{x:-24.2,y:-58.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0013",frame:{x:746,y:3616,w:45,h:57},rotated:!1,trimmed:!0,spriteSourceSize:{x:-18.2,y:-57.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0014",frame:{x:1036,y:2958,w:47,h:56},rotated:!1,trimmed:!0,spriteSourceSize:{x:-19.2,y:-56.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0015",frame:{x:2133,y:1833,w:48,h:56},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.2,y:-56.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0016",frame:{x:1379,y:3439,w:48,h:59},rotated:!1,trimmed:!0,spriteSourceSize:{x:-20.2,y:-59.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0017",frame:{x:1642,y:1412,w:50,h:61},rotated:!1,trimmed:!0,spriteSourceSize:{x:-21.2,y:-61.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0018",frame:{x:3157,y:1855,w:51,h:63},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.2,y:-63.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"WaterSplashGraphics0019",frame:{x:3635,y:1092,w:51,h:64},rotated:!1,trimmed:!0,spriteSourceSize:{x:-22.2,y:-64.9,w:53,h:65},sourceSize:{w:53,h:65}},{filename:"_beam0000",frame:{x:3769,y:3527,w:100,h:8},rotated:!1,trimmed:!0,spriteSourceSize:{x:-100,y:-4,w:100,h:8},sourceSize:{w:100,h:8}},{filename:"_beam0001",frame:{x:3,y:3643,w:100,h:8},rotated:!1,trimmed:!0,spriteSourceSize:{x:-100,y:-4,w:100,h:8},sourceSize:{w:100,h:8}},{filename:"_beam0002",frame:{x:1826,y:3643,w:100,h:8},rotated:!1,trimmed:!0,spriteSourceSize:{x:-100,y:-4,w:100,h:8},sourceSize:{w:100,h:8}},{filename:"_bigElevBack0000",frame:{x:3806,y:3627,w:105,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:-52.5,y:-10,w:105,h:20},sourceSize:{w:105,h:20}},{filename:"_bigElevatorFront0000",frame:{x:1499,y:3633,w:103,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.7,y:-5.1,w:103,h:11},sourceSize:{w:103,h:11}},{filename:"_bigElevatorFront0001",frame:{x:2864,y:3633,w:103,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.7,y:-5.1,w:103,h:11},sourceSize:{w:103,h:11}},{filename:"_bigElevatorFront0002",frame:{x:2366,y:3637,w:103,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.7,y:-5.1,w:103,h:11},sourceSize:{w:103,h:11}},{filename:"_bigElevatorFront0003",frame:{x:3914,y:3639,w:103,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.7,y:-5.1,w:103,h:11},sourceSize:{w:103,h:11}},{filename:"_bigElevatorFront0004",frame:{x:2252,y:3641,w:103,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.7,y:-5.1,w:103,h:11},sourceSize:{w:103,h:11}},{filename:"_bigElevatorFront0005",frame:{x:1605,y:3642,w:103,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-51.7,y:-5.1,w:103,h:11},sourceSize:{w:103,h:11}},{filename:"_burg10000",frame:{x:3988,y:548,w:101,h:114},rotated:!1,trimmed:!0,spriteSourceSize:{x:-45.2,y:-55.7,w:101,h:114},sourceSize:{w:101,h:114}},{filename:"_burg20000",frame:{x:3668,y:749,w:101,h:112},rotated:!1,trimmed:!0,spriteSourceSize:{x:-48.2,y:-56.8,w:101,h:112},sourceSize:{w:101,h:112}},{filename:"_burg30000",frame:{x:2150,y:746,w:98,h:117},rotated:!1,trimmed:!0,spriteSourceSize:{x:-53.3,y:-53.7,w:98,h:117},sourceSize:{w:98,h:117}},{filename:"_burgersBackground0000",frame:{x:1522,y:531,w:246,h:166},rotated:!1,trimmed:!0,spriteSourceSize:{x:-122.4,y:-78.7,w:246,h:166},sourceSize:{w:246,h:166}},{filename:"_buttonTop0000",frame:{x:2613,y:857,w:20,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-3.5,w:20,h:7},sourceSize:{w:20,h:7}},{filename:"_buttonTop0001",frame:{x:2847,y:860,w:20,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-3.5,w:20,h:7},sourceSize:{w:20,h:7}},{filename:"_buttonTop0002",frame:{x:879,y:865,w:20,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-3.5,w:20,h:7},sourceSize:{w:20,h:7}},{filename:"_buttonTop0003",frame:{x:2613,y:867,w:20,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-3.5,w:20,h:7},sourceSize:{w:20,h:7}},{filename:"_buttonTop0004",frame:{x:2847,y:870,w:20,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-3.5,w:20,h:7},sourceSize:{w:20,h:7}},{filename:"_buttonTop0005",frame:{x:1415,y:873,w:20,h:7},rotated:!1,trimmed:!0,spriteSourceSize:{x:-10,y:-3.5,w:20,h:7},sourceSize:{w:20,h:7}},{filename:"_cogwheel0000",frame:{x:2862,y:505,w:18,h:18},rotated:!1,trimmed:!0,spriteSourceSize:{x:-9,y:-8.9,w:18,h:18},sourceSize:{w:18,h:18}},{filename:"_cogwheel20000",frame:{x:2006,y:661,w:18,h:18},rotated:!1,trimmed:!0,spriteSourceSize:{x:-9,y:-9,w:18,h:18},sourceSize:{w:18,h:18}},{filename:"_elevatorBack0000",frame:{x:1990,y:952,w:70,h:17},rotated:!1,trimmed:!0,spriteSourceSize:{x:-35,y:-8.5,w:70,h:17},sourceSize:{w:70,h:17}},{filename:"_elevatorFront0000",frame:{x:3101,y:761,w:69,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.5,y:-5.3,w:69,h:11},sourceSize:{w:69,h:11}},{filename:"_elevatorFront0001",frame:{x:110,y:1409,w:69,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.5,y:-5.3,w:69,h:11},sourceSize:{w:69,h:11}},{filename:"_elevatorFront0002",frame:{x:286,y:1488,w:69,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.5,y:-5.3,w:69,h:11},sourceSize:{w:69,h:11}},{filename:"_elevatorFront0003",frame:{x:3690,y:1868,w:69,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.5,y:-5.3,w:69,h:11},sourceSize:{w:69,h:11}},{filename:"_elevatorFront0004",frame:{x:2466,y:2049,w:69,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.5,y:-5.3,w:69,h:11},sourceSize:{w:69,h:11}},{filename:"_elevatorFront0005",frame:{x:2466,y:2063,w:69,h:11},rotated:!1,trimmed:!0,spriteSourceSize:{x:-34.5,y:-5.3,w:69,h:11},sourceSize:{w:69,h:11}},{filename:"_levelCompletedSign0000",frame:{x:2113,y:481,w:483,h:141},rotated:!1,trimmed:!0,spriteSourceSize:{x:-241.8,y:-3.7,w:483,h:141},sourceSize:{w:483,h:141}},{filename:"_levelFailedSign0000",frame:{x:2599,y:526,w:483,h:141},rotated:!1,trimmed:!0,spriteSourceSize:{x:-241.7,y:-3.7,w:483,h:141},sourceSize:{w:483,h:141}},{filename:"_mainMenuButton0000",frame:{x:3691,y:1003,w:178,h:53},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-.6,w:178,h:53},sourceSize:{w:178,h:53}},{filename:"_mainMenuButton0001",frame:{x:2552,y:1004,w:178,h:53},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-.6,w:178,h:53},sourceSize:{w:178,h:53}},{filename:"_mainMenuButton0002",frame:{x:2733,y:1004,w:178,h:53},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-.6,w:178,h:53},sourceSize:{w:178,h:53}},{filename:"_nextButton0000",frame:{x:3726,y:946,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_nextButton0001",frame:{x:2552,y:947,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_nextButton0002",frame:{x:2733,y:947,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_pushButtonBase0000",frame:{x:3988,y:665,w:23,h:5},rotated:!1,trimmed:!0,spriteSourceSize:{x:-11.9,y:-2.3,w:23,h:5},sourceSize:{w:23,h:5}},{filename:"_replayButton0000",frame:{x:2212,y:956,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:.4,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_replayButton0001",frame:{x:3415,y:971,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:.4,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_replayButton0002",frame:{x:3415,y:971,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:.4,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_triggerBase0000",frame:{x:1500,y:919,w:30,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-7,w:30,h:14},sourceSize:{w:30,h:14}},{filename:"_triggerBase0001",frame:{x:2212,y:939,w:30,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-7,w:30,h:14},sourceSize:{w:30,h:14}},{filename:"_triggerBase0002",frame:{x:2063,y:952,w:30,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-7,w:30,h:14},sourceSize:{w:30,h:14}},{filename:"_triggerBase0003",frame:{x:3691,y:985,w:30,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-7,w:30,h:14},sourceSize:{w:30,h:14}},{filename:"_triggerBase0004",frame:{x:3016,y:1011,w:30,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-7,w:30,h:14},sourceSize:{w:30,h:14}},{filename:"_triggerBase0005",frame:{x:1255,y:1040,w:30,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-7,w:30,h:14},sourceSize:{w:30,h:14}},{filename:"_triggerHandle0000",frame:{x:2006,y:700,w:15,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-14,w:15,h:14},sourceSize:{w:15,h:14}},{filename:"_triggerHandle0001",frame:{x:2006,y:717,w:15,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-14,w:15,h:14},sourceSize:{w:15,h:14}},{filename:"_triggerHandle0002",frame:{x:2006,y:734,w:15,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-14,w:15,h:14},sourceSize:{w:15,h:14}},{filename:"_triggerHandle0003",frame:{x:3772,y:749,w:15,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-14,w:15,h:14},sourceSize:{w:15,h:14}},{filename:"_triggerHandle0004",frame:{x:3772,y:766,w:15,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-14,w:15,h:14},sourceSize:{w:15,h:14}},{filename:"_triggerHandle0005",frame:{x:1415,y:856,w:15,h:14},rotated:!1,trimmed:!0,spriteSourceSize:{x:-15,y:-14,w:15,h:14},sourceSize:{w:15,h:14}},{filename:"_walkthroughButton0000",frame:{x:1990,y:972,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_walkthroughButton0001",frame:{x:3059,y:976,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_walkthroughButton0002",frame:{x:1793,y:978,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_walkthroughButtonBig0000",frame:{x:1990,y:972,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_walkthroughButtonBig0001",frame:{x:3059,y:976,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"_walkthroughButtonBig0002",frame:{x:3059,y:976,w:178,h:54},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:0,w:178,h:54},sourceSize:{w:178,h:54}},{filename:"cbtnArrow0000",frame:{x:1858,y:1147,w:95,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47.5,y:-47.5,w:95,h:95},sourceSize:{w:95,h:95}},{filename:"cbtnChange0000",frame:{x:2962,y:1152,w:95,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47.5,y:-47.5,w:95,h:95},sourceSize:{w:95,h:95}},{filename:"cbtnChange0001",frame:{x:2578,y:1157,w:95,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47.5,y:-47.5,w:95,h:95},sourceSize:{w:95,h:95}},{filename:"cbtnGrab0000",frame:{x:3635,y:1159,w:95,h:95},rotated:!1,trimmed:!0,spriteSourceSize:{x:-47.5,y:-47.5,w:95,h:95},sourceSize:{w:95,h:95}},{filename:"cmcActiveSign0000",frame:{x:947,y:1070,w:25,h:16},rotated:!1,trimmed:!0,spriteSourceSize:{x:-12.5,y:6.5,w:25,h:16},sourceSize:{w:25,h:16}},{filename:"cmcAnim10000",frame:{x:243,y:531,w:219,h:255},rotated:!1,trimmed:!0,spriteSourceSize:{x:7,y:7,w:219,h:255},sourceSize:{w:219,h:255}},{filename:"cmcAnim100000",frame:{x:3180,y:3,w:344,h:255},rotated:!1,trimmed:!0,spriteSourceSize:{x:6.5,y:263.5,w:344,h:255},sourceSize:{w:344,h:255}},{filename:"cmcAnim110000",frame:{x:3519,y:376,w:338,h:255},rotated:!1,trimmed:!0,spriteSourceSize:{x:355,y:263.5,w:338,h:255},sourceSize:{w:338,h:255}},{filename:"cmcAnim20000",frame:{x:3180,y:261,w:336,h:257},rotated:!1,trimmed:!0,spriteSourceSize:{x:178.4,y:6.5,w:336,h:257},sourceSize:{w:336,h:257}},{filename:"cmcAnim30000",frame:{x:688,y:531,w:212,h:257},rotated:!1,trimmed:!0,spriteSourceSize:{x:481.2,y:6.5,w:212,h:257},sourceSize:{w:212,h:257}},{filename:"cmcAnim40000",frame:{x:465,y:531,w:220,h:251},rotated:!1,trimmed:!0,spriteSourceSize:{x:6.5,y:268.5,w:220,h:251},sourceSize:{w:220,h:251}},{filename:"cmcAnim50000",frame:{x:3180,y:521,w:245,h:251},rotated:!1,trimmed:!0,spriteSourceSize:{x:231.2,y:268.5,w:245,h:251},sourceSize:{w:245,h:251}},{filename:"cmcAnim60000",frame:{x:903,y:531,w:212,h:251},rotated:!1,trimmed:!0,spriteSourceSize:{x:481.2,y:268.5,w:212,h:251},sourceSize:{w:212,h:251}},{filename:"cmcAnim70000",frame:{x:3860,y:293,w:233,h:252},rotated:!1,trimmed:!0,spriteSourceSize:{x:6.5,y:6.5,w:233,h:252},sourceSize:{w:233,h:252}},{filename:"cmcAnim80000",frame:{x:3,y:531,w:237,h:252},rotated:!1,trimmed:!0,spriteSourceSize:{x:244,y:6.5,w:237,h:252},sourceSize:{w:237,h:252}},{filename:"cmcAnim90000",frame:{x:1118,y:531,w:206,h:252},rotated:!1,trimmed:!0,spriteSourceSize:{x:487,y:6.5,w:206,h:252},sourceSize:{w:206,h:252}},{filename:"cmcBonusBag0000",frame:{x:211,y:3551,w:56,h:68},rotated:!1,trimmed:!0,spriteSourceSize:{x:7,y:0,w:56,h:68},sourceSize:{w:56,h:68}},{filename:"cmcBonusHighlight0000",frame:{x:1163,y:1737,w:89,h:89},rotated:!1,trimmed:!0,spriteSourceSize:{x:-44.9,y:-44.8,w:89,h:89},sourceSize:{w:89,h:89}},{filename:"cmcCreditsDialog0000",frame:{x:2883,y:3,w:294,h:520},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.9,y:-3.7,w:294,h:520},sourceSize:{w:294,h:520}},{filename:"cmcLevelSelectBG0000",frame:{x:1410,y:3,w:700,h:525},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:700,h:525},sourceSize:{w:700,h:525}},{filename:"cmcLock0000",frame:{x:947,y:998,w:25,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-2.4,y:-2.4,w:25,h:35},sourceSize:{w:25,h:35}},{filename:"cmcMainMenuBack0000",frame:{x:2113,y:3,w:767,h:475},rotated:!1,trimmed:!0,spriteSourceSize:{x:-49.1,y:11.1,w:767,h:475},sourceSize:{w:767,h:475}},{filename:"cmcPauseDialog0000",frame:{x:3527,y:3,w:235,h:370},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1,y:-3.7,w:235,h:370},sourceSize:{w:235,h:370}},{filename:"cmcYouNeed0000",frame:{x:2467,y:1577,w:144,h:58},rotated:!1,trimmed:!0,spriteSourceSize:{x:-1.2,y:-2.5,w:144,h:58},sourceSize:{w:144,h:58}},{filename:"crossPoint0000",frame:{x:1076,y:968,w:26,h:26},rotated:!1,trimmed:!0,spriteSourceSize:{x:-11,y:-11,w:26,h:26},sourceSize:{w:26,h:26}},{filename:"crossPoint0001",frame:{x:3875,y:1036,w:26,h:26},rotated:!1,trimmed:!0,spriteSourceSize:{x:-11,y:-11,w:26,h:26},sourceSize:{w:26,h:26}},{filename:"crossPoint0002",frame:{x:2363,y:1048,w:26,h:26},rotated:!1,trimmed:!0,spriteSourceSize:{x:-11,y:-11,w:26,h:26},sourceSize:{w:26,h:26}},{filename:"grabbedObject0000",frame:{x:762,y:1144,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:-17.5,y:-17.5,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"hamburgers0000",frame:{x:3,y:3,w:0,h:0},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.8,y:-.2,w:49,h:43},sourceSize:{w:49,h:43}},{filename:"hamburgers0001",frame:{x:3872,y:1003,w:28,h:30},rotated:!1,trimmed:!0,spriteSourceSize:{x:.2,y:-.2,w:49,h:43},sourceSize:{w:49,h:43}},{filename:"hamburgers0002",frame:{x:1618,y:1172,w:48,h:31},rotated:!1,trimmed:!0,spriteSourceSize:{x:-2.8,y:-1.2,w:49,h:43},sourceSize:{w:49,h:43}},{filename:"hamburgers0003",frame:{x:1908,y:1621,w:48,h:43},rotated:!1,trimmed:!0,spriteSourceSize:{x:-3.8,y:-12.2,w:49,h:43},sourceSize:{w:49,h:43}},{filename:"platformCenter0000",frame:{x:857,y:1246,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35.1,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"platformLeft0000",frame:{x:724,y:1247,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"platformRight0000",frame:{x:3145,y:1254,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"singleTile0000",frame:{x:3237,y:1297,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileBottomCenter0000",frame:{x:1555,y:1369,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileBottomLeft0000",frame:{x:3327,y:1387,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileBottomRight0000",frame:{x:3070,y:1449,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileCenter0000",frame:{x:1602,y:1517,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileCenterLeft0000",frame:{x:1959,y:1528,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileCenterRight0000",frame:{x:3594,y:1581,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileTopCenter0000",frame:{x:1684,y:1585,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35.1,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileTopLeft0000",frame:{x:3469,y:1617,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35.1,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"tileTopRight0000",frame:{x:3594,y:1619,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35.1,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"verticalPlatformBottom0000",frame:{x:1684,y:1623,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35.1,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"verticalPlatformCenter0000",frame:{x:3332,y:1625,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35,w:35,h:35},sourceSize:{w:35,h:35}},{filename:"verticalPlatformTop0000",frame:{x:2210,y:1634,w:35,h:35},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-35.1,w:35,h:35},sourceSize:{w:35,h:35}}],meta:{app:"Adobe Flash Professional",version:"13.1.0.226",image:"Objects.png",format:"RGBA8888",size:{w:4096,h:4096},scale:"1"}},e}(),ObjectsLayouts=function(){function e(){}return e.data=[{name:"BigElevatorGraphics",children:[{mc:"_bigElevBack",name:"",x:0,y:0},{mc:"_cogwheel",name:"cogwheel1",x:-14,y:0},{mc:"_cogwheel2",name:"cogwheel2",x:14,y:0},{mc:"_bigElevatorFront",name:"front",x:0,y:-4}]},{name:"cmcCredits",children:[{mc:"cmcCreditsDialog",name:"",x:0,y:0},{mc:"BackButton",name:"backButton",x:89,y:491}]},{name:"cmcJoypadLeft",children:[{mc:"cbtnArrow",name:"right",x:55,y:0,degrees:90},{mc:"cbtnArrow",name:"left",x:-55,y:0,degrees:-90}]},{name:"cmcJoypadRight",children:[{mc:"cbtnArrow",name:"up",x:54,y:0},{mc:"cbtnArrow",name:"down",x:-54,y:0,degrees:180},{mc:"cbtnGrab",name:"grab",x:-54,y:-108},{mc:"cbtnChange",name:"change",x:54,y:-108}]},{name:"cmcLevelSelect",children:[{mc:"cmcLevelSelectBG",name:"",x:-2,y:0},{mc:"cmcYouNeed",name:"youNeed",x:355,y:138},{mc:"_mainMenuButton",name:"menuButton",x:63,y:444},{mc:"cmcBonusHighlight",name:"bonusHighlight",x:541,y:163},{mc:"cmcBonusBag",name:"bonusBag",x:502,y:124},{mc:"cmcLock",name:"lock",x:498,y:170},{mc:"LevelIconGraphics",name:"l1",x:150,y:338},{mc:"LevelIconGraphics",name:"l2",x:219,y:366},{mc:"LevelIconGraphics",name:"l3",x:285,y:333},{mc:"LevelIconGraphics",name:"l4",x:354,y:330},{mc:"LevelIconGraphics",name:"l5",x:423,y:365},{mc:"LevelIconGraphics",name:"l6",x:488,y:341},{mc:"LevelIconGraphics",name:"l7",x:533,y:294},{mc:"LevelIconGraphics",name:"l8",x:531,y:231},{mc:"LevelIconGraphics",name:"l9",x:466,y:218},{mc:"LevelIconGraphics",name:"l10",x:403,y:200},{mc:"LevelIconGraphics",name:"l11",x:342,y:223},{mc:"LevelIconGraphics",name:"l12",x:274,y:207},{mc:"LevelIconGraphics",name:"l13",x:204,y:224},{mc:"LevelIconGraphics",name:"l14",x:128,y:205},{mc:"LevelIconGraphics",name:"l15",x:117,y:148},{mc:"LevelIconGraphics",name:"l16",x:157,y:93},{mc:"LevelIconGraphics",name:"l17",x:212,y:61},{mc:"LevelIconGraphics",name:"l18",x:286,y:76},{mc:"LevelIconGraphics",name:"l19",x:352,y:63},{mc:"LevelIconGraphics",name:"l20",x:423,y:77}]},{name:"cmcMainMenu",children:[{mc:"CreditsButton",name:"creditsButton",x:298,y:376},{mc:"PlayGameButton",name:"playButton",x:275,y:312,scaleX:1.0999755859375,scaleY:1.0999755859375},{mc:"cmcMainMenuBack",name:"",x:3,y:3}]},{name:"cmcPause",children:[{mc:"cmcPauseDialog",name:"",x:0,y:0},{mc:"LevelsMapButton",name:"menuButton",x:27,y:156},{mc:"BackButton",name:"backButton",x:59,y:337}]},{name:"cmcYouLose",children:[{mc:"LoserBouncer",name:"loserBouncer",x:-292,y:159},{mc:"LoserHustler",name:"loserHustler",x:812,y:188},{mc:"_levelFailedSign",name:"levelFailed",x:354,y:-203},{mc:"_replayButton",name:"replayButton",x:271,y:618},{mc:"LevelsMapButton",name:"levelsButton",x:74,y:618}]},{name:"cmcYouWin",children:[{mc:"_levelCompletedSign",name:"levelCompleted",x:354,y:-203},{mc:"LevelsMapButton",name:"levelsButton",x:76,y:608},{mc:"_replayButton",name:"replayButton",x:269,y:608},{mc:"_nextButton",name:"nextButton",x:464,y:608},{mc:"_burgersBackground",name:"burgerBG",x:350,y:223},{mc:"_burg1",name:"b1",x:282,y:237},{mc:"_burg2",name:"b2",x:348,y:203},{mc:"_burg3",name:"b3",x:418,y:236}]},{name:"ElevatorGraphics",children:[{mc:"_elevatorBack",name:"",x:0,y:1},{mc:"_cogwheel",name:"cogwheel1",x:-8,y:2},{mc:"_cogwheel2",name:"cogwheel2",x:8,y:2},{mc:"_elevatorFront",name:"front",x:0,y:-2}]},{name:"PushButtonGraphics",children:[{mc:"_buttonTop",name:"top",x:0,y:-1},{mc:"_pushButtonBase",name:"",x:0,y:4}]},{name:"TopPanelBonusGraphics",children:[{mc:"MenuButtonGraphics",name:"menuButton",x:539,y:4},{mc:"ReplayButtonGraphics",name:"replayButton",x:580,y:4},{mc:"SoundButtonGraphics",name:"soundButton",x:621,y:4},{mc:"MusicButtonGraphics",name:"musicButton",x:661,y:5}]},{name:"TopPanelGraphics",children:[{mc:"MenuButtonGraphics",name:"menuButton",x:539,y:4},{mc:"ReplayButtonGraphics",name:"replayButton",x:580,y:4},{mc:"SoundButtonGraphics",name:"soundButton",x:621,y:4},{mc:"MusicButtonGraphics",name:"musicButton",x:661,y:5},{mc:"BurgerIndicator",name:"burgerPanel",x:6,y:6},{mc:"BurgerSmallGraphics",name:"b1",x:30,y:23},{mc:"BurgerSmallGraphics",name:"b2",x:61,y:23},{mc:"BurgerSmallGraphics",name:"b3",x:92,y:23}]},{name:"TriggerGraphics",children:[{mc:"_triggerHandle",name:"handle",x:2,y:5,scaleX:.999969482421875,scaleY:.999969482421875},{mc:"_triggerBase",name:"base",x:0,y:6}]}],e}(),PreloaderObjects=function(){function e(){}return e.data={frames:[{filename:"BigMenuButtonGraphics0000",frame:{x:1960,y:413,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigMenuButtonGraphics0001",frame:{x:1962,y:314,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigMenuButtonGraphics0002",frame:{x:1880,y:314,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigMusicMenuButton0000",frame:{x:1807,y:436,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigMusicMenuButton0001",frame:{x:1862,y:436,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigMusicMenuButton0002",frame:{x:1917,y:466,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigMusicMenuButton0003",frame:{x:1972,y:466,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigReplayButtonGraphics0000",frame:{x:1875,y:3,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigReplayButtonGraphics0001",frame:{x:1875,y:56,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigReplayButtonGraphics0002",frame:{x:1875,y:109,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigSoundButtonGraphics0000",frame:{x:1875,y:162,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigSoundButtonGraphics0001",frame:{x:1930,y:3,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigSoundButtonGraphics0002",frame:{x:1930,y:56,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"BigSoundButtonGraphics0003",frame:{x:1930,y:109,w:52,h:50},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:52,h:50},sourceSize:{w:52,h:50}},{filename:"LeftCurtainGraphics0000",frame:{x:1409,y:532,w:385,h:525},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:385,h:525},sourceSize:{w:385,h:525}},{filename:"MusicButtonGraphics0000",frame:{x:1962,y:367,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MusicButtonGraphics0001",frame:{x:2e3,y:367,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MusicButtonGraphics0002",frame:{x:1807,y:489,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"MusicButtonGraphics0003",frame:{x:1845,y:489,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:-.4,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"RightCurtainGraphics0000",frame:{x:1140,y:3,w:420,h:526},rotated:!1,trimmed:!0,spriteSourceSize:{x:-420,y:-1,w:420,h:526},sourceSize:{w:420,h:526}},{filename:"SoundButtonGraphics0000",frame:{x:1930,y:162,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"SoundButtonGraphics0001",frame:{x:1968,y:162,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"SoundButtonGraphics0002",frame:{x:1930,y:198,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"SoundButtonGraphics0003",frame:{x:1875,y:215,w:35,h:33},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:35,h:33},sourceSize:{w:35,h:33}},{filename:"cbtnPlay0000",frame:{x:1727,y:314,w:150,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-1.6,w:150,h:65},sourceSize:{w:150,h:65}},{filename:"cbtnPlay0001",frame:{x:1563,y:355,w:150,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-1.6,w:150,h:65},sourceSize:{w:150,h:65}},{filename:"cbtnPlay0002",frame:{x:1563,y:355,w:150,h:65},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.1,y:-1.6,w:150,h:65},sourceSize:{w:150,h:65}},{filename:"cmcFinalAnimationBG0000",frame:{x:3,y:532,w:700,h:525},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:700,h:525},sourceSize:{w:700,h:525}},{filename:"cmcIntroAnimationBG0000",frame:{x:706,y:532,w:700,h:525},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:700,h:525},sourceSize:{w:700,h:525}},{filename:"cmcKizi0000",frame:{x:1563,y:265,w:161,h:87},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:1.7,w:161,h:87},sourceSize:{w:161,h:87}},{filename:"cmcLoaderBar0000",frame:{x:1716,y:413,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0001",frame:{x:1563,y:436,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0002",frame:{x:1563,y:459,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0003",frame:{x:1563,y:482,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0004",frame:{x:1563,y:505,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0005",frame:{x:1797,y:528,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0006",frame:{x:1797,y:551,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0007",frame:{x:1797,y:574,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0008",frame:{x:1797,y:597,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0009",frame:{x:1797,y:620,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBar0010",frame:{x:1797,y:643,w:241,h:20},rotated:!1,trimmed:!0,spriteSourceSize:{x:9.6,y:12.8,w:241,h:20},sourceSize:{w:241,h:20}},{filename:"cmcLoaderBarBack0000",frame:{x:1716,y:382,w:243,h:28},rotated:!1,trimmed:!0,spriteSourceSize:{x:8,y:9.3,w:243,h:28},sourceSize:{w:243,h:28}},{filename:"cmcLoaderBarFront0000",frame:{x:1727,y:265,w:259,h:46},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:259,h:46},sourceSize:{w:259,h:46}},{filename:"cmcPreloaderBG0000",frame:{x:3,y:3,w:701,h:526},rotated:!1,trimmed:!0,spriteSourceSize:{x:-.8,y:-.6,w:701,h:526},sourceSize:{w:701,h:526}},{filename:"cmcSidePad0000",frame:{x:707,y:3,w:430,h:525},rotated:!1,trimmed:!0,spriteSourceSize:{x:-430,y:0,w:430,h:525},sourceSize:{w:430,h:525}},{filename:"cmcTitlePreloader0000",frame:{x:1563,y:3,w:309,h:259},rotated:!1,trimmed:!0,spriteSourceSize:{x:0,y:0,w:309,h:259},sourceSize:{w:309,h:259}}],meta:{app:"Adobe Flash Professional",version:"13.1.0.226",image:"PreloaderObjects.png",format:"RGBA8888",size:{w:2048,h:2048},scale:"1"}},e}(),PreloaderObjectsLayouts=function(){function e(){}return e.data=[{name:"cmcPreloader",children:[{mc:"cmcPreloaderBG",name:"bg",x:0,y:0},{mc:"cbtnPlay",name:"btnPlay",x:279,y:423},{mc:"cmcLoaderBarBack",name:"barBack",x:222,y:432},{mc:"MusicButtonGraphics",name:"btnMusic",x:659,y:9},{mc:"SoundButtonGraphics",name:"btnSound",x:622,y:9},{mc:"cmcTitlePreloader",name:"title",x:197,y:136},{mc:"cmcLoaderBar",name:"bar",x:222,y:431},{mc:"cmcLoaderBarFront",name:"barFront",x:222,y:432}]}],e}(),WinningObjects=function(){function e(){}return e.data={frames:[{filename:"cmcBouncerWin0000",frame:{x:1616,y:232,w:169,h:279},rotated:!1,trimmed:!0,spriteSourceSize:{x:-202,y:191,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0001",frame:{x:791,y:693,w:159,h:265},rotated:!1,trimmed:!0,spriteSourceSize:{x:-101.9,y:155,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0002",frame:{x:1767,y:705,w:154,h:251},rotated:!1,trimmed:!0,spriteSourceSize:{x:-9.9,y:117,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0003",frame:{x:3,y:722,w:153,h:240},rotated:!1,trimmed:!0,spriteSourceSize:{x:87.1,y:77,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0004",frame:{x:1401,y:235,w:185,h:248},rotated:!1,trimmed:!0,spriteSourceSize:{x:160,y:34,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0005",frame:{x:3,y:480,w:179,h:239},rotated:!1,trimmed:!0,spriteSourceSize:{x:164,y:32,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0006",frame:{x:1788,y:244,w:187,h:238},rotated:!1,trimmed:!0,spriteSourceSize:{x:161,y:33,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0007",frame:{x:3,y:240,w:190,h:237},rotated:!1,trimmed:!0,spriteSourceSize:{x:161,y:34,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0008",frame:{x:1187,y:237,w:193,h:234},rotated:!1,trimmed:!0,spriteSourceSize:{x:161,y:34,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0009",frame:{x:1830,y:3,w:199,h:238},rotated:!1,trimmed:!0,spriteSourceSize:{x:166,y:27,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0010",frame:{x:1187,y:3,w:211,h:231},rotated:!1,trimmed:!0,spriteSourceSize:{x:162,y:31,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0011",frame:{x:746,y:3,w:219,h:238},rotated:!1,trimmed:!0,spriteSourceSize:{x:162,y:28,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0012",frame:{x:503,y:3,w:240,h:229},rotated:!1,trimmed:!0,spriteSourceSize:{x:164,y:34,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0013",frame:{x:3,y:3,w:247,h:234},rotated:!1,trimmed:!0,spriteSourceSize:{x:162,y:34,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0014",frame:{x:253,y:3,w:247,h:227},rotated:!1,trimmed:!0,spriteSourceSize:{x:166,y:36,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0015",frame:{x:1401,y:3,w:212,h:229},rotated:!1,trimmed:!0,spriteSourceSize:{x:163,y:36,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0016",frame:{x:1616,y:3,w:211,h:226},rotated:!1,trimmed:!0,spriteSourceSize:{x:164,y:40,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0017",frame:{x:968,y:3,w:216,h:238},rotated:!1,trimmed:!0,spriteSourceSize:{x:164,y:39,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0018",frame:{x:253,y:233,w:205,h:227},rotated:!1,trimmed:!0,spriteSourceSize:{x:172,y:51,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0019",frame:{x:196,y:463,w:195,h:226},rotated:!1,trimmed:!0,spriteSourceSize:{x:179,y:60,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0020",frame:{x:185,y:692,w:189,h:223},rotated:!1,trimmed:!0,spriteSourceSize:{x:185,y:73,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0021",frame:{x:1136,y:701,w:177,h:221},rotated:!1,trimmed:!0,spriteSourceSize:{x:194,y:84,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0022",frame:{x:461,y:235,w:171,h:272},rotated:!1,trimmed:!0,spriteSourceSize:{x:199,y:93,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0023",frame:{x:635,y:244,w:167,h:268},rotated:!1,trimmed:!0,spriteSourceSize:{x:203,y:99,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0024",frame:{x:1599,y:514,w:165,h:256},rotated:!1,trimmed:!0,spriteSourceSize:{x:199,y:114,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0025",frame:{x:953,y:701,w:180,h:219},rotated:!1,trimmed:!0,spriteSourceSize:{x:189,y:157,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0026",frame:{x:1003,y:474,w:195,h:224},rotated:!1,trimmed:!0,spriteSourceSize:{x:149,y:162,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0027",frame:{x:1201,y:474,w:194,h:224},rotated:!1,trimmed:!0,spriteSourceSize:{x:150,y:162,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0028",frame:{x:805,y:465,w:195,h:225},rotated:!1,trimmed:!0,spriteSourceSize:{x:151,y:164,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0029",frame:{x:805,y:244,w:205,h:218},rotated:!1,trimmed:!0,spriteSourceSize:{x:144,y:168,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0030",frame:{x:1788,y:485,w:201,h:217},rotated:!1,trimmed:!0,spriteSourceSize:{x:148,y:169,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0031",frame:{x:1398,y:486,w:198,h:219},rotated:!1,trimmed:!0,spriteSourceSize:{x:150,y:167,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0032",frame:{x:394,y:510,w:196,h:221},rotated:!1,trimmed:!0,spriteSourceSize:{x:151,y:165,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcBouncerWin0033",frame:{x:593,y:515,w:195,h:221},rotated:!1,trimmed:!0,spriteSourceSize:{x:152,y:165,w:619,h:443},sourceSize:{w:619,h:443}},{filename:"cmcHustlerWin0000",frame:{x:179,y:1099,w:154,h:187},rotated:!1,trimmed:!0,spriteSourceSize:{x:714,y:216.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0001",frame:{x:3,y:1276,w:152,h:184},rotated:!1,trimmed:!0,spriteSourceSize:{x:632,y:177.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0002",frame:{x:1533,y:1321,w:152,h:179},rotated:!1,trimmed:!0,spriteSourceSize:{x:549,y:144.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0003",frame:{x:1644,y:1138,w:160,h:180},rotated:!1,trimmed:!0,spriteSourceSize:{x:456,y:103.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0004",frame:{x:159,y:918,w:174,h:178},rotated:!1,trimmed:!0,spriteSourceSize:{x:358,y:63.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0005",frame:{x:3,y:1099,w:173,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:355,y:64.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0006",frame:{x:1637,y:959,w:174,h:176},rotated:!1,trimmed:!0,spriteSourceSize:{x:350,y:63.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0007",frame:{x:856,y:1100,w:175,h:171},rotated:!1,trimmed:!0,spriteSourceSize:{x:347,y:61.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0008",frame:{x:953,y:923,w:178,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:342,y:59.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0009",frame:{x:681,y:961,w:172,h:176},rotated:!1,trimmed:!0,spriteSourceSize:{x:343,y:57.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0010",frame:{x:1475,y:1138,w:166,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:347,y:56.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0011",frame:{x:677,y:1140,w:165,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:348,y:55.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0012",frame:{x:995,y:1291,w:161,h:172},rotated:!1,trimmed:!0,spriteSourceSize:{x:350,y:55.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0013",frame:{x:1369,y:1315,w:161,h:172},rotated:!1,trimmed:!0,spriteSourceSize:{x:350,y:56.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0014",frame:{x:1204,y:1148,w:162,h:175},rotated:!1,trimmed:!0,spriteSourceSize:{x:349,y:57.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0015",frame:{x:506,y:1156,w:162,h:175},rotated:!1,trimmed:!0,spriteSourceSize:{x:349,y:58.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0016",frame:{x:336,y:1159,w:162,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:349,y:60.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0017",frame:{x:1807,y:1142,w:163,h:176},rotated:!1,trimmed:!0,spriteSourceSize:{x:348,y:61.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0018",frame:{x:158,y:1289,w:160,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:350,y:73.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0019",frame:{x:671,y:1317,w:157,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:351,y:85.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0020",frame:{x:1688,y:1321,w:152,h:178},rotated:!1,trimmed:!0,spriteSourceSize:{x:352,y:92.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0021",frame:{x:1843,y:1321,w:149,h:174},rotated:!1,trimmed:!0,spriteSourceSize:{x:353,y:108.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0022",frame:{x:1316,y:708,w:147,h:250},rotated:!1,trimmed:!0,spriteSourceSize:{x:352,y:117.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0023",frame:{x:377,y:734,w:149,h:238},rotated:!1,trimmed:!0,spriteSourceSize:{x:348,y:131.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0024",frame:{x:529,y:739,w:149,h:231},rotated:!1,trimmed:!0,spriteSourceSize:{x:347,y:140.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0025",frame:{x:845,y:1274,w:147,h:191},rotated:!1,trimmed:!0,spriteSourceSize:{x:349,y:185.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0026",frame:{x:1013,y:244,w:168,h:198},rotated:!1,trimmed:!0,spriteSourceSize:{x:361,y:185.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0027",frame:{x:1466,y:773,w:168,h:188},rotated:!1,trimmed:!0,spriteSourceSize:{x:361,y:195.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0028",frame:{x:1134,y:925,w:168,h:183},rotated:!1,trimmed:!0,spriteSourceSize:{x:361,y:200.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0029",frame:{x:1034,y:1111,w:167,h:177},rotated:!1,trimmed:!0,spriteSourceSize:{x:362,y:206.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0030",frame:{x:506,y:975,w:168,h:178},rotated:!1,trimmed:!0,spriteSourceSize:{x:361,y:205.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0031",frame:{x:1814,y:959,w:169,h:180},rotated:!1,trimmed:!0,spriteSourceSize:{x:360,y:203.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0032",frame:{x:1305,y:964,w:167,h:181},rotated:!1,trimmed:!0,spriteSourceSize:{x:362,y:202.3,w:526,h:348},sourceSize:{w:526,h:348}},{filename:"cmcHustlerWin0033",frame:{x:336,y:975,w:167,h:181},rotated:!1,trimmed:!0,spriteSourceSize:{x:362,y:202.3,w:526,h:348},sourceSize:{w:526,h:348}}],meta:{app:"Adobe Flash Professional",version:"13.1.0.226",image:"WinningObjects.png",format:"RGBA8888",size:{w:2048,h:2048},scale:"1"}},e}(),WinningObjectsLayouts=function(){function e(){}return e.data=[],e}(),TranslatedMMText=(!function(r){(e=o=o||{}).PAUSED="Paused",e.RESUMED="Resumed",t.getInstance=function(){return t.instance=t.instance?t.instance:new t},t.prototype.init=function(){var e=new h5ads.GameDistribution("de857b96d0a540e18b2a4037a8b7d6d8");h5ads.adWrapper.setAdProvider(e)},t.prototype.showAd=function(e,t,i){var n=this;r.LoaderHelper.show(),h5ads.adWrapper.once(h5ads.AdEvents.CONTENT_PAUSED,function(){r.LoaderHelper.hide(),i&&i.call(n),n.contentStatus=o.PAUSED,r.PauseHandler.getInstance().pause()}),h5ads.adWrapper.once(h5ads.AdEvents.CONTENT_RESUMED,function(){r.LoaderHelper.hide(),h5ads.adWrapper.removeAllListeners(h5ads.AdEvents.CONTENT_PAUSED),h5ads.adWrapper.removeAllListeners(h5ads.AdEvents.CONTENT_RESUMED),n.contentStatus=o.RESUMED,r.PauseHandler.getInstance().resume(),t&&t.call(n)}),h5ads.adWrapper.showAd(h5ads.AdType.interstitial)},t.prototype.isAdPlaying=function(){return this.contentStatus===o.PAUSED};var o,e=t;function t(){this.contentStatus=o.RESUMED}r.AdHandler=e}(Fabrique=Fabrique||{}),!function(e){function t(){}t.prototype.show=function(e,t,i){h5ads.adWrapper.adsEnabled()&&(this.banner=h5ads.adWrapper.loadBanner(t),this.banner&&this.banner.alignIn(e,i))},t.prototype.hide=function(){this.banner&&(this.banner.destroy(),delete this.banner)},e.AzerionBanner=t}(Fabrique=Fabrique||{}),!function(e){function t(){}t.show=function(){var e=document.getElementById("loader");e&&(e.style.display="block")},t.hide=function(){var e=document.getElementById("loader");e&&(e.style.display="none")},e.LoaderHelper=t}(Fabrique=Fabrique||{}),!function(e){function t(e){this.game=e,this.focused=!0}t.getInstance=function(e){return t.instance=t.instance?t.instance:new t(e)},t.prototype.init=function(){var e=this;this.game.stage.disableVisibilityChange=!0,this.onPauseCallback=new Phaser.Signal,h5branding.Utils.isOnDevice()&&(document.addEventListener("pause",function(){return e.onPause()}),document.addEventListener("resume",function(){return e.onResume()})),this.game.onBlur.add(this.onBlur,this),this.game.onFocus.add(this.onFocus,this),this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},t.prototype.onBlur=function(){this.focused=!1,this.game.onPause.dispatch()},t.prototype.onFocus=function(){this.focused=!0,e.AdHandler.getInstance().isAdPlaying()||this.game.onResume.dispatch()},t.prototype.onPause=function(){this.game.sound.setMute(),this.onPauseCallback&&this.onPauseCallback.dispatch()},t.prototype.onResume=function(){this.game.sound.unsetMute()},t.prototype.pause=function(){this.game.onPause.dispatch()},t.prototype.resume=function(){this.hasFocus&&this.game.onResume.dispatch()},Object.defineProperty(t.prototype,"hasFocus",{get:function(){return this.focused},set:function(e){this.focused=e},enumerable:!1,configurable:!0}),e.PauseHandler=t}(Fabrique=Fabrique||{}),function(p){function e(e,t,i,n,r,o,a){void 0===o&&(o=void 0),void 0===a&&(a=void 0);var s=this;return(s=p.call(this,e,t,i,n,{font:r+"px sc_gum_kidsregular",stroke:"#101742",strokeThickness:9})||this).anchor.set(.5),s.setFillToGradient(),s.setShadow(0,-2.5,"rgba(255, 255, 0, 1)",0,!0,!1),void 0!==o&&(s.inputEnabled=!0,s.events.onInputOver.add(s.onOver,s),s.events.onInputOut.add(s.onOut,s),s.events.onInputDown.add(o,a)),s}return __extends(e,p),e.prototype.onOver=function(){this.fill="#ffff00",this.scale.set(1.01)},e.prototype.onOut=function(){this.setFillToGradient(),this.scale.set(1)},e.prototype.setFillToGradient=function(){var e=this.context.createLinearGradient(0,0,0,this.height);e.addColorStop(0,"#ffffff"),e.addColorStop(1,"#b3fffc"),this.fill=e},e}(PhaserI18n.TranslatedText)),TweenMax=function(){function d(){this.dummy=0}return d.Init=function(e){d.game=e},d.delayedCall=function(e,t,i){var n=new d;return e*=1e3,n.tween=this.game.add.tween(n).to({dummy:1},e,Phaser.Easing.Linear.None,!0),n.tween.onComplete.add(t,i),n},d.to=function(e,t,i){var n,r=new d,o=0,a=(i.delay&&(o=i.delay,delete i.delay),!1),s=(i.yoyo&&(a=i.yoyo,delete i.yoyo),0),p=(i.repeat&&(s=i.repeat,delete i.repeat),0),l=(i.repeatDelay&&(p=i.repeatDelay,delete i.repeatDelay),null),h=(i.onComplete&&(l=i.onComplete,delete i.onComplete),e),u=(i.onCompleteContext&&(h=i.onCompleteContext,delete i.onCompleteContext),Phaser.Easing.Linear.None);return i.ease&&("Linear.easeNone"==(n=i.ease)?u=Phaser.Easing.Linear.None:"Quad.easeOut"==n?u=Phaser.Easing.Quadratic.Out:"Quad.easeIn"==n?u=Phaser.Easing.Quadratic.In:"Back.easeOut"==n?u=Phaser.Easing.Back.Out:"Back.easeIn"==n&&(u=Phaser.Easing.Back.In),delete i.ease),r.tween=this.game.add.tween(e).to(i,1e3*t,u,!0,1e3*o,s,a),l&&r.tween.onComplete.add(l,h),0!=p&&(r.tween.repeatDelay(1e3*p),a&&r.tween.yoyoDelay(1e3*p)),r},d.pauseAll=function(){d.game.tweens.pauseAll()},d.resumeAll=function(){d.game.tweens.resumeAll()},d.prototype.pause=function(){this.tween.pause()},d.prototype.paused=function(){return this.tween.isPaused},d.prototype.resume=function(){this.tween.resume()},d.prototype.kill=function(){this.tween.stop()},d}(),NapeBody=(!function(e){i=e.CitrusObject,__extends(n,i),n.prototype.addPhysics=function(){this._nape=Constants.levelState._nape,this.defineBody(),this.createBody(),this.createMaterial(),this.createShape(),this.createFilter(),this.createConstraint()},n.prototype.destroy=function(){n.space.bodies.remove(this._body)},n.prototype.handlePreContact=function(e){return nape.callbacks.PreFlag.ACCEPT},n.prototype.handleBeginContact=function(e){},n.prototype.handleEndContact=function(e){},n.prototype.defineBody=function(){this._bodyType=nape.phys.BodyType.DYNAMIC},n.prototype.createBody=function(){var e,t,i,n,r;this._body=new nape.phys.Body(this._bodyType,new nape.geom.Vec2(this._x,this._y)),(this._body.userData.myData=this).view&&(n=i=t=e=0,"topLeft"==this.registration&&(r=Math.round((this.view.degrees+360)%360/90),"TriggerGraphics"==this.view.mc?1==r?(i=-5,n=-2):3==r&&(i=-4):"PushButtonGraphics"==this.view.mc?(2==r&&(n=-1),3==r&&(i=n=-7)):(e=-this.width/2,t=-this.height/2)),this._body.rotate(new nape.geom.Vec2(this._x+e,this._y+t),this.view.degrees*Math.PI/180),0!=i&&(this.x+=i),0!=n&&(this.y+=n)),this._body.rotate(new nape.geom.Vec2(this._x,this._y),this._rotation)},n.prototype.createMaterial=function(){this._material=new nape.phys.Material(.65,.57,1.2,1,0)},n.prototype.createShape=function(){if(null!=this.points&&1<this.points.length){for(var e=new nape.geom.Vec2List,t=0,i=this.points;t<i.length;t++){var n=i[t];e.push(new nape.geom.Vec2(n.x,n.y))}var r=new nape.shape.Polygon(e,this._material),o=r.validity();if(o!=nape.shape.ValidationResult.VALID){if(o==nape.shape.ValidationResult.CONCAVE)return void new nape.geom.GeomPoly(e).convexDecomposition().foreach(function(e){this._body.shapes.add(new nape.shape.Polygon(e))});throw new Error("Invalid polygon/polyline")}this._shape=r}else 0!=this._radius?this._shape=new nape.shape.Circle(this._radius,null,this._material):this._shape=new nape.shape.Polygon(nape.shape.Polygon.box(this._width,this._height),this._material);this._body.shapes.add(this._shape)},n.prototype.createFilter=function(){this._body.setShapeFilters(new nape.dynamics.InteractionFilter(e.PhysicsCollisionCategories.Get("Level"),e.PhysicsCollisionCategories.GetAll()))},n.prototype.createConstraint=function(){this._body.space=n.space,this._body.cbTypes.add(n.PHYSICS_OBJECT)},Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this._body?this._body.position.x:this._x},set:function(e){this._x=e,this._body&&((e=this._body.position).x=this._x,this._body.position=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._body?this._body.position.y:this._y},set:function(e){this._y=e,this._body&&((e=this._body.position).y=this._y,this._body.position=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"z",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rotation",{get:function(){return this._body?180*this._body.rotation/Math.PI:180*this._rotation/Math.PI},set:function(e){this._rotation=e*Math.PI/180,this._body&&(this._body.rotation=this._rotation)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depth",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius=e,this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),n.prototype.getBody=function(){return this._body},Object.defineProperty(n.prototype,"velocity",{get:function(){return[this._body.velocity.x,this._body.velocity.y,0]},set:function(e){this._body.velocity.setxy(e[0],e[1])},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"beginContactCallEnabled",{get:function(){return this._beginContactCallEnabled},set:function(e){this._beginContactCallEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endContactCallEnabled",{get:function(){return this._endContactCallEnabled},set:function(e){this._endContactCallEnabled=e},enumerable:!1,configurable:!0}),n.prototype.draw=function(){this.view&&(this.view.degrees=this.rotation,this.view.x=this.x+this.offsetX,this.view.y=this.y+this.offsetY)},n.PHYSICS_OBJECT=new nape.callbacks.CbType;var i,t=n;function n(e,t){e=i.call(this,e,t)||this;return e._rotation=0,e._bodyType=null,e._body=null,e._shape=null,e._material=null,e._beginContactCallEnabled=!1,e._endContactCallEnabled=!1,e._visible=!0,e.points=null,t.rotation&&(e.rotation=t.rotation),e}e.NapePhysicsObject=t}(objects=objects||{}),nape.phys.Body),Vec2=(!function(e){i=e.NapePhysicsObject,__extends(n,i),n.prototype.hit=function(e){},n.prototype.action=function(){},n.prototype.moveHorizontally=function(e,t){(0<t&&e.velocity.x<t||t<0&&e.velocity.x>t)&&(e.velocity.x=t)},n.prototype.createMaterial=function(){i.prototype.createMaterial.call(this),this._material.elasticity=0,this._material.density=1,this._material.staticFriction=.1,this._material.dynamicFriction=1},n.prototype.destroy=function(){i.prototype.destroy.call(this),Constants.levelState.removeObject(this)};var i,t=n;function n(e,t){e=i.call(this,e,t)||this;return e._vec=new Vec2,e.registration="topLeft",Constants.levelState.addObject(e),e}e.LevelObject=t}(objects=objects||{}),nape.geom.Vec2),NBody=(!function(e){t=e.LevelObject,__extends(n,t),n.prototype.createMaterial=function(){t.prototype.createMaterial.call(this),this._material.elasticity=1,this._material.density=1.4,this._material.staticFriction=.5,this._material.dynamicFriction=1},n.prototype.handleBeginContact=function(e){};var t,i=n;function n(e){e=t.call(this,"ball",{view:e,radius:17,x:+e.x+18,y:+e.y-18,group:4})||this;return e.beginContactCallEnabled=!0,e.body.allowRotation=!0,e}e.BasketBall=i}(objects=objects||{}),!function(e){t=e.LevelObject,__extends(n,t),n.prototype.createMaterial=function(){t.prototype.createMaterial.call(this),this._material.elasticity=.1,this._material.density=.9,this._material.staticFriction=.1,this._material.dynamicFriction=.35},n.prototype.handleBeginContact=function(e){22<this._body.velocity.y&&(SoundManager.getInstance().playSound("BoxDownSound"),this._isReadyToPlaySound=!1,TweenMax.delayedCall(1.25,this.isReadyToPlaySoundTrue,this))},n.prototype.isReadyToPlaySoundTrue=function(){this._isReadyToPlaySound=!0};var t,i=n;function n(e){e=t.call(this,"bigBox",{view:e,width:e.width,height:e.height,x:+e.x+e.width/2,y:+e.y-e.height/2,group:4})||this;return e.beginContactCallEnabled=!0,e._isReadyToPlaySound=!0,e}e.BigBox=i}(objects=objects||{}),nape.phys.Body),Shape=(!function(e){i=e.LevelObject,__extends(n,i),Object.defineProperty(n.prototype,"controlsEnabled",{get:function(){return this._controlsEnabled},set:function(e){this._controlsEnabled=e,this._body.velocity=Vec2.weak()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onGround",{get:function(){return this._onGround},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dynamicFriction",{get:function(){return this._dynamicFriction},set:function(e){this._material.dynamicFriction=this._dynamicFriction=e},enumerable:!1,configurable:!0}),n.prototype.update=function(e){i.prototype.update.call(this,e);var t=this._body.velocity;this._controlsEnabled&&(this._isMoveKeyPressed=!1,this._ce.input.isDoing("right",this.inputChannel)?(t.x+=this.acceleration,this._isMoveKeyPressed=!0,this.inverted=!1):this._ce.input.isDoing("left",this.inputChannel)?(t.x-=this.acceleration,this._isMoveKeyPressed=!0,this.inverted=!0):t.x*=.75,this._isMoveKeyPressed&&!this._playerMovingHero?(this._playerMovingHero=!0,this._material.dynamicFriction=0):!this._isMoveKeyPressed&&this._playerMovingHero&&(this._playerMovingHero=!1,this._material.dynamicFriction=this._dynamicFriction),this._onGround&&this._ce.input.isDoing("jump",this.inputChannel)&&(this._isMoveKeyPressed=!0,"bouncer"==name?0<this._groundContacts.length&&this._groundContacts[0]==Constants.hustler.body&&0==Constants.hustler.onGround||(t.y=-this.jumpHeight,this.jump()):0<this._groundContacts.length&&this._groundContacts[0]==Constants.bouncer.body&&0==Constants.bouncer.onGround||(t.y=-this.jumpHeight,this.jump())),t.x>this.maxVelocity?t.x=this.maxVelocity:t.x<-this.maxVelocity&&(t.x=-this.maxVelocity),this._body.velocity=t),this.updateAnimation(e)},n.prototype.createBody=function(){i.prototype.createBody.call(this),this._body.allowRotation=!1},n.prototype.createMaterial=function(){i.prototype.createMaterial.call(this),this._material.elasticity=0,this._material.staticFriction=0},n.prototype.handleBeginContact=function(e){var t=NapeUtils.CollisionGetOther(this,e);0<e.arbiters.length&&e.arbiters.at(0).collisionArbiter&&((45<=(e=Math.round(180*e.arbiters.at(0).collisionArbiter.normal.angle/Math.PI))&&e<=135||-30<e&&e<10||-90==e||-135==e)&&(1<e||e<-1)&&(this._groundContacts.push(t.body),this._onGround=!0))},n.prototype.handleEndContact=function(e){e=NapeUtils.CollisionGetOther(this,e),e=this._groundContacts.indexOf(e.body);-1!=e&&(this._groundContacts.splice(e,1),0==this._groundContacts.length&&(this._onGround=!1))},n.prototype.jump=function(){this._isJustJumped=!0,this._onGround=!1},n.prototype.updateAnimation=function(e){};var i,t=n;function n(e,t){e=i.call(this,e,t=void 0===t?null:t)||this;return e.acceleration=30,e.maxVelocity=240,e.jumpHeight=330,e.inputChannel=0,e._groundContacts=[],e._groundContactsCount=0,e._onGround=!1,e._dynamicFriction=.5,e._playerMovingHero=!1,e._controlsEnabled=!0,e._isMoveKeyPressed=!1,e._isJustJumped=!1,e.registration="center",e.updateCallEnabled=!0,e.beginContactCallEnabled=!0,e.endContactCallEnabled=!0,e}e.Hero=t}(objects=objects||{}),nape.shape.Shape),PivotJoint=nape.constraint.PivotJoint,InteractionFilter=nape.dynamics.InteractionFilter,Ray=(!function(t){i=t.Hero,__extends(n,i),n.prototype.initialize2=function(e){void 0===e&&(e=null),this._clip=this.view,(Constants.bouncer=this).inputChannel=Constants.bouncerInputChannel,this.jumpHeight=170,this.maxVelocity=39,this.acceleration=22,this._niche=null,this._idleTime=0,this._isReadyToPlayStepSound=!0,this._isReadyToPlayPushSound=!0,this._isReadyToGrab=!0,this.offsetY=28,this._clip.addAnimation("Stand",1,50,30,!0),this._clip.addAnimation("Walk",51,85,50,!0),this._clip.addAnimation("JumpUp",86,96,35),this._clip.addAnimation("JumpDown",97,103,35),this._clip.addAnimation("Push",104,121,40,!0),this._clip.addAnimation("GiveUp",122,122,1),this._clip.addAnimation("Hiding1",123,123,1),this._clip.addAnimation("Hiding2",124,124,1),this._clip.addAnimation("Hiding3",125,125,1),this._clip.addAnimation("Hiding4",126,126,1),this._clip.addAnimation("Idle1",127,279,40,!1,this.stand,this),this._clip.addAnimation("Idle2",280,400,40,!1,this.stand,this),this._clip.addAnimation("Grab",401,415,40,!1,this.stand,this),this._clip.addAnimation("WalkGrabbed",425,460,50,!0),this._clip.addAnimation("StandGrabbed",425,425,1),this._clip.addAnimation("JumpGrabbedUp",461,471,35),this._clip.addAnimation("JumpGrabbedDown",472,478,35),this._clip.addAnimation("Throw",479,496,50,!1,this.stand,this),this._clip.addAnimation("Balance",497,573,40),this._clip.playAnimation("Stand")},n.prototype.handleBeginContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"niche"==e.name&&(this._niche=e)},n.prototype.handleEndContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"niche"==e.name&&(this._niche=null),this._lastGrabbedObject&&e==this._lastGrabbedObject&&this._isReadyToDrop&&(TweenMax.delayedCall(.1,function(){this._isReadyToGrab=!0},this),this._isReadyToDrop=!1,this._lastGrabbedObject.body.setShapeFilters(new InteractionFilter(1,-1,1,-1)),"box"!=this._lastGrabbedObject.name&&"removable"!=this._lastGrabbedObject.name&&"ball"!=this._lastGrabbedObject.name||(this._lastGrabbedObject.body.allowRotation=!0),this._lastGrabbedObject=null,this._material.density/=3)},n.prototype.jump=function(){this._isJustJumped||(this._grabbedObject?this._clip.playAnimation("JumpGrabbedUp"):this._clip.playAnimation("JumpUp"),SoundManager.getInstance().playSound("BouncerJumpSound"),this._isJustJumped=!0,TweenMax.delayedCall(.1,function(){this._isJustJumped=!1},this),this._onGround=!1)},n.prototype.hide=function(){this.isHidden||this._niche.isOccupied||(this._occupiedNiche=this._niche,this._niche.isOccupied=!0,this.controlsEnabled=!1,this.isHidden=!0,TweenMax.to(this.view,.3,{tintRed:27,tintGreen:36,tintBlue:62}),TweenMax.to(this,.3,{x:this._niche.x}),TweenMax.to(this,.3,{offsetY:this.offsetY-3}),this._clip.playAnimation("Hiding"+String(Math.round(3*Math.random()+1))),this._shape.filter=this._nicheFilter,Constants.levelState.groupSprites[0].addChild(this.view),TweenMax.delayedCall(.31,function(){this.controlsEnabled=!0},this))},n.prototype.unhide=function(){this.isHidden&&(this._occupiedNiche.isOccupied=!1,this._occupiedNiche=null,this.isHidden=!1,TweenMax.to(this.view,.1,{tintRed:255,tintGreen:255,tintBlue:255}),this.offsetY+=3,this._shape.filter=this._filter,Constants.levelState.groupSprites[this.group].addChild(this.view))},n.prototype.giveUp=function(){this._grabbedObject&&this.drop(),this._isGaveUp=!0,this._clip.playAnimation("GiveUp"),this.controlsEnabled=!1,this._body.velocity.x=0},n.prototype.stand=function(){this._grabbedObject?this._clip.playAnimation("StandGrabbed"):this._clip.playAnimation("Stand")},n.prototype.grab=function(e){"fixedBox"==e.name||"hustler"==e.name||e instanceof t.Door||e instanceof t.Elevator||"sprite"==e.name||"tile"==e.name||"plank"==e.name||(this._isReadyToGrab=!1,this._isReadyToDrop=!1,e.body.setShapeFilters(new InteractionFilter(1,t.PhysicsCollisionCategories.GetAllExcept("bouncer"),1,-1)),"removable"==e.name&&e.action(),this._grabbedObject=e,this._grabbedObject.body.angularVel=0,this._grabbedObject.body.allowRotation=!1,this._grabbedObject.body.shapes.at(0).castShape.sensorEnabled=!0,this._joint=new PivotJoint(this.body,e.body,Vec2.get(0,-24),Vec2.get(0,0)),this._joint.space=this._body.space,this._material.density*=3,this._clip.playAnimation("Grab"),this._grabbedObject.x<this.x&&(this.inverted=!0),this.controlsEnabled=!1,TweenMax.delayedCall(.39,function(){this._grabbedObject.view.x=this._grabbedObject.view.y=0,this._grabbedObject.view.degrees=this._grabbedObject.rotation,this._grabbedVisual.visible=!0,this._grabbedVisualParent=this._grabbedObject.view.parent,this._grabbedVisual.addChild(this._grabbedObject.view),this.controlsEnabled=!0},this))},n.prototype.drop=function(e){(e=void 0===e?!1:e)?(this._grabbedObject.body.position.x+=this.inverted?-25:25,this._grabbedObject.body.position.y+=10,this._grabbedObject.body.velocity.y=-50):(this._grabbedObject.body.velocity.x=this.inverted?-80:80,this._grabbedObject.body.velocity.y=-240),this._joint.space=null,this._joint=null,this._grabbedObject.body.shapes.at(0).castShape.sensorEnabled=!1,this._grabbedVisualParent&&this._grabbedVisualParent.addChild(this._grabbedObject.view),this._grabbedObject.view.degrees=0,this._isReadyToDrop=!0,this._lastGrabbedObject=this._grabbedObject,this._grabbedObject=null,this._grabbedVisual.visible=!1},n.prototype.createFilter=function(){this._nicheFilter=new InteractionFilter(1,t.PhysicsCollisionCategories.Get("tile"),1,t.PhysicsCollisionCategories.Get("tile")),this._filter=new InteractionFilter(t.PhysicsCollisionCategories.Get("bouncer"),t.PhysicsCollisionCategories.GetAllExcept("enemy")),this._shape.filter=this._filter,this._enemySensor.filter=new InteractionFilter(1,t.PhysicsCollisionCategories.GetNone(),1,t.PhysicsCollisionCategories.Get("enemy")),this._pushSensor.filter=new InteractionFilter(1,t.PhysicsCollisionCategories.GetNone(),1,t.PhysicsCollisionCategories.GetAllExcept("tile","hidden")),this._balanceLeftSensor.filter=new InteractionFilter(1,t.PhysicsCollisionCategories.GetNone(),1,t.PhysicsCollisionCategories.GetAllExcept("hidden")),this._balanceRightSensor.filter=new InteractionFilter(1,t.PhysicsCollisionCategories.GetNone(),1,t.PhysicsCollisionCategories.GetAllExcept("hidden"))},n.prototype.createMaterial=function(){i.prototype.createMaterial.call(this),this._material.density=1.2},n.prototype.createShape=function(){this._shape=new Polygon([new Vec2(-this._width/2,-this._height/2+16),new Vec2(-this._width/2+9,-this._height/2),new Vec2(this._width/2-9,-this._height/2),new Vec2(this._width/2,-this._height/2+16),new Vec2(this._width/2,this._height/2-6),new Vec2(this._width/2-13,this._height/2),new Vec2(-this._width/2+13,this._height/2),new Vec2(-this._width/2,this._height/2-6)],this._material),this._body.shapes.add(this._shape),this._enemySensor=new Polygon([new Vec2(-this._width/2,-this._height/2+16),new Vec2(this._width/2,-this._height/2+16),new Vec2(this._width/2,this._height/2-4),new Vec2(-this._width/2,this._height/2-4)],this._material),this._enemySensor.sensorEnabled=!0,this._enemySensor.group=CollisionHelper.nonCollidable,this._body.shapes.add(this._enemySensor),this._pushSensor=new Polygon([new Vec2(-this._width/2-4,0),new Vec2(this._width/2+2,-2),new Vec2(this._width/2+2,2),new Vec2(this._width/2-4,this._height/2-6),new Vec2(-this._width/2+4,this._height/2-6),new Vec2(-this._width/2-2,2)],this._material),this._pushSensor.sensorEnabled=!0,this._body.shapes.add(this._pushSensor),this._pushSensor.group=CollisionHelper.nonCollidable,this._balanceLeftSensor=new Polygon([new Vec2(-this._width/2+1,this.height/2+2),new Vec2(-2,this.height/2+2),new Vec2(-2,this.height/2+5),new Vec2(-this._width/2+1,this.height/2+5)],this._material),this._balanceLeftSensor.sensorEnabled=!0,this._body.shapes.add(this._balanceLeftSensor),this._balanceLeftSensor.group=CollisionHelper.nonCollidable,this._balanceRightSensor=new Polygon([new Vec2(2,this.height/2+2),new Vec2(this._width/2-1,this.height/2+2),new Vec2(this._width/2-1,this.height/2+5),new Vec2(2,this.height/2+5)],this._material),this._balanceRightSensor.sensorEnabled=!0,this._body.shapes.add(this._balanceRightSensor),this._balanceRightSensor.group=CollisionHelper.nonCollidable},n.prototype.checkCollisions=function(){this._isObstacleOnLeft=!1,this._isObstacleOnRight=!1,this._isLeftBalanceSensor=!1,this._isRightBalanceSensor=!1;for(var e=this._groundContactsCount=0;e<this._body.arbiters.length;e++){var t=this._body.arbiters.at(e);t.shape1==this._pushSensor?this._isReadyToGrab&&(this._ce.input.justDid("grab",this.inputChannel)||this._ce.input.justDid("grabDown",this.inputChannel))?this.grab(t.body2.userData.myData):t.body2.position.x<this.x?this._isObstacleOnLeft=!0:this._isObstacleOnRight=!0:t.shape2==this._pushSensor&&(this._isReadyToGrab&&(this._ce.input.justDid("grab",this.inputChannel)||this._ce.input.justDid("grabDown",this.inputChannel))?this.grab(t.body1.userData.myData):t.body1.position.x<this.x?this._isObstacleOnLeft=!0:this._isObstacleOnRight=!0),t.shape1==this._balanceLeftSensor||t.shape2==this._balanceLeftSensor?this._isLeftBalanceSensor=!0:t.shape1!=this._balanceRightSensor&&t.shape2!=this._balanceRightSensor||(this._isRightBalanceSensor=!0),t.shape1==this._shape?this.checkGround(t,t.body2):t.shape2==this._shape&&this.checkGround(t,t.body1)}0==this._groundContactsCount&&(this._onGround=!1)},n.prototype.checkGround=function(e,t){e.collisionArbiter&&(e=Math.round(180*e.collisionArbiter.normal.angle/Math.PI),(t!=Constants.hustler.body||Constants.hustler.onGround)&&(15<=e&&e<=175||-30<e&&e<10||-90==e||-135==e)&&(1<e||e<-1)&&this._body.position.y<t.position.y-15&&(this._groundContactsCount++,this._onGround=!0))},n.prototype.update=function(e){this.checkCollisions(),i.prototype.update.call(this,e),!this._isGaveUp&&this._controlsEnabled&&(this._grabbedObject&&(this._ce.input.justDid("grab",this.inputChannel)?this.drop():this._ce.input.justDid("grabDown",this.inputChannel)&&this.drop(!0)),!this.isHidden&&!this._isMoveKeyPressed&&this._body.velocity.length<.1&&null==this._grabbedObject&&this._niche?this.hide():this.isHidden&&this._isMoveKeyPressed&&this.unhide())},n.prototype.updateAnimation=function(e){this._isGaveUp||"Grab"==this._clip.currentAnimation||"Throw"==this._clip.currentAnimation||(this._isMoveKeyPressed?this._idleTime=0:this._idleTime+=e,17<this._idleTime&&!this.isHidden&&null==this._grabbedObject&&(.5<Math.random()?(this._idleTime=0,SoundManager.getInstance().playSound("BouncerIdleSound1"),this._clip.playAnimation("Idle1")):(this._idleTime=0,SoundManager.getInstance().playSound("BouncerIdleSound2"),this._clip.playAnimation("Idle2"))),e=this._body.velocity.x,this._onGround&&!this._isJustJumped?null==this._grabbedObject&&(this._ce.input.isDoing("right",this.inputChannel)&&this._isObstacleOnRight||this._ce.input.isDoing("left",this.inputChannel)&&this._isObstacleOnLeft)?(this._isReadyToPlayPushSound&&(this._isReadyToPlayPushSound=!1,TweenMax.delayedCall(2,function(){this._isReadyToPlayPushSound=!0},this),SoundManager.getInstance().playSound("BouncerPushSound")),this._clip.playAnimation("Push")):e<-1||1<e?this._isMoveKeyPressed&&(this._grabbedObject?(SoundManager.getInstance().stopSound("BouncerPushSound"),this._clip.playAnimation("WalkGrabbed")):(SoundManager.getInstance().stopSound("BouncerIdleSound2"),SoundManager.getInstance().stopSound("BouncerIdleSound1"),SoundManager.getInstance().stopSound("BouncerPushSound"),this._clip.playAnimation("Walk")),this._isReadyToPlayStepSound&&(this._isReadyToPlayStepSound=!1,TweenMax.delayedCall(.4,function(){this._isReadyToPlayStepSound=!0},this),SoundManager.getInstance().playSound("BouncerStepSound"))):"Idle1"==this._clip.currentAnimation||"Idle2"==this._clip.currentAnimation||this.isHidden||(SoundManager.getInstance().stopSound("BouncerPushSound"),this._grabbedObject?this._clip.playAnimation("StandGrabbed"):this._isLeftBalanceSensor&&!this._isRightBalanceSensor?(this._clip.playAnimation("Balance"),this.inverted=!0):!this._isLeftBalanceSensor&&this._isRightBalanceSensor?(this._clip.playAnimation("Balance"),this.inverted=!1):(this.inverted=!1,this._clip.playAnimation("Stand"))):"JumpDown"!=this._clip.currentAnimation&&"JumpGrabbedDown"!=this._clip.currentAnimation&&.2<this._body.velocity.y&&(this._grabbedObject?this._clip.playAnimation("JumpGrabbedDown"):this._clip.playAnimation("JumpDown")))},n.prototype.goTo=function(e){this._grabbedObject&&this.drop(),this._isGaveUp=!0,this.body.space=null,this._clip.playAnimation("Walk"),this.inverted=this.x>e,TweenMax.to(this,.5,{x:e,ease:"Linear.easeNone",onComplete:function(){Constants.bouncer.view.visible=!1}})};var i,e=n;function n(e){var t=i.call(this,"bouncer",{view:e,width:48,height:55,x:+e.x+33,y:+e.y-24,group:4})||this,e=(t.burgers=0,t._clip=e,new MovieClip("grabbedObject",0,-74));return t.view.addChild(e),t._grabbedVisual=e,t._grabbedVisual.visible=!1,t.initialize2(),t}t.Bouncer=e}(objects=objects||{}),!function(e){t=e.LevelObject,__extends(n,t),n.prototype.createMaterial=function(){t.prototype.createMaterial.call(this),this._material.density=1.5},n.prototype.handleBeginContact=function(e){15<Math.abs(this._body.velocity.y)&&(SoundManager.getInstance().playSound("BoxDownSound"),this._isReadyToPlaySound=!1,TweenMax.delayedCall(1.25,this.isReadyToPlaySoundTrue,this))},n.prototype.isReadyToPlaySoundTrue=function(){this._isReadyToPlaySound=!0};var t,i=n;function n(e){e=t.call(this,"box",{view:e,width:33,height:33,x:+e.x+16.5,y:+e.y-16.5,group:4})||this;return e.beginContactCallEnabled=!0,e._isReadyToPlaySound=!0,e}e.Box=i}(objects=objects||{}),!function(t){i=t.LevelObject,__extends(n,i),n.prototype.handleBeginContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"hustler"==e.name||"bouncer"==e.name?(Constants.hustler.giveUp(),Constants.bouncer.giveUp(),Constants.levelState.failLevel(),this.die()):("fixedBox"==e.name||e instanceof t.Door||e instanceof t.Elevator||"box"==e.name||"plank"==e.name||"removable"==e.name)&&(SoundManager.getInstance().playSound("RicochetSound"),this.die())},n.prototype.hit=function(e){this.die()},n.prototype.die=function(){this.kill=!0;var e=new MovieClip("BulletFxGraphics");e.x=this.x,e.y=this.y,Constants.levelState.groupSprites[6].addChild(e),e.playOnce(),TweenMax.delayedCall(.75,e.remove,e)},n.prototype.defineBody=function(){this._bodyType=BodyType.KINEMATIC};var i,e=n;function n(){var e=this,t=new MovieClip("BulletGraphics");return(e=i.call(this,"bullet",{view:t,width:12,height:6,group:5})||this)._shape.sensorEnabled=!0,e.beginContactCallEnabled=!0,e}t.Bullet=e}(objects=objects||{}),!function(t){i=t.LevelObject,__extends(n,i),n.prototype.handleBeginContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"bouncer"!=e.name&&"hustler"!=e.name||Constants.levelState.topPanel.collectBurger(this)},n.prototype.defineBody=function(){this._bodyType=BodyType.STATIC};var i,e=n;function n(e){e=i.call(this,"burger",{view:e,radius:12,x:+e.x+14,y:+e.y-12,group:4})||this;return e._shape.sensorEnabled=!0,e.beginContactCallEnabled=!0,e._body.setShapeFilters(new InteractionFilter(t.PhysicsCollisionCategories.Get("hidden"),-1,t.PhysicsCollisionCategories.Get("hidden"))),e}t.Burger=e}(objects=objects||{}),nape.geom.Ray),RayResult=nape.geom.RayResult,BodyType=(!function(n){r=n.LevelObject,__extends(t,r),t.prototype.defineBody=function(){this._bodyType=BodyType.STATIC},t.prototype.relax=function(){this._state="relax",this._rayClip.gotoAndStop(t.GREEN_BEAM),this._crossPoint.gotoAndStop(t.GREEN_CROSS),this._motionTween&&this._motionTween.resume(),this._dangerTween&&(this._dangerTween.kill(),this._dangerTween=null),this._relaxTween=null},t.prototype.danger=function(){this._state="danger",SoundManager.getInstance().playSound("YellowCameraSound"),this._rayClip.gotoAndStop(t.YELLOW_BEAM),this._crossPoint.gotoAndStop(t.YELLOW_CROSS),this._motionTween&&this._motionTween.pause(),this._relaxTween&&this._relaxTween.kill(),this._relaxTween=null,this._dangerTween&&this._dangerTween.paused()?this._dangerTween.resume():this._dangerTween=TweenMax.delayedCall(.5,this.alert,this)},t.prototype.suspect=function(){this._state="suspect",this._dangerTween.pause(),this._relaxTween||(this._relaxTween=TweenMax.delayedCall(1,this.relax,this))},t.prototype.alert=function(){this._state="red",SoundManager.getInstance().playSound("RedCameraSound"),this._rayClip.gotoAndStop(t.RED_BEAM),this._crossPoint.gotoAndStop(t.RED_CROSS),Constants.hustler.giveUp(),Constants.bouncer.giveUp(),Constants.levelState.failLevel()},t.prototype.update=function(e){r.prototype.update.call(this,e),this._ray=new Ray(this._body.worldCOM,Vec2.fromPolar(1,(this._camera.degrees+180)/180*Math.PI)),this._ray.maxDistance=1e3,this._rayResult=this._body.space.rayCast(this._ray,!1,this._filter),this._rayResult&&(e=this._ray.at(this._rayResult.distance),this._crossPoint.x=e.x,this._crossPoint.y=e.y,this._rayClip.scale.x=(this._rayResult.distance-15.75)/100,"bouncer"==(e=this._rayResult.shape.body.userData.myData.name)||"hustler"==e||"guardian"==e&&this._rayResult.shape.body.userData.myData.isWounded?"relax"!=this._state&&"suspect"!=this._state||this.danger():"danger"==this._state&&this.suspect())},t.prototype.destroy=function(){r.prototype.destroy.call(this),this._motionTween&&this._motionTween.kill(),this._dangerTween&&this._dangerTween.kill(),this._relaxTween&&this._relaxTween.kill()},t.RED_CROSS=1,t.RED_BEAM=1,t.YELLOW_CROSS=3,t.YELLOW_BEAM=2,t.GREEN_CROSS=2,t.GREEN_BEAM=3;var r,e=t;function t(e){var t=r.call(this,"camera",{view:e,width:20,height:20,x:+e.x+13,y:+e.y-13,group:4})||this,i=(t._shape.sensorEnabled=!0,t.updateCallEnabled=!0,e.stop(),t._camera=new MovieClip("CameraGun",0,0),t._crossPoint=new MovieClip("crossPoint",-18,0),t._rayClip=new MovieClip("_beam",-18,0),t.view.addChild(t._camera),t._camera.addChild(t._rayClip),t.view.parent.addChild(t._crossPoint),t._filter=new InteractionFilter(1,n.PhysicsCollisionCategories.GetAllExcept("hidden")),t._minAngle=t._maxAngle=0,(e.params.minAngle||e.params.maxAngle)&&(t._minAngle=-parseFloat(e.params.minAngle),t._maxAngle=-parseFloat(e.params.maxAngle)),t._delay=parseFloat(e.params.delay),1);return e.params.speedX&&(i=parseFloat(e.params.speedX)),t._camera.degrees=t._minAngle,t._minAngle!=t._maxAngle&&(t._motionTween=TweenMax.to(t._camera,Math.abs(t._minAngle-t._maxAngle)/6/i,{degrees:t._maxAngle,repeat:-1,yoyo:!0,repeatDelay:t._delay})),t.relax(),t}n.Camera=e}(objects=objects||{}),!function(e){i=e.CitrusObject,__extends(n,i);var i,t=n;function n(e,t){e=i.call(this,e,t)||this;return e._registration="topLeft",1<e.view.totalFrames()&&e.view.playLoop(),e}e.CitrusSprite=t}(objects=objects||{}),!function(i){n=i.LevelObject,__extends(t,n),t.prototype.initialize2=function(e){void 0===e&&(e=null),this._clip=this.view,this.offsetY=10,this._clip.addAnimation("Stand",1,41,25,!0),this._clip.addAnimation("Idle1",42,71,30,!1,this.stand,this),this._clip.addAnimation("Idle2",72,99,30,!1,this.stand,this),this._clip.addAnimation("GiveUp",100,107,30),this._clip.playAnimation("Stand"),this._lookTween=TweenMax.delayedCall(4+4*Math.random(),this.look,this)},t.prototype.handleBeginContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"bouncer"==e.name?Constants.bouncer.isAtLevelExit=!0:"hustler"==e.name&&(Constants.hustler.isAtLevelExit=!0)},t.prototype.handleEndContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"bouncer"==e.name?Constants.bouncer.isAtLevelExit=!1:"hustler"==e.name&&(Constants.hustler.isAtLevelExit=!1)},t.prototype.look=function(){.5<Math.random()?this._clip.playAnimation("Idle1"):this._clip.playAnimation("Idle2"),this._lookTween=TweenMax.delayedCall(4+4*Math.random(),this.look,this)},t.prototype.stand=function(){"GiveUp"!=this._clip.currentAnimation&&this._clip.playAnimation("Stand")},t.prototype.getBrothers=function(e,t){this._clip.playAnimation("GiveUp"),TweenMax.delayedCall(1,e,t),this._lookTween&&this._lookTween.kill()},t.prototype.defineBody=function(){this._bodyType=BodyType.STATIC};var n,e=t;function t(e){var t=n.call(this,"dad",{view:e,width:60,height:20,x:+e.x+35,y:+e.y-11})||this;return t._clip=e,t.initialize2(),t._shape.sensorEnabled=!0,t.beginContactCallEnabled=!0,t.endContactCallEnabled=!0,t._body.group=CollisionHelper.nonCollidable,t._body.setShapeFilters(new InteractionFilter(i.PhysicsCollisionCategories.Get("hidden"),-1,i.PhysicsCollisionCategories.Get("hidden"))),t}i.Dad=e}(objects=objects||{}),!function(o){a=o.LevelObject,__extends(s,a),s.prototype.action=function(){this._isOpened?this._isOpened=!1:this._isOpened=!0,this._isMoving=!0,SoundManager.getInstance().playSound("OpenDoorSound")},s.prototype.stop=function(){this._isMoving=!1,this.body.velocity.x=0,this.body.velocity.y=0},s.prototype.defineBody=function(){this._bodyType=BodyType.KINEMATIC},s.prototype.update=function(e){a.prototype.update.call(this,e),this._isMoving&&(this._direction==s.UP?this._isOpened?this.y<=this._initY-69.5?this.stop():this._body.velocity.y=-50:this.y>=this._initY-.5?this.stop():this._body.velocity.y=50:this._direction==s.DOWN?this._isOpened?this.y>=this._initY+69.5?this.stop():this._body.velocity.y=50:this.y<=this._initY+.5?this.stop():this._body.velocity.y=-50:this._direction==s.LEFT?this._isOpened?this.x<=this._initX-69.5?this.stop():this._body.velocity.x=-50:this.x>=this._initX-.5?this.stop():this._body.velocity.x=50:this._direction==s.RIGHT&&(this._isOpened?this.x>=this._initX+69.5?this.stop():this._body.velocity.x=50:this.x<=this._initX+.5?this.stop():this._body.velocity.x=-50))},s.UP=1,s.DOWN=2,s.LEFT=3,s.RIGHT=4;var a,e=s;function s(e){var t=this,i=e._degrees,n=e.rotation=0,r="subject"+(n=0==(n=e.params.type?Math.round(parseFloat(e.params.type)):n)?1:n);return e.gotoAndStop(n),(t=a.call(this,r,{view:e,rotation:i,width:20,height:69,x:+e.x+10*Math.cos(i/180*Math.PI)+35*Math.sin(i/180*Math.PI),y:+e.y-35*Math.cos(i/180*Math.PI)+10*Math.sin(i/180*Math.PI),group:2})||this)._isGlass=0<=e.frameName.indexOf("GlassDoorGraphics"),i=(i%360+360)%360,0==Math.round(i)?t._direction=s.UP:180==Math.round(i)?t._direction=s.DOWN:90==Math.round(i)?t._direction=s.LEFT:270==Math.round(i)&&(t._direction=s.RIGHT),t._initX=t.x,t._initY=t.y,t.updateCallEnabled=!0,t._isGlass&&t._body.setShapeFilters(new InteractionFilter(o.PhysicsCollisionCategories.Get("hidden"))),t}o.Door=e}(objects=objects||{}),!function(e){o=e.LevelObject,__extends(a,o),a.prototype.action=function(){this._isMovingToTarget?this._isMovingToTarget=!1:this._isMovingToTarget=!0,this._isMoving=!0},a.prototype.defineBody=function(){this._bodyType=BodyType.KINEMATIC},a.prototype.createShape=function(){o.prototype.createShape.call(this),this._isBig?(this._sensor1=new Polygon(OzUtil.verticesArrayToVec2([[56,0],[56,13],[10,13],[10,0]]),this._material),this._sensor2=new Polygon(OzUtil.verticesArrayToVec2([[-56,0],[-56,13],[-10,13],[-10,0]]),this._material)):(this._sensor1=new Polygon(OzUtil.verticesArrayToVec2([[40,0],[40,13],[10,13],[10,0]]),this._material),this._sensor2=new Polygon(OzUtil.verticesArrayToVec2([[-40,0],[-40,13],[-10,13],[-10,0]]),this._material)),this._sensor3=new Polygon(OzUtil.verticesArrayToVec2([[-33,0],[-33,13],[33,13],[33,0]]),this._material),this._sensor1.sensorEnabled=!0,this._sensor2.sensorEnabled=!0,this._sensor3.sensorEnabled=!0,this._body.shapes.add(this._sensor1),this._body.shapes.add(this._sensor2),this._body.shapes.add(this._sensor3)},a.prototype.createMaterial=function(){o.prototype.createMaterial.call(this),this._material.elasticity=0,this._material.dynamicFriction=8},a.prototype.pause=function(){this._isPaused=!0,this.body.velocity.x=0,this.body.velocity.y=0},a.prototype.stop=function(){this._isMoving=!1,this.body.velocity.x=0,this.body.velocity.y=0},a.prototype.update=function(e){if(this._isPaused=!1,this._isMoving){for(var t=0;t<this._body.arbiters.length;t++){var i=this._body.arbiters.at(t);this._direction==a.LEFT&&!this._isMovingToTarget||this._direction==a.RIGHT&&this._isMovingToTarget?i.shape1==this._sensor1?i.body2.type==BodyType.DYNAMIC&&"box"!=i.body2.userData.myData.name&&this.pause():i.shape2==this._sensor1&&i.body1.type==BodyType.DYNAMIC&&"box"!=i.body1.userData.myData.name&&this.pause():this._direction==a.LEFT&&this._isMovingToTarget||this._direction==a.RIGHT&&!this._isMovingToTarget?i.shape1==this._sensor2?i.body2.type==BodyType.DYNAMIC&&"box"!=i.body2.userData.myData.name&&this.pause():i.shape2==this._sensor2&&i.body1.type==BodyType.DYNAMIC&&"box"!=i.body1.userData.myData.name&&this.pause():(this._direction==a.DOWN&&this._isMovingToTarget||this._direction==a.UP&&!this._isMovingToTarget)&&(i.shape1==this._sensor3?i.body2.type==BodyType.DYNAMIC&&"box"!=i.body2.userData.myData.name&&this.pause():i.shape2==this._sensor3&&i.body1.type==BodyType.DYNAMIC&&"box"!=i.body1.userData.myData.name&&this.pause())}this._direction==a.UP?this._isMovingToTarget?this.y<=this._initY-this._distanceY?this.stop():this._isPaused||(this._body.velocity.y=this._speedY):this.y>=this._initY?this.stop():this._isPaused||(this._body.velocity.y=-this._speedY):this._direction==a.DOWN?this._isMovingToTarget?this.y>=this._initY+this._distanceY?this.stop():this._isPaused||(this._body.velocity.y=this._speedY):this.y<=this._initY?this.stop():this._isPaused||(this._body.velocity.y=-this._speedY):this._direction==a.LEFT?this._isMovingToTarget?this.x<=this._initX-this._distanceX?this.stop():this._isPaused||(this._body.velocity.x=this._speedX):this.x>=this._initX?this.stop():this._isPaused||(this._body.velocity.x=-this._speedX):this._direction==a.RIGHT&&(this._isMovingToTarget?this.x>=this._initX+this._distanceX?this.stop():this._isPaused||(this._body.velocity.x=this._speedX):this.x<=this._initX?this.stop():this._isPaused||(this._body.velocity.x=-this._speedX))}0!=this.body.velocity.x||0!=this.body.velocity.y?(this._isMovingToTarget?(this.view.getChild("cogwheel1").degrees-=6,this.view.getChild("cogwheel2").degrees+=6):(this.view.getChild("cogwheel1").degrees+=6,this.view.getChild("cogwheel2").degrees-=6),this._isPlayingSound||(SoundManager.getInstance().playSound("ElevatorSound"),this._isPlayingSound=!0)):this._isPlayingSound&&(SoundManager.getInstance().stopSound("ElevatorSound"),this._isPlayingSound=!1),o.prototype.update.call(this,e)},a.prototype.destroy=function(){o.prototype.destroy.call(this),SoundManager.getInstance().stopSound("ElevatorSound")},a.UP=1,a.DOWN=2,a.LEFT=3,a.RIGHT=4;var o,t=a;function a(e){var t=this,i=0,n=(0==(i=e.params.type?Math.round(parseFloat(e.params.type)):i)&&(i=1),"subject"+String(i)),r=!1;return"BigElevatorGraphics"==e.mc&&(r=!0),(t=o.call(this,n,{view:e,width:r?102:70,height:r?20:16,x:+e.x+(r?104:70)/2,y:+e.y-(r?10:12),group:4})||this).view.getChild("front").gotoAndStop(i),t._isBig=r,t._distanceX=parseFloat(e.params.distanceX),t._distanceY=parseFloat(e.params.distanceY),t._speedX=parseFloat(e.params.speedX),t._speedY=parseFloat(e.params.speedY),t._speedY<0?t._direction=a.UP:0<t._speedY?t._direction=a.DOWN:t._speedX<0?t._direction=a.LEFT:0<t._speedX&&(t._direction=a.RIGHT),t._initX=t.x,t._initY=t.y,t.updateCallEnabled=!0,t}e.Elevator=t}(objects=objects||{}),nape.phys.BodyType),Polygon=(!function(e){t=e.LevelObject,__extends(n,t),n.prototype.createFilter=function(){this._body.setShapeFilters(new InteractionFilter(e.PhysicsCollisionCategories.Get("limiter"),e.PhysicsCollisionCategories.Get("enemy"),e.PhysicsCollisionCategories.Get("limiter"),e.PhysicsCollisionCategories.Get("enemy")))},n.prototype.defineBody=function(){this._bodyType=BodyType.STATIC};var t,i=n;function n(e){return t.call(this,"limiter",{width:15,height:15,x:+e.x+7.5,y:+e.y-7.5})||this}e.EnemyLimiter=i}(objects=objects||{}),!function(i){n=i.LevelObject,__extends(t,n),t.prototype.handleBeginContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"bouncer"==e.name?Constants.bouncer.isAtLevelExit=!0:"hustler"==e.name&&(Constants.hustler.isAtLevelExit=!0)},t.prototype.handleEndContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"bouncer"==e.name?Constants.bouncer.isAtLevelExit=!1:"hustler"==e.name&&(Constants.hustler.isAtLevelExit=!1)},t.prototype.getBrothers=function(e,t){void 0===t&&(t=null),this.view.currentFrameNumber=1,TweenMax.to(this.view,.5,{currentFrameNumber:24,onComplete:this.delaySecondExitAnim,onCompleteContext:this}),Constants.bouncer.goTo(this.x+22),Constants.hustler.goTo(this.x-15),TweenMax.delayedCall(1.4,e,t),SoundManager.getInstance().playSound("ExitSound")},t.prototype.delaySecondExitAnim=function(){var e=this.view.totalFrames();this.view.currentFrameNumber=25,TweenMax.to(this.view,.8,{currentFrameNumber:e})},t.prototype.defineBody=function(){this._bodyType=BodyType.STATIC};var n,e=t;function t(e){var t=this;return e.stop(),(t=n.call(this,"exit",{view:e,width:80,height:20,x:+e.x+35,y:+e.y-35+30})||this).offsetY=-30,t._shape.sensorEnabled=!0,t.beginContactCallEnabled=!0,t.endContactCallEnabled=!0,t._body.group=CollisionHelper.nonCollidable,t._body.setShapeFilters(new InteractionFilter(i.PhysicsCollisionCategories.Get("hidden"),-1,i.PhysicsCollisionCategories.Get("hidden"))),t}i.Exit=e}(objects=objects||{}),!function(e){t=e.LevelObject,__extends(n,t),n.prototype.defineBody=function(){this._bodyType=BodyType.STATIC},n.prototype.createFilter=function(){this._body.setShapeFilters(new InteractionFilter(e.PhysicsCollisionCategories.Get("tile"),e.PhysicsCollisionCategories.GetAll(),e.PhysicsCollisionCategories.Get("tile"),e.PhysicsCollisionCategories.GetAll()))};var t,i=n;function n(e){return t.call(this,"fixedBox",{width:+e.width,height:+e.height,x:+(e.x+e.width/2),y:+(e.y+e.height/2)})||this}e.FixedBox=i}(objects=objects||{}),!function(e){r=e.LevelObject,__extends(i,r),i.prototype.defineBody=function(){this._bodyType=BodyType.STATIC},i.prototype.createFilter=function(){this._body.setShapeFilters(new InteractionFilter(e.PhysicsCollisionCategories.Get("tile"),e.PhysicsCollisionCategories.GetAll(),e.PhysicsCollisionCategories.Get("tile"),e.PhysicsCollisionCategories.GetAll()))};var r,t=i;function i(e,t,i,n){return r.call(this,"fixedBox",{width:+i,height:+n,x:+e+ +i/2,y:+t+ +n/2})||this}e.FixedBox2=t}(objects=objects||{}),!function(e){i=e.LevelObject,__extends(n,i),n.prototype.initialize2=function(e){void 0===e&&(e=null),this._clip=this.view,this.updateCallEnabled=!0,this.beginContactCallEnabled=!0,this._isReadyToPlayStepSound=!0,this._timeNotMoving=0,this._direction=1,this.offsetX=0,this.offsetY=25,0<=this.view.frameName.indexOf("Guardian2Graphics")?(this.WALK_SPEED=20,this._clip.addAnimation("Stand",1,41,30,!0),this._clip.addAnimation("Walk",42,66,40,!0),this._clip.addAnimation("Run",67,82,40,!0),this._clip.addAnimation("Wound",83,99,40),this._clip.addAnimation("WoundStatic",98,98,1),this._isWeak=!0):0<=this.view.frameName.indexOf("GuardianGraphics")?(this._clip.addAnimation("Stand",1,43,30,!0),this._clip.addAnimation("Walk",44,68,40,!0),this._clip.addAnimation("Run",69,84,40,!0),this._clip.addAnimation("Wound",85,101,40),this._clip.addAnimation("WoundStatic",100,100,1),this._isWeak=!0):(this._clip.addAnimation("Stand",1,37,30,!0),this._clip.addAnimation("Walk",38,57,40,!0),this._clip.addAnimation("Run",58,71,40,!0),this._clip.addAnimation("Wound",72,131,35,!1,this.wakeUp,this)),this._taskManager=new TaskManager(!0),this.assignTasks()},n.prototype.woundStatic=function(){this._clip.playAnimation("WoundStatic")},n.prototype.assignTasks=function(){this._taskManager.removeAllTasks(),this._taskManager.addTask(this,this.wait),this._taskManager.addPause(80),this._taskManager.addInstantTask(this,this.startPatrol),this._taskManager.addTask(this,this.patrol)},n.prototype.handleBeginContact=function(e){var t;this.isWounded||(("box"==(e=NapeUtils.CollisionGetOther(this,e)).name||"removable"==e.name||"plank"==e.name)&&30<e.body.normalImpulse(this.body,!0).xy(!0).length&&e.y<this.y||"bullet"==e.name?this._taskManager.addUrgentInstantTask(this,this.wound):("bouncer"==e.name&&!Constants.bouncer.isHidden||"hustler"==e.name&&!Constants.hustler.isHidden)&&(this._taskManager.removeAllTasks(),this._clip.playAnimation("Stand"),this.isWounded=!0,Constants.hustler.giveUp(),Constants.bouncer.giveUp(),(t=new MovieClip("FightingGraphics",0,0)).playOnce(),t.y=this.y,t.x=this.x+.7*(e.x-this.x),this.view.parent.addChild(t),SoundManager.getInstance().playSound("AttackSound"),TweenMax.delayedCall(1,Constants.levelState.failLevel,Constants.levelState)))},n.prototype.handleEndContact=function(e){i.prototype.handleEndContact.call(this,e);NapeUtils.CollisionGetOther(this,e)},n.prototype.createShape=function(){this._shape=new Polygon([new Vec2(-this._width/2,-this._height/2+3),new Vec2(0,-this._height/2-2),new Vec2(this._width/2,-this._height/2+3),new Vec2(this._width/2,this._height/2-8),new Vec2(this._width/2-6,this._height/2),new Vec2(-this._width/2+6,this._height/2),new Vec2(-this._width/2,this._height/2-8)],this._material),this._body.shapes.add(this._shape)},n.prototype.createMaterial=function(){i.prototype.createMaterial.call(this),this._material.elasticity=0,this._material.density=1,this._material.staticFriction=.01,this._material.dynamicFriction=.01},n.prototype.createFilter=function(){this._body.setShapeFilters(new InteractionFilter(e.PhysicsCollisionCategories.Get("enemy"),e.PhysicsCollisionCategories.GetAllExcept("enemy"),e.PhysicsCollisionCategories.Get("enemy"),e.PhysicsCollisionCategories.GetAllExcept("enemy")))},n.prototype.wait=function(){return SoundManager.getInstance().stopSound("GuardianStepSound"),SoundManager.getInstance().stopSound("GuardianRunSound"),SoundManager.getInstance().stopSound("CriminalStepSound"),SoundManager.getInstance().stopSound("CriminalRunSound"),this._clip.playAnimation("Stand"),!0},n.prototype.startPatrol=function(){this.moveHorizontally(this._body,this.WALK_SPEED*this._direction),0<this._direction?this.inverted=!1:this.inverted=!0},n.prototype.patrol=function(){return this._isReadyToPlayStepSound&&(this._isReadyToPlayStepSound=!1,TweenMax.delayedCall(.32,function(){this._isReadyToPlayStepSound=!0},this),this._isWeak?SoundManager.getInstance().playSound("GuardianStepSound"):SoundManager.getInstance().playSound("CriminalStepSound")),"Walk"!=this._clip.currentAnimation&&this._clip.playAnimation("Walk"),Math.abs(this._body.velocity.x)<=.05&&.05<this._timeNotMoving?(this._direction=-this._direction,!0):(this.moveHorizontally(this._body,this.WALK_SPEED*this._direction),!1)},n.prototype.pursue=function(){return this._target.x<this.x?(this.inverted=!0,this.moveHorizontally(this._body,-this.RUN_SPEED)):(this.inverted=!1,this.moveHorizontally(this._body,this.RUN_SPEED)),1.5<this._timeNotMoving?this._clip.playAnimation("Stand"):"Run"!=this._clip.currentAnimation?this._clip.playAnimation("Run"):this._isReadyToPlayStepSound&&(this._isReadyToPlayStepSound=!1,TweenMax.delayedCall(.45,function(){this._isReadyToPlayStepSound=!0},this),this._isWeak?SoundManager.getInstance().playSound("GuardianRunSound"):SoundManager.getInstance().playSound("CriminalRunSound")),!1},n.prototype.wound=function(){this.isWounded||(this._clip.playAnimation("Wound"),this.isWounded=!0,this._taskManager.removeAllTasks(),this._isWeak?(SoundManager.getInstance().playSound("GuardianHurtSound"),TweenMax.delayedCall(.3,this.playGuardianStarsSound,this),this._body.space=null,Constants.levelState.groupSprites[0].addChild(this.view),TweenMax.delayedCall(3,this.woundStatic,this),TweenMax.to(this.view,.3,{tintRed:27,tintGreen:36,tintBlue:62})):SoundManager.getInstance().playSound("CriminalBoomSound"))},n.prototype.playGuardianStarsSound=function(){SoundManager.getInstance().playSound("GuardianStarsSound")},n.prototype.wakeUp=function(){this.isWounded=!1,this.assignTasks()},n.prototype.update=function(e){i.prototype.update.call(this,e),this.isWounded||(Math.abs(this._body.velocity.x)<=.05?this._timeNotMoving+=e:this._timeNotMoving=0,this._taskManager.update(),!Constants.bouncer.isHidden&&Math.abs(this.y-Constants.bouncer.y)<70&&(this._body.velocity.x<.5&&this.x-Constants.bouncer.x<150&&-10<this.x-Constants.bouncer.x||-.5<this._body.velocity.x&&Constants.bouncer.x-this.x<150&&-10<Constants.bouncer.x-this.x)?(this._target=Constants.bouncer,this._taskManager.currentTask!=this.pursue&&this._taskManager.addUrgentTask(this,this.pursue)):!Constants.hustler.isHidden&&Math.abs(this.y-Constants.hustler.y)<70&&(this._body.velocity.x<.5&&this.x-Constants.hustler.x<155&&-10<this.x-Constants.hustler.x||-.5<this._body.velocity.x&&Constants.hustler.x-this.x<155&&-10<Constants.hustler.x-this.x)?(this._target=Constants.hustler,this._taskManager.currentTask!=this.pursue&&this._taskManager.addUrgentTask(this,this.pursue)):this._taskManager.currentTask==this.pursue&&this.assignTasks())};var i,t=n;function n(e){var t=i.call(this,"guardian",{view:e,width:38,height:48,x:+e.x+28,y:+e.y-24,group:4})||this;return t.WALK_SPEED=25,t.RUN_SPEED=40,t._clip=e,t._body.allowRotation=!1,t.initialize2(),t}e.Guardian=t}(objects=objects||{}),nape.shape.Polygon),Arbiter=nape.dynamics.Arbiter,InteractionGroup=(!function(e){i=e.Hero,__extends(n,i),n.prototype.initialize2=function(e){void 0===e&&(e=null),this._clip=this.view,(Constants.hustler=this).inputChannel=Constants.hustlerInputChannel,this.jumpHeight=225,this.maxVelocity=80,this.acceleration=26,this._idleTime=0,this._isReadyToPlayStepSound=!0,this._isReadyToPlayPushSound=!0,this._niche=null,this.offsetY=24,this._clip.addAnimation("Stand",1,22,30,!0),this._clip.addAnimation("Walk",23,36,30,!0),this._clip.addAnimation("Sit",37,37,1),this._clip.addAnimation("SitWalk",37,55,40,!0),this._clip.addAnimation("JumpUp",56,64,30),this._clip.addAnimation("JumpDown",65,72,30),this._clip.addAnimation("Deceleration",82,95,40),this._clip.addAnimation("Push",96,112,15,!0),this._clip.addAnimation("GiveUp",113,113,1),this._clip.addAnimation("Hiding1",114,114,1),this._clip.addAnimation("Hiding2",115,115,1),this._clip.addAnimation("Hiding3",116,116,1),this._clip.addAnimation("Hiding4",117,117,1),this._clip.addAnimation("Idle1",118,253,40,!1,this.stand,this),this._clip.addAnimation("Idle2",254,391,40,!1,this.stand,this),this._clip.addAnimation("Balance",393,465,40,!0),this._clip.playAnimation("Stand")},n.prototype.handleBeginContact=function(e){e=NapeUtils.CollisionGetOther(this,e);"niche"==e.name&&(this._niche=e)},n.prototype.handleEndContact=function(e){"niche"==NapeUtils.CollisionGetOther(this,e).name&&(this._niche=null)},n.prototype.jump=function(){this._isJustJumped||(this._clip.playAnimation("JumpUp"),SoundManager.getInstance().playSound("HustlerJumpSound"),this._isJustJumped=!0,TweenMax.delayedCall(.1,function(){this._isJustJumped=!1},this),this._onGround=!1)},n.prototype.stand=function(){this._clip.playAnimation("Stand")},n.prototype.hide=function(){this.isHidden||this._niche.isOccupied||(this._occupiedNiche=this._niche,this._occupiedNiche.isOccupied=!0,this.controlsEnabled=!1,this.isHidden=!0,TweenMax.to(this.view,.3,{tintRed:27,tintGreen:36,tintBlue:62}),TweenMax.to(this,.3,{x:this._niche.x}),TweenMax.to(this,.3,{offsetY:this.offsetY-3}),this._clip.playAnimation("Hiding"+String(Math.round(3*Math.random()+1))),this._shape.filter=this._nicheFilter,Constants.levelState.groupSprites[0].addChild(this.view),TweenMax.delayedCall(.31,function(){this.controlsEnabled=!0},this))},n.prototype.unhide=function(){this.isHidden&&(this._occupiedNiche.isOccupied=!1,this._occupiedNiche=null,this.isHidden=!1,TweenMax.to(this.view,.1,{tintRed:255,tintGreen:255,tintBlue:255}),this.offsetY=this.offsetY+3,this._shape.filter=this._filter,Constants.levelState.groupSprites[this.group].addChild(this.view))},n.prototype.giveUp=function(){this._isGaveUp=!0,this._clip.playAnimation("GiveUp"),this.controlsEnabled=!1,this._body.velocity.x=0},n.prototype.createFilter=function(){this._nicheFilter=new InteractionFilter(1,e.PhysicsCollisionCategories.Get("tile"),1,e.PhysicsCollisionCategories.Get("tile")),this._filter=new InteractionFilter(e.PhysicsCollisionCategories.Get("hero"),e.PhysicsCollisionCategories.GetAllExcept("enemy")),this._shape.filter=this._filter,this._enemySensor.filter=new InteractionFilter(1,e.PhysicsCollisionCategories.GetNone(),1,e.PhysicsCollisionCategories.Get("enemy")),this._topShape.filter=new InteractionFilter(1,e.PhysicsCollisionCategories.GetNone(),1,-1),this._pushSensor.filter=new InteractionFilter(1,e.PhysicsCollisionCategories.GetNone(),1,e.PhysicsCollisionCategories.GetAllExcept("tile","hidden")),this._balanceLeftSensor.filter=new InteractionFilter(1,e.PhysicsCollisionCategories.GetNone(),1,e.PhysicsCollisionCategories.GetAllExcept("hidden")),this._balanceRightSensor.filter=new InteractionFilter(1,e.PhysicsCollisionCategories.GetNone(),1,e.PhysicsCollisionCategories.GetAllExcept("hidden"))},n.prototype.createShape=function(){this._shape=new Polygon([new Vec2(-this._width/2,-8),new Vec2(this._width/2,-8),new Vec2(this._width/2,this._height/2-5),new Vec2(this._width/2-8,this._height/2),new Vec2(-this._width/2+8,this._height/2),new Vec2(-this._width/2,this._height/2-5)],this._material),this._body.shapes.add(this._shape),this._enemySensor=new Polygon([new Vec2(-this._width/2,-8),new Vec2(this._width/2,-8),new Vec2(this._width/2,this._height/2-5),new Vec2(this._width/2-5,this._height/2),new Vec2(-this._width/2+5,this._height/2),new Vec2(-this._width/2,this._height/2-5)],this._material),this._enemySensor.sensorEnabled=!0,this._enemySensor.group=CollisionHelper.nonCollidable,this._body.shapes.add(this._enemySensor),this._topShape=new Polygon([new Vec2(-this._width/2+2,-20),new Vec2(this._width/2-2,-20),new Vec2(this._width/2-2,-8),new Vec2(-this._width/2+2,-8)],this._material),this._topShape.sensorEnabled=!0,this._body.shapes.add(this._topShape),this._topShape.group=CollisionHelper.nonCollidable,this._pushSensor=new Polygon([new Vec2(-this._width/2-2,-4),new Vec2(this._width/2+2,-4),new Vec2(this._width/2+2,0),new Vec2(-this._width/2-2,0)],this._material),this._pushSensor.sensorEnabled=!0,this._body.shapes.add(this._pushSensor),this._pushSensor.group=CollisionHelper.nonCollidable,this._balanceLeftSensor=new Polygon([new Vec2(-this._width/2+1,this.height/2+2),new Vec2(-2,this.height/2+2),new Vec2(-2,this.height/2+5),new Vec2(-this._width/2+1,this.height/2+5)],this._material),this._balanceLeftSensor.sensorEnabled=!0,this._body.shapes.add(this._balanceLeftSensor),this._balanceLeftSensor.group=CollisionHelper.nonCollidable,this._balanceRightSensor=new Polygon([new Vec2(2,this.height/2+2),new Vec2(this._width/2-1,this.height/2+2),new Vec2(this._width/2-1,this.height/2+5),new Vec2(2,this.height/2+5)],this._material),this._balanceRightSensor.sensorEnabled=!0,this._body.shapes.add(this._balanceRightSensor),this._balanceRightSensor.group=CollisionHelper.nonCollidable},n.prototype.checkCollisions=function(){this._isObstacleOnLeft=!1,this._isObstacleOnRight=!1,this._isLeftBalanceSensor=!1,this._isRightBalanceSensor=!1;for(var e=this._groundContactsCount=0;e<this._body.arbiters.length;e++){var t,i=this._body.arbiters.at(e);i.shape1!=this._topShape&&i.shape2!=this._topShape||(t=i.shape1,(t=i.shape1==this._topShape?i.shape2:t).sensorEnabled||(this._isDuck=!0)),i.shape1==this._pushSensor?i.body2.position.x<this.x?this._isObstacleOnLeft=!0:this._isObstacleOnRight=!0:i.shape2==this._pushSensor&&(i.body1.position.x<this.x?this._isObstacleOnLeft=!0:this._isObstacleOnRight=!0),i.shape1==this._balanceLeftSensor||i.shape2==this._balanceLeftSensor?this._isLeftBalanceSensor=!0:i.shape1!=this._balanceRightSensor&&i.shape2!=this._balanceRightSensor||(this._isRightBalanceSensor=!0),i.shape1==this._shape?this.checkGround(i,i.body2):i.shape2==this._shape&&this.checkGround(i,i.body1)}0==this._groundContactsCount&&(this._onGround=!1)},n.prototype.checkGround=function(e,t){e.collisionArbiter&&(e=Math.round(180*e.collisionArbiter.normal.angle/Math.PI),(t!=Constants.bouncer.body||Constants.bouncer.onGround)&&(15<=e&&e<=175||-30<e&&e<10||-90==e||-135==e)&&(1<e||e<-1)&&this._body.position.y<t.position.y-15&&(this._groundContactsCount++,this._onGround=!0))},n.prototype.update=function(e){this.checkCollisions(),i.prototype.update.call(this,e),this._isGaveUp||(this._ce.input.isDoing("down",this.inputChannel)?this._isDuck=!0:this._isDuck=!1,!this.isHidden&&!this._isMoveKeyPressed&&this._body.velocity.length<.1&&this._niche?this.hide():this.isHidden&&this._isMoveKeyPressed&&this.unhide())},n.prototype.updateAnimation=function(e){this._isGaveUp||(this._isMoveKeyPressed||this._isDuck?this._idleTime=0:this._idleTime+=e,14<this._idleTime&&!this.isHidden&&(.5<Math.random()?(this._idleTime=0,SoundManager.getInstance().playSound("HustlerIdleSound1"),this._clip.playAnimation("Idle1")):(this._idleTime=0,SoundManager.getInstance().playSound("HustlerIdleSound2"),this._clip.playAnimation("Idle2"))),e=this._body.velocity.x,this._onGround&&!this._isJustJumped?this._ce.input.isDoing("right",this.inputChannel)&&this._isObstacleOnRight||this._ce.input.isDoing("left",this.inputChannel)&&this._isObstacleOnLeft?(this._isReadyToPlayPushSound&&(this._isReadyToPlayPushSound=!1,TweenMax.delayedCall(2,function(){this._isReadyToPlayPushSound=!0},this),SoundManager.getInstance().playSound("HustlerPushSound")),this._clip.playAnimation("Push")):e<-1||1<e?(SoundManager.getInstance().stopSound("HustlerPushSound"),this._isDuck?this._clip.playAnimation("SitWalk"):this._isMoveKeyPressed?(SoundManager.getInstance().stopSound("HustlerIdleSound2"),SoundManager.getInstance().stopSound("HustlerIdleSound1"),this._clip.playAnimation("Walk")):this._clip.playAnimation("Deceleration"),"Deceleration"==this._clip.currentAnimation?SoundManager.getInstance().isPlaying("HustlerSlideSound")||SoundManager.getInstance().playSound("HustlerSlideSound"):this._isReadyToPlayStepSound&&(this._isReadyToPlayStepSound=!1,TweenMax.delayedCall(.2,function(){this._isReadyToPlayStepSound=!0},this),SoundManager.getInstance().playSound("HustlerStepSound"))):"Idle1"==this._clip.currentAnimation||"Idle2"==this._clip.currentAnimation||this.isHidden||(SoundManager.getInstance().stopSound("HustlerPushSound"),this._isDuck?this._clip.playAnimation("Sit"):(SoundManager.getInstance().stopSound("HustlerSlideSound"),this._isLeftBalanceSensor&&!this._isRightBalanceSensor?(this._clip.playAnimation("Balance"),this.inverted=!0):!this._isLeftBalanceSensor&&this._isRightBalanceSensor?(this._clip.playAnimation("Balance"),this.inverted=!1):(this.inverted=!1,this._clip.playAnimation("Stand")))):"JumpDown"!=this._clip.currentAnimation&&.2<this._body.velocity.y&&this._clip.playAnimation("JumpDown"))},n.prototype.goTo=function(e){this._isGaveUp=!0,this.body.space=null,this._clip.playAnimation("Walk"),this.inverted=this.x>e,TweenMax.to(this,.5,{x:e,ease:"Linear.easeNone",onComplete:function(){Constants.hustler.view.visible=!1}})};var i,t=n;function n(e){var t=i.call(this,"hustler",{view:e,width:31,height:47,x:+e.x+23,y:+e.y-24,group:4})||this;return t._clip=e,t.dynamicFriction=0,t._container=e.parent.parent,t.initialize2(),t}e.Hustler=t}(objects=objects||{}),!function(e){i=e.CitrusSprite,__extends(n,i),n.prototype.destroy=function(){i.prototype.destroy.call(this),Constants.levelState.removeObject(this)};var i,t=n;function n(e){var e=i.call(this,"levelText",{view:e,x:+e.x+116,y:+e.y-45-13})||this,t=(e.game=PhaserGameHelper.getInstance().game,{font:"22px sc_gum_kidsregular",fill:"#F7E35C",boundsAlignH:"center",boundsAlignV:"middle"});e.text0=e.game.add.translatedText(0,0,"level",t),e.text0.stroke="#824E26",e.text0.strokeThickness=4,e.text0.setTextBounds(-96,-26,192,33),e.text1=e.game.add.text(e.text0.x+e.text0.width/2+20,0,Constants.currentLevel+":",t),e.text1.stroke="#824E26",e.text1.strokeThickness=4,e.text1.setTextBounds(-96,-26,192,33);return e.text2=e.game.add.translatedText(0,0,e.view.params.name,{font:"22px sc_gum_kidsregular",fill:"#FFFFFF",boundsAlignH:"center",boundsAlignV:"top"}),e.text2.stroke="#824E26",e.text2.strokeThickness=4,e.text2.setTextBounds(-116,-2,232,64),e.view.addChild(e.text0),e.view.addChild(e.text1),e.view.addChild(e.text2),Constants.levelState.addObject(e),e}e.LevelText=t}(objects=objects||{}),nape.dynamics.InteractionGroup),MovieClip=(!function(t){i=t.LevelObject,__extends(n,i),n.prototype.action=function(){var e;this._body.type==BodyType.STATIC&&(this._body.space=null,this._body.type=BodyType.DYNAMIC,this._body.space=this._nape.space,this.view.gotoAndStop(2),e=new MovieClip("ElectroSplashGraphics"),this.fountain=new t.CitrusObject("electro",{view:e,x:this.x-1,y:this.y+14}),e.playLoop(),Constants.levelState.addObject(this.fountain),SoundManager.getInstance().playSound("ElectricitySound"),TweenMax.delayedCall(1,this.removeFountain,this))},n.prototype.removeFountain=function(){this.fountain.kill=!0},n.prototype.createBody=function(){this._bodyType=BodyType.STATIC,i.prototype.createBody.call(this)},n.prototype.handleBeginContact=function(e){100<NapeUtils.CollisionGetOther(this,e).body.normalImpulse(this.body,!0).xy(!0).length&&this._body.type==BodyType.DYNAMIC&&(this.view.gotoAndStop(3),this.beginContactCallEnabled=!1,SoundManager.getInstance().playSound("MonitorCrashSound"),e=new InteractionGroup(!0),this._body.group=e,this.fragment1=new t.NapePhysicsObject("f",{view:new MovieClip("Fragment1Graphics"),registration:"topLeft",x:this.x+5,y:this.y-2,width:18,height:4,group:2}),Constants.levelState.addObject(this.fragment1),this.fragment1.body.group=e,this.fragment1.body.applyImpulse(Vec2.weak(3*Math.random(),-12)),this.fragment1.body.applyAngularImpulse(40*Math.random()),this.fragment2=new t.NapePhysicsObject("f",{view:new MovieClip("Fragment2Graphics"),registration:"topLeft",x:this.x-4,y:this.y,width:14,height:4,group:2}),Constants.levelState.addObject(this.fragment2),this.fragment2.body.group=e,this.fragment2.body.applyImpulse(Vec2.weak(-3*Math.random(),-10)),this.fragment2.body.applyAngularImpulse(-40*Math.random()),this.fragment3=new t.NapePhysicsObject("f",{view:new MovieClip("Fragment3Graphics"),registration:"topLeft",x:this.x-4,y:this.y,width:14,height:4,group:2}),Constants.levelState.addObject(this.fragment3),this.fragment3.body.group=e,this.fragment3.body.applyImpulse(Vec2.weak(-.5*Math.random(),-10)),this.fragment3.body.applyAngularImpulse(35*Math.random()),this.fragment1.body.setShapeFilters(new InteractionFilter(1,t.PhysicsCollisionCategories.GetAllExcept("tile","hidden"))),this.fragment2.body.setShapeFilters(new InteractionFilter(1,t.PhysicsCollisionCategories.GetAllExcept("tile","hidden"))),this.fragment3.body.setShapeFilters(new InteractionFilter(1,t.PhysicsCollisionCategories.GetAllExcept("tile","hidden"))),TweenMax.delayedCall(2.5,this.removeFragments,this))},n.prototype.removeFragments=function(){this.fragment1.kill=!0,this.fragment2.kill=!0,this.fragment3.kill=!0};var i,e=n;function n(e){var t=i.call(this,"removable",{view:e,width:33,height:33,x:+e.x+16.5,y:+e.y-16.5,group:4})||this;return e.stop(),t.beginContactCallEnabled=!0,t}t.Monitor=e}(objects=objects||{}),function(a){function s(e,t,i,n,r,o){void 0===e&&(e=null),void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===r&&(r=null),void 0===o&&(o=null);t=a.call(this,PhaserGameHelper.getInstance().game,t,i,null)||this,t.game=PhaserGameHelper.getInstance().game,r=r||"Objects",o=o||ObjectsLayouts.data,i=OzUtil.PE(o,null,"name",e);return e&&(i?t.createLayout(o,e,r):t.loadTexture(r,e+"0000")),t.mc=e,t.name=n,t.params={},t.spriteSheetName=r,t._currentFrameNumber=1,t._degrees=t.rotation=0,t.butFrameOffset=0,t}return __extends(s,a),s.RegisterSpritesheet=function(e,t){(s.SpriteSheetDatas=s.SpriteSheetDatas?s.SpriteSheetDatas:{})[e]=t},s.FrameRate=function(e){return e<0?40:Math.round(60*e/40)},Object.defineProperty(s.prototype,"tintRed",{get:function(){return this.tint>>16&255},set:function(e){this.tint=(Math.round(Math.min(255,Math.max(0,e)))<<16)+(65535&this.tint)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tintGreen",{get:function(){return this.tint>>8&255},set:function(e){this.tint=(Math.round(Math.min(255,Math.max(0,e)))<<8)+(this.tint&510<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"tintBlue",{get:function(){return 255&this.tint},set:function(e){this.tint=Math.round(Math.min(255,Math.max(0,e)))+(16776960&this.tint)},enumerable:!1,configurable:!0}),s.prototype.generateDefaultAnimation=function(){var e=Phaser.Animation.generateFrameNames(this.mc,0,this.totalFrames(),"",4);this.animations.add("_null",e,s.FrameRate(-1))},s.prototype.playLoop=function(){this.animations.getAnimation("_null")||this.generateDefaultAnimation(),this.play("_null",s.FrameRate(-1),!0)},s.prototype.playOnce=function(){this.animations.getAnimation("_null")||this.generateDefaultAnimation(),this.play("_null",s.FrameRate(-1),!1)},Object.defineProperty(s.prototype,"scaleX",{get:function(){return this.scale.x},set:function(e){this.scale.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"scaleY",{get:function(){return this.scale.y},set:function(e){this.scale.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"degrees",{get:function(){return 180*this.rotation/Math.PI},set:function(e){this._degrees=e,this.rotation=e*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentFrameNumber",{get:function(){return this._currentFrameNumber},set:function(e){this.gotoAndStop(Math.round(e))},enumerable:!1,configurable:!0}),s.prototype.totalFrames=function(){for(var e=0;;){var t=this.mc+s.getPaddedNumber(e,4),i=s.SpriteSheetDatas[this.spriteSheetName];if(!OzUtil.PE(i,"frames","filename",t))break;e++}return e},s.getPaddedNumber=function(e,t){for(var i=""+Math.round(e),n=t-i.length,r=0;r<n;r++)i="0"+i;return i},s.prototype.addAnimation=function(e,t,i,n,r,o,a){void 0===r&&(r=!1),void 0===o&&(o=null),void 0===a&&(a=null);t=Phaser.Animation.generateFrameNames(this.mc,t-1,i-1,"",4),i=this.animations.add(e,t,s.FrameRate(n),r);o&&i.onComplete.add(o,a)},s.prototype.playAnimation=function(e){this.currentAnimation=e;this.animations.play(e)},s.prototype.gotoAndStop=function(e){this._currentFrameNumber=e;var t=this.mc;t+=s.getPaddedNumber(--e,4),this.frameName=t},s.prototype.stop=function(){this.animations.stop()},s.prototype.getChild=function(e){for(var t=0,i=this.children;t<i.length;t++){var n=i[t];if(n instanceof s)if(n.name==e)return n}return null},s.prototype.clickedLevelSelect=function(){PhaserGameHelper.getInstance().game.state.getCurrentState().levelSelectClick(this)},s.prototype.makeButton=function(e,t,i,n){void 0===t&&(t=!0),void 0===n&&(n=!0),i=(i=void 0===i?null:i)||this,this.inputEnabled=!0,this.input.useHandCursor=!0,this.events.onInputDown.add(e,i),t&&(GameController.Touch()?(this.events.onInputDown.add(this.changeFrame2,this),this.events.onInputUp.add(this.changeFrame1,this)):(this.events.onInputOver.add(this.changeFrame2,this),this.events.onInputOut.add(this.changeFrame1,this),n&&this.events.onInputOver.add(this.mouseOverSound,this)),n&&this.events.onInputDown.add(this.mouseClickSound,this))},s.prototype.mouseOverSound=function(){SoundManager.getInstance().playSound("MouseOverSound")},s.prototype.mouseClickSound=function(){SoundManager.getInstance().playSound("MouseClickSound")},s.prototype.getButFrameOffset=function(){return this.butFrameOffset},s.prototype.changeButtonFrameOffset=function(e){var t=e-this.butFrameOffset;this.butFrameOffset=e,this.currentFrameNumber=this.currentFrameNumber+t},s.prototype.changeFrame1=function(){this.currentFrameNumber=1+this.butFrameOffset},s.prototype.changeFrame2=function(){this.currentFrameNumber=2+this.butFrameOffset},s.prototype.makeMusicButton=function(){this.butFrameOffset=SoundManager.muteMusic?2:0,this.changeFrame1(),this.makeButton(this.toggleMuteMusic,!0,this,!1)},s.prototype.toggleMuteMusic=function(){SoundManager.ToggleMuteMusic(),this.changeButtonFrameOffset(1<this.getButFrameOffset()?0:2)},s.prototype.makeSoundButton=function(){this.butFrameOffset=SoundManager.muteSound?2:0,this.changeFrame1(),this.makeButton(this.toggleMuteSound,!0,this,!1)},s.prototype.toggleMuteSound=function(){SoundManager.ToggleMuteSound(),this.changeButtonFrameOffset(1<this.getButFrameOffset()?0:2)},s.prototype.createLayout=function(e,t,i){for(var t=OzUtil.PE(e,null,"name",t),n=OzUtil.ARR(t.children),r=0;r<n.length;r++){var o=n[r],a=new s(o.mc,o.x,o.y,o.name,i,e);o.degrees&&(a.degrees=o.degrees),o.scaleX&&(a.scale.x=o.scaleX),o.scaleY&&(a.scale.y=o.scaleY),o.alpha&&(a.alpha=o.alpha),this.addChild(a)}},s.prototype.changeChildByName=function(e,t,i,n){e=this.getChild(e),this.removeChild(e),t=new s(t,e.x,e.y,e.name,i,n);this.addChild(t)},s.prototype.remove=function(){this.parent&&this.parent.removeChild(this)},s}(Phaser.Sprite)),Space=nape.space.Space,InteractionListener=(!function(t){i=t.CitrusObject,__extends(n,i),n.prototype.initialize=function(e){void 0===e&&(e=null),i.prototype.initialize.call(this),this._space=new Space(this._gravity),this._contactListener=new t.NapeContactListener(this._space),t.NapePhysicsObject.space=this._space,t.PhysicsCollisionCategories.Add("GoodGuys"),t.PhysicsCollisionCategories.Add("BadGuys"),t.PhysicsCollisionCategories.Add("Level"),t.PhysicsCollisionCategories.Add("Items")},n.prototype.destroy=function(){this._contactListener.destroy(),this._space.clear(),i.prototype.destroy.call(this)},Object.defineProperty(n.prototype,"space",{get:function(){return this._space},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"gravity",{get:function(){return this._gravity},set:function(e){this._gravity=e,this._space&&(this._space.gravity=this._gravity)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"contactListener",{get:function(){return this._contactListener},enumerable:!1,configurable:!0}),n.prototype.update=function(e){i.prototype.update.call(this,e),this._space.step(this.timeStep,this.velocityIterations,this.positionIterations)};var i,e=n;function n(e){e=i.call(this,e,{})||this;return e.timeStep=.05,e.velocityIterations=8,e.positionIterations=8,e._gravity=new Vec2(0,450),e.updateCallEnabled=!0,e}t.Nape=e}(objects=objects||{}),nape.callbacks.InteractionListener),InteractionType=nape.callbacks.InteractionType,CbType=nape.callbacks.CbType,CbEvent=nape.callbacks.CbEvent,InteractionCallback=(!function(e){function t(e){this._space=e,this._space.listeners.add(new InteractionListener(nape.callbacks.CbEvent.BEGIN,InteractionType.ANY,CbType.ANY_BODY,CbType.ANY_BODY,this.onInteractionBegin)),this._space.listeners.add(new InteractionListener(nape.callbacks.CbEvent.END,InteractionType.ANY,CbType.ANY_BODY,CbType.ANY_BODY,this.onInteractionEnd))}t.prototype.destroy=function(){this._space.listeners.clear()},t.prototype.onInteractionBegin=function(e){var t=e.int1.userData.myData,i=e.int2.userData.myData;t.beginContactCallEnabled&&t.handleBeginContact(e),i.beginContactCallEnabled&&i.handleBeginContact(e)},t.prototype.onInteractionEnd=function(e){var t=e.int1.userData.myData,i=e.int2.userData.myData;t.endContactCallEnabled&&t.handleEndContact(e),i.endContactCallEnabled&&i.handleEndContact(e)},e.NapeContactListener=t}(objects=objects||{}),!function(t){i=t.LevelObject,__extends(n,i),n.prototype.defineBody=function(){this._bodyType=BodyType.STATIC};var i,e=n;function n(e){e=i.call(this,"niche",{view:e,width:4,height:20,x:+e.x+ +e.width/2,y:+e.y-e.height/2+25})||this;return e.isOccupied=!1,e._shape.sensorEnabled=!0,e.offsetY=-25,e._body.group=CollisionHelper.nonCollidable,e._body.setShapeFilters(new nape.dynamics.InteractionFilter(t.PhysicsCollisionCategories.Get("hidden"),-1,t.PhysicsCollisionCategories.Get("hidden"),-1)),e}t.Niche=e}(objects=objects||{}),!function(e){function a(){}a.Has=function(e,t){return Boolean(e&t)},a.Add=function(e){if(15==a._numCategories)throw new Error("You can only have 15 categories.");a._categoryNames[e]||(a._categoryNames[e]=a._categoryIndexes[a._numCategories],a._allCategories|=a._categoryIndexes[a._numCategories],a._numCategories++)},a.Get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,n=0,r=e;n<r.length;n++){var o=r[n];0!=a._categoryNames[o]&&(i|=a._categoryNames[o])}return i},a.GetAll=function(){return a._allCategories},a.GetAllExcept=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=a._allCategories,n=0,r=e;n<r.length;n++){var o=r[n];0!=a._categoryNames[o]&&(i&=~a._categoryNames[o])}return i},a.GetNone=function(){return 0},a._allCategories=0,a._numCategories=0,a._categoryIndexes=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384],a._categoryNames={},e.PhysicsCollisionCategories=a}(objects=objects||{}),!function(e){o=e.LevelObject,__extends(i,o),i.prototype.createMaterial=function(){o.prototype.createMaterial.call(this),this._material.density=.8,this._material.staticFriction=.3,this._material.dynamicFriction=.65},i.prototype.handleBeginContact=function(e){15<Math.abs(this._body.velocity.y)&&(SoundManager.getInstance().playSound("PlankDownSound"),this._isReadyToPlaySound=!1,TweenMax.delayedCall(1.25,function(){this._isReadyToPlaySound=!0},this))};var o,t=i;function i(e){var t=this,i=0,n=0,r=Math.round(e.degrees);return r%180==0?i-=29:r%180==90&&(n=29),(t=o.call(this,"plank",{view:e,width:+e.width,height:20,x:+e.x+105+i,y:+e.y-10+n,group:4})||this).beginContactCallEnabled=!0,t._isReadyToPlaySound=!0,t}e.Plank=t}(objects=objects||{}),!function(r){o=r.LevelObject,__extends(t,o),t.prototype.defineBody=function(){this._bodyType=BodyType.STATIC},t.prototype.handleBeginContact=function(e){if(this._touchingObjects++,1==this._touchingObjects){this._targets||(this._targets=Constants.levelState.getObjectsByName(this._name));for(var t=0,i=this._targets;t<i.length;t++){var n=i[t];n instanceof r.LevelObject&&n.action()}this.view.totalFrames();TweenMax.to(this.view.getChild("top"),.3,{y:3}),SoundManager.getInstance().playSound("PushButtonSound")}},t.prototype.handleEndContact=function(e){if(this._touchingObjects--,0==this._touchingObjects){for(var t=0,i=this._targets;t<i.length;t++){var n=i[t];n instanceof r.LevelObject&&n.action()}TweenMax.to(this.view.getChild("top"),.3,{y:-1}),SoundManager.getInstance().playSound("PushButtonSound")}},t.prototype.createFilter=function(){this._body.setShapeFilters(new InteractionFilter(r.PhysicsCollisionCategories.Get("hidden"),-1,r.PhysicsCollisionCategories.Get("hidden"),-1))};var o,e=t;function t(e){var t=this,i=e._degrees;for(e.rotation=0;i<-180;)i+=360;for(;180<i;)i-=360;var n=12,r=-6,n=(180==i?(n=-13,r=6):90==i?(n=6.5,r=12):-90==i&&(n=-6.5,r=-13),(t=o.call(this,e.name,{view:e,width:22,height:11,rotation:+i,x:+e.x+n,y:+e.y+r,group:5})||this)._touchingObjects=0);return 0==(n=e.params.type?Math.round(parseFloat(e.params.type)):n)&&(n=1),t._name="subject"+String(n),e.getChild("top").gotoAndStop(n),t.beginContactCallEnabled=!0,t.endContactCallEnabled=!0,t._shape.sensorEnabled=!0,t}r.PushButton=e}(objects=objects||{}),nape.callbacks.InteractionCallback),CitrusEngine=(!function(e){t=e.LevelObject,__extends(n,t),n.prototype.handleBeginContact=function(e){15<Math.abs(this._body.velocity.y)&&(SoundManager.getInstance().playSound("StoolDownSound"),this._isReadyToPlaySound=!1,TweenMax.delayedCall(1.25,function(){this._isReadyToPlaySound=!0},this))};var t,i=n;function n(e){e=t.call(this,"box",{view:e,width:+e.width-2,height:+e.height-3,x:+e.x+e.width/2,y:+e.y-e.height/2,group:4})||this;return e.beginContactCallEnabled=!0,e._isReadyToPlaySound=!0,e}e.Stool=i}(objects=objects||{}),!function(e){t=e.LevelObject,__extends(n,t),n.prototype.defineBody=function(){this._bodyType=BodyType.STATIC},n.prototype.createFilter=function(){this._body.setShapeFilters(new InteractionFilter(e.PhysicsCollisionCategories.Get("tile"),e.PhysicsCollisionCategories.GetAll(),e.PhysicsCollisionCategories.Get("tile"),e.PhysicsCollisionCategories.GetAll()))};var t,i=n;function n(e){e=t.call(this,"fixedBox",{width:35,height:35,x:+e.x+17.5,y:+e.y-17.5})||this;return e}e.Tile=i}(objects=objects||{}),!function(e){t=e.CitrusSprite,__extends(n,t),n.prototype.destroy=function(){t.prototype.destroy.call(this),Constants.levelState.removeObject(this)};var t,i=n;function n(e){e=t.call(this,"tile",{view:e,x:+e.x,y:+e.y,group:3})||this;return Constants.levelState.addObject(e),e}e.TileVisual=i}(objects=objects||{}),!function(i){t=i.LevelObject,__extends(n,t),n.prototype.action=function(){var e,t;this._body.type==BodyType.STATIC&&(this._body.space=null,this._body.type=BodyType.DYNAMIC,this._body.space=i.NapePhysicsObject.space,SoundManager.getInstance().playSound("ToiletSound"),SoundManager.getInstance().playSound("WaterSound"),e=new MovieClip("WaterSplashGraphics"),t=new i.CitrusObject("water",{view:e,x:this.x-1,y:this.y+16}),e.playLoop(),Constants.levelState.addObject(t))},n.prototype.createBody=function(){this._bodyType=BodyType.STATIC,t.prototype.createBody.call(this)},n.prototype.handleBeginContact=function(e){10<Math.abs(this._body.velocity.y)&&(SoundManager.getInstance().playSound("ToiletSound"),this._isReadyToPlaySound=!1,TweenMax.delayedCall(1.25,function(){this._isReadyToPlaySound=!0},this))};var t,e=n;function n(e){e=t.call(this,"removable",{view:e,width:33,height:33,x:+e.x+16.5+2,y:+e.y-16.5,group:4})||this;return e.beginContactCallEnabled=!0,e._isReadyToPlaySound=!0,e}i.Toilet=e}(objects=objects||{}),!function(e){t=e.LevelObject,__extends(n,t),n.prototype.defineBody=function(){this._bodyType=BodyType.STATIC};var t,i=n;function n(e){e=t.call(this,"sprite",{view:e,width:+e.width,height:+e.height,x:+e.x+ +e.width/2,y:+e.y-e.height/2,group:4})||this;return e._shape.sensorEnabled=!0,e}e.TopDecoration=i}(objects=objects||{}),!function(r){o=r.LevelObject,__extends(t,o),t.prototype.defineBody=function(){this._bodyType=BodyType.STATIC},t.prototype.handleBeginContact=function(e){e=NapeUtils.CollisionGetOther(this,e);if("hustler"==e.name||"bouncer"==e.name){this._targets||(this._targets=Constants.levelState.getObjectsByName(this._name));for(var t=0,i=this._targets;t<i.length;t++){var n=i[t];n instanceof r.LevelObject&&n.action()}this._isActivated=!this._isActivated,SoundManager.getInstance().playSound("TriggerSound"),this._isActivated?TweenMax.to(this.view.getChild("handle"),.5,{degrees:90}):TweenMax.to(this.view.getChild("handle"),.5,{degrees:0})}},t.prototype.createFilter=function(){this._body.setShapeFilters(new InteractionFilter(r.PhysicsCollisionCategories.Get("hidden"),-1,r.PhysicsCollisionCategories.Get("hidden"),-1))};var o,e=t;function t(e){var t=this,i=e._degrees;for(e.rotation=0;i<-180;)i+=360;for(;180<i;)i-=360;var n=12.5,r=-11.5,n=(180==i?(n=-13.5,r=11):90==i?(n=11.5,r=12):-90==i&&(n=-11,r=-13.5),t=o.call(this,e.name,{view:e,width:22,height:22,x:+e.x+n,rotation:+i,y:+e.y+r,group:5})||this,0);return 0==(n=e.params.type?Math.round(parseFloat(e.params.type)):n)&&(n=1),t._name="subject"+String(n),e.getChild("handle").gotoAndStop(n),e.getChild("base").gotoAndStop(n),e.stop(),t.beginContactCallEnabled=!0,t._shape.sensorEnabled=!0,t}r.Trigger=e}(objects=objects||{}),!function(t){i=t.LevelObject,__extends(n,i),n.prototype.initialize2=function(e){void 0===e&&(e=null),this._clip.addAnimation("Stop",26,26,1),this._clip.addAnimation("Fire",1,26,40,!1),this._clip.playAnimation("Stop")},n.prototype.fire=function(){var e=new t.Bullet;e.x=this.x,e.y=this.y-9,e.body.velocity=new Vec2(this.inverted?120:-120,0),this._clip.playAnimation("Fire"),SoundManager.getInstance().playSound("TurrelFireSound"),this._fireTween=TweenMax.delayedCall(4.5,this.fire,this)},n.prototype.defineBody=function(){this._bodyType=BodyType.STATIC},n.prototype.destroy=function(){i.prototype.destroy.call(this),this._fireTween&&this._fireTween.kill()};var i,e=n;function n(e){var t=i.call(this,"turrel",{view:e,width:35,height:35,x:+e.x+28,y:+e.y-13,group:6})||this;return t._clip=e,t._shape.sensorEnabled=!0,t.initialize2(),1==t.view.params.flippedHorizontally&&(t.inverted=!0),t._fireTween=TweenMax.delayedCall(4.5,t.fire,t),t}t.Turrel=e}(objects=objects||{}),!function(e){t=e.CitrusSprite,__extends(n,t),n.prototype.destroy=function(){t.prototype.destroy.call(this),Constants.levelState.removeObject(this)};var t,i=n;function n(e){e=t.call(this,"levelText",{view:e,x:+e.x+e.width/2,y:+e.y-e.height/2-2})||this;return Constants.levelState.addObject(e),e}e.Txt=i}(objects=objects||{}),!function(e){r=e.OzState,__extends(o,r),o.prototype.create=function(){var e=this;if(r.prototype.create.call(this),this.delayedCalls=new Array,SoundManager.getInstance().playSound("AnimationMusic"),this.mc=new MovieClip,this.game.world.addChild(this.mc),0==o.ID_ANIMATION){this._currentFrame=0,this._finalFrame=7,this.mc.addChild(new MovieClip("cmcIntroAnimationBG",0,0,"bg","PreloaderObjects",PreloaderObjectsLayouts.data)),this.mc.makeButton(this.playFrame,!1,this,!1),this.mc.input.useHandCursor=!1;for(var t=this._finalFrame-1;t>this._currentFrame;t--)this.mc.addChild(new MovieClip("cmcAnim"+t,0,0,"anim"+t))}else{this._currentFrame=6,this._finalFrame=12,this.mc.addChild(new MovieClip("cmcFinalAnimationBG",0,0,"bg","PreloaderObjects",PreloaderObjectsLayouts.data)),this.mc.makeButton(this.playFrame,!1,this,!1),this.mc.input.useHandCursor=!1;for(t=this._finalFrame-1;t>this._currentFrame;t--)this.mc.addChild(new MovieClip("cmcAnim"+t,0,0,"anim"+t))}for(t=0;t<this._delays.length;t++){var i=this.mc.getChild("anim"+t);i&&(i.alpha=0)}var n=new TranslatedMMText(this.game,590,480,"skip",32,function(){Fabrique.AdHandler.getInstance().showAd("skip_animation",function(){e.endThis()})},this);this.mc.addChild(n);this.sub=this.game.add.translatedText(250,450,"",{font:"24px sc_gum_kidsregular",fill:"#FFFFFF",boundsAlignH:"center",boundsAlignV:"top"}),this.sub.stroke="#824E26",this.sub.anchor.set(.5),this.sub.strokeThickness=2,this.sub.wordWrap=!0,this.sub.wordWrapWidth=400,this.delayedCalls.push(TweenMax.delayedCall(1.3,this.playFrame,this))},o.prototype.clearDelayedCalls=function(){for(var e=0;e<this.delayedCalls.length;e++){var t=this.delayedCalls[e];t&&t.kill()}this.delayedCalls=[]},o.prototype.playFrame=function(){var e;this.clearDelayedCalls(),this._currentFrame>=this._finalFrame?this.endThis():(this._currentFrame++,(e=this.mc.getChild("anim"+(this._currentFrame-1)))&&(e.alpha=1),this._currentFrame<this._finalFrame?((e=this._sounds[this._currentFrame-1])&&SoundManager.getInstance().stopSound(e),(e=this._sounds[this._currentFrame])&&(this.sub.text=(this._currentFrame-1).toString(),SoundManager.getInstance().playSound(e)),(e=this.mc.getChild("anim"+this._currentFrame))&&this.delayedCalls.push(TweenMax.to(e,1,{alpha:1})),this.delayedCalls.push(TweenMax.delayedCall(this._delays[this._currentFrame],this.playFrame,this))):this.delayedCalls.push(TweenMax.delayedCall(3,this.playFrame,this)))},o.prototype.endThis=function(){this.clearDelayedCalls(),0==o.ID_ANIMATION?(Constants.currentLevel=1,Constants.stateSwitcher.switchToPlay()):Constants.stateSwitcher.switchToLevelSelect(),StorageHelper.getInstance().isIntroAnimationPlayedData=!0},o.prototype.shutdown=function(){for(var e=0;e<this._sounds.length;e++)this._sounds[e]&&SoundManager.getInstance().stopSound(this._sounds[e])},o.ID_ANIMATION=0;var r,t=o;function o(){var e=null!==r&&r.apply(this,arguments)||this;return e._sounds=[null,"Comix1Sound","Comix2Sound","Comix3Sound","Comix4Sound","Comix5Sound","Comix6Sound","Comix7Sound","Comix8Sound","Comix9Sound","Comix10Sound","Comix11Sound",null],e._delays=[0,4,2,2.3,2.2,2.5,3,2.5,2.5,3,5,4.5,0],e}e.AnimationState=t}(states=states||{}),!function(e){t=e.OzState,__extends(a,t),a.prototype.init=function(){var t=this;"none"!==h5branding.Utils.LANGUAGE?this.game.i18n.setLanguage(h5branding.Utils.LANGUAGE):this.game.i18n.setLanguage(languageDetector.detect(["navigator"])),this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.windowConstraints.right="layout",this.game.scale.windowConstraints.bottom="visual",this.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.scale.fullScreenScaleMode=Phaser.ScaleManager.USER_SCALE,Fabrique.PauseHandler.getInstance(this.game).init(),Fabrique.AdHandler.getInstance().init(),StorageHelper.getInstance(this.game).init(),window.addEventListener("resize",function(){a.mobileResizeCallback(t.game)}),window.addEventListener("fullscreenchange",function(e){a.mobileResizeCallback(t.game)}),a.mobileResizeCallback(this.game),this.game.scale.refresh()},a.prototype.preload=function(){var e,t=this;Fabrique.LoaderHelper.hide(),this.game.load.onFileComplete.add(function(e){h5branding.SplashLoader.getInstance().setLoadProgress(e)}),this.game.load.onLoadComplete.add(function(){h5branding.SplashLoader.getInstance().setLoadProgress(100)}),h5branding.SplashLoader.getInstance().setButtonCallback(function(){var e;h5branding.SplashLoader.getInstance().destroy(),SoundManager.decodeSounds(),null!=(e=window._azerionIntegration)&&e.cp&&h5CrossPromo.MMBlock.load(t.game.cache.getJSON("moreGames").more_games),h5branding.Utils.inGDGameZone()||t.game.device.cordova?(Fabrique.LoaderHelper.hide(),t.game.state.start("MainMenu")):Fabrique.AdHandler.getInstance().showAd("splash",function(){t.game.state.start("MainMenu")})}),Constants.maxLevel=21,Constants.currentLevel=1,GameController.LEFT_CURTAIN_OPEN_X=-386,GameController.RIGHT_CURTAIN_OPEN_X=Constants.WIDTH+422,PhaserGameHelper.getInstance().init(this.game),TweenMax.Init(this.game),this.game.load.cacheBuster="undefined"==typeof version?null:version,this.load.crossOrigin="anonymous",this.load.image("AzerionLogo","assets/images/AZERION_logo_txt_stencil_white.png"),this.load.image("Exit_RU","assets/images/Exit_RU.png"),this.load.image("Space_RU","assets/images/Space_RU.png"),this.load.image("Wait_here_RU","assets/images/Wait_here_RU.png"),this.load.image("rotateDevice","assets/images/rotateDevice.png"),this.load.atlas("PreloaderObjects","assets/images/PreloaderObjects.png",null,PreloaderObjects.data),this.load.atlas("russian","assets/atlases/russian.png","assets/atlases/russian.json"),this.load.atlas("objects","assets/atlases/objects.png","assets/atlases/objects.json"),MovieClip.RegisterSpritesheet("Objects",Objects.data),MovieClip.RegisterSpritesheet("PreloaderObjects",PreloaderObjects.data),MovieClip.RegisterSpritesheet("WinningObjects",WinningObjects.data),this.game.load.atlas("Objects","assets/images/Objects.png",null,Objects.data),this.game.load.atlas("WinningObjects","assets/images/WinningObjects.png",null,WinningObjects.data),SoundManager.Preload(),null!=(e=window._azerionIntegration)&&e.cp&&this.game.load.json("moreGames","assets/mjson/moreGames.json"),this.game.load.crossOrigin="anonymous",h5branding.Utils.getBrandingDomain()!==h5branding.BrandingDomain.Neutral&&this.game.load.image("branding_logo",h5branding.Branding.brandingLogoUrl)},a.prototype.create=function(){this.game.stage.backgroundColor=0,this.game.canvas.oncontextmenu=function(e){e.preventDefault()},SoundManager.Init(),this.initializeHelpers()},a.prototype.initializeHelpers=function(){Constants.levelParser=new LevelParseSystem,Constants.stateSwitcher=new StateSwitchSystem,CollisionHelper.initCollisionCategories()},a.onSizeChange=function(e){Constants.LANDSCAPE_LOCKED?window.innerWidth>window.innerHeight?a.handleCorrect():a.handleIncorrect():Constants.PORTRAIT_LOCKED&&(window.innerWidth<window.innerHeight?a.handleCorrect():a.handleIncorrect()),a.adjustWorld(e)},a.adjustWorld=function(e){var t=Math.min(window.innerWidth/Constants.WIDTH,window.innerHeight/Constants.HEIGHT);e.scale.setGameSize(window.innerWidth/t,Constants.HEIGHT),e.scale.setUserScale(t,t,0,0),e.camera.bounds.x=-1/0,e.camera.bounds.width=1/0,e.camera.x=-Math.floor((window.innerWidth/t-Constants.WIDTH)/2),e.camera.update(),a.PADH=Math.round(-e.camera.x),GameController.AdjustJoypad(),GameController.AdjustPad()},a.mobileResizeCallback=function(e){var t=window.innerWidth,i=window.innerHeight,n=(a.setScaling(e.scale.game),Constants.WIDTH*Constants.GAME_SCALE),r=Constants.HEIGHT*Constants.GAME_SCALE,o=1;o/=i<t?t/r:i/n,Constants.CALCULATED_WIDTH=Math.ceil(t*o),Constants.CALCULATED_HEIGHT=Math.ceil(i*o),e.scale.setGameSize(Constants.CALCULATED_WIDTH,Constants.CALCULATED_HEIGHT),e.scale.setUserScale(1/o,1/o),(e.device.iPad||e.device.iPhone)&&window.scrollTo(0,0),a.onSizeChange(e)},a.setScaling=function(e){var t=window.innerWidth,i=window.innerHeight;(t*=e.device.pixelRatio)<(i*=e.device.pixelRatio)&&1023<i&&(Constants.GAME_SCALE=.75),Constants.GAME_SCALE=1},a.handleCorrect=function(){document.getElementById("orientation").style.display="none",document.getElementById("content").style.display="block"},a.handleIncorrect=function(){document.getElementById("orientation").style.display="block",document.getElementById("content").style.display="none"},a.InW=-1,a.InH=-1,a.PADH=0,a.NUMRESIZE=0,a.inSplash=!0;var t,i=a;function a(){return null!==t&&t.apply(this,arguments)||this}e.Boot=i}(states=states||{}),!function(e){a=e.OzState,__extends(s,a),s.prototype.create=function(){s.NumShown++,SoundManager.getInstance().playSound("MenuMusic"),this.mc=new MovieClip("cmcLevelSelect"),this.game.world.addChild(this.mc),h5branding.Branding.outGoingLinksAllowed()&&((e=new Phaser.Sprite(this.game,0,0,"branding_logo")).x=Constants.WIDTH/2,e.y=Constants.HEIGHT-e.height,e.scale.set(.75),e.inputEnabled=!0,e.events.onInputDown.add(Constants.sponsor),e.anchor.set(.5),this.mc.addChild(e));this.game.add.sprite(.2*Constants.WIDTH,.9*Constants.HEIGHT,"objects","largebutton.png").anchor.set(.5),this.mc.removeChild(this.mc.getChild("menuButton"));var e=new TranslatedMMText(this.game,.2*Constants.WIDTH,.9*Constants.HEIGHT,"main_menu",23,this.goToMenu,this),e=(this.game.add.existing(e),60<=StorageHelper.totalPoints()),t=this.game.add.sprite(.575*Constants.WIDTH,.31*Constants.HEIGHT,"objects","youneedmoney.png"),i=(t.scale.set(1.7,1.4),t.anchor.set(.5),this.game.add.translatedText(.56*Constants.WIDTH,.31*Constants.HEIGHT,"60_bags",{font:"20px sc_gum_kidsregular",fill:"#ffff00",boundsAlignH:"center",boundsAlignV:"middle"}));i.wordWrapWidth=t.width-20,i.wordWrap=!0,i.anchor.set(.5);this.burgerText=PhaserGameHelper.getInstance().game.add.text(0,0,"bubu",{font:"22px sc_gum_kidsregular",fill:"#FFFFFF",boundsAlignH:"center",boundsAlignV:"middle"}),this.burgerText.stroke="#08296E",this.burgerText.strokeThickness=4,this.burgerText.setTextBounds(575,6,108,36),this.burgerText.text=StorageHelper.totalPoints()+(e?" / 140":" / 60"),this.mc.addChild(this.burgerText),a.prototype.create.call(this),this.buts=new Array;for(var n=1;n<21;n++){var r=new MovieClip("hamburgers",2,29),o=this.mc.getChild("l"+n);o.addChild(r),r.gotoAndStop(1+StorageHelper.getInstance().burgersData[n]),this.buts.push(o),StorageHelper.getInstance().levelsCompleteData[n]?(o.gotoAndStop(3),o.makeButton(o.clickedLevelSelect,!1,o)):StorageHelper.getInstance().levelsCompleteData[n-1]?(o.gotoAndStop(2),o.makeButton(o.clickedLevelSelect,!1,o)):o.gotoAndStop(1),2==o.currentFrameNumber?o.hitArea=new Phaser.Rectangle(0,0,62,50):3==o.currentFrameNumber&&(o.hitArea=new Phaser.Rectangle(0,0,42,50))}e&&(this.mc.getChild("lock").visible=!1,this.mc.getChild("youNeed").visible=!1,(t=this.mc.getChild("bonusBag")).name="l21",t.makeButton(t.clickedLevelSelect,!1,t),t.hitArea=new Phaser.Rectangle(0,0,75,75),this.buts.push(t),TweenMax.to(this.mc.getChild("bonusHighlight"),5,{degrees:360,repeat:-1}))},s.prototype.levelSelectClick=function(e){for(var t=0;t<this.buts.length;t++)this.buts[t]==e&&(Constants.currentLevel=t+1);Constants.stateSwitcher.switchToPlay()},s.prototype.goToMenu=function(){Fabrique.AdHandler.getInstance().showAd("back_mainmenu",function(){Constants.stateSwitcher.switchToMainMenu()})},s.NumShown=0;var a,t=s;function s(){return null!==a&&a.apply(this,arguments)||this}e.LevelSelectState=t}(states=states||{}),!function(t){i=t.OzState,__extends(n,i),n.prototype.preload=function(){t.Boot.inSplash=!1,this.initGameController()},n.prototype.create=function(){this.cnt=0,n.NumShown++,SoundManager.getInstance().playSound("MenuMusic"),this.mc=new MovieClip("cmcMainMenu"),this.game.world.addChild(this.mc);var e=new MovieClip("cmcPreloaderBG",0,0,"bg","PreloaderObjects",PreloaderObjectsLayouts.data),e=(this.mc.addChildAt(e,0),"ru"===i18next.language&&(this.mc.removeChild(this.mc.getChild("")),e=new Phaser.Sprite(this.game,6.5,10,"russian","russian_characters_title.png"),this.mc.addChild(e)),h5branding.Branding.outGoingLinksAllowed()&&((e=new Phaser.Sprite(this.game,0,0,"branding_logo")).x=Constants.WIDTH-e.width-10,e.y=Constants.HEIGHT-e.height-10,e.inputEnabled=!0,e.events.onInputDown.add(Constants.sponsor),e.anchor.set(0),e.scale.set(.75),this.mc.addChild(e)),null!=(e=window._azerionIntegration)&&e.cp&&(h5CrossPromo.MMBlock.show(i18next.t("more_games"),{fontFamily:"sc_gum_kidsregular"}),h5CrossPromo.MMBlock.resize(this.game.device.desktop)),this.mc.removeChild(this.mc.getChild("playButton")),new TranslatedMMText(this.game,Constants.WIDTH/2,.6*Constants.HEIGHT,"play_game",36,this.goLevels,this)),e=(this.game.add.existing(e),this.mc.removeChild(this.mc.getChild("creditsButton")),e="it"===i18next.language?new TranslatedMMText(this.game,Constants.WIDTH/2+10,e.position.y+e.height,"credits",25,this.showCredits,this):new TranslatedMMText(this.game,Constants.WIDTH/2,e.position.y+e.height,"credits",36,this.showCredits,this),this.game.add.existing(e),this.mc.addChild(new MovieClip("SoundButtonGraphics",622,9,"btnSound","PreloaderObjects",PreloaderObjectsLayouts.data)),this.mc.addChild(new MovieClip("MusicButtonGraphics",660,9,"btnMusic","PreloaderObjects",PreloaderObjectsLayouts.data)),GameController.Touch()&&(this.mc.changeChildByName("btnSound","BigSoundButtonGraphics","PreloaderObjects",PreloaderObjectsLayouts.data),this.mc.changeChildByName("btnMusic","BigMusicMenuButton","PreloaderObjects",PreloaderObjectsLayouts.data),e=this.mc.getChild("btnMusic"),t=this.mc.getChild("btnSound"),e.x=646,e.y=3,t.x=590,t.y=3),this.mc.getChild("btnMusic").makeMusicButton(),this.mc.getChild("btnSound").makeSoundButton(),this.creditsSprite=new MovieClip("cmcCredits",203,-556),this.game.world.addChild(this.creditsSprite),this.creditsSprite.visible=!1,new Phaser.Sprite(this.game,150,515,"objects","smallbutton.png")),t=(e.anchor.set(.5),this.creditsSprite.addChild(e),new TranslatedMMText(this.game,0,0,"back",24,this.unShowCredits,this));e.addChild(t),h5ads.adWrapper.adsEnabled()&&this.game.device.desktop&&90<=.2*parseInt(this.game.canvas.style.height)&&(h5branding.Hosts.isYandex()||(this.banner=new Fabrique.AzerionBanner,this.banner.show(this.game.canvas,h5ads.GameDistributionBannerSize.Leaderboard,h5ads.GameDistributionAlignment.BottomCenter))),this.game.device.cordova&&((e=this.game.add.image(10,0,"AzerionLogo")).y=this.game.height-e.height-10)},n.prototype.onSizeChange=function(){t.Boot.inSplash||t.Boot.InW==Math.round(window.innerWidth)&&t.Boot.InH==Math.round(window.innerHeight)&&3<t.Boot.NUMRESIZE||(t.Boot.InW=Math.round(window.innerWidth),t.Boot.InH=Math.round(window.innerHeight),GameController.JoypadLeft&&t.Boot.NUMRESIZE++,this.adjustWorld(),t.Boot.PADH=Math.round(-this.camera.x),GameController.AdjustJoypad(),GameController.AdjustPad(),h5CrossPromo.MMBlock.resize(this.game.device.desktop))},n.prototype.initGameController=function(){GameController.PadLeft||(GameController.CurtainContainer=new MovieClip,this.game.stage.addChild(GameController.CurtainContainer),GameController.LeftCurtain=new MovieClip("LeftCurtainGraphics",0,0,null,"PreloaderObjects",PreloaderObjectsLayouts.data),GameController.LeftCurtain.x=GameController.LEFT_CURTAIN_OPEN_X,GameController.CurtainContainer.addChild(GameController.LeftCurtain),GameController.RightCurtain=new MovieClip("RightCurtainGraphics",0,0,null,"PreloaderObjects",PreloaderObjectsLayouts.data),GameController.RightCurtain.x=GameController.RIGHT_CURTAIN_OPEN_X,GameController.CurtainContainer.addChild(GameController.RightCurtain),GameController.PadLeft=new MovieClip("cmcSidePad",0,0,null,"PreloaderObjects",PreloaderObjectsLayouts.data),GameController.PadLeft.x=0,this.game.stage.addChild(GameController.PadLeft),GameController.PadRight=new MovieClip("cmcSidePad",0,0,null,"PreloaderObjects",PreloaderObjectsLayouts.data),GameController.PadRight.x=Constants.WIDTH,GameController.PadRight.scaleX=-1,this.game.stage.addChild(GameController.PadRight),GameController.AdjustPad(),Constants.RotateDevice=this.game.add.image(0,0,"rotateDevice"),this.game.stage.addChild(Constants.RotateDevice),Constants.RotateDevice.visible=!1)},n.prototype.update=function(){i.prototype.update.call(this),1==this.cnt&&i.prototype.create.call(this),this.cnt++},n.prototype.goLevels=function(){var e;null!=(e=window._azerionIntegration)&&e.cp&&h5CrossPromo.MMBlock.hide(),StorageHelper.getInstance().isIntroAnimationPlayedData?Constants.stateSwitcher.switchToLevelSelect():(t.AnimationState.ID_ANIMATION=0,Constants.stateSwitcher.switchToAnimation())},n.prototype.showCredits=function(){var e;this.banner&&(this.banner.hide(),this.banner=null),null!=(e=window._azerionIntegration)&&e.cp&&h5CrossPromo.MMBlock.hide(),this.creditsSprite.visible||(this.creditsSprite.visible=!0,this.creditsSprite.getChild("backButton").changeFrame1(),this.disableInput(),TweenMax.to(this.creditsSprite,.4,{y:-25,ease:"Quad.easeOut"}))},n.prototype.unShowCredits=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("hide_credits",function(){TweenMax.to(e.creditsSprite,.25,{y:-556,onComplete:e.hideCredits,onCompleteContext:e})})},n.prototype.hideCredits=function(){var e;this.creditsSprite.visible=!1,this.enableInput(),null!=(e=window._azerionIntegration)&&e.cp&&(h5CrossPromo.MMBlock.show(i18next.t("more_games"),{fontFamily:"sc_gum_kidsregular"}),h5CrossPromo.MMBlock.resize(this.game.device.desktop)),h5ads.adWrapper.adsEnabled()&&!h5branding.Hosts.isYandex()&&(this.banner=new Fabrique.AzerionBanner,this.banner.show(this.game.canvas,h5ads.GameDistributionBannerSize.Leaderboard,h5ads.GameDistributionAlignment.BottomCenter))},n.prototype.depressButtons=function(){},n.prototype.disableInput=function(){},n.prototype.enableInput=function(){},n.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.banner&&(this.banner.hide(),this.banner=null)},n.NumShown=0;var i,e=n;function n(){var e=null!==i&&i.apply(this,arguments)||this;return e.cnt=0,e}t.MainMenuState=e}(states=states||{}),function(){function e(){this._playing=!0,this.input=Input.Init(),this.input.addKeyAction("jump",Phaser.Keyboard.UP,Constants.bouncerInputChannel),this.input.addKeyAction("right",Phaser.Keyboard.RIGHT,Constants.bouncerInputChannel),this.input.addKeyAction("left",Phaser.Keyboard.LEFT,Constants.bouncerInputChannel),this.input.addKeyAction("grab",Phaser.Keyboard.SPACEBAR,Constants.bouncerInputChannel),this.input.addKeyAction("grabDown",Phaser.Keyboard.DOWN,Constants.bouncerInputChannel),this.input.addKeyAction("down",Phaser.Keyboard.S,Constants.hustlerInputChannel),this.input.addKeyAction("jump",Phaser.Keyboard.W,Constants.hustlerInputChannel),this.input.addKeyAction("right",Phaser.Keyboard.D,Constants.hustlerInputChannel),this.input.addKeyAction("left",Phaser.Keyboard.A,Constants.hustlerInputChannel),this.input.addKeyAction("restart",Phaser.Keyboard.R),this.input.addKeyAction("pause",Phaser.Keyboard.P),this.input.addKeyAction("next",Phaser.Keyboard.SPACEBAR),this.input.addKeyAction("change",Phaser.Keyboard.C),this.input.addKeyAction("previousLevel",Phaser.Keyboard.ONE),this.input.addKeyAction("nextLevel",Phaser.Keyboard.TWO)}return e.getInstance=function(){return e.instance=null==e.instance?new e:e.instance},e.Init=function(){return e.instance=new e},Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},set:function(e){this._playing=e},enumerable:!1,configurable:!0}),e.instance=null,e}()),CollisionHelper=function(){function e(){}return e.initCollisionCategories=function(){objects.PhysicsCollisionCategories.Add("grab"),objects.PhysicsCollisionCategories.Add("hidden"),objects.PhysicsCollisionCategories.Add("enemy"),objects.PhysicsCollisionCategories.Add("limiter"),objects.PhysicsCollisionCategories.Add("tile"),objects.PhysicsCollisionCategories.Add("hero"),objects.PhysicsCollisionCategories.Add("bouncer"),this.nonCollidable=new InteractionGroup(!0)},e}(),Boot=states.Boot,GameController=function(){function t(){}return t.Touch=function(){var e=PhaserGameHelper.getInstance().game;return t.isTouchInitted||(t.isTouchInitted=!0,t.isTouch=!e.device.desktop&&e.device.touch),t.isTouch},t.AdjustPad=function(){t.PadLeft&&(t.PadLeft.x=Math.floor(Boot.PADH+2),t.PadLeft.y=0,t.PadRight.x=Boot.PADH+Constants.WIDTH-2,t.PadRight.y=0,t.CurtainContainer.x=Boot.PADH)},t.AdjustJoypad=function(){var e=PhaserGameHelper.getInstance().game;t.JoypadLeft&&(t.JoypadLeft.x=120,t.JoypadLeft.y=Constants.HEIGHT-55,t.JoypadRight.x=e.width-120,t.JoypadRight.y=Constants.HEIGHT-55,t.Touch()||t.HideJoypad())},t.HideJoypad=function(){t.JoypadLeft&&(t.JoypadLeft.visible=t.JoypadRight.visible=!1)},t.ShowJoypad=function(){t.JoypadLeft&&(t.JoypadLeft.visible=t.JoypadRight.visible=!0)},t.isTouchInitted=!1,t.isTouch=!1,t.JoypadLeft=null,t.JoypadRight=null,t.PadLeft=null,t.PadRight=null,t.CurtainContainer=null,t.LeftCurtain=null,t.RightCurtain=null,t}(),Input=function(){function t(){this.channels=new Array;for(var e=0;e<t.NUM_CHANNELS;e++)this.channels[e]={}}return t.getInstance=function(){return t.instance=null==t.instance?new t:t.instance},t.Init=function(){return t.instance=new t},t.prototype.addKeyAction=function(e,t,i){void 0===i&&(i=0);var n=PhaserGameHelper.getInstance().game,n=(this.channels[i][e]=-1,n.input.keyboard.addKey(t));n.onDown.add(function(){this.channels[i][e]=Constants.frame},this),n.onUp.add(function(){this.channels[i][e]=-1},this)},t.prototype.setDoing=function(e,t,i){i?this.channels[e][t]<0&&(this.channels[e][t]=Constants.frame):this.channels[e][t]=-1},t.prototype.isDoing=function(e,t){return 0<=this.channels[t=void 0===t?0:t][e]},t.prototype.justDid=function(e,t){t=this.channels[t=void 0===t?0:t][e];return 0<=t&&Constants.frame-t==1},t.NUM_CHANNELS=20,t.instance=null,t}(),LevelParseSystem=function(){function c(){this._objectsList=[]}return c.prototype.parse=function(e){},c.prototype.parseFromJSON=function(e){var t,i,e=OzUtil.PE(Levels.data,null,"@level",""+e);this._map=e,this.parseTileset("tiles"),this.parseTileset("decor"),this.parseTileset("active"),this.parseTileset("passive"),e.imagelayer&&(t=e.imagelayer.image["@source"].split(".")[0],t=new MovieClip(t),this.createLevelObject(t)),OzUtil.PE(e,"objectgroup","@name","decorations")&&this.parseObjectGroup("decorations"),OzUtil.PE(e,"objectgroup","@name","active")&&this.parseObjectGroup("active"),OzUtil.PE(e,"objectgroup","@name","tiles")&&(t=null,(t=(i=OzUtil.PE(e,"objectgroup","@name","tiles").properties)?OzUtil.PE(i,"property","@name","physics"):t)?this.parseObjectGroup("tiles",!0):this.parseObjectGroup("tiles")),OzUtil.PE(e,"objectgroup","@name","physics")&&this.parseObjectGroup("physics"),OzUtil.PE(e,"objectgroup","@name","characters")&&this.parseObjectGroup("characters")},c.prototype.parseTileset=function(e){for(var e=OzUtil.PE(this._map,"tileset","@name",e),t=parseInt(e["@firstgid"]),i=0,n=OzUtil.ARR(e,"tile");i<n.length;i++){var r=n[i];this._objectsList[parseInt(r["@id"])+t]=r.image["@source"].split(".")[0]}},c.prototype.parseObjectGroup=function(e,t){void 0===t&&(t=!1);var e=OzUtil.PE(this._map,"objectgroup","@name",e),i=null,e=OzUtil.ARR(e,"object");if(e)for(var n=0,r=e;n<r.length;n++){var o=r[n],a=parseInt(o["@gid"]),s=0!=(a&c.FLIPPED_HORIZONTALLY_MASK),p=0!=(a&c.FLIPPED_VERTICALLY_MASK);if(0==(a&=~(c.FLIPPED_HORIZONTALLY_MASK|c.FLIPPED_VERTICALLY_MASK)))new objects.FixedBox2(o["@x"],o["@y"],o["@width"],o["@height"]);else{this._objectsList[a]="Decor18Graphics"===this._objectsList[a]?"Decor12Graphics":this._objectsList[a],this._objectsList[a]="Decor17Graphics"===this._objectsList[a]?"Decor12Graphics":this._objectsList[a];a=this._objectsList[a],a=((i=new MovieClip(a="MoneyBagGraphics"==a?"BurgerGraphics":a)).x=o["@x"],i.y=o["@y"],s&&(i.params.flippedHorizontally=!0),p&&(i.params.flippedVertically=!0),o["@rotation"]);a&&(i.degrees=parseFloat(a));(u=o["@name"])&&(i.name=u);s=o["@type"],p=(s&&(i.params.type=s),o.properties);if(p)for(var l=0,h=OzUtil.ARR(p,"property");l<h.length;l++){var u,d=h[l];"target"==(u=d["@name"])?i.params.target=d["@value"]:"target2"==u?i.params.target2=d["@value"]:"target3"==u?i.params.target3=d["@value"]:"speedX"==u?i.params.speedX=d["@value"]:"speedY"==u?i.params.speedY=d["@value"]:"distanceX"==u?i.params.distanceX=d["@value"]:"distanceY"==u?i.params.distanceY=d["@value"]:"minAngle"==u?i.params.minAngle=d["@value"]:"maxAngle"==u?i.params.maxAngle=d["@value"]:"delay"==u?i.params.delay=d["@value"]:"text"==u&&(i.params.name=d["@value"])}t&&new objects.Tile(i),this.createLevelObject(i)}}},c.prototype.createLevelObject=function(e){var t=e.mc,t=("ru"===i18next.language&&("Decor7Graphics"===t&&(e.loadTexture("Exit_RU"),e.totalFrames=function(){return 0},e.anchor.set(0,1)),"Tip6Graphics"===t&&(e.loadTexture("Space_RU"),e.anchor.set(.5)),"Tip5Graphics"===t&&(e.loadTexture("Wait_here_RU"),e.anchor.set(0,1))),e.mc);0<=["HustlerGraphics"].indexOf(t)?new objects.Hustler(e):0<=["BouncerGraphics"].indexOf(t)?new objects.Bouncer(e):0<=["BlockGraphics"].indexOf(t)?new objects.FixedBox(e):0<=["DoorGraphics","GlassDoorGraphics"].indexOf(t)?new objects.Door(e):0<=["BoxGraphics"].indexOf(t)?new objects.Box(e):0<=["PlankGraphics","Plank2Graphics","Plank3Graphics","Plank4Graphics","Plank5Graphics","Plank6Graphics","Plank7Graphics","Plank8Graphics","Plank9Graphics","Plank10Graphics","Plank11Graphics","BigPlankGraphics"].indexOf(t)?new objects.Plank(e):0<=["StoolGraphics"].indexOf(t)?new objects.Stool(e):0<=["ToiletGraphics"].indexOf(t)?new objects.Toilet(e):0<=["MonitorGraphics"].indexOf(t)?new objects.Monitor(e):0<=["BasketBallGraphics"].indexOf(t)?new objects.BasketBall(e):0<=["BigBoxGraphics"].indexOf(t)?new objects.BigBox(e):0<=["PushButtonGraphics"].indexOf(t)?new objects.PushButton(e):0<=["TriggerGraphics"].indexOf(t)?new objects.Trigger(e):0<=["ElevatorGraphics","BigElevatorGraphics"].indexOf(t)?new objects.Elevator(e):0<=["ExitGraphics"].indexOf(t)?new objects.Exit(e):0<=["NicheGraphics"].indexOf(t)?new objects.Niche(e):0<=["TurrelGraphics"].indexOf(t)?new objects.Turrel(e):0<=["CameraGraphics"].indexOf(t)?new objects.Camera(e):0<=["BurgerGraphics"].indexOf(t)?new objects.Burger(e):0<=["EnemyLimiterGraphics"].indexOf(t)?new objects.EnemyLimiter(e):0<=["DadGraphics"].indexOf(t)?new objects.Dad(e):0<=["GuardianGraphics","Guardian2Graphics","Guardian3Graphics","Guardian4Graphics"].indexOf(t)?new objects.Guardian(e):0<=["Tip6Graphics","Tip7Graphics"].indexOf(t)?new objects.TopDecoration(e):0<=["platformCenter","platformLeft","platformRight","singleTile","tileBottomCenter","tileBottomLeft","tileBottomRight","tileCenter","tileCenterLeft","tileCenterRight","tileTopCenter","tileTopLeft","tileTopRight","verticalPlatformBottom","verticalPlatformCenter","verticalPlatformTop"].indexOf(t)?new objects.TileVisual(e):"LevelTextGraphics"==t?new objects.LevelText(e):"TxtGraphics"==t?new objects.Txt(e):Constants.levelState.addObject(new objects.CitrusSprite("sprite",{view:e,x:+e.x,y:+e.y}))},c.FLIPPED_HORIZONTALLY_MASK=2147483648,c.FLIPPED_VERTICALLY_MASK=1073741824,c}(),NapeUtils=function(){function e(){}return e.CollisionGetOther=function(e,t){return(e==t.int1.userData.myData?t.int2:t.int1).userData.myData},e.CollisionGetSelf=function(e,t){return(e==t.int1.userData.myData?t.int1:t.int2).userData.myData},e}(),OzUtil=function(){function e(){}return e.PE=function(e,t,i,n){if(e)if(e instanceof Array){for(var r=0,o=e;r<o.length;r++)if((a=o[r])[i]==n)return a}else if(e instanceof Object){t=e[t];if(t instanceof Array){for(var a,s=0,p=t;s<p.length;s++)if((a=p[s])[i]==n)return a}else if(t instanceof Object&&t[i]==n)return e}return null},e.ARR=function(e,t){if(void 0===t&&(t=null),e instanceof Array)return e;if(e instanceof Object){e=e[t];if(e instanceof Array)return e;if(e instanceof Object)return[e]}return null},e.verticesArrayToVec2=function(e){for(var t=new Array,i=0,n=e;i<n.length;i++){var r=n[i];t.push(new Vec2(r[0],r[1]))}return t},e.GetURL=function(e){window.op3n(e,"_blank")},e}(),PhaserGameHelper=function(){function e(){}return e.prototype.init=function(e){this.game=e},e.getInstance=function(){return e.instance=null==e.instance?new e:e.instance},e.instance=null,e}(),SoundManager=function(){function r(){}return r.AddSound=function(e,t){PhaserGameHelper.getInstance().game.load.audio(e,["assets/sound/"+e+".mp3","assets/sound/"+e+".ogg"]),this.dicSounds[e]={},t.music?this.dicSounds[e].music=!0:this.dicSounds[e].music=!1,10<t.loops?this.dicSounds[e].loops=!0:this.dicSounds[e].loops=!1,t.volume?this.dicSounds[e].volume=t.volume:this.dicSounds[e].volume=1,r.NumSounds++},r.Init=function(){r.AllDecoded=!1,r.NumSounds=0,r.muteMusic=StorageHelper.getInstance().musicOffData,r.muteSound=StorageHelper.getInstance().soundOffData,r.curMusic=null,r.arrSounds=new Array},r.decodeSounds=function(){var t=PhaserGameHelper.getInstance().game;Object.keys(r.dicSounds).forEach(function(e){r.dicSounds[e].sound=t.add.audio(e)})},r.Preload=function(){r.AddSound("GameMusic",{music:!0,loops:9999,volume:.5}),r.AddSound("MenuMusic",{music:!0,loops:9999,volume:.7}),r.AddSound("AnimationMusic",{music:!0,loops:9999,volume:.7}),r.AddSound("MouseClickSound",{}),r.AddSound("MouseOverSound",{volume:.6}),r.AddSound("ExitSound",{}),r.AddSound("LevelCompleteAnimationSound",{}),r.AddSound("LevelWinSound",{}),r.AddSound("LevelFailedSound",{}),r.AddSound("BoxDownSound",{volume:.6}),r.AddSound("PlankDownSound",{}),r.AddSound("ElectricitySound",{}),r.AddSound("Hamburger1Sound",{}),r.AddSound("Hamburger2Sound",{}),r.AddSound("Hamburger3Sound",{}),r.AddSound("GetHamburger1Sound",{}),r.AddSound("GetHamburger2Sound",{}),r.AddSound("GetHamburger3Sound",{}),r.AddSound("BrickWallOpenSound",{}),r.AddSound("BrickWallCloseSound",{}),r.AddSound("MonitorCrashSound",{}),r.AddSound("WaterSound",{}),r.AddSound("YellowCameraSound",{}),r.AddSound("RedCameraSound",{}),r.AddSound("OpenDoorSound",{volume:1}),r.AddSound("ElevatorSound",{loops:9999,volume:.4}),r.AddSound("ToiletSound",{}),r.AddSound("TriggerSound",{}),r.AddSound("PushButtonSound",{}),r.AddSound("AttackSound",{}),r.AddSound("StoolDownSound",{}),r.AddSound("TurrelFireSound",{volume:.7}),r.AddSound("RicochetSound",{volume:.7}),r.AddSound("Comix1Sound",{}),r.AddSound("Comix2Sound",{}),r.AddSound("Comix3Sound",{}),r.AddSound("Comix4Sound",{}),r.AddSound("Comix5Sound",{}),r.AddSound("Comix6Sound",{}),r.AddSound("Comix7Sound",{}),r.AddSound("Comix8Sound",{}),r.AddSound("Comix9Sound",{}),r.AddSound("Comix10Sound",{}),r.AddSound("Comix11Sound",{}),r.AddSound("AchievementUnlockedSound",{}),r.AddSound("BouncerJumpSound",{}),r.AddSound("BouncerStepSound",{}),r.AddSound("BouncerThrowSound",{}),r.AddSound("BouncerGetSound",{}),r.AddSound("BouncerPushSound",{volume:.8}),r.AddSound("BouncerIdleSound2",{volume:.5}),r.AddSound("BouncerIdleSound1",{volume:.5}),r.AddSound("HustlerJumpSound",{}),r.AddSound("HustlerStepSound",{volume:.5}),r.AddSound("HustlerSlideSound",{volume:.5}),r.AddSound("HustlerPushSound",{volume:.5}),r.AddSound("HustlerIdleSound1",{volume:.5}),r.AddSound("HustlerIdleSound2",{volume:.5}),r.AddSound("GuardianStepSound",{volume:.5}),r.AddSound("GuardianRunSound",{volume:.5}),r.AddSound("GuardianHurtSound",{}),r.AddSound("GuardianStarsSound",{}),r.AddSound("CriminalStepSound",{volume:.5}),r.AddSound("CriminalRunSound",{volume:.5}),r.AddSound("CriminalBoomSound",{})},r.getInstance=function(){return r.instance=null==r.instance?new r:r.instance},r.prototype.stopMusic=function(){},r.prototype.playSound=function(e){var t,i=r.dicSounds[e];i&&(i.music?(r.playingMusic&&r.playingMusic!=e&&(t=r.dicSounds[r.playingMusic]).sound&&t.sound.stop(),r.curMusic!=e&&e&&(r.muteMusic?r.playingMusic=null:(r._playSound(e,i.volume,i.loops),r.playingMusic=e),r.curMusic=e)):r.muteSound||(this.isPlaying(e)&&this.stopSound(e),r._playSound(e,i.volume,i.loops)))},r.prototype.stopSound=function(e){var t=r.dicSounds[e];t&&(t.sound.stop(),r.playingMusic==e&&(r.playingMusic=null))},r.prototype.isPlaying=function(e){e=r.dicSounds[e];return!(!e||!e.sound)&&e.sound.isPlaying},r.ToggleMuteMusic=function(){var e;r.muteMusic=!r.muteMusic,StorageHelper.getInstance().musicOffData=r.muteMusic,r.muteMusic?r.playingMusic&&(e=r.dicSounds[r.playingMusic]).sound&&e.sound.pause():r.curMusic&&(r.playingMusic?(e=r.dicSounds[r.playingMusic]).sound&&e.sound.resume():(e=r.dicSounds[r.curMusic],r._playSound(r.curMusic,e.volume,e.loops),r.playingMusic=r.curMusic))},r._playSound=function(e,t,i){var n=r.dicSounds[e].sound;i?(n.loopFull(t),n.onLoop.getNumListeners()<1&&n.onLoop.add(r._loopSound,r,0,e,t)):n.play("",0,t)},r._loopSound=function(e,t,i){e.loopFull(i)},r.ToggleMuteSound=function(){if(r.muteSound=!r.muteSound,StorageHelper.getInstance().soundOffData=r.muteSound,r.muteSound)for(var e in r.dicSounds){var e=r.dicSounds[e];e.music||(e=e.sound)&&e.isPlaying&&e.stop()}},r.instance=null,r.dicSounds={},r}(),AdHandler=Fabrique.AdHandler,StateSwitchSystem=function(){function e(){this.game=PhaserGameHelper.getInstance().game,this.sw2=!1,this._ce=CitrusEngine.getInstance(),this._isSwitchingState=!1}return e.prototype.delayLevelCompleteAnimationSound=function(){SoundManager.getInstance().playSound("LevelCompleteAnimationSound")},e.prototype.delayLevelWinSound=function(){SoundManager.getInstance().playSound("LevelWinSound")},e.prototype.delayHamburger1Sound=function(){SoundManager.getInstance().playSound("Hamburger1Sound")},e.prototype.delayHamburger2Sound=function(){SoundManager.getInstance().playSound("Hamburger2Sound")},e.prototype.delayHamburger3Sound=function(){SoundManager.getInstance().playSound("Hamburger3Sound")},e.prototype.switchToLevelCompleted=function(){Constants.stateSwitcher._isSwitchingState||(Constants.stateSwitcher._isSwitchingState=!0,this.closeCurtains(this.showWin))},e.prototype.showWin=function(){this.winSprite=new MovieClip("cmcYouWin"),GameController.CurtainContainer.addChild(this.winSprite),this.winSprite.removeChild(this.winSprite.getChild("levelCompleted")),this.levelCompleted=new Phaser.Sprite(this.game,Constants.WIDTH/2,.1*Constants.HEIGHT,"objects","title.png"),this.levelCompleted.anchor.set(.5),this.winSprite.addChild(this.levelCompleted),this.levelCompletedText=new TranslatedMMText(this.game,Constants.WIDTH/2,.125*Constants.HEIGHT,"level_completed",48),this.levelCompletedText.onOver(),this.winSprite.addChild(this.levelCompletedText),this.winSprite.removeChild(this.winSprite.getChild("levelsButton")),this.winSprite.removeChild(this.winSprite.getChild("replayButton")),this.winSprite.removeChild(this.winSprite.getChild("nextButton")),this.levelsButton=new Phaser.Sprite(this.game,.2*Constants.WIDTH,.85*Constants.HEIGHT,"objects","largebutton.png"),this.levelsButton.anchor.set(.5),this.winSprite.addChild(this.levelsButton),this.levelsButtonText=new TranslatedMMText(this.game,.2*Constants.WIDTH,.85*Constants.HEIGHT,"levels_map",19,this.goLevelSelectFromWin,this),this.winSprite.addChild(this.levelsButtonText),this.replayButton=new Phaser.Sprite(this.game,.5*Constants.WIDTH,.85*Constants.HEIGHT,"objects","largebutton.png"),this.replayButton.anchor.set(.5),this.winSprite.addChild(this.replayButton),this.replayButtonText=new TranslatedMMText(this.game,.5*Constants.WIDTH,.85*Constants.HEIGHT,"replay",20,this.goRestartFromWin,this),this.winSprite.addChild(this.replayButtonText),this.nextButton=new Phaser.Sprite(this.game,.8*Constants.WIDTH,.85*Constants.HEIGHT,"objects","largebutton.png"),this.nextButton.anchor.set(.5),this.winSprite.addChild(this.nextButton),this.nextButtonText=new TranslatedMMText(this.game,.8*Constants.WIDTH,.85*Constants.HEIGHT,"next_level",16,this.goNextFromWin,this),this.winSprite.addChild(this.nextButtonText),Constants.currentLevel>=Constants.NUMLEVELS-1&&(this.nextButton.visible=!1,this.nextButtonText.visible=!1,this.replayButton.x=this.nextButton.x,this.replayButtonText.x=this.nextButtonText.x),this.winSprite.getChild("burgerBG").visible=!1,this.winSprite.getChild("b1").visible=!1,this.winSprite.getChild("b2").visible=!1,this.winSprite.getChild("b3").visible=!1;var e=new Phaser.Sprite(this.game,this.replayButton.x,this.replayButton.y-100,"branding_logo");e.anchor.set(.5),e.scale.set(.75),this.winSprite.addChild(e),h5branding.Branding.outGoingLinksAllowed()||(e.visible=!1),this.winSprite.addChild(new MovieClip("cmcHustlerWin",0,0,"winnerHustler","WinningObjects",null)),this.winSprite.addChild(new MovieClip("cmcBouncerWin",0,0,"winnerBouncer","WinningObjects",null)),this.winSprite.getChild("winnerHustler").addAnimation("win",1,34,27,!1,this.showWin2,this),this.winSprite.getChild("winnerBouncer").addAnimation("win",1,34,27,!1),this.winSprite.getChild("winnerHustler").playAnimation("win"),this.winSprite.getChild("winnerBouncer").playAnimation("win"),this.delayLevelCompleteAnimationSound(),TweenMax.delayedCall(1.8,this.delayLevelWinSound,this),h5ads.adWrapper.adsEnabled()&&this.game.device.desktop&&120<=.11*parseInt(this.game.canvas.style.width)&&(this.bannerLeft=new Fabrique.AzerionBanner,this.bannerLeft.show(this.game.canvas,h5ads.GameDistributionBannerSize.Skyscraper,h5ads.GameDistributionAlignment.TopLeft),this.bannerRight=new Fabrique.AzerionBanner,this.bannerRight.show(this.game.canvas,h5ads.GameDistributionBannerSize.Skyscraper,h5ads.GameDistributionAlignment.TopRight))},e.prototype.showWin2=function(){var e=this.winSprite.getChild("burgerBG"),t=this.winSprite.getChild("b1"),i=this.winSprite.getChild("b2"),n=this.winSprite.getChild("b3");e.visible=!0,e.scaleX=e.scaleY=0,TweenMax.to(e,.2,{scaleX:1,scaleY:1,ease:"Back.easeOut"}),(21==Constants.currentLevel&&26<Constants.bouncer.burgers||Constants.currentLevel<21&&0<Constants.bouncer.burgers)&&(t.visible=!0,t.scaleX=t.scaleY=0,TweenMax.to(t,.4,{scaleX:1,scaleY:1,degrees:360,ease:"Back.easeOut"}),TweenMax.delayedCall(.05,this.delayHamburger1Sound,this)),(21==Constants.currentLevel&&54<Constants.bouncer.burgers||Constants.currentLevel<21&&1<Constants.bouncer.burgers)&&(i.visible=!0,i.scaleX=i.scaleY=0,TweenMax.to(i,.4,{scaleX:1,scaleY:1,degrees:360,ease:"Back.easeOut",delay:.15}),TweenMax.delayedCall(.2,this.delayHamburger2Sound,this)),(21==Constants.currentLevel&&79<Constants.bouncer.burgers||Constants.currentLevel<21&&2<Constants.bouncer.burgers)&&(n.visible=!0,n.scaleX=n.scaleY=0,TweenMax.to(n,.4,{scaleX:1,scaleY:1,degrees:360,ease:"Back.easeOut",delay:.3}),TweenMax.delayedCall(.35,this.delayHamburger3Sound,this)),TweenMax.to(this.winSprite.getChild("winnerBouncer"),.6,{x:-138,ease:"Back.easeOut"}),TweenMax.to(this.winSprite.getChild("winnerHustler"),.6,{x:138,ease:"Back.easeOut"})},e.prototype.goLevelSelectFromWin=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("levels_win",function(){e.hideWin(e.directToLevelSelect)})},e.prototype.goRestartFromWin=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("restart_win",function(){e.hideWin(e.directToPlay)})},e.prototype.goNextFromWin=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("next_win",function(){Constants.currentLevel<=19?(Constants.currentLevel++,e.hideWin(e.directToPlay)):e.hideWin(e.directToLevelSelect)})},e.prototype.hideWin=function(e){this.sw2=!1;TweenMax.to(this.winSprite.getChild("winnerHustler"),.5,{x:400,ease:"Back.easeIn"}),TweenMax.to(this.winSprite.getChild("winnerBouncer"),.5,{x:400,ease:"Back.easeIn",onComplete:this.removeWin,onCompleteContext:this}),this.levelCompleted.visible=!1,this.levelCompletedText.visible=!1,this.levelsButton.visible=!1,this.levelsButtonText.visible=!1,this.replayButton.visible=!1,this.replayButtonText.visible=!1,this.nextButton.visible=!1,this.nextButtonText.visible=!1;var t=this.winSprite.getChild("b1"),i=this.winSprite.getChild("b2"),n=this.winSprite.getChild("b3");TweenMax.to(t,.2,{scaleX:0,scaleY:0}),TweenMax.to(i,.2,{scaleX:0,scaleY:0,delay:.1}),TweenMax.to(n,.2,{scaleX:0,scaleY:0,delay:.2}),TweenMax.to(this.winSprite.getChild("burgerBG"),.2,{scaleX:0,scaleY:0,delay:.3}),TweenMax.delayedCall(.55,e,this)},e.prototype.removeWin=function(){this.winSprite&&(this.winSprite.visible=!1,GameController.CurtainContainer.removeChild(this.winSprite),this.winSprite=null),this.bannerLeft&&(this.bannerLeft.hide(),this.bannerLeft=null),this.bannerRight&&(this.bannerRight.hide(),this.bannerRight=null)},e.prototype.switchToLose=function(){Constants.stateSwitcher._isSwitchingState||(Constants.stateSwitcher._isSwitchingState=!0,this.closeCurtains(this.showLose),SoundManager.getInstance().playSound("LevelFailedSound"))},e.prototype.showLose=function(){var e;this.loseSprite=new MovieClip("cmcYouLose"),GameController.CurtainContainer.addChild(this.loseSprite),this.loseSprite.removeChild(this.loseSprite.getChild("levelFailed")),this.levelFailed=new Phaser.Sprite(this.game,Constants.WIDTH/2,.1*Constants.HEIGHT,"objects","title.png"),this.levelFailed.anchor.set(.5),this.loseSprite.addChild(this.levelFailed),this.levvelFailedText=new TranslatedMMText(this.game,Constants.WIDTH/2,.125*Constants.HEIGHT,"level_failed",43),this.levvelFailedText.onOver(),this.loseSprite.addChild(this.levvelFailedText),this.loseSprite.removeChild(this.loseSprite.getChild("levelsButton")),this.loseSprite.removeChild(this.loseSprite.getChild("replayButton")),this.levvelFailedLevelsButton=new Phaser.Sprite(this.game,.2*Constants.WIDTH,.85*Constants.HEIGHT,"objects","largebutton.png"),this.levvelFailedLevelsButton.anchor.set(.5),this.loseSprite.addChild(this.levvelFailedLevelsButton),this.levvelFailedLevelsButtonText=new TranslatedMMText(this.game,.2*Constants.WIDTH,.85*Constants.HEIGHT,"levels_map",19,this.goLevelsFromLose,this),this.loseSprite.addChild(this.levvelFailedLevelsButtonText),this.levvelFailedReplayButton=new Phaser.Sprite(this.game,.5*Constants.WIDTH,.85*Constants.HEIGHT,"objects","largebutton.png"),this.levvelFailedReplayButton.anchor.set(.5),this.loseSprite.addChild(this.levvelFailedReplayButton),this.levvelFailedReplayButtonText=new TranslatedMMText(this.game,.5*Constants.WIDTH,.85*Constants.HEIGHT,"replay",20,this.goRestartFromLose,this),this.loseSprite.addChild(this.levvelFailedReplayButtonText),h5branding.Branding.outGoingLinksAllowed()&&((e=new Phaser.Sprite(this.game,this.levvelFailedReplayButtonText.x,this.levvelFailedReplayButtonText.y-100,"branding_logo")).anchor.set(.5),e.scale.set(.75),this.loseSprite.addChild(e),e.visible=!1);TweenMax.to(this.loseSprite.getChild("loserBouncer"),.5,{x:8,ease:"Back.easeOut"}),TweenMax.to(this.loseSprite.getChild("loserHustler"),.5,{x:512,ease:"Back.easeOut"}),h5ads.adWrapper.adsEnabled()&&this.game.device.desktop&&120<=.11*parseInt(this.game.canvas.style.width)&&(this.bannerLeft=new Fabrique.AzerionBanner,this.bannerLeft.show(this.game.canvas,h5ads.GameDistributionBannerSize.Skyscraper,h5ads.GameDistributionAlignment.TopLeft),this.bannerRight=new Fabrique.AzerionBanner,this.bannerRight.show(this.game.canvas,h5ads.GameDistributionBannerSize.Skyscraper,h5ads.GameDistributionAlignment.TopRight))},e.prototype.goRestartFromLose=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("restart_lose",function(){e.hideLose(e.directToPlay)})},e.prototype.goLevelsFromLose=function(){var e=this;Fabrique.AdHandler.getInstance().showAd("levels_lose",function(){e.hideLose(e.directToLevelSelect)})},e.prototype.hideLose=function(e){this.bannerLeft&&(this.bannerLeft.hide(),this.bannerLeft=null),this.bannerRight&&(this.bannerRight.hide(),this.bannerRight=null);this.levelFailed.visible=!1,this.levvelFailedText.visible=!1,this.levvelFailedLevelsButton.visible=!1,this.levvelFailedLevelsButtonText.visible=!1,this.levvelFailedReplayButton.visible=!1,this.levvelFailedReplayButtonText.visible=!1,TweenMax.to(this.loseSprite.getChild("loserHustler"),.5,{x:812,ease:"Back.easeIn"}),TweenMax.to(this.loseSprite.getChild("loserBouncer"),.5,{y:618,ease:"Back.easeIn",onComplete:this.removeLoss,onCompleteContext:this}),TweenMax.delayedCall(.55,e,this)},e.prototype.removeLoss=function(){this.loseSprite.visible=!1,GameController.CurtainContainer.removeChild(this.loseSprite),this.loseSprite=null},e.prototype.switchToAnimation=function(){Constants.stateSwitcher._isSwitchingState||(Constants.stateSwitcher._isSwitchingState=!0,this.closeCurtains(this.directToAnimation))},e.prototype.switchToMainMenu=function(){Constants.stateSwitcher._isSwitchingState||(Constants.stateSwitcher._isSwitchingState=!0,this.closeCurtains(this.directToMainMenu))},e.prototype.switchToLevelSelect=function(){Constants.stateSwitcher._isSwitchingState||(Constants.stateSwitcher._isSwitchingState=!0,this.closeCurtains(this.directToLevelSelect))},e.prototype.switchToPlay=function(){Constants.stateSwitcher._isSwitchingState||(Constants.stateSwitcher._isSwitchingState=!0,this.closeCurtains(this.directToPlay))},e.prototype.directToPlay=function(){this.game.state.start("Level")},e.prototype.directToLevelSelect=function(){this.game.state.start("LevelSelect")},e.prototype.directToMainMenu=function(){this.game.state.start("MainMenu")},e.prototype.directToAnimation=function(){this.game.state.start("Animation")},e.prototype.closeCurtains=function(e){(e=void 0===e?null:e)!=this.directToPlay&&GameController.HideJoypad(),GameController.LeftCurtain.visible=GameController.RightCurtain.visible=!0,GameController.LeftCurtain.x=GameController.LEFT_CURTAIN_OPEN_X,GameController.RightCurtain.x=GameController.RIGHT_CURTAIN_OPEN_X,SoundManager.getInstance().playSound("BrickWallCloseSound"),TweenMax.to(GameController.LeftCurtain,.5,{x:0,ease:"Quad.easeOut"}),TweenMax.to(GameController.RightCurtain,.5,{x:Constants.WIDTH,onComplete:e,onCompleteContext:this,ease:"Quad.easeOut"})},e.prototype.openCurtains=function(e){TweenMax.delayedCall(e,this.delayBrickWallOpenSound,this),TweenMax.to(GameController.LeftCurtain,.5,{x:GameController.LEFT_CURTAIN_OPEN_X,ease:"Quad.easeIn",delay:e}),TweenMax.to(GameController.RightCurtain,.5,{x:GameController.RIGHT_CURTAIN_OPEN_X,ease:"Quad.easeIn",delay:e,onComplete:this.dispose})},e.prototype.delayBrickWallOpenSound=function(){SoundManager.getInstance().playSound("BrickWallOpenSound")},e.prototype.dispose=function(){GameController.LeftCurtain.visible=GameController.RightCurtain.visible=!1,Constants.stateSwitcher._isSwitchingState=!1},e}(),StorageHelper=function(){function i(e){this.levelsComplete=[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.burgers=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.isIntroAnimationPlayed=!1,this.isFinalAnimationPlayed=!1,this.musicOff=!1,this.soundOff=!1,this.game=e}return i.getInstance=function(e){return i.instance=i.instance?i.instance:new i(e)},i.prototype.init=function(){var t=this;this.game.storage.getItem("sg").then(function(e){null==e?(t.reset(),t.save()):t.restore()})},Object.defineProperty(i.prototype,"levelsCompleteData",{get:function(){return this.levelsComplete},enumerable:!1,configurable:!0}),i.prototype.setlevelsCompleteData=function(e){this.levelsCompleteData[e]=!0,this.save()},Object.defineProperty(i.prototype,"burgersData",{get:function(){return this.burgers},enumerable:!1,configurable:!0}),i.prototype.setBurgersData=function(e){this.burgersData[e]=Constants.bouncer.burgers,this.save()},Object.defineProperty(i.prototype,"isIntroAnimationPlayedData",{get:function(){return this.isIntroAnimationPlayed},set:function(e){this.isIntroAnimationPlayed=e,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isFinalAnimationPlayedData",{get:function(){return this.isFinalAnimationPlayed},set:function(e){this.isFinalAnimationPlayed=e,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"musicOffData",{get:function(){return this.musicOff},set:function(e){this.musicOff=e,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"soundOffData",{get:function(){return this.soundOff},set:function(e){this.soundOff=e,this.save()},enumerable:!1,configurable:!0}),i.prototype.reset=function(){this.levelsComplete=[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.burgers=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.isIntroAnimationPlayed=!1,this.isFinalAnimationPlayed=!1,this.musicOff=!1,this.soundOff=!1},i.prototype.save=function(){var e=JSON.stringify({levelsComplete:this.levelsComplete,burgers:this.burgers,isIntroAnimationPlayed:this.isIntroAnimationPlayed,isFinalAnimationPlayed:this.isFinalAnimationPlayed,musicOff:this.musicOff,soundOff:this.soundOff}),t=this.hash(e);this.game.storage.setItem("sg",e),this.game.storage.setItem("sg-h",t)},i.prototype.restore=function(){var i,n,r=this,e=this.game.storage.getItem("sg"),t=this.game.storage.getItem("sg-h");Promise.all([e,t]).then(function(e){if(i=e[0]||"",n=e[1]||"0",""!==i&&n===r.hash(i)&&i&&""!==i)try{var t=JSON.parse(i);r.levelsComplete=t.levelsComplete,r.burgers=t.burgers,r.isIntroAnimationPlayed=t.isIntroAnimationPlayed,r.isFinalAnimationPlayed=t.isFinalAnimationPlayed,r.musicOff=t.musicOff,r.soundOff=t.soundOff,r.save()}catch(e){}})},i.prototype.hash=function(e){var t,i,n=0;if(0===e.length)return n.toString();for(t=0,i=e.length;t<i;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n.toString()},i.totalPoints=function(){for(var e=0,t=1;t<=Constants.NUMLEVELS;t++)e+=i.getInstance().burgersData[t];return e},i}(),TaskManager=function(){function e(e){void 0===e&&(e=!1),this._tasks=[],this._pauseCount=0,this.isStarted=!1,this.isPaused=!1,this.cycle=e}return Object.defineProperty(e.prototype,"currentTask",{get:function(){return 0<this._tasks.length?this._tasks[0].func:null},enumerable:!1,configurable:!0}),e.prototype.addTask=function(e,t,i,n){this._tasks.push({func:t,params:i=void 0===i?null:i,ignoreCycle:n=void 0===n?!1:n,context:e}),this.start()},e.prototype.addInstantTask=function(e,t,i,n){this._tasks.push({func:t,params:i=void 0===i?null:i,ignoreCycle:n=void 0===n?!1:n,isInstant:!0,context:e}),this.start()},e.prototype.addUrgentTask=function(e,t,i,n){this._tasks.unshift({func:t,params:i=void 0===i?null:i,ignoreCycle:n=void 0===n?!1:n,context:e}),this.start()},e.prototype.addUrgentInstantTask=function(e,t,i,n){this._tasks.unshift({func:t,params:i=void 0===i?null:i,ignoreCycle:n=void 0===n?!1:n,isInstant:!0,context:e}),this.start()},e.prototype.addPause=function(e,t){this.addTask(this,this.timerFrame,[e],t=void 0===t?!1:t)},e.prototype.timerFrame=function(e){this._pauseCount++,this._pauseCount>=e&&(this._pauseCount=0,this.nextTask())},e.prototype.removeAllTasks=function(){this._tasks=new Array},e.prototype.nextTask=function(e){void 0===e&&(e=!1),this.cycle&&!e?this._tasks.push(this._tasks.shift()):this._tasks.shift()},e.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.isPaused=!1)},e.prototype.stop=function(){this.isStarted=!1},e.prototype.update=function(){var e=this._tasks[0];e?(this.result=e.func.call(e.context,e.params),e==this._tasks[0]&&(e.isInstant||this.result)&&this.nextTask(e.ignoreCycle)):stop()},Object.defineProperty(e.prototype,"pause",{get:function(){return this.isPaused},set:function(e){e&&!this.isPaused?this.isPaused=!0:this._tasks[0]&&this.isPaused&&(this.isPaused=!1)},enumerable:!1,configurable:!0}),e.prototype.tasksNum=function(){return this._tasks.length},e.ALL_TASKS_DONE="allTasksDone",e}(),TopPanel=function(){function e(){this.game=PhaserGameHelper.getInstance().game,21==Constants.currentLevel?this._view=new MovieClip("TopPanelBonusGraphics"):this._view=new MovieClip("TopPanelGraphics"),this.game.world.addChild(this._view)}return e.prototype.depressButtons=function(){this._view.getChild("musicButton").changeFrame1(),this._view.getChild("soundButton").changeFrame1(),this._view.getChild("replayButton").changeFrame1(),this._view.getChild("menuButton").changeFrame1()},e.prototype.disableInput=function(){this._view.getChild("musicButton").inputEnabled=!1,this._view.getChild("soundButton").inputEnabled=!1,this._view.getChild("replayButton").inputEnabled=!1,this._view.getChild("menuButton").inputEnabled=!1,TweenMax.delayedCall(.1,this.depressButtons,this)},e.prototype.enableInput=function(){this._view.getChild("musicButton").inputEnabled=!0,this._view.getChild("soundButton").inputEnabled=!0,this._view.getChild("replayButton").inputEnabled=!0,this._view.getChild("menuButton").inputEnabled=!0},e.prototype.init=function(){var e,t,i,n;GameController.Touch()&&(this._view.changeChildByName("musicButton","BigMusicMenuButton","PreloaderObjects",PreloaderObjectsLayouts.data),this._view.changeChildByName("soundButton","BigSoundButtonGraphics","PreloaderObjects",PreloaderObjectsLayouts.data),this._view.changeChildByName("replayButton","BigReplayButtonGraphics","PreloaderObjects",PreloaderObjectsLayouts.data),this._view.changeChildByName("menuButton","BigMenuButtonGraphics","PreloaderObjects",PreloaderObjectsLayouts.data),e=this._view.getChild("musicButton"),t=this._view.getChild("soundButton"),i=this._view.getChild("replayButton"),n=this._view.getChild("menuButton"),e.x=646,e.y=3,t.x=590,t.y=3,i.x=534,i.y=3,n.x=478,n.y=3),21==Constants.currentLevel?(GameController.Touch()&&(e.alpha=.7,t.alpha=.7,i.alpha=.7,n.alpha=.7),this._secondsLeft=45,GameController.Touch()&&(this._secondsLeft=50),this._maxBonusHearts=Constants.levelState.getObjectsByName("burger").length,this.heartsText=this.game.add.text(0,0,"Level "+Constants.currentLevel+":",{font:"24px sc_gum_kidsregular",fill:"#FFFFFF",boundsAlignH:"center",boundsAlignV:"middle"}),this.heartsText.stroke="#4F2E1F",this.heartsText.strokeThickness=4,this.heartsText.setTextBounds(-7,4,105,36),this.heartsText.text="00 / "+String(this._maxBonusHearts),this._view.addChild(this.heartsText),this.timerText1=this.game.add.text(0,0,"Level "+Constants.currentLevel+":",{font:"24px sc_gum_kidsregular",fill:"#FFFF00",boundsAlignH:"right",boundsAlignV:"middle"}),this.timerText1.stroke="#4F2E1F",this.timerText1.strokeThickness=4,this.timerText1.setTextBounds(334,7,60,36),this.timerText1.text="30.",this._view.addChild(this.timerText1),this.timerText2=this.game.add.text(0,0,"Level "+Constants.currentLevel+":",{font:"18px sc_gum_kidsregular",fill:"#FFFF00",boundsAlignH:"left",boundsAlignV:"middle"}),this.timerText2.stroke="#4F2E1F",this.timerText2.strokeThickness=4,this.timerText2.setTextBounds(390,12,48,30),this.timerText2.text="00",this._view.addChild(this.timerText2),this._lastTime=this.game.time.totalElapsedSeconds()):(this._view.getChild("b1").scaleX=this._view.getChild("b1").scaleY=0,this._view.getChild("b2").scaleX=this._view.getChild("b2").scaleY=0,this._view.getChild("b3").scaleX=this._view.getChild("b3").scaleY=0)},e.prototype.tick=function(){var e;21==Constants.currentLevel&&(e=this.game.time.totalElapsedSeconds(),this._secondsLeft-=e-this._lastTime,this._secondsLeft=Math.max(0,this._secondsLeft),this._lastTime=e,this.timerText1.text=String(Math.floor(this._secondsLeft))+".",this.timerText2.text=String(this._secondsLeft-Math.floor(this._secondsLeft)).substr(2,2),0<this._secondsLeft||Constants.levelState.failLevel())},e.prototype.getHeartX=function(){return 21==Constants.currentLevel?31:(0==Constants.bouncer.burgers?this._view.getChild("b1"):1==Constants.bouncer.burgers?this._view.getChild("b2"):this._view.getChild("b3")).x},e.prototype.getHeartY=function(){return 21==Constants.currentLevel?19:this._view.getChild("b1").y},e.prototype.collectBurger=function(e){var t=new MovieClip("BurgerSmallGraphics"),i=(t.x=e.x,t.y=e.y,this._view.addChild(t),TweenMax.to(t,.6,{x:this.getHeartX(),y:this.getHeartY(),rotation:360,onComplete:function(){t&&t.parent&&t.parent.removeChild(t);{var e;21==Constants.currentLevel?((e=String(i)).length<2&&(e="0"+e),Constants.levelState.topPanel.heartsText.text=e+" / "+String(Constants.levelState.topPanel._maxBonusHearts)):(e=Constants.levelState.topPanel._view,1==i?e.getChild("b1").scaleX=e.getChild("b1").scaleY=1:2==i?e.getChild("b2").scaleX=e.getChild("b2").scaleY=1:3==i&&(e.getChild("b3").scaleX=e.getChild("b3").scaleY=1))}}}),Constants.bouncer.burgers++,e.kill=!0,1==Constants.bouncer.burgers?SoundManager.getInstance().playSound("GetHamburger1Sound"):2==Constants.bouncer.burgers?SoundManager.getInstance().playSound("GetHamburger2Sound"):SoundManager.getInstance().playSound("GetHamburger3Sound"),Constants.bouncer.burgers)},e.prototype.dispose=function(){},e}();